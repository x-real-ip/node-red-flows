[
    {
        "id": "747e156c11e4e604",
        "type": "tab",
        "label": "trigger_door_opens_or_closes",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "24d64ac8238cc218",
        "type": "tab",
        "label": "trigger_shelly_click_events",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "e44f5d834fa24670",
        "type": "tab",
        "label": "trigger_mobile_event_listner_guest_mode_on",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "7a63032b7cac43cf",
        "type": "tab",
        "label": "trigger_doorbell_pressed",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "960ed9c324a9682d",
        "type": "tab",
        "label": "trigger_home_unoccupied",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "12beaeea5e53e349",
        "type": "tab",
        "label": "trigger_home_occupied",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "d9b05fe971d5c1b1",
        "type": "tab",
        "label": "trigger_calendar_babysitter",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "8b9f28f75c6a8cea",
        "type": "tab",
        "label": "trigger_backdoor_open_or_close",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "e846a5a705a12fe6",
        "type": "tab",
        "label": "trigger_backyard_camera_person_detection",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "1adcdebcdc8e5c39",
        "type": "tab",
        "label": "automation_climate_graph_input_select_all",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "a7a34028d045deee",
        "type": "tab",
        "label": "notification_action_turn_on_guest_mode",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "d7c35c04cc0c5b68",
        "type": "tab",
        "label": "automation_high_voltage",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "2a2d89771193fb8b",
        "type": "tab",
        "label": "automation_location_request",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "4e909abe.0b62e4",
        "type": "tab",
        "label": "automation_mechanical_ventilation_basement",
        "disabled": false,
        "info": ""
    },
    {
        "id": "b4963274903ed2a9",
        "type": "tab",
        "label": "automation_mechanical_ventilation_bathroom",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "3d30857f5165e137",
        "type": "tab",
        "label": "automation_mechanical_ventilation_toilet",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "e98ae3c9db1bd6c3",
        "type": "tab",
        "label": "automation_vacation_mode",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "71f3d7905a503d5c",
        "type": "tab",
        "label": "automation_barn_light_motion",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "55da1471.fda0fc",
        "type": "tab",
        "label": "automation_vacuum_cleaner",
        "disabled": false,
        "info": ""
    },
    {
        "id": "29a2e1dd05ecbf80",
        "type": "tab",
        "label": "automation_vacuum_room_cleaning",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "03ed0365a1543556",
        "type": "tab",
        "label": "automation_wall_tablet_charge",
        "disabled": true,
        "info": "",
        "env": []
    },
    {
        "id": "9f9f94838a3fcd77",
        "type": "tab",
        "label": "automation_wall_tablet_display",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "39bdcb9ed819fc87",
        "type": "tab",
        "label": "automation_weather_code_translation",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "53a5f07742283c4c",
        "type": "tab",
        "label": "entertainment_spotify_api",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "584b31926baad02b",
        "type": "tab",
        "label": "entertainment_spotify_api_token",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "a4fbdd1c0456c1af",
        "type": "tab",
        "label": "entertainment_tv_device_buttonpress",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "67a16d037f1a73fc",
        "type": "tab",
        "label": "entertainment_tv_device_sensor",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "39f5e6336137f4b2",
        "type": "tab",
        "label": "entertainment_tvscreen_auto_turn_on-off",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "2c496b90815e2d15",
        "type": "tab",
        "label": "entertainment_tvscreen_device_buttonpress",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "b1c954404ea39706",
        "type": "tab",
        "label": "entertainment_tvscreen_device_sensor",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "4b48188ca7b303d7",
        "type": "tab",
        "label": "light_dynamics_backyard",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "2863cbc8bee70856",
        "type": "tab",
        "label": "light_dynamics_basement",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "3c0c3dbf7e0deda4",
        "type": "tab",
        "label": "light_dynamics_cv_closet_light",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "8ca9fd35c2a2b1c4",
        "type": "tab",
        "label": "light_dynamics_hallway",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "9a7094e42d673dc4",
        "type": "tab",
        "label": "light_dynamics_on_and_restore",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "b1a9214c.4c71c",
        "type": "tab",
        "label": "notification_basement_window",
        "disabled": false,
        "info": ""
    },
    {
        "id": "65351372f52f2e2d",
        "type": "tab",
        "label": "notification_doorbell",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "72f3a564e626ff9a",
        "type": "tab",
        "label": "notification_garbage_collection",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "98a989e.d6bca78",
        "type": "tab",
        "label": "notification_gas_consumption",
        "disabled": false,
        "info": ""
    },
    {
        "id": "42b354a7f0284779",
        "type": "tab",
        "label": "notification_inverter",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "b4aa7b8dbc1c80dc",
        "type": "tab",
        "label": "notification_knmi",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "343515a5528e14f0",
        "type": "tab",
        "label": "notification_main",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "d5421f8d.f7208",
        "type": "tab",
        "label": "notification_open_windows_firstfloor_house_cooling_down",
        "disabled": false,
        "info": ""
    },
    {
        "id": "75537afd17de5117",
        "type": "tab",
        "label": "notification_picnic",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "535c98d1d92579b6",
        "type": "tab",
        "label": "notification_sensors",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "1dfb7e055134adc8",
        "type": "tab",
        "label": "notification_sensors_count",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "b1b994b3d43d6aad",
        "type": "tab",
        "label": "notification_stookalert",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "a8d8484165225699",
        "type": "tab",
        "label": "notification_update_entity",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "8d2de69b4c0fd2b9",
        "type": "tab",
        "label": "notification_vacuum",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "ce5dca27239daba8",
        "type": "tab",
        "label": "notification_vacuum_s55_low_battery",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "1a02f7122bccea54",
        "type": "tab",
        "label": "notification_vacuum_s6_low_battery",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "7186425fdfc90c19",
        "type": "tab",
        "label": "notification_water_consumption",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "3087db0b32ceb4d4",
        "type": "tab",
        "label": "scene_dark_outside",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "c0da8379.b0dd3",
        "type": "tab",
        "label": "scene_home_entering",
        "disabled": false,
        "info": ""
    },
    {
        "id": "8aa6edec.5a013",
        "type": "tab",
        "label": "scene_home_leaving",
        "disabled": false,
        "info": ""
    },
    {
        "id": "e0e34b3e49b36c0e",
        "type": "tab",
        "label": "scene_light_outside",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "6af65daafa363be0",
        "type": "tab",
        "label": "scene_morning_time",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "eb1939ba1b7e9b73",
        "type": "tab",
        "label": "scene_off_mode",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "f180ab88.925788",
        "type": "tab",
        "label": "scene_shelly_i3",
        "disabled": false,
        "info": ""
    },
    {
        "id": "e4381ced98d2a929",
        "type": "tab",
        "label": "scene_sleepmode",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "645478ab1138fd33",
        "type": "tab",
        "label": "security_backyard",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "b13ca13c.9328e",
        "type": "tab",
        "label": "security_house",
        "disabled": false,
        "info": ""
    },
    {
        "id": "2fdf3d9bec5f1748",
        "type": "tab",
        "label": "security_kitchen",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "cde79c08.e4f488",
        "type": "tab",
        "label": "security_smoke_co",
        "disabled": false,
        "info": ""
    },
    {
        "id": "b30206160f4c3c3b",
        "type": "tab",
        "label": "sensor_backyard_entrance_person_detected",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "2437e768.8e34d8",
        "type": "tab",
        "label": "sensor_dishwasher",
        "disabled": false,
        "info": ""
    },
    {
        "id": "46d98b35c2eee05b",
        "type": "tab",
        "label": "sensor_energy_custom",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "99c1372046e45da7",
        "type": "tab",
        "label": "sensor_energy_solar_record.",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "4dd07a1d.6e53e4",
        "type": "tab",
        "label": "sensor_light_dark_outside",
        "disabled": false,
        "info": ""
    },
    {
        "id": "72ef82b8.9d086c",
        "type": "tab",
        "label": "sensor_thumble_dryer",
        "disabled": false,
        "info": ""
    },
    {
        "id": "c23003c7.1c978",
        "type": "tab",
        "label": "sensor_washing_machine",
        "disabled": false,
        "info": ""
    },
    {
        "id": "51ad1e79edd47f04",
        "type": "tab",
        "label": "sensor_weather_descriptions",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "4a94729fe3d3c081",
        "type": "tab",
        "label": "sensor_energy_returned_watts",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "5c92a1135257c28d",
        "type": "tab",
        "label": "notification_doors_open_nobody_home",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "fd9cd80f14f860fe",
        "type": "tab",
        "label": "entertainment_activity",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "fb7b362cbc47e439",
        "type": "tab",
        "label": "notification_backyard_person_detection",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "f5e87f41e348afa5",
        "type": "tab",
        "label": "scene_turn_on_guest_mode",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "75dcbba8aec48c92",
        "type": "tab",
        "label": "scene_turn_on_doorbell_chime",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "a498f22679d943d0",
        "type": "tab",
        "label": "scene_pause_tv_media_player",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "3637eeb0.d96232",
        "type": "tab",
        "label": "scene_turn_on_light_frontdoor_for_5_minutes",
        "disabled": false,
        "info": ""
    },
    {
        "id": "d9b921e9fd746ad1",
        "type": "tab",
        "label": "scene_send_vacuum_to_trash_bin",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "67a1c55d.b4b94c",
        "type": "subflow",
        "name": "christmas_tree_lights_on",
        "info": "",
        "category": "",
        "in": [
            {
                "x": 40,
                "y": 160,
                "wires": [
                    {
                        "id": "acbe7857.d6ebf8"
                    }
                ]
            }
        ],
        "out": [
            {
                "x": 620,
                "y": 160,
                "wires": [
                    {
                        "id": "ee31ef8.f2bc11",
                        "port": 0
                    }
                ]
            }
        ],
        "env": [],
        "color": "#DDAA99"
    },
    {
        "id": "ae97b8c4.cadf68",
        "type": "subflow",
        "name": "mechanical ventilation position 0",
        "info": "",
        "category": "",
        "in": [
            {
                "x": 60,
                "y": 160,
                "wires": [
                    {
                        "id": "6ee42911.2e8038"
                    },
                    {
                        "id": "88d9501e.62d3f"
                    },
                    {
                        "id": "dc46b98b.357d48"
                    },
                    {
                        "id": "503f2e1f.52099"
                    },
                    {
                        "id": "548afe85.bb99b"
                    }
                ]
            }
        ],
        "out": [
            {
                "x": 540,
                "y": 400,
                "wires": [
                    {
                        "id": "a25d7a80.b14218",
                        "port": 0
                    }
                ]
            }
        ],
        "env": [],
        "color": "#DDAA99"
    },
    {
        "id": "db575387.da1ff",
        "type": "subflow",
        "name": "mechanical ventilation position 1",
        "info": "",
        "category": "",
        "in": [
            {
                "x": 60,
                "y": 160,
                "wires": [
                    {
                        "id": "7d39d435.8e108c"
                    },
                    {
                        "id": "22d68758.286778"
                    },
                    {
                        "id": "f9710a73.bad7a8"
                    },
                    {
                        "id": "9ecd488b.368338"
                    },
                    {
                        "id": "8b040be5.93ed48"
                    }
                ]
            }
        ],
        "out": [
            {
                "x": 540,
                "y": 400,
                "wires": [
                    {
                        "id": "8668dce7.57953",
                        "port": 0
                    }
                ]
            }
        ],
        "env": [],
        "color": "#DDAA99"
    },
    {
        "id": "279f5735.2f95d8",
        "type": "subflow",
        "name": "mechanical ventilation position 2",
        "info": "",
        "category": "",
        "in": [
            {
                "x": 60,
                "y": 160,
                "wires": [
                    {
                        "id": "8a9d5b61.87e578"
                    },
                    {
                        "id": "87d1779f.504ce8"
                    },
                    {
                        "id": "f2672c4e.79f33"
                    },
                    {
                        "id": "c8732b7b.c22168"
                    },
                    {
                        "id": "208c6617.a5188a"
                    }
                ]
            }
        ],
        "out": [
            {
                "x": 540,
                "y": 400,
                "wires": [
                    {
                        "id": "181e942.589516c",
                        "port": 0
                    }
                ]
            }
        ],
        "env": [],
        "color": "#DDAA99"
    },
    {
        "id": "7d5d30e3.483af",
        "type": "subflow",
        "name": "mechanical ventilation position 3",
        "info": "",
        "category": "",
        "in": [
            {
                "x": 60,
                "y": 160,
                "wires": [
                    {
                        "id": "54b5ba76.827954"
                    },
                    {
                        "id": "ff1ccbdb.9906b8"
                    },
                    {
                        "id": "76af25f8.0585fc"
                    },
                    {
                        "id": "18f13f23.6c3a51"
                    },
                    {
                        "id": "30d47f9.e06228"
                    }
                ]
            }
        ],
        "out": [
            {
                "x": 540,
                "y": 400,
                "wires": [
                    {
                        "id": "16dea36a.4cb2cd",
                        "port": 0
                    }
                ]
            }
        ],
        "env": [],
        "color": "#DDAA99"
    },
    {
        "id": "37ce07449a33a2f1",
        "type": "group",
        "z": "1adcdebcdc8e5c39",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "1216fc8eb38d5547",
            "344cbd55957359b6",
            "3bb7516008d0f0ca",
            "0b536f63e5d6404e"
        ],
        "x": 14,
        "y": 39,
        "w": 502,
        "h": 82
    },
    {
        "id": "6cb0ed1df40f98e6",
        "type": "group",
        "z": "3637eeb0.d96232",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "f0797db4a3658338",
            "e45eced2a30f126b",
            "b678056d1b96f637",
            "a42a1f5ee71e92aa"
        ],
        "x": 14,
        "y": 39,
        "w": 502,
        "h": 82
    },
    {
        "id": "b7026e569408bfbd",
        "type": "group",
        "z": "a7a34028d045deee",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "bed74da982aa647e",
            "3749b4ab1a0ba7cf",
            "6c4b4ca33c32a0f7",
            "cd802d99b317e8c3"
        ],
        "x": 14,
        "y": 39,
        "w": 502,
        "h": 82
    },
    {
        "id": "022e7feb1e4ea3ae",
        "type": "group",
        "z": "a7a34028d045deee",
        "name": "notify two actions",
        "style": {
            "label": true
        },
        "nodes": [
            "3564790484706ae2",
            "d5d46cfd65fffc12",
            "ba0bdc1db6e4e011",
            "a3cf07381c3dba65",
            "f7038caa7a76e6f3",
            "88a668a5509178e0",
            "b2e6817cd694ba28"
        ],
        "x": 1254,
        "y": 139,
        "w": 442,
        "h": 202
    },
    {
        "id": "27c66ddd50cff09f",
        "type": "group",
        "z": "d7c35c04cc0c5b68",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "703a26205c7cc495",
            "c4db1edb6aab0c6b",
            "6f92ae57f8e67eb2",
            "3212dd4ba71a225b"
        ],
        "x": 14,
        "y": 39,
        "w": 502,
        "h": 82
    },
    {
        "id": "f7435f5ad02d3f79",
        "type": "group",
        "z": "4e909abe.0b62e4",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "e231947e3513d81f",
            "e4c83565e32c77fc",
            "0556160e41cbd509",
            "f9b4b865266e96f0"
        ],
        "x": 14,
        "y": 39,
        "w": 502,
        "h": 82
    },
    {
        "id": "0a1a2a6df765a339",
        "type": "group",
        "z": "4e909abe.0b62e4",
        "name": "notify",
        "style": {
            "label": true
        },
        "nodes": [
            "febf6f9eab6e868d",
            "6502d163268904d4",
            "ac04035c1896218b",
            "a1c0156c06d58e91",
            "d6d0b5735ad8f20a",
            "399184be7531eb78",
            "67db220bfc8a732a",
            "71e07fd77d2a4430"
        ],
        "x": 1894,
        "y": 599,
        "w": 462,
        "h": 242
    },
    {
        "id": "70b9d3433e540010",
        "type": "group",
        "z": "b4963274903ed2a9",
        "name": "notify",
        "style": {
            "label": true
        },
        "nodes": [
            "40cce72d78ddf2ba",
            "ddcda02e8d44e679",
            "017eba9ce6de6486",
            "c6f3f4b2b46ffb4e",
            "976de9be5916cb4b",
            "b36f1d0dfd83653c",
            "01112a435413374c",
            "728c75b797b416a5"
        ],
        "x": 1854,
        "y": 139,
        "w": 422,
        "h": 242
    },
    {
        "id": "bd6a21379a46d377",
        "type": "group",
        "z": "e98ae3c9db1bd6c3",
        "name": "notify two actions",
        "style": {
            "label": true
        },
        "nodes": [
            "994e86eeb88c5f08",
            "65114fbadc1625ff",
            "b53dc3ab1408794a",
            "dc2683f08bbcdd2e",
            "36246e33e6162b5a",
            "c6805d02b9eb3b45",
            "e3fe28933ad4f9bd"
        ],
        "x": 674,
        "y": 139,
        "w": 442,
        "h": 202
    },
    {
        "id": "faf17088fd1a6b16",
        "type": "group",
        "z": "55da1471.fda0fc",
        "name": "notify",
        "style": {
            "label": true
        },
        "nodes": [
            "c8bc013c45f3ae72",
            "035b931bd0cea26e",
            "57488cc36dcd2d00",
            "051f31139e799468",
            "07d3b997feaf3f7b",
            "8205d58f610c05d0"
        ],
        "x": 1834,
        "y": 779,
        "w": 472,
        "h": 162
    },
    {
        "id": "deb17c414e79ec63",
        "type": "group",
        "z": "55da1471.fda0fc",
        "name": "notify",
        "style": {
            "label": true
        },
        "nodes": [
            "f60ecb3be0ebc2af",
            "dec04d7f3b819fb2",
            "c5f04c8242157305",
            "ba409d3499824364",
            "60b0a5eab5b0a9d6",
            "0fa8b59e2735c07d"
        ],
        "x": 1834,
        "y": 379,
        "w": 472,
        "h": 162
    },
    {
        "id": "33fea7faee8e1f82",
        "type": "group",
        "z": "55da1471.fda0fc",
        "name": "notify two actions",
        "style": {
            "label": true
        },
        "nodes": [
            "8f3e39fd9d879f86",
            "d5ae8df68946471a",
            "d7f92782a71d3837",
            "b5cc0d26cf3e7ab2",
            "237a19020921825d",
            "09d4cdb039e852de",
            "0e83125ead481334"
        ],
        "x": 1834,
        "y": 559,
        "w": 472,
        "h": 202
    },
    {
        "id": "959cc8d22399a3c9",
        "type": "group",
        "z": "39bdcb9ed819fc87",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "259d9bad9d37b072",
            "ab5ff3a4a505c122",
            "008e4e3d5eb1c73a",
            "d4d19ad1bc94c25a"
        ],
        "x": 14,
        "y": 39,
        "w": 502,
        "h": 82
    },
    {
        "id": "03c1d7472447f924",
        "type": "group",
        "z": "39f5e6336137f4b2",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "32e0cbcd73142f33",
            "5c1d97fa3277b1c6",
            "1514f8777e4c8211",
            "5fc11e4e29f3d02f"
        ],
        "x": 14,
        "y": 39,
        "w": 502,
        "h": 82
    },
    {
        "id": "56142a1519568ef8",
        "type": "group",
        "z": "2c496b90815e2d15",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "b6bfca82eda04627",
            "a095e55bdff6b447",
            "ddf56ac7c76174e3",
            "5bb7a42d4f9af661"
        ],
        "x": 14,
        "y": 39,
        "w": 502,
        "h": 82
    },
    {
        "id": "50d4aab3fb8401c4",
        "type": "group",
        "z": "b1c954404ea39706",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "cf20999f86ef9f29",
            "96744f1f4c81f4f5",
            "85efbfe86edb2e91",
            "384856183bc9a3dc"
        ],
        "x": 14,
        "y": 39,
        "w": 502,
        "h": 82
    },
    {
        "id": "6b44c062cbc05f0a",
        "type": "group",
        "z": "b1a9214c.4c71c",
        "name": "notify",
        "style": {
            "label": true
        },
        "nodes": [
            "db7934b4b14446da",
            "232a01493b9307b0",
            "73e546f49b2e02e1",
            "11d068d3ad86d2dd",
            "97afb37521efba77",
            "a22e2a028512634f"
        ],
        "x": 1734,
        "y": 199,
        "w": 412,
        "h": 162
    },
    {
        "id": "dbf117e9be1363d0",
        "type": "group",
        "z": "65351372f52f2e2d",
        "name": "notify",
        "style": {
            "label": true
        },
        "nodes": [
            "4fcc37584fdaacfc",
            "f62f4165d866a393",
            "f118397ef51d377e",
            "f46aad79d4615dbf",
            "ca3c70923fa7cd35",
            "96104ca744a9942d",
            "187e38cbc867548d"
        ],
        "x": 1614,
        "y": 379,
        "w": 412,
        "h": 202
    },
    {
        "id": "f259c1d245c5a0a4",
        "type": "group",
        "z": "65351372f52f2e2d",
        "name": "notify",
        "style": {
            "label": true
        },
        "nodes": [
            "41bff044d8ff0723",
            "8d49d5b0a77fe3fa",
            "e188c5d43cc22d55",
            "cfbc58f0de8fb24f",
            "685ac1f9d97aa2a9",
            "f6739c6be49dd463",
            "887d3f0b3fca1ef1"
        ],
        "x": 1614,
        "y": 159,
        "w": 412,
        "h": 202
    },
    {
        "id": "a36a86d8bb45f3d4",
        "type": "group",
        "z": "65351372f52f2e2d",
        "name": "notify tts",
        "style": {
            "label": true
        },
        "nodes": [
            "96c864b13b1ed44d",
            "6a5f068bc90a5bea",
            "7528bd2fef1d9090",
            "4cab768ec3304d77",
            "7bb3b10a5f621765",
            "504241c3de9c1592",
            "dfc54bd82a16e190"
        ],
        "x": 1614,
        "y": 599,
        "w": 412,
        "h": 202
    },
    {
        "id": "3b89d483d3628b14",
        "type": "group",
        "z": "72f3a564e626ff9a",
        "name": "notify two actions",
        "style": {
            "label": true
        },
        "nodes": [
            "3a3b8fdb9d6f4ab0",
            "dcc306682fd0ffa8",
            "0af5a06e405527e9",
            "d0d3f913b8c035f3",
            "b1b1be8e46f91cca",
            "dd3030c9ae0f7a07",
            "46d50645e39da463",
            "ebcb50cdabc72f91"
        ],
        "x": 1154,
        "y": 239,
        "w": 442,
        "h": 242
    },
    {
        "id": "7b3e33afc7e5d51f",
        "type": "group",
        "z": "98a989e.d6bca78",
        "name": "notify",
        "style": {
            "label": true
        },
        "nodes": [
            "253b2fc1dbf20ad4",
            "bdce8718917c4dcb",
            "b9f5925e88c3b14b",
            "5db5047bb3f69eb7",
            "4fc08434e069652b",
            "496caddb.5ba724",
            "fdc4c2eef34c0a15"
        ],
        "x": 854,
        "y": 179,
        "w": 452,
        "h": 202
    },
    {
        "id": "392300741f68f312",
        "type": "group",
        "z": "42b354a7f0284779",
        "name": "notify",
        "style": {
            "label": true
        },
        "nodes": [
            "59327076bed18754",
            "c6941b34f3402196",
            "17c484a9c9a917ac",
            "4dd6478ac62b8c2f",
            "9b93ac7b58399751",
            "cdbb5b48e71b5866"
        ],
        "x": 1294,
        "y": 239,
        "w": 452,
        "h": 162
    },
    {
        "id": "a438a5fafa2b7f02",
        "type": "group",
        "z": "343515a5528e14f0",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "42073f55aa389f5d",
            "f095a3312890d656",
            "ce9dcc40d72369f4",
            "8cc9f9d0eb2ee196"
        ],
        "x": 14,
        "y": 39,
        "w": 502,
        "h": 82
    },
    {
        "id": "f236f0a913f70054",
        "type": "group",
        "z": "d5421f8d.f7208",
        "name": "notify",
        "style": {
            "label": true
        },
        "nodes": [
            "0db5f8033b5c9adf",
            "4b276bf7ef0c3217",
            "ef18c5c2564a7e77",
            "6858101eee61155a",
            "eaec84df6f30a9ec",
            "1414f6788bc8c787"
        ],
        "x": 1274,
        "y": 119,
        "w": 452,
        "h": 162
    },
    {
        "id": "ef69ec82c772cad9",
        "type": "group",
        "z": "75537afd17de5117",
        "name": "notify",
        "style": {
            "label": true
        },
        "nodes": [
            "644d8e4f0164cfb2",
            "4b6f2391d1d4dfb7",
            "c32738f7b2c8ece5",
            "64fb1dffb9145f24",
            "5cb88a741e06d0c9",
            "56e8236b1fb323bc"
        ],
        "x": 1694,
        "y": 419,
        "w": 402,
        "h": 162
    },
    {
        "id": "9d6561fb99238a4d",
        "type": "group",
        "z": "b1b994b3d43d6aad",
        "name": "notify",
        "style": {
            "label": true
        },
        "nodes": [
            "5273660ff2a42a63",
            "194df75621104155",
            "c6bc1abd0ea4d3e7",
            "6cdaa7e9c55994da",
            "a087dd5873c41eaf",
            "48b102061eef4776",
            "ad8e3a3f408efd86"
        ],
        "x": 1154,
        "y": 219,
        "w": 452,
        "h": 202
    },
    {
        "id": "537179d37e7389e5",
        "type": "group",
        "z": "a8d8484165225699",
        "name": "notify",
        "style": {
            "label": true
        },
        "nodes": [
            "2e707984219ae3a9",
            "e142bb411f990e05",
            "58ce3486fc8107bd",
            "deeacc0728909577",
            "f55e9b8b5462e4d2",
            "daef6aa88b93b329",
            "e16a49a555dc3139"
        ],
        "x": 1194,
        "y": 239,
        "w": 452,
        "h": 202
    },
    {
        "id": "bb1cc6878bf6f696",
        "type": "group",
        "z": "8d2de69b4c0fd2b9",
        "name": "notify",
        "style": {
            "label": true
        },
        "nodes": [
            "db50c5b6f4f302b4",
            "c0d0c36d39f527e2",
            "372e878f27b4b2b2",
            "344ad3f982a92730",
            "ece5442438bb7aa1",
            "b560dfc6f3c2aec1"
        ],
        "x": 1294,
        "y": 159,
        "w": 472,
        "h": 162
    },
    {
        "id": "b4f3f9f25b585f85",
        "type": "group",
        "z": "ce5dca27239daba8",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "2e9dbc5a5fc615fc",
            "b437f9f1e8b5ebf7",
            "f9b220def47837e4",
            "2a1761aff5d63d7a"
        ],
        "x": 14,
        "y": 39,
        "w": 502,
        "h": 82
    },
    {
        "id": "751efbb5afdedf48",
        "type": "group",
        "z": "1a02f7122bccea54",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "70c953492b9eb40c",
            "505a577898a56012",
            "17e4e7721adc09a1",
            "fec97058470f8f5e"
        ],
        "x": 14,
        "y": 39,
        "w": 502,
        "h": 82
    },
    {
        "id": "3bd669c9a971e4a2",
        "type": "group",
        "z": "7186425fdfc90c19",
        "name": "notify",
        "style": {
            "label": true
        },
        "nodes": [
            "8ee8100ab8bdc7e6",
            "90b19d7c300c5383",
            "4369851a7e1e9308",
            "80393a5cbd64c280",
            "159c508f956eb430",
            "76b2b2fcd5922030",
            "44cfcac399640661"
        ],
        "x": 994,
        "y": 139,
        "w": 452,
        "h": 202
    },
    {
        "id": "47af9932f18884cc",
        "type": "group",
        "z": "c0da8379.b0dd3",
        "name": "notify",
        "style": {
            "label": true
        },
        "nodes": [
            "4d43c0c59596c396",
            "7063678cde99b775",
            "5e72b91e3ad4066d",
            "52f21d3060c57706",
            "71156279d6ca8920"
        ],
        "x": 1954,
        "y": 319,
        "w": 412,
        "h": 162
    },
    {
        "id": "983d668963ae42e9",
        "type": "group",
        "z": "8aa6edec.5a013",
        "name": "notify",
        "style": {
            "label": true
        },
        "nodes": [
            "d2800bc161fa3196",
            "fbc0aa717b3e43c7",
            "9cbf9ef4fcbbe61e",
            "8d1a89d3e903f2bc",
            "37841e86c6ea5231"
        ],
        "x": 1754,
        "y": 579,
        "w": 392,
        "h": 122
    },
    {
        "id": "9c946ef945c199e5",
        "type": "group",
        "z": "8aa6edec.5a013",
        "name": "notify",
        "style": {
            "label": true
        },
        "nodes": [
            "60a9200995b666e2",
            "254201c717321a67",
            "37c73ac2e71d9a61",
            "f7c20be07a75c04e",
            "662879feb30cc5fa"
        ],
        "x": 1754,
        "y": 159,
        "w": 412,
        "h": 162
    },
    {
        "id": "14187342a7b09482",
        "type": "group",
        "z": "8aa6edec.5a013",
        "name": "notify",
        "style": {
            "label": true
        },
        "nodes": [
            "19cfd22b49a2e356",
            "8aa74b4cb48558f8",
            "3bdaf73ce37b7397",
            "d512fe1ba0adbf42",
            "83e460c17170065f",
            "1b8772493fd3aa94",
            "c8db6380b138fd4e"
        ],
        "x": 1754,
        "y": 359,
        "w": 412,
        "h": 202
    },
    {
        "id": "725af18957967e99",
        "type": "group",
        "z": "eb1939ba1b7e9b73",
        "name": "notify",
        "style": {
            "label": true
        },
        "nodes": [
            "72ef2fc0d180fcea",
            "343f37d7fe9484fd",
            "30a8a878728a6a2b",
            "8a1366db3f33e113",
            "0fd94c312d822e91"
        ],
        "x": 1094,
        "y": 299,
        "w": 392,
        "h": 122
    },
    {
        "id": "12e8b8acaeaeb3fa",
        "type": "group",
        "z": "e4381ced98d2a929",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "c20492a470484001",
            "5d3c3503fee346db",
            "c527f80ad015aec2",
            "dbd19cce541f73bc",
            "0ccbc5bbe180df8e",
            "1583a7af300c58e0",
            "6f6fc24f15222254",
            "9c4864f0ca0d2d96",
            "c49e5bd8f93bd496",
            "d1324fbb34721b63",
            "3dd82a4a5a5f543f",
            "2db276d509393d03",
            "cdc4fcc574f8d36a",
            "269da6e81145bb4b",
            "47f54cec68e78d0a",
            "a0bb528ecdb6c5fe",
            "aab38cb48d0dd6a2",
            "7804abbba8a75b19",
            "bd90d247a95feb9d",
            "a1aa1dc96a54a58d",
            "3a5ac0b1670fd20b",
            "29aa2542eb146ebc",
            "15feab4d9dbd9466",
            "a6f1e7fa85069234",
            "32fb1b9bd5a1bd08",
            "7d9091cf95ea29fe",
            "06036de6a31877d8",
            "7fe4b7424297ac0b",
            "e0259adb4a945229",
            "38276d0327ca72c0",
            "2d21e3e6cf54e587",
            "535a687f3b588b38",
            "2af51e589fccfb49",
            "844fcee77f57f5de",
            "c5e53f10fcec2a55",
            "17d6d6ba47815c69",
            "2f3981a6369226a2"
        ],
        "x": 514,
        "y": 159,
        "w": 1432,
        "h": 962
    },
    {
        "id": "1fb2b225cc711d77",
        "type": "group",
        "z": "e4381ced98d2a929",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "ec72f7b2db4cc37c",
            "764ff273496b0193",
            "ab4badbb40ac3f96",
            "28d474865ab8bbeb",
            "3392b339fb5fe297",
            "3fd3c31faf84dc25",
            "f69361468483265d"
        ],
        "x": 514,
        "y": 1299,
        "w": 692,
        "h": 202
    },
    {
        "id": "13b1135f0e749c31",
        "type": "group",
        "z": "e4381ced98d2a929",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "f9ccc0bad1f19231",
            "8ee38710dd301911"
        ],
        "x": 514,
        "y": 1159,
        "w": 532,
        "h": 82
    },
    {
        "id": "f2952a0e7861984f",
        "type": "group",
        "z": "645478ab1138fd33",
        "name": "notify",
        "style": {
            "label": true
        },
        "nodes": [
            "2e62b582b5ace0b2",
            "6011ff5a330d5f46",
            "b151676bc37a1e90",
            "be68c8baf380f74e",
            "dfebcb371c6d37c4",
            "b41a40c1e135e55c",
            "ed20a5d29a5eb136",
            "29504140078fb34c"
        ],
        "x": 794,
        "y": 159,
        "w": 422,
        "h": 242
    },
    {
        "id": "37c7c59a61d38b32",
        "type": "group",
        "z": "b13ca13c.9328e",
        "name": "notify two actions",
        "style": {
            "label": true
        },
        "nodes": [
            "16bf3029dc11f50b",
            "8bd6ce7359e6fe2f",
            "48cae6c1e3fb0c75",
            "1c8dfa7ab499ce29",
            "3ad564319a62aa0f",
            "3f7e2f446cdb3e90",
            "66e66f9f5828f878",
            "5922c1dac60ed4ec"
        ],
        "x": 1734,
        "y": 239,
        "w": 422,
        "h": 242
    },
    {
        "id": "1b05fecd5ed3289b",
        "type": "group",
        "z": "b13ca13c.9328e",
        "name": "notify",
        "style": {
            "label": true
        },
        "nodes": [
            "dab28de38f3a6629",
            "ab8c69e6298f0ad4",
            "ac254d4235d71700",
            "47c9e5d66b827b3c",
            "3a0c4f886a8c4e54",
            "52d10ab03d478bae",
            "322d16b061f4e108"
        ],
        "x": 1734,
        "y": 499,
        "w": 422,
        "h": 202
    },
    {
        "id": "0490826048e616a0",
        "type": "group",
        "z": "2fdf3d9bec5f1748",
        "name": "notify",
        "style": {
            "label": true
        },
        "nodes": [
            "6e679db82914212d",
            "28d7678ffbc9ea54",
            "f513a1a6c1ad56d9",
            "509313ec35867636",
            "2137fd353b4905ee",
            "335c7c4596657191",
            "dedcddec2131fd4e",
            "e986602efbf956a6"
        ],
        "x": 1174,
        "y": 159,
        "w": 422,
        "h": 242
    },
    {
        "id": "60a8ffbec987c377",
        "type": "group",
        "z": "cde79c08.e4f488",
        "name": "notify",
        "style": {
            "label": true
        },
        "nodes": [
            "af6a4d51c1e99b4e",
            "8bda876328e49e67",
            "fdba7cd037a9da5a",
            "9a02e08c1760e584",
            "ef17b4eb0dc0871b",
            "c7b88c5f533c105b",
            "8ca7529cee95086c"
        ],
        "x": 814,
        "y": 239,
        "w": 432,
        "h": 202
    },
    {
        "id": "b81d6a2bc88d5cab",
        "type": "group",
        "z": "2437e768.8e34d8",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "b921556ff12ab156",
            "1f556a76d7e6f50a",
            "5173344f2bf9202f",
            "5da220473ea9a36e"
        ],
        "x": 14,
        "y": 39,
        "w": 502,
        "h": 82
    },
    {
        "id": "3bf0bc8959f8a48e",
        "type": "group",
        "z": "2437e768.8e34d8",
        "name": "notify",
        "style": {
            "label": true
        },
        "nodes": [
            "71f13b6b1744cf6b",
            "64614e79bcb09872",
            "2a35d2abfb0850da",
            "2c0a57bd6ee87009",
            "08bca5ce6d389d48",
            "ec34cd6ea57b0b7f",
            "80b3c96f004d6f8b"
        ],
        "x": 1234,
        "y": 139,
        "w": 472,
        "h": 202
    },
    {
        "id": "b268fa78a872617d",
        "type": "group",
        "z": "99c1372046e45da7",
        "name": "notify",
        "style": {
            "label": true
        },
        "nodes": [
            "148de36202032274",
            "5a8f575633614c07",
            "781d3a645a5e3130",
            "8c93b438701888a6",
            "7b9d796ac83c32bf",
            "9655b1065753069f",
            "451f25b73596ddf8"
        ],
        "x": 1354,
        "y": 239,
        "w": 412,
        "h": 202
    },
    {
        "id": "a51faa8090a268f4",
        "type": "group",
        "z": "99c1372046e45da7",
        "name": "notification_sensors",
        "style": {
            "label": true
        },
        "nodes": [
            "59d4d6719e262bbb",
            "e8714993e53c2d5e",
            "0561341e4ea54205",
            "29ad6bfc437abec2",
            "afc68deb5ab5e4be"
        ],
        "x": 1354,
        "y": 459,
        "w": 872,
        "h": 82
    },
    {
        "id": "cf9f14c80d528160",
        "type": "group",
        "z": "4dd07a1d.6e53e4",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "04c29ec7a7bb3e19",
            "351e6909c12b36ab",
            "6031ed8d02da2add",
            "f0e25a858eae0278"
        ],
        "x": 14,
        "y": 39,
        "w": 502,
        "h": 82
    },
    {
        "id": "48945dbb970d3465",
        "type": "group",
        "z": "72ef82b8.9d086c",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "95a0ca31cb9f81d2",
            "d6fdd4c4271165e1",
            "a88aa9f85b115b03",
            "2eb8824d45a66c4f"
        ],
        "x": 14,
        "y": 39,
        "w": 502,
        "h": 82
    },
    {
        "id": "677a462e190a4c92",
        "type": "group",
        "z": "72ef82b8.9d086c",
        "name": "notify",
        "style": {
            "label": true
        },
        "nodes": [
            "f359939883ebec80",
            "70a25e05987238de",
            "0993d50e3c03d798",
            "a91faa17c024af1e",
            "df3bd9cee59e687a",
            "7913c8cedd9b8d45",
            "95286ff3.9f33d"
        ],
        "x": 1244,
        "y": 139,
        "w": 472,
        "h": 202
    },
    {
        "id": "f2123713074fa557",
        "type": "group",
        "z": "c23003c7.1c978",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "3eba4ba84e7b67ae",
            "06bc5fe464e9132d",
            "aa6339118c6cf238",
            "0174447baafb1dab"
        ],
        "x": 14,
        "y": 39,
        "w": 502,
        "h": 82
    },
    {
        "id": "283f88d61789c306",
        "type": "group",
        "z": "c23003c7.1c978",
        "name": "notify",
        "style": {
            "label": true
        },
        "nodes": [
            "96e077260be2f7fb",
            "d93bd58ac5ac0363",
            "1e0f934a3493b12f",
            "beedc605a0a3cbac",
            "2191e2bfc331009c",
            "61f9d42e4c070321",
            "96679db36a4a3636"
        ],
        "x": 1794,
        "y": 99,
        "w": 472,
        "h": 202
    },
    {
        "id": "954efb6e818259f4",
        "type": "group",
        "z": "51ad1e79edd47f04",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "89f81c01fd297b99",
            "7d9dd51684fea32b",
            "31afe4007c8c4380",
            "9d44f246159d8d55"
        ],
        "x": 14,
        "y": 39,
        "w": 502,
        "h": 82
    },
    {
        "id": "0b8b5d79d80701d3",
        "type": "group",
        "z": "b4963274903ed2a9",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "a8fcbc81b74ad4f3",
            "52b890d221e51d99",
            "f18c57903881ea97",
            "a63decc27ac1e186"
        ],
        "x": 14,
        "y": 39,
        "w": 502,
        "h": 82
    },
    {
        "id": "ec39be6249e7e485",
        "type": "group",
        "z": "4a94729fe3d3c081",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "e2179ba6a2c951f5",
            "eeaaf1e6d4c5ea3a",
            "13f2b7ca42c4eca2",
            "fd804489979c3abc"
        ],
        "x": 14,
        "y": 39,
        "w": 502,
        "h": 82
    },
    {
        "id": "0b07577dad51457c",
        "type": "group",
        "z": "4e909abe.0b62e4",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "7b52e1a6.51c84",
            "234dfa41.bd6986",
            "1bd4cbe8.185c54",
            "6e490cae.31f974",
            "66f4c227.6b8aac",
            "dcb087f1.7dab78",
            "8e51a253.d8dde",
            "c83efd35.f7a48",
            "cb035d1b.0d3f9"
        ],
        "x": 274,
        "y": 1319,
        "w": 672,
        "h": 302
    },
    {
        "id": "fe3d60102d671872",
        "type": "group",
        "z": "4e909abe.0b62e4",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "55ffc090.d9b5b",
            "9e8a7cf7.88d51",
            "5fba04f5.3847ac",
            "cbdc5416.0cbcd8",
            "91b0640c.1b4d68",
            "46d491e1.18c83",
            "7fcc0134.64917",
            "f5c03471.585f88",
            "fce79366.4dc17",
            "9c749cb3.fd1b8",
            "f348457a7db9ec8d"
        ],
        "x": 274,
        "y": 999,
        "w": 982,
        "h": 302
    },
    {
        "id": "031e4f7e9e7c26c2",
        "type": "group",
        "z": "4e909abe.0b62e4",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "54696fbd78ed3819",
            "4a4e04ddf8350706",
            "cb917aa518896f3a",
            "dfffac879d63354b",
            "6756525186f8169e",
            "9788a503135ae44e",
            "16000567cbeaf3df",
            "57486f510a59fd65",
            "60bfbb8510eb0ddf",
            "fec6bd8d1440b36a",
            "3bbc2d79dae1d733",
            "9073f4d6575f634e"
        ],
        "x": 274,
        "y": 1639,
        "w": 1252,
        "h": 362
    },
    {
        "id": "075f4d9b063c9dbd",
        "type": "group",
        "z": "2a2d89771193fb8b",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "a852520ede8524df",
            "c066170d3d0fe3c7",
            "71c8efae8c1d420b",
            "3a79dff06163c162"
        ],
        "x": 14,
        "y": 19,
        "w": 502,
        "h": 82
    },
    {
        "id": "790b21b9d3f0df95",
        "type": "group",
        "z": "3d30857f5165e137",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "ce38a20b6edb30fe",
            "859d7340dcad2e19",
            "8b8c16211a8b72d6",
            "1eda23dd9f8e2572"
        ],
        "x": 14,
        "y": 39,
        "w": 502,
        "h": 82
    },
    {
        "id": "5eb2a483b2644796",
        "type": "group",
        "z": "e98ae3c9db1bd6c3",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "e2aad0c5c8a8a6c8",
            "92ae0a959b86c0cc",
            "4d9e677df669290b",
            "2ba2b814332015f0"
        ],
        "x": 14,
        "y": 39,
        "w": 502,
        "h": 82
    },
    {
        "id": "7a6662144d2d489c",
        "type": "group",
        "z": "55da1471.fda0fc",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "144ebe3499c86989",
            "dbd017147d154790",
            "4d1450df9aae47f1",
            "74b269c1337cbb9d"
        ],
        "x": 14,
        "y": 39,
        "w": 502,
        "h": 82
    },
    {
        "id": "7c9dc6f46ee8eaaf",
        "type": "group",
        "z": "29a2e1dd05ecbf80",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "ed749a88cd5bd834",
            "89d0c5bcdd39fd4c",
            "b7a8e5cc57ee6ca0",
            "e33e1e962d57e077"
        ],
        "x": 14,
        "y": 39,
        "w": 502,
        "h": 82
    },
    {
        "id": "53dc0a23c8426878",
        "type": "group",
        "z": "03ed0365a1543556",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "874b60377e719fde",
            "387845d9698cbe12",
            "7bf74cbdd5a69c4a",
            "dfa305742a8fe0b2"
        ],
        "x": 14,
        "y": 39,
        "w": 502,
        "h": 82
    },
    {
        "id": "6378d23d20fd57d5",
        "type": "group",
        "z": "9f9f94838a3fcd77",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "b85e156a673c59d5",
            "ce529429a2626c93",
            "6399bb828d61b11b",
            "4bf210a3e31f4a3d"
        ],
        "x": 14,
        "y": 39,
        "w": 502,
        "h": 82
    },
    {
        "id": "8a399bf7837890c0",
        "type": "group",
        "z": "53a5f07742283c4c",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "47d6de79902c0161",
            "2b73fe41a49fc65b",
            "4e680a078b0a25b2",
            "39f5d21c50d9ac9d"
        ],
        "x": 14,
        "y": 39,
        "w": 502,
        "h": 82
    },
    {
        "id": "3e1c22c92c9a0f35",
        "type": "group",
        "z": "584b31926baad02b",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "cf9b5d41bcd9b744",
            "334d3a7297cfeb6c",
            "8a30ed094fb5f99e",
            "a7bff42886f892b4"
        ],
        "x": 14,
        "y": 39,
        "w": 502,
        "h": 82
    },
    {
        "id": "0c4c4d997dc4f3b1",
        "type": "group",
        "z": "a4fbdd1c0456c1af",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "289e69cd264b93eb",
            "2fc22cb558c3300b",
            "f6679763cd60d5c2",
            "c5d9fdd7bfb1fbb3"
        ],
        "x": 14,
        "y": 39,
        "w": 502,
        "h": 82
    },
    {
        "id": "6c139f7e45d57ce6",
        "type": "group",
        "z": "67a16d037f1a73fc",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "f51ddf7aa1887856",
            "94668c7094bf409b",
            "0e36b13934d068e7",
            "aaf28e71155281d1"
        ],
        "x": 14,
        "y": 39,
        "w": 502,
        "h": 82
    },
    {
        "id": "be985755a62cec45",
        "type": "group",
        "z": "4b48188ca7b303d7",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "d3fa1ce6f5a13d54",
            "06d066fa18c123d0",
            "dde00c0321dc01f3",
            "f1e0fa3d36a15de3"
        ],
        "x": 14,
        "y": 39,
        "w": 502,
        "h": 82
    },
    {
        "id": "bc697bb3725ec708",
        "type": "group",
        "z": "71f3d7905a503d5c",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "2761144c295d7ea6",
            "670ddf807f6daf30",
            "ab08ef94fcbac2d6",
            "480ba87e59da5840"
        ],
        "x": 14,
        "y": 39,
        "w": 502,
        "h": 82
    },
    {
        "id": "f76361b9ab8df196",
        "type": "group",
        "z": "2863cbc8bee70856",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "9be6d18fa9149c14",
            "67abbaaabd24e85e",
            "d1ac9e9826f44523",
            "18db9b1d71ff195a"
        ],
        "x": 14,
        "y": 39,
        "w": 502,
        "h": 82
    },
    {
        "id": "1fee964cf5956c8d",
        "type": "group",
        "z": "3c0c3dbf7e0deda4",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "0bc5942b74f77cb9",
            "6656928753320d06",
            "95003d90c3c9a6b0",
            "f00a7ef6bf6a6abd"
        ],
        "x": 14,
        "y": 39,
        "w": 502,
        "h": 82
    },
    {
        "id": "89cbff0dec5ca2a9",
        "type": "group",
        "z": "8ca9fd35c2a2b1c4",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "d2e946cf3e720d46",
            "0fac954b5d2732b2",
            "4ccec2f982a522c0",
            "c8725231b1ec6142"
        ],
        "x": 14,
        "y": 39,
        "w": 502,
        "h": 82
    },
    {
        "id": "bad5045815fdb13b",
        "type": "group",
        "z": "9a7094e42d673dc4",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "355581f2d8e477de",
            "4ea67a000286b4d8",
            "c653974d1dff1810",
            "db2e26ad5747e0a6"
        ],
        "x": 14,
        "y": 39,
        "w": 502,
        "h": 82
    },
    {
        "id": "6fc99fe3fa43961b",
        "type": "group",
        "z": "b1a9214c.4c71c",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "aedbcf84c1295abd",
            "e75e88b2739b898a",
            "c026370f826e5d5f",
            "c027d4c52c4a61b2"
        ],
        "x": 14,
        "y": 39,
        "w": 502,
        "h": 82
    },
    {
        "id": "863bc6b078a22ba5",
        "type": "group",
        "z": "e846a5a705a12fe6",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "28572434b19c01bb",
            "7f45b305aa26cd29",
            "7b7ff376a7aa8c64",
            "5c0118eeae991177"
        ],
        "x": 14,
        "y": 39,
        "w": 502,
        "h": 82
    },
    {
        "id": "04562c8514c07d74",
        "type": "group",
        "z": "65351372f52f2e2d",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "b66a38e04739bfdd",
            "b983fbc0f8c8da2f",
            "7bdad445330a11b6",
            "c73573d7e9bdaf0f"
        ],
        "x": 14,
        "y": 39,
        "w": 502,
        "h": 82
    },
    {
        "id": "00e1921baeb8bd5e",
        "type": "group",
        "z": "72f3a564e626ff9a",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "bfe7a87449e07220",
            "b6142c43c8cd2aa3",
            "14c8565d2e050386",
            "887509b8f00c0fa0"
        ],
        "x": 14,
        "y": 39,
        "w": 502,
        "h": 82
    },
    {
        "id": "9a6a0422b6ecafd9",
        "type": "group",
        "z": "98a989e.d6bca78",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "4b522fb422cd4d3b",
            "135edde980b196c2",
            "b6683e8825a4f684",
            "858d29207573b2c5"
        ],
        "x": 14,
        "y": 39,
        "w": 502,
        "h": 82
    },
    {
        "id": "486186084273434f",
        "type": "group",
        "z": "42b354a7f0284779",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "67307ba4e3d3f9b3",
            "b7beb6e187e61cdc",
            "7fef303d15d03ef1",
            "611dd015489e682f"
        ],
        "x": 14,
        "y": 39,
        "w": 502,
        "h": 82
    },
    {
        "id": "e14729bbb68696bb",
        "type": "group",
        "z": "b4aa7b8dbc1c80dc",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "59261a1cba9f1c9d",
            "dc708d13b5623029",
            "db1e6a0372a267e5",
            "b4e30499c0f38241"
        ],
        "x": 34,
        "y": 19,
        "w": 502,
        "h": 82
    },
    {
        "id": "65b23193509b810d",
        "type": "group",
        "z": "d5421f8d.f7208",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "5966ae391638c2e2",
            "afca751308698d24",
            "588232826fe1cb16",
            "996b414e0e42417f"
        ],
        "x": 14,
        "y": 39,
        "w": 502,
        "h": 82
    },
    {
        "id": "8b3123563ca26288",
        "type": "group",
        "z": "75537afd17de5117",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "08e87e585225cf76",
            "850de025f821d110",
            "a1d22443632b6c95",
            "34627360e59b2422"
        ],
        "x": 14,
        "y": 39,
        "w": 502,
        "h": 82
    },
    {
        "id": "54fbd89aeb283eab",
        "type": "group",
        "z": "535c98d1d92579b6",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "d361893bd7868273",
            "d50a3b33f5ac5fbe",
            "dac0d4dda81abc95",
            "3a705fecfc60ec68"
        ],
        "x": 14,
        "y": 39,
        "w": 502,
        "h": 82
    },
    {
        "id": "28814c2324702a49",
        "type": "group",
        "z": "1dfb7e055134adc8",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "230055356a2e27e3",
            "c6c55fc30c7db0f1",
            "c84220140a8c71a3",
            "d9db1905747d0301"
        ],
        "x": 14,
        "y": 39,
        "w": 457,
        "h": 82
    },
    {
        "id": "7371831af6e7c577",
        "type": "group",
        "z": "b1b994b3d43d6aad",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "ad160909a47f0ea8",
            "ce1eb14a06a13ce4",
            "bf3806a421c7b15a",
            "da4b749474868319"
        ],
        "x": 14,
        "y": 39,
        "w": 502,
        "h": 82
    },
    {
        "id": "0330186b9fdcf4ee",
        "type": "group",
        "z": "a8d8484165225699",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "925cbc802add6b04",
            "d365bf9676fe5435",
            "fcbba10709360bf0",
            "5f99051ae7b91aed"
        ],
        "x": 14,
        "y": 39,
        "w": 502,
        "h": 82
    },
    {
        "id": "c55c738b848ff4e2",
        "type": "group",
        "z": "8d2de69b4c0fd2b9",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "a6bc5cbea3cc0781",
            "a0144416b570fb26",
            "80e833d182f30872",
            "51536b69c791a38f"
        ],
        "x": 14,
        "y": 19,
        "w": 502,
        "h": 82
    },
    {
        "id": "8a3e724b9367b490",
        "type": "group",
        "z": "7186425fdfc90c19",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "b8768bd6ae8b8f1b",
            "fde4c3a371beff5a",
            "388c6c30bcb85720",
            "0870fa9736ccd6a3"
        ],
        "x": 14,
        "y": 39,
        "w": 457,
        "h": 82
    },
    {
        "id": "e72d1d528dd56224",
        "type": "group",
        "z": "3087db0b32ceb4d4",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "5b4b9a106796749a",
            "219fb66a34f6d5fc",
            "b8f35a173d514067",
            "dae13c944f704b59"
        ],
        "x": 14,
        "y": 39,
        "w": 502,
        "h": 82
    },
    {
        "id": "11883cc6242c876f",
        "type": "group",
        "z": "c0da8379.b0dd3",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "fc483e26e8ef8d67",
            "7c52ea5308a77607",
            "195545448e386e6c",
            "8f721f7cb577cb3e"
        ],
        "x": 14,
        "y": 39,
        "w": 502,
        "h": 82
    },
    {
        "id": "185f2dd7a860d19b",
        "type": "group",
        "z": "8aa6edec.5a013",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "951976c3a53b79b8",
            "02dc0d1b6f03c379",
            "2c08acee77a89d06",
            "f114dc5a554e6188"
        ],
        "x": 14,
        "y": 39,
        "w": 502,
        "h": 82
    },
    {
        "id": "4e54d7258188248f",
        "type": "group",
        "z": "e0e34b3e49b36c0e",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "c6fd51bb0879c691",
            "354ff2db8dddfd18",
            "20b46d2aec64e3a9",
            "d22560a297387a58"
        ],
        "x": 14,
        "y": 39,
        "w": 502,
        "h": 82
    },
    {
        "id": "70f0fe67aeca6c5b",
        "type": "group",
        "z": "6af65daafa363be0",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "3673775bd3800aa8",
            "ea5cc17d185874f6",
            "05ac8cf3d42fdb50",
            "6cce37f58977a6c9"
        ],
        "x": 14,
        "y": 39,
        "w": 502,
        "h": 82
    },
    {
        "id": "e53baf256d3f1848",
        "type": "group",
        "z": "eb1939ba1b7e9b73",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "a935ec34e1de18c2",
            "f52934b833197f89",
            "43dbea1142f618eb",
            "d6e392af72ad7b29"
        ],
        "x": 14,
        "y": 19,
        "w": 502,
        "h": 82
    },
    {
        "id": "e0de5c166be83216",
        "type": "group",
        "z": "f180ab88.925788",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "0eba0e0b969d0593",
            "0870cf32565b4686",
            "59411a575525fcee",
            "6e9d8a5fbdc3d5d1"
        ],
        "x": 14,
        "y": 39,
        "w": 502,
        "h": 82
    },
    {
        "id": "1a8cd9cbdf0175d6",
        "type": "group",
        "z": "e4381ced98d2a929",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "ecf36f7ae5c5534a",
            "5680e1adc867d8fa",
            "89d180847c2436b6",
            "533d62fb78e93dcf"
        ],
        "x": 14,
        "y": 39,
        "w": 502,
        "h": 82
    },
    {
        "id": "30dd8f4e4a961d46",
        "type": "group",
        "z": "645478ab1138fd33",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "584b6ef4305b94bf",
            "b041bd0930b42e26",
            "88c8645165323767",
            "fcd114f75c18ca9a"
        ],
        "x": 14,
        "y": 39,
        "w": 502,
        "h": 82
    },
    {
        "id": "5818abbf91245841",
        "type": "group",
        "z": "b13ca13c.9328e",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "14ba38184c7546c9",
            "827b55ddfe680440",
            "200857993ae893c3",
            "072a523a6fd161e6"
        ],
        "x": 14,
        "y": 39,
        "w": 502,
        "h": 82
    },
    {
        "id": "8e49d14f6c55b86d",
        "type": "group",
        "z": "2fdf3d9bec5f1748",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "e49b1a71f5484e62",
            "370797ef44bacff0",
            "d6b4445ad7f5062a",
            "796c20cfef0a4084"
        ],
        "x": 14,
        "y": 39,
        "w": 502,
        "h": 82
    },
    {
        "id": "cb7954a7aa2cae2b",
        "type": "group",
        "z": "cde79c08.e4f488",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "7f6be1a38957af4c",
            "f1521b7d71efee12",
            "301e5101402d9cd1",
            "880bc0b589727b10"
        ],
        "x": 14,
        "y": 39,
        "w": 502,
        "h": 82
    },
    {
        "id": "689e3786766ccaab",
        "type": "group",
        "z": "b30206160f4c3c3b",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "5047eb1f31122238",
            "a94d9ca1c834ea4a",
            "fc2c3ebd96e14cc3",
            "40282b434e104e9b"
        ],
        "x": 14,
        "y": 39,
        "w": 502,
        "h": 82
    },
    {
        "id": "a5fedb7b1f936a7c",
        "type": "group",
        "z": "46d98b35c2eee05b",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "68c48f123df0cea6",
            "0a699ee4ac51e7f9",
            "a6196b4738721e31",
            "73e7561891b5363a"
        ],
        "x": 14,
        "y": 39,
        "w": 502,
        "h": 82
    },
    {
        "id": "e30ff84977664050",
        "type": "group",
        "z": "99c1372046e45da7",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "6dc6a41b28fbcce8",
            "d9437e8ede03988b",
            "6bcc6ca59609f4ee",
            "b0a930b2bce12ea3"
        ],
        "x": 14,
        "y": 39,
        "w": 502,
        "h": 82
    },
    {
        "id": "f28fc2f8203308af",
        "type": "group",
        "z": "67a1c55d.b4b94c",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "549f3029b1ad90ef",
            "66841ff1d725264c",
            "f6d7e40935ada980",
            "d6797f2c750c14dd"
        ],
        "x": 14,
        "y": 39,
        "w": 502,
        "h": 82
    },
    {
        "id": "7619e564a00bc2fd",
        "type": "group",
        "z": "ae97b8c4.cadf68",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "87f219e0dead807c",
            "8df147c5e3141be5",
            "3308ce4cf269492e",
            "957ebc244112d9e5"
        ],
        "x": 14,
        "y": 39,
        "w": 502,
        "h": 82
    },
    {
        "id": "7cbea3b8b9197fc8",
        "type": "group",
        "z": "db575387.da1ff",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "b885e30f642e2062",
            "1d0a4eb7e77c2abb",
            "cee0e1460b80ceea",
            "e54ddbbfda30501e"
        ],
        "x": 14,
        "y": 39,
        "w": 502,
        "h": 82
    },
    {
        "id": "3f2a3da109059d1d",
        "type": "group",
        "z": "279f5735.2f95d8",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "71f0e61352a29032",
            "6ebc4a0b497a1a9e",
            "4c0ddeb8e27647ec",
            "27422d673d997a18"
        ],
        "x": 14,
        "y": 39,
        "w": 502,
        "h": 82
    },
    {
        "id": "3e0c5339419b6665",
        "type": "group",
        "z": "7d5d30e3.483af",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "9b5ff62b436c722a",
            "6a94d270fa18444c",
            "4b1d7947bb43e759",
            "f635f3fc45b4aff6"
        ],
        "x": 14,
        "y": 39,
        "w": 502,
        "h": 82
    },
    {
        "id": "9d927f405fd197bc",
        "type": "group",
        "z": "5c92a1135257c28d",
        "name": "notify",
        "style": {
            "label": true
        },
        "nodes": [
            "a6c263811d9239b5",
            "420b0d2cf8014bfe",
            "7a732e9184d0afcf",
            "4b9a0a6f1713a12a",
            "ea1d347257539369",
            "b553c9f2abb4bdc0",
            "f8bd1ef936e71fbf"
        ],
        "x": 774,
        "y": 59,
        "w": 432,
        "h": 202
    },
    {
        "id": "2ff8dfb43d1ba6a3",
        "type": "group",
        "z": "fd9cd80f14f860fe",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "eab9993ce7699f6b",
            "03b947a910d98181",
            "29e2ecd31302f193",
            "e07be8f58a2d80b1",
            "f8be03186a90817e",
            "aeab6ce43c9dc70c"
        ],
        "x": 634,
        "y": 759,
        "w": 672,
        "h": 182
    },
    {
        "id": "cd256ec259a611f4",
        "type": "group",
        "z": "fd9cd80f14f860fe",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "f47b4545239299ad",
            "64218c054bcb7baf",
            "54b7f080b2edea10",
            "1e7eae419a9ec64f",
            "18e6577d292535de",
            "61e6d10bbacb84be",
            "fa9bc69bfdcf7c2c",
            "1852cb62226e78b0"
        ],
        "x": 634,
        "y": 499,
        "w": 1052,
        "h": 242
    },
    {
        "id": "d3868dc5f4aa2d65",
        "type": "group",
        "z": "fd9cd80f14f860fe",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "f9e486866e6d65f1",
            "1f82b6c0e5dbebf0",
            "0d2317e40dbcbd17",
            "b564e25effcfc627",
            "edd4560b8748e246",
            "7921cddd0f314705",
            "1d37dadaa58f945a",
            "7bea96d351fd45a5",
            "48e7a59d1dd38103"
        ],
        "x": 634,
        "y": 119,
        "w": 452,
        "h": 362
    },
    {
        "id": "fc9a0630f16ecdaf",
        "type": "group",
        "z": "fd9cd80f14f860fe",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "e020d358e653c079",
            "33f7961ae7010284",
            "496e9f6b60f7e763",
            "ae3e3c86c7a641ae",
            "afc206d613ea28f4",
            "aa0c955739836a72",
            "38e2ec5bd89aa669",
            "2088e9c0c8feb10f",
            "95ff475953e46b14",
            "0e86c16e42286a1a",
            "6797374d5c5348f9",
            "9e2a2047fb3d0be1"
        ],
        "x": 634,
        "y": 959,
        "w": 932,
        "h": 242
    },
    {
        "id": "3deebaf17197f452",
        "type": "group",
        "z": "fd9cd80f14f860fe",
        "name": "notify",
        "style": {
            "label": true
        },
        "nodes": [
            "f562bc76d4f77c72",
            "aaefbd870a81bd90",
            "2c7cc629bd4dabbf",
            "dca8060d69453e87",
            "594222d1e705061c",
            "c6c71296e724485a",
            "7c90580485197cda"
        ],
        "x": 994,
        "y": 1819,
        "w": 412,
        "h": 202
    },
    {
        "id": "c9eb921486128606",
        "type": "group",
        "z": "5c92a1135257c28d",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "3685f3d759ad2aa1",
            "38c87329321ca5f4",
            "7b8a53cdff17b707",
            "df859aeb022a54e3"
        ],
        "x": 14,
        "y": 39,
        "w": 502,
        "h": 82
    },
    {
        "id": "db0ab1ca3a1a2df4",
        "type": "group",
        "z": "fd9cd80f14f860fe",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "6ae0751d3b16477e",
            "05c95955f54a2f36",
            "2c1c31327d39c466",
            "4f871f1a43192bd3"
        ],
        "x": 14,
        "y": 39,
        "w": 502,
        "h": 82
    },
    {
        "id": "eceb4d513b2ed0a7",
        "type": "group",
        "z": "fb7b362cbc47e439",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "218274abd301e16a",
            "54b23fbb217cce7a",
            "3bacd8ed5d0dccd2",
            "f2eeb4cd5981b12d"
        ],
        "x": 14,
        "y": 39,
        "w": 502,
        "h": 82
    },
    {
        "id": "294518b9f2d20a35",
        "type": "group",
        "z": "8b9f28f75c6a8cea",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "b720e68e9c64cbc4",
            "746561afe69af34e",
            "d3b8e4a7f5f1fbb1",
            "15aee940807c653c"
        ],
        "x": 14,
        "y": 39,
        "w": 502,
        "h": 82
    },
    {
        "id": "0c2e33b261c4cf11",
        "type": "group",
        "z": "f5e87f41e348afa5",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "40b36b069112494c",
            "4fd19d102fa4c95a",
            "0666b6f65b4515cb",
            "6f6033d75ad786d8"
        ],
        "x": 14,
        "y": 39,
        "w": 502,
        "h": 82
    },
    {
        "id": "b2c83f4475ac19e8",
        "type": "group",
        "z": "d9b05fe971d5c1b1",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "21483532a6568ef0",
            "2413d6e9e633df33",
            "87c05e9e80c8acec",
            "d6d97696332334d3"
        ],
        "x": 14,
        "y": 39,
        "w": 502,
        "h": 82
    },
    {
        "id": "4b9dc824e8dc4f60",
        "type": "group",
        "z": "12beaeea5e53e349",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "b93b079df5e1a1e2",
            "b97852abb4549332",
            "cda4d972226868a6",
            "239f25417faab75f"
        ],
        "x": 14,
        "y": 39,
        "w": 502,
        "h": 82
    },
    {
        "id": "0db35c5731702740",
        "type": "group",
        "z": "960ed9c324a9682d",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "8303d54c6f8763c4",
            "3f5ea233d095a2a7",
            "d5382f174608bb29",
            "d0618614358c50be"
        ],
        "x": 14,
        "y": 39,
        "w": 502,
        "h": 82
    },
    {
        "id": "c79d2a2e6bd96fce",
        "type": "group",
        "z": "75dcbba8aec48c92",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "48a202fd30defc64",
            "8a880a89870fd474",
            "44f5433a0f7d8e6c",
            "df8ba459c8692b8a"
        ],
        "x": 14,
        "y": 39,
        "w": 502,
        "h": 82
    },
    {
        "id": "f269d62ec84b4edc",
        "type": "group",
        "z": "7a63032b7cac43cf",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "a4114163f4e66b89",
            "116afd12aecfd9a9",
            "42e103b5f2b1e679",
            "e8de261ce3c7454d"
        ],
        "x": 14,
        "y": 39,
        "w": 502,
        "h": 82
    },
    {
        "id": "b69895a9db022a47",
        "type": "group",
        "z": "a498f22679d943d0",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "5c0b91114ad853a6",
            "57555a1f94c04fc3",
            "83742449c3349fd4",
            "8ba3f19d6ce65bec"
        ],
        "x": 14,
        "y": 39,
        "w": 502,
        "h": 82
    },
    {
        "id": "c3775f25041c4420",
        "type": "group",
        "z": "e44f5d834fa24670",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "e47c4eb905713f27",
            "76b0e8a6f5aaa925",
            "de255097b6d251ec",
            "4461976ce1d368c5"
        ],
        "x": 14,
        "y": 39,
        "w": 502,
        "h": 82
    },
    {
        "id": "b37c093ac94a1e98",
        "type": "group",
        "z": "24d64ac8238cc218",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "03b294ecea33cda7",
            "01121dcdb1702967",
            "37b1834649576aa9",
            "46e46e14cb24c85e"
        ],
        "x": 14,
        "y": 39,
        "w": 502,
        "h": 82
    },
    {
        "id": "f1c27cc6414561c7",
        "type": "group",
        "z": "747e156c11e4e604",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "6b7ddb8ad38004e5",
            "8c9e13eba1e37b61",
            "315c0bcd8e6fef5f",
            "5ef9f55014b6f981"
        ],
        "x": 14,
        "y": 39,
        "w": 502,
        "h": 82
    },
    {
        "id": "bd90d247a95feb9d",
        "type": "group",
        "z": "e4381ced98d2a929",
        "g": "12e8b8acaeaeb3fa",
        "name": "notify",
        "style": {
            "label": true
        },
        "nodes": [
            "ad62962b589ed07d",
            "cae0f9255059d5ce",
            "f5a1c4dd087e0795",
            "c1f0224f374a67a6",
            "ce2746e7cd66f603",
            "13dd6df8c5e31625"
        ],
        "x": 1334,
        "y": 459,
        "w": 432,
        "h": 162
    },
    {
        "id": "7fe4b7424297ac0b",
        "type": "group",
        "z": "e4381ced98d2a929",
        "g": "12e8b8acaeaeb3fa",
        "name": "notify",
        "style": {
            "label": true
        },
        "nodes": [
            "37cd1950eaba0494",
            "8516fb393b7286e1",
            "17afd1b13fd231be",
            "d4a37aed996e885f",
            "0e425dc836ddc52f"
        ],
        "x": 1334,
        "y": 699,
        "w": 392,
        "h": 122
    },
    {
        "id": "52980cdcae4e3384",
        "type": "group",
        "z": "d9b921e9fd746ad1",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "9f18e7092e8b6f9c",
            "ee03c06252d3632e",
            "c9f30fc70f2be4fd",
            "9b9ad619917072e8"
        ],
        "x": 14,
        "y": 39,
        "w": 502,
        "h": 82
    },
    {
        "id": "f7038caa7a76e6f3",
        "type": "junction",
        "z": "a7a34028d045deee",
        "g": "022e7feb1e4ea3ae",
        "x": 1280,
        "y": 220,
        "wires": [
            [
                "d5d46cfd65fffc12",
                "3564790484706ae2",
                "88a668a5509178e0",
                "b2e6817cd694ba28"
            ]
        ]
    },
    {
        "id": "c6f3f4b2b46ffb4e",
        "type": "junction",
        "z": "b4963274903ed2a9",
        "g": "70b9d3433e540010",
        "x": 1880,
        "y": 180,
        "wires": [
            [
                "ddcda02e8d44e679",
                "40cce72d78ddf2ba",
                "976de9be5916cb4b",
                "01112a435413374c",
                "728c75b797b416a5"
            ]
        ]
    },
    {
        "id": "36246e33e6162b5a",
        "type": "junction",
        "z": "e98ae3c9db1bd6c3",
        "g": "bd6a21379a46d377",
        "x": 700,
        "y": 220,
        "wires": [
            [
                "65114fbadc1625ff",
                "994e86eeb88c5f08",
                "c6805d02b9eb3b45",
                "e3fe28933ad4f9bd"
            ]
        ]
    },
    {
        "id": "07d3b997feaf3f7b",
        "type": "junction",
        "z": "55da1471.fda0fc",
        "g": "faf17088fd1a6b16",
        "x": 1860,
        "y": 840,
        "wires": [
            [
                "035b931bd0cea26e",
                "c8bc013c45f3ae72",
                "8205d58f610c05d0"
            ]
        ]
    },
    {
        "id": "60b0a5eab5b0a9d6",
        "type": "junction",
        "z": "55da1471.fda0fc",
        "g": "deb17c414e79ec63",
        "x": 1860,
        "y": 440,
        "wires": [
            [
                "dec04d7f3b819fb2",
                "f60ecb3be0ebc2af",
                "0fa8b59e2735c07d"
            ]
        ]
    },
    {
        "id": "237a19020921825d",
        "type": "junction",
        "z": "55da1471.fda0fc",
        "g": "33fea7faee8e1f82",
        "x": 1860,
        "y": 640,
        "wires": [
            [
                "d5ae8df68946471a",
                "8f3e39fd9d879f86",
                "09d4cdb039e852de",
                "0e83125ead481334"
            ]
        ]
    },
    {
        "id": "97afb37521efba77",
        "type": "junction",
        "z": "b1a9214c.4c71c",
        "g": "6b44c062cbc05f0a",
        "x": 1760,
        "y": 280,
        "wires": [
            [
                "232a01493b9307b0",
                "db7934b4b14446da",
                "a22e2a028512634f"
            ]
        ]
    },
    {
        "id": "ca3c70923fa7cd35",
        "type": "junction",
        "z": "65351372f52f2e2d",
        "g": "dbf117e9be1363d0",
        "x": 1640,
        "y": 480,
        "wires": [
            [
                "f62f4165d866a393",
                "4fcc37584fdaacfc",
                "96104ca744a9942d",
                "187e38cbc867548d"
            ]
        ]
    },
    {
        "id": "685ac1f9d97aa2a9",
        "type": "junction",
        "z": "65351372f52f2e2d",
        "g": "f259c1d245c5a0a4",
        "x": 1640,
        "y": 260,
        "wires": [
            [
                "8d49d5b0a77fe3fa",
                "41bff044d8ff0723",
                "f6739c6be49dd463",
                "887d3f0b3fca1ef1"
            ]
        ]
    },
    {
        "id": "7bb3b10a5f621765",
        "type": "junction",
        "z": "65351372f52f2e2d",
        "g": "a36a86d8bb45f3d4",
        "x": 1640,
        "y": 680,
        "wires": [
            [
                "6a5f068bc90a5bea",
                "96c864b13b1ed44d",
                "504241c3de9c1592",
                "dfc54bd82a16e190"
            ]
        ]
    },
    {
        "id": "b1b1be8e46f91cca",
        "type": "junction",
        "z": "72f3a564e626ff9a",
        "g": "3b89d483d3628b14",
        "x": 1180,
        "y": 320,
        "wires": [
            [
                "dcc306682fd0ffa8",
                "3a3b8fdb9d6f4ab0",
                "dd3030c9ae0f7a07",
                "46d50645e39da463",
                "ebcb50cdabc72f91"
            ]
        ]
    },
    {
        "id": "4fc08434e069652b",
        "type": "junction",
        "z": "98a989e.d6bca78",
        "g": "7b3e33afc7e5d51f",
        "x": 880,
        "y": 260,
        "wires": [
            [
                "bdce8718917c4dcb",
                "253b2fc1dbf20ad4",
                "496caddb.5ba724",
                "fdc4c2eef34c0a15"
            ]
        ]
    },
    {
        "id": "9b93ac7b58399751",
        "type": "junction",
        "z": "42b354a7f0284779",
        "g": "392300741f68f312",
        "x": 1320,
        "y": 320,
        "wires": [
            [
                "c6941b34f3402196",
                "59327076bed18754",
                "cdbb5b48e71b5866"
            ]
        ]
    },
    {
        "id": "eaec84df6f30a9ec",
        "type": "junction",
        "z": "d5421f8d.f7208",
        "g": "f236f0a913f70054",
        "x": 1300,
        "y": 200,
        "wires": [
            [
                "4b276bf7ef0c3217",
                "0db5f8033b5c9adf",
                "1414f6788bc8c787"
            ]
        ]
    },
    {
        "id": "5cb88a741e06d0c9",
        "type": "junction",
        "z": "75537afd17de5117",
        "g": "ef69ec82c772cad9",
        "x": 1720,
        "y": 500,
        "wires": [
            [
                "4b6f2391d1d4dfb7",
                "644d8e4f0164cfb2",
                "56e8236b1fb323bc"
            ]
        ]
    },
    {
        "id": "a087dd5873c41eaf",
        "type": "junction",
        "z": "b1b994b3d43d6aad",
        "g": "9d6561fb99238a4d",
        "x": 1180,
        "y": 300,
        "wires": [
            [
                "194df75621104155",
                "5273660ff2a42a63",
                "48b102061eef4776",
                "ad8e3a3f408efd86"
            ]
        ]
    },
    {
        "id": "f55e9b8b5462e4d2",
        "type": "junction",
        "z": "a8d8484165225699",
        "g": "537179d37e7389e5",
        "x": 1220,
        "y": 320,
        "wires": [
            [
                "e142bb411f990e05",
                "2e707984219ae3a9",
                "daef6aa88b93b329",
                "e16a49a555dc3139"
            ]
        ]
    },
    {
        "id": "ece5442438bb7aa1",
        "type": "junction",
        "z": "8d2de69b4c0fd2b9",
        "g": "bb1cc6878bf6f696",
        "x": 1320,
        "y": 220,
        "wires": [
            [
                "c0d0c36d39f527e2",
                "db50c5b6f4f302b4",
                "b560dfc6f3c2aec1"
            ]
        ]
    },
    {
        "id": "159c508f956eb430",
        "type": "junction",
        "z": "7186425fdfc90c19",
        "g": "3bd669c9a971e4a2",
        "x": 1020,
        "y": 220,
        "wires": [
            [
                "90b19d7c300c5383",
                "8ee8100ab8bdc7e6",
                "76b2b2fcd5922030",
                "44cfcac399640661"
            ]
        ]
    },
    {
        "id": "71156279d6ca8920",
        "type": "junction",
        "z": "c0da8379.b0dd3",
        "g": "47af9932f18884cc",
        "x": 1980,
        "y": 400,
        "wires": [
            [
                "7063678cde99b775",
                "4d43c0c59596c396"
            ]
        ]
    },
    {
        "id": "37841e86c6ea5231",
        "type": "junction",
        "z": "8aa6edec.5a013",
        "g": "983d668963ae42e9",
        "x": 1780,
        "y": 640,
        "wires": [
            [
                "fbc0aa717b3e43c7",
                "d2800bc161fa3196"
            ]
        ]
    },
    {
        "id": "662879feb30cc5fa",
        "type": "junction",
        "z": "8aa6edec.5a013",
        "g": "9c946ef945c199e5",
        "x": 1780,
        "y": 240,
        "wires": [
            [
                "254201c717321a67",
                "60a9200995b666e2"
            ]
        ]
    },
    {
        "id": "83e460c17170065f",
        "type": "junction",
        "z": "8aa6edec.5a013",
        "g": "14187342a7b09482",
        "x": 1780,
        "y": 440,
        "wires": [
            [
                "8aa74b4cb48558f8",
                "19cfd22b49a2e356",
                "1b8772493fd3aa94",
                "c8db6380b138fd4e"
            ]
        ]
    },
    {
        "id": "0fd94c312d822e91",
        "type": "junction",
        "z": "eb1939ba1b7e9b73",
        "g": "725af18957967e99",
        "x": 1120,
        "y": 360,
        "wires": [
            [
                "343f37d7fe9484fd",
                "72ef2fc0d180fcea"
            ]
        ]
    },
    {
        "id": "ce2746e7cd66f603",
        "type": "junction",
        "z": "e4381ced98d2a929",
        "g": "bd90d247a95feb9d",
        "x": 1360,
        "y": 540,
        "wires": [
            [
                "cae0f9255059d5ce",
                "ad62962b589ed07d",
                "13dd6df8c5e31625"
            ]
        ]
    },
    {
        "id": "2db276d509393d03",
        "type": "junction",
        "z": "e4381ced98d2a929",
        "g": "12e8b8acaeaeb3fa",
        "x": 1120,
        "y": 380,
        "wires": [
            [
                "9c4864f0ca0d2d96"
            ]
        ]
    },
    {
        "id": "0e425dc836ddc52f",
        "type": "junction",
        "z": "e4381ced98d2a929",
        "g": "7fe4b7424297ac0b",
        "x": 1360,
        "y": 760,
        "wires": [
            [
                "8516fb393b7286e1",
                "37cd1950eaba0494"
            ]
        ]
    },
    {
        "id": "e0259adb4a945229",
        "type": "junction",
        "z": "e4381ced98d2a929",
        "g": "12e8b8acaeaeb3fa",
        "x": 760,
        "y": 380,
        "wires": [
            [
                "2db276d509393d03"
            ]
        ]
    },
    {
        "id": "be68c8baf380f74e",
        "type": "junction",
        "z": "645478ab1138fd33",
        "g": "f2952a0e7861984f",
        "x": 820,
        "y": 200,
        "wires": [
            [
                "6011ff5a330d5f46",
                "2e62b582b5ace0b2",
                "dfebcb371c6d37c4",
                "ed20a5d29a5eb136",
                "29504140078fb34c"
            ]
        ]
    },
    {
        "id": "3ad564319a62aa0f",
        "type": "junction",
        "z": "b13ca13c.9328e",
        "g": "37c7c59a61d38b32",
        "x": 1760,
        "y": 320,
        "wires": [
            [
                "8bd6ce7359e6fe2f",
                "16bf3029dc11f50b",
                "3f7e2f446cdb3e90",
                "66e66f9f5828f878",
                "5922c1dac60ed4ec"
            ]
        ]
    },
    {
        "id": "3a0c4f886a8c4e54",
        "type": "junction",
        "z": "b13ca13c.9328e",
        "g": "1b05fecd5ed3289b",
        "x": 1760,
        "y": 560,
        "wires": [
            [
                "ab8c69e6298f0ad4",
                "dab28de38f3a6629",
                "52d10ab03d478bae",
                "322d16b061f4e108"
            ]
        ]
    },
    {
        "id": "509313ec35867636",
        "type": "junction",
        "z": "2fdf3d9bec5f1748",
        "g": "0490826048e616a0",
        "x": 1200,
        "y": 200,
        "wires": [
            [
                "28d7678ffbc9ea54",
                "6e679db82914212d",
                "2137fd353b4905ee",
                "dedcddec2131fd4e",
                "e986602efbf956a6"
            ]
        ]
    },
    {
        "id": "ef17b4eb0dc0871b",
        "type": "junction",
        "z": "cde79c08.e4f488",
        "g": "60a8ffbec987c377",
        "x": 840,
        "y": 300,
        "wires": [
            [
                "8bda876328e49e67",
                "af6a4d51c1e99b4e",
                "c7b88c5f533c105b",
                "8ca7529cee95086c"
            ]
        ]
    },
    {
        "id": "ec34cd6ea57b0b7f",
        "type": "junction",
        "z": "2437e768.8e34d8",
        "g": "3bf0bc8959f8a48e",
        "x": 1260,
        "y": 200,
        "wires": [
            [
                "64614e79bcb09872",
                "2a35d2abfb0850da",
                "71f13b6b1744cf6b",
                "80b3c96f004d6f8b"
            ]
        ]
    },
    {
        "id": "9655b1065753069f",
        "type": "junction",
        "z": "99c1372046e45da7",
        "g": "b268fa78a872617d",
        "x": 1380,
        "y": 320,
        "wires": [
            [
                "5a8f575633614c07",
                "781d3a645a5e3130",
                "148de36202032274",
                "451f25b73596ddf8"
            ]
        ]
    },
    {
        "id": "df3bd9cee59e687a",
        "type": "junction",
        "z": "72ef82b8.9d086c",
        "g": "677a462e190a4c92",
        "x": 1270,
        "y": 200,
        "wires": [
            [
                "70a25e05987238de",
                "f359939883ebec80",
                "7913c8cedd9b8d45",
                "95286ff3.9f33d"
            ]
        ]
    },
    {
        "id": "2191e2bfc331009c",
        "type": "junction",
        "z": "c23003c7.1c978",
        "g": "283f88d61789c306",
        "x": 1820,
        "y": 160,
        "wires": [
            [
                "d93bd58ac5ac0363",
                "96e077260be2f7fb",
                "61f9d42e4c070321",
                "96679db36a4a3636"
            ]
        ]
    },
    {
        "id": "fd9636d9d6afe3b7",
        "type": "junction",
        "z": "d7c35c04cc0c5b68",
        "x": 380,
        "y": 280,
        "wires": [
            [
                "916f461a6f7da6d3",
                "c10807da9b28c982"
            ]
        ]
    },
    {
        "id": "c10807da9b28c982",
        "type": "junction",
        "z": "d7c35c04cc0c5b68",
        "x": 460,
        "y": 340,
        "wires": [
            [
                "74e76eceb1f26eaf"
            ]
        ]
    },
    {
        "id": "1bcfdae4fb034efd",
        "type": "junction",
        "z": "3d30857f5165e137",
        "x": 1060,
        "y": 260,
        "wires": [
            [
                "59e4a09ae6f431cd"
            ]
        ]
    },
    {
        "id": "e40aff179bd30a9b",
        "type": "junction",
        "z": "3d30857f5165e137",
        "x": 1060,
        "y": 180,
        "wires": [
            [
                "59e4a09ae6f431cd"
            ]
        ]
    },
    {
        "id": "252893d959f094a0",
        "type": "junction",
        "z": "55da1471.fda0fc",
        "x": 660,
        "y": 400,
        "wires": [
            [
                "1351cb3a.cc7995"
            ]
        ]
    },
    {
        "id": "706151681f0ece6f",
        "type": "junction",
        "z": "53a5f07742283c4c",
        "x": 460,
        "y": 500,
        "wires": [
            [
                "3d31c6d443ad7576",
                "60b97d6c27fca342",
                "b808134920bf4e34",
                "e39b8ed1586ec144",
                "61b5309de555834f",
                "8215ee5b32a90c48",
                "de1675c8792b80d3",
                "8975dba1409df05c",
                "fa2d02d4ee1cb23c",
                "7c7ba2d9bdb1a2a7",
                "1ab78ae444020e91"
            ]
        ]
    },
    {
        "id": "06ca84ceb3f727e3",
        "type": "junction",
        "z": "53a5f07742283c4c",
        "x": 1180,
        "y": 540,
        "wires": [
            [
                "b20ef33659df0d8c"
            ]
        ]
    },
    {
        "id": "4539dbe872caf169",
        "type": "junction",
        "z": "39f5e6336137f4b2",
        "x": 980,
        "y": 160,
        "wires": [
            [
                "382a831c1568641b"
            ]
        ]
    },
    {
        "id": "f8003d1746659317",
        "type": "junction",
        "z": "39f5e6336137f4b2",
        "x": 600,
        "y": 240,
        "wires": [
            [
                "19b08832ac41fe31"
            ]
        ]
    },
    {
        "id": "1d17d4994d0cc1e1",
        "type": "junction",
        "z": "2c496b90815e2d15",
        "x": 260,
        "y": 200,
        "wires": [
            [
                "62bc4f4208a1c07d"
            ]
        ]
    },
    {
        "id": "0413e0750f3cc40b",
        "type": "junction",
        "z": "71f3d7905a503d5c",
        "x": 220,
        "y": 260,
        "wires": [
            [
                "18db3501520cb2a6"
            ]
        ]
    },
    {
        "id": "a5e476b7342dd2fc",
        "type": "junction",
        "z": "9a7094e42d673dc4",
        "x": 1120,
        "y": 380,
        "wires": [
            [
                "53a47bf861d4d73c"
            ]
        ]
    },
    {
        "id": "1ff52cc50bb2b980",
        "type": "junction",
        "z": "65351372f52f2e2d",
        "x": 600,
        "y": 240,
        "wires": [
            [
                "926a03f5dc689826"
            ]
        ]
    },
    {
        "id": "1389cd751a19cef8",
        "type": "junction",
        "z": "65351372f52f2e2d",
        "x": 280,
        "y": 200,
        "wires": [
            [
                "2be495a83d512501"
            ]
        ]
    },
    {
        "id": "5de4f38ec4c4075f",
        "type": "junction",
        "z": "65351372f52f2e2d",
        "x": 280,
        "y": 240,
        "wires": [
            [
                "1ff52cc50bb2b980"
            ]
        ]
    },
    {
        "id": "223d859dcac9107a",
        "type": "junction",
        "z": "72f3a564e626ff9a",
        "x": 780,
        "y": 440,
        "wires": [
            [
                "6a481279c5298533"
            ]
        ]
    },
    {
        "id": "4b77d397e442cac9",
        "type": "junction",
        "z": "72f3a564e626ff9a",
        "x": 940,
        "y": 260,
        "wires": [
            [
                "b1b1be8e46f91cca"
            ]
        ]
    },
    {
        "id": "50241184111a2c70",
        "type": "junction",
        "z": "535c98d1d92579b6",
        "x": 200,
        "y": 320,
        "wires": [
            [
                "4f661232083706f4"
            ]
        ]
    },
    {
        "id": "301e94d904b9a128",
        "type": "junction",
        "z": "535c98d1d92579b6",
        "x": 760,
        "y": 600,
        "wires": [
            [
                "318426830832aad5"
            ]
        ]
    },
    {
        "id": "4a33ba091890f26c",
        "type": "junction",
        "z": "535c98d1d92579b6",
        "x": 760,
        "y": 360,
        "wires": [
            [
                "4f661232083706f4"
            ]
        ]
    },
    {
        "id": "b9e7aa8885c6c8ee",
        "type": "junction",
        "z": "535c98d1d92579b6",
        "x": 760,
        "y": 840,
        "wires": [
            [
                "f772e0315cdeaa39"
            ]
        ]
    },
    {
        "id": "d562f0f246daa67a",
        "type": "junction",
        "z": "535c98d1d92579b6",
        "x": 200,
        "y": 560,
        "wires": [
            [
                "318426830832aad5"
            ]
        ]
    },
    {
        "id": "deabe55a2db7bf66",
        "type": "junction",
        "z": "535c98d1d92579b6",
        "x": 200,
        "y": 800,
        "wires": [
            [
                "f772e0315cdeaa39"
            ]
        ]
    },
    {
        "id": "a2dc9d42a693dafb",
        "type": "junction",
        "z": "8aa6edec.5a013",
        "x": 820,
        "y": 180,
        "wires": [
            [
                "f3398caf62b1ef7a",
                "8d40faa88a9cd112",
                "b932464b99aa9267",
                "cdc07b973642084c",
                "028331e655414c16",
                "c6e7d8401b56fd33",
                "761222e7fa67a904",
                "5498c2d3d62ed8ba",
                "549548e06f9cfecf"
            ]
        ]
    },
    {
        "id": "8e4b5e877883b3e0",
        "type": "junction",
        "z": "e4381ced98d2a929",
        "x": 380,
        "y": 1300,
        "wires": [
            [
                "764ff273496b0193",
                "ab4badbb40ac3f96",
                "8ee38710dd301911"
            ]
        ]
    },
    {
        "id": "df097f62ee343e6b",
        "type": "junction",
        "z": "e4381ced98d2a929",
        "x": 380,
        "y": 200,
        "wires": [
            [
                "3dd82a4a5a5f543f",
                "1583a7af300c58e0",
                "cdc4fcc574f8d36a",
                "c20492a470484001",
                "269da6e81145bb4b",
                "8ee38710dd301911",
                "3a5ac0b1670fd20b",
                "29aa2542eb146ebc",
                "7d9091cf95ea29fe",
                "2d21e3e6cf54e587",
                "2af51e589fccfb49",
                "c5e53f10fcec2a55",
                "17d6d6ba47815c69",
                "2f3981a6369226a2"
            ]
        ]
    },
    {
        "id": "abca9d489cb39d05",
        "type": "junction",
        "z": "645478ab1138fd33",
        "x": 320,
        "y": 220,
        "wires": [
            [
                "56c442aec754c164"
            ]
        ]
    },
    {
        "id": "15e791691fffba6e",
        "type": "junction",
        "z": "b13ca13c.9328e",
        "x": 1480,
        "y": 280,
        "wires": [
            [
                "40140a3.8383df4",
                "668b5737b0f584a7"
            ]
        ]
    },
    {
        "id": "1d1ec90f6d5f3048",
        "type": "junction",
        "z": "b13ca13c.9328e",
        "x": 740,
        "y": 280,
        "wires": [
            [
                "15e791691fffba6e"
            ]
        ]
    },
    {
        "id": "3564b4f51c2e9f2b",
        "type": "junction",
        "z": "2fdf3d9bec5f1748",
        "x": 280,
        "y": 220,
        "wires": [
            [
                "609e3ac6425b0cac"
            ]
        ]
    },
    {
        "id": "fee8363c5cb8d124",
        "type": "junction",
        "z": "2437e768.8e34d8",
        "x": 380,
        "y": 220,
        "wires": [
            [
                "ce869786.78dec8"
            ]
        ]
    },
    {
        "id": "a378d97aa6be5e49",
        "type": "junction",
        "z": "4dd07a1d.6e53e4",
        "x": 400,
        "y": 180,
        "wires": [
            [
                "818ba5a9.204658"
            ]
        ]
    },
    {
        "id": "3392d6cf5e1cb20b",
        "type": "junction",
        "z": "4dd07a1d.6e53e4",
        "x": 400,
        "y": 140,
        "wires": [
            [
                "5c56266b.e63438"
            ]
        ]
    },
    {
        "id": "ea1d347257539369",
        "type": "junction",
        "z": "5c92a1135257c28d",
        "g": "9d927f405fd197bc",
        "x": 800,
        "y": 160,
        "wires": [
            [
                "420b0d2cf8014bfe",
                "a6c263811d9239b5",
                "b553c9f2abb4bdc0",
                "f8bd1ef936e71fbf"
            ]
        ]
    },
    {
        "id": "e07be8f58a2d80b1",
        "type": "junction",
        "z": "fd9cd80f14f860fe",
        "g": "2ff8dfb43d1ba6a3",
        "x": 660,
        "y": 840,
        "wires": [
            [
                "03b947a910d98181",
                "f8be03186a90817e"
            ]
        ]
    },
    {
        "id": "0e86c16e42286a1a",
        "type": "junction",
        "z": "fd9cd80f14f860fe",
        "g": "fc9a0630f16ecdaf",
        "x": 660,
        "y": 1040,
        "wires": [
            [
                "33f7961ae7010284",
                "95ff475953e46b14",
                "6797374d5c5348f9"
            ]
        ]
    },
    {
        "id": "61e6d10bbacb84be",
        "type": "junction",
        "z": "fd9cd80f14f860fe",
        "g": "cd256ec259a611f4",
        "x": 660,
        "y": 580,
        "wires": [
            [
                "64218c054bcb7baf",
                "fa9bc69bfdcf7c2c",
                "1852cb62226e78b0"
            ]
        ]
    },
    {
        "id": "b564e25effcfc627",
        "type": "junction",
        "z": "fd9cd80f14f860fe",
        "g": "d3868dc5f4aa2d65",
        "x": 660,
        "y": 200,
        "wires": [
            [
                "f9e486866e6d65f1",
                "48e7a59d1dd38103",
                "7921cddd0f314705",
                "7bea96d351fd45a5",
                "1d37dadaa58f945a"
            ]
        ]
    },
    {
        "id": "594222d1e705061c",
        "type": "junction",
        "z": "fd9cd80f14f860fe",
        "g": "3deebaf17197f452",
        "x": 1020,
        "y": 1900,
        "wires": [
            [
                "aaefbd870a81bd90",
                "f562bc76d4f77c72",
                "c6c71296e724485a",
                "7c90580485197cda"
            ]
        ]
    },
    {
        "id": "610847102bcc29a9",
        "type": "junction",
        "z": "fb7b362cbc47e439",
        "x": 1740,
        "y": 160,
        "wires": [
            [
                "0253bf8368a2a006"
            ]
        ]
    },
    {
        "id": "36dee637778341ba",
        "type": "mqtt-broker",
        "name": "",
        "broker": "mosquitto",
        "port": "1883",
        "clientid": "",
        "autoConnect": true,
        "usetls": false,
        "protocolVersion": "4",
        "keepalive": "60",
        "cleansession": true,
        "autoUnsubscribe": true,
        "birthTopic": "",
        "birthQos": "0",
        "birthPayload": "",
        "birthMsg": {},
        "closeTopic": "",
        "closeQos": "0",
        "closePayload": "",
        "closeMsg": {},
        "willTopic": "",
        "willQos": "0",
        "willPayload": "",
        "willMsg": {},
        "userProps": "",
        "sessionExpiry": ""
    },
    {
        "id": "7befa0b16196877c",
        "type": "ha-entity-config",
        "server": "4ba92433.2478cc",
        "deviceConfig": "",
        "name": "custom_energy",
        "version": "6",
        "entityType": "sensor",
        "haConfig": [
            {
                "property": "name",
                "value": "custom_energy"
            },
            {
                "property": "icon",
                "value": ""
            },
            {
                "property": "entity_category",
                "value": ""
            },
            {
                "property": "entity_picture",
                "value": ""
            },
            {
                "property": "device_class",
                "value": "energy"
            },
            {
                "property": "unit_of_measurement",
                "value": "Wh"
            },
            {
                "property": "state_class",
                "value": ""
            }
        ],
        "resend": true,
        "debugEnabled": false
    },
    {
        "id": "334728918669134a",
        "type": "ha-entity-config",
        "server": "4ba92433.2478cc",
        "deviceConfig": "",
        "name": "tv_device",
        "version": "6",
        "entityType": "button",
        "haConfig": [
            {
                "property": "name",
                "value": "tv_device"
            },
            {
                "property": "icon",
                "value": ""
            },
            {
                "property": "entity_category",
                "value": ""
            },
            {
                "property": "entity_picture",
                "value": ""
            },
            {
                "property": "device_class",
                "value": ""
            }
        ],
        "resend": false,
        "debugEnabled": false
    },
    {
        "id": "bdbe52c.932a5b",
        "type": "ha-entity-config",
        "server": "4ba92433.2478cc",
        "deviceConfig": "",
        "name": "washing_machine",
        "version": "6",
        "entityType": "binary_sensor",
        "haConfig": [
            {
                "property": "name",
                "value": "washing_machine"
            },
            {
                "property": "icon",
                "value": "mdi:washing-machine"
            },
            {
                "property": "entity_category",
                "value": ""
            },
            {
                "property": "entity_picture",
                "value": ""
            },
            {
                "property": "device_class",
                "value": ""
            }
        ],
        "resend": true,
        "debugEnabled": false
    },
    {
        "id": "5051592a.7844e8",
        "type": "ha-entity-config",
        "server": "4ba92433.2478cc",
        "deviceConfig": "",
        "name": "outdoor_light_dark",
        "version": "6",
        "entityType": "sensor",
        "haConfig": [
            {
                "property": "name",
                "value": "outdoor_light_dark"
            },
            {
                "property": "icon",
                "value": ""
            },
            {
                "property": "entity_category",
                "value": ""
            },
            {
                "property": "entity_picture",
                "value": ""
            },
            {
                "property": "device_class",
                "value": ""
            },
            {
                "property": "unit_of_measurement",
                "value": ""
            },
            {
                "property": "state_class",
                "value": ""
            }
        ],
        "resend": true,
        "debugEnabled": false
    },
    {
        "id": "2c5f48cef312ec68",
        "type": "ha-entity-config",
        "server": "4ba92433.2478cc",
        "deviceConfig": "",
        "name": "tumble_dryer",
        "version": "6",
        "entityType": "binary_sensor",
        "haConfig": [
            {
                "property": "name",
                "value": "tumble_dryer"
            },
            {
                "property": "icon",
                "value": ""
            },
            {
                "property": "entity_category",
                "value": ""
            },
            {
                "property": "entity_picture",
                "value": ""
            },
            {
                "property": "device_class",
                "value": ""
            }
        ],
        "resend": true,
        "debugEnabled": false
    },
    {
        "id": "4f12e052f2829473",
        "type": "ha-entity-config",
        "server": "4ba92433.2478cc",
        "deviceConfig": "",
        "name": "dishwasher",
        "version": "6",
        "entityType": "binary_sensor",
        "haConfig": [
            {
                "property": "name",
                "value": "dishwasher"
            },
            {
                "property": "icon",
                "value": ""
            },
            {
                "property": "entity_category",
                "value": ""
            },
            {
                "property": "entity_picture",
                "value": ""
            },
            {
                "property": "device_class",
                "value": ""
            }
        ],
        "resend": true,
        "debugEnabled": false
    },
    {
        "id": "39f868aa97a1088e",
        "type": "ha-entity-config",
        "server": "4ba92433.2478cc",
        "deviceConfig": "",
        "name": "automation_electric_heater_high_voltage",
        "version": "6",
        "entityType": "switch",
        "haConfig": [
            {
                "property": "name",
                "value": "automation_electric_heater_high_voltage"
            },
            {
                "property": "icon",
                "value": ""
            },
            {
                "property": "entity_picture",
                "value": ""
            },
            {
                "property": "entity_category",
                "value": ""
            },
            {
                "property": "device_class",
                "value": ""
            }
        ],
        "resend": false,
        "debugEnabled": false
    },
    {
        "id": "60731eead34cfb6b",
        "type": "ha-entity-config",
        "server": "4ba92433.2478cc",
        "deviceConfig": "",
        "name": "weather_code_translated",
        "version": "6",
        "entityType": "sensor",
        "haConfig": [
            {
                "property": "name",
                "value": "weather_code_translated"
            },
            {
                "property": "icon",
                "value": ""
            },
            {
                "property": "entity_picture",
                "value": ""
            },
            {
                "property": "entity_category",
                "value": ""
            },
            {
                "property": "device_class",
                "value": ""
            },
            {
                "property": "unit_of_measurement",
                "value": ""
            },
            {
                "property": "state_class",
                "value": ""
            }
        ],
        "resend": false,
        "debugEnabled": false
    },
    {
        "id": "43f0157d8de58e65",
        "type": "ha-entity-config",
        "server": "4ba92433.2478cc",
        "deviceConfig": "",
        "name": "playlist_01",
        "version": "6",
        "entityType": "sensor",
        "haConfig": [
            {
                "property": "name",
                "value": "playlist_01"
            },
            {
                "property": "icon",
                "value": ""
            },
            {
                "property": "entity_picture",
                "value": ""
            },
            {
                "property": "entity_category",
                "value": ""
            },
            {
                "property": "device_class",
                "value": ""
            },
            {
                "property": "unit_of_measurement",
                "value": ""
            },
            {
                "property": "state_class",
                "value": ""
            }
        ],
        "resend": false,
        "debugEnabled": false
    },
    {
        "id": "739416ac098c217a",
        "type": "ha-entity-config",
        "server": "4ba92433.2478cc",
        "deviceConfig": "",
        "name": "playlist_02",
        "version": "6",
        "entityType": "sensor",
        "haConfig": [
            {
                "property": "name",
                "value": "playlist_02"
            },
            {
                "property": "icon",
                "value": ""
            },
            {
                "property": "entity_picture",
                "value": ""
            },
            {
                "property": "entity_category",
                "value": ""
            },
            {
                "property": "device_class",
                "value": ""
            },
            {
                "property": "unit_of_measurement",
                "value": ""
            },
            {
                "property": "state_class",
                "value": ""
            }
        ],
        "resend": false,
        "debugEnabled": false
    },
    {
        "id": "a0921245c4bf57f4",
        "type": "ha-entity-config",
        "server": "4ba92433.2478cc",
        "deviceConfig": "",
        "name": "playlist_03",
        "version": "6",
        "entityType": "sensor",
        "haConfig": [
            {
                "property": "name",
                "value": "playlist_03"
            },
            {
                "property": "icon",
                "value": ""
            },
            {
                "property": "entity_picture",
                "value": ""
            },
            {
                "property": "entity_category",
                "value": ""
            },
            {
                "property": "device_class",
                "value": ""
            },
            {
                "property": "unit_of_measurement",
                "value": ""
            },
            {
                "property": "state_class",
                "value": ""
            }
        ],
        "resend": false,
        "debugEnabled": false
    },
    {
        "id": "80964bcc6dc1a6e4",
        "type": "ha-entity-config",
        "server": "4ba92433.2478cc",
        "deviceConfig": "",
        "name": "playlist_04",
        "version": "6",
        "entityType": "sensor",
        "haConfig": [
            {
                "property": "name",
                "value": "playlist_04"
            },
            {
                "property": "icon",
                "value": ""
            },
            {
                "property": "entity_picture",
                "value": ""
            },
            {
                "property": "entity_category",
                "value": ""
            },
            {
                "property": "device_class",
                "value": ""
            },
            {
                "property": "unit_of_measurement",
                "value": ""
            },
            {
                "property": "state_class",
                "value": ""
            }
        ],
        "resend": false,
        "debugEnabled": false
    },
    {
        "id": "6a1feec96440fb83",
        "type": "ha-entity-config",
        "server": "4ba92433.2478cc",
        "deviceConfig": "",
        "name": "playlist_05",
        "version": "6",
        "entityType": "sensor",
        "haConfig": [
            {
                "property": "name",
                "value": "playlist_05"
            },
            {
                "property": "icon",
                "value": ""
            },
            {
                "property": "entity_picture",
                "value": ""
            },
            {
                "property": "entity_category",
                "value": ""
            },
            {
                "property": "device_class",
                "value": ""
            },
            {
                "property": "unit_of_measurement",
                "value": ""
            },
            {
                "property": "state_class",
                "value": ""
            }
        ],
        "resend": false,
        "debugEnabled": false
    },
    {
        "id": "5998cbfbc54f204b",
        "type": "ha-entity-config",
        "server": "4ba92433.2478cc",
        "deviceConfig": "",
        "name": "playlist_06",
        "version": "6",
        "entityType": "sensor",
        "haConfig": [
            {
                "property": "name",
                "value": "playlist_06"
            },
            {
                "property": "icon",
                "value": ""
            },
            {
                "property": "entity_picture",
                "value": ""
            },
            {
                "property": "entity_category",
                "value": ""
            },
            {
                "property": "device_class",
                "value": ""
            },
            {
                "property": "unit_of_measurement",
                "value": ""
            },
            {
                "property": "state_class",
                "value": ""
            }
        ],
        "resend": false,
        "debugEnabled": false
    },
    {
        "id": "f8cd4d84e50137d3",
        "type": "ha-entity-config",
        "server": "4ba92433.2478cc",
        "deviceConfig": "",
        "name": "playlist_07",
        "version": "6",
        "entityType": "sensor",
        "haConfig": [
            {
                "property": "name",
                "value": "playlist_07"
            },
            {
                "property": "icon",
                "value": ""
            },
            {
                "property": "entity_picture",
                "value": ""
            },
            {
                "property": "entity_category",
                "value": ""
            },
            {
                "property": "device_class",
                "value": ""
            },
            {
                "property": "unit_of_measurement",
                "value": ""
            },
            {
                "property": "state_class",
                "value": ""
            }
        ],
        "resend": false,
        "debugEnabled": false
    },
    {
        "id": "c3a46b62ea6a96f3",
        "type": "ha-entity-config",
        "server": "4ba92433.2478cc",
        "deviceConfig": "",
        "name": "playlist_08",
        "version": "6",
        "entityType": "sensor",
        "haConfig": [
            {
                "property": "name",
                "value": "playlist_08"
            },
            {
                "property": "icon",
                "value": ""
            },
            {
                "property": "entity_picture",
                "value": ""
            },
            {
                "property": "entity_category",
                "value": ""
            },
            {
                "property": "device_class",
                "value": ""
            },
            {
                "property": "unit_of_measurement",
                "value": ""
            },
            {
                "property": "state_class",
                "value": ""
            }
        ],
        "resend": false,
        "debugEnabled": false
    },
    {
        "id": "949130faf5e0a8e3",
        "type": "ha-entity-config",
        "server": "4ba92433.2478cc",
        "deviceConfig": "",
        "name": "playlist_09",
        "version": "6",
        "entityType": "sensor",
        "haConfig": [
            {
                "property": "name",
                "value": "playlist_09"
            },
            {
                "property": "icon",
                "value": ""
            },
            {
                "property": "entity_picture",
                "value": ""
            },
            {
                "property": "entity_category",
                "value": ""
            },
            {
                "property": "device_class",
                "value": ""
            },
            {
                "property": "unit_of_measurement",
                "value": ""
            },
            {
                "property": "state_class",
                "value": ""
            }
        ],
        "resend": false,
        "debugEnabled": false
    },
    {
        "id": "a1513867525f661a",
        "type": "ha-entity-config",
        "server": "4ba92433.2478cc",
        "deviceConfig": "",
        "name": "playlist_10",
        "version": "6",
        "entityType": "sensor",
        "haConfig": [
            {
                "property": "name",
                "value": "playlist_10"
            },
            {
                "property": "icon",
                "value": ""
            },
            {
                "property": "entity_picture",
                "value": ""
            },
            {
                "property": "entity_category",
                "value": ""
            },
            {
                "property": "device_class",
                "value": ""
            },
            {
                "property": "unit_of_measurement",
                "value": ""
            },
            {
                "property": "state_class",
                "value": ""
            }
        ],
        "resend": false,
        "debugEnabled": false
    },
    {
        "id": "4ae2ea66b5fed8a9",
        "type": "ha-entity-config",
        "server": "4ba92433.2478cc",
        "deviceConfig": "",
        "name": "playlist_11",
        "version": "6",
        "entityType": "sensor",
        "haConfig": [
            {
                "property": "name",
                "value": "playlist_11"
            },
            {
                "property": "icon",
                "value": ""
            },
            {
                "property": "entity_picture",
                "value": ""
            },
            {
                "property": "entity_category",
                "value": ""
            },
            {
                "property": "device_class",
                "value": ""
            },
            {
                "property": "unit_of_measurement",
                "value": ""
            },
            {
                "property": "state_class",
                "value": ""
            }
        ],
        "resend": false,
        "debugEnabled": false
    },
    {
        "id": "03547137a16812fd",
        "type": "ha-entity-config",
        "server": "4ba92433.2478cc",
        "deviceConfig": "",
        "name": "tv_device",
        "version": "6",
        "entityType": "binary_sensor",
        "haConfig": [
            {
                "property": "name",
                "value": "tv_device"
            },
            {
                "property": "icon",
                "value": ""
            },
            {
                "property": "entity_category",
                "value": ""
            },
            {
                "property": "entity_picture",
                "value": ""
            },
            {
                "property": "device_class",
                "value": ""
            }
        ],
        "resend": false,
        "debugEnabled": false
    },
    {
        "id": "8cfcbd4314535fdb",
        "type": "ha-entity-config",
        "server": "4ba92433.2478cc",
        "deviceConfig": "",
        "name": "tv_screen_toggle",
        "version": "6",
        "entityType": "button",
        "haConfig": [
            {
                "property": "name",
                "value": "Beeldscherm"
            },
            {
                "property": "icon",
                "value": ""
            },
            {
                "property": "entity_category",
                "value": ""
            },
            {
                "property": "entity_picture",
                "value": ""
            },
            {
                "property": "device_class",
                "value": ""
            }
        ],
        "resend": false,
        "debugEnabled": false
    },
    {
        "id": "bb28b274f3ceaae8",
        "type": "ha-entity-config",
        "server": "4ba92433.2478cc",
        "deviceConfig": "",
        "name": "tvscreen_device",
        "version": "6",
        "entityType": "binary_sensor",
        "haConfig": [
            {
                "property": "name",
                "value": "tvscreen_device"
            },
            {
                "property": "icon",
                "value": ""
            },
            {
                "property": "entity_category",
                "value": ""
            },
            {
                "property": "entity_picture",
                "value": ""
            },
            {
                "property": "device_class",
                "value": ""
            }
        ],
        "resend": false,
        "debugEnabled": false
    },
    {
        "id": "ceac6b86e98289ce",
        "type": "ha-entity-config",
        "server": "4ba92433.2478cc",
        "deviceConfig": "",
        "name": "automation_barn_light_motion_detection",
        "version": "6",
        "entityType": "switch",
        "haConfig": [
            {
                "property": "name",
                "value": ""
            },
            {
                "property": "icon",
                "value": ""
            },
            {
                "property": "entity_picture",
                "value": ""
            },
            {
                "property": "entity_category",
                "value": ""
            },
            {
                "property": "device_class",
                "value": ""
            }
        ],
        "resend": false,
        "debugEnabled": false
    },
    {
        "id": "61b96249023198be",
        "type": "ha-entity-config",
        "server": "4ba92433.2478cc",
        "deviceConfig": "",
        "name": "notification_level_info_turn_off",
        "version": "6",
        "entityType": "button",
        "haConfig": [
            {
                "property": "name",
                "value": "notification_level_info_turn_off"
            },
            {
                "property": "icon",
                "value": ""
            },
            {
                "property": "entity_picture",
                "value": ""
            },
            {
                "property": "entity_category",
                "value": ""
            },
            {
                "property": "device_class",
                "value": ""
            }
        ],
        "resend": false,
        "debugEnabled": false
    },
    {
        "id": "ce2ff010477149a7",
        "type": "ha-entity-config",
        "server": "4ba92433.2478cc",
        "deviceConfig": "",
        "name": "notification_level_warning_turn_off",
        "version": "6",
        "entityType": "button",
        "haConfig": [
            {
                "property": "name",
                "value": "notification_level_warning_turn_off"
            },
            {
                "property": "icon",
                "value": ""
            },
            {
                "property": "entity_picture",
                "value": ""
            },
            {
                "property": "entity_category",
                "value": ""
            },
            {
                "property": "device_class",
                "value": ""
            }
        ],
        "resend": false,
        "debugEnabled": false
    },
    {
        "id": "fed106bf198ad2ea",
        "type": "ha-entity-config",
        "server": "4ba92433.2478cc",
        "deviceConfig": "",
        "name": "notification_level_warning",
        "version": "6",
        "entityType": "binary_sensor",
        "haConfig": [
            {
                "property": "name",
                "value": "notification_level_warning"
            },
            {
                "property": "icon",
                "value": ""
            },
            {
                "property": "entity_picture",
                "value": ""
            },
            {
                "property": "entity_category",
                "value": ""
            },
            {
                "property": "device_class",
                "value": ""
            }
        ],
        "resend": true,
        "debugEnabled": false
    },
    {
        "id": "287aaae77d488c09",
        "type": "ha-entity-config",
        "server": "4ba92433.2478cc",
        "deviceConfig": "",
        "name": "notification_level_error_turn_off",
        "version": "6",
        "entityType": "button",
        "haConfig": [
            {
                "property": "name",
                "value": "notification_level_error_turn_off"
            },
            {
                "property": "icon",
                "value": ""
            },
            {
                "property": "entity_picture",
                "value": ""
            },
            {
                "property": "entity_category",
                "value": ""
            },
            {
                "property": "device_class",
                "value": ""
            }
        ],
        "resend": false,
        "debugEnabled": false
    },
    {
        "id": "d2b97f89ed6763e5",
        "type": "ha-entity-config",
        "server": "4ba92433.2478cc",
        "deviceConfig": "",
        "name": "notification_level_error",
        "version": "6",
        "entityType": "binary_sensor",
        "haConfig": [
            {
                "property": "name",
                "value": "notification_level_error"
            },
            {
                "property": "icon",
                "value": ""
            },
            {
                "property": "entity_picture",
                "value": ""
            },
            {
                "property": "entity_category",
                "value": ""
            },
            {
                "property": "device_class",
                "value": ""
            }
        ],
        "resend": true,
        "debugEnabled": false
    },
    {
        "id": "cab73c1a38f001be",
        "type": "ha-entity-config",
        "server": "4ba92433.2478cc",
        "deviceConfig": "",
        "name": "notification_level_info",
        "version": "6",
        "entityType": "binary_sensor",
        "haConfig": [
            {
                "property": "name",
                "value": "notification_level_info"
            },
            {
                "property": "icon",
                "value": ""
            },
            {
                "property": "entity_picture",
                "value": ""
            },
            {
                "property": "entity_category",
                "value": ""
            },
            {
                "property": "device_class",
                "value": ""
            }
        ],
        "resend": true,
        "debugEnabled": false
    },
    {
        "id": "3cbf2c3454c3795d",
        "type": "ha-entity-config",
        "server": "4ba92433.2478cc",
        "deviceConfig": "",
        "name": "notification_level_clear_all",
        "version": "6",
        "entityType": "button",
        "haConfig": [
            {
                "property": "name",
                "value": "notification_level_clear_all"
            },
            {
                "property": "icon",
                "value": ""
            },
            {
                "property": "entity_picture",
                "value": ""
            },
            {
                "property": "entity_category",
                "value": ""
            },
            {
                "property": "device_class",
                "value": ""
            }
        ],
        "resend": false,
        "debugEnabled": false
    },
    {
        "id": "df0e222b4bf2971f",
        "type": "ha-entity-config",
        "server": "4ba92433.2478cc",
        "deviceConfig": "",
        "name": "notification_on_counter",
        "version": "6",
        "entityType": "sensor",
        "haConfig": [
            {
                "property": "name",
                "value": "notification_on_counter"
            },
            {
                "property": "icon",
                "value": ""
            },
            {
                "property": "entity_picture",
                "value": ""
            },
            {
                "property": "entity_category",
                "value": ""
            },
            {
                "property": "device_class",
                "value": ""
            },
            {
                "property": "unit_of_measurement",
                "value": ""
            },
            {
                "property": "state_class",
                "value": "total"
            }
        ],
        "resend": true,
        "debugEnabled": false
    },
    {
        "id": "b91508ea44734193",
        "type": "ha-entity-config",
        "server": "4ba92433.2478cc",
        "deviceConfig": "",
        "name": "custom_backyard_person_occupancy",
        "version": "6",
        "entityType": "binary_sensor",
        "haConfig": [
            {
                "property": "name",
                "value": "custom_backyard_person_occupancy"
            },
            {
                "property": "icon",
                "value": ""
            },
            {
                "property": "entity_picture",
                "value": ""
            },
            {
                "property": "entity_category",
                "value": ""
            },
            {
                "property": "device_class",
                "value": "motion"
            }
        ],
        "resend": false,
        "debugEnabled": false
    },
    {
        "id": "3f4f99b6c043befd",
        "type": "ha-entity-config",
        "server": "4ba92433.2478cc",
        "deviceConfig": "",
        "name": "custom_energy_usage",
        "version": "6",
        "entityType": "sensor",
        "haConfig": [
            {
                "property": "name",
                "value": "custom_energy_usage"
            },
            {
                "property": "icon",
                "value": ""
            },
            {
                "property": "entity_category",
                "value": ""
            },
            {
                "property": "entity_picture",
                "value": ""
            },
            {
                "property": "device_class",
                "value": ""
            },
            {
                "property": "unit_of_measurement",
                "value": ""
            },
            {
                "property": "state_class",
                "value": ""
            }
        ],
        "resend": false,
        "debugEnabled": false
    },
    {
        "id": "d536c618bffe48c4",
        "type": "ha-entity-config",
        "server": "4ba92433.2478cc",
        "deviceConfig": "",
        "name": "custom_voltage_difference",
        "version": "6",
        "entityType": "sensor",
        "haConfig": [
            {
                "property": "name",
                "value": "custom_voltage_difference"
            },
            {
                "property": "icon",
                "value": ""
            },
            {
                "property": "entity_picture",
                "value": ""
            },
            {
                "property": "entity_category",
                "value": ""
            },
            {
                "property": "device_class",
                "value": "voltage"
            },
            {
                "property": "unit_of_measurement",
                "value": "V"
            },
            {
                "property": "state_class",
                "value": ""
            }
        ],
        "resend": false,
        "debugEnabled": false
    },
    {
        "id": "dd558d37ebd87d72",
        "type": "ha-entity-config",
        "server": "4ba92433.2478cc",
        "deviceConfig": "",
        "name": "custom_weather_description_01",
        "version": "6",
        "entityType": "sensor",
        "haConfig": [
            {
                "property": "name",
                "value": "custom_weather_description_01"
            },
            {
                "property": "icon",
                "value": ""
            },
            {
                "property": "entity_picture",
                "value": ""
            },
            {
                "property": "entity_category",
                "value": ""
            },
            {
                "property": "device_class",
                "value": ""
            },
            {
                "property": "unit_of_measurement",
                "value": ""
            },
            {
                "property": "state_class",
                "value": ""
            }
        ],
        "resend": false,
        "debugEnabled": false
    },
    {
        "id": "4ba92433.2478cc",
        "type": "server",
        "name": "Home Assistant",
        "version": 5,
        "addon": false,
        "rejectUnauthorizedCerts": false,
        "ha_boolean": "y|yes|true|on|home|open",
        "connectionDelay": true,
        "cacheJson": true,
        "heartbeat": true,
        "heartbeatInterval": "30",
        "areaSelector": "id",
        "deviceSelector": "id",
        "entitySelector": "id",
        "statusSeparator": "at: ",
        "statusYear": "hidden",
        "statusMonth": "short",
        "statusDay": "numeric",
        "statusHourCycle": "h23",
        "statusTimeFormat": "h:m",
        "enableGlobalContextStore": true
    },
    {
        "id": "8db70a2720a60b47",
        "type": "ha-entity-config",
        "server": "4ba92433.2478cc",
        "deviceConfig": "",
        "name": "custom_energy_returned_watt",
        "version": "6",
        "entityType": "sensor",
        "haConfig": [
            {
                "property": "name",
                "value": "custom_energy_returned_watt"
            },
            {
                "property": "icon",
                "value": ""
            },
            {
                "property": "entity_picture",
                "value": ""
            },
            {
                "property": "entity_category",
                "value": ""
            },
            {
                "property": "device_class",
                "value": "power"
            },
            {
                "property": "unit_of_measurement",
                "value": "W"
            },
            {
                "property": "state_class",
                "value": "measurement"
            }
        ],
        "resend": false,
        "debugEnabled": false
    },
    {
        "id": "a4ceb3e9.e8677",
        "type": "comment",
        "z": "67a1c55d.b4b94c",
        "name": "turn on christmas tree lights",
        "info": "",
        "x": 140,
        "y": 20,
        "wires": []
    },
    {
        "id": "ee31ef8.f2bc11",
        "type": "api-call-service",
        "z": "67a1c55d.b4b94c",
        "name": "turn on light christmas tree",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "light.christmas_tree"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "light",
        "service": "turn_on",
        "x": 460,
        "y": 160,
        "wires": [
            []
        ]
    },
    {
        "id": "acbe7857.d6ebf8",
        "type": "api-current-state",
        "z": "67a1c55d.b4b94c",
        "name": "state christmas tree light off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "light.christmas_tree",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 200,
        "y": 160,
        "wires": [
            [
                "ee31ef8.f2bc11"
            ],
            []
        ]
    },
    {
        "id": "549f3029b1ad90ef",
        "type": "catch",
        "z": "67a1c55d.b4b94c",
        "g": "f28fc2f8203308af",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "66841ff1d725264c"
            ]
        ]
    },
    {
        "id": "66841ff1d725264c",
        "type": "template",
        "z": "67a1c55d.b4b94c",
        "g": "f28fc2f8203308af",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "d6797f2c750c14dd"
            ]
        ]
    },
    {
        "id": "f6d7e40935ada980",
        "type": "link out",
        "z": "67a1c55d.b4b94c",
        "g": "f28fc2f8203308af",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [],
        "x": 475,
        "y": 80,
        "wires": []
    },
    {
        "id": "d6797f2c750c14dd",
        "type": "template",
        "z": "67a1c55d.b4b94c",
        "g": "f28fc2f8203308af",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "f6d7e40935ada980"
            ]
        ]
    },
    {
        "id": "2f0fa5a0.865c7a",
        "type": "delay",
        "z": "ae97b8c4.cadf68",
        "name": "",
        "pauseType": "delay",
        "timeout": "1",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "outputs": 1,
        "x": 100,
        "y": 360,
        "wires": [
            [
                "b45f9d71.76535"
            ]
        ]
    },
    {
        "id": "173bc2da.660c4d",
        "type": "delay",
        "z": "ae97b8c4.cadf68",
        "name": "",
        "pauseType": "delay",
        "timeout": "1",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "outputs": 1,
        "x": 100,
        "y": 400,
        "wires": [
            [
                "a25d7a80.b14218"
            ]
        ]
    },
    {
        "id": "79cbb9f5.420d88",
        "type": "comment",
        "z": "ae97b8c4.cadf68",
        "name": "TURN ON MECHANICAL VENTILATION POSITION 0 (OFF)",
        "info": "",
        "x": 240,
        "y": 20,
        "wires": []
    },
    {
        "id": "a25d7a80.b14218",
        "type": "api-call-service",
        "z": "ae97b8c4.cadf68",
        "name": "turn off basement ventilation sw 01",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "switch.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "switch.basement_ventilation_sw_01"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "switch",
        "service": "turn_off",
        "x": 320,
        "y": 400,
        "wires": [
            []
        ]
    },
    {
        "id": "b45f9d71.76535",
        "type": "api-call-service",
        "z": "ae97b8c4.cadf68",
        "name": "turn off basement ventilation sw 03",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "switch.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "switch.basement_ventilation_sw_03"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "switch",
        "service": "turn_off",
        "x": 320,
        "y": 360,
        "wires": [
            [
                "173bc2da.660c4d"
            ]
        ]
    },
    {
        "id": "548afe85.bb99b",
        "type": "api-call-service",
        "z": "ae97b8c4.cadf68",
        "name": "turn off basement ventilation sw 04",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "switch.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "switch.basement_ventilation_sw_04"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "switch",
        "service": "turn_off",
        "x": 320,
        "y": 320,
        "wires": [
            [
                "2f0fa5a0.865c7a"
            ]
        ]
    },
    {
        "id": "91170752.b5e108",
        "type": "api-call-service",
        "z": "ae97b8c4.cadf68",
        "name": "turn on mechanical ventilation position 0",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "input_boolean.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_boolean.mechanical_ventilation_position_0"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "input_boolean",
        "service": "turn_on",
        "x": 680,
        "y": 160,
        "wires": [
            []
        ]
    },
    {
        "id": "88d9501e.62d3f",
        "type": "api-call-service",
        "z": "ae97b8c4.cadf68",
        "name": "turn off mechanical ventilation position 3",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "input_boolean.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_boolean.mechanical_ventilation_position_3"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "input_boolean",
        "service": "turn_off",
        "x": 340,
        "y": 200,
        "wires": [
            []
        ]
    },
    {
        "id": "dc46b98b.357d48",
        "type": "api-call-service",
        "z": "ae97b8c4.cadf68",
        "name": "turn off mechanical ventilation position 2",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "input_boolean.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_boolean.mechanical_ventilation_position_2"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "input_boolean",
        "service": "turn_off",
        "x": 340,
        "y": 240,
        "wires": [
            []
        ]
    },
    {
        "id": "503f2e1f.52099",
        "type": "api-call-service",
        "z": "ae97b8c4.cadf68",
        "name": "turn off mechanical ventilation position 1",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "input_boolean.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_boolean.mechanical_ventilation_position_1"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "input_boolean",
        "service": "turn_off",
        "x": 340,
        "y": 280,
        "wires": [
            []
        ]
    },
    {
        "id": "6ee42911.2e8038",
        "type": "api-current-state",
        "z": "ae97b8c4.cadf68",
        "name": "state mechanical ventilation position 0 off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.mechanical_ventilation_position_0",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 340,
        "y": 160,
        "wires": [
            [
                "91170752.b5e108"
            ],
            []
        ]
    },
    {
        "id": "87f219e0dead807c",
        "type": "catch",
        "z": "ae97b8c4.cadf68",
        "g": "7619e564a00bc2fd",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "8df147c5e3141be5"
            ]
        ]
    },
    {
        "id": "8df147c5e3141be5",
        "type": "template",
        "z": "ae97b8c4.cadf68",
        "g": "7619e564a00bc2fd",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "957ebc244112d9e5"
            ]
        ]
    },
    {
        "id": "3308ce4cf269492e",
        "type": "link out",
        "z": "ae97b8c4.cadf68",
        "g": "7619e564a00bc2fd",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [],
        "x": 475,
        "y": 80,
        "wires": []
    },
    {
        "id": "957ebc244112d9e5",
        "type": "template",
        "z": "ae97b8c4.cadf68",
        "g": "7619e564a00bc2fd",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "3308ce4cf269492e"
            ]
        ]
    },
    {
        "id": "1b5a44e0.60722b",
        "type": "delay",
        "z": "db575387.da1ff",
        "name": "",
        "pauseType": "delay",
        "timeout": "1",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "outputs": 1,
        "x": 100,
        "y": 360,
        "wires": [
            [
                "ffe39356.ffeb1"
            ]
        ]
    },
    {
        "id": "6b0e95f7.36172c",
        "type": "delay",
        "z": "db575387.da1ff",
        "name": "",
        "pauseType": "delay",
        "timeout": "1",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "outputs": 1,
        "x": 100,
        "y": 400,
        "wires": [
            [
                "8668dce7.57953"
            ]
        ]
    },
    {
        "id": "a1e3c2c3.89f1",
        "type": "comment",
        "z": "db575387.da1ff",
        "name": "TURN ON MECHANICAL VENTILATION POSITION 1",
        "info": "",
        "x": 220,
        "y": 20,
        "wires": []
    },
    {
        "id": "8668dce7.57953",
        "type": "api-call-service",
        "z": "db575387.da1ff",
        "name": "turn on basement ventilation sw 01",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "switch.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "switch.basement_ventilation_sw_01"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "switch",
        "service": "turn_on",
        "x": 320,
        "y": 400,
        "wires": [
            []
        ]
    },
    {
        "id": "ffe39356.ffeb1",
        "type": "api-call-service",
        "z": "db575387.da1ff",
        "name": "turn off basement ventilation sw 03",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "switch.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "switch.basement_ventilation_sw_03"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "switch",
        "service": "turn_off",
        "x": 320,
        "y": 360,
        "wires": [
            [
                "6b0e95f7.36172c"
            ]
        ]
    },
    {
        "id": "8b040be5.93ed48",
        "type": "api-call-service",
        "z": "db575387.da1ff",
        "name": "turn off basement ventilation sw 04",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "switch.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "switch.basement_ventilation_sw_04"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "switch",
        "service": "turn_off",
        "x": 320,
        "y": 320,
        "wires": [
            [
                "1b5a44e0.60722b"
            ]
        ]
    },
    {
        "id": "e27dc924.6fc2a8",
        "type": "api-call-service",
        "z": "db575387.da1ff",
        "name": "turn on mechanical ventilation position 1",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "input_boolean.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_boolean.mechanical_ventilation_position_1"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "input_boolean",
        "service": "turn_on",
        "x": 680,
        "y": 160,
        "wires": [
            []
        ]
    },
    {
        "id": "22d68758.286778",
        "type": "api-call-service",
        "z": "db575387.da1ff",
        "name": "turn off mechanical ventilation position 2",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "input_boolean.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_boolean.mechanical_ventilation_position_2"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "input_boolean",
        "service": "turn_off",
        "x": 340,
        "y": 200,
        "wires": [
            []
        ]
    },
    {
        "id": "f9710a73.bad7a8",
        "type": "api-call-service",
        "z": "db575387.da1ff",
        "name": "turn off mechanical ventilation position 3",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "input_boolean.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_boolean.mechanical_ventilation_position_3"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "input_boolean",
        "service": "turn_off",
        "x": 340,
        "y": 240,
        "wires": [
            []
        ]
    },
    {
        "id": "9ecd488b.368338",
        "type": "api-call-service",
        "z": "db575387.da1ff",
        "name": "turn off mechanical ventilation position 0",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "input_boolean.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_boolean.mechanical_ventilation_position_0"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "input_boolean",
        "service": "turn_off",
        "x": 340,
        "y": 280,
        "wires": [
            []
        ]
    },
    {
        "id": "7d39d435.8e108c",
        "type": "api-current-state",
        "z": "db575387.da1ff",
        "name": "state mechanical ventilation position 1 off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.mechanical_ventilation_position_1",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 340,
        "y": 160,
        "wires": [
            [
                "e27dc924.6fc2a8"
            ],
            []
        ]
    },
    {
        "id": "b885e30f642e2062",
        "type": "catch",
        "z": "db575387.da1ff",
        "g": "7cbea3b8b9197fc8",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "1d0a4eb7e77c2abb"
            ]
        ]
    },
    {
        "id": "1d0a4eb7e77c2abb",
        "type": "template",
        "z": "db575387.da1ff",
        "g": "7cbea3b8b9197fc8",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "e54ddbbfda30501e"
            ]
        ]
    },
    {
        "id": "cee0e1460b80ceea",
        "type": "link out",
        "z": "db575387.da1ff",
        "g": "7cbea3b8b9197fc8",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [],
        "x": 475,
        "y": 80,
        "wires": []
    },
    {
        "id": "e54ddbbfda30501e",
        "type": "template",
        "z": "db575387.da1ff",
        "g": "7cbea3b8b9197fc8",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "cee0e1460b80ceea"
            ]
        ]
    },
    {
        "id": "7d3cfcb8.e589c4",
        "type": "delay",
        "z": "279f5735.2f95d8",
        "name": "",
        "pauseType": "delay",
        "timeout": "1",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "outputs": 1,
        "x": 100,
        "y": 400,
        "wires": [
            [
                "181e942.589516c"
            ]
        ]
    },
    {
        "id": "ad750753.bff338",
        "type": "delay",
        "z": "279f5735.2f95d8",
        "name": "",
        "pauseType": "delay",
        "timeout": "1",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "outputs": 1,
        "x": 100,
        "y": 360,
        "wires": [
            [
                "22428d95.0b7e92"
            ]
        ]
    },
    {
        "id": "f4b09ae3.f31bb8",
        "type": "comment",
        "z": "279f5735.2f95d8",
        "name": "TURN ON MECHANICAL VENTILATION POSITION 2",
        "info": "",
        "x": 220,
        "y": 20,
        "wires": []
    },
    {
        "id": "181e942.589516c",
        "type": "api-call-service",
        "z": "279f5735.2f95d8",
        "name": "turn on basement ventilation sw 03",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "switch.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "switch.basement_ventilation_sw_03"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "switch",
        "service": "turn_on",
        "x": 320,
        "y": 400,
        "wires": [
            []
        ]
    },
    {
        "id": "208c6617.a5188a",
        "type": "api-call-service",
        "z": "279f5735.2f95d8",
        "name": "turn off basement ventilation sw 04",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "switch.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "switch.basement_ventilation_sw_04"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "switch",
        "service": "turn_off",
        "x": 320,
        "y": 320,
        "wires": [
            [
                "ad750753.bff338"
            ]
        ]
    },
    {
        "id": "52801c6b.b0a794",
        "type": "api-call-service",
        "z": "279f5735.2f95d8",
        "name": "turn on mechanical ventilation position 2",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "input_boolean.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_boolean.mechanical_ventilation_position_2"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "input_boolean",
        "service": "turn_on",
        "x": 680,
        "y": 160,
        "wires": [
            []
        ]
    },
    {
        "id": "87d1779f.504ce8",
        "type": "api-call-service",
        "z": "279f5735.2f95d8",
        "name": "turn off mechanical ventilation position 1",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "input_boolean.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_boolean.mechanical_ventilation_position_1"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "input_boolean",
        "service": "turn_off",
        "x": 340,
        "y": 200,
        "wires": [
            []
        ]
    },
    {
        "id": "f2672c4e.79f33",
        "type": "api-call-service",
        "z": "279f5735.2f95d8",
        "name": "turn off mechanical ventilation position 3",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "input_boolean.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_boolean.mechanical_ventilation_position_3"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "input_boolean",
        "service": "turn_off",
        "x": 340,
        "y": 240,
        "wires": [
            []
        ]
    },
    {
        "id": "c8732b7b.c22168",
        "type": "api-call-service",
        "z": "279f5735.2f95d8",
        "name": "turn off mechanical ventilation position 0",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "input_boolean.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_boolean.mechanical_ventilation_position_0"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "input_boolean",
        "service": "turn_off",
        "x": 340,
        "y": 280,
        "wires": [
            []
        ]
    },
    {
        "id": "22428d95.0b7e92",
        "type": "api-call-service",
        "z": "279f5735.2f95d8",
        "name": "turn on basement ventilation sw 01",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "switch.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "switch.basement_ventilation_sw_01"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "switch",
        "service": "turn_on",
        "x": 320,
        "y": 360,
        "wires": [
            [
                "7d3cfcb8.e589c4"
            ]
        ]
    },
    {
        "id": "8a9d5b61.87e578",
        "type": "api-current-state",
        "z": "279f5735.2f95d8",
        "name": "state mechanical ventilation position 2 off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.mechanical_ventilation_position_2",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 340,
        "y": 160,
        "wires": [
            [
                "52801c6b.b0a794"
            ],
            []
        ]
    },
    {
        "id": "71f0e61352a29032",
        "type": "catch",
        "z": "279f5735.2f95d8",
        "g": "3f2a3da109059d1d",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "6ebc4a0b497a1a9e"
            ]
        ]
    },
    {
        "id": "6ebc4a0b497a1a9e",
        "type": "template",
        "z": "279f5735.2f95d8",
        "g": "3f2a3da109059d1d",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "27422d673d997a18"
            ]
        ]
    },
    {
        "id": "4c0ddeb8e27647ec",
        "type": "link out",
        "z": "279f5735.2f95d8",
        "g": "3f2a3da109059d1d",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [],
        "x": 475,
        "y": 80,
        "wires": []
    },
    {
        "id": "27422d673d997a18",
        "type": "template",
        "z": "279f5735.2f95d8",
        "g": "3f2a3da109059d1d",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "4c0ddeb8e27647ec"
            ]
        ]
    },
    {
        "id": "60dd6167.2f76a",
        "type": "delay",
        "z": "7d5d30e3.483af",
        "name": "",
        "pauseType": "delay",
        "timeout": "1",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "outputs": 1,
        "x": 100,
        "y": 400,
        "wires": [
            [
                "16dea36a.4cb2cd"
            ]
        ]
    },
    {
        "id": "2e60ec0b.ebbaf4",
        "type": "delay",
        "z": "7d5d30e3.483af",
        "name": "",
        "pauseType": "delay",
        "timeout": "1",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "outputs": 1,
        "x": 100,
        "y": 360,
        "wires": [
            [
                "c54b81c6.cf925"
            ]
        ]
    },
    {
        "id": "c8c40934.304388",
        "type": "comment",
        "z": "7d5d30e3.483af",
        "name": "TURN ON MECHANICAL VENTILATION POSITION 3",
        "info": "",
        "x": 220,
        "y": 20,
        "wires": []
    },
    {
        "id": "c54b81c6.cf925",
        "type": "api-call-service",
        "z": "7d5d30e3.483af",
        "name": "turn off basement ventilation sw 03",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "switch.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "switch.basement_ventilation_sw_03"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "switch",
        "service": "turn_off",
        "x": 320,
        "y": 360,
        "wires": [
            [
                "60dd6167.2f76a"
            ]
        ]
    },
    {
        "id": "16dea36a.4cb2cd",
        "type": "api-call-service",
        "z": "7d5d30e3.483af",
        "name": "turn on basement ventilation sw 04",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "switch.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "switch.basement_ventilation_sw_04"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "switch",
        "service": "turn_on",
        "x": 320,
        "y": 400,
        "wires": [
            []
        ]
    },
    {
        "id": "720db208.aa887c",
        "type": "api-call-service",
        "z": "7d5d30e3.483af",
        "name": "turn on mechanical ventilation position 3",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "input_boolean.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_boolean.mechanical_ventilation_position_3"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "input_boolean",
        "service": "turn_on",
        "x": 680,
        "y": 160,
        "wires": [
            []
        ]
    },
    {
        "id": "ff1ccbdb.9906b8",
        "type": "api-call-service",
        "z": "7d5d30e3.483af",
        "name": "turn off mechanical ventilation position 1",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "input_boolean.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_boolean.mechanical_ventilation_position_1"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "input_boolean",
        "service": "turn_off",
        "x": 340,
        "y": 200,
        "wires": [
            []
        ]
    },
    {
        "id": "76af25f8.0585fc",
        "type": "api-call-service",
        "z": "7d5d30e3.483af",
        "name": "turn off mechanical ventilation position 2",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "input_boolean.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_boolean.mechanical_ventilation_position_2"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "input_boolean",
        "service": "turn_off",
        "x": 340,
        "y": 240,
        "wires": [
            []
        ]
    },
    {
        "id": "18f13f23.6c3a51",
        "type": "api-call-service",
        "z": "7d5d30e3.483af",
        "name": "turn off mechanical ventilation position 0",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "input_boolean.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_boolean.mechanical_ventilation_position_0"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "input_boolean",
        "service": "turn_off",
        "x": 340,
        "y": 280,
        "wires": [
            []
        ]
    },
    {
        "id": "30d47f9.e06228",
        "type": "api-call-service",
        "z": "7d5d30e3.483af",
        "name": "turn on basement ventilation sw 01",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "switch.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "switch.basement_ventilation_sw_01"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "switch",
        "service": "turn_on",
        "x": 320,
        "y": 320,
        "wires": [
            [
                "2e60ec0b.ebbaf4"
            ]
        ]
    },
    {
        "id": "54b5ba76.827954",
        "type": "api-current-state",
        "z": "7d5d30e3.483af",
        "name": "state mechanical ventilation position 3 off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.mechanical_ventilation_position_3",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 340,
        "y": 160,
        "wires": [
            [
                "720db208.aa887c"
            ],
            []
        ]
    },
    {
        "id": "9b5ff62b436c722a",
        "type": "catch",
        "z": "7d5d30e3.483af",
        "g": "3e0c5339419b6665",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "6a94d270fa18444c"
            ]
        ]
    },
    {
        "id": "6a94d270fa18444c",
        "type": "template",
        "z": "7d5d30e3.483af",
        "g": "3e0c5339419b6665",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "f635f3fc45b4aff6"
            ]
        ]
    },
    {
        "id": "4b1d7947bb43e759",
        "type": "link out",
        "z": "7d5d30e3.483af",
        "g": "3e0c5339419b6665",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [],
        "x": 475,
        "y": 80,
        "wires": []
    },
    {
        "id": "f635f3fc45b4aff6",
        "type": "template",
        "z": "7d5d30e3.483af",
        "g": "3e0c5339419b6665",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "4b1d7947bb43e759"
            ]
        ]
    },
    {
        "id": "03510cfeb8e1fc1f",
        "type": "comment",
        "z": "747e156c11e4e604",
        "name": "trigger when a door opens or closes",
        "info": "",
        "x": 160,
        "y": 20,
        "wires": []
    },
    {
        "id": "6b7ddb8ad38004e5",
        "type": "catch",
        "z": "747e156c11e4e604",
        "g": "f1c27cc6414561c7",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "8c9e13eba1e37b61"
            ]
        ]
    },
    {
        "id": "8c9e13eba1e37b61",
        "type": "template",
        "z": "747e156c11e4e604",
        "g": "f1c27cc6414561c7",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "5ef9f55014b6f981"
            ]
        ]
    },
    {
        "id": "315c0bcd8e6fef5f",
        "type": "link out",
        "z": "747e156c11e4e604",
        "g": "f1c27cc6414561c7",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 475,
        "y": 80,
        "wires": []
    },
    {
        "id": "5ef9f55014b6f981",
        "type": "template",
        "z": "747e156c11e4e604",
        "g": "f1c27cc6414561c7",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "315c0bcd8e6fef5f"
            ]
        ]
    },
    {
        "id": "2f36bf18d2eef10a",
        "type": "server-state-changed",
        "z": "747e156c11e4e604",
        "name": "state change for all doors",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 1,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [],
            "substring": [],
            "regex": [
                "binary_sensor.*\\b\\w*door\\b"
            ]
        },
        "outputInitially": false,
        "stateType": "str",
        "ifState": "",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 130,
        "y": 160,
        "wires": [
            [
                "13f87cfee713f150"
            ]
        ]
    },
    {
        "id": "13f87cfee713f150",
        "type": "link out",
        "z": "747e156c11e4e604",
        "name": "trigger_all_door_open_or_closed",
        "mode": "link",
        "links": [
            "236aff92bc909f96"
        ],
        "x": 275,
        "y": 160,
        "wires": []
    },
    {
        "id": "de83998fee8c6179",
        "type": "server-events",
        "z": "24d64ac8238cc218",
        "name": "listen to shelly click events",
        "server": "4ba92433.2478cc",
        "version": 3,
        "exposeAsEntityConfig": "",
        "eventType": "shelly.click",
        "eventData": "",
        "waitForRunning": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "$outputData(\"eventData\").event_type",
                "valueType": "jsonata"
            }
        ],
        "event_type": "",
        "x": 130,
        "y": 160,
        "wires": [
            [
                "4923944268d57366"
            ]
        ]
    },
    {
        "id": "54a5f6b99a8b454f",
        "type": "comment",
        "z": "24d64ac8238cc218",
        "name": "trigger when a shelly click event is detected",
        "info": "",
        "x": 180,
        "y": 20,
        "wires": []
    },
    {
        "id": "03b294ecea33cda7",
        "type": "catch",
        "z": "24d64ac8238cc218",
        "g": "b37c093ac94a1e98",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "01121dcdb1702967"
            ]
        ]
    },
    {
        "id": "01121dcdb1702967",
        "type": "template",
        "z": "24d64ac8238cc218",
        "g": "b37c093ac94a1e98",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "46e46e14cb24c85e"
            ]
        ]
    },
    {
        "id": "37b1834649576aa9",
        "type": "link out",
        "z": "24d64ac8238cc218",
        "g": "b37c093ac94a1e98",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 475,
        "y": 80,
        "wires": []
    },
    {
        "id": "46e46e14cb24c85e",
        "type": "template",
        "z": "24d64ac8238cc218",
        "g": "b37c093ac94a1e98",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "37b1834649576aa9"
            ]
        ]
    },
    {
        "id": "4923944268d57366",
        "type": "link out",
        "z": "24d64ac8238cc218",
        "name": "trigger_shelly_click_events",
        "mode": "link",
        "links": [
            "15ae1a06ef742220"
        ],
        "x": 275,
        "y": 160,
        "wires": []
    },
    {
        "id": "55630dad7aa4b97a",
        "type": "server-events",
        "z": "e44f5d834fa24670",
        "name": "mobile event listner guest mode on",
        "server": "4ba92433.2478cc",
        "version": 3,
        "exposeAsEntityConfig": "",
        "eventType": "mobile_app_notification_action",
        "eventData": "{\"action\":\"GUEST_MODE_ON\"}",
        "waitForRunning": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "$outputData(\"eventData\").event_type",
                "valueType": "jsonata"
            }
        ],
        "event_type": "",
        "x": 160,
        "y": 160,
        "wires": [
            [
                "f3bf4b7d7123292b"
            ]
        ]
    },
    {
        "id": "f3bf4b7d7123292b",
        "type": "link out",
        "z": "e44f5d834fa24670",
        "name": "link out 2",
        "mode": "link",
        "links": [
            "0adb679d772d8e29"
        ],
        "x": 335,
        "y": 160,
        "wires": []
    },
    {
        "id": "37b90611378a715c",
        "type": "comment",
        "z": "e44f5d834fa24670",
        "name": "trigger when mobile event listner has data {\"action\":\"GUEST_MODE_ON\"}",
        "info": "",
        "x": 280,
        "y": 20,
        "wires": []
    },
    {
        "id": "e47c4eb905713f27",
        "type": "catch",
        "z": "e44f5d834fa24670",
        "g": "c3775f25041c4420",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "76b0e8a6f5aaa925"
            ]
        ]
    },
    {
        "id": "76b0e8a6f5aaa925",
        "type": "template",
        "z": "e44f5d834fa24670",
        "g": "c3775f25041c4420",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "4461976ce1d368c5"
            ]
        ]
    },
    {
        "id": "de255097b6d251ec",
        "type": "link out",
        "z": "e44f5d834fa24670",
        "g": "c3775f25041c4420",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 475,
        "y": 80,
        "wires": []
    },
    {
        "id": "4461976ce1d368c5",
        "type": "template",
        "z": "e44f5d834fa24670",
        "g": "c3775f25041c4420",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "de255097b6d251ec"
            ]
        ]
    },
    {
        "id": "c9ed705836af47bb",
        "type": "comment",
        "z": "7a63032b7cac43cf",
        "name": "trigger when the doorbell button is pressed",
        "info": "",
        "x": 180,
        "y": 20,
        "wires": []
    },
    {
        "id": "a4114163f4e66b89",
        "type": "catch",
        "z": "7a63032b7cac43cf",
        "g": "f269d62ec84b4edc",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "116afd12aecfd9a9"
            ]
        ]
    },
    {
        "id": "116afd12aecfd9a9",
        "type": "template",
        "z": "7a63032b7cac43cf",
        "g": "f269d62ec84b4edc",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "e8de261ce3c7454d"
            ]
        ]
    },
    {
        "id": "42e103b5f2b1e679",
        "type": "link out",
        "z": "7a63032b7cac43cf",
        "g": "f269d62ec84b4edc",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 475,
        "y": 80,
        "wires": []
    },
    {
        "id": "e8de261ce3c7454d",
        "type": "template",
        "z": "7a63032b7cac43cf",
        "g": "f269d62ec84b4edc",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "42e103b5f2b1e679"
            ]
        ]
    },
    {
        "id": "174604fe3f8a8bcd",
        "type": "server-state-changed",
        "z": "7a63032b7cac43cf",
        "name": "state doorbell button on",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "binary_sensor.smart_doorbell_button"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": false,
        "stateType": "str",
        "ifState": "on",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 120,
        "y": 160,
        "wires": [
            [
                "3bafb9626527259f"
            ],
            []
        ]
    },
    {
        "id": "3bafb9626527259f",
        "type": "link out",
        "z": "7a63032b7cac43cf",
        "name": "trigger_doorbell_pressed",
        "mode": "link",
        "links": [
            "29ef6b63d1ee8e04",
            "9505c871fbc9e9b8"
        ],
        "x": 255,
        "y": 160,
        "wires": []
    },
    {
        "id": "c839a731325b5f56",
        "type": "server-state-changed",
        "z": "960ed9c324a9682d",
        "name": "state persons home",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "group.persons"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": false,
        "stateType": "str",
        "ifState": "not_home",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 110,
        "y": 160,
        "wires": [
            [
                "0a18bbcbd9c3cd6e"
            ],
            []
        ]
    },
    {
        "id": "2ce4492a38d5131f",
        "type": "comment",
        "z": "960ed9c324a9682d",
        "name": "trigger when last person have left home or guest mode turned off",
        "info": "",
        "x": 250,
        "y": 20,
        "wires": []
    },
    {
        "id": "13611d939983a048",
        "type": "server-state-changed",
        "z": "960ed9c324a9682d",
        "name": "state guest",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "input_boolean.guest"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": false,
        "stateType": "str",
        "ifState": "off",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 80,
        "y": 220,
        "wires": [
            [
                "8457dd663492ca8d"
            ],
            []
        ]
    },
    {
        "id": "dad8fc7416653229",
        "type": "link out",
        "z": "960ed9c324a9682d",
        "name": "trigger_home_unoccupied",
        "mode": "link",
        "links": [
            "d12914930d09e92c"
        ],
        "x": 445,
        "y": 160,
        "wires": []
    },
    {
        "id": "8303d54c6f8763c4",
        "type": "catch",
        "z": "960ed9c324a9682d",
        "g": "0db35c5731702740",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "3f5ea233d095a2a7"
            ]
        ]
    },
    {
        "id": "3f5ea233d095a2a7",
        "type": "template",
        "z": "960ed9c324a9682d",
        "g": "0db35c5731702740",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "d0618614358c50be"
            ]
        ]
    },
    {
        "id": "d5382f174608bb29",
        "type": "link out",
        "z": "960ed9c324a9682d",
        "g": "0db35c5731702740",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 475,
        "y": 80,
        "wires": []
    },
    {
        "id": "d0618614358c50be",
        "type": "template",
        "z": "960ed9c324a9682d",
        "g": "0db35c5731702740",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "d5382f174608bb29"
            ]
        ]
    },
    {
        "id": "0a18bbcbd9c3cd6e",
        "type": "api-current-state",
        "z": "960ed9c324a9682d",
        "name": "guest is on",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.guest",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 290,
        "y": 160,
        "wires": [
            [
                "dad8fc7416653229"
            ],
            []
        ]
    },
    {
        "id": "8457dd663492ca8d",
        "type": "api-current-state",
        "z": "960ed9c324a9682d",
        "name": "persons not home",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "not_home",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "group.persons",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 270,
        "y": 220,
        "wires": [
            [
                "dad8fc7416653229"
            ],
            []
        ]
    },
    {
        "id": "4aae8060dce8db6a",
        "type": "server-state-changed",
        "z": "12beaeea5e53e349",
        "name": "state persons home",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "group.persons"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": false,
        "stateType": "str",
        "ifState": "home",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 110,
        "y": 160,
        "wires": [
            [
                "8b1bdde5406f507b"
            ],
            []
        ]
    },
    {
        "id": "2e95145b213aff97",
        "type": "comment",
        "z": "12beaeea5e53e349",
        "name": "trigger when a person or persons are home or guest mode",
        "info": "",
        "x": 230,
        "y": 20,
        "wires": []
    },
    {
        "id": "b93b079df5e1a1e2",
        "type": "catch",
        "z": "12beaeea5e53e349",
        "g": "4b9dc824e8dc4f60",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "b97852abb4549332"
            ]
        ]
    },
    {
        "id": "b97852abb4549332",
        "type": "template",
        "z": "12beaeea5e53e349",
        "g": "4b9dc824e8dc4f60",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "239f25417faab75f"
            ]
        ]
    },
    {
        "id": "cda4d972226868a6",
        "type": "link out",
        "z": "12beaeea5e53e349",
        "g": "4b9dc824e8dc4f60",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 475,
        "y": 80,
        "wires": []
    },
    {
        "id": "239f25417faab75f",
        "type": "template",
        "z": "12beaeea5e53e349",
        "g": "4b9dc824e8dc4f60",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "cda4d972226868a6"
            ]
        ]
    },
    {
        "id": "e0e3382abbd19287",
        "type": "server-state-changed",
        "z": "12beaeea5e53e349",
        "name": "state guest",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "input_boolean.guest"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": false,
        "stateType": "str",
        "ifState": "on",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 80,
        "y": 220,
        "wires": [
            [
                "8b1bdde5406f507b"
            ],
            []
        ]
    },
    {
        "id": "8b1bdde5406f507b",
        "type": "link out",
        "z": "12beaeea5e53e349",
        "name": "trigger_home_occupied",
        "mode": "link",
        "links": [],
        "x": 275,
        "y": 160,
        "wires": []
    },
    {
        "id": "1e22588bbe63c367",
        "type": "comment",
        "z": "d9b05fe971d5c1b1",
        "name": "trigger when an event is found in babysitter calendar",
        "info": "",
        "x": 210,
        "y": 20,
        "wires": []
    },
    {
        "id": "21483532a6568ef0",
        "type": "catch",
        "z": "d9b05fe971d5c1b1",
        "g": "b2c83f4475ac19e8",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "2413d6e9e633df33"
            ]
        ]
    },
    {
        "id": "2413d6e9e633df33",
        "type": "template",
        "z": "d9b05fe971d5c1b1",
        "g": "b2c83f4475ac19e8",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "d6d97696332334d3"
            ]
        ]
    },
    {
        "id": "87c05e9e80c8acec",
        "type": "link out",
        "z": "d9b05fe971d5c1b1",
        "g": "b2c83f4475ac19e8",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 475,
        "y": 80,
        "wires": []
    },
    {
        "id": "d6d97696332334d3",
        "type": "template",
        "z": "d9b05fe971d5c1b1",
        "g": "b2c83f4475ac19e8",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "87c05e9e80c8acec"
            ]
        ]
    },
    {
        "id": "d2c560378b1b926b",
        "type": "server-state-changed",
        "z": "d9b05fe971d5c1b1",
        "name": "babysitter calendar event ",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "calendar.lise_babysitter"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": true,
        "stateType": "str",
        "ifState": "on",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 130,
        "y": 160,
        "wires": [
            [
                "e787939d2bae52df"
            ],
            []
        ]
    },
    {
        "id": "daacb8ae6b24ed5b",
        "type": "server-state-changed",
        "z": "d9b05fe971d5c1b1",
        "name": "babysitter calendar event ",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "calendar.beau_babysitter"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": true,
        "stateType": "str",
        "ifState": "on",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 130,
        "y": 220,
        "wires": [
            [
                "e787939d2bae52df"
            ],
            []
        ]
    },
    {
        "id": "e787939d2bae52df",
        "type": "link out",
        "z": "d9b05fe971d5c1b1",
        "name": "trigger_calendar_babysitter",
        "mode": "link",
        "links": [
            "0adb679d772d8e29"
        ],
        "x": 295,
        "y": 160,
        "wires": []
    },
    {
        "id": "8640aa8957753e8d",
        "type": "server-state-changed",
        "z": "8b9f28f75c6a8cea",
        "name": "backdoor state",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "binary_sensor.backdoor"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": true,
        "stateType": "str",
        "ifState": "on",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 100,
        "y": 160,
        "wires": [
            [
                "fe840a38fa8d493b"
            ],
            [
                "fe840a38fa8d493b"
            ]
        ]
    },
    {
        "id": "586613cd92a7c70f",
        "type": "comment",
        "z": "8b9f28f75c6a8cea",
        "name": "trigger when the backdoor getting opened or closed",
        "info": "",
        "x": 210,
        "y": 20,
        "wires": []
    },
    {
        "id": "b720e68e9c64cbc4",
        "type": "catch",
        "z": "8b9f28f75c6a8cea",
        "g": "294518b9f2d20a35",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "746561afe69af34e"
            ]
        ]
    },
    {
        "id": "746561afe69af34e",
        "type": "template",
        "z": "8b9f28f75c6a8cea",
        "g": "294518b9f2d20a35",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "15aee940807c653c"
            ]
        ]
    },
    {
        "id": "d3b8e4a7f5f1fbb1",
        "type": "link out",
        "z": "8b9f28f75c6a8cea",
        "g": "294518b9f2d20a35",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 475,
        "y": 80,
        "wires": []
    },
    {
        "id": "15aee940807c653c",
        "type": "template",
        "z": "8b9f28f75c6a8cea",
        "g": "294518b9f2d20a35",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "d3b8e4a7f5f1fbb1"
            ]
        ]
    },
    {
        "id": "fe840a38fa8d493b",
        "type": "link out",
        "z": "8b9f28f75c6a8cea",
        "name": "trigger_backdoor_open_or_close",
        "mode": "link",
        "links": [
            "9767891df003f1fd"
        ],
        "x": 225,
        "y": 160,
        "wires": []
    },
    {
        "id": "9b81c86e034b8b9b",
        "type": "comment",
        "z": "e846a5a705a12fe6",
        "name": "trigger when the backyard camera detects a person",
        "info": "",
        "x": 210,
        "y": 20,
        "wires": []
    },
    {
        "id": "5f14e4bebca3d9f2",
        "type": "mqtt in",
        "z": "e846a5a705a12fe6",
        "name": "",
        "topic": "frigate/events",
        "qos": "2",
        "datatype": "auto-detect",
        "broker": "36dee637778341ba",
        "nl": false,
        "rap": true,
        "rh": 0,
        "inputs": 0,
        "x": 90,
        "y": 160,
        "wires": [
            [
                "941f22c8bd2b41ff"
            ]
        ]
    },
    {
        "id": "941f22c8bd2b41ff",
        "type": "switch",
        "z": "e846a5a705a12fe6",
        "name": "backyard",
        "property": "payload.after.camera",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "backyard",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 240,
        "y": 160,
        "wires": [
            [
                "6abf9d5f9b0bf10d"
            ]
        ]
    },
    {
        "id": "6abf9d5f9b0bf10d",
        "type": "switch",
        "z": "e846a5a705a12fe6",
        "name": "person",
        "property": "payload.after.label",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "person",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 370,
        "y": 160,
        "wires": [
            [
                "56356fe965332f8d"
            ]
        ]
    },
    {
        "id": "28572434b19c01bb",
        "type": "catch",
        "z": "e846a5a705a12fe6",
        "g": "863bc6b078a22ba5",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "7f45b305aa26cd29"
            ]
        ]
    },
    {
        "id": "7f45b305aa26cd29",
        "type": "template",
        "z": "e846a5a705a12fe6",
        "g": "863bc6b078a22ba5",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "5c0118eeae991177"
            ]
        ]
    },
    {
        "id": "7b7ff376a7aa8c64",
        "type": "link out",
        "z": "e846a5a705a12fe6",
        "g": "863bc6b078a22ba5",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 475,
        "y": 80,
        "wires": []
    },
    {
        "id": "5c0118eeae991177",
        "type": "template",
        "z": "e846a5a705a12fe6",
        "g": "863bc6b078a22ba5",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "7b7ff376a7aa8c64"
            ]
        ]
    },
    {
        "id": "56356fe965332f8d",
        "type": "link out",
        "z": "e846a5a705a12fe6",
        "name": "trigger_backyard_camera_person_detection",
        "mode": "link",
        "links": [
            "4bcb30df9a681943",
            "9767891df003f1fd"
        ],
        "x": 455,
        "y": 160,
        "wires": []
    },
    {
        "id": "0b536f63e5d6404e",
        "type": "template",
        "z": "1adcdebcdc8e5c39",
        "g": "37ce07449a33a2f1",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "3bb7516008d0f0ca"
            ]
        ]
    },
    {
        "id": "1216fc8eb38d5547",
        "type": "catch",
        "z": "1adcdebcdc8e5c39",
        "g": "37ce07449a33a2f1",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "344cbd55957359b6"
            ]
        ]
    },
    {
        "id": "344cbd55957359b6",
        "type": "template",
        "z": "1adcdebcdc8e5c39",
        "g": "37ce07449a33a2f1",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "0b536f63e5d6404e"
            ]
        ]
    },
    {
        "id": "3bb7516008d0f0ca",
        "type": "link out",
        "z": "1adcdebcdc8e5c39",
        "g": "37ce07449a33a2f1",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 475,
        "y": 80,
        "wires": []
    },
    {
        "id": "4e3d7d7dc062d5f4",
        "type": "comment",
        "z": "1adcdebcdc8e5c39",
        "name": "Set all climate graph input selects to certain input",
        "info": "",
        "x": 200,
        "y": 20,
        "wires": []
    },
    {
        "id": "caa9c954adc5c425",
        "type": "api-call-service",
        "z": "1adcdebcdc8e5c39",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "input_select.select_option",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "{{payload.entity_id}}"
        ],
        "labelId": [],
        "data": "{\"option\":\"{{data.new_state.attributes.friendly_name}}\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "input_select",
        "service": "select_option",
        "x": 630,
        "y": 160,
        "wires": [
            []
        ]
    },
    {
        "id": "a06f052e713de33d",
        "type": "server-state-changed",
        "z": "1adcdebcdc8e5c39",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 1,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [],
            "substring": [],
            "regex": [
                "input_button.climate_graph"
            ]
        },
        "outputInitially": false,
        "stateType": "str",
        "ifState": "",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 180,
        "y": 160,
        "wires": [
            [
                "6c70289470244d20"
            ]
        ]
    },
    {
        "id": "6c70289470244d20",
        "type": "ha-get-entities",
        "z": "1adcdebcdc8e5c39",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 1,
        "rules": [
            {
                "property": "entity_id",
                "logic": "is",
                "value": "input_select.climate_graph_*",
                "valueType": "re"
            }
        ],
        "outputType": "split",
        "outputEmptyResults": false,
        "outputLocationType": "msg",
        "outputLocation": "payload",
        "outputResultsCount": 1,
        "x": 430,
        "y": 160,
        "wires": [
            [
                "caa9c954adc5c425"
            ]
        ]
    },
    {
        "id": "cd802d99b317e8c3",
        "type": "template",
        "z": "a7a34028d045deee",
        "g": "b7026e569408bfbd",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "6c4b4ca33c32a0f7"
            ]
        ]
    },
    {
        "id": "6c4b4ca33c32a0f7",
        "type": "link out",
        "z": "a7a34028d045deee",
        "g": "b7026e569408bfbd",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 475,
        "y": 80,
        "wires": []
    },
    {
        "id": "3749b4ab1a0ba7cf",
        "type": "template",
        "z": "a7a34028d045deee",
        "g": "b7026e569408bfbd",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "cd802d99b317e8c3"
            ]
        ]
    },
    {
        "id": "bed74da982aa647e",
        "type": "catch",
        "z": "a7a34028d045deee",
        "g": "b7026e569408bfbd",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "3749b4ab1a0ba7cf"
            ]
        ]
    },
    {
        "id": "3564790484706ae2",
        "type": "template",
        "z": "a7a34028d045deee",
        "g": "022e7feb1e4ea3ae",
        "name": "icon",
        "field": "notify.icon",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "",
        "output": "str",
        "x": 1370,
        "y": 260,
        "wires": [
            [
                "a3cf07381c3dba65"
            ]
        ]
    },
    {
        "id": "d5d46cfd65fffc12",
        "type": "template",
        "z": "a7a34028d045deee",
        "g": "022e7feb1e4ea3ae",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Gastmodus",
        "output": "str",
        "x": 1370,
        "y": 180,
        "wires": [
            [
                "a3cf07381c3dba65"
            ]
        ]
    },
    {
        "id": "ba0bdc1db6e4e011",
        "type": "link out",
        "z": "a7a34028d045deee",
        "g": "022e7feb1e4ea3ae",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "c76d311bb4b6991b",
            "d1753081ba6b4004"
        ],
        "x": 1655,
        "y": 220,
        "wires": []
    },
    {
        "id": "a3cf07381c3dba65",
        "type": "join",
        "z": "a7a34028d045deee",
        "g": "022e7feb1e4ea3ae",
        "name": "",
        "mode": "custom",
        "build": "merged",
        "property": "notify",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "useparts": true,
        "accumulate": false,
        "timeout": "",
        "count": "8",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 1570,
        "y": 220,
        "wires": [
            [
                "ba0bdc1db6e4e011"
            ]
        ]
    },
    {
        "id": "88a668a5509178e0",
        "type": "change",
        "z": "a7a34028d045deee",
        "g": "022e7feb1e4ea3ae",
        "name": "action titles",
        "rules": [
            {
                "t": "set",
                "p": "notify.action_1_title",
                "pt": "msg",
                "to": "JA",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "notify.action_2_title",
                "pt": "msg",
                "to": "NEE",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "notify.action_1",
                "pt": "msg",
                "to": "GUEST_MODE_ON",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "notify.action_2",
                "pt": "msg",
                "to": "IGNORE",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1390,
        "y": 220,
        "wires": [
            [
                "a3cf07381c3dba65"
            ]
        ]
    },
    {
        "id": "b2e6817cd694ba28",
        "type": "template",
        "z": "a7a34028d045deee",
        "g": "022e7feb1e4ea3ae",
        "name": "notification id",
        "field": "notify.notification_id",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "guest_mode",
        "output": "str",
        "x": 1390,
        "y": 300,
        "wires": [
            [
                "a3cf07381c3dba65"
            ]
        ]
    },
    {
        "id": "880a3593d9f19b8c",
        "type": "comment",
        "z": "a7a34028d045deee",
        "name": "send notification to ask if guest mode should be turned on",
        "info": "",
        "x": 230,
        "y": 20,
        "wires": []
    },
    {
        "id": "88e2c415c85c433e",
        "type": "switch",
        "z": "a7a34028d045deee",
        "name": "door is open",
        "property": "data.new_state.state",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "on",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 870,
        "y": 160,
        "wires": [
            [
                "1ec3bf6ac9ee7791"
            ]
        ]
    },
    {
        "id": "1ec3bf6ac9ee7791",
        "type": "change",
        "z": "a7a34028d045deee",
        "name": "set topic",
        "rules": [
            {
                "t": "change",
                "p": "topic",
                "pt": "msg",
                "from": "binary_sensor.backdoor",
                "fromt": "str",
                "to": "achterdeur",
                "tot": "str"
            },
            {
                "t": "change",
                "p": "topic",
                "pt": "msg",
                "from": "binary_sensor.frontdoor",
                "fromt": "str",
                "to": "voordeur",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1020,
        "y": 160,
        "wires": [
            [
                "b02f456b71574261"
            ]
        ]
    },
    {
        "id": "b02f456b71574261",
        "type": "template",
        "z": "a7a34028d045deee",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "De {{topic}} is geopend en gastmodus is uitgeschakeld. Wil je gastmodus inschakelen?",
        "output": "str",
        "x": 1160,
        "y": 160,
        "wires": [
            [
                "f7038caa7a76e6f3"
            ]
        ]
    },
    {
        "id": "6f1338fff56e9176",
        "type": "template",
        "z": "a7a34028d045deee",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Er lijkt iemand in huis te zijn omdat er lampen zijn in- of uitgeschakeld.\\nDe gastmodus is uitgeschakeld, wil je de gastmodus inschakelen?",
        "output": "str",
        "x": 1160,
        "y": 220,
        "wires": [
            [
                "f7038caa7a76e6f3"
            ]
        ]
    },
    {
        "id": "39691718b80b4105",
        "type": "api-current-state",
        "z": "a7a34028d045deee",
        "name": "guest mode is off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.guest",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 430,
        "y": 160,
        "wires": [
            [
                "4c5e48409ce3be8d"
            ],
            []
        ]
    },
    {
        "id": "4c5e48409ce3be8d",
        "type": "api-current-state",
        "z": "a7a34028d045deee",
        "name": "group persons is not home",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "home",
        "halt_if_type": "str",
        "halt_if_compare": "is_not",
        "entity_id": "group.persons",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 660,
        "y": 160,
        "wires": [
            [
                "88e2c415c85c433e"
            ],
            []
        ]
    },
    {
        "id": "072df3e380eea942",
        "type": "api-current-state",
        "z": "a7a34028d045deee",
        "name": "group persons is not home",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "not_home",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "group.persons",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 660,
        "y": 220,
        "wires": [
            [
                "6f1338fff56e9176"
            ],
            []
        ]
    },
    {
        "id": "59a9a1e67b92890a",
        "type": "api-current-state",
        "z": "a7a34028d045deee",
        "name": "guest mode is off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.guest",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 430,
        "y": 220,
        "wires": [
            [
                "072df3e380eea942"
            ],
            []
        ]
    },
    {
        "id": "15ae1a06ef742220",
        "type": "link in",
        "z": "a7a34028d045deee",
        "name": "notification_action_turn_on_guest_mode_2",
        "links": [
            "4923944268d57366"
        ],
        "x": 305,
        "y": 220,
        "wires": [
            [
                "59a9a1e67b92890a"
            ]
        ]
    },
    {
        "id": "236aff92bc909f96",
        "type": "link in",
        "z": "a7a34028d045deee",
        "name": "notification_action_turn_on_guest_mode_1",
        "links": [
            "13f87cfee713f150"
        ],
        "x": 305,
        "y": 160,
        "wires": [
            []
        ]
    },
    {
        "id": "3212dd4ba71a225b",
        "type": "template",
        "z": "d7c35c04cc0c5b68",
        "g": "27c66ddd50cff09f",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "6f92ae57f8e67eb2"
            ]
        ]
    },
    {
        "id": "6f92ae57f8e67eb2",
        "type": "link out",
        "z": "d7c35c04cc0c5b68",
        "g": "27c66ddd50cff09f",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 475,
        "y": 80,
        "wires": []
    },
    {
        "id": "c4db1edb6aab0c6b",
        "type": "template",
        "z": "d7c35c04cc0c5b68",
        "g": "27c66ddd50cff09f",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "3212dd4ba71a225b"
            ]
        ]
    },
    {
        "id": "703a26205c7cc495",
        "type": "catch",
        "z": "d7c35c04cc0c5b68",
        "g": "27c66ddd50cff09f",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "c4db1edb6aab0c6b"
            ]
        ]
    },
    {
        "id": "2fdc370fce5756c2",
        "type": "comment",
        "z": "d7c35c04cc0c5b68",
        "name": "Flow that turns on and off the electrical heater if voltage rise or drop",
        "info": "",
        "x": 260,
        "y": 20,
        "wires": []
    },
    {
        "id": "423bfb3fe34e59d4",
        "type": "switch",
        "z": "d7c35c04cc0c5b68",
        "name": "voltage",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "gte",
                "v": "253",
                "vt": "num"
            },
            {
                "t": "gte",
                "v": "252",
                "vt": "num"
            },
            {
                "t": "lte",
                "v": "248",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 3,
        "x": 260,
        "y": 160,
        "wires": [
            [
                "ed73ef123074e011"
            ],
            [
                "05e534e21684525d"
            ],
            [
                "fd9636d9d6afe3b7"
            ]
        ]
    },
    {
        "id": "207c2f6e26d0c669",
        "type": "delay",
        "z": "d7c35c04cc0c5b68",
        "name": "",
        "pauseType": "rate",
        "timeout": "30",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "5",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": true,
        "allowrate": false,
        "outputs": 1,
        "x": 1000,
        "y": 160,
        "wires": [
            [
                "7e334b8861b9df2a"
            ]
        ]
    },
    {
        "id": "e8ce7b12402d8e51",
        "type": "api-call-service",
        "z": "d7c35c04cc0c5b68",
        "name": "turn on heater",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "switch.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "switch.shellyplugplus_heather_switch_0"
        ],
        "labelId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "switch",
        "service": "turn_on",
        "x": 820,
        "y": 160,
        "wires": [
            [
                "207c2f6e26d0c669"
            ]
        ]
    },
    {
        "id": "4ed1d7ce9b4786d9",
        "type": "api-call-service",
        "z": "d7c35c04cc0c5b68",
        "name": "turn off heater",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "switch.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "switch.shellyplugplus_heather_switch_0"
        ],
        "labelId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "switch",
        "service": "turn_off",
        "x": 1640,
        "y": 280,
        "wires": [
            []
        ]
    },
    {
        "id": "709e2d4d3b3f037d",
        "type": "api-call-service",
        "z": "d7c35c04cc0c5b68",
        "d": true,
        "name": "turn on quooker",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "switch.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "switch.shellyplugplus_quooker_switch_0"
        ],
        "labelId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "switch",
        "service": "turn_on",
        "x": 660,
        "y": 220,
        "wires": [
            []
        ]
    },
    {
        "id": "f47c7540f5a691a3",
        "type": "api-call-service",
        "z": "d7c35c04cc0c5b68",
        "name": "turn off quooker",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "switch.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "switch.shellyplugplus_quooker_switch_0"
        ],
        "labelId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "switch",
        "service": "turn_off",
        "x": 1640,
        "y": 340,
        "wires": [
            []
        ]
    },
    {
        "id": "ed73ef123074e011",
        "type": "api-current-state",
        "z": "d7c35c04cc0c5b68",
        "name": "sleepmode is off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.sleep_mode",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 460,
        "y": 160,
        "wires": [
            [
                "59263b75863fd017"
            ],
            []
        ]
    },
    {
        "id": "59263b75863fd017",
        "type": "api-current-state",
        "z": "d7c35c04cc0c5b68",
        "name": "heater is not on",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is_not",
        "entity_id": "switch.shellyplugplus_heather_switch_0",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 640,
        "y": 160,
        "wires": [
            [
                "e8ce7b12402d8e51"
            ],
            []
        ]
    },
    {
        "id": "916f461a6f7da6d3",
        "type": "api-current-state",
        "z": "d7c35c04cc0c5b68",
        "name": "heater is not off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is_not",
        "entity_id": "switch.shellyplugplus_heather_switch_0",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 1440,
        "y": 280,
        "wires": [
            [
                "4ed1d7ce9b4786d9"
            ],
            []
        ]
    },
    {
        "id": "05e534e21684525d",
        "type": "api-current-state",
        "z": "d7c35c04cc0c5b68",
        "d": true,
        "name": "quooker is not on",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is_not",
        "entity_id": "switch.shellyplugplus_quooker_switch_0",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 470,
        "y": 220,
        "wires": [
            [
                "709e2d4d3b3f037d"
            ],
            []
        ]
    },
    {
        "id": "74e76eceb1f26eaf",
        "type": "api-current-state",
        "z": "d7c35c04cc0c5b68",
        "name": "persons not home",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "home",
        "halt_if_type": "str",
        "halt_if_compare": "is_not",
        "entity_id": "group.persons",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 1250,
        "y": 340,
        "wires": [
            [
                "b01e740bd456520e"
            ],
            []
        ]
    },
    {
        "id": "b01e740bd456520e",
        "type": "api-current-state",
        "z": "d7c35c04cc0c5b68",
        "name": "quooker is not off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is_not",
        "entity_id": "switch.shellyplugplus_quooker_switch_0",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 1450,
        "y": 340,
        "wires": [
            [
                "f47c7540f5a691a3"
            ],
            []
        ]
    },
    {
        "id": "5038e1ae7ce7eb09",
        "type": "server-state-changed",
        "z": "d7c35c04cc0c5b68",
        "name": "voltage inverter",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 1,
        "exposeAsEntityConfig": "39f868aa97a1088e",
        "entities": {
            "entity": [
                "sensor.solaredge_modbus_ac_voltage_ab"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": true,
        "stateType": "str",
        "ifState": "",
        "ifStateType": "num",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 100,
        "y": 160,
        "wires": [
            [
                "423bfb3fe34e59d4"
            ]
        ]
    },
    {
        "id": "7e334b8861b9df2a",
        "type": "ha-wait-until",
        "z": "d7c35c04cc0c5b68",
        "name": "wait until voltage drop",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "entities": {
            "entity": [
                "sensor.solaredge_modbus_ac_voltage_ab"
            ],
            "substring": [],
            "regex": []
        },
        "property": "state",
        "comparator": "lt",
        "value": "249",
        "valueType": "num",
        "timeout": "30",
        "timeoutType": "num",
        "timeoutUnits": "minutes",
        "checkCurrentState": true,
        "blockInputOverrides": true,
        "outputProperties": [],
        "entityLocation": "data",
        "entityLocationType": "none",
        "x": 1200,
        "y": 160,
        "wires": [
            [
                "916f461a6f7da6d3"
            ],
            [
                "916f461a6f7da6d3"
            ]
        ]
    },
    {
        "id": "42ddeb921e7ac3ac",
        "type": "comment",
        "z": "2a2d89771193fb8b",
        "name": "Get location when door is open",
        "info": "",
        "x": 150,
        "y": 140,
        "wires": []
    },
    {
        "id": "249f5902cd409334",
        "type": "api-call-service",
        "z": "2a2d89771193fb8b",
        "name": "notify phone coen",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "notify.mobile_app_phone_coen",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [],
        "labelId": [],
        "data": "{\"message\":\"request_location_update\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "notify",
        "service": "mobile_app_phone_coen",
        "x": 310,
        "y": 180,
        "wires": [
            []
        ]
    },
    {
        "id": "21f329f381fe5581",
        "type": "api-call-service",
        "z": "2a2d89771193fb8b",
        "name": "notify phone anne",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "notify.mobile_app_phone_anne",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [],
        "labelId": [],
        "data": "{\"message\":\"request_location_update\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "notify",
        "service": "mobile_app_phone_anne",
        "x": 310,
        "y": 240,
        "wires": [
            []
        ]
    },
    {
        "id": "9598776d29dbaef1",
        "type": "server-state-changed",
        "z": "2a2d89771193fb8b",
        "name": "state front door",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 1,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "binary_sensor.frontdoor"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": true,
        "stateType": "str",
        "ifState": "",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 100,
        "y": 180,
        "wires": [
            [
                "249f5902cd409334",
                "21f329f381fe5581"
            ]
        ]
    },
    {
        "id": "827126f9f686f249",
        "type": "server-state-changed",
        "z": "2a2d89771193fb8b",
        "name": "state backdoor",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 1,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "binary_sensor.backdoor"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": true,
        "stateType": "str",
        "ifState": "",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": true,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 100,
        "y": 240,
        "wires": [
            [
                "249f5902cd409334",
                "21f329f381fe5581"
            ]
        ]
    },
    {
        "id": "a852520ede8524df",
        "type": "catch",
        "z": "2a2d89771193fb8b",
        "g": "075f4d9b063c9dbd",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 60,
        "wires": [
            [
                "c066170d3d0fe3c7"
            ]
        ]
    },
    {
        "id": "c066170d3d0fe3c7",
        "type": "template",
        "z": "2a2d89771193fb8b",
        "g": "075f4d9b063c9dbd",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 60,
        "wires": [
            [
                "3a79dff06163c162"
            ]
        ]
    },
    {
        "id": "71c8efae8c1d420b",
        "type": "link out",
        "z": "2a2d89771193fb8b",
        "g": "075f4d9b063c9dbd",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 475,
        "y": 60,
        "wires": []
    },
    {
        "id": "3a79dff06163c162",
        "type": "template",
        "z": "2a2d89771193fb8b",
        "g": "075f4d9b063c9dbd",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 60,
        "wires": [
            [
                "71c8efae8c1d420b"
            ]
        ]
    },
    {
        "id": "f9b4b865266e96f0",
        "type": "template",
        "z": "4e909abe.0b62e4",
        "g": "f7435f5ad02d3f79",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "0556160e41cbd509"
            ]
        ]
    },
    {
        "id": "0556160e41cbd509",
        "type": "link out",
        "z": "4e909abe.0b62e4",
        "g": "f7435f5ad02d3f79",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 475,
        "y": 80,
        "wires": []
    },
    {
        "id": "e4c83565e32c77fc",
        "type": "template",
        "z": "4e909abe.0b62e4",
        "g": "f7435f5ad02d3f79",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "f9b4b865266e96f0"
            ]
        ]
    },
    {
        "id": "e231947e3513d81f",
        "type": "catch",
        "z": "4e909abe.0b62e4",
        "g": "f7435f5ad02d3f79",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "e4c83565e32c77fc"
            ]
        ]
    },
    {
        "id": "d6d0b5735ad8f20a",
        "type": "template",
        "z": "4e909abe.0b62e4",
        "g": "0a1a2a6df765a339",
        "name": "notification id",
        "field": "notify.notification_id",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "mechanical_ventilation",
        "output": "str",
        "x": 2070,
        "y": 720,
        "wires": [
            [
                "a1c0156c06d58e91"
            ]
        ]
    },
    {
        "id": "febf6f9eab6e868d",
        "type": "template",
        "z": "4e909abe.0b62e4",
        "g": "0a1a2a6df765a339",
        "name": "icon",
        "field": "notify.icon",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "",
        "output": "str",
        "x": 2050,
        "y": 680,
        "wires": [
            [
                "a1c0156c06d58e91"
            ]
        ]
    },
    {
        "id": "6502d163268904d4",
        "type": "template",
        "z": "4e909abe.0b62e4",
        "g": "0a1a2a6df765a339",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Mechanische ventilatie",
        "output": "str",
        "x": 2050,
        "y": 640,
        "wires": [
            [
                "a1c0156c06d58e91"
            ]
        ]
    },
    {
        "id": "ac04035c1896218b",
        "type": "link out",
        "z": "4e909abe.0b62e4",
        "g": "0a1a2a6df765a339",
        "name": "link_out_notify_3",
        "mode": "link",
        "links": [
            "8ed3b0974336e55b",
            "a97f87cfab413716"
        ],
        "x": 2315,
        "y": 640,
        "wires": []
    },
    {
        "id": "a1c0156c06d58e91",
        "type": "join",
        "z": "4e909abe.0b62e4",
        "g": "0a1a2a6df765a339",
        "name": "",
        "mode": "custom",
        "build": "merged",
        "property": "notify",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "useparts": true,
        "accumulate": false,
        "timeout": "",
        "count": "6",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 2230,
        "y": 640,
        "wires": [
            [
                "ac04035c1896218b"
            ]
        ]
    },
    {
        "id": "399184be7531eb78",
        "type": "template",
        "z": "4e909abe.0b62e4",
        "g": "0a1a2a6df765a339",
        "name": "tag",
        "field": "notify.tag",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "mechanical_ventilation_basement",
        "output": "str",
        "x": 2050,
        "y": 760,
        "wires": [
            [
                "a1c0156c06d58e91"
            ]
        ]
    },
    {
        "id": "67db220bfc8a732a",
        "type": "template",
        "z": "4e909abe.0b62e4",
        "g": "0a1a2a6df765a339",
        "name": "click action",
        "field": "notify.clickAction",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "/dashboard-mobile/climate",
        "output": "str",
        "x": 2070,
        "y": 800,
        "wires": [
            [
                "a1c0156c06d58e91"
            ]
        ]
    },
    {
        "id": "71ae7bb3.7f9984",
        "type": "comment",
        "z": "4e909abe.0b62e4",
        "name": "MECHANICAL VENTILATION POSITION 0",
        "info": "",
        "x": 460,
        "y": 160,
        "wires": []
    },
    {
        "id": "75db2fdc.c1e22",
        "type": "inject",
        "z": "4e909abe.0b62e4",
        "name": "start_flow",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "900",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "start_flow",
        "payloadType": "str",
        "x": 130,
        "y": 160,
        "wires": [
            [
                "eaba4c18.04007",
                "4e1d6c0e.bd6b44"
            ]
        ]
    },
    {
        "id": "55ffc090.d9b5b",
        "type": "comment",
        "z": "4e909abe.0b62e4",
        "g": "fe3d60102d671872",
        "name": "MECHANICAL VENTILATION POSITION MANUAL",
        "info": "",
        "x": 490,
        "y": 1040,
        "wires": []
    },
    {
        "id": "9e8a7cf7.88d51",
        "type": "template",
        "z": "4e909abe.0b62e4",
        "g": "fe3d60102d671872",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "De laagste stand van de mechanische ventilatie is handmatig ingeschakeld.",
        "output": "str",
        "x": 720,
        "y": 1080,
        "wires": [
            [
                "46d491e1.18c83"
            ]
        ]
    },
    {
        "id": "5fba04f5.3847ac",
        "type": "template",
        "z": "4e909abe.0b62e4",
        "g": "fe3d60102d671872",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "De middelste stand van de mechanische ventilatie is handmatig ingeschakeld.",
        "output": "str",
        "x": 720,
        "y": 1140,
        "wires": [
            [
                "46d491e1.18c83"
            ]
        ]
    },
    {
        "id": "cbdc5416.0cbcd8",
        "type": "template",
        "z": "4e909abe.0b62e4",
        "g": "fe3d60102d671872",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "De hoge stand van de mechanische ventilatie is handmatig ingeschakeld.",
        "output": "str",
        "x": 720,
        "y": 1200,
        "wires": [
            [
                "46d491e1.18c83"
            ]
        ]
    },
    {
        "id": "91b0640c.1b4d68",
        "type": "template",
        "z": "4e909abe.0b62e4",
        "g": "fe3d60102d671872",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Mechanische Ventilatie is handmatig uitgeschakeld.",
        "output": "str",
        "x": 720,
        "y": 1260,
        "wires": [
            [
                "46d491e1.18c83"
            ]
        ]
    },
    {
        "id": "83e00d58.7e733",
        "type": "subflow:ae97b8c4.cadf68",
        "z": "4e909abe.0b62e4",
        "name": "",
        "env": [],
        "x": 2110,
        "y": 200,
        "wires": [
            [
                "ac8eb8a0e6387131"
            ]
        ]
    },
    {
        "id": "54922ba7.31ebb4",
        "type": "subflow:279f5735.2f95d8",
        "z": "4e909abe.0b62e4",
        "name": "",
        "x": 1170,
        "y": 740,
        "wires": [
            [
                "955d17f64b59495b"
            ]
        ]
    },
    {
        "id": "7b52e1a6.51c84",
        "type": "comment",
        "z": "4e909abe.0b62e4",
        "g": "0b07577dad51457c",
        "name": "INPUT BOOLEAN MECHANICAL VENTILATION",
        "info": "",
        "x": 480,
        "y": 1360,
        "wires": []
    },
    {
        "id": "234dfa41.bd6986",
        "type": "subflow:db575387.da1ff",
        "z": "4e909abe.0b62e4",
        "g": "0b07577dad51457c",
        "name": "",
        "env": [],
        "x": 790,
        "y": 1460,
        "wires": [
            []
        ]
    },
    {
        "id": "1bd4cbe8.185c54",
        "type": "subflow:ae97b8c4.cadf68",
        "z": "4e909abe.0b62e4",
        "g": "0b07577dad51457c",
        "name": "",
        "env": [],
        "x": 790,
        "y": 1400,
        "wires": [
            []
        ]
    },
    {
        "id": "6e490cae.31f974",
        "type": "subflow:7d5d30e3.483af",
        "z": "4e909abe.0b62e4",
        "g": "0b07577dad51457c",
        "name": "",
        "env": [],
        "x": 790,
        "y": 1580,
        "wires": [
            []
        ]
    },
    {
        "id": "66f4c227.6b8aac",
        "type": "subflow:279f5735.2f95d8",
        "z": "4e909abe.0b62e4",
        "g": "0b07577dad51457c",
        "name": "",
        "x": 790,
        "y": 1520,
        "wires": [
            []
        ]
    },
    {
        "id": "f58250ec.e0fa1",
        "type": "template",
        "z": "4e909abe.0b62e4",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Stand laag is ingeschakeld. De temperatuur buiten is {{{sensor.buienradar_temperature}}} {{data.attributes.unit_of_measurement}}",
        "output": "str",
        "x": 1800,
        "y": 320,
        "wires": [
            []
        ]
    },
    {
        "id": "46fd77b05f226788",
        "type": "comment",
        "z": "4e909abe.0b62e4",
        "name": "basement ventilation",
        "info": "",
        "x": 110,
        "y": 20,
        "wires": []
    },
    {
        "id": "9bf4aa10d1402099",
        "type": "subflow:db575387.da1ff",
        "z": "4e909abe.0b62e4",
        "name": "",
        "x": 1170,
        "y": 580,
        "wires": [
            [
                "955d17f64b59495b"
            ]
        ]
    },
    {
        "id": "a104a83026f8fd84",
        "type": "template",
        "z": "4e909abe.0b62e4",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Mechanische ventilatie is uitgeschakeld, lucht van boven condenseert mogelijk tegen de koudste oppervlakte in de kelder.\\nDe temperatuur van het koudste oppervlakte in de kelder is: {{sensor.basement_wall_temperature_offset}} ℃ \\nHet dauwpunt van de lucht in de woonkamer is: {{sensor.living_room_thermal_comfort_dew_point}} ℃",
        "output": "str",
        "x": 1260,
        "y": 200,
        "wires": [
            [
                "476cfb88.13ea74"
            ]
        ]
    },
    {
        "id": "466f23cc5674fa22",
        "type": "template",
        "z": "4e909abe.0b62e4",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Mechanische ventilatie is uitgeschakeld, de verwarming in de kelder staat aan. \\nKelder Heating Power is {{payload}}%",
        "output": "str",
        "x": 1260,
        "y": 260,
        "wires": [
            [
                "476cfb88.13ea74"
            ]
        ]
    },
    {
        "id": "a443801a148e31b6",
        "type": "function",
        "z": "4e909abe.0b62e4",
        "name": "round to two decimals",
        "func": "msg.sensor.living_room_thermal_comfort_dew_point = msg.sensor.living_room_thermal_comfort_dew_point.toFixed(2);\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1080,
        "y": 200,
        "wires": [
            [
                "a104a83026f8fd84"
            ]
        ]
    },
    {
        "id": "54696fbd78ed3819",
        "type": "comment",
        "z": "4e909abe.0b62e4",
        "g": "031e4f7e9e7c26c2",
        "name": "MECHANICAL VENTILATION POSITION MANUAL FRONTEND",
        "info": "",
        "x": 530,
        "y": 1680,
        "wires": []
    },
    {
        "id": "4a4e04ddf8350706",
        "type": "switch",
        "z": "4e909abe.0b62e4",
        "g": "031e4f7e9e7c26c2",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "Uit",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "Laag",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "Midden",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "Hoog",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "Autonoom",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 5,
        "x": 690,
        "y": 1740,
        "wires": [
            [
                "6756525186f8169e"
            ],
            [
                "9788a503135ae44e"
            ],
            [
                "cb917aa518896f3a"
            ],
            [
                "16000567cbeaf3df"
            ],
            [
                "dfffac879d63354b"
            ]
        ]
    },
    {
        "id": "cb917aa518896f3a",
        "type": "api-call-service",
        "z": "4e909abe.0b62e4",
        "g": "031e4f7e9e7c26c2",
        "name": "turn off mechanical ventilation autonomous",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "input_boolean.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_boolean.mechanical_ventilation_basement_autonomous"
        ],
        "labelId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "input_boolean",
        "service": "turn_off",
        "x": 990,
        "y": 1840,
        "wires": [
            [
                "fec6bd8d1440b36a"
            ]
        ]
    },
    {
        "id": "dfffac879d63354b",
        "type": "api-call-service",
        "z": "4e909abe.0b62e4",
        "g": "031e4f7e9e7c26c2",
        "name": "turn on mechanical ventilation autonomous",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "input_boolean.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_boolean.mechanical_ventilation_basement_autonomous"
        ],
        "labelId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "input_boolean",
        "service": "turn_on",
        "x": 990,
        "y": 1960,
        "wires": [
            []
        ]
    },
    {
        "id": "6756525186f8169e",
        "type": "api-call-service",
        "z": "4e909abe.0b62e4",
        "g": "031e4f7e9e7c26c2",
        "name": "turn off mechanical ventilation autonomous",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "input_boolean.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_boolean.mechanical_ventilation_basement_autonomous"
        ],
        "labelId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "input_boolean",
        "service": "turn_off",
        "x": 990,
        "y": 1720,
        "wires": [
            [
                "57486f510a59fd65"
            ]
        ]
    },
    {
        "id": "9788a503135ae44e",
        "type": "api-call-service",
        "z": "4e909abe.0b62e4",
        "g": "031e4f7e9e7c26c2",
        "name": "turn off mechanical ventilation autonomous",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "input_boolean.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_boolean.mechanical_ventilation_basement_autonomous"
        ],
        "labelId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "input_boolean",
        "service": "turn_off",
        "x": 990,
        "y": 1780,
        "wires": [
            [
                "60bfbb8510eb0ddf"
            ]
        ]
    },
    {
        "id": "16000567cbeaf3df",
        "type": "api-call-service",
        "z": "4e909abe.0b62e4",
        "g": "031e4f7e9e7c26c2",
        "name": "turn off mechanical ventilation autonomous",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "input_boolean.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_boolean.mechanical_ventilation_basement_autonomous"
        ],
        "labelId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "input_boolean",
        "service": "turn_off",
        "x": 990,
        "y": 1900,
        "wires": [
            [
                "3bbc2d79dae1d733"
            ]
        ]
    },
    {
        "id": "57486f510a59fd65",
        "type": "api-call-service",
        "z": "4e909abe.0b62e4",
        "g": "031e4f7e9e7c26c2",
        "name": "turn on mechanical ventilation position 0",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "input_boolean.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_boolean.mechanical_ventilation_position_0"
        ],
        "labelId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "input_boolean",
        "service": "turn_on",
        "x": 1340,
        "y": 1720,
        "wires": [
            []
        ]
    },
    {
        "id": "60bfbb8510eb0ddf",
        "type": "api-call-service",
        "z": "4e909abe.0b62e4",
        "g": "031e4f7e9e7c26c2",
        "name": "turn on mechanical ventilation position 1",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "input_boolean.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_boolean.mechanical_ventilation_position_1"
        ],
        "labelId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "input_boolean",
        "service": "turn_on",
        "x": 1340,
        "y": 1780,
        "wires": [
            []
        ]
    },
    {
        "id": "fec6bd8d1440b36a",
        "type": "api-call-service",
        "z": "4e909abe.0b62e4",
        "g": "031e4f7e9e7c26c2",
        "name": "turn on mechanical ventilation position 2",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "input_boolean.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_boolean.mechanical_ventilation_position_2"
        ],
        "labelId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "input_boolean",
        "service": "turn_on",
        "x": 1340,
        "y": 1840,
        "wires": [
            []
        ]
    },
    {
        "id": "3bbc2d79dae1d733",
        "type": "api-call-service",
        "z": "4e909abe.0b62e4",
        "g": "031e4f7e9e7c26c2",
        "name": "turn on mechanical ventilation position 3",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "input_boolean.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_boolean.mechanical_ventilation_position_3"
        ],
        "labelId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "input_boolean",
        "service": "turn_on",
        "x": 1340,
        "y": 1900,
        "wires": [
            []
        ]
    },
    {
        "id": "cbe4be0.ad6c74",
        "type": "api-current-state",
        "z": "4e909abe.0b62e4",
        "name": "state wall temperature basement < dewpoint living room",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "sensor.living_room_thermal_comfort_dew_point",
        "halt_if_type": "msg",
        "halt_if_compare": "lt",
        "entity_id": "sensor.basement_wall_temperature_offset",
        "state_type": "num",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "sensor.basement_wall_temperature_offset",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 750,
        "y": 200,
        "wires": [
            [
                "a443801a148e31b6"
            ],
            []
        ]
    },
    {
        "id": "bfdcba16.625018",
        "type": "api-current-state",
        "z": "4e909abe.0b62e4",
        "name": "state ventilation position 1 off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.mechanical_ventilation_position_1",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "input_boolean.mechanical_ventilation_position_1",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 900,
        "y": 580,
        "wires": [
            [
                "9bf4aa10d1402099"
            ],
            []
        ]
    },
    {
        "id": "e07362ff.ad189",
        "type": "api-current-state",
        "z": "4e909abe.0b62e4",
        "name": "temperature outdoor <= 5",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "5",
        "halt_if_type": "num",
        "halt_if_compare": "lte",
        "entity_id": "sensor.weather_station_temperature",
        "state_type": "num",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "sensor.buienradar_temperature",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 430,
        "y": 820,
        "wires": [
            [
                "66c60aad52f358c9"
            ],
            [
                "5ce9303e.d40b8"
            ]
        ]
    },
    {
        "id": "13e032a.2acbbcd",
        "type": "api-current-state",
        "z": "4e909abe.0b62e4",
        "name": "heating power basement <= 0%",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "0",
        "halt_if_type": "num",
        "halt_if_compare": "lte",
        "entity_id": "sensor.basement_heating",
        "state_type": "num",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "sensor.basement_heating",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 630,
        "y": 360,
        "wires": [
            [
                "8bd822f09fed1461"
            ],
            []
        ]
    },
    {
        "id": "eaba4c18.04007",
        "type": "api-current-state",
        "z": "4e909abe.0b62e4",
        "name": "state dewpoint living room ",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 1,
        "halt_if": "",
        "halt_if_type": "num",
        "halt_if_compare": "is",
        "entity_id": "sensor.living_room_thermal_comfort_dew_point",
        "state_type": "num",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "sensor.living_room_thermal_comfort_dew_point",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 410,
        "y": 200,
        "wires": [
            [
                "cbe4be0.ad6c74"
            ]
        ]
    },
    {
        "id": "46771664.f639e8",
        "type": "api-current-state",
        "z": "4e909abe.0b62e4",
        "name": "state ventilation position 2 off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.mechanical_ventilation_position_2",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "input_boolean.mechanical_ventilation_position_2",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 900,
        "y": 740,
        "wires": [
            [
                "54922ba7.31ebb4"
            ],
            []
        ]
    },
    {
        "id": "476cfb88.13ea74",
        "type": "api-current-state",
        "z": "4e909abe.0b62e4",
        "name": "state ventilation position 0 off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.mechanical_ventilation_position_0",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "input_boolean.mechanische_ventilatie_stand_uit",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 1480,
        "y": 200,
        "wires": [
            [
                "d38a7750.f848b8"
            ],
            []
        ]
    },
    {
        "id": "d38a7750.f848b8",
        "type": "api-current-state",
        "z": "4e909abe.0b62e4",
        "name": "state mechanical ventilation autonomous on",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.mechanical_ventilation_basement_autonomous",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "input_boolean.mechanische_ventilatie_autonoom",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 1790,
        "y": 200,
        "wires": [
            [
                "83e00d58.7e733"
            ],
            []
        ]
    },
    {
        "id": "46d491e1.18c83",
        "type": "api-current-state",
        "z": "4e909abe.0b62e4",
        "g": "fe3d60102d671872",
        "name": "state mechanical ventilation autonomous off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.mechanical_ventilation_basement_autonomous",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "input_boolean.mechanische_ventilatie_autonoom",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 1010,
        "y": 1080,
        "wires": [
            [
                "f348457a7db9ec8d"
            ],
            []
        ]
    },
    {
        "id": "4e1d6c0e.bd6b44",
        "type": "api-current-state",
        "z": "4e909abe.0b62e4",
        "name": "autonomous is on",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.mechanical_ventilation_basement_autonomous",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "input_boolean.mechanische_ventilatie_autonoom",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 390,
        "y": 360,
        "wires": [
            [
                "13e032a.2acbbcd"
            ],
            []
        ]
    },
    {
        "id": "a0fea0e8.d9a66",
        "type": "server-state-changed",
        "z": "4e909abe.0b62e4",
        "name": "state heating power basement  > 5",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "sensor.basement_heating"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": true,
        "stateType": "num",
        "ifState": "5",
        "ifStateType": "num",
        "ifStateOperator": "gt",
        "outputOnlyOnStateChange": true,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 440,
        "y": 260,
        "wires": [
            [
                "466f23cc5674fa22"
            ],
            []
        ]
    },
    {
        "id": "defe3bd3.cdc4d8",
        "type": "server-state-changed",
        "z": "4e909abe.0b62e4",
        "name": "state group person",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 1,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "group.persons"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": true,
        "stateType": "str",
        "ifState": "",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 110,
        "y": 200,
        "wires": [
            [
                "eaba4c18.04007",
                "4e1d6c0e.bd6b44"
            ]
        ]
    },
    {
        "id": "4146f6c2.d77108",
        "type": "server-state-changed",
        "z": "4e909abe.0b62e4",
        "name": "state guest",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 1,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "input_boolean.guest"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": true,
        "stateType": "str",
        "ifState": "",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 140,
        "y": 260,
        "wires": [
            [
                "eaba4c18.04007",
                "4e1d6c0e.bd6b44"
            ]
        ]
    },
    {
        "id": "7fcc0134.64917",
        "type": "server-state-changed",
        "z": "4e909abe.0b62e4",
        "g": "fe3d60102d671872",
        "name": "state mechanical ventilation position 1 on",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "input_boolean.mechanical_ventilation_position_1"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": true,
        "stateType": "str",
        "ifState": "on",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 460,
        "y": 1080,
        "wires": [
            [
                "9e8a7cf7.88d51"
            ],
            []
        ]
    },
    {
        "id": "1a262b04.0f6c75",
        "type": "server-state-changed",
        "z": "4e909abe.0b62e4",
        "name": "state autonomous",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 1,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "input_boolean.mechanical_ventilation_basement_autonomous"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": true,
        "stateType": "str",
        "ifState": "",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 110,
        "y": 320,
        "wires": [
            [
                "eaba4c18.04007",
                "4e1d6c0e.bd6b44"
            ]
        ]
    },
    {
        "id": "f5c03471.585f88",
        "type": "server-state-changed",
        "z": "4e909abe.0b62e4",
        "g": "fe3d60102d671872",
        "name": "state mechanical ventilation position 2 on",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "input_boolean.mechanical_ventilation_position_2"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": true,
        "stateType": "str",
        "ifState": "on",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 460,
        "y": 1140,
        "wires": [
            [
                "5fba04f5.3847ac"
            ],
            []
        ]
    },
    {
        "id": "fce79366.4dc17",
        "type": "server-state-changed",
        "z": "4e909abe.0b62e4",
        "g": "fe3d60102d671872",
        "name": "state mechanical ventilation position 3 on",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "input_boolean.mechanical_ventilation_position_3"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": true,
        "stateType": "str",
        "ifState": "on",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 460,
        "y": 1200,
        "wires": [
            [
                "cbdc5416.0cbcd8"
            ],
            []
        ]
    },
    {
        "id": "9c749cb3.fd1b8",
        "type": "server-state-changed",
        "z": "4e909abe.0b62e4",
        "g": "fe3d60102d671872",
        "name": "state mechanical ventilation position 0 on",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "input_boolean.mechanical_ventilation_position_0"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": true,
        "stateType": "str",
        "ifState": "on",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 460,
        "y": 1260,
        "wires": [
            [
                "91b0640c.1b4d68"
            ],
            []
        ]
    },
    {
        "id": "dcb087f1.7dab78",
        "type": "server-state-changed",
        "z": "4e909abe.0b62e4",
        "g": "0b07577dad51457c",
        "name": "state mechanical ventilation position 0 on",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "input_boolean.mechanical_ventilation_position_0"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": false,
        "stateType": "str",
        "ifState": "on",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 460,
        "y": 1400,
        "wires": [
            [
                "1bd4cbe8.185c54"
            ],
            []
        ]
    },
    {
        "id": "8e51a253.d8dde",
        "type": "server-state-changed",
        "z": "4e909abe.0b62e4",
        "g": "0b07577dad51457c",
        "name": "state mechanical ventilation position 1 on",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "input_boolean.mechanical_ventilation_position_1"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": false,
        "stateType": "str",
        "ifState": "on",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 460,
        "y": 1460,
        "wires": [
            [
                "234dfa41.bd6986"
            ],
            []
        ]
    },
    {
        "id": "c83efd35.f7a48",
        "type": "server-state-changed",
        "z": "4e909abe.0b62e4",
        "g": "0b07577dad51457c",
        "name": "state mechanical ventilation position 2 on",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "input_boolean.mechanical_ventilation_position_2"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": false,
        "stateType": "str",
        "ifState": "on",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 460,
        "y": 1520,
        "wires": [
            [
                "66f4c227.6b8aac"
            ],
            []
        ]
    },
    {
        "id": "cb035d1b.0d3f9",
        "type": "server-state-changed",
        "z": "4e909abe.0b62e4",
        "g": "0b07577dad51457c",
        "name": "state mechanical ventilation position 3 on",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "input_boolean.mechanical_ventilation_position_3"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": false,
        "stateType": "str",
        "ifState": "on",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 460,
        "y": 1580,
        "wires": [
            [
                "6e490cae.31f974"
            ],
            []
        ]
    },
    {
        "id": "9073f4d6575f634e",
        "type": "server-state-changed",
        "z": "4e909abe.0b62e4",
        "g": "031e4f7e9e7c26c2",
        "name": "input select mechenical ventialtion position",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 1,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "input_select.mechanical_ventilation_position"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": false,
        "stateType": "str",
        "ifState": "",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 460,
        "y": 1720,
        "wires": [
            [
                "4a4e04ddf8350706"
            ]
        ]
    },
    {
        "id": "8bd822f09fed1461",
        "type": "api-current-state",
        "z": "4e909abe.0b62e4",
        "name": "ah basement",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 1,
        "halt_if": "",
        "halt_if_type": "num",
        "halt_if_compare": "is",
        "entity_id": "sensor.basement_thermal_comfort_absolute_humidity",
        "state_type": "num",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "sensor.basement_thermal_comfort_absolute_humidity",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 850,
        "y": 360,
        "wires": [
            [
                "5c061fb5ace8d130"
            ]
        ]
    },
    {
        "id": "5c061fb5ace8d130",
        "type": "api-current-state",
        "z": "4e909abe.0b62e4",
        "name": "ah outdoor > ah basement",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "sensor.basement_thermal_comfort_absolute_humidity",
        "halt_if_type": "msg",
        "halt_if_compare": "gt",
        "entity_id": "sensor.outdoor_thermal_comfort_absolute_humidity",
        "state_type": "num",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "sensor.outdoor_thermal_comfort_absolute_humidity",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 420,
        "y": 460,
        "wires": [
            [
                "6f1eba702c95483a"
            ],
            [
                "0a547d31ef1d15c3"
            ]
        ]
    },
    {
        "id": "4b24c6f.ecf9538",
        "type": "template",
        "z": "4e909abe.0b62e4",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Stand laag is ingeschakeld. De absolute luchtvochtigheid in de souterrain is {{sensor.basement_humidity}} {{data.attributes.unit_of_measurement}}",
        "output": "str",
        "x": 1800,
        "y": 360,
        "wires": [
            []
        ]
    },
    {
        "id": "0861797165ba2006",
        "type": "api-current-state",
        "z": "4e909abe.0b62e4",
        "name": "rh basement < 60%",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "60",
        "halt_if_type": "num",
        "halt_if_compare": "lt",
        "entity_id": "sensor.basement_humidity",
        "state_type": "num",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "sensor.basement_humidity",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 450,
        "y": 760,
        "wires": [
            [
                "c7b58913.752ad8"
            ],
            [
                "e07362ff.ad189"
            ]
        ]
    },
    {
        "id": "320c3cf2.5620d4",
        "type": "subflow:7d5d30e3.483af",
        "z": "4e909abe.0b62e4",
        "name": "",
        "env": [],
        "x": 1170,
        "y": 900,
        "wires": [
            [
                "955d17f64b59495b"
            ]
        ]
    },
    {
        "id": "b5d8b43d.943a18",
        "type": "api-current-state",
        "z": "4e909abe.0b62e4",
        "name": "state ventilation position 3 off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.mechanical_ventilation_position_3",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "input_boolean.mechanical_ventilation_position_3",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 900,
        "y": 900,
        "wires": [
            [
                "320c3cf2.5620d4"
            ],
            []
        ]
    },
    {
        "id": "71e07fd77d2a4430",
        "type": "link in",
        "z": "4e909abe.0b62e4",
        "g": "0a1a2a6df765a339",
        "name": "link_in_1",
        "links": [
            "955d17f64b59495b",
            "ac8eb8a0e6387131",
            "f348457a7db9ec8d"
        ],
        "x": 1935,
        "y": 640,
        "wires": [
            [
                "6502d163268904d4",
                "febf6f9eab6e868d",
                "d6d0b5735ad8f20a",
                "399184be7531eb78",
                "67db220bfc8a732a"
            ]
        ]
    },
    {
        "id": "955d17f64b59495b",
        "type": "link out",
        "z": "4e909abe.0b62e4",
        "name": "link_out_notify_2",
        "mode": "link",
        "links": [
            "71e07fd77d2a4430"
        ],
        "x": 1365,
        "y": 740,
        "wires": []
    },
    {
        "id": "ac8eb8a0e6387131",
        "type": "link out",
        "z": "4e909abe.0b62e4",
        "name": "link_out_notify_4",
        "mode": "link",
        "links": [
            "71e07fd77d2a4430"
        ],
        "x": 2285,
        "y": 200,
        "wires": []
    },
    {
        "id": "f348457a7db9ec8d",
        "type": "link out",
        "z": "4e909abe.0b62e4",
        "g": "fe3d60102d671872",
        "name": "link_out_notify_2",
        "mode": "link",
        "links": [
            "71e07fd77d2a4430"
        ],
        "x": 1215,
        "y": 1080,
        "wires": []
    },
    {
        "id": "f1a1d029766aa4e3",
        "type": "api-current-state",
        "z": "4e909abe.0b62e4",
        "name": "barometer is rain",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "Rain",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "sensor.buienradar_barometer",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 450,
        "y": 700,
        "wires": [
            [
                "aa4bd88087bb3c75"
            ],
            [
                "0861797165ba2006"
            ]
        ]
    },
    {
        "id": "0cebcecc7266486e",
        "type": "api-current-state",
        "z": "4e909abe.0b62e4",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "pouring",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "weather.knmi_home",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 400,
        "y": 640,
        "wires": [
            [
                "aa4bd88087bb3c75"
            ],
            [
                "f1a1d029766aa4e3"
            ]
        ]
    },
    {
        "id": "6f1eba702c95483a",
        "type": "template",
        "z": "4e909abe.0b62e4",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "De laagste stand is automatisch ingeschakeld. Buiten is de absolute luchtvochtigheid hoger dan in de souterrain.",
        "output": "str",
        "x": 680,
        "y": 540,
        "wires": [
            [
                "bfdcba16.625018"
            ]
        ]
    },
    {
        "id": "aa4bd88087bb3c75",
        "type": "template",
        "z": "4e909abe.0b62e4",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "De laagste stand is automatisch ingeschakeld i.v.m. de regen.",
        "output": "str",
        "x": 680,
        "y": 620,
        "wires": [
            [
                "bfdcba16.625018"
            ]
        ]
    },
    {
        "id": "c7b58913.752ad8",
        "type": "template",
        "z": "4e909abe.0b62e4",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "De middelste stand is automatisch ingeschakeld. De luchtvochtigheid is {{sensor.basement_humidity}}%.",
        "output": "str",
        "x": 680,
        "y": 700,
        "wires": [
            [
                "46771664.f639e8"
            ]
        ]
    },
    {
        "id": "5ce9303e.d40b8",
        "type": "template",
        "z": "4e909abe.0b62e4",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "De hoogste stand is automatisch ingeschakeld.",
        "output": "str",
        "x": 680,
        "y": 900,
        "wires": [
            [
                "b5d8b43d.943a18"
            ]
        ]
    },
    {
        "id": "66c60aad52f358c9",
        "type": "template",
        "z": "4e909abe.0b62e4",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "De middelste stand is automatisch ingeschakeld. Buiten is het onder de 5 graden celcius.",
        "output": "str",
        "x": 680,
        "y": 740,
        "wires": [
            [
                "46771664.f639e8"
            ]
        ]
    },
    {
        "id": "0a547d31ef1d15c3",
        "type": "api-current-state",
        "z": "4e909abe.0b62e4",
        "name": "thermostat living room is heat",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "heat",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "climate.living_room",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 420,
        "y": 520,
        "wires": [
            [
                "8bd10319762b29f3"
            ],
            [
                "85ae6ea3879f4c7f"
            ]
        ]
    },
    {
        "id": "8bd10319762b29f3",
        "type": "template",
        "z": "4e909abe.0b62e4",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "De laagste stand is automatisch ingeschakeld, de verwarming in de woonkamer staat aan.",
        "output": "str",
        "x": 680,
        "y": 580,
        "wires": [
            [
                "bfdcba16.625018"
            ]
        ]
    },
    {
        "id": "85ae6ea3879f4c7f",
        "type": "api-current-state",
        "z": "4e909abe.0b62e4",
        "name": "heating power living room",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "0",
        "halt_if_type": "num",
        "halt_if_compare": "gt",
        "entity_id": "sensor.living_room_heating",
        "state_type": "num",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 430,
        "y": 580,
        "wires": [
            [
                "8bd10319762b29f3"
            ],
            [
                "0cebcecc7266486e"
            ]
        ]
    },
    {
        "id": "728c75b797b416a5",
        "type": "template",
        "z": "b4963274903ed2a9",
        "g": "70b9d3433e540010",
        "name": "tag",
        "field": "notify.tag",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "mechanical_ventilation_bathroom",
        "output": "str",
        "x": 1990,
        "y": 340,
        "wires": [
            [
                "017eba9ce6de6486"
            ]
        ]
    },
    {
        "id": "40cce72d78ddf2ba",
        "type": "template",
        "z": "b4963274903ed2a9",
        "g": "70b9d3433e540010",
        "name": "icon",
        "field": "notify.icon",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "",
        "output": "str",
        "x": 1990,
        "y": 220,
        "wires": [
            [
                "017eba9ce6de6486"
            ]
        ]
    },
    {
        "id": "ddcda02e8d44e679",
        "type": "template",
        "z": "b4963274903ed2a9",
        "g": "70b9d3433e540010",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Ventilatie",
        "output": "str",
        "x": 1990,
        "y": 180,
        "wires": [
            [
                "017eba9ce6de6486"
            ]
        ]
    },
    {
        "id": "017eba9ce6de6486",
        "type": "join",
        "z": "b4963274903ed2a9",
        "g": "70b9d3433e540010",
        "name": "",
        "mode": "custom",
        "build": "merged",
        "property": "notify",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "useparts": true,
        "accumulate": false,
        "timeout": "",
        "count": "6",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 2150,
        "y": 200,
        "wires": [
            [
                "b36f1d0dfd83653c"
            ]
        ]
    },
    {
        "id": "976de9be5916cb4b",
        "type": "template",
        "z": "b4963274903ed2a9",
        "g": "70b9d3433e540010",
        "name": "notification id",
        "field": "notify.notification_id",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "bathroom_fan",
        "output": "str",
        "x": 2010,
        "y": 260,
        "wires": [
            [
                "017eba9ce6de6486"
            ]
        ]
    },
    {
        "id": "b36f1d0dfd83653c",
        "type": "link out",
        "z": "b4963274903ed2a9",
        "g": "70b9d3433e540010",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "8ed3b0974336e55b"
        ],
        "x": 2235,
        "y": 200,
        "wires": []
    },
    {
        "id": "01112a435413374c",
        "type": "template",
        "z": "b4963274903ed2a9",
        "g": "70b9d3433e540010",
        "name": "notification channel",
        "field": "notify.channel",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "bathroom_fan",
        "output": "str",
        "x": 2030,
        "y": 300,
        "wires": [
            [
                "017eba9ce6de6486"
            ]
        ]
    },
    {
        "id": "8f7a2ea2f8c67537",
        "type": "comment",
        "z": "b4963274903ed2a9",
        "name": "automation for the bathroom fan",
        "info": "",
        "x": 150,
        "y": 20,
        "wires": []
    },
    {
        "id": "860a72a08f111ab7",
        "type": "function",
        "z": "b4963274903ed2a9",
        "name": "new value minus old value",
        "func": "msg.payload = msg.data.new_state.state - msg.data.old_state.state\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 680,
        "y": 160,
        "wires": [
            [
                "ed8cadbe2f5f5074"
            ]
        ]
    },
    {
        "id": "ed8cadbe2f5f5074",
        "type": "switch",
        "z": "b4963274903ed2a9",
        "name": "difference more than x",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "gte",
                "v": "4",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 920,
        "y": 160,
        "wires": [
            [
                "bbfc944671edd2e3",
                "0f8226660ccd1f4a"
            ]
        ]
    },
    {
        "id": "d8a0b2f19f9a0e65",
        "type": "change",
        "z": "b4963274903ed2a9",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "old_state_humidity",
                "pt": "flow",
                "to": "data.old_state.state",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1600,
        "y": 220,
        "wires": [
            []
        ]
    },
    {
        "id": "63a8c616e04072af",
        "type": "comment",
        "z": "b4963274903ed2a9",
        "name": "turn off the bathroom fan when the old humidity value is reached",
        "info": "",
        "x": 790,
        "y": 380,
        "wires": []
    },
    {
        "id": "af15e90fccd8959d",
        "type": "comment",
        "z": "b4963274903ed2a9",
        "name": "turn off the bathroom fan after x minutes",
        "info": "",
        "x": 710,
        "y": 240,
        "wires": []
    },
    {
        "id": "e9c932d56036f13b",
        "type": "switch",
        "z": "b4963274903ed2a9",
        "name": "old value >= new value",
        "property": "old_state_humidity",
        "propertyType": "flow",
        "rules": [
            {
                "t": "gte",
                "v": "data.new_state.state",
                "vt": "msg"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 660,
        "y": 420,
        "wires": [
            [
                "1da06a5e8bc95932"
            ]
        ]
    },
    {
        "id": "1da06a5e8bc95932",
        "type": "switch",
        "z": "b4963274903ed2a9",
        "name": "humidity is below 70%",
        "property": "data.new_state.state",
        "propertyType": "msg",
        "rules": [
            {
                "t": "lt",
                "v": "70",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 880,
        "y": 420,
        "wires": [
            [
                "3c42e6f768e9f4a8"
            ]
        ]
    },
    {
        "id": "48367c24995b7a71",
        "type": "template",
        "z": "b4963274903ed2a9",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "De badkamerventilator is uitgeschakeld, na 120 minuten is de oude luchtvochtigheid van voor het douchen niet bereikt maar is wel gezakt onder de 65%. De luchtvochtigheid is {{state.state}}%.",
        "output": "str",
        "x": 1120,
        "y": 280,
        "wires": [
            [
                "48e88711b7ff8b55"
            ]
        ]
    },
    {
        "id": "3c42e6f768e9f4a8",
        "type": "template",
        "z": "b4963274903ed2a9",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "De badkamerventilator is uitgeschakeld, de luchtvochtigheid heeft de oude waarde ({{data.new_state.state}}%) van voor het douchen bereikt.",
        "output": "str",
        "x": 1120,
        "y": 420,
        "wires": [
            [
                "48e88711b7ff8b55"
            ]
        ]
    },
    {
        "id": "ccf8f8dbf3a2a1a3",
        "type": "template",
        "z": "b4963274903ed2a9",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "De badkamer ventilatie is ingeschakeld, de luchtvochtigheid is gestegen van {{data.old_state.state}}% naar {{data.new_state.state}}%.",
        "output": "str",
        "x": 1760,
        "y": 160,
        "wires": [
            [
                "c6f3f4b2b46ffb4e"
            ]
        ]
    },
    {
        "id": "b0839079b191916a",
        "type": "comment",
        "z": "b4963274903ed2a9",
        "name": "fan position frontend",
        "info": "",
        "x": 110,
        "y": 580,
        "wires": []
    },
    {
        "id": "3037226717dc7a91",
        "type": "switch",
        "z": "b4963274903ed2a9",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "Aan",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "Uit",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "Autonoom",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 3,
        "x": 290,
        "y": 620,
        "wires": [
            [
                "7169704a811f5f12"
            ],
            [
                "780e710a1ee1b22e"
            ],
            [
                "0e8f7ec6b9d58557"
            ]
        ]
    },
    {
        "id": "a8fcbc81b74ad4f3",
        "type": "catch",
        "z": "b4963274903ed2a9",
        "g": "0b8b5d79d80701d3",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "52b890d221e51d99"
            ]
        ]
    },
    {
        "id": "52b890d221e51d99",
        "type": "template",
        "z": "b4963274903ed2a9",
        "g": "0b8b5d79d80701d3",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "a63decc27ac1e186"
            ]
        ]
    },
    {
        "id": "f18c57903881ea97",
        "type": "link out",
        "z": "b4963274903ed2a9",
        "g": "0b8b5d79d80701d3",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 475,
        "y": 80,
        "wires": []
    },
    {
        "id": "a63decc27ac1e186",
        "type": "template",
        "z": "b4963274903ed2a9",
        "g": "0b8b5d79d80701d3",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "f18c57903881ea97"
            ]
        ]
    },
    {
        "id": "76a8a1ea0af30f4a",
        "type": "api-call-service",
        "z": "b4963274903ed2a9",
        "name": "turn on bathroom fan",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "switch.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "switch.shelly1pm_bathroom_fan_switch_0"
        ],
        "labelId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "switch",
        "service": "turn_on",
        "x": 1580,
        "y": 160,
        "wires": [
            [
                "ccf8f8dbf3a2a1a3"
            ]
        ]
    },
    {
        "id": "715c5c011eeebe21",
        "type": "api-call-service",
        "z": "b4963274903ed2a9",
        "name": "turn off bathroom fan",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "switch.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "switch.shelly1pm_bathroom_fan_switch_0"
        ],
        "labelId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "switch",
        "service": "turn_off",
        "x": 1580,
        "y": 340,
        "wires": [
            [
                "c6f3f4b2b46ffb4e"
            ]
        ]
    },
    {
        "id": "25e06b253767b85b",
        "type": "api-call-service",
        "z": "b4963274903ed2a9",
        "name": "turn on fan",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "fan.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "fan.shelly1pm_bathroom_fan_switch_0"
        ],
        "labelId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "fan",
        "service": "turn_on",
        "x": 730,
        "y": 620,
        "wires": [
            []
        ]
    },
    {
        "id": "7169704a811f5f12",
        "type": "api-call-service",
        "z": "b4963274903ed2a9",
        "name": "turn off fan autonomous",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "input_boolean.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_boolean.mechanical_ventilation_bathroom_autonomous"
        ],
        "labelId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "input_boolean",
        "service": "turn_off",
        "x": 490,
        "y": 620,
        "wires": [
            [
                "25e06b253767b85b"
            ]
        ]
    },
    {
        "id": "40a633604b4dfe95",
        "type": "api-call-service",
        "z": "b4963274903ed2a9",
        "name": "turn off fan",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "fan.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "fan.shelly1pm_bathroom_fan_switch_0"
        ],
        "labelId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "fan",
        "service": "turn_off",
        "x": 730,
        "y": 680,
        "wires": [
            []
        ]
    },
    {
        "id": "780e710a1ee1b22e",
        "type": "api-call-service",
        "z": "b4963274903ed2a9",
        "name": "turn off fan autonomous",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "input_boolean.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_boolean.mechanical_ventilation_bathroom_autonomous"
        ],
        "labelId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "input_boolean",
        "service": "turn_off",
        "x": 490,
        "y": 680,
        "wires": [
            [
                "40a633604b4dfe95"
            ]
        ]
    },
    {
        "id": "0e8f7ec6b9d58557",
        "type": "api-call-service",
        "z": "b4963274903ed2a9",
        "name": "turn on fan autonomous",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "input_boolean.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_boolean.mechanical_ventilation_bathroom_autonomous"
        ],
        "labelId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "input_boolean",
        "service": "turn_on",
        "x": 490,
        "y": 740,
        "wires": [
            [
                "40a633604b4dfe95"
            ]
        ]
    },
    {
        "id": "bbfc944671edd2e3",
        "type": "api-current-state",
        "z": "b4963274903ed2a9",
        "name": "bathroom fan is not on",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is_not",
        "entity_id": "switch.shelly1pm_bathroom_fan_switch_0",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 1320,
        "y": 160,
        "wires": [
            [
                "76a8a1ea0af30f4a",
                "d8a0b2f19f9a0e65"
            ],
            []
        ]
    },
    {
        "id": "48e88711b7ff8b55",
        "type": "api-current-state",
        "z": "b4963274903ed2a9",
        "name": "bathroom fan is not off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is_not",
        "entity_id": "switch.shelly1pm_bathroom_fan_switch_0",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 1340,
        "y": 340,
        "wires": [
            [
                "715c5c011eeebe21"
            ],
            []
        ]
    },
    {
        "id": "a793a6b052cc2eee",
        "type": "api-current-state",
        "z": "b4963274903ed2a9",
        "name": "bathroom fan autonomous is on",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.mechanical_ventilation_bathroom_autonomous",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 350,
        "y": 160,
        "wires": [
            [
                "e9c932d56036f13b",
                "860a72a08f111ab7"
            ],
            []
        ]
    },
    {
        "id": "90566c9d3cd6bdaa",
        "type": "server-state-changed",
        "z": "b4963274903ed2a9",
        "name": "bathroom humidity",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 1,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "sensor.bathroom_sensors_humidity"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": true,
        "stateType": "str",
        "ifState": "",
        "ifStateType": "num",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 110,
        "y": 160,
        "wires": [
            [
                "a793a6b052cc2eee"
            ]
        ]
    },
    {
        "id": "1d48142c32068673",
        "type": "server-state-changed",
        "z": "b4963274903ed2a9",
        "name": "input select fan position",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 1,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "input_select.mechanical_ventilation_bathroom_position"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": false,
        "stateType": "str",
        "ifState": "",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 120,
        "y": 620,
        "wires": [
            [
                "3037226717dc7a91"
            ]
        ]
    },
    {
        "id": "bad6f63794fa3bfd",
        "type": "ha-wait-until",
        "z": "b4963274903ed2a9",
        "name": "wait until humidity is below 65%",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 1,
        "entities": {
            "entity": [
                "sensor.bathroom_sensors_humidity"
            ],
            "substring": [],
            "regex": []
        },
        "property": "state",
        "comparator": "lt",
        "value": "65",
        "valueType": "num",
        "timeout": "0",
        "timeoutType": "num",
        "timeoutUnits": "seconds",
        "checkCurrentState": true,
        "blockInputOverrides": true,
        "outputProperties": [
            {
                "property": "state",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "entityLocation": "data",
        "entityLocationType": "none",
        "x": 910,
        "y": 280,
        "wires": [
            [
                "48367c24995b7a71"
            ]
        ]
    },
    {
        "id": "0f8226660ccd1f4a",
        "type": "stoptimer",
        "z": "b4963274903ed2a9",
        "duration": "120",
        "units": "Minute",
        "payloadtype": "num",
        "payloadval": "0",
        "name": "",
        "x": 650,
        "y": 280,
        "wires": [
            [
                "bad6f63794fa3bfd"
            ],
            []
        ]
    },
    {
        "id": "effdb4f47bd11771",
        "type": "comment",
        "z": "3d30857f5165e137",
        "name": "turn on toilet fan",
        "info": "notify when a message appears in pfsense",
        "x": 100,
        "y": 20,
        "wires": []
    },
    {
        "id": "25d79c8787fd1812",
        "type": "api-call-service",
        "z": "3d30857f5165e137",
        "name": "turn on toilet fan",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "fan.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "fan.shelly1pm_toilet_fan_switch_0"
        ],
        "labelId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "fan",
        "service": "turn_on",
        "x": 320,
        "y": 160,
        "wires": [
            []
        ]
    },
    {
        "id": "59e4a09ae6f431cd",
        "type": "api-call-service",
        "z": "3d30857f5165e137",
        "name": "turn off toilet fan",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "fan.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "fan.shelly1pm_toilet_fan_switch_0"
        ],
        "labelId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "fan",
        "service": "turn_off",
        "x": 1180,
        "y": 180,
        "wires": [
            []
        ]
    },
    {
        "id": "a752563ecc453fd5",
        "type": "server-state-changed",
        "z": "3d30857f5165e137",
        "name": "toilet light turned on",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "light.shelly1pm_toilet_light_switch_0"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": false,
        "stateType": "str",
        "ifState": "on",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "",
        "forType": "num",
        "forUnits": "seconds",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 110,
        "y": 160,
        "wires": [
            [
                "25d79c8787fd1812",
                "b5dd79a9ecc0d1c8"
            ],
            []
        ]
    },
    {
        "id": "b5dd79a9ecc0d1c8",
        "type": "ha-wait-until",
        "z": "3d30857f5165e137",
        "name": "wait until toilet light goes off with 10 sec timeout",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "entities": {
            "entity": [
                "light.shelly1pm_toilet_light_switch_0"
            ],
            "substring": [],
            "regex": []
        },
        "property": "state",
        "comparator": "is",
        "value": "off",
        "valueType": "str",
        "timeout": "10",
        "timeoutType": "num",
        "timeoutUnits": "seconds",
        "checkCurrentState": true,
        "blockInputOverrides": true,
        "outputProperties": [],
        "entityLocation": "data",
        "entityLocationType": "none",
        "x": 420,
        "y": 220,
        "wires": [
            [
                "e40aff179bd30a9b"
            ],
            [
                "8a928f6874ea03c8"
            ]
        ]
    },
    {
        "id": "8a928f6874ea03c8",
        "type": "ha-wait-until",
        "z": "3d30857f5165e137",
        "name": "wait until toilet light goes off ",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "entities": {
            "entity": [
                "light.shelly1pm_toilet_light_switch_0"
            ],
            "substring": [],
            "regex": []
        },
        "property": "state",
        "comparator": "is",
        "value": "off",
        "valueType": "str",
        "timeout": "1",
        "timeoutType": "num",
        "timeoutUnits": "hours",
        "checkCurrentState": true,
        "blockInputOverrides": true,
        "outputProperties": [],
        "entityLocation": "data",
        "entityLocationType": "none",
        "x": 740,
        "y": 260,
        "wires": [
            [
                "6433045b1f3b4f8e"
            ],
            [
                "1bcfdae4fb034efd"
            ]
        ]
    },
    {
        "id": "6433045b1f3b4f8e",
        "type": "stoptimer",
        "z": "3d30857f5165e137",
        "duration": "20",
        "units": "Minute",
        "payloadtype": "num",
        "payloadval": "0",
        "name": "",
        "x": 980,
        "y": 220,
        "wires": [
            [
                "59e4a09ae6f431cd"
            ],
            []
        ]
    },
    {
        "id": "ce38a20b6edb30fe",
        "type": "catch",
        "z": "3d30857f5165e137",
        "g": "790b21b9d3f0df95",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "859d7340dcad2e19"
            ]
        ]
    },
    {
        "id": "859d7340dcad2e19",
        "type": "template",
        "z": "3d30857f5165e137",
        "g": "790b21b9d3f0df95",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "1eda23dd9f8e2572"
            ]
        ]
    },
    {
        "id": "8b8c16211a8b72d6",
        "type": "link out",
        "z": "3d30857f5165e137",
        "g": "790b21b9d3f0df95",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 475,
        "y": 80,
        "wires": []
    },
    {
        "id": "1eda23dd9f8e2572",
        "type": "template",
        "z": "3d30857f5165e137",
        "g": "790b21b9d3f0df95",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "8b8c16211a8b72d6"
            ]
        ]
    },
    {
        "id": "e3fe28933ad4f9bd",
        "type": "template",
        "z": "e98ae3c9db1bd6c3",
        "g": "bd6a21379a46d377",
        "name": "notification id",
        "field": "notify.notification_id",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "vacation_mode",
        "output": "str",
        "x": 810,
        "y": 300,
        "wires": [
            [
                "dc2683f08bbcdd2e"
            ]
        ]
    },
    {
        "id": "c6805d02b9eb3b45",
        "type": "change",
        "z": "e98ae3c9db1bd6c3",
        "g": "bd6a21379a46d377",
        "name": "action titles",
        "rules": [
            {
                "t": "set",
                "p": "notify.action_1_title",
                "pt": "msg",
                "to": "JA",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "notify.action_2_title",
                "pt": "msg",
                "to": "NEE",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "notify.action_1",
                "pt": "msg",
                "to": "VACATION_MODE_ON",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "notify.action_2",
                "pt": "msg",
                "to": "IGNORE",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 810,
        "y": 220,
        "wires": [
            [
                "dc2683f08bbcdd2e"
            ]
        ]
    },
    {
        "id": "dc2683f08bbcdd2e",
        "type": "join",
        "z": "e98ae3c9db1bd6c3",
        "g": "bd6a21379a46d377",
        "name": "",
        "mode": "custom",
        "build": "merged",
        "property": "notify",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": false,
        "timeout": "",
        "count": "8",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 990,
        "y": 220,
        "wires": [
            [
                "b53dc3ab1408794a"
            ]
        ]
    },
    {
        "id": "b53dc3ab1408794a",
        "type": "link out",
        "z": "e98ae3c9db1bd6c3",
        "g": "bd6a21379a46d377",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "c76d311bb4b6991b",
            "d1753081ba6b4004"
        ],
        "x": 1075,
        "y": 220,
        "wires": []
    },
    {
        "id": "65114fbadc1625ff",
        "type": "template",
        "z": "e98ae3c9db1bd6c3",
        "g": "bd6a21379a46d377",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Vakantiemodus",
        "output": "str",
        "x": 790,
        "y": 180,
        "wires": [
            [
                "dc2683f08bbcdd2e"
            ]
        ]
    },
    {
        "id": "994e86eeb88c5f08",
        "type": "template",
        "z": "e98ae3c9db1bd6c3",
        "g": "bd6a21379a46d377",
        "name": "icon",
        "field": "notify.icon",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "",
        "output": "str",
        "x": 790,
        "y": 260,
        "wires": [
            [
                "dc2683f08bbcdd2e"
            ]
        ]
    },
    {
        "id": "505fd0b6095e5990",
        "type": "inject",
        "z": "e98ae3c9db1bd6c3",
        "name": "time trigger",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "*/10 16-23 * * *",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 110,
        "y": 500,
        "wires": [
            [
                "4aec915beb25bfb5"
            ]
        ]
    },
    {
        "id": "4fdeb47515a56739",
        "type": "delay",
        "z": "e98ae3c9db1bd6c3",
        "name": "random delay",
        "pauseType": "random",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "5",
        "randomLast": "40",
        "randomUnits": "minutes",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 1380,
        "y": 500,
        "wires": [
            [
                "e2878c3736a9cd88"
            ]
        ]
    },
    {
        "id": "289eb5762afd854e",
        "type": "switch",
        "z": "e98ae3c9db1bd6c3",
        "name": "state is home",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "home",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 250,
        "y": 400,
        "wires": [
            [
                "2da11a2951cd690b"
            ]
        ]
    },
    {
        "id": "cd178e3895118ed9",
        "type": "comment",
        "z": "e98ae3c9db1bd6c3",
        "name": "turn off vacation mode when someone comes home",
        "info": "",
        "x": 230,
        "y": 360,
        "wires": []
    },
    {
        "id": "d3f51e45d96152b6",
        "type": "comment",
        "z": "e98ae3c9db1bd6c3",
        "name": "if person is not home for 1 day ask if the vacation mode has to be turn on",
        "info": "",
        "x": 300,
        "y": 160,
        "wires": []
    },
    {
        "id": "066d59d0dda9cb84",
        "type": "comment",
        "z": "e98ae3c9db1bd6c3",
        "name": "flow for vacation mode",
        "info": "",
        "x": 120,
        "y": 20,
        "wires": []
    },
    {
        "id": "8319e5e91e71a1ed",
        "type": "comment",
        "z": "e98ae3c9db1bd6c3",
        "name": "turn on and off random lights in vacation lights group if vacation mode is on and outdoor is dark",
        "info": "",
        "x": 360,
        "y": 460,
        "wires": []
    },
    {
        "id": "bdeb3f3c3092a9db",
        "type": "delay",
        "z": "e98ae3c9db1bd6c3",
        "name": "random delay",
        "pauseType": "random",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "2",
        "randomLast": "20",
        "randomUnits": "minutes",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 840,
        "y": 500,
        "wires": [
            [
                "68fb6d09797ade29"
            ]
        ]
    },
    {
        "id": "319e2f002dcdb37f",
        "type": "comment",
        "z": "e98ae3c9db1bd6c3",
        "name": "listen to vacation mode on notification answer event ",
        "info": "",
        "x": 230,
        "y": 260,
        "wires": []
    },
    {
        "id": "0b9c6bc899fa2c87",
        "type": "template",
        "z": "e98ae3c9db1bd6c3",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Er is niemand thuis, wil je de vakantiemodus aanzetten?",
        "output": "str",
        "x": 580,
        "y": 200,
        "wires": [
            [
                "36246e33e6162b5a"
            ]
        ]
    },
    {
        "id": "fb8451f100d9bf63",
        "type": "api-call-service",
        "z": "e98ae3c9db1bd6c3",
        "name": "turn off vacation mode",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "input_boolean.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_boolean.vacation_mode"
        ],
        "labelId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "input_boolean",
        "service": "turn_off",
        "x": 660,
        "y": 400,
        "wires": [
            []
        ]
    },
    {
        "id": "b0ab3842efd58c4a",
        "type": "api-call-service",
        "z": "e98ae3c9db1bd6c3",
        "name": "turn on light",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "{{payload.entity_id}}"
        ],
        "labelId": [],
        "data": "{\"brightness_pct\":\"{{dimlevel}}\",\"transition\":5000}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "light",
        "service": "turn_on",
        "x": 1210,
        "y": 500,
        "wires": [
            [
                "4fdeb47515a56739"
            ]
        ]
    },
    {
        "id": "e2878c3736a9cd88",
        "type": "api-call-service",
        "z": "e98ae3c9db1bd6c3",
        "name": "turn off light",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "{{payload.entity_id}}"
        ],
        "labelId": [],
        "data": "{\"transition\":5000}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "light",
        "service": "turn_off",
        "x": 1550,
        "y": 500,
        "wires": [
            []
        ]
    },
    {
        "id": "f047140113012c45",
        "type": "api-call-service",
        "z": "e98ae3c9db1bd6c3",
        "name": "turn on vacation mode",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "input_boolean.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_boolean.vacation_mode"
        ],
        "labelId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "input_boolean",
        "service": "turn_on",
        "x": 440,
        "y": 300,
        "wires": [
            []
        ]
    },
    {
        "id": "4aec915beb25bfb5",
        "type": "api-current-state",
        "z": "e98ae3c9db1bd6c3",
        "name": "vacation mode is on",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.vacation_mode",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 300,
        "y": 500,
        "wires": [
            [
                "52372f03201c1339"
            ],
            []
        ]
    },
    {
        "id": "2da11a2951cd690b",
        "type": "api-current-state",
        "z": "e98ae3c9db1bd6c3",
        "name": "vacation mode is on",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.vacation_mode",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 440,
        "y": 400,
        "wires": [
            [
                "fb8451f100d9bf63"
            ],
            []
        ]
    },
    {
        "id": "52372f03201c1339",
        "type": "api-current-state",
        "z": "e98ae3c9db1bd6c3",
        "name": "outdoor is dark",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "dark",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "sensor.outdoor_light_dark",
        "state_type": "str",
        "blockInputOverrides": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 500,
        "y": 500,
        "wires": [
            [
                "bb6f9be9a8d52d38"
            ],
            []
        ]
    },
    {
        "id": "7f8a5bbec56c9729",
        "type": "api-current-state",
        "z": "e98ae3c9db1bd6c3",
        "name": "vacation mode is off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.vacation_mode",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 400,
        "y": 200,
        "wires": [
            [
                "0b9c6bc899fa2c87"
            ],
            []
        ]
    },
    {
        "id": "79ce4db3aa0b5c53",
        "type": "server-events",
        "z": "e98ae3c9db1bd6c3",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 3,
        "exposeAsEntityConfig": "",
        "eventType": "mobile_app_notification_action",
        "eventData": "{\"action\":\"VACATION_MODE_ON\"}",
        "waitForRunning": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "$outputData(\"eventData\").event_type",
                "valueType": "jsonata"
            }
        ],
        "event_type": "",
        "x": 170,
        "y": 300,
        "wires": [
            [
                "f047140113012c45"
            ]
        ]
    },
    {
        "id": "03b925349d92a20d",
        "type": "server-state-changed",
        "z": "e98ae3c9db1bd6c3",
        "name": "state persons",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 1,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "group.persons"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": true,
        "stateType": "str",
        "ifState": "",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": true,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 90,
        "y": 400,
        "wires": [
            [
                "289eb5762afd854e"
            ]
        ]
    },
    {
        "id": "629cb438e0ae0dfa",
        "type": "server-state-changed",
        "z": "e98ae3c9db1bd6c3",
        "name": "state persons not home for 1 day",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "group.persons"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": true,
        "stateType": "str",
        "ifState": "not_home",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "1",
        "forType": "num",
        "forUnits": "days",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 150,
        "y": 200,
        "wires": [
            [
                "7f8a5bbec56c9729"
            ],
            []
        ]
    },
    {
        "id": "bb6f9be9a8d52d38",
        "type": "ha-get-entities",
        "z": "e98ae3c9db1bd6c3",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 1,
        "rules": [
            {
                "property": "entity_id",
                "logic": "in_group",
                "value": "group.vacation_lights",
                "valueType": "str"
            },
            {
                "property": "state",
                "logic": "is",
                "value": "off",
                "valueType": "str"
            }
        ],
        "outputType": "random",
        "outputEmptyResults": false,
        "outputLocationType": "msg",
        "outputLocation": "payload",
        "outputResultsCount": 1,
        "x": 670,
        "y": 500,
        "wires": [
            [
                "bdeb3f3c3092a9db"
            ]
        ]
    },
    {
        "id": "68fb6d09797ade29",
        "type": "random",
        "z": "e98ae3c9db1bd6c3",
        "name": "random dim level",
        "low": "20",
        "high": "50",
        "inte": "true",
        "property": "dimlevel",
        "x": 1030,
        "y": 500,
        "wires": [
            [
                "b0ab3842efd58c4a"
            ]
        ]
    },
    {
        "id": "e2aad0c5c8a8a6c8",
        "type": "catch",
        "z": "e98ae3c9db1bd6c3",
        "g": "5eb2a483b2644796",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "92ae0a959b86c0cc"
            ]
        ]
    },
    {
        "id": "92ae0a959b86c0cc",
        "type": "template",
        "z": "e98ae3c9db1bd6c3",
        "g": "5eb2a483b2644796",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "2ba2b814332015f0"
            ]
        ]
    },
    {
        "id": "4d9e677df669290b",
        "type": "link out",
        "z": "e98ae3c9db1bd6c3",
        "g": "5eb2a483b2644796",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 475,
        "y": 80,
        "wires": []
    },
    {
        "id": "2ba2b814332015f0",
        "type": "template",
        "z": "e98ae3c9db1bd6c3",
        "g": "5eb2a483b2644796",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "4d9e677df669290b"
            ]
        ]
    },
    {
        "id": "f7c6fa154b77f448",
        "type": "comment",
        "z": "71f3d7905a503d5c",
        "name": "Flow to turn on the barn light when backyard motion sensor is on and it is dark",
        "info": "",
        "x": 290,
        "y": 20,
        "wires": []
    },
    {
        "id": "284a34163954cfad",
        "type": "api-call-service",
        "z": "71f3d7905a503d5c",
        "name": "turn on barn light",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "light.shelly1_barn_door"
        ],
        "labelId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "light",
        "service": "turn_on",
        "x": 630,
        "y": 180,
        "wires": [
            []
        ]
    },
    {
        "id": "09b9bb6c817c6ae4",
        "type": "api-call-service",
        "z": "71f3d7905a503d5c",
        "name": "turn off barn light",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "light.shelly1_barn_door"
        ],
        "labelId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "light",
        "service": "turn_off",
        "x": 630,
        "y": 260,
        "wires": [
            []
        ]
    },
    {
        "id": "0854f23ba4b218d4",
        "type": "api-current-state",
        "z": "71f3d7905a503d5c",
        "name": "dark outside",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "dark",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "sensor.outdoor_light_dark",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 290,
        "y": 180,
        "wires": [
            [
                "a35db07a95fdaa34"
            ],
            []
        ]
    },
    {
        "id": "a35db07a95fdaa34",
        "type": "api-current-state",
        "z": "71f3d7905a503d5c",
        "name": "light is off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "light.shelly1_barn_door",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 440,
        "y": 180,
        "wires": [
            [
                "284a34163954cfad"
            ],
            []
        ]
    },
    {
        "id": "18db3501520cb2a6",
        "type": "api-current-state",
        "z": "71f3d7905a503d5c",
        "name": "light is on",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "light.shelly1_barn_door",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 440,
        "y": 260,
        "wires": [
            [
                "09b9bb6c817c6ae4"
            ],
            []
        ]
    },
    {
        "id": "07957fe9be86e971",
        "type": "server-state-changed",
        "z": "71f3d7905a503d5c",
        "name": "motion sensor is on",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 2,
        "exposeAsEntityConfig": "ceac6b86e98289ce",
        "entities": {
            "entity": [
                "binary_sensor.backyard_motion_sensor_01_motion"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": true,
        "stateType": "str",
        "ifState": "on",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 110,
        "y": 220,
        "wires": [
            [
                "0854f23ba4b218d4"
            ],
            [
                "0413e0750f3cc40b"
            ]
        ]
    },
    {
        "id": "2761144c295d7ea6",
        "type": "catch",
        "z": "71f3d7905a503d5c",
        "g": "bc697bb3725ec708",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "670ddf807f6daf30"
            ]
        ]
    },
    {
        "id": "670ddf807f6daf30",
        "type": "template",
        "z": "71f3d7905a503d5c",
        "g": "bc697bb3725ec708",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "480ba87e59da5840"
            ]
        ]
    },
    {
        "id": "ab08ef94fcbac2d6",
        "type": "link out",
        "z": "71f3d7905a503d5c",
        "g": "bc697bb3725ec708",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 475,
        "y": 80,
        "wires": []
    },
    {
        "id": "480ba87e59da5840",
        "type": "template",
        "z": "71f3d7905a503d5c",
        "g": "bc697bb3725ec708",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "ab08ef94fcbac2d6"
            ]
        ]
    },
    {
        "id": "8205d58f610c05d0",
        "type": "template",
        "z": "55da1471.fda0fc",
        "g": "faf17088fd1a6b16",
        "name": "notification id",
        "field": "notify.notification_id",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "vacuum",
        "output": "str",
        "x": 1990,
        "y": 900,
        "wires": [
            [
                "051f31139e799468"
            ]
        ]
    },
    {
        "id": "051f31139e799468",
        "type": "join",
        "z": "55da1471.fda0fc",
        "g": "faf17088fd1a6b16",
        "name": "",
        "mode": "custom",
        "build": "merged",
        "property": "notify",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": false,
        "timeout": "",
        "count": "4",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 2170,
        "y": 860,
        "wires": [
            [
                "57488cc36dcd2d00"
            ]
        ]
    },
    {
        "id": "57488cc36dcd2d00",
        "type": "link out",
        "z": "55da1471.fda0fc",
        "g": "faf17088fd1a6b16",
        "name": "link_out_notify_3",
        "mode": "link",
        "links": [
            "c4660dc11fb0e5b8"
        ],
        "x": 2265,
        "y": 860,
        "wires": []
    },
    {
        "id": "035b931bd0cea26e",
        "type": "template",
        "z": "55da1471.fda0fc",
        "g": "faf17088fd1a6b16",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Stofzuiger",
        "output": "str",
        "x": 1970,
        "y": 820,
        "wires": [
            [
                "051f31139e799468"
            ]
        ]
    },
    {
        "id": "c8bc013c45f3ae72",
        "type": "template",
        "z": "55da1471.fda0fc",
        "g": "faf17088fd1a6b16",
        "name": "icon",
        "field": "notify.icon",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "",
        "output": "str",
        "x": 1970,
        "y": 860,
        "wires": [
            [
                "051f31139e799468"
            ]
        ]
    },
    {
        "id": "0fa8b59e2735c07d",
        "type": "template",
        "z": "55da1471.fda0fc",
        "g": "deb17c414e79ec63",
        "name": "notification id",
        "field": "notify.notification_id",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "vacuum",
        "output": "str",
        "x": 1990,
        "y": 500,
        "wires": [
            [
                "ba409d3499824364"
            ]
        ]
    },
    {
        "id": "ba409d3499824364",
        "type": "join",
        "z": "55da1471.fda0fc",
        "g": "deb17c414e79ec63",
        "name": "",
        "mode": "custom",
        "build": "merged",
        "property": "notify",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": false,
        "timeout": "",
        "count": "4",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 2170,
        "y": 480,
        "wires": [
            [
                "c5f04c8242157305"
            ]
        ]
    },
    {
        "id": "c5f04c8242157305",
        "type": "link out",
        "z": "55da1471.fda0fc",
        "g": "deb17c414e79ec63",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "8ed3b0974336e55b",
            "aeee8468f3d1b7ad"
        ],
        "x": 2265,
        "y": 480,
        "wires": []
    },
    {
        "id": "dec04d7f3b819fb2",
        "type": "template",
        "z": "55da1471.fda0fc",
        "g": "deb17c414e79ec63",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Stofzuiger",
        "output": "str",
        "x": 1970,
        "y": 420,
        "wires": [
            [
                "ba409d3499824364"
            ]
        ]
    },
    {
        "id": "f60ecb3be0ebc2af",
        "type": "template",
        "z": "55da1471.fda0fc",
        "g": "deb17c414e79ec63",
        "name": "icon",
        "field": "notify.icon",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "",
        "output": "str",
        "x": 1970,
        "y": 460,
        "wires": [
            [
                "ba409d3499824364"
            ]
        ]
    },
    {
        "id": "0e83125ead481334",
        "type": "template",
        "z": "55da1471.fda0fc",
        "g": "33fea7faee8e1f82",
        "name": "notification id",
        "field": "notify.notification_id",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "vacuum",
        "output": "str",
        "x": 1970,
        "y": 720,
        "wires": [
            [
                "b5cc0d26cf3e7ab2"
            ]
        ]
    },
    {
        "id": "09d4cdb039e852de",
        "type": "change",
        "z": "55da1471.fda0fc",
        "g": "33fea7faee8e1f82",
        "name": "action titles",
        "rules": [
            {
                "t": "set",
                "p": "notify.action_1_title",
                "pt": "msg",
                "to": "JA",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "notify.action_2_title",
                "pt": "msg",
                "to": "NEE",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "notify.action_1",
                "pt": "msg",
                "to": "IGNORE",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "notify.action_2",
                "pt": "msg",
                "to": "VACUUM_AUTOCLEANING_OFF",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1970,
        "y": 640,
        "wires": [
            [
                "b5cc0d26cf3e7ab2"
            ]
        ]
    },
    {
        "id": "b5cc0d26cf3e7ab2",
        "type": "join",
        "z": "55da1471.fda0fc",
        "g": "33fea7faee8e1f82",
        "name": "",
        "mode": "custom",
        "build": "merged",
        "property": "notify",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": false,
        "timeout": "",
        "count": "8",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 2170,
        "y": 640,
        "wires": [
            [
                "d7f92782a71d3837"
            ]
        ]
    },
    {
        "id": "d7f92782a71d3837",
        "type": "link out",
        "z": "55da1471.fda0fc",
        "g": "33fea7faee8e1f82",
        "name": "link_out_notify_2",
        "mode": "link",
        "links": [
            "c76d311bb4b6991b",
            "d1753081ba6b4004"
        ],
        "x": 2265,
        "y": 640,
        "wires": []
    },
    {
        "id": "d5ae8df68946471a",
        "type": "template",
        "z": "55da1471.fda0fc",
        "g": "33fea7faee8e1f82",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Stofzuiger",
        "output": "str",
        "x": 1950,
        "y": 600,
        "wires": [
            [
                "b5cc0d26cf3e7ab2"
            ]
        ]
    },
    {
        "id": "8f3e39fd9d879f86",
        "type": "template",
        "z": "55da1471.fda0fc",
        "g": "33fea7faee8e1f82",
        "name": "icon",
        "field": "notify.icon",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "",
        "output": "str",
        "x": 1950,
        "y": 680,
        "wires": [
            [
                "b5cc0d26cf3e7ab2"
            ]
        ]
    },
    {
        "id": "c8eb1592.520518",
        "type": "switch",
        "z": "55da1471.fda0fc",
        "name": "on / off ",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "on",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "off",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 330,
        "y": 420,
        "wires": [
            [
                "252893d959f094a0"
            ],
            [
                "87dec77c.9877c8"
            ]
        ]
    },
    {
        "id": "37466c93.d14b84",
        "type": "switch",
        "z": "55da1471.fda0fc",
        "name": "home / ! home",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "home",
                "vt": "str"
            },
            {
                "t": "neq",
                "v": "home",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 320,
        "y": 300,
        "wires": [
            [
                "1351cb3a.cc7995"
            ],
            [
                "6242c868ff3985eb"
            ]
        ]
    },
    {
        "id": "85128ba5.bef108",
        "type": "inject",
        "z": "55da1471.fda0fc",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "00 02 * * *",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "02:00 Payload 'off'",
        "payloadType": "str",
        "x": 110,
        "y": 240,
        "wires": [
            [
                "787efd3b.bd13e4"
            ]
        ]
    },
    {
        "id": "8e7bbae.f382348",
        "type": "comment",
        "z": "55da1471.fda0fc",
        "name": "robot vacuum cleaner",
        "info": "",
        "x": 120,
        "y": 20,
        "wires": []
    },
    {
        "id": "c643d4d4.2baf98",
        "type": "template",
        "z": "55da1471.fda0fc",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Stofzuiger {{data.attributes.friendly_name}} is gestart.",
        "output": "str",
        "x": 1700,
        "y": 420,
        "wires": [
            [
                "60b0a5eab5b0a9d6"
            ]
        ]
    },
    {
        "id": "734801f342d9257e",
        "type": "switch",
        "z": "55da1471.fda0fc",
        "name": "uptime is above 1 min",
        "property": "data.timeSinceChangedMs",
        "propertyType": "msg",
        "rules": [
            {
                "t": "gt",
                "v": "60000",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 640,
        "y": 320,
        "wires": [
            [
                "353d562e.3dd04a"
            ]
        ]
    },
    {
        "id": "035179dc3e7fddad",
        "type": "comment",
        "z": "55da1471.fda0fc",
        "name": "listen to vacuum start clean \"no\" answer event ",
        "info": "",
        "x": 210,
        "y": 800,
        "wires": []
    },
    {
        "id": "5f66a79ec51e1612",
        "type": "comment",
        "z": "55da1471.fda0fc",
        "name": "turn back on auto cleaning at 02:00",
        "info": "",
        "x": 180,
        "y": 200,
        "wires": []
    },
    {
        "id": "86f24a287db20768",
        "type": "template",
        "z": "55da1471.fda0fc",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Moet over 10 minuten de stofzuiger starten?",
        "output": "str",
        "x": 1700,
        "y": 640,
        "wires": [
            [
                "237a19020921825d"
            ]
        ]
    },
    {
        "id": "71847fb30d3084f7",
        "type": "template",
        "z": "55da1471.fda0fc",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Over tien minuten start de stofzuiger.",
        "output": "str",
        "x": 1700,
        "y": 840,
        "wires": [
            [
                "07d3b997feaf3f7b"
            ]
        ]
    },
    {
        "id": "64e882fa1c38e011",
        "type": "template",
        "z": "55da1471.fda0fc",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Stofzuiger {{data.attributes.friendly_name}} kon niet worden gestart.",
        "output": "str",
        "x": 1700,
        "y": 460,
        "wires": [
            [
                "60b0a5eab5b0a9d6"
            ]
        ]
    },
    {
        "id": "787efd3b.bd13e4",
        "type": "api-call-service",
        "z": "55da1471.fda0fc",
        "name": "turn on auto cleaning",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "input_boolean.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_boolean.auto_cleaning"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "input_boolean",
        "service": "turn_on",
        "x": 320,
        "y": 240,
        "wires": [
            []
        ]
    },
    {
        "id": "a52152b0.f593b",
        "type": "api-call-service",
        "z": "55da1471.fda0fc",
        "name": "start vacuum",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "vacuum.start",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "vacuum.roborock_s6_pure"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "vacuum",
        "service": "start",
        "x": 1330,
        "y": 420,
        "wires": [
            [
                "700ffa065a57643e"
            ]
        ]
    },
    {
        "id": "2a9f3bf0.575684",
        "type": "api-call-service",
        "z": "55da1471.fda0fc",
        "name": "return to base",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "vacuum.return_to_base",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "vacuum.roborock_s6_pure"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "vacuum",
        "service": "return_to_base",
        "x": 1360,
        "y": 280,
        "wires": [
            []
        ]
    },
    {
        "id": "a098e71.e0db718",
        "type": "api-call-service",
        "z": "55da1471.fda0fc",
        "name": "turn off auto cleaning",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "input_boolean.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_boolean.auto_cleaning"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "input_boolean",
        "service": "turn_off",
        "x": 700,
        "y": 840,
        "wires": [
            []
        ]
    },
    {
        "id": "65eac4d0c7d4907d",
        "type": "api-call-service",
        "z": "55da1471.fda0fc",
        "name": "start vacuum",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "vacuum.start",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "vacuum.roborock_s55"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "vacuum",
        "service": "start",
        "x": 1330,
        "y": 480,
        "wires": [
            [
                "12b21cf1b9684b45"
            ]
        ]
    },
    {
        "id": "60f6cd3f.56a0f4",
        "type": "api-current-state",
        "z": "55da1471.fda0fc",
        "name": "auto cleaning is on",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.auto_cleaning",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 910,
        "y": 460,
        "wires": [
            [
                "eccced83.41688",
                "564da01f0c297b52"
            ],
            []
        ]
    },
    {
        "id": "1351cb3a.cc7995",
        "type": "api-current-state",
        "z": "55da1471.fda0fc",
        "name": "state is not docked",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "docked",
        "halt_if_type": "str",
        "halt_if_compare": "is_not",
        "entity_id": "vacuum.roborock_s6_pure",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 950,
        "y": 280,
        "wires": [
            [
                "32d50dd7.16e062"
            ],
            []
        ]
    },
    {
        "id": "87dec77c.9877c8",
        "type": "api-current-state",
        "z": "55da1471.fda0fc",
        "name": "state group persons is home",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "home",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "group.persons",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 540,
        "y": 440,
        "wires": [
            [],
            [
                "353d562e.3dd04a"
            ]
        ]
    },
    {
        "id": "353d562e.3dd04a",
        "type": "api-current-state",
        "z": "55da1471.fda0fc",
        "name": "guest is off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.guest",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 930,
        "y": 360,
        "wires": [
            [
                "60f6cd3f.56a0f4"
            ],
            []
        ]
    },
    {
        "id": "eccced83.41688",
        "type": "api-current-state",
        "z": "55da1471.fda0fc",
        "name": "vacuum is not cleaning",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "cleaning",
        "halt_if_type": "str",
        "halt_if_compare": "is_not",
        "entity_id": "vacuum.roborock_s6_pure",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 1140,
        "y": 420,
        "wires": [
            [
                "a52152b0.f593b"
            ],
            []
        ]
    },
    {
        "id": "32d50dd7.16e062",
        "type": "api-current-state",
        "z": "55da1471.fda0fc",
        "name": "state is not returning",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "returning",
        "halt_if_type": "str",
        "halt_if_compare": "is_not",
        "entity_id": "vacuum.roborock_s6_pure",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 1160,
        "y": 280,
        "wires": [
            [
                "2a9f3bf0.575684"
            ],
            []
        ]
    },
    {
        "id": "1c372f1.535d7d1",
        "type": "api-current-state",
        "z": "55da1471.fda0fc",
        "name": "auto cleaning is on",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.auto_cleaning",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 290,
        "y": 580,
        "wires": [
            [
                "c5ad7ab8.30fda8"
            ],
            []
        ]
    },
    {
        "id": "c5ad7ab8.30fda8",
        "type": "api-current-state",
        "z": "55da1471.fda0fc",
        "name": "vacuum is not cleaning",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "cleaning",
        "halt_if_type": "str",
        "halt_if_compare": "is_not",
        "entity_id": "vacuum.roborock_s6_pure",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 500,
        "y": 580,
        "wires": [
            [
                "934221e4.b2d0d",
                "3cf95b5d.b388f4",
                "86f24a287db20768"
            ],
            []
        ]
    },
    {
        "id": "155ef739.0e1de9",
        "type": "api-current-state",
        "z": "55da1471.fda0fc",
        "name": "auto cleaning is on",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.auto_cleaning",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 490,
        "y": 740,
        "wires": [
            [
                "a098e71.e0db718"
            ],
            []
        ]
    },
    {
        "id": "6242c868ff3985eb",
        "type": "api-current-state",
        "z": "55da1471.fda0fc",
        "name": "uptime",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 1,
        "halt_if": "",
        "halt_if_type": "num",
        "halt_if_compare": "is",
        "entity_id": "sensor.uptime",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 470,
        "y": 320,
        "wires": [
            [
                "734801f342d9257e"
            ]
        ]
    },
    {
        "id": "564da01f0c297b52",
        "type": "api-current-state",
        "z": "55da1471.fda0fc",
        "name": "vacuum is not cleaning",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "cleaning",
        "halt_if_type": "str",
        "halt_if_compare": "is_not",
        "entity_id": "vacuum.roborock_s55",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 1140,
        "y": 480,
        "wires": [
            [
                "65eac4d0c7d4907d"
            ],
            []
        ]
    },
    {
        "id": "cbb046587922e1c0",
        "type": "server-events",
        "z": "55da1471.fda0fc",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 3,
        "exposeAsEntityConfig": "",
        "eventType": "mobile_app_notification_action",
        "eventData": "{\"action\":\"VACUUM_AUTOCLEANING_OFF\"}",
        "waitForRunning": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "$outputData(\"eventData\").event_type",
                "valueType": "jsonata"
            }
        ],
        "event_type": "",
        "x": 170,
        "y": 840,
        "wires": [
            [
                "a098e71.e0db718"
            ]
        ]
    },
    {
        "id": "b7cf63f8.77958",
        "type": "server-state-changed",
        "z": "55da1471.fda0fc",
        "name": "state group persons",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 1,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "group.persons"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": false,
        "stateType": "str",
        "ifState": "",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 110,
        "y": 300,
        "wires": [
            [
                "37466c93.d14b84"
            ]
        ]
    },
    {
        "id": "b6290ea8.c1e6f",
        "type": "server-state-changed",
        "z": "55da1471.fda0fc",
        "name": "state guest ",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 1,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "input_boolean.guest"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": false,
        "stateType": "str",
        "ifState": "",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 80,
        "y": 420,
        "wires": [
            [
                "c8eb1592.520518"
            ]
        ]
    },
    {
        "id": "173b8941.c73507",
        "type": "server-state-changed",
        "z": "55da1471.fda0fc",
        "name": "sleep mode is on",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "input_boolean.sleep_mode"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": false,
        "stateType": "str",
        "ifState": "on",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 100,
        "y": 580,
        "wires": [
            [
                "1c372f1.535d7d1"
            ],
            []
        ]
    },
    {
        "id": "1494387d.fca0a8",
        "type": "server-state-changed",
        "z": "55da1471.fda0fc",
        "name": "vacuum state is cleaning",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "vacuum.roborock_s6_pure"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": true,
        "stateType": "str",
        "ifState": "cleaning",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 130,
        "y": 740,
        "wires": [
            [
                "272212f1.26bb6e"
            ],
            []
        ]
    },
    {
        "id": "272212f1.26bb6e",
        "type": "ha-wait-until",
        "z": "55da1471.fda0fc",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "entities": {
            "entity": [
                "vacuum.roborock_s6_pure"
            ],
            "substring": [],
            "regex": []
        },
        "property": "state",
        "comparator": "is",
        "value": "returning",
        "valueType": "str",
        "timeout": "90",
        "timeoutType": "num",
        "timeoutUnits": "minutes",
        "checkCurrentState": true,
        "blockInputOverrides": true,
        "outputProperties": [],
        "x": 320,
        "y": 740,
        "wires": [
            [
                "155ef739.0e1de9"
            ],
            []
        ]
    },
    {
        "id": "700ffa065a57643e",
        "type": "ha-wait-until",
        "z": "55da1471.fda0fc",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "entities": {
            "entity": [
                "vacuum.roborock_s6_pure"
            ],
            "substring": [],
            "regex": []
        },
        "property": "state",
        "comparator": "is",
        "value": "cleaning",
        "valueType": "str",
        "timeout": "2",
        "timeoutType": "num",
        "timeoutUnits": "minutes",
        "checkCurrentState": true,
        "blockInputOverrides": true,
        "outputProperties": [],
        "entityLocation": "data",
        "entityLocationType": "none",
        "x": 1500,
        "y": 420,
        "wires": [
            [
                "c643d4d4.2baf98"
            ],
            [
                "64e882fa1c38e011"
            ]
        ]
    },
    {
        "id": "12b21cf1b9684b45",
        "type": "ha-wait-until",
        "z": "55da1471.fda0fc",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "entities": {
            "entity": [
                "vacuum.roborock_s55"
            ],
            "substring": [],
            "regex": []
        },
        "property": "state",
        "comparator": "is",
        "value": "cleaning",
        "valueType": "str",
        "timeout": "2",
        "timeoutType": "num",
        "timeoutUnits": "minutes",
        "checkCurrentState": true,
        "blockInputOverrides": true,
        "outputProperties": [],
        "entityLocation": "data",
        "entityLocationType": "none",
        "x": 1500,
        "y": 480,
        "wires": [
            [
                "c643d4d4.2baf98"
            ],
            [
                "64e882fa1c38e011"
            ]
        ]
    },
    {
        "id": "934221e4.b2d0d",
        "type": "stoptimer",
        "z": "55da1471.fda0fc",
        "duration": "10",
        "units": "Minute",
        "payloadtype": "num",
        "payloadval": "0",
        "name": "",
        "x": 720,
        "y": 520,
        "wires": [
            [
                "60f6cd3f.56a0f4"
            ],
            []
        ]
    },
    {
        "id": "3cf95b5d.b388f4",
        "type": "stoptimer",
        "z": "55da1471.fda0fc",
        "duration": "4",
        "units": "Second",
        "payloadtype": "num",
        "payloadval": "0",
        "name": "",
        "x": 720,
        "y": 640,
        "wires": [
            [
                "71847fb30d3084f7"
            ],
            []
        ]
    },
    {
        "id": "144ebe3499c86989",
        "type": "catch",
        "z": "55da1471.fda0fc",
        "g": "7a6662144d2d489c",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "dbd017147d154790"
            ]
        ]
    },
    {
        "id": "dbd017147d154790",
        "type": "template",
        "z": "55da1471.fda0fc",
        "g": "7a6662144d2d489c",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "74b269c1337cbb9d"
            ]
        ]
    },
    {
        "id": "4d1450df9aae47f1",
        "type": "link out",
        "z": "55da1471.fda0fc",
        "g": "7a6662144d2d489c",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 475,
        "y": 80,
        "wires": []
    },
    {
        "id": "74b269c1337cbb9d",
        "type": "template",
        "z": "55da1471.fda0fc",
        "g": "7a6662144d2d489c",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "4d1450df9aae47f1"
            ]
        ]
    },
    {
        "id": "af7eaeb691b4b689",
        "type": "change",
        "z": "29a2e1dd05ecbf80",
        "name": "",
        "rules": [
            {
                "t": "change",
                "p": "payload",
                "pt": "msg",
                "from": "input_boolean.vacuum_hall",
                "fromt": "str",
                "to": "16",
                "tot": "num"
            },
            {
                "t": "change",
                "p": "payload",
                "pt": "msg",
                "from": "input_boolean.vacuum_living_room",
                "fromt": "str",
                "to": "17",
                "tot": "num"
            },
            {
                "t": "change",
                "p": "payload",
                "pt": "msg",
                "from": "input_boolean.vacuum_dining_room",
                "fromt": "str",
                "to": "18",
                "tot": "num"
            },
            {
                "t": "change",
                "p": "payload",
                "pt": "msg",
                "from": "input_boolean.vacuum_kitchen",
                "fromt": "str",
                "to": "19",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 660,
        "y": 160,
        "wires": [
            [
                "6fc6228af058839b"
            ]
        ]
    },
    {
        "id": "6fc6228af058839b",
        "type": "join",
        "z": "29a2e1dd05ecbf80",
        "name": "",
        "mode": "auto",
        "build": "object",
        "property": "payload",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": "false",
        "timeout": "",
        "count": "",
        "reduceRight": false,
        "x": 830,
        "y": 160,
        "wires": [
            [
                "458382747fd06019"
            ]
        ]
    },
    {
        "id": "02cc03fa2fa9b1c1",
        "type": "change",
        "z": "29a2e1dd05ecbf80",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "payload.entity_id",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 480,
        "y": 160,
        "wires": [
            [
                "af7eaeb691b4b689",
                "92f37dfc24d886b9"
            ]
        ]
    },
    {
        "id": "458382747fd06019",
        "type": "function",
        "z": "29a2e1dd05ecbf80",
        "name": "create service call",
        "func": "msg.payload = {\n    \"domain\": \"vacuum\",\n    \"service\": \"send_command\",\n    \"target\": {\n        \"entity_id\": \"vacuum.roborock_s6_pure\"\n    },\n    \"data\": {\n        \"command\": \"app_segment_clean\",\n        \"params\": [\n            {\n                \"segments\": msg.payload\n            }\n        ]\n    }\n};\nreturn msg;\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 990,
        "y": 160,
        "wires": [
            [
                "3a3544e58c336443"
            ]
        ]
    },
    {
        "id": "32ee19ec383e0543",
        "type": "comment",
        "z": "29a2e1dd05ecbf80",
        "name": "clean selected rooms",
        "info": "",
        "x": 120,
        "y": 20,
        "wires": []
    },
    {
        "id": "0abec8ca261199bd",
        "type": "function",
        "z": "29a2e1dd05ecbf80",
        "name": "create service call",
        "func": "msg.payload = {\n    \"domain\": \"vacuum\",\n    \"service\": \"send_command\",\n    \"target\": {\n        \"entity_id\": \"vacuum.roborock_s55\"\n    },\n    \"data\": {\n        \"command\": \"app_segment_clean\",\n        \"params\": [\n            {\n                \"segments\": msg.payload\n            }\n        ]\n    }\n};\nreturn msg;\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 990,
        "y": 200,
        "wires": [
            [
                "3a3544e58c336443"
            ]
        ]
    },
    {
        "id": "1b709ceb0d69c831",
        "type": "join",
        "z": "29a2e1dd05ecbf80",
        "name": "",
        "mode": "auto",
        "build": "object",
        "property": "payload",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": "false",
        "timeout": "",
        "count": "",
        "reduceRight": false,
        "x": 830,
        "y": 200,
        "wires": [
            [
                "0abec8ca261199bd"
            ]
        ]
    },
    {
        "id": "92f37dfc24d886b9",
        "type": "change",
        "z": "29a2e1dd05ecbf80",
        "name": "",
        "rules": [
            {
                "t": "change",
                "p": "payload",
                "pt": "msg",
                "from": "input_boolean.vacuum_laundry_room",
                "fromt": "str",
                "to": "16",
                "tot": "num"
            },
            {
                "t": "change",
                "p": "payload",
                "pt": "msg",
                "from": "input_boolean.vacuum_souterrain",
                "fromt": "str",
                "to": "1",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 660,
        "y": 200,
        "wires": [
            [
                "1b709ceb0d69c831"
            ]
        ]
    },
    {
        "id": "3a3544e58c336443",
        "type": "api-call-service",
        "z": "29a2e1dd05ecbf80",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [],
        "labelId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "",
        "service": "",
        "x": 1190,
        "y": 160,
        "wires": [
            [
                "336d51b627dd3548"
            ]
        ]
    },
    {
        "id": "28a3562272f5e8bd",
        "type": "api-call-service",
        "z": "29a2e1dd05ecbf80",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "input_boolean.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "{{payload.entity_id}}"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "input_boolean",
        "service": "turn_off",
        "x": 1680,
        "y": 160,
        "wires": [
            []
        ]
    },
    {
        "id": "72f53719cdbc9455",
        "type": "server-state-changed",
        "z": "29a2e1dd05ecbf80",
        "name": "room cleaning button",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 1,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "input_button.vacuum_start_room_cleaning"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": false,
        "stateType": "str",
        "ifState": "",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 120,
        "y": 160,
        "wires": [
            [
                "a3633aab59b75d5e"
            ]
        ]
    },
    {
        "id": "a3633aab59b75d5e",
        "type": "ha-get-entities",
        "z": "29a2e1dd05ecbf80",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 1,
        "rules": [
            {
                "property": "entity_id",
                "logic": "starts_with",
                "value": "input_boolean.vacuum",
                "valueType": "str"
            },
            {
                "property": "state",
                "logic": "is",
                "value": "on",
                "valueType": "str"
            }
        ],
        "outputType": "split",
        "outputEmptyResults": false,
        "outputLocationType": "msg",
        "outputLocation": "payload",
        "outputResultsCount": 1,
        "x": 310,
        "y": 160,
        "wires": [
            [
                "02cc03fa2fa9b1c1"
            ]
        ]
    },
    {
        "id": "11adb81ae9e6f5e7",
        "type": "ha-get-entities",
        "z": "29a2e1dd05ecbf80",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 1,
        "rules": [
            {
                "property": "entity_id",
                "logic": "starts_with",
                "value": "input_boolean.vacuum",
                "valueType": "str"
            },
            {
                "property": "state",
                "logic": "is",
                "value": "on",
                "valueType": "str"
            }
        ],
        "outputType": "split",
        "outputEmptyResults": false,
        "outputLocationType": "msg",
        "outputLocation": "payload",
        "outputResultsCount": 1,
        "x": 1490,
        "y": 160,
        "wires": [
            [
                "28a3562272f5e8bd"
            ]
        ]
    },
    {
        "id": "336d51b627dd3548",
        "type": "ha-wait-until",
        "z": "29a2e1dd05ecbf80",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 1,
        "entities": {
            "entity": [],
            "substring": [],
            "regex": [
                "^vacuum."
            ]
        },
        "property": "state",
        "comparator": "is",
        "value": "cleaning",
        "valueType": "str",
        "timeout": "0",
        "timeoutType": "num",
        "timeoutUnits": "seconds",
        "checkCurrentState": true,
        "blockInputOverrides": true,
        "outputProperties": [],
        "entityLocation": "data",
        "entityLocationType": "none",
        "x": 1340,
        "y": 160,
        "wires": [
            [
                "11adb81ae9e6f5e7"
            ]
        ]
    },
    {
        "id": "ed749a88cd5bd834",
        "type": "catch",
        "z": "29a2e1dd05ecbf80",
        "g": "7c9dc6f46ee8eaaf",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "89d0c5bcdd39fd4c"
            ]
        ]
    },
    {
        "id": "89d0c5bcdd39fd4c",
        "type": "template",
        "z": "29a2e1dd05ecbf80",
        "g": "7c9dc6f46ee8eaaf",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "e33e1e962d57e077"
            ]
        ]
    },
    {
        "id": "b7a8e5cc57ee6ca0",
        "type": "link out",
        "z": "29a2e1dd05ecbf80",
        "g": "7c9dc6f46ee8eaaf",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 475,
        "y": 80,
        "wires": []
    },
    {
        "id": "e33e1e962d57e077",
        "type": "template",
        "z": "29a2e1dd05ecbf80",
        "g": "7c9dc6f46ee8eaaf",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "b7a8e5cc57ee6ca0"
            ]
        ]
    },
    {
        "id": "1cc93bcf43cdbf60",
        "type": "comment",
        "z": "03ed0365a1543556",
        "name": "Turn on or off tablet charging based on battery level",
        "info": "",
        "x": 210,
        "y": 20,
        "wires": []
    },
    {
        "id": "b9298a615e99a23f",
        "type": "switch",
        "z": "03ed0365a1543556",
        "name": "battery level",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "gte",
                "v": "80",
                "vt": "num"
            },
            {
                "t": "lt",
                "v": "30",
                "vt": "num"
            },
            {
                "t": "lt",
                "v": "20",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "NaN",
                "vt": "str"
            },
            {
                "t": "null"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 5,
        "x": 330,
        "y": 180,
        "wires": [
            [
                "0b118ac6e884fc56"
            ],
            [
                "077067e28d6d59b4"
            ],
            [
                "c55acb1486d56163"
            ],
            [
                "077067e28d6d59b4"
            ],
            [
                "077067e28d6d59b4"
            ]
        ]
    },
    {
        "id": "c55acb1486d56163",
        "type": "template",
        "z": "03ed0365a1543556",
        "name": "message",
        "field": "message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "{{data.new_state.attributes.friendly_name}} is {{payload}}%",
        "output": "str",
        "x": 520,
        "y": 220,
        "wires": [
            [
                "30b5e775d2659181"
            ]
        ]
    },
    {
        "id": "077067e28d6d59b4",
        "type": "api-call-service",
        "z": "03ed0365a1543556",
        "name": "turn on wall tablet charger",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "switch.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "switch.cv_closet_walltablet_charger"
        ],
        "labelId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "switch",
        "service": "turn_on",
        "x": 570,
        "y": 280,
        "wires": [
            []
        ]
    },
    {
        "id": "0b118ac6e884fc56",
        "type": "api-call-service",
        "z": "03ed0365a1543556",
        "name": "turn off wall tablet charger",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "switch.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "switch.cv_closet_walltablet_charger"
        ],
        "labelId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "switch",
        "service": "turn_off",
        "x": 570,
        "y": 160,
        "wires": [
            []
        ]
    },
    {
        "id": "30b5e775d2659181",
        "type": "api-call-service",
        "z": "03ed0365a1543556",
        "name": "slack message",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "notify.theautomation",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [],
        "labelId": [],
        "data": "{\"message\":\"Battery\",\"target\":\"#home-assistant\",\"title\":\"Battery\",\"data\":{\"blocks\":[{\"type\":\"header\",\"text\":{\"type\":\"plain_text\",\"text\":\"Tablet :battery:\"}},{\"type\":\"section\",\"fields\":[{\"type\":\"mrkdwn\",\"text\":\"{{{message}}}\"}]}]}}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "notify",
        "service": "theautomation",
        "x": 680,
        "y": 220,
        "wires": [
            []
        ]
    },
    {
        "id": "13ac101837378eb8",
        "type": "server-state-changed",
        "z": "03ed0365a1543556",
        "name": "wall tablet battery level",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 1,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "sensor.galaxy_tab_a8_battery"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": true,
        "stateType": "num",
        "ifState": "",
        "ifStateType": "num",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": false,
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            }
        ],
        "x": 120,
        "y": 160,
        "wires": [
            [
                "b9298a615e99a23f",
                "3217ced2069523e7"
            ]
        ]
    },
    {
        "id": "3217ced2069523e7",
        "type": "stoptimer",
        "z": "03ed0365a1543556",
        "duration": "1",
        "units": "Hour",
        "payloadtype": "num",
        "payloadval": "0",
        "name": "",
        "x": 330,
        "y": 280,
        "wires": [
            [
                "077067e28d6d59b4"
            ],
            []
        ]
    },
    {
        "id": "874b60377e719fde",
        "type": "catch",
        "z": "03ed0365a1543556",
        "g": "53dc0a23c8426878",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "387845d9698cbe12"
            ]
        ]
    },
    {
        "id": "387845d9698cbe12",
        "type": "template",
        "z": "03ed0365a1543556",
        "g": "53dc0a23c8426878",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "dfa305742a8fe0b2"
            ]
        ]
    },
    {
        "id": "7bf74cbdd5a69c4a",
        "type": "link out",
        "z": "03ed0365a1543556",
        "g": "53dc0a23c8426878",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 475,
        "y": 80,
        "wires": []
    },
    {
        "id": "dfa305742a8fe0b2",
        "type": "template",
        "z": "03ed0365a1543556",
        "g": "53dc0a23c8426878",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "7bf74cbdd5a69c4a"
            ]
        ]
    },
    {
        "id": "248ad183c4c0db5a",
        "type": "comment",
        "z": "9f9f94838a3fcd77",
        "name": "Triggers to turn on the wall tablet display",
        "info": "",
        "x": 180,
        "y": 20,
        "wires": []
    },
    {
        "id": "ec90fab1c8567df8",
        "type": "api-call-service",
        "z": "9f9f94838a3fcd77",
        "name": "turn on wall tablet screen",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "switch.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "switch.galaxy_tab_a8_screen"
        ],
        "labelId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "switch",
        "service": "turn_on",
        "x": 330,
        "y": 160,
        "wires": [
            []
        ]
    },
    {
        "id": "a99bad1a6477a029",
        "type": "server-state-changed",
        "z": "9f9f94838a3fcd77",
        "name": "sleepmode is on",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "input_boolean.sleep_mode"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": false,
        "stateType": "str",
        "ifState": "on",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 100,
        "y": 160,
        "wires": [
            [
                "ec90fab1c8567df8"
            ],
            []
        ]
    },
    {
        "id": "1019cc23f3f1b9f9",
        "type": "server-state-changed",
        "z": "9f9f94838a3fcd77",
        "name": "frontdoor is open",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "binary_sensor.frontdoor"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": true,
        "stateType": "str",
        "ifState": "on",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 100,
        "y": 220,
        "wires": [
            [
                "ec90fab1c8567df8"
            ],
            []
        ]
    },
    {
        "id": "0ff82d5f689f9542",
        "type": "server-state-changed",
        "z": "9f9f94838a3fcd77",
        "name": "backdoor is open",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "binary_sensor.backdoor"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": true,
        "stateType": "str",
        "ifState": "on",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 100,
        "y": 280,
        "wires": [
            [
                "ec90fab1c8567df8"
            ],
            []
        ]
    },
    {
        "id": "5b129927408ed4a8",
        "type": "server-state-changed",
        "z": "9f9f94838a3fcd77",
        "name": "motion in backyard",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "binary_sensor.backyard_motion_sensor_01_motion"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": true,
        "stateType": "str",
        "ifState": "on",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [],
        "x": 110,
        "y": 340,
        "wires": [
            [
                "ec90fab1c8567df8"
            ],
            []
        ]
    },
    {
        "id": "b85e156a673c59d5",
        "type": "catch",
        "z": "9f9f94838a3fcd77",
        "g": "6378d23d20fd57d5",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "ce529429a2626c93"
            ]
        ]
    },
    {
        "id": "ce529429a2626c93",
        "type": "template",
        "z": "9f9f94838a3fcd77",
        "g": "6378d23d20fd57d5",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "4bf210a3e31f4a3d"
            ]
        ]
    },
    {
        "id": "6399bb828d61b11b",
        "type": "link out",
        "z": "9f9f94838a3fcd77",
        "g": "6378d23d20fd57d5",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 475,
        "y": 80,
        "wires": []
    },
    {
        "id": "4bf210a3e31f4a3d",
        "type": "template",
        "z": "9f9f94838a3fcd77",
        "g": "6378d23d20fd57d5",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "6399bb828d61b11b"
            ]
        ]
    },
    {
        "id": "d4d19ad1bc94c25a",
        "type": "template",
        "z": "39bdcb9ed819fc87",
        "g": "959cc8d22399a3c9",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "008e4e3d5eb1c73a"
            ]
        ]
    },
    {
        "id": "008e4e3d5eb1c73a",
        "type": "link out",
        "z": "39bdcb9ed819fc87",
        "g": "959cc8d22399a3c9",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 475,
        "y": 80,
        "wires": []
    },
    {
        "id": "ab5ff3a4a505c122",
        "type": "template",
        "z": "39bdcb9ed819fc87",
        "g": "959cc8d22399a3c9",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "d4d19ad1bc94c25a"
            ]
        ]
    },
    {
        "id": "259d9bad9d37b072",
        "type": "catch",
        "z": "39bdcb9ed819fc87",
        "g": "959cc8d22399a3c9",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "ab5ff3a4a505c122"
            ]
        ]
    },
    {
        "id": "6a245f91bfd4669f",
        "type": "comment",
        "z": "39bdcb9ed819fc87",
        "name": "custom sensor that translate weather code dutch to english so the color can be used to set icon color in frontend",
        "info": "",
        "x": 400,
        "y": 20,
        "wires": []
    },
    {
        "id": "4226161bbc5e814e",
        "type": "function",
        "z": "39bdcb9ed819fc87",
        "name": "setup translation request",
        "func": "var text = msg.payload;\nvar source = \"nl\";\nvar target = \"en\";\n\nmsg.url = `https://api.mymemory.translated.net/get?q=${encodeURIComponent(text)}&langpair=${source}|${target}`;\n\nreturn msg;",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 330,
        "y": 160,
        "wires": [
            [
                "60a83f3d93926307"
            ]
        ]
    },
    {
        "id": "60a83f3d93926307",
        "type": "http request",
        "z": "39bdcb9ed819fc87",
        "name": "api call",
        "method": "GET",
        "ret": "obj",
        "paytoqs": "ignore",
        "url": "",
        "tls": "",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "",
        "senderr": false,
        "headers": [],
        "x": 520,
        "y": 160,
        "wires": [
            [
                "e2249f97e8ed5340"
            ]
        ]
    },
    {
        "id": "3783939d485f6ea8",
        "type": "server-state-changed",
        "z": "39bdcb9ed819fc87",
        "name": "knmi weather code",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 1,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "sensor.knmi_weather_code"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": true,
        "stateType": "str",
        "ifState": "",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": false,
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            }
        ],
        "x": 110,
        "y": 160,
        "wires": [
            [
                "4226161bbc5e814e"
            ]
        ]
    },
    {
        "id": "e2249f97e8ed5340",
        "type": "ha-sensor",
        "z": "39bdcb9ed819fc87",
        "name": "weather code translated",
        "entityConfig": "60731eead34cfb6b",
        "version": 0,
        "state": "payload.responseData.translatedText",
        "stateType": "msg",
        "attributes": [],
        "inputOverride": "allow",
        "outputProperties": [],
        "x": 710,
        "y": 160,
        "wires": [
            []
        ]
    },
    {
        "id": "c450a51ea918b745",
        "type": "comment",
        "z": "53a5f07742283c4c",
        "name": "API calls to spotify",
        "info": "",
        "x": 110,
        "y": 20,
        "wires": []
    },
    {
        "id": "6de7c606c864483c",
        "type": "inject",
        "z": "53a5f07742283c4c",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "3600",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "playlist_ids",
        "payload": "",
        "payloadType": "date",
        "x": 150,
        "y": 240,
        "wires": [
            [
                "ddc2e044d88310c8"
            ]
        ]
    },
    {
        "id": "7a298aa2cf27f18c",
        "type": "comment",
        "z": "53a5f07742283c4c",
        "name": "Get playlist",
        "info": "",
        "x": 100,
        "y": 200,
        "wires": []
    },
    {
        "id": "3d31c6d443ad7576",
        "type": "template",
        "z": "53a5f07742283c4c",
        "name": "playlist_id_Lise",
        "field": "playlist_id",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "3ORKq4U4Pv5gMrYdsaT6hw",
        "output": "str",
        "x": 660,
        "y": 300,
        "wires": [
            [
                "06ca84ceb3f727e3"
            ]
        ]
    },
    {
        "id": "b20ef33659df0d8c",
        "type": "change",
        "z": "53a5f07742283c4c",
        "name": "userid",
        "rules": [
            {
                "t": "set",
                "p": "userid",
                "pt": "flow",
                "to": "coen.s-nl",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1010,
        "y": 280,
        "wires": [
            [
                "2784c97a7471c5c6"
            ]
        ]
    },
    {
        "id": "60b97d6c27fca342",
        "type": "template",
        "z": "53a5f07742283c4c",
        "name": "playlist_id_My Shazam Tracks",
        "field": "playlist_id",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "7gHGifRLJgiahSNrugxIoa",
        "output": "str",
        "x": 710,
        "y": 340,
        "wires": [
            [
                "06ca84ceb3f727e3"
            ]
        ]
    },
    {
        "id": "2784c97a7471c5c6",
        "type": "template",
        "z": "53a5f07742283c4c",
        "name": "url",
        "field": "url",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "https://api.spotify.com/v1/playlists/{{{playlist_id}}}",
        "output": "str",
        "x": 1130,
        "y": 280,
        "wires": [
            [
                "12d835100c9d80f4"
            ]
        ]
    },
    {
        "id": "12d835100c9d80f4",
        "type": "template",
        "z": "53a5f07742283c4c",
        "name": "authorization value",
        "field": "authorization",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Bearer {{{global.spotify_access_token}}}",
        "output": "str",
        "x": 1290,
        "y": 280,
        "wires": [
            [
                "9e1f9216a2efc6ec"
            ]
        ]
    },
    {
        "id": "9e1f9216a2efc6ec",
        "type": "http request",
        "z": "53a5f07742283c4c",
        "name": "",
        "method": "GET",
        "ret": "obj",
        "paytoqs": "ignore",
        "url": "",
        "tls": "",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "",
        "senderr": false,
        "headers": [
            {
                "keyType": "other",
                "keyValue": "Authorization",
                "valueType": "msg",
                "valueValue": "authorization"
            }
        ],
        "x": 1470,
        "y": 280,
        "wires": [
            [
                "5c51b3e9d158410f"
            ]
        ]
    },
    {
        "id": "1d4f8e3d81b60ffc",
        "type": "switch",
        "z": "53a5f07742283c4c",
        "name": "",
        "property": "playlist_id",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "3ORKq4U4Pv5gMrYdsaT6hw",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "7gHGifRLJgiahSNrugxIoa",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "6pfSVtSuceWnHRMRRv2CSP",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "3nyfO2R6MxbP67wxYVo1nR",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "0avSSq7Hv1KtLC8dQB4xVE",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "77FZT9MGc3p7RMBUr5m50r",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "7E6QXGrtUyYl1kTyvnluTr",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "37i9dQZEVXcDO6enaQNKLz",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "37i9dQZEVXbqqpGQ1yV2nx",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "37i9dQZF1E4x6tDrzQfNsN",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "1FmlUPRCZaU7QkusYhibAB",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 11,
        "x": 1530,
        "y": 580,
        "wires": [
            [
                "a0e90487537504f6"
            ],
            [
                "bcfbf0d78f7269b4"
            ],
            [
                "5f32f52321717137"
            ],
            [
                "1418b6341448cd5b"
            ],
            [
                "86569d577185f81d"
            ],
            [
                "5356153d50ea0eb6"
            ],
            [
                "745d5fcc3f936573"
            ],
            [
                "d5f6f85bb84832b8"
            ],
            [
                "1645d155fcea7efd"
            ],
            [
                "f2b7f6dae0fc54c7"
            ],
            [
                "b59c37953c7293d7"
            ]
        ]
    },
    {
        "id": "5c51b3e9d158410f",
        "type": "switch",
        "z": "53a5f07742283c4c",
        "name": "statuscode",
        "property": "statusCode",
        "propertyType": "msg",
        "rules": [
            {
                "t": "gt",
                "v": "200",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "200",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1630,
        "y": 280,
        "wires": [
            [
                "bf0844c6b66ef3d3"
            ],
            [
                "331d4612c80eeb57"
            ]
        ]
    },
    {
        "id": "ddc2e044d88310c8",
        "type": "switch",
        "z": "53a5f07742283c4c",
        "name": "spotify_access_token is null",
        "property": "spotify_access_token",
        "propertyType": "global",
        "rules": [
            {
                "t": "null"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 440,
        "y": 240,
        "wires": [
            [
                "36c55dbdfffe6d33"
            ],
            [
                "706151681f0ece6f"
            ]
        ]
    },
    {
        "id": "bd375d61ba0a188f",
        "type": "inject",
        "z": "53a5f07742283c4c",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 100,
        "y": 1400,
        "wires": [
            [
                "50dd1df3d057525e"
            ]
        ]
    },
    {
        "id": "50dd1df3d057525e",
        "type": "change",
        "z": "53a5f07742283c4c",
        "name": "userid",
        "rules": [
            {
                "t": "set",
                "p": "userid",
                "pt": "flow",
                "to": "coen.s-nl",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 230,
        "y": 1400,
        "wires": [
            [
                "5b5550b55913708a",
                "679a6af14a8f7183"
            ]
        ]
    },
    {
        "id": "5b5550b55913708a",
        "type": "template",
        "z": "53a5f07742283c4c",
        "name": "url",
        "field": "url",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "https://api.spotify.com/v1/users/{{flow.userid}}/playlists",
        "output": "str",
        "x": 350,
        "y": 1400,
        "wires": [
            [
                "9bee98e3c1ca5078"
            ]
        ]
    },
    {
        "id": "9bee98e3c1ca5078",
        "type": "template",
        "z": "53a5f07742283c4c",
        "name": "authorization value",
        "field": "authorization",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Bearer {{{global.spotify_access_token}}}",
        "output": "str",
        "x": 510,
        "y": 1400,
        "wires": [
            [
                "746a4d6c560b9b29"
            ]
        ]
    },
    {
        "id": "746a4d6c560b9b29",
        "type": "http request",
        "z": "53a5f07742283c4c",
        "name": "",
        "method": "GET",
        "ret": "obj",
        "paytoqs": "ignore",
        "url": "",
        "tls": "",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "",
        "senderr": false,
        "headers": [
            {
                "keyType": "other",
                "keyValue": "Authorization",
                "valueType": "msg",
                "valueValue": "authorization"
            }
        ],
        "x": 690,
        "y": 1400,
        "wires": [
            [
                "5054f4ca804d199d"
            ]
        ]
    },
    {
        "id": "611b1ce15c3ce743",
        "type": "comment",
        "z": "53a5f07742283c4c",
        "name": "Get users playlists",
        "info": "",
        "x": 130,
        "y": 1360,
        "wires": []
    },
    {
        "id": "bf0844c6b66ef3d3",
        "type": "rbe",
        "z": "53a5f07742283c4c",
        "name": "",
        "func": "rbe",
        "gap": "",
        "start": "",
        "inout": "out",
        "septopics": true,
        "property": "statusCode",
        "topi": "topic",
        "x": 1950,
        "y": 260,
        "wires": [
            [
                "36c55dbdfffe6d33"
            ]
        ]
    },
    {
        "id": "b808134920bf4e34",
        "type": "template",
        "z": "53a5f07742283c4c",
        "name": "playlist_id_Nederlandstalig",
        "field": "playlist_id",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "6pfSVtSuceWnHRMRRv2CSP",
        "output": "str",
        "x": 700,
        "y": 380,
        "wires": [
            [
                "06ca84ceb3f727e3"
            ]
        ]
    },
    {
        "id": "e39b8ed1586ec144",
        "type": "template",
        "z": "53a5f07742283c4c",
        "name": "playlist_id_Audiophile",
        "field": "playlist_id",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "3nyfO2R6MxbP67wxYVo1nR",
        "output": "str",
        "x": 680,
        "y": 420,
        "wires": [
            [
                "06ca84ceb3f727e3"
            ]
        ]
    },
    {
        "id": "61b5309de555834f",
        "type": "template",
        "z": "53a5f07742283c4c",
        "name": "playlist_id_Dance",
        "field": "playlist_id",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "0avSSq7Hv1KtLC8dQB4xVE",
        "output": "str",
        "x": 670,
        "y": 460,
        "wires": [
            [
                "06ca84ceb3f727e3"
            ]
        ]
    },
    {
        "id": "8215ee5b32a90c48",
        "type": "template",
        "z": "53a5f07742283c4c",
        "name": "playlist_id_Alle Nijntje liedjes",
        "field": "playlist_id",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "77FZT9MGc3p7RMBUr5m50r",
        "output": "str",
        "x": 700,
        "y": 500,
        "wires": [
            [
                "06ca84ceb3f727e3"
            ]
        ]
    },
    {
        "id": "de1675c8792b80d3",
        "type": "template",
        "z": "53a5f07742283c4c",
        "name": "playlist_id_The War On Drugs - Complete Collection",
        "field": "playlist_id",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "7E6QXGrtUyYl1kTyvnluTr",
        "output": "str",
        "x": 780,
        "y": 540,
        "wires": [
            [
                "06ca84ceb3f727e3"
            ]
        ]
    },
    {
        "id": "5054f4ca804d199d",
        "type": "debug",
        "z": "53a5f07742283c4c",
        "name": "debug 1",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 840,
        "y": 1420,
        "wires": []
    },
    {
        "id": "7264146e613f154c",
        "type": "link in",
        "z": "53a5f07742283c4c",
        "name": "get playlist api call",
        "links": [
            "aa0c955739836a72",
            "e388914ef9ab9574"
        ],
        "x": 245,
        "y": 300,
        "wires": [
            [
                "ddc2e044d88310c8"
            ]
        ]
    },
    {
        "id": "36c55dbdfffe6d33",
        "type": "link out",
        "z": "53a5f07742283c4c",
        "name": "link out spotify_api ",
        "mode": "link",
        "links": [
            "1dd634541306cba1"
        ],
        "x": 2075,
        "y": 200,
        "wires": []
    },
    {
        "id": "679a6af14a8f7183",
        "type": "template",
        "z": "53a5f07742283c4c",
        "d": true,
        "name": "url",
        "field": "url",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "https://api.spotify.com/v1/browse/new-releases",
        "output": "str",
        "x": 350,
        "y": 1440,
        "wires": [
            [
                "9bee98e3c1ca5078"
            ]
        ]
    },
    {
        "id": "8975dba1409df05c",
        "type": "template",
        "z": "53a5f07742283c4c",
        "name": "playlist_id_Discover Weekly",
        "field": "playlist_id",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "37i9dQZEVXcDO6enaQNKLz",
        "output": "str",
        "x": 700,
        "y": 580,
        "wires": [
            [
                "06ca84ceb3f727e3"
            ]
        ]
    },
    {
        "id": "fa2d02d4ee1cb23c",
        "type": "template",
        "z": "53a5f07742283c4c",
        "name": "playlist_id_Release Radar",
        "field": "playlist_id",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "37i9dQZEVXbqqpGQ1yV2nx",
        "output": "str",
        "x": 690,
        "y": 620,
        "wires": [
            [
                "06ca84ceb3f727e3"
            ]
        ]
    },
    {
        "id": "7c7ba2d9bdb1a2a7",
        "type": "template",
        "z": "53a5f07742283c4c",
        "name": "playlist_id_The Haunted Youth",
        "field": "playlist_id",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "37i9dQZF1E4x6tDrzQfNsN",
        "output": "str",
        "x": 710,
        "y": 660,
        "wires": [
            [
                "06ca84ceb3f727e3"
            ]
        ]
    },
    {
        "id": "1ab78ae444020e91",
        "type": "template",
        "z": "53a5f07742283c4c",
        "name": "playlist_id_Baby Sleep Music",
        "field": "playlist_id",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "1FmlUPRCZaU7QkusYhibAB",
        "output": "str",
        "x": 700,
        "y": 700,
        "wires": [
            [
                "06ca84ceb3f727e3"
            ]
        ]
    },
    {
        "id": "331d4612c80eeb57",
        "type": "function",
        "z": "53a5f07742283c4c",
        "name": "remove non alpha numeric",
        "func": "msg.payload.name = msg.payload.name.replace(/[^0-9a-z ]/gi, '')\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1520,
        "y": 340,
        "wires": [
            [
                "1d4f8e3d81b60ffc"
            ]
        ]
    },
    {
        "id": "a0e90487537504f6",
        "type": "ha-sensor",
        "z": "53a5f07742283c4c",
        "name": "playlist_01",
        "entityConfig": "43f0157d8de58e65",
        "version": 0,
        "state": "payload.name",
        "stateType": "msg",
        "attributes": [
            {
                "property": "name",
                "value": "payload.name",
                "valueType": "msg"
            },
            {
                "property": "image",
                "value": "payload.images[0].url",
                "valueType": "msg"
            },
            {
                "property": "type",
                "value": "payload.type",
                "valueType": "msg"
            },
            {
                "property": "id",
                "value": "payload.id",
                "valueType": "msg"
            },
            {
                "property": "url",
                "value": "payload.external_urls.spotify",
                "valueType": "msg"
            }
        ],
        "inputOverride": "allow",
        "outputProperties": [],
        "x": 1750,
        "y": 400,
        "wires": [
            []
        ]
    },
    {
        "id": "bcfbf0d78f7269b4",
        "type": "ha-sensor",
        "z": "53a5f07742283c4c",
        "name": "playlist_02",
        "entityConfig": "739416ac098c217a",
        "version": 0,
        "state": "payload.name",
        "stateType": "msg",
        "attributes": [
            {
                "property": "name",
                "value": "payload.name",
                "valueType": "msg"
            },
            {
                "property": "image",
                "value": "payload.images[0].url",
                "valueType": "msg"
            },
            {
                "property": "type",
                "value": "payload.type",
                "valueType": "msg"
            },
            {
                "property": "id",
                "value": "payload.id",
                "valueType": "msg"
            },
            {
                "property": "url",
                "value": "payload.external_urls.spotify",
                "valueType": "msg"
            }
        ],
        "inputOverride": "allow",
        "outputProperties": [],
        "x": 1750,
        "y": 460,
        "wires": [
            []
        ]
    },
    {
        "id": "5f32f52321717137",
        "type": "ha-sensor",
        "z": "53a5f07742283c4c",
        "name": "playlist_03",
        "entityConfig": "a0921245c4bf57f4",
        "version": 0,
        "state": "payload.name",
        "stateType": "msg",
        "attributes": [
            {
                "property": "name",
                "value": "payload.name",
                "valueType": "msg"
            },
            {
                "property": "image",
                "value": "payload.images[0].url",
                "valueType": "msg"
            },
            {
                "property": "type",
                "value": "payload.type",
                "valueType": "msg"
            },
            {
                "property": "id",
                "value": "payload.id",
                "valueType": "msg"
            },
            {
                "property": "url",
                "value": "payload.external_urls.spotify",
                "valueType": "msg"
            }
        ],
        "inputOverride": "allow",
        "outputProperties": [],
        "x": 1750,
        "y": 520,
        "wires": [
            []
        ]
    },
    {
        "id": "1418b6341448cd5b",
        "type": "ha-sensor",
        "z": "53a5f07742283c4c",
        "name": "playlist_04",
        "entityConfig": "80964bcc6dc1a6e4",
        "version": 0,
        "state": "payload.name",
        "stateType": "msg",
        "attributes": [
            {
                "property": "name",
                "value": "payload.name",
                "valueType": "msg"
            },
            {
                "property": "image",
                "value": "payload.images[0].url",
                "valueType": "msg"
            },
            {
                "property": "type",
                "value": "payload.type",
                "valueType": "msg"
            },
            {
                "property": "id",
                "value": "payload.id",
                "valueType": "msg"
            },
            {
                "property": "url",
                "value": "payload.external_urls.spotify",
                "valueType": "msg"
            }
        ],
        "inputOverride": "allow",
        "outputProperties": [],
        "x": 1750,
        "y": 580,
        "wires": [
            []
        ]
    },
    {
        "id": "86569d577185f81d",
        "type": "ha-sensor",
        "z": "53a5f07742283c4c",
        "name": "playlist_05",
        "entityConfig": "6a1feec96440fb83",
        "version": 0,
        "state": "payload.name",
        "stateType": "msg",
        "attributes": [
            {
                "property": "name",
                "value": "payload.name",
                "valueType": "msg"
            },
            {
                "property": "image",
                "value": "payload.images[0].url",
                "valueType": "msg"
            },
            {
                "property": "type",
                "value": "payload.type",
                "valueType": "msg"
            },
            {
                "property": "id",
                "value": "payload.id",
                "valueType": "msg"
            },
            {
                "property": "url",
                "value": "payload.external_urls.spotify",
                "valueType": "msg"
            }
        ],
        "inputOverride": "allow",
        "outputProperties": [],
        "x": 1750,
        "y": 640,
        "wires": [
            []
        ]
    },
    {
        "id": "5356153d50ea0eb6",
        "type": "ha-sensor",
        "z": "53a5f07742283c4c",
        "name": "playlist_06",
        "entityConfig": "5998cbfbc54f204b",
        "version": 0,
        "state": "payload.name",
        "stateType": "msg",
        "attributes": [
            {
                "property": "name",
                "value": "payload.name",
                "valueType": "msg"
            },
            {
                "property": "image",
                "value": "payload.images[0].url",
                "valueType": "msg"
            },
            {
                "property": "type",
                "value": "payload.type",
                "valueType": "msg"
            },
            {
                "property": "id",
                "value": "payload.id",
                "valueType": "msg"
            },
            {
                "property": "url",
                "value": "payload.external_urls.spotify",
                "valueType": "msg"
            }
        ],
        "inputOverride": "allow",
        "outputProperties": [],
        "x": 1750,
        "y": 700,
        "wires": [
            []
        ]
    },
    {
        "id": "745d5fcc3f936573",
        "type": "ha-sensor",
        "z": "53a5f07742283c4c",
        "name": "playlist_07",
        "entityConfig": "f8cd4d84e50137d3",
        "version": 0,
        "state": "payload.name",
        "stateType": "msg",
        "attributes": [
            {
                "property": "name",
                "value": "payload.name",
                "valueType": "msg"
            },
            {
                "property": "image",
                "value": "payload.images[0].url",
                "valueType": "msg"
            },
            {
                "property": "type",
                "value": "payload.type",
                "valueType": "msg"
            },
            {
                "property": "id",
                "value": "payload.id",
                "valueType": "msg"
            },
            {
                "property": "url",
                "value": "payload.external_urls.spotify",
                "valueType": "msg"
            }
        ],
        "inputOverride": "allow",
        "outputProperties": [],
        "x": 1750,
        "y": 760,
        "wires": [
            []
        ]
    },
    {
        "id": "d5f6f85bb84832b8",
        "type": "ha-sensor",
        "z": "53a5f07742283c4c",
        "name": "playlist_08",
        "entityConfig": "c3a46b62ea6a96f3",
        "version": 0,
        "state": "payload.name",
        "stateType": "msg",
        "attributes": [
            {
                "property": "name",
                "value": "payload.name",
                "valueType": "msg"
            },
            {
                "property": "image",
                "value": "payload.images[0].url",
                "valueType": "msg"
            },
            {
                "property": "type",
                "value": "payload.type",
                "valueType": "msg"
            },
            {
                "property": "id",
                "value": "payload.id",
                "valueType": "msg"
            },
            {
                "property": "url",
                "value": "payload.external_urls.spotify",
                "valueType": "msg"
            }
        ],
        "inputOverride": "allow",
        "outputProperties": [],
        "x": 1750,
        "y": 820,
        "wires": [
            []
        ]
    },
    {
        "id": "1645d155fcea7efd",
        "type": "ha-sensor",
        "z": "53a5f07742283c4c",
        "name": "playlist_09",
        "entityConfig": "949130faf5e0a8e3",
        "version": 0,
        "state": "payload.name",
        "stateType": "msg",
        "attributes": [
            {
                "property": "name",
                "value": "payload.name",
                "valueType": "msg"
            },
            {
                "property": "image",
                "value": "payload.images[0].url",
                "valueType": "msg"
            },
            {
                "property": "type",
                "value": "payload.type",
                "valueType": "msg"
            },
            {
                "property": "id",
                "value": "payload.id",
                "valueType": "msg"
            },
            {
                "property": "url",
                "value": "payload.external_urls.spotify",
                "valueType": "msg"
            }
        ],
        "inputOverride": "allow",
        "outputProperties": [],
        "x": 1750,
        "y": 880,
        "wires": [
            []
        ]
    },
    {
        "id": "f2b7f6dae0fc54c7",
        "type": "ha-sensor",
        "z": "53a5f07742283c4c",
        "name": "playlist_10",
        "entityConfig": "a1513867525f661a",
        "version": 0,
        "state": "payload.name",
        "stateType": "msg",
        "attributes": [
            {
                "property": "name",
                "value": "payload.name",
                "valueType": "msg"
            },
            {
                "property": "image",
                "value": "payload.images[0].url",
                "valueType": "msg"
            },
            {
                "property": "type",
                "value": "payload.type",
                "valueType": "msg"
            },
            {
                "property": "id",
                "value": "payload.id",
                "valueType": "msg"
            },
            {
                "property": "url",
                "value": "payload.external_urls.spotify",
                "valueType": "msg"
            }
        ],
        "inputOverride": "allow",
        "outputProperties": [],
        "x": 1750,
        "y": 940,
        "wires": [
            []
        ]
    },
    {
        "id": "b59c37953c7293d7",
        "type": "ha-sensor",
        "z": "53a5f07742283c4c",
        "name": "playlist_11",
        "entityConfig": "4ae2ea66b5fed8a9",
        "version": 0,
        "state": "payload.name",
        "stateType": "msg",
        "attributes": [
            {
                "property": "name",
                "value": "payload.name",
                "valueType": "msg"
            },
            {
                "property": "image",
                "value": "payload.images[0].url",
                "valueType": "msg"
            },
            {
                "property": "type",
                "value": "payload.type",
                "valueType": "msg"
            },
            {
                "property": "id",
                "value": "payload.id",
                "valueType": "msg"
            },
            {
                "property": "url",
                "value": "payload.external_urls.spotify",
                "valueType": "msg"
            }
        ],
        "inputOverride": "allow",
        "outputProperties": [],
        "x": 1750,
        "y": 1000,
        "wires": [
            []
        ]
    },
    {
        "id": "47d6de79902c0161",
        "type": "catch",
        "z": "53a5f07742283c4c",
        "g": "8a399bf7837890c0",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "2b73fe41a49fc65b"
            ]
        ]
    },
    {
        "id": "2b73fe41a49fc65b",
        "type": "template",
        "z": "53a5f07742283c4c",
        "g": "8a399bf7837890c0",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "39f5d21c50d9ac9d"
            ]
        ]
    },
    {
        "id": "4e680a078b0a25b2",
        "type": "link out",
        "z": "53a5f07742283c4c",
        "g": "8a399bf7837890c0",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 475,
        "y": 80,
        "wires": []
    },
    {
        "id": "39f5d21c50d9ac9d",
        "type": "template",
        "z": "53a5f07742283c4c",
        "g": "8a399bf7837890c0",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "4e680a078b0a25b2"
            ]
        ]
    },
    {
        "id": "fb24a0eedc88b4da",
        "type": "http request",
        "z": "584b31926baad02b",
        "name": "get token",
        "method": "POST",
        "ret": "obj",
        "paytoqs": "ignore",
        "url": "https://accounts.spotify.com/api/token",
        "tls": "",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "",
        "senderr": false,
        "headers": [
            {
                "keyType": "other",
                "keyValue": "Content-Type",
                "valueType": "other",
                "valueValue": "application/x-www-form-urlencoded"
            }
        ],
        "x": 820,
        "y": 160,
        "wires": [
            [
                "f691e43bf48e100a"
            ]
        ]
    },
    {
        "id": "e320588ed50c77d5",
        "type": "change",
        "z": "584b31926baad02b",
        "name": "client id and client secret",
        "rules": [
            {
                "t": "set",
                "p": "client_id",
                "pt": "msg",
                "to": "SPOTIFY_API_CLIENT_ID",
                "tot": "env"
            },
            {
                "t": "set",
                "p": "client_secret",
                "pt": "msg",
                "to": "SPOTIFY_API_CLIENT_SECRET",
                "tot": "env"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 310,
        "y": 160,
        "wires": [
            [
                "84d72d4e3a05e1bc"
            ]
        ]
    },
    {
        "id": "84d72d4e3a05e1bc",
        "type": "template",
        "z": "584b31926baad02b",
        "name": "body for get token",
        "field": "payload",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "grant_type=client_credentials&client_id={{{client_id}}}&client_secret={{{client_secret}}}",
        "output": "str",
        "x": 530,
        "y": 160,
        "wires": [
            [
                "dc56b78107516298"
            ]
        ]
    },
    {
        "id": "f691e43bf48e100a",
        "type": "change",
        "z": "584b31926baad02b",
        "name": "save access token to global variable",
        "rules": [
            {
                "t": "set",
                "p": "spotify_access_token",
                "pt": "global",
                "to": "payload.access_token",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1050,
        "y": 160,
        "wires": [
            [
                "e388914ef9ab9574"
            ]
        ]
    },
    {
        "id": "dc56b78107516298",
        "type": "template",
        "z": "584b31926baad02b",
        "name": "url",
        "field": "url",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "https://accounts.spotify.com/api/token",
        "output": "str",
        "x": 690,
        "y": 160,
        "wires": [
            [
                "fb24a0eedc88b4da"
            ]
        ]
    },
    {
        "id": "1dd634541306cba1",
        "type": "link in",
        "z": "584b31926baad02b",
        "name": "link in to spotify_api_token",
        "links": [
            "36c55dbdfffe6d33"
        ],
        "x": 165,
        "y": 160,
        "wires": [
            [
                "e320588ed50c77d5"
            ]
        ]
    },
    {
        "id": "7bc7fae2839a6cd6",
        "type": "comment",
        "z": "584b31926baad02b",
        "name": "Get new api token if it not exists or existing one is expired",
        "info": "",
        "x": 230,
        "y": 20,
        "wires": []
    },
    {
        "id": "e388914ef9ab9574",
        "type": "link out",
        "z": "584b31926baad02b",
        "name": "link out from spotify_api_token",
        "mode": "link",
        "links": [
            "7264146e613f154c"
        ],
        "x": 1245,
        "y": 160,
        "wires": []
    },
    {
        "id": "cf9b5d41bcd9b744",
        "type": "catch",
        "z": "584b31926baad02b",
        "g": "3e1c22c92c9a0f35",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "334d3a7297cfeb6c"
            ]
        ]
    },
    {
        "id": "334d3a7297cfeb6c",
        "type": "template",
        "z": "584b31926baad02b",
        "g": "3e1c22c92c9a0f35",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "a7bff42886f892b4"
            ]
        ]
    },
    {
        "id": "8a30ed094fb5f99e",
        "type": "link out",
        "z": "584b31926baad02b",
        "g": "3e1c22c92c9a0f35",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 475,
        "y": 80,
        "wires": []
    },
    {
        "id": "a7bff42886f892b4",
        "type": "template",
        "z": "584b31926baad02b",
        "g": "3e1c22c92c9a0f35",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "8a30ed094fb5f99e"
            ]
        ]
    },
    {
        "id": "994b4caf94c3451c",
        "type": "comment",
        "z": "a4fbdd1c0456c1af",
        "name": "button to toggle tv device on/off",
        "info": "",
        "x": 150,
        "y": 20,
        "wires": []
    },
    {
        "id": "3724f1550b7ce891",
        "type": "api-call-service",
        "z": "a4fbdd1c0456c1af",
        "name": "turn off tv",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "webostv.command",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "media_player.lg_webos_smart_tv"
        ],
        "labelId": [],
        "data": "{\"command\":\"system/turnOff\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "webostv",
        "service": "command",
        "x": 360,
        "y": 220,
        "wires": [
            [
                "69b6c54a1cabe45b"
            ]
        ]
    },
    {
        "id": "38a89a2645866f0c",
        "type": "api-call-service",
        "z": "a4fbdd1c0456c1af",
        "name": "turn on shield mediaplayer",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "media_player.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "media_player.shield"
        ],
        "labelId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "media_player",
        "service": "turn_on",
        "x": 420,
        "y": 160,
        "wires": [
            []
        ]
    },
    {
        "id": "69b6c54a1cabe45b",
        "type": "api-call-service",
        "z": "a4fbdd1c0456c1af",
        "name": "turn off shield mediaplayer",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "media_player.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "media_player.shield"
        ],
        "labelId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "media_player",
        "service": "turn_off",
        "x": 560,
        "y": 220,
        "wires": [
            []
        ]
    },
    {
        "id": "fff03108c5f1ce08",
        "type": "api-current-state",
        "z": "a4fbdd1c0456c1af",
        "name": "tv state is off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "media_player.lg_webos_smart_tv",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 210,
        "y": 160,
        "wires": [
            [
                "38a89a2645866f0c"
            ],
            [
                "3724f1550b7ce891"
            ]
        ]
    },
    {
        "id": "9b76c1a2318387ea",
        "type": "ha-button",
        "z": "a4fbdd1c0456c1af",
        "name": "",
        "version": 0,
        "debugenabled": false,
        "outputs": 1,
        "entityConfig": "334728918669134a",
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "x": 70,
        "y": 160,
        "wires": [
            [
                "fff03108c5f1ce08"
            ]
        ]
    },
    {
        "id": "289e69cd264b93eb",
        "type": "catch",
        "z": "a4fbdd1c0456c1af",
        "g": "0c4c4d997dc4f3b1",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "2fc22cb558c3300b"
            ]
        ]
    },
    {
        "id": "2fc22cb558c3300b",
        "type": "template",
        "z": "a4fbdd1c0456c1af",
        "g": "0c4c4d997dc4f3b1",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "c5d9fdd7bfb1fbb3"
            ]
        ]
    },
    {
        "id": "f6679763cd60d5c2",
        "type": "link out",
        "z": "a4fbdd1c0456c1af",
        "g": "0c4c4d997dc4f3b1",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 475,
        "y": 80,
        "wires": []
    },
    {
        "id": "c5d9fdd7bfb1fbb3",
        "type": "template",
        "z": "a4fbdd1c0456c1af",
        "g": "0c4c4d997dc4f3b1",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "f6679763cd60d5c2"
            ]
        ]
    },
    {
        "id": "4a35bcbba9fd8659",
        "type": "change",
        "z": "67a16d037f1a73fc",
        "name": "off",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "off",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 310,
        "y": 160,
        "wires": [
            [
                "dec82ecde28afe10"
            ]
        ]
    },
    {
        "id": "1ca6cd4f788d2e7e",
        "type": "comment",
        "z": "67a16d037f1a73fc",
        "name": "turn on or off binary sensor tv device base on power usage or mediaplayer state",
        "info": "",
        "x": 300,
        "y": 20,
        "wires": []
    },
    {
        "id": "cc3caee8d4e6c43d",
        "type": "change",
        "z": "67a16d037f1a73fc",
        "name": "on",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "on",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 310,
        "y": 200,
        "wires": [
            [
                "dec82ecde28afe10"
            ]
        ]
    },
    {
        "id": "3ad861c67030f3f1",
        "type": "server-state-changed",
        "z": "67a16d037f1a73fc",
        "name": "lg tv mediaplayer is off",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "media_player.lg_webos_smart_tv"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": true,
        "stateType": "str",
        "ifState": "off",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": true,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 120,
        "y": 160,
        "wires": [
            [
                "4a35bcbba9fd8659"
            ],
            [
                "cc3caee8d4e6c43d"
            ]
        ]
    },
    {
        "id": "dec82ecde28afe10",
        "type": "ha-binary-sensor",
        "z": "67a16d037f1a73fc",
        "name": "tv_device",
        "entityConfig": "03547137a16812fd",
        "version": 0,
        "state": "payload",
        "stateType": "msg",
        "attributes": [],
        "inputOverride": "allow",
        "outputProperties": [],
        "x": 460,
        "y": 160,
        "wires": [
            []
        ]
    },
    {
        "id": "f51ddf7aa1887856",
        "type": "catch",
        "z": "67a16d037f1a73fc",
        "g": "6c139f7e45d57ce6",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "94668c7094bf409b"
            ]
        ]
    },
    {
        "id": "94668c7094bf409b",
        "type": "template",
        "z": "67a16d037f1a73fc",
        "g": "6c139f7e45d57ce6",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "aaf28e71155281d1"
            ]
        ]
    },
    {
        "id": "0e36b13934d068e7",
        "type": "link out",
        "z": "67a16d037f1a73fc",
        "g": "6c139f7e45d57ce6",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 475,
        "y": 80,
        "wires": []
    },
    {
        "id": "aaf28e71155281d1",
        "type": "template",
        "z": "67a16d037f1a73fc",
        "g": "6c139f7e45d57ce6",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "0e36b13934d068e7"
            ]
        ]
    },
    {
        "id": "32e0cbcd73142f33",
        "type": "catch",
        "z": "39f5e6336137f4b2",
        "g": "03c1d7472447f924",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "5c1d97fa3277b1c6"
            ]
        ]
    },
    {
        "id": "5c1d97fa3277b1c6",
        "type": "template",
        "z": "39f5e6336137f4b2",
        "g": "03c1d7472447f924",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "5fc11e4e29f3d02f"
            ]
        ]
    },
    {
        "id": "1514f8777e4c8211",
        "type": "link out",
        "z": "39f5e6336137f4b2",
        "g": "03c1d7472447f924",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 475,
        "y": 80,
        "wires": []
    },
    {
        "id": "5fc11e4e29f3d02f",
        "type": "template",
        "z": "39f5e6336137f4b2",
        "g": "03c1d7472447f924",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "1514f8777e4c8211"
            ]
        ]
    },
    {
        "id": "2a804e94931f7201",
        "type": "comment",
        "z": "39f5e6336137f4b2",
        "name": "turn off tvscreen when nothing is playing and turn back on when mediaplayer start playing",
        "info": "",
        "x": 330,
        "y": 20,
        "wires": []
    },
    {
        "id": "b17acb7df0bb2bd2",
        "type": "switch",
        "z": "39f5e6336137f4b2",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "playing",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "paused",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 350,
        "y": 160,
        "wires": [
            [
                "d9540c933a60aec7",
                "42cb99108eba09c0"
            ],
            [
                "f8003d1746659317"
            ]
        ]
    },
    {
        "id": "d9540c933a60aec7",
        "type": "change",
        "z": "39f5e6336137f4b2",
        "name": "set payload stop",
        "rules": [
            {
                "t": "set",
                "p": "reset",
                "pt": "msg",
                "to": "",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 680,
        "y": 160,
        "wires": [
            [
                "4539dbe872caf169",
                "19b08832ac41fe31"
            ]
        ]
    },
    {
        "id": "19b08832ac41fe31",
        "type": "delay",
        "z": "39f5e6336137f4b2",
        "name": "",
        "pauseType": "delay",
        "timeout": "10",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 920,
        "y": 240,
        "wires": [
            [
                "a9227561e7f66936",
                "382a831c1568641b"
            ]
        ]
    },
    {
        "id": "382a831c1568641b",
        "type": "delay",
        "z": "39f5e6336137f4b2",
        "name": "",
        "pauseType": "delay",
        "timeout": "10",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 1120,
        "y": 240,
        "wires": [
            [
                "19e1804740908598"
            ]
        ]
    },
    {
        "id": "42cb99108eba09c0",
        "type": "api-call-service",
        "z": "39f5e6336137f4b2",
        "name": "tvscreen turn on",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "webostv.command",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [],
        "labelId": [],
        "data": "{\"entity_id\":\"media_player.lg_webos_smart_tv\",\"command\":\"com.webos.service.tvpower/power/turnOnScreen\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "webostv",
        "service": "command",
        "x": 680,
        "y": 200,
        "wires": [
            []
        ]
    },
    {
        "id": "a9227561e7f66936",
        "type": "api-call-service",
        "z": "39f5e6336137f4b2",
        "name": "notify tv",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "notify.lg_webos_smart_tv",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [],
        "labelId": [],
        "data": "{\"message\":\"TV scherm gaat over 10 seconde automatisch op zwart. \",\"title\":\"TV scherm\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "turn_off",
                "valueType": "str"
            }
        ],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "notify",
        "service": "lg_webos_smart_tv",
        "x": 1120,
        "y": 300,
        "wires": [
            []
        ]
    },
    {
        "id": "19e1804740908598",
        "type": "api-call-service",
        "z": "39f5e6336137f4b2",
        "name": "tvscreen turn off",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "webostv.command",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [],
        "labelId": [],
        "data": "{\"entity_id\":\"media_player.lg_webos_smart_tv\",\"command\":\"com.webos.service.tvpower/power/turnOffScreen\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "webostv",
        "service": "command",
        "x": 1300,
        "y": 240,
        "wires": [
            []
        ]
    },
    {
        "id": "a50b36c508ee1125",
        "type": "server-state-changed",
        "z": "39f5e6336137f4b2",
        "name": "universal tv is not playing",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 1,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "media_player.universal_tv"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": true,
        "stateType": "str",
        "ifState": "",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": false,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 130,
        "y": 160,
        "wires": [
            [
                "b17acb7df0bb2bd2"
            ]
        ]
    },
    {
        "id": "710a9c0fa290ab6f",
        "type": "server-state-changed",
        "z": "39f5e6336137f4b2",
        "name": "mediaplayer shield is idle",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 1,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "media_player.shield"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": true,
        "stateType": "str",
        "ifState": "",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": false,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 130,
        "y": 280,
        "wires": [
            [
                "b822a9f31018d2a0"
            ]
        ]
    },
    {
        "id": "b822a9f31018d2a0",
        "type": "switch",
        "z": "39f5e6336137f4b2",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "idle",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 350,
        "y": 280,
        "wires": [
            [
                "a325b77f020cd697"
            ]
        ]
    },
    {
        "id": "a325b77f020cd697",
        "type": "switch",
        "z": "39f5e6336137f4b2",
        "name": "",
        "property": "data.new_state.attributes.app_name",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "NLZIET",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 470,
        "y": 280,
        "wires": [
            [
                "f8003d1746659317"
            ]
        ]
    },
    {
        "id": "5bb7a42d4f9af661",
        "type": "template",
        "z": "2c496b90815e2d15",
        "g": "56142a1519568ef8",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "ddf56ac7c76174e3"
            ]
        ]
    },
    {
        "id": "ddf56ac7c76174e3",
        "type": "link out",
        "z": "2c496b90815e2d15",
        "g": "56142a1519568ef8",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 475,
        "y": 80,
        "wires": []
    },
    {
        "id": "a095e55bdff6b447",
        "type": "template",
        "z": "2c496b90815e2d15",
        "g": "56142a1519568ef8",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "5bb7a42d4f9af661"
            ]
        ]
    },
    {
        "id": "b6bfca82eda04627",
        "type": "catch",
        "z": "2c496b90815e2d15",
        "g": "56142a1519568ef8",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "a095e55bdff6b447"
            ]
        ]
    },
    {
        "id": "d74a8990e320bdd1",
        "type": "change",
        "z": "2c496b90815e2d15",
        "name": "set screen to off",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "Off",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 380,
        "y": 160,
        "wires": [
            [
                "bf0edd39a6bab4fd"
            ]
        ]
    },
    {
        "id": "62bc4f4208a1c07d",
        "type": "change",
        "z": "2c496b90815e2d15",
        "name": "set screen to on",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "On",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 380,
        "y": 200,
        "wires": [
            [
                "bf0edd39a6bab4fd"
            ]
        ]
    },
    {
        "id": "e3fded43b9c078ca",
        "type": "comment",
        "z": "2c496b90815e2d15",
        "name": "button to toggle tvscreen on/off",
        "info": "",
        "x": 150,
        "y": 20,
        "wires": []
    },
    {
        "id": "bf0edd39a6bab4fd",
        "type": "api-call-service",
        "z": "2c496b90815e2d15",
        "name": "tv screen toggle",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "webostv.command",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [],
        "labelId": [],
        "data": "{\"command\":\"com.webos.service.tvpower/power/turn{{topic}}Screen\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "webostv",
        "service": "command",
        "x": 560,
        "y": 160,
        "wires": [
            []
        ]
    },
    {
        "id": "89261028e8c833f2",
        "type": "ha-button",
        "z": "2c496b90815e2d15",
        "name": "tv screen toggle button",
        "version": 0,
        "debugenabled": false,
        "outputs": 1,
        "entityConfig": "8cfcbd4314535fdb",
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "x": 120,
        "y": 160,
        "wires": [
            [
                "d74a8990e320bdd1",
                "1d17d4994d0cc1e1"
            ]
        ]
    },
    {
        "id": "384856183bc9a3dc",
        "type": "template",
        "z": "b1c954404ea39706",
        "g": "50d4aab3fb8401c4",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "85efbfe86edb2e91"
            ]
        ]
    },
    {
        "id": "85efbfe86edb2e91",
        "type": "link out",
        "z": "b1c954404ea39706",
        "g": "50d4aab3fb8401c4",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 475,
        "y": 80,
        "wires": []
    },
    {
        "id": "96744f1f4c81f4f5",
        "type": "template",
        "z": "b1c954404ea39706",
        "g": "50d4aab3fb8401c4",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "384856183bc9a3dc"
            ]
        ]
    },
    {
        "id": "cf20999f86ef9f29",
        "type": "catch",
        "z": "b1c954404ea39706",
        "g": "50d4aab3fb8401c4",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "96744f1f4c81f4f5"
            ]
        ]
    },
    {
        "id": "2a258b8e5d5f02c1",
        "type": "change",
        "z": "b1c954404ea39706",
        "name": "off",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "off",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 370,
        "y": 160,
        "wires": [
            [
                "e03eed5bed2f57e7"
            ]
        ]
    },
    {
        "id": "bb325460c43b1166",
        "type": "change",
        "z": "b1c954404ea39706",
        "name": "on",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "on",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 370,
        "y": 200,
        "wires": [
            [
                "e03eed5bed2f57e7"
            ]
        ]
    },
    {
        "id": "5620508d3ec7e20a",
        "type": "switch",
        "z": "b1c954404ea39706",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "lte",
                "v": "53",
                "vt": "num"
            },
            {
                "t": "gt",
                "v": "53",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 250,
        "y": 160,
        "wires": [
            [
                "2a258b8e5d5f02c1"
            ],
            [
                "bb325460c43b1166"
            ]
        ]
    },
    {
        "id": "bee1f110f6601d1b",
        "type": "comment",
        "z": "b1c954404ea39706",
        "name": "turn on or off binary sensor tvscreen device base on tv power usage",
        "info": "",
        "x": 260,
        "y": 20,
        "wires": []
    },
    {
        "id": "edb38616cd8dda04",
        "type": "server-state-changed",
        "z": "b1c954404ea39706",
        "d": true,
        "name": "tv device power",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 1,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "sensor.shellyplug_tv_power"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": true,
        "stateType": "str",
        "ifState": "",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "0",
        "forType": "num",
        "forUnits": "seconds",
        "ignorePrevStateNull": true,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 100,
        "y": 160,
        "wires": [
            [
                "5620508d3ec7e20a"
            ]
        ]
    },
    {
        "id": "e03eed5bed2f57e7",
        "type": "ha-binary-sensor",
        "z": "b1c954404ea39706",
        "name": "tvscreen_device",
        "entityConfig": "bb28b274f3ceaae8",
        "version": 0,
        "state": "payload",
        "stateType": "msg",
        "attributes": [],
        "inputOverride": "allow",
        "outputProperties": [],
        "x": 520,
        "y": 160,
        "wires": [
            []
        ]
    },
    {
        "id": "6b6bd65614097561",
        "type": "comment",
        "z": "4b48188ca7b303d7",
        "name": "change light based on actions",
        "info": "",
        "x": 140,
        "y": 20,
        "wires": []
    },
    {
        "id": "ce324704d2fae759",
        "type": "function",
        "z": "4b48188ca7b303d7",
        "name": "store light brightness",
        "func": "var object = \"history.\" + msg.payload.entity_id + \".attributes\"\nvar brightness = object + \".brightness\"\nvar state = object + \".state\"\nflow.set(brightness, msg.payload.attributes.brightness)\nflow.set(state, msg.payload.state)\nreturn msg",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1000,
        "y": 160,
        "wires": [
            [
                "7ba9724ab83fa1a3"
            ]
        ]
    },
    {
        "id": "ae4305924010abf0",
        "type": "split",
        "z": "4b48188ca7b303d7",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 1830,
        "y": 160,
        "wires": [
            [
                "4f241513e7cea2ac"
            ]
        ]
    },
    {
        "id": "97c520659be6b4b3",
        "type": "change",
        "z": "4b48188ca7b303d7",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "history.light",
                "tot": "flow"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1680,
        "y": 160,
        "wires": [
            [
                "ae4305924010abf0"
            ]
        ]
    },
    {
        "id": "4f241513e7cea2ac",
        "type": "switch",
        "z": "4b48188ca7b303d7",
        "name": "",
        "property": "payload.attributes.state",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "on",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "off",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1950,
        "y": 160,
        "wires": [
            [
                "546fefed6fa99188"
            ],
            [
                "7a9894c1b0d507b3"
            ]
        ]
    },
    {
        "id": "36f6d937dac70d3b",
        "type": "switch",
        "z": "4b48188ca7b303d7",
        "name": "flow not active",
        "property": "active",
        "propertyType": "flow",
        "rules": [
            {
                "t": "neq",
                "v": "true",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 440,
        "y": 160,
        "wires": [
            [
                "62d81c701468e19d"
            ]
        ]
    },
    {
        "id": "f8cde10a25c99253",
        "type": "change",
        "z": "4b48188ca7b303d7",
        "name": "set flow active to false",
        "rules": [
            {
                "t": "set",
                "p": "active",
                "pt": "flow",
                "to": "false",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1700,
        "y": 220,
        "wires": [
            []
        ]
    },
    {
        "id": "cfb9524c088b31a3",
        "type": "change",
        "z": "4b48188ca7b303d7",
        "name": "set flow active to true",
        "rules": [
            {
                "t": "set",
                "p": "active",
                "pt": "flow",
                "to": "true",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1440,
        "y": 220,
        "wires": [
            []
        ]
    },
    {
        "id": "7ba9724ab83fa1a3",
        "type": "api-call-service",
        "z": "4b48188ca7b303d7",
        "name": "turn up brightness",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "{{payload.entity_id}}"
        ],
        "labelId": [],
        "data": "{\"brightness_pct\":\"65\",\"transition\":5000}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "all",
        "blockInputOverrides": false,
        "domain": "light",
        "service": "turn_on",
        "x": 1210,
        "y": 160,
        "wires": [
            [
                "8f4a7b8ae2cc4f22",
                "cfb9524c088b31a3"
            ]
        ]
    },
    {
        "id": "546fefed6fa99188",
        "type": "api-call-service",
        "z": "4b48188ca7b303d7",
        "name": "restore light on state",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "light.{{parts.key}}"
        ],
        "labelId": [],
        "data": "{\"brightness\":\"{{payload.attributes.brightness}}\",\"transition\":5000}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "light",
        "service": "turn_on",
        "x": 2120,
        "y": 160,
        "wires": [
            []
        ]
    },
    {
        "id": "7a9894c1b0d507b3",
        "type": "api-call-service",
        "z": "4b48188ca7b303d7",
        "name": "restore light off state",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "light.{{parts.key}}"
        ],
        "labelId": [],
        "data": "{\"transition\":5000}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "light",
        "service": "turn_off",
        "x": 2120,
        "y": 220,
        "wires": [
            []
        ]
    },
    {
        "id": "62d81c701468e19d",
        "type": "api-current-state",
        "z": "4b48188ca7b303d7",
        "name": "is dark outside",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "dark",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "sensor.outdoor_light_dark",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 620,
        "y": 160,
        "wires": [
            [
                "afd9f276117c7fb3",
                "dc674152553b250e"
            ],
            []
        ]
    },
    {
        "id": "dc674152553b250e",
        "type": "ha-get-entities",
        "z": "4b48188ca7b303d7",
        "name": "get lights",
        "server": "4ba92433.2478cc",
        "version": 1,
        "rules": [
            {
                "property": "entity_id",
                "logic": "is",
                "value": "light.shellydimmer_backyard_string_l",
                "valueType": "str"
            }
        ],
        "outputType": "split",
        "outputEmptyResults": false,
        "outputLocationType": "msg",
        "outputLocation": "payload",
        "outputResultsCount": 1,
        "x": 800,
        "y": 220,
        "wires": [
            [
                "ce324704d2fae759"
            ]
        ]
    },
    {
        "id": "afd9f276117c7fb3",
        "type": "ha-get-entities",
        "z": "4b48188ca7b303d7",
        "name": "get lights",
        "server": "4ba92433.2478cc",
        "version": 1,
        "rules": [
            {
                "property": "entity_id",
                "logic": "is",
                "value": "light.shellydimmer_barn_hanging_lam",
                "valueType": "str"
            }
        ],
        "outputType": "split",
        "outputEmptyResults": false,
        "outputLocationType": "msg",
        "outputLocation": "payload",
        "outputResultsCount": 1,
        "x": 800,
        "y": 160,
        "wires": [
            [
                "ce324704d2fae759"
            ]
        ]
    },
    {
        "id": "8f4a7b8ae2cc4f22",
        "type": "stoptimer",
        "z": "4b48188ca7b303d7",
        "duration": "2",
        "units": "Minute",
        "payloadtype": "num",
        "payloadval": "0",
        "name": "",
        "x": 1420,
        "y": 160,
        "wires": [
            [
                "97c520659be6b4b3",
                "f8cde10a25c99253"
            ],
            []
        ]
    },
    {
        "id": "d3fa1ce6f5a13d54",
        "type": "catch",
        "z": "4b48188ca7b303d7",
        "g": "be985755a62cec45",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "06d066fa18c123d0"
            ]
        ]
    },
    {
        "id": "06d066fa18c123d0",
        "type": "template",
        "z": "4b48188ca7b303d7",
        "g": "be985755a62cec45",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "f1e0fa3d36a15de3"
            ]
        ]
    },
    {
        "id": "dde00c0321dc01f3",
        "type": "link out",
        "z": "4b48188ca7b303d7",
        "g": "be985755a62cec45",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 475,
        "y": 80,
        "wires": []
    },
    {
        "id": "f1e0fa3d36a15de3",
        "type": "template",
        "z": "4b48188ca7b303d7",
        "g": "be985755a62cec45",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "dde00c0321dc01f3"
            ]
        ]
    },
    {
        "id": "9767891df003f1fd",
        "type": "link in",
        "z": "4b48188ca7b303d7",
        "name": "light_dynamics_backyard",
        "links": [
            "56356fe965332f8d",
            "fe840a38fa8d493b"
        ],
        "x": 325,
        "y": 160,
        "wires": [
            [
                "36f6d937dac70d3b"
            ]
        ]
    },
    {
        "id": "63f2e5de506021ab",
        "type": "comment",
        "z": "2863cbc8bee70856",
        "name": "change light based on actions",
        "info": "",
        "x": 140,
        "y": 20,
        "wires": []
    },
    {
        "id": "db49a00d5adc0cb7",
        "type": "api-call-service",
        "z": "2863cbc8bee70856",
        "name": "turn on basement stairs light",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "{{data.entity_id}}"
        ],
        "labelId": [],
        "data": "{\"transition\":5000}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "light",
        "service": "turn_on",
        "x": 1060,
        "y": 180,
        "wires": [
            []
        ]
    },
    {
        "id": "0b64f5a2e27c31f0",
        "type": "api-call-service",
        "z": "2863cbc8bee70856",
        "name": "turn off basement stairs light",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "{{data.entity_id}}"
        ],
        "labelId": [],
        "data": "{\"transition\":5000}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "light",
        "service": "turn_off",
        "x": 1060,
        "y": 240,
        "wires": [
            []
        ]
    },
    {
        "id": "19e3c39a7481e04b",
        "type": "api-current-state",
        "z": "2863cbc8bee70856",
        "name": "basement stairs light is off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "light.shellydimmer_basement_stairs",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 550,
        "y": 180,
        "wires": [
            [
                "db49a00d5adc0cb7"
            ],
            []
        ]
    },
    {
        "id": "b13ee71e7f09ace4",
        "type": "api-current-state",
        "z": "2863cbc8bee70856",
        "name": "basement door is closed",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "binary_sensor.basement_door",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 550,
        "y": 240,
        "wires": [
            [
                "a5689ff4c9a82d8e"
            ],
            [
                "123a8dfe28431656"
            ]
        ]
    },
    {
        "id": "a5689ff4c9a82d8e",
        "type": "api-current-state",
        "z": "2863cbc8bee70856",
        "name": "basement stairs light is on",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "light.shellydimmer_basement_stairs",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 810,
        "y": 240,
        "wires": [
            [
                "0b64f5a2e27c31f0"
            ],
            []
        ]
    },
    {
        "id": "ec0a3cf53f08df55",
        "type": "server-state-changed",
        "z": "2863cbc8bee70856",
        "name": "basement door is open",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "binary_sensor.basement_door"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": true,
        "stateType": "str",
        "ifState": "on",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": false,
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [],
        "x": 120,
        "y": 180,
        "wires": [
            [
                "19e3c39a7481e04b"
            ],
            [
                "123a8dfe28431656"
            ]
        ]
    },
    {
        "id": "123a8dfe28431656",
        "type": "stoptimer",
        "z": "2863cbc8bee70856",
        "duration": "10",
        "units": "Second",
        "payloadtype": "num",
        "payloadval": "0",
        "name": "",
        "x": 330,
        "y": 240,
        "wires": [
            [
                "b13ee71e7f09ace4"
            ],
            []
        ]
    },
    {
        "id": "9be6d18fa9149c14",
        "type": "catch",
        "z": "2863cbc8bee70856",
        "g": "f76361b9ab8df196",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "67abbaaabd24e85e"
            ]
        ]
    },
    {
        "id": "67abbaaabd24e85e",
        "type": "template",
        "z": "2863cbc8bee70856",
        "g": "f76361b9ab8df196",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "18db9b1d71ff195a"
            ]
        ]
    },
    {
        "id": "d1ac9e9826f44523",
        "type": "link out",
        "z": "2863cbc8bee70856",
        "g": "f76361b9ab8df196",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 475,
        "y": 80,
        "wires": []
    },
    {
        "id": "18db9b1d71ff195a",
        "type": "template",
        "z": "2863cbc8bee70856",
        "g": "f76361b9ab8df196",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "d1ac9e9826f44523"
            ]
        ]
    },
    {
        "id": "9f36d3e61c728cef",
        "type": "switch",
        "z": "3c0c3dbf7e0deda4",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "gte",
                "v": "0.7",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 270,
        "y": 160,
        "wires": [
            [
                "1cb66b263d93899d"
            ]
        ]
    },
    {
        "id": "6301628ce8a13ca3",
        "type": "comment",
        "z": "3c0c3dbf7e0deda4",
        "name": "Turn on and off cv closet light. If illuminance raise then the door is open, then if the light is off turn in on for 2 minutes",
        "info": "",
        "x": 410,
        "y": 20,
        "wires": []
    },
    {
        "id": "c4c1f1df01f62f8b",
        "type": "api-call-service",
        "z": "3c0c3dbf7e0deda4",
        "name": "turn on light cv closet",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "light.cv_closet"
        ],
        "labelId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "light",
        "service": "turn_on",
        "x": 640,
        "y": 160,
        "wires": [
            [
                "b3374e522faf5a76"
            ]
        ]
    },
    {
        "id": "cf27894048b6ef06",
        "type": "api-call-service",
        "z": "3c0c3dbf7e0deda4",
        "name": "turn off light cv closet",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "light.cv_closet"
        ],
        "labelId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "light",
        "service": "turn_off",
        "x": 1040,
        "y": 160,
        "wires": [
            []
        ]
    },
    {
        "id": "1cb66b263d93899d",
        "type": "api-current-state",
        "z": "3c0c3dbf7e0deda4",
        "name": "cv closet light is off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "light.cv_closet",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 430,
        "y": 160,
        "wires": [
            [
                "c4c1f1df01f62f8b"
            ],
            []
        ]
    },
    {
        "id": "dc280cdc1392d82f",
        "type": "server-state-changed",
        "z": "3c0c3dbf7e0deda4",
        "name": "cv closet illuminance",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 1,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "sensor.cv_closet_illuminance"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": true,
        "stateType": "str",
        "ifState": "",
        "ifStateType": "num",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "10",
        "forType": "num",
        "forUnits": "milliseconds",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 110,
        "y": 160,
        "wires": [
            [
                "9f36d3e61c728cef"
            ]
        ]
    },
    {
        "id": "b3374e522faf5a76",
        "type": "stoptimer",
        "z": "3c0c3dbf7e0deda4",
        "duration": "5",
        "units": "Minute",
        "payloadtype": "num",
        "payloadval": "0",
        "name": "",
        "x": 840,
        "y": 160,
        "wires": [
            [
                "cf27894048b6ef06"
            ],
            []
        ]
    },
    {
        "id": "0bc5942b74f77cb9",
        "type": "catch",
        "z": "3c0c3dbf7e0deda4",
        "g": "1fee964cf5956c8d",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "6656928753320d06"
            ]
        ]
    },
    {
        "id": "6656928753320d06",
        "type": "template",
        "z": "3c0c3dbf7e0deda4",
        "g": "1fee964cf5956c8d",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "f00a7ef6bf6a6abd"
            ]
        ]
    },
    {
        "id": "95003d90c3c9a6b0",
        "type": "link out",
        "z": "3c0c3dbf7e0deda4",
        "g": "1fee964cf5956c8d",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 475,
        "y": 80,
        "wires": []
    },
    {
        "id": "f00a7ef6bf6a6abd",
        "type": "template",
        "z": "3c0c3dbf7e0deda4",
        "g": "1fee964cf5956c8d",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "95003d90c3c9a6b0"
            ]
        ]
    },
    {
        "id": "c00f2020b705a0e3",
        "type": "comment",
        "z": "8ca9fd35c2a2b1c4",
        "name": "change light based on actions",
        "info": "",
        "x": 140,
        "y": 20,
        "wires": []
    },
    {
        "id": "bd42c34cc2179efa",
        "type": "switch",
        "z": "8ca9fd35c2a2b1c4",
        "name": "person home within 5 minutes or less",
        "property": "payload.timeSinceChangedMs",
        "propertyType": "msg",
        "rules": [
            {
                "t": "lt",
                "v": "300000",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 510,
        "y": 160,
        "wires": [
            [
                "840f28a288c032b5"
            ]
        ]
    },
    {
        "id": "764c3d563b0c2861",
        "type": "api-call-service",
        "z": "8ca9fd35c2a2b1c4",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "{{data.entity_id}}"
        ],
        "labelId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "light",
        "service": "turn_on",
        "x": 950,
        "y": 160,
        "wires": [
            []
        ]
    },
    {
        "id": "840f28a288c032b5",
        "type": "api-current-state",
        "z": "8ca9fd35c2a2b1c4",
        "name": "hallway light is off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "light.shelly1_hallway",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 770,
        "y": 160,
        "wires": [
            [
                "764c3d563b0c2861"
            ],
            []
        ]
    },
    {
        "id": "8be71c38e670f610",
        "type": "server-state-changed",
        "z": "8ca9fd35c2a2b1c4",
        "name": "frontdoor is open",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "binary_sensor.frontdoor"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": false,
        "stateType": "str",
        "ifState": "on",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": false,
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [],
        "x": 100,
        "y": 160,
        "wires": [
            [
                "338bf689b3560d92"
            ],
            []
        ]
    },
    {
        "id": "338bf689b3560d92",
        "type": "ha-get-entities",
        "z": "8ca9fd35c2a2b1c4",
        "name": "get persons",
        "server": "4ba92433.2478cc",
        "version": 1,
        "rules": [
            {
                "property": "entity_id",
                "logic": "starts_with",
                "value": "person.",
                "valueType": "str"
            }
        ],
        "outputType": "split",
        "outputEmptyResults": false,
        "outputLocationType": "msg",
        "outputLocation": "payload",
        "outputResultsCount": 1,
        "x": 270,
        "y": 160,
        "wires": [
            [
                "bd42c34cc2179efa"
            ]
        ]
    },
    {
        "id": "d2e946cf3e720d46",
        "type": "catch",
        "z": "8ca9fd35c2a2b1c4",
        "g": "89cbff0dec5ca2a9",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "0fac954b5d2732b2"
            ]
        ]
    },
    {
        "id": "0fac954b5d2732b2",
        "type": "template",
        "z": "8ca9fd35c2a2b1c4",
        "g": "89cbff0dec5ca2a9",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "c8725231b1ec6142"
            ]
        ]
    },
    {
        "id": "4ccec2f982a522c0",
        "type": "link out",
        "z": "8ca9fd35c2a2b1c4",
        "g": "89cbff0dec5ca2a9",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 475,
        "y": 80,
        "wires": []
    },
    {
        "id": "c8725231b1ec6142",
        "type": "template",
        "z": "8ca9fd35c2a2b1c4",
        "g": "89cbff0dec5ca2a9",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "4ccec2f982a522c0"
            ]
        ]
    },
    {
        "id": "6dfa319026ac7058",
        "type": "switch",
        "z": "9a7094e42d673dc4",
        "name": "on / off",
        "property": "payload.state",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "on",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "off",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 790,
        "y": 580,
        "wires": [
            [
                "8954d811f3cec46a"
            ],
            [
                "f75d0ff36a4c5d27"
            ]
        ]
    },
    {
        "id": "387fd151e9a8e19c",
        "type": "delay",
        "z": "9a7094e42d673dc4",
        "name": "",
        "pauseType": "delay",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "outputs": 1,
        "x": 520,
        "y": 680,
        "wires": [
            [
                "4410039256c7c052"
            ]
        ]
    },
    {
        "id": "4410039256c7c052",
        "type": "change",
        "z": "9a7094e42d673dc4",
        "name": "send red to traffic",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "red",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 690,
        "y": 680,
        "wires": [
            [
                "7c96404bfb58afe2"
            ]
        ]
    },
    {
        "id": "48f6f035713adfb1",
        "type": "change",
        "z": "9a7094e42d673dc4",
        "name": "set domain to light",
        "rules": [
            {
                "t": "set",
                "p": "payload.domain",
                "pt": "msg",
                "to": "light",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 350,
        "y": 520,
        "wires": [
            [
                "7c96404bfb58afe2"
            ]
        ]
    },
    {
        "id": "01b577265818a66e",
        "type": "change",
        "z": "9a7094e42d673dc4",
        "name": "send green to traffic",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "green",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 350,
        "y": 560,
        "wires": [
            [
                "7c96404bfb58afe2"
            ]
        ]
    },
    {
        "id": "53a47bf861d4d73c",
        "type": "switch",
        "z": "9a7094e42d673dc4",
        "name": "",
        "property": "alarm",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "on",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "off",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 130,
        "y": 480,
        "wires": [
            [
                "48f6f035713adfb1",
                "46f8ea6b26f11100"
            ],
            [
                "01b577265818a66e"
            ]
        ]
    },
    {
        "id": "a81dfb3ffd051b14",
        "type": "comment",
        "z": "9a7094e42d673dc4",
        "name": "input requirements",
        "info": "msg.alarm = off \nmsg.alarm = on",
        "x": 110,
        "y": 20,
        "wires": []
    },
    {
        "id": "164322a018845856",
        "type": "link in",
        "z": "9a7094e42d673dc4",
        "name": "lights_on_and_restore_backyard",
        "links": [
            "133af224fc73de70"
        ],
        "x": 215,
        "y": 280,
        "wires": [
            [
                "19c45466f31ded4b"
            ]
        ]
    },
    {
        "id": "02aaf4776d07ae0c",
        "type": "split",
        "z": "9a7094e42d673dc4",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 730,
        "y": 280,
        "wires": [
            [
                "8c4d367a03388fe3"
            ]
        ]
    },
    {
        "id": "7b9024d8c1350eb1",
        "type": "change",
        "z": "9a7094e42d673dc4",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "payload.attributes.entity_id",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 580,
        "y": 280,
        "wires": [
            [
                "02aaf4776d07ae0c"
            ]
        ]
    },
    {
        "id": "43cbfb522e72cbe5",
        "type": "link in",
        "z": "9a7094e42d673dc4",
        "name": "lights_on_and_restore_all",
        "links": [
            "5874beb71c3c9523",
            "e426c9cc0865f723"
        ],
        "x": 215,
        "y": 220,
        "wires": [
            [
                "8def04e9d2da1e31"
            ]
        ]
    },
    {
        "id": "5d17a23a9ac5fe01",
        "type": "link in",
        "z": "9a7094e42d673dc4",
        "name": "lights_on_and_restore_kitchen",
        "links": [
            "411c3c903ef0bd56"
        ],
        "x": 215,
        "y": 340,
        "wires": [
            [
                "2b88f3d631cb6beb"
            ]
        ]
    },
    {
        "id": "8954d811f3cec46a",
        "type": "api-call-service",
        "z": "9a7094e42d673dc4",
        "name": "restore light on state",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "{{payload.domain}}.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "{{payload.entity_id}}"
        ],
        "labelId": [],
        "data": "{\"brightness\":\"{{payload.attributes.brightness}}\",\"transition\":5000}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "{{payload",
        "service": "domain}}",
        "x": 960,
        "y": 560,
        "wires": [
            []
        ]
    },
    {
        "id": "f75d0ff36a4c5d27",
        "type": "api-call-service",
        "z": "9a7094e42d673dc4",
        "name": "restore light off state",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "{{payload.domain}}.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "{{payload.entity_id}}"
        ],
        "labelId": [],
        "data": "{\"transition\":5000}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "{{payload",
        "service": "domain}}",
        "x": 960,
        "y": 620,
        "wires": [
            []
        ]
    },
    {
        "id": "46f8ea6b26f11100",
        "type": "api-call-service",
        "z": "9a7094e42d673dc4",
        "name": "turn on light",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [],
        "labelId": [],
        "data": "{\"entity_id\":\"{{payload.entity_id}}\",\"brightness_pct\":100,\"transition\":5000}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "light",
        "service": "turn_on",
        "x": 990,
        "y": 480,
        "wires": [
            []
        ]
    },
    {
        "id": "8def04e9d2da1e31",
        "type": "ha-get-entities",
        "z": "9a7094e42d673dc4",
        "name": "get all lights",
        "server": "4ba92433.2478cc",
        "version": 1,
        "rules": [
            {
                "property": "entity_id",
                "logic": "starts_with",
                "value": "light.shelly",
                "valueType": "str"
            }
        ],
        "outputType": "split",
        "outputEmptyResults": false,
        "outputLocationType": "msg",
        "outputLocation": "payload",
        "outputResultsCount": 1,
        "x": 990,
        "y": 220,
        "wires": [
            [
                "a5e476b7342dd2fc"
            ]
        ]
    },
    {
        "id": "19c45466f31ded4b",
        "type": "ha-get-entities",
        "z": "9a7094e42d673dc4",
        "name": "get backyard lights group",
        "server": "4ba92433.2478cc",
        "version": 1,
        "rules": [
            {
                "property": "entity_id",
                "logic": "starts_with",
                "value": "group.backyard_lights",
                "valueType": "str"
            }
        ],
        "outputType": "split",
        "outputEmptyResults": false,
        "outputLocationType": "msg",
        "outputLocation": "payload",
        "outputResultsCount": 1,
        "x": 360,
        "y": 280,
        "wires": [
            [
                "7b9024d8c1350eb1"
            ]
        ]
    },
    {
        "id": "8c4d367a03388fe3",
        "type": "ha-get-entities",
        "z": "9a7094e42d673dc4",
        "name": "get backyard lights",
        "server": "4ba92433.2478cc",
        "version": 1,
        "rules": [
            {
                "property": "entity_id",
                "logic": "is",
                "value": "payload",
                "valueType": "msg"
            }
        ],
        "outputType": "split",
        "outputEmptyResults": false,
        "outputLocationType": "msg",
        "outputLocation": "payload",
        "outputResultsCount": 1,
        "x": 970,
        "y": 280,
        "wires": [
            [
                "a5e476b7342dd2fc"
            ]
        ]
    },
    {
        "id": "2b88f3d631cb6beb",
        "type": "ha-get-entities",
        "z": "9a7094e42d673dc4",
        "name": "get kitchen light",
        "server": "4ba92433.2478cc",
        "version": 1,
        "rules": [
            {
                "property": "entity_id",
                "logic": "is",
                "value": "light.shellydimmer_kitchen",
                "valueType": "str"
            }
        ],
        "outputType": "split",
        "outputEmptyResults": false,
        "outputLocationType": "msg",
        "outputLocation": "payload",
        "outputResultsCount": 1,
        "x": 980,
        "y": 340,
        "wires": [
            [
                "a5e476b7342dd2fc"
            ]
        ]
    },
    {
        "id": "7c96404bfb58afe2",
        "type": "traffic",
        "z": "9a7094e42d673dc4",
        "name": "traffic",
        "property_allow": "payload",
        "filter_allow": "green",
        "ignore_case_allow": false,
        "negate_allow": false,
        "send_allow": false,
        "property_stop": "payload",
        "filter_stop": "red",
        "ignore_case_stop": false,
        "negate_stop": false,
        "send_stop": false,
        "default_start": false,
        "differ": true,
        "x": 610,
        "y": 580,
        "wires": [
            [
                "387fd151e9a8e19c",
                "6dfa319026ac7058"
            ]
        ]
    },
    {
        "id": "355581f2d8e477de",
        "type": "catch",
        "z": "9a7094e42d673dc4",
        "g": "bad5045815fdb13b",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "4ea67a000286b4d8"
            ]
        ]
    },
    {
        "id": "4ea67a000286b4d8",
        "type": "template",
        "z": "9a7094e42d673dc4",
        "g": "bad5045815fdb13b",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "db2e26ad5747e0a6"
            ]
        ]
    },
    {
        "id": "c653974d1dff1810",
        "type": "link out",
        "z": "9a7094e42d673dc4",
        "g": "bad5045815fdb13b",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 475,
        "y": 80,
        "wires": []
    },
    {
        "id": "db2e26ad5747e0a6",
        "type": "template",
        "z": "9a7094e42d673dc4",
        "g": "bad5045815fdb13b",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "c653974d1dff1810"
            ]
        ]
    },
    {
        "id": "11d068d3ad86d2dd",
        "type": "join",
        "z": "b1a9214c.4c71c",
        "g": "6b44c062cbc05f0a",
        "name": "",
        "mode": "custom",
        "build": "merged",
        "property": "notify",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": false,
        "timeout": "",
        "count": "4",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 2010,
        "y": 280,
        "wires": [
            [
                "73e546f49b2e02e1"
            ]
        ]
    },
    {
        "id": "73e546f49b2e02e1",
        "type": "link out",
        "z": "b1a9214c.4c71c",
        "g": "6b44c062cbc05f0a",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "8ed3b0974336e55b",
            "a97f87cfab413716"
        ],
        "x": 2105,
        "y": 280,
        "wires": []
    },
    {
        "id": "232a01493b9307b0",
        "type": "template",
        "z": "b1a9214c.4c71c",
        "g": "6b44c062cbc05f0a",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Ventilatie",
        "output": "str",
        "x": 1850,
        "y": 240,
        "wires": [
            [
                "11d068d3ad86d2dd"
            ]
        ]
    },
    {
        "id": "db7934b4b14446da",
        "type": "template",
        "z": "b1a9214c.4c71c",
        "g": "6b44c062cbc05f0a",
        "name": "icon",
        "field": "notify.icon",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": ":door:",
        "output": "str",
        "x": 1850,
        "y": 280,
        "wires": [
            [
                "11d068d3ad86d2dd"
            ]
        ]
    },
    {
        "id": "a22e2a028512634f",
        "type": "template",
        "z": "b1a9214c.4c71c",
        "g": "6b44c062cbc05f0a",
        "name": "notification id",
        "field": "notify.notification_id",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "natural_basement_ventilation",
        "output": "str",
        "x": 1870,
        "y": 320,
        "wires": [
            [
                "11d068d3ad86d2dd"
            ]
        ]
    },
    {
        "id": "968aec4f.db7b8",
        "type": "comment",
        "z": "b1a9214c.4c71c",
        "name": "basement window",
        "info": "",
        "x": 110,
        "y": 20,
        "wires": []
    },
    {
        "id": "7adaadb8.c5f204",
        "type": "inject",
        "z": "b1a9214c.4c71c",
        "name": "start_flow",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "900",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "start_flow",
        "payloadType": "str",
        "x": 110,
        "y": 440,
        "wires": [
            [
                "6692dae9.7caa84"
            ]
        ]
    },
    {
        "id": "8bf50cc4.c9593",
        "type": "template",
        "z": "b1a9214c.4c71c",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Sluit de ramen in de kelder het gaat mogelijke regenen.",
        "output": "str",
        "x": 1420,
        "y": 280,
        "wires": [
            [
                "704b917a.b0214",
                "d52f067ae45b546a"
            ]
        ]
    },
    {
        "id": "c431f228.97084",
        "type": "template",
        "z": "b1a9214c.4c71c",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Sluit de ramen in de kelder, dit uur gaat het {{payload}} mm regenen.",
        "output": "str",
        "x": 1420,
        "y": 340,
        "wires": [
            [
                "704b917a.b0214",
                "d52f067ae45b546a"
            ]
        ]
    },
    {
        "id": "8c82a32b.762e7",
        "type": "template",
        "z": "b1a9214c.4c71c",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Sluit de ramen, de verwarming in de kelder staat aan.\\nKelder Heating Power is {{sensor.basement_heating}}%",
        "output": "str",
        "x": 1420,
        "y": 220,
        "wires": [
            [
                "704b917a.b0214",
                "d52f067ae45b546a"
            ]
        ]
    },
    {
        "id": "1991431c.890dcd",
        "type": "template",
        "z": "b1a9214c.4c71c",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Open de ramen in de kelder, buiten is de vochtinhoud lager en de temperatuur hoger. \\n\\nBuiten\\nTemperatuur: {{sensor.buienradar_temperature}} °C\\nAbsolute vochtinhoud: {{sensor.outdoor_thermal_comfort_absolute_humidity}} g/m³\\n\\nKelder\\nTemperatuur: {{sensor.basement_temperature}} °C \\nAbsolute vochtinhoud: {{sensor.basement_thermal_comfort_absolute_humidity}} g/m³",
        "output": "str",
        "x": 1420,
        "y": 780,
        "wires": [
            [
                "ee13c1d1.9b3f2"
            ]
        ]
    },
    {
        "id": "d52f067ae45b546a",
        "type": "rbe",
        "z": "b1a9214c.4c71c",
        "name": "",
        "func": "rbe",
        "gap": "",
        "start": "",
        "inout": "out",
        "septopics": true,
        "property": "payload",
        "topi": "topic",
        "x": 1650,
        "y": 280,
        "wires": [
            [
                "97afb37521efba77"
            ]
        ]
    },
    {
        "id": "b7e01c5b3e5b9bc9",
        "type": "function",
        "z": "b1a9214c.4c71c",
        "name": "round to two decimals",
        "func": "msg.sensor.basement_thermal_comfort_absolute_humidity = msg.sensor.basement_thermal_comfort_absolute_humidity.toFixed(2);\nmsg.sensor.outdoor_thermal_comfort_absolute_humidity = msg.sensor.outdoor_thermal_comfort_absolute_humidity.toFixed(2);\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1240,
        "y": 500,
        "wires": [
            [
                "98a47a1b.d6fcc8"
            ]
        ]
    },
    {
        "id": "d6c27b122483f09e",
        "type": "function",
        "z": "b1a9214c.4c71c",
        "name": "round to two decimals",
        "func": "msg.sensor.basement_thermal_comfort_absolute_humidity = msg.sensor.basement_thermal_comfort_absolute_humidity.toFixed(2);\nmsg.sensor.outdoor_thermal_comfort_absolute_humidity = msg.sensor.outdoor_thermal_comfort_absolute_humidity.toFixed(2);\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1240,
        "y": 780,
        "wires": [
            [
                "1991431c.890dcd"
            ]
        ]
    },
    {
        "id": "98a47a1b.d6fcc8",
        "type": "template",
        "z": "b1a9214c.4c71c",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Sluit de ramen in de kelder, buiten is de vochtinhoud hoger of de temperatuur lager.\\n\\nBuiten: \\nTemperatuur: {{sensor.buienradar_temperature}} °C \\nAbsolute vochtinhoud: {{sensor.outdoor_thermal_comfort_absolute_humidity}} g/m³ \\n\\nKelder\\nTemperatuur: {{sensor.basement_temperature}} °C \\nAbsolute vochtinhoud: {{sensor.basement_thermal_comfort_absolute_humidity}} g/m³",
        "output": "str",
        "x": 1420,
        "y": 500,
        "wires": [
            [
                "704b917a.b0214"
            ]
        ]
    },
    {
        "id": "23480068.33efc",
        "type": "api-call-service",
        "z": "b1a9214c.4c71c",
        "name": "turn on basement window",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "input_boolean.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_boolean.basement_ramen"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "input_boolean",
        "service": "turn_on",
        "x": 1930,
        "y": 780,
        "wires": [
            [
                "d52f067ae45b546a"
            ]
        ]
    },
    {
        "id": "d4f8c710.220648",
        "type": "api-call-service",
        "z": "b1a9214c.4c71c",
        "name": "turn off basement window",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "input_boolean.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_boolean.basement_window"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "input_boolean",
        "service": "turn_off",
        "x": 1930,
        "y": 500,
        "wires": [
            [
                "d52f067ae45b546a"
            ]
        ]
    },
    {
        "id": "6692dae9.7caa84",
        "type": "api-current-state",
        "z": "b1a9214c.4c71c",
        "name": "state absolute humidity basement",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 1,
        "halt_if": "",
        "halt_if_type": "num",
        "halt_if_compare": "is",
        "entity_id": "sensor.basement_thermal_comfort_absolute_humidity",
        "state_type": "num",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "sensor.basement_thermal_comfort_absolute_humidity",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 500,
        "y": 440,
        "wires": [
            [
                "1c1129d.09d62d6"
            ]
        ]
    },
    {
        "id": "c0684245.6628d",
        "type": "api-current-state",
        "z": "b1a9214c.4c71c",
        "name": "state absolute humidity outdoor > absolute humidity basement",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "sensor.basement_thermal_comfort_absolute_humidity",
        "halt_if_type": "msg",
        "halt_if_compare": "gt",
        "entity_id": "sensor.outdoor_thermal_comfort_absolute_humidity",
        "state_type": "num",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "sensor.outdoor_thermal_comfort_absolute_humidity",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 870,
        "y": 500,
        "wires": [
            [
                "b7e01c5b3e5b9bc9"
            ],
            [
                "fef0521b.1d64e"
            ]
        ]
    },
    {
        "id": "6822779.5aa9588",
        "type": "api-current-state",
        "z": "b1a9214c.4c71c",
        "name": "state temperature outdoor > temperature basement",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "sensor.basement_temperature",
        "halt_if_type": "msg",
        "halt_if_compare": "gt",
        "entity_id": "sensor.buienradar_temperature",
        "state_type": "num",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "sensor.buienradar_temperature",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 550,
        "y": 740,
        "wires": [
            [
                "d6c27b122483f09e"
            ],
            [
                "6f49345.883a1cc"
            ]
        ]
    },
    {
        "id": "b5938ee.f7bec7",
        "type": "api-current-state",
        "z": "b1a9214c.4c71c",
        "name": "Basement Heating Power <= 0%",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "0",
        "halt_if_type": "num",
        "halt_if_compare": "lte",
        "entity_id": "sensor.basement_heating",
        "state_type": "num",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "sensor.basement_heating",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 490,
        "y": 680,
        "wires": [
            [
                "6822779.5aa9588"
            ],
            []
        ]
    },
    {
        "id": "fef0521b.1d64e",
        "type": "api-current-state",
        "z": "b1a9214c.4c71c",
        "name": "state precipitation buienradar <= 0",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "0",
        "halt_if_type": "num",
        "halt_if_compare": "lte",
        "entity_id": "sensor.buienradar_precipitation",
        "state_type": "num",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "sensor.ede_precipitation",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 500,
        "y": 560,
        "wires": [
            [
                "5be90bde.fa4314"
            ],
            []
        ]
    },
    {
        "id": "ee13c1d1.9b3f2",
        "type": "api-current-state",
        "z": "b1a9214c.4c71c",
        "name": "state basement window off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.basement_window",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 1680,
        "y": 780,
        "wires": [
            [
                "23480068.33efc"
            ],
            []
        ]
    },
    {
        "id": "704b917a.b0214",
        "type": "api-current-state",
        "z": "b1a9214c.4c71c",
        "name": "state basement window on",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.basement_window",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 1680,
        "y": 500,
        "wires": [
            [
                "d4f8c710.220648"
            ],
            []
        ]
    },
    {
        "id": "6f49345.883a1cc",
        "type": "api-current-state",
        "z": "b1a9214c.4c71c",
        "name": "state temperature outdoor > 17",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "17",
        "halt_if_type": "num",
        "halt_if_compare": "gt",
        "entity_id": "sensor.buienradar_temperature",
        "state_type": "num",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "sensor.buienradar_temperature",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 490,
        "y": 800,
        "wires": [
            [
                "d6c27b122483f09e"
            ],
            []
        ]
    },
    {
        "id": "5be90bde.fa4314",
        "type": "api-current-state",
        "z": "b1a9214c.4c71c",
        "name": "state condidtion buienrader not rainy",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "rainy",
        "halt_if_type": "str",
        "halt_if_compare": "is_not",
        "entity_id": "sensor.buienradar_condition",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "sensor.ede_precipitation",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 510,
        "y": 620,
        "wires": [
            [
                "b5938ee.f7bec7"
            ],
            []
        ]
    },
    {
        "id": "1c1129d.09d62d6",
        "type": "api-current-state",
        "z": "b1a9214c.4c71c",
        "name": "state basement temperature",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 1,
        "halt_if": "",
        "halt_if_type": "num",
        "halt_if_compare": "is",
        "entity_id": "sensor.basement_temperature",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "sensor.basement_temperature",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 780,
        "y": 440,
        "wires": [
            [
                "18c2e5bb.4c0cfa"
            ]
        ]
    },
    {
        "id": "18c2e5bb.4c0cfa",
        "type": "api-current-state",
        "z": "b1a9214c.4c71c",
        "name": "state buienradar temperature",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 1,
        "halt_if": "",
        "halt_if_type": "num",
        "halt_if_compare": "is",
        "entity_id": "sensor.buienradar_temperature",
        "state_type": "num",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "sensor.buienradar_temperature",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 480,
        "y": 500,
        "wires": [
            [
                "c0684245.6628d"
            ]
        ]
    },
    {
        "id": "8469a147.10964",
        "type": "server-state-changed",
        "z": "b1a9214c.4c71c",
        "name": "state buienradar precipitation > 0",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "sensor.buienradar_precipitation"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": true,
        "stateType": "num",
        "ifState": "0",
        "ifStateType": "num",
        "ifStateOperator": "gt",
        "outputOnlyOnStateChange": false,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "sensor.buienradar_precipitation",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 150,
        "y": 340,
        "wires": [
            [
                "c431f228.97084"
            ],
            [
                "6692dae9.7caa84"
            ]
        ]
    },
    {
        "id": "f82739ec.0019e8",
        "type": "server-state-changed",
        "z": "b1a9214c.4c71c",
        "name": "state heating power basement > 1%",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "sensor.basement_heating"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": true,
        "stateType": "num",
        "ifState": "1",
        "ifStateType": "num",
        "ifStateOperator": "gt",
        "outputOnlyOnStateChange": true,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "sensor.basement_heating",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 160,
        "y": 220,
        "wires": [
            [
                "8c82a32b.762e7"
            ],
            [
                "6692dae9.7caa84"
            ]
        ]
    },
    {
        "id": "b236d4c0.c39c38",
        "type": "server-state-changed",
        "z": "b1a9214c.4c71c",
        "name": "state buienradar condition rainy",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "sensor.buienradar_condition"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": true,
        "stateType": "str",
        "ifState": "rainy",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": true,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "weather.buienradar",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 150,
        "y": 280,
        "wires": [
            [
                "8bf50cc4.c9593"
            ],
            [
                "6692dae9.7caa84"
            ]
        ]
    },
    {
        "id": "aedbcf84c1295abd",
        "type": "catch",
        "z": "b1a9214c.4c71c",
        "g": "6fc99fe3fa43961b",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "e75e88b2739b898a"
            ]
        ]
    },
    {
        "id": "e75e88b2739b898a",
        "type": "template",
        "z": "b1a9214c.4c71c",
        "g": "6fc99fe3fa43961b",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "c027d4c52c4a61b2"
            ]
        ]
    },
    {
        "id": "c026370f826e5d5f",
        "type": "link out",
        "z": "b1a9214c.4c71c",
        "g": "6fc99fe3fa43961b",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 475,
        "y": 80,
        "wires": []
    },
    {
        "id": "c027d4c52c4a61b2",
        "type": "template",
        "z": "b1a9214c.4c71c",
        "g": "6fc99fe3fa43961b",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "c026370f826e5d5f"
            ]
        ]
    },
    {
        "id": "187e38cbc867548d",
        "type": "template",
        "z": "65351372f52f2e2d",
        "g": "dbf117e9be1363d0",
        "name": "tag",
        "field": "notify.tag",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "doorbell",
        "output": "str",
        "x": 1730,
        "y": 540,
        "wires": [
            [
                "f46aad79d4615dbf"
            ]
        ]
    },
    {
        "id": "96104ca744a9942d",
        "type": "template",
        "z": "65351372f52f2e2d",
        "g": "dbf117e9be1363d0",
        "name": "notification id",
        "field": "notify.notification_id",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "door_openend",
        "output": "str",
        "x": 1750,
        "y": 500,
        "wires": [
            [
                "f46aad79d4615dbf"
            ]
        ]
    },
    {
        "id": "f46aad79d4615dbf",
        "type": "join",
        "z": "65351372f52f2e2d",
        "g": "dbf117e9be1363d0",
        "name": "",
        "mode": "custom",
        "build": "merged",
        "property": "notify",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "useparts": true,
        "accumulate": false,
        "timeout": "",
        "count": "5",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 1890,
        "y": 460,
        "wires": [
            [
                "f118397ef51d377e"
            ]
        ]
    },
    {
        "id": "f118397ef51d377e",
        "type": "link out",
        "z": "65351372f52f2e2d",
        "g": "dbf117e9be1363d0",
        "name": "link_out_notify_2",
        "mode": "link",
        "links": [
            "8ed3b0974336e55b"
        ],
        "x": 1985,
        "y": 460,
        "wires": []
    },
    {
        "id": "f62f4165d866a393",
        "type": "template",
        "z": "65351372f52f2e2d",
        "g": "dbf117e9be1363d0",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Deurbel",
        "output": "str",
        "x": 1730,
        "y": 420,
        "wires": [
            [
                "f46aad79d4615dbf"
            ]
        ]
    },
    {
        "id": "4fcc37584fdaacfc",
        "type": "template",
        "z": "65351372f52f2e2d",
        "g": "dbf117e9be1363d0",
        "name": "icon",
        "field": "notify.icon",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "",
        "output": "str",
        "x": 1730,
        "y": 460,
        "wires": [
            [
                "f46aad79d4615dbf"
            ]
        ]
    },
    {
        "id": "887d3f0b3fca1ef1",
        "type": "template",
        "z": "65351372f52f2e2d",
        "g": "f259c1d245c5a0a4",
        "name": "tag",
        "field": "notify.tag",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "doorbell",
        "output": "str",
        "x": 1730,
        "y": 320,
        "wires": [
            [
                "cfbc58f0de8fb24f"
            ]
        ]
    },
    {
        "id": "f6739c6be49dd463",
        "type": "template",
        "z": "65351372f52f2e2d",
        "g": "f259c1d245c5a0a4",
        "name": "notification id",
        "field": "notify.notification_id",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "doorbell_rings",
        "output": "str",
        "x": 1750,
        "y": 280,
        "wires": [
            [
                "cfbc58f0de8fb24f"
            ]
        ]
    },
    {
        "id": "cfbc58f0de8fb24f",
        "type": "join",
        "z": "65351372f52f2e2d",
        "g": "f259c1d245c5a0a4",
        "name": "",
        "mode": "custom",
        "build": "merged",
        "property": "notify",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "useparts": true,
        "accumulate": false,
        "timeout": "",
        "count": "5",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 1890,
        "y": 240,
        "wires": [
            [
                "e188c5d43cc22d55"
            ]
        ]
    },
    {
        "id": "e188c5d43cc22d55",
        "type": "link out",
        "z": "65351372f52f2e2d",
        "g": "f259c1d245c5a0a4",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "8ed3b0974336e55b",
            "a97f87cfab413716",
            "aeee8468f3d1b7ad",
            "c13b2b4d87067c17"
        ],
        "x": 1985,
        "y": 240,
        "wires": []
    },
    {
        "id": "8d49d5b0a77fe3fa",
        "type": "template",
        "z": "65351372f52f2e2d",
        "g": "f259c1d245c5a0a4",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Deurbel",
        "output": "str",
        "x": 1730,
        "y": 200,
        "wires": [
            [
                "cfbc58f0de8fb24f"
            ]
        ]
    },
    {
        "id": "41bff044d8ff0723",
        "type": "template",
        "z": "65351372f52f2e2d",
        "g": "f259c1d245c5a0a4",
        "name": "icon",
        "field": "notify.icon",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "",
        "output": "str",
        "x": 1730,
        "y": 240,
        "wires": [
            [
                "cfbc58f0de8fb24f"
            ]
        ]
    },
    {
        "id": "dfc54bd82a16e190",
        "type": "template",
        "z": "65351372f52f2e2d",
        "g": "a36a86d8bb45f3d4",
        "name": "tag",
        "field": "notify.tag",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "doorbell",
        "output": "str",
        "x": 1730,
        "y": 760,
        "wires": [
            [
                "4cab768ec3304d77"
            ]
        ]
    },
    {
        "id": "504241c3de9c1592",
        "type": "template",
        "z": "65351372f52f2e2d",
        "g": "a36a86d8bb45f3d4",
        "name": "notification id",
        "field": "notify.notification_id",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "doorbell_rings",
        "output": "str",
        "x": 1750,
        "y": 720,
        "wires": [
            [
                "4cab768ec3304d77"
            ]
        ]
    },
    {
        "id": "4cab768ec3304d77",
        "type": "join",
        "z": "65351372f52f2e2d",
        "g": "a36a86d8bb45f3d4",
        "name": "",
        "mode": "custom",
        "build": "merged",
        "property": "notify",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "useparts": true,
        "accumulate": false,
        "timeout": "",
        "count": "5",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 1890,
        "y": 680,
        "wires": [
            [
                "7528bd2fef1d9090"
            ]
        ]
    },
    {
        "id": "7528bd2fef1d9090",
        "type": "link out",
        "z": "65351372f52f2e2d",
        "g": "a36a86d8bb45f3d4",
        "name": "link_out_notify_3",
        "mode": "link",
        "links": [
            "c4660dc11fb0e5b8"
        ],
        "x": 1985,
        "y": 680,
        "wires": []
    },
    {
        "id": "6a5f068bc90a5bea",
        "type": "template",
        "z": "65351372f52f2e2d",
        "g": "a36a86d8bb45f3d4",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Deurbel",
        "output": "str",
        "x": 1730,
        "y": 640,
        "wires": [
            [
                "4cab768ec3304d77"
            ]
        ]
    },
    {
        "id": "96c864b13b1ed44d",
        "type": "template",
        "z": "65351372f52f2e2d",
        "g": "a36a86d8bb45f3d4",
        "name": "icon",
        "field": "notify.icon",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "",
        "output": "str",
        "x": 1730,
        "y": 680,
        "wires": [
            [
                "4cab768ec3304d77"
            ]
        ]
    },
    {
        "id": "f26a8e6739f171d9",
        "type": "template",
        "z": "65351372f52f2e2d",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Er is aangebeld maar de voordeur is niet open gedaan. ",
        "output": "str",
        "x": 1480,
        "y": 340,
        "wires": [
            [
                "ca3c70923fa7cd35"
            ]
        ]
    },
    {
        "id": "75259b56c62c6dc9",
        "type": "template",
        "z": "65351372f52f2e2d",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Er is aangebeld en de voordeur is open gedaan.",
        "output": "str",
        "x": 1480,
        "y": 300,
        "wires": [
            [
                "ca3c70923fa7cd35"
            ]
        ]
    },
    {
        "id": "324163187704260f",
        "type": "change",
        "z": "65351372f52f2e2d",
        "name": "set payload open",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "open",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 510,
        "y": 320,
        "wires": [
            [
                "926a03f5dc689826"
            ]
        ]
    },
    {
        "id": "ef1caaf0e51df45f",
        "type": "delay",
        "z": "65351372f52f2e2d",
        "name": "",
        "pauseType": "delay",
        "timeout": "7",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "outputs": 1,
        "x": 340,
        "y": 320,
        "wires": [
            [
                "324163187704260f"
            ]
        ]
    },
    {
        "id": "63dd0580fe5a2988",
        "type": "change",
        "z": "65351372f52f2e2d",
        "name": "set payload close",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "close",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 770,
        "y": 300,
        "wires": [
            [
                "926a03f5dc689826"
            ]
        ]
    },
    {
        "id": "5ea0148e32967d9a",
        "type": "template",
        "z": "65351372f52f2e2d",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Er is aangebeld.",
        "output": "str",
        "x": 1480,
        "y": 420,
        "wires": [
            [
                "7bb3b10a5f621765"
            ]
        ]
    },
    {
        "id": "9c072e7c1116b5c5",
        "type": "comment",
        "z": "65351372f52f2e2d",
        "name": "doorbell notification",
        "info": "",
        "x": 110,
        "y": 20,
        "wires": []
    },
    {
        "id": "2be495a83d512501",
        "type": "template",
        "z": "65351372f52f2e2d",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Er is aangebeld",
        "output": "str",
        "x": 1480,
        "y": 200,
        "wires": [
            [
                "685ac1f9d97aa2a9"
            ]
        ]
    },
    {
        "id": "489f51dc5f080ea1",
        "type": "api-current-state",
        "z": "65351372f52f2e2d",
        "name": "state doorbell chime is off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "switch.smart_doorbell_active",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 1050,
        "y": 380,
        "wires": [
            [
                "5ea0148e32967d9a"
            ],
            []
        ]
    },
    {
        "id": "26c54bb35b060ee0",
        "type": "server-state-changed",
        "z": "65351372f52f2e2d",
        "name": "state doorbell button on",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "binary_sensor.smart_doorbell_button"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": false,
        "stateType": "str",
        "ifState": "on",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 120,
        "y": 260,
        "wires": [
            [
                "ef1caaf0e51df45f",
                "1389cd751a19cef8",
                "5de4f38ec4c4075f"
            ],
            []
        ]
    },
    {
        "id": "eb27a8504ea0ba20",
        "type": "ha-wait-until",
        "z": "65351372f52f2e2d",
        "name": "wait until front door is open",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "entities": {
            "entity": [
                "binary_sensor.frontdoor"
            ],
            "substring": [],
            "regex": []
        },
        "property": "state",
        "comparator": "is",
        "value": "on",
        "valueType": "str",
        "timeout": "60",
        "timeoutType": "num",
        "timeoutUnits": "seconds",
        "checkCurrentState": true,
        "blockInputOverrides": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "x": 1060,
        "y": 320,
        "wires": [
            [
                "75259b56c62c6dc9"
            ],
            [
                "f26a8e6739f171d9"
            ]
        ]
    },
    {
        "id": "926a03f5dc689826",
        "type": "traffic",
        "z": "65351372f52f2e2d",
        "name": "traffic light",
        "property_allow": "payload",
        "filter_allow": "open",
        "ignore_case_allow": false,
        "negate_allow": false,
        "send_allow": false,
        "property_stop": "payload",
        "filter_stop": "close",
        "ignore_case_stop": false,
        "negate_stop": false,
        "send_stop": false,
        "default_start": true,
        "differ": false,
        "x": 750,
        "y": 360,
        "wires": [
            [
                "63dd0580fe5a2988",
                "eb27a8504ea0ba20",
                "489f51dc5f080ea1"
            ]
        ]
    },
    {
        "id": "b66a38e04739bfdd",
        "type": "catch",
        "z": "65351372f52f2e2d",
        "g": "04562c8514c07d74",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "b983fbc0f8c8da2f"
            ]
        ]
    },
    {
        "id": "b983fbc0f8c8da2f",
        "type": "template",
        "z": "65351372f52f2e2d",
        "g": "04562c8514c07d74",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "c73573d7e9bdaf0f"
            ]
        ]
    },
    {
        "id": "7bdad445330a11b6",
        "type": "link out",
        "z": "65351372f52f2e2d",
        "g": "04562c8514c07d74",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 475,
        "y": 80,
        "wires": []
    },
    {
        "id": "c73573d7e9bdaf0f",
        "type": "template",
        "z": "65351372f52f2e2d",
        "g": "04562c8514c07d74",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "7bdad445330a11b6"
            ]
        ]
    },
    {
        "id": "ebcb50cdabc72f91",
        "type": "template",
        "z": "72f3a564e626ff9a",
        "g": "3b89d483d3628b14",
        "name": "notification id",
        "field": "notify.notification_id",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "garbage",
        "output": "str",
        "x": 1290,
        "y": 440,
        "wires": [
            [
                "d0d3f913b8c035f3"
            ]
        ]
    },
    {
        "id": "46d50645e39da463",
        "type": "template",
        "z": "72f3a564e626ff9a",
        "g": "3b89d483d3628b14",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "{{secondary_information}}.\\nStaat de container al aan de weg?",
        "output": "str",
        "x": 1280,
        "y": 400,
        "wires": [
            [
                "d0d3f913b8c035f3"
            ]
        ]
    },
    {
        "id": "dd3030c9ae0f7a07",
        "type": "change",
        "z": "72f3a564e626ff9a",
        "g": "3b89d483d3628b14",
        "name": "action titles",
        "rules": [
            {
                "t": "set",
                "p": "notify.action_1_title",
                "pt": "msg",
                "to": "JA",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "notify.action_2_title",
                "pt": "msg",
                "to": "NEE",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "notify.action_1",
                "pt": "msg",
                "to": "GARBAGE_ON",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "notify.action_2",
                "pt": "msg",
                "to": "IGNORE",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1290,
        "y": 320,
        "wires": [
            [
                "d0d3f913b8c035f3"
            ]
        ]
    },
    {
        "id": "d0d3f913b8c035f3",
        "type": "join",
        "z": "72f3a564e626ff9a",
        "g": "3b89d483d3628b14",
        "name": "",
        "mode": "custom",
        "build": "merged",
        "property": "notify",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": false,
        "timeout": "",
        "count": "8",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 1470,
        "y": 320,
        "wires": [
            [
                "0af5a06e405527e9"
            ]
        ]
    },
    {
        "id": "0af5a06e405527e9",
        "type": "link out",
        "z": "72f3a564e626ff9a",
        "g": "3b89d483d3628b14",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "c76d311bb4b6991b",
            "d1753081ba6b4004"
        ],
        "x": 1555,
        "y": 320,
        "wires": []
    },
    {
        "id": "dcc306682fd0ffa8",
        "type": "template",
        "z": "72f3a564e626ff9a",
        "g": "3b89d483d3628b14",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Afval",
        "output": "str",
        "x": 1270,
        "y": 280,
        "wires": [
            [
                "d0d3f913b8c035f3"
            ]
        ]
    },
    {
        "id": "3a3b8fdb9d6f4ab0",
        "type": "template",
        "z": "72f3a564e626ff9a",
        "g": "3b89d483d3628b14",
        "name": "icon",
        "field": "notify.icon",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "",
        "output": "str",
        "x": 1270,
        "y": 360,
        "wires": [
            [
                "d0d3f913b8c035f3"
            ]
        ]
    },
    {
        "id": "fc015c3acdd57ee4",
        "type": "template",
        "z": "72f3a564e626ff9a",
        "name": "secondary information",
        "field": "secondary_information",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Morgen {{{data.attributes.date}}} wordt de {{garbage_type}}container opgehaald",
        "output": "str",
        "x": 580,
        "y": 180,
        "wires": [
            [
                "da7f4a15f876a544"
            ]
        ]
    },
    {
        "id": "6d32a564bcd340a4",
        "type": "template",
        "z": "72f3a564e626ff9a",
        "name": "secondary information",
        "field": "secondary_information",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Vandaag wordt de {{garbage_type}} container opgehaald",
        "output": "str",
        "x": 580,
        "y": 220,
        "wires": [
            [
                "da7f4a15f876a544"
            ]
        ]
    },
    {
        "id": "040d71ac086fd35b",
        "type": "template",
        "z": "72f3a564e626ff9a",
        "name": "topic",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "garbage",
        "output": "str",
        "x": 990,
        "y": 180,
        "wires": [
            [
                "b756e7bb43d6f27c"
            ]
        ]
    },
    {
        "id": "da7f4a15f876a544",
        "type": "template",
        "z": "72f3a564e626ff9a",
        "name": "primary information",
        "field": "primary_information",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Let op, de container moet aan de weg",
        "output": "str",
        "x": 810,
        "y": 180,
        "wires": [
            [
                "040d71ac086fd35b",
                "4b77d397e442cac9"
            ]
        ]
    },
    {
        "id": "183a5991d27d2b04",
        "type": "comment",
        "z": "72f3a564e626ff9a",
        "name": "Create a notification for garbage collection",
        "info": "",
        "x": 180,
        "y": 20,
        "wires": []
    },
    {
        "id": "4f602b0ecd3e333e",
        "type": "inject",
        "z": "72f3a564e626ff9a",
        "name": "10:00",
        "props": [],
        "repeat": "",
        "crontab": "00 10 * * *",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 90,
        "y": 180,
        "wires": [
            [
                "25fa43d35440a3f7"
            ]
        ]
    },
    {
        "id": "9fd7a6afaf90435a",
        "type": "link out",
        "z": "72f3a564e626ff9a",
        "name": "notification",
        "mode": "link",
        "links": [
            "60e14e33a793f50d"
        ],
        "x": 1555,
        "y": 180,
        "wires": []
    },
    {
        "id": "b756e7bb43d6f27c",
        "type": "template",
        "z": "72f3a564e626ff9a",
        "name": "notification_level",
        "field": "notification_level",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "info",
        "output": "str",
        "x": 1150,
        "y": 180,
        "wires": [
            [
                "9fd7a6afaf90435a"
            ]
        ]
    },
    {
        "id": "9a7655d23db78d0f",
        "type": "inject",
        "z": "72f3a564e626ff9a",
        "name": "09:00",
        "props": [],
        "repeat": "",
        "crontab": "00 09 * * *",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 90,
        "y": 340,
        "wires": [
            [
                "127897e2532f9639"
            ]
        ]
    },
    {
        "id": "f47656cd06bea150",
        "type": "comment",
        "z": "72f3a564e626ff9a",
        "name": "Turn info notification sensor off if it still shows garbage collection after 09:00 when the collection is today",
        "info": "",
        "x": 390,
        "y": 300,
        "wires": []
    },
    {
        "id": "aa55d6e2d41927bf",
        "type": "switch",
        "z": "72f3a564e626ff9a",
        "name": "contains Vandaag",
        "property": "data.attributes.secondary_information",
        "propertyType": "msg",
        "rules": [
            {
                "t": "cont",
                "v": "Vandaag",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 690,
        "y": 340,
        "wires": [
            [
                "6a481279c5298533"
            ]
        ]
    },
    {
        "id": "3af43016251f4d2a",
        "type": "switch",
        "z": "72f3a564e626ff9a",
        "name": "topic is garbage",
        "property": "data.attributes.topic",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "garbage",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 500,
        "y": 340,
        "wires": [
            [
                "aa55d6e2d41927bf"
            ]
        ]
    },
    {
        "id": "63dd27acb5293428",
        "type": "inject",
        "z": "72f3a564e626ff9a",
        "name": "03:00",
        "props": [],
        "repeat": "",
        "crontab": "00 03 * * *",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 90,
        "y": 240,
        "wires": [
            [
                "faf897ee811f8cf2"
            ]
        ]
    },
    {
        "id": "3bbeb5287f1c9e72",
        "type": "comment",
        "z": "72f3a564e626ff9a",
        "name": "listen to garbage yes action notification answer event ",
        "info": "",
        "x": 230,
        "y": 400,
        "wires": []
    },
    {
        "id": "6a481279c5298533",
        "type": "api-call-service",
        "z": "72f3a564e626ff9a",
        "name": "button press notification info turn off",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "button.press",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "button.notification_level_info_turn_off"
        ],
        "labelId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "button",
        "service": "press",
        "x": 960,
        "y": 340,
        "wires": [
            []
        ]
    },
    {
        "id": "25fa43d35440a3f7",
        "type": "api-current-state",
        "z": "72f3a564e626ff9a",
        "name": "garbage tomorrow",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "Geen",
        "halt_if_type": "str",
        "halt_if_compare": "is_not",
        "entity_id": "sensor.afval_morgen",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "garbage_type",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 270,
        "y": 180,
        "wires": [
            [
                "fc015c3acdd57ee4"
            ],
            []
        ]
    },
    {
        "id": "127897e2532f9639",
        "type": "api-current-state",
        "z": "72f3a564e626ff9a",
        "name": "current state info sensor",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "binary_sensor.notification_level_info",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 290,
        "y": 340,
        "wires": [
            [
                "3af43016251f4d2a"
            ],
            []
        ]
    },
    {
        "id": "faf897ee811f8cf2",
        "type": "api-current-state",
        "z": "72f3a564e626ff9a",
        "name": "garbage today",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "Geen",
        "halt_if_type": "str",
        "halt_if_compare": "is_not",
        "entity_id": "sensor.afval_vandaag",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "garbage_type",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 260,
        "y": 240,
        "wires": [
            [
                "6d32a564bcd340a4"
            ],
            []
        ]
    },
    {
        "id": "5fc3b5118b42d3ec",
        "type": "server-events",
        "z": "72f3a564e626ff9a",
        "name": "mobile event listner",
        "server": "4ba92433.2478cc",
        "version": 3,
        "exposeAsEntityConfig": "",
        "eventType": "mobile_app_notification_action",
        "eventData": "{\"action\":\"GARBAGE_ON\"}",
        "waitForRunning": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "$outputData(\"eventData\").event_type",
                "valueType": "jsonata"
            }
        ],
        "event_type": "",
        "x": 110,
        "y": 440,
        "wires": [
            [
                "223d859dcac9107a"
            ]
        ]
    },
    {
        "id": "bfe7a87449e07220",
        "type": "catch",
        "z": "72f3a564e626ff9a",
        "g": "00e1921baeb8bd5e",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "b6142c43c8cd2aa3"
            ]
        ]
    },
    {
        "id": "b6142c43c8cd2aa3",
        "type": "template",
        "z": "72f3a564e626ff9a",
        "g": "00e1921baeb8bd5e",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "887509b8f00c0fa0"
            ]
        ]
    },
    {
        "id": "14c8565d2e050386",
        "type": "link out",
        "z": "72f3a564e626ff9a",
        "g": "00e1921baeb8bd5e",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 475,
        "y": 80,
        "wires": []
    },
    {
        "id": "887509b8f00c0fa0",
        "type": "template",
        "z": "72f3a564e626ff9a",
        "g": "00e1921baeb8bd5e",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "14c8565d2e050386"
            ]
        ]
    },
    {
        "id": "496caddb.5ba724",
        "type": "template",
        "z": "98a989e.d6bca78",
        "g": "7b3e33afc7e5d51f",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Er is {{payload}}m³ gas gemeten en niemand is aanwezig, controleer of het gas of verwarming is uitgezet.",
        "output": "str",
        "x": 1020,
        "y": 260,
        "wires": [
            [
                "5db5047bb3f69eb7"
            ]
        ]
    },
    {
        "id": "253b2fc1dbf20ad4",
        "type": "template",
        "z": "98a989e.d6bca78",
        "g": "7b3e33afc7e5d51f",
        "name": "icon",
        "field": "notify.icon",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "",
        "output": "str",
        "x": 1010,
        "y": 300,
        "wires": [
            [
                "5db5047bb3f69eb7"
            ]
        ]
    },
    {
        "id": "bdce8718917c4dcb",
        "type": "template",
        "z": "98a989e.d6bca78",
        "g": "7b3e33afc7e5d51f",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Gas",
        "output": "str",
        "x": 1010,
        "y": 220,
        "wires": [
            [
                "5db5047bb3f69eb7"
            ]
        ]
    },
    {
        "id": "b9f5925e88c3b14b",
        "type": "link out",
        "z": "98a989e.d6bca78",
        "g": "7b3e33afc7e5d51f",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "8ed3b0974336e55b"
        ],
        "x": 1265,
        "y": 260,
        "wires": []
    },
    {
        "id": "5db5047bb3f69eb7",
        "type": "join",
        "z": "98a989e.d6bca78",
        "g": "7b3e33afc7e5d51f",
        "name": "",
        "mode": "custom",
        "build": "merged",
        "property": "notify",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": false,
        "timeout": "",
        "count": "4",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 1170,
        "y": 260,
        "wires": [
            [
                "b9f5925e88c3b14b"
            ]
        ]
    },
    {
        "id": "fdc4c2eef34c0a15",
        "type": "template",
        "z": "98a989e.d6bca78",
        "g": "7b3e33afc7e5d51f",
        "name": "notification id",
        "field": "notify.notification_id",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "gas",
        "output": "str",
        "x": 1030,
        "y": 340,
        "wires": [
            [
                "5db5047bb3f69eb7"
            ]
        ]
    },
    {
        "id": "3238627b.1b1f0e",
        "type": "switch",
        "z": "98a989e.d6bca78",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "gt",
                "v": "0",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 250,
        "y": 200,
        "wires": [
            [
                "d99c251f.40c1c8"
            ]
        ]
    },
    {
        "id": "fac5f99c.1b7438",
        "type": "comment",
        "z": "98a989e.d6bca78",
        "name": "gas notification when nobody is in the house",
        "info": "",
        "x": 190,
        "y": 20,
        "wires": []
    },
    {
        "id": "d99c251f.40c1c8",
        "type": "api-current-state",
        "z": "98a989e.d6bca78",
        "name": "group persons is not home for 15 minutes",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "not_home",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "group.persons",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "group.persons",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "15",
        "forType": "num",
        "forUnits": "minutes",
        "x": 480,
        "y": 200,
        "wires": [
            [
                "7da2532c.8f20fc"
            ],
            []
        ]
    },
    {
        "id": "7da2532c.8f20fc",
        "type": "api-current-state",
        "z": "98a989e.d6bca78",
        "name": "guest state is off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.guest",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "gast",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 740,
        "y": 200,
        "wires": [
            [
                "4fc08434e069652b"
            ],
            []
        ]
    },
    {
        "id": "6429429b.d1375c",
        "type": "server-state-changed",
        "z": "98a989e.d6bca78",
        "name": "gas sensor state",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 1,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "sensor.dsmr_consumption_gas_currently_delivered"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": false,
        "stateType": "num",
        "ifState": "",
        "ifStateType": "num",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 100,
        "y": 200,
        "wires": [
            [
                "3238627b.1b1f0e"
            ]
        ]
    },
    {
        "id": "4b522fb422cd4d3b",
        "type": "catch",
        "z": "98a989e.d6bca78",
        "g": "9a6a0422b6ecafd9",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "135edde980b196c2"
            ]
        ]
    },
    {
        "id": "135edde980b196c2",
        "type": "template",
        "z": "98a989e.d6bca78",
        "g": "9a6a0422b6ecafd9",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "858d29207573b2c5"
            ]
        ]
    },
    {
        "id": "b6683e8825a4f684",
        "type": "link out",
        "z": "98a989e.d6bca78",
        "g": "9a6a0422b6ecafd9",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 475,
        "y": 80,
        "wires": []
    },
    {
        "id": "858d29207573b2c5",
        "type": "template",
        "z": "98a989e.d6bca78",
        "g": "9a6a0422b6ecafd9",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "b6683e8825a4f684"
            ]
        ]
    },
    {
        "id": "cdbb5b48e71b5866",
        "type": "template",
        "z": "42b354a7f0284779",
        "g": "392300741f68f312",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "{{primary_information}}.\\n{{secondary_information}}",
        "output": "str",
        "x": 1460,
        "y": 320,
        "wires": [
            [
                "4dd6478ac62b8c2f"
            ]
        ]
    },
    {
        "id": "4dd6478ac62b8c2f",
        "type": "join",
        "z": "42b354a7f0284779",
        "g": "392300741f68f312",
        "name": "",
        "mode": "custom",
        "build": "merged",
        "property": "notify",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": false,
        "timeout": "",
        "count": "3",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 1610,
        "y": 320,
        "wires": [
            [
                "17c484a9c9a917ac"
            ]
        ]
    },
    {
        "id": "17c484a9c9a917ac",
        "type": "link out",
        "z": "42b354a7f0284779",
        "g": "392300741f68f312",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "8ed3b0974336e55b",
            "a97f87cfab413716"
        ],
        "x": 1705,
        "y": 320,
        "wires": []
    },
    {
        "id": "c6941b34f3402196",
        "type": "template",
        "z": "42b354a7f0284779",
        "g": "392300741f68f312",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Zonne-energie",
        "output": "str",
        "x": 1450,
        "y": 280,
        "wires": [
            [
                "4dd6478ac62b8c2f"
            ]
        ]
    },
    {
        "id": "59327076bed18754",
        "type": "template",
        "z": "42b354a7f0284779",
        "g": "392300741f68f312",
        "name": "icon",
        "field": "notify.icon",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "",
        "output": "str",
        "x": 1450,
        "y": 360,
        "wires": [
            [
                "4dd6478ac62b8c2f"
            ]
        ]
    },
    {
        "id": "08c71b7711856e9c",
        "type": "comment",
        "z": "42b354a7f0284779",
        "name": "Create notification about solar inverter",
        "info": "",
        "x": 170,
        "y": 20,
        "wires": []
    },
    {
        "id": "2bcc033320eee7c1",
        "type": "template",
        "z": "42b354a7f0284779",
        "name": "secondary information",
        "field": "secondary_information",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "De omvormer is op {{{myymd}}} om {{{mytime}}} status {{payload}}, {{{data.new_state.attributes.status_description}}}",
        "output": "str",
        "x": 600,
        "y": 180,
        "wires": [
            [
                "117aca7da78c92fe"
            ]
        ]
    },
    {
        "id": "117aca7da78c92fe",
        "type": "template",
        "z": "42b354a7f0284779",
        "name": "primary information",
        "field": "primary_information",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Er is een probleem met de omvormer",
        "output": "str",
        "x": 810,
        "y": 180,
        "wires": [
            [
                "1443017dca2ff4a8"
            ]
        ]
    },
    {
        "id": "178e42db86a628e8",
        "type": "link out",
        "z": "42b354a7f0284779",
        "name": "notification",
        "mode": "link",
        "links": [
            "60e14e33a793f50d"
        ],
        "x": 1705,
        "y": 180,
        "wires": []
    },
    {
        "id": "ffc8288b4ad5eee4",
        "type": "template",
        "z": "42b354a7f0284779",
        "name": "notification_level",
        "field": "notification_level",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "error",
        "output": "str",
        "x": 1130,
        "y": 180,
        "wires": [
            [
                "178e42db86a628e8",
                "9b93ac7b58399751"
            ]
        ]
    },
    {
        "id": "1443017dca2ff4a8",
        "type": "template",
        "z": "42b354a7f0284779",
        "name": "topic",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "garbage",
        "output": "str",
        "x": 970,
        "y": 180,
        "wires": [
            [
                "ffc8288b4ad5eee4"
            ]
        ]
    },
    {
        "id": "7dbf7c37a565252a",
        "type": "switch",
        "z": "42b354a7f0284779",
        "name": "status",
        "property": "data.new_state.state",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "7",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "8",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 3,
        "x": 430,
        "y": 180,
        "wires": [
            [
                "2bcc033320eee7c1"
            ],
            [
                "2bcc033320eee7c1"
            ],
            [
                "2bcc033320eee7c1"
            ]
        ]
    },
    {
        "id": "30c6a811cbe1ee11",
        "type": "server-state-changed",
        "z": "42b354a7f0284779",
        "name": "inverter status code",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 1,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "sensor.solaredge_modbus_status"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": true,
        "stateType": "num",
        "ifState": "",
        "ifStateType": "num",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            }
        ],
        "x": 110,
        "y": 180,
        "wires": [
            [
                "ef4c50873027b4b3"
            ]
        ]
    },
    {
        "id": "ef4c50873027b4b3",
        "type": "simpletime",
        "z": "42b354a7f0284779",
        "name": "",
        "mydate": false,
        "myymd": true,
        "myyear": false,
        "mymonth": false,
        "mymonthn": false,
        "mydom": false,
        "mydoy": false,
        "myday": false,
        "myhourpm": false,
        "myhour": false,
        "mytime": true,
        "mytimes": false,
        "myminute": false,
        "myminutes": false,
        "mysecond": false,
        "mymillis": false,
        "myepoch": false,
        "myrawdate": false,
        "mypm": false,
        "x": 290,
        "y": 180,
        "wires": [
            [
                "7dbf7c37a565252a"
            ]
        ]
    },
    {
        "id": "67307ba4e3d3f9b3",
        "type": "catch",
        "z": "42b354a7f0284779",
        "g": "486186084273434f",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "b7beb6e187e61cdc"
            ]
        ]
    },
    {
        "id": "b7beb6e187e61cdc",
        "type": "template",
        "z": "42b354a7f0284779",
        "g": "486186084273434f",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "611dd015489e682f"
            ]
        ]
    },
    {
        "id": "7fef303d15d03ef1",
        "type": "link out",
        "z": "42b354a7f0284779",
        "g": "486186084273434f",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 475,
        "y": 80,
        "wires": []
    },
    {
        "id": "611dd015489e682f",
        "type": "template",
        "z": "42b354a7f0284779",
        "g": "486186084273434f",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "7fef303d15d03ef1"
            ]
        ]
    },
    {
        "id": "dbd6c4b98cdaf5bf",
        "type": "link out",
        "z": "b4aa7b8dbc1c80dc",
        "name": "notification",
        "mode": "link",
        "links": [
            "60e14e33a793f50d"
        ],
        "x": 1275,
        "y": 140,
        "wires": []
    },
    {
        "id": "ee5f0821374570e5",
        "type": "template",
        "z": "b4aa7b8dbc1c80dc",
        "name": "notification_level",
        "field": "notification_level",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "warning",
        "output": "str",
        "x": 1150,
        "y": 140,
        "wires": [
            [
                "dbd6c4b98cdaf5bf"
            ]
        ]
    },
    {
        "id": "4ee9eb9f9dfecd39",
        "type": "template",
        "z": "b4aa7b8dbc1c80dc",
        "name": "topic",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "weather",
        "output": "str",
        "x": 990,
        "y": 140,
        "wires": [
            [
                "ee5f0821374570e5"
            ]
        ]
    },
    {
        "id": "1842ef7b5cb665a1",
        "type": "template",
        "z": "b4aa7b8dbc1c80dc",
        "name": "primary information",
        "field": "primary_information",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "KNMI Waarschuwing",
        "output": "str",
        "x": 710,
        "y": 140,
        "wires": [
            [
                "1c560aa028e1bd79"
            ]
        ]
    },
    {
        "id": "73149a51d0ddd36e",
        "type": "template",
        "z": "b4aa7b8dbc1c80dc",
        "name": "secondary information",
        "field": "secondary_information",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "{{short_message}}...",
        "output": "str",
        "x": 500,
        "y": 140,
        "wires": [
            [
                "1842ef7b5cb665a1"
            ]
        ]
    },
    {
        "id": "f8a17203b85ebfc6",
        "type": "function",
        "z": "b4aa7b8dbc1c80dc",
        "name": "shorten message",
        "func": "msg.short_message = msg.data.new_state.attributes.Waarschuwing.substr(0, 400);\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 290,
        "y": 140,
        "wires": [
            [
                "73149a51d0ddd36e"
            ]
        ]
    },
    {
        "id": "1c560aa028e1bd79",
        "type": "template",
        "z": "b4aa7b8dbc1c80dc",
        "name": "icon",
        "field": "icon",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "mdi:weather-cloudy-alert",
        "output": "str",
        "x": 870,
        "y": 140,
        "wires": [
            [
                "4ee9eb9f9dfecd39"
            ]
        ]
    },
    {
        "id": "5a5946eca79911d5",
        "type": "server-state-changed",
        "z": "b4aa7b8dbc1c80dc",
        "name": "knmi warning",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "binary_sensor.knmi_warning"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": true,
        "stateType": "str",
        "ifState": "on",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": false,
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 110,
        "y": 140,
        "wires": [
            [
                "f8a17203b85ebfc6"
            ],
            []
        ]
    },
    {
        "id": "59261a1cba9f1c9d",
        "type": "catch",
        "z": "b4aa7b8dbc1c80dc",
        "g": "e14729bbb68696bb",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 120,
        "y": 60,
        "wires": [
            [
                "dc708d13b5623029"
            ]
        ]
    },
    {
        "id": "dc708d13b5623029",
        "type": "template",
        "z": "b4aa7b8dbc1c80dc",
        "g": "e14729bbb68696bb",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 270,
        "y": 60,
        "wires": [
            [
                "b4e30499c0f38241"
            ]
        ]
    },
    {
        "id": "db1e6a0372a267e5",
        "type": "link out",
        "z": "b4aa7b8dbc1c80dc",
        "g": "e14729bbb68696bb",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 495,
        "y": 60,
        "wires": []
    },
    {
        "id": "b4e30499c0f38241",
        "type": "template",
        "z": "b4aa7b8dbc1c80dc",
        "g": "e14729bbb68696bb",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 410,
        "y": 60,
        "wires": [
            [
                "db1e6a0372a267e5"
            ]
        ]
    },
    {
        "id": "8cc9f9d0eb2ee196",
        "type": "template",
        "z": "343515a5528e14f0",
        "g": "a438a5fafa2b7f02",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "ce9dcc40d72369f4"
            ]
        ]
    },
    {
        "id": "ce9dcc40d72369f4",
        "type": "link out",
        "z": "343515a5528e14f0",
        "g": "a438a5fafa2b7f02",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 475,
        "y": 80,
        "wires": []
    },
    {
        "id": "f095a3312890d656",
        "type": "template",
        "z": "343515a5528e14f0",
        "g": "a438a5fafa2b7f02",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "8cc9f9d0eb2ee196"
            ]
        ]
    },
    {
        "id": "42073f55aa389f5d",
        "type": "catch",
        "z": "343515a5528e14f0",
        "g": "a438a5fafa2b7f02",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "f095a3312890d656"
            ]
        ]
    },
    {
        "id": "8ed3b0974336e55b",
        "type": "link in",
        "z": "343515a5528e14f0",
        "name": "notify_coen",
        "links": [
            "8c93b438701888a6",
            "ac04035c1896218b",
            "73e546f49b2e02e1",
            "2c0a57bd6ee87009",
            "5e72b91e3ad4066d",
            "37c73ac2e71d9a61",
            "b9f5925e88c3b14b",
            "17c484a9c9a917ac",
            "ef18c5c2564a7e77",
            "c6bc1abd0ea4d3e7",
            "b41a40c1e135e55c",
            "ac254d4235d71700",
            "e188c5d43cc22d55",
            "f118397ef51d377e",
            "7a732e9184d0afcf"
        ],
        "x": 195,
        "y": 340,
        "wires": [
            [
                "b92773ff0b01fade"
            ]
        ]
    },
    {
        "id": "aeee8468f3d1b7ad",
        "type": "link in",
        "z": "343515a5528e14f0",
        "name": "notify_anne",
        "links": [
            "ef18c5c2564a7e77",
            "c6bc1abd0ea4d3e7",
            "ac254d4235d71700",
            "e188c5d43cc22d55",
            "7a732e9184d0afcf"
        ],
        "x": 195,
        "y": 400,
        "wires": [
            [
                "05c72cc515d6ee8d"
            ]
        ]
    },
    {
        "id": "76e9e8e982a2fef6",
        "type": "comment",
        "z": "343515a5528e14f0",
        "name": "notifications",
        "info": "",
        "x": 90,
        "y": 20,
        "wires": []
    },
    {
        "id": "a97f87cfab413716",
        "type": "link in",
        "z": "343515a5528e14f0",
        "name": "notify_in_app",
        "links": [
            "8c93b438701888a6",
            "ac04035c1896218b",
            "73e546f49b2e02e1",
            "2c0a57bd6ee87009",
            "17c484a9c9a917ac",
            "3bdaf73ce37b7397",
            "e188c5d43cc22d55",
            "3bb7516008d0f0ca",
            "b678056d1b96f637",
            "6c4b4ca33c32a0f7",
            "6f92ae57f8e67eb2",
            "008e4e3d5eb1c73a",
            "6031ed8d02da2add",
            "ce9dcc40d72369f4",
            "31afe4007c8c4380",
            "f9b220def47837e4",
            "17e4e7721adc09a1",
            "1514f8777e4c8211",
            "ddf56ac7c76174e3",
            "85efbfe86edb2e91",
            "f18c57903881ea97",
            "13f2b7ca42c4eca2",
            "71c8efae8c1d420b",
            "8b8c16211a8b72d6",
            "4d9e677df669290b",
            "4d1450df9aae47f1",
            "b7a8e5cc57ee6ca0",
            "7bf74cbdd5a69c4a",
            "6399bb828d61b11b",
            "4e680a078b0a25b2",
            "8a30ed094fb5f99e",
            "f6679763cd60d5c2",
            "0e36b13934d068e7",
            "dde00c0321dc01f3",
            "ab08ef94fcbac2d6",
            "d1ac9e9826f44523",
            "95003d90c3c9a6b0",
            "4ccec2f982a522c0",
            "c653974d1dff1810",
            "c026370f826e5d5f",
            "7b7ff376a7aa8c64",
            "7bdad445330a11b6",
            "14c8565d2e050386",
            "b6683e8825a4f684",
            "7fef303d15d03ef1",
            "db1e6a0372a267e5",
            "588232826fe1cb16",
            "a1d22443632b6c95",
            "dac0d4dda81abc95",
            "c84220140a8c71a3",
            "bf3806a421c7b15a",
            "fcbba10709360bf0",
            "80e833d182f30872",
            "388c6c30bcb85720",
            "b8f35a173d514067",
            "195545448e386e6c",
            "2c08acee77a89d06",
            "20b46d2aec64e3a9",
            "05ac8cf3d42fdb50",
            "43dbea1142f618eb",
            "59411a575525fcee",
            "89d180847c2436b6",
            "88c8645165323767",
            "200857993ae893c3",
            "d6b4445ad7f5062a",
            "301e5101402d9cd1",
            "fc2c3ebd96e14cc3",
            "a6196b4738721e31",
            "6bcc6ca59609f4ee",
            "7a732e9184d0afcf",
            "7b8a53cdff17b707",
            "2c1c31327d39c466",
            "3bacd8ed5d0dccd2",
            "d3b8e4a7f5f1fbb1",
            "0666b6f65b4515cb",
            "87c05e9e80c8acec",
            "cda4d972226868a6",
            "d5382f174608bb29",
            "44f5433a0f7d8e6c",
            "42e103b5f2b1e679",
            "83742449c3349fd4",
            "de255097b6d251ec",
            "37b1834649576aa9",
            "315c0bcd8e6fef5f",
            "c9f30fc70f2be4fd"
        ],
        "x": 195,
        "y": 460,
        "wires": [
            [
                "0d4dd5184c1b0c50"
            ]
        ]
    },
    {
        "id": "170690c80fc5131f",
        "type": "link in",
        "z": "343515a5528e14f0",
        "name": "notify_in_tts_google_home_speaker",
        "links": [],
        "x": 195,
        "y": 520,
        "wires": [
            [
                "577ae9a09334bd75"
            ]
        ]
    },
    {
        "id": "c4660dc11fb0e5b8",
        "type": "link in",
        "z": "343515a5528e14f0",
        "name": "notify_in_tts_wall_tablet",
        "links": [
            "0993d50e3c03d798",
            "1e0f934a3493b12f",
            "372e878f27b4b2b2",
            "57488cc36dcd2d00",
            "ac254d4235d71700",
            "c5f04c8242157305",
            "f5a1c4dd087e0795",
            "fdba7cd037a9da5a",
            "7528bd2fef1d9090"
        ],
        "x": 195,
        "y": 580,
        "wires": [
            [
                "e1fdac1fe178e720"
            ]
        ]
    },
    {
        "id": "c13b2b4d87067c17",
        "type": "link in",
        "z": "343515a5528e14f0",
        "name": "notify_tv",
        "links": [
            "e188c5d43cc22d55"
        ],
        "x": 195,
        "y": 280,
        "wires": [
            [
                "04792e2be9d492bd"
            ]
        ]
    },
    {
        "id": "d1753081ba6b4004",
        "type": "link in",
        "z": "343515a5528e14f0",
        "name": "notify_two_actions_coen",
        "links": [
            "ba0bdc1db6e4e011",
            "0af5a06e405527e9"
        ],
        "x": 195,
        "y": 640,
        "wires": [
            [
                "3675d2d1160c6b61"
            ]
        ]
    },
    {
        "id": "c76d311bb4b6991b",
        "type": "link in",
        "z": "343515a5528e14f0",
        "name": "notify_two_actions_anne",
        "links": [
            "ba0bdc1db6e4e011",
            "0af5a06e405527e9"
        ],
        "x": 195,
        "y": 700,
        "wires": [
            [
                "7e56e31c0145c7b4"
            ]
        ]
    },
    {
        "id": "566faf848ae88258",
        "type": "change",
        "z": "343515a5528e14f0",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "trigger",
                "pt": "msg",
                "to": "",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 980,
        "y": 580,
        "wires": [
            [
                "e1fdac1fe178e720"
            ]
        ]
    },
    {
        "id": "5eb39518752706d4",
        "type": "change",
        "z": "343515a5528e14f0",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "trigger",
                "pt": "msg",
                "to": "",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 980,
        "y": 520,
        "wires": [
            [
                "577ae9a09334bd75"
            ]
        ]
    },
    {
        "id": "b92773ff0b01fade",
        "type": "api-call-service",
        "z": "343515a5528e14f0",
        "name": "notify coen",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "notify.mobile_app_phone_coen",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [],
        "labelId": [],
        "data": "{\"message\":\"{{notify.message}}\",\"title\":\"{{notify.title}}\",\"data\":{\"vibrationPattern\":\"{{notify.vibrationPattern}}\",\"channel\":\"{{notify.channel}}\",\"tag\":\"{{notify.tag}}\",\"clickAction\":\"{{notify.clickAction}}\"}}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "notify",
        "service": "mobile_app_phone_coen",
        "x": 310,
        "y": 340,
        "wires": [
            []
        ]
    },
    {
        "id": "05c72cc515d6ee8d",
        "type": "api-call-service",
        "z": "343515a5528e14f0",
        "name": "notify anne",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "notify.mobile_app_phone_anne",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [],
        "labelId": [],
        "data": "{\"message\":\"{{notify.message}}\",\"title\":\"{{notify.title}}\",\"data\":{\"vibrationPattern\":\"{{notify.vibrationPattern}}\",\"channel\":\"{{notify.channel}}\",\"tag\":\"{{notify.tag}}\",\"clickAction\":\"{{notify.clickAction}}\"}}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "notify",
        "service": "mobile_app_phone_anne",
        "x": 310,
        "y": 400,
        "wires": [
            []
        ]
    },
    {
        "id": "0d4dd5184c1b0c50",
        "type": "api-call-service",
        "z": "343515a5528e14f0",
        "name": "notify in app",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "persistent_notification.create",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [],
        "labelId": [],
        "data": "{\"message\":\"{{notify.message}}\",\"title\":\"{{notify.title}}\",\"notification_id\":\"{{notify.notification_id}}\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "persistent_notification",
        "service": "create",
        "x": 310,
        "y": 460,
        "wires": [
            []
        ]
    },
    {
        "id": "cfaf92063b478bdc",
        "type": "api-call-service",
        "z": "343515a5528e14f0",
        "name": "text to speech",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "tts.google_say",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [],
        "labelId": [],
        "data": "{\"entity_id\":\"media_player.home_speaker\",\"message\":\"{{notify.message}}\",\"language\":\"nl\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "tts",
        "service": "google_say",
        "x": 800,
        "y": 520,
        "wires": [
            [
                "5eb39518752706d4"
            ]
        ]
    },
    {
        "id": "f11dc3e3682ce836",
        "type": "api-call-service",
        "z": "343515a5528e14f0",
        "name": "text to speech",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "tts.google_say",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [],
        "labelId": [],
        "data": "{\"entity_id\":\"media_player.galaxy_tab_a8\",\"message\":\"{{notify.message}}\",\"language\":\"nl\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "tts",
        "service": "google_say",
        "x": 800,
        "y": 580,
        "wires": [
            [
                "566faf848ae88258"
            ]
        ]
    },
    {
        "id": "04792e2be9d492bd",
        "type": "api-call-service",
        "z": "343515a5528e14f0",
        "name": "notify tv",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "notify.lg_webos_smart_tv",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [],
        "labelId": [],
        "data": "{\"message\":\"{{notify.message}}\",\"title\":\"{{notify.title}}\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "notify",
        "service": "lg_webos_smart_tv",
        "x": 300,
        "y": 280,
        "wires": [
            []
        ]
    },
    {
        "id": "3675d2d1160c6b61",
        "type": "api-call-service",
        "z": "343515a5528e14f0",
        "name": "notify two actions coen",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "notify.mobile_app_phone_coen",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [],
        "labelId": [],
        "data": "{\"message\":\"{{notify.message}}\",\"title\":\"{{notify.title}}\",\"data\":{\"actions\":[{\"action\":\"{{notify.action_1}}\",\"title\":\"{{notify.action_1_title}}\",\"icon\":\"{{notify.icon}}\"},{\"action\":\"{{notify.action_2}}\",\"title\":\"{{notify.action_2_title}}\",\"icon\":\"{{notify.icon}}\"}]}}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "notify",
        "service": "mobile_app_phone_coen",
        "x": 340,
        "y": 640,
        "wires": [
            []
        ]
    },
    {
        "id": "7e56e31c0145c7b4",
        "type": "api-call-service",
        "z": "343515a5528e14f0",
        "name": "notify two actions anne",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "notify.mobile_app_phone_anne",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [],
        "labelId": [],
        "data": "{\"message\":\"{{notify.message}}\",\"title\":\"{{notify.title}}\",\"data\":{\"actions\":[{\"action\":\"{{notify.action_1}}\",\"title\":\"{{notify.action_1_title}}\",\"icon\":\"{{notify.icon}}\"},{\"action\":\"{{notify.action_2}}\",\"title\":\"{{notify.action_2_title}}\",\"icon\":\"{{notify.icon}}\"}]}}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "notify",
        "service": "mobile_app_phone_anne",
        "x": 340,
        "y": 700,
        "wires": [
            []
        ]
    },
    {
        "id": "cf256ece81c0faee",
        "type": "ha-wait-until",
        "z": "343515a5528e14f0",
        "name": "wait until media player is not playing",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 1,
        "entities": {
            "entity": [
                "media_player.home_speaker"
            ],
            "substring": [],
            "regex": []
        },
        "property": "state",
        "comparator": "is_not",
        "value": "playing",
        "valueType": "str",
        "timeout": "",
        "timeoutType": "num",
        "timeoutUnits": "seconds",
        "checkCurrentState": true,
        "blockInputOverrides": true,
        "outputProperties": [],
        "entityLocation": "data",
        "entityLocationType": "none",
        "x": 550,
        "y": 520,
        "wires": [
            [
                "cfaf92063b478bdc"
            ]
        ]
    },
    {
        "id": "d94b50aeaba952d1",
        "type": "ha-wait-until",
        "z": "343515a5528e14f0",
        "name": "wait until media player is not playing",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "entities": {
            "entity": [
                "media_player.galaxy_tab_a8"
            ],
            "substring": [],
            "regex": []
        },
        "property": "state",
        "comparator": "is_not",
        "value": "playing",
        "valueType": "str",
        "timeout": "30",
        "timeoutType": "num",
        "timeoutUnits": "seconds",
        "checkCurrentState": true,
        "blockInputOverrides": true,
        "outputProperties": [],
        "entityLocation": "data",
        "entityLocationType": "none",
        "x": 550,
        "y": 580,
        "wires": [
            [
                "f11dc3e3682ce836"
            ],
            []
        ]
    },
    {
        "id": "e1fdac1fe178e720",
        "type": "simple-queue",
        "z": "343515a5528e14f0",
        "name": "",
        "firstMessageBypass": true,
        "bypassInterval": "0",
        "x": 310,
        "y": 580,
        "wires": [
            [
                "d94b50aeaba952d1"
            ]
        ]
    },
    {
        "id": "577ae9a09334bd75",
        "type": "simple-queue",
        "z": "343515a5528e14f0",
        "name": "",
        "firstMessageBypass": true,
        "bypassInterval": "0",
        "x": 310,
        "y": 520,
        "wires": [
            [
                "cf256ece81c0faee"
            ]
        ]
    },
    {
        "id": "0db5f8033b5c9adf",
        "type": "template",
        "z": "d5421f8d.f7208",
        "g": "f236f0a913f70054",
        "name": "icon",
        "field": "notify.icon",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "",
        "output": "str",
        "x": 1430,
        "y": 240,
        "wires": [
            [
                "6858101eee61155a"
            ]
        ]
    },
    {
        "id": "4b276bf7ef0c3217",
        "type": "template",
        "z": "d5421f8d.f7208",
        "g": "f236f0a913f70054",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Ventilatie",
        "output": "str",
        "x": 1430,
        "y": 160,
        "wires": [
            [
                "6858101eee61155a"
            ]
        ]
    },
    {
        "id": "ef18c5c2564a7e77",
        "type": "link out",
        "z": "d5421f8d.f7208",
        "g": "f236f0a913f70054",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "8ed3b0974336e55b",
            "aeee8468f3d1b7ad"
        ],
        "x": 1685,
        "y": 200,
        "wires": []
    },
    {
        "id": "6858101eee61155a",
        "type": "join",
        "z": "d5421f8d.f7208",
        "g": "f236f0a913f70054",
        "name": "",
        "mode": "custom",
        "build": "merged",
        "property": "notify",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": false,
        "timeout": "",
        "count": "3",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 1590,
        "y": 200,
        "wires": [
            [
                "ef18c5c2564a7e77"
            ]
        ]
    },
    {
        "id": "1414f6788bc8c787",
        "type": "template",
        "z": "d5421f8d.f7208",
        "g": "f236f0a913f70054",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Open de ramen boven om het in huis af te laten koelen, boven is de gemiddelde temperatuur {{payload}} ℃ Buiten is de temperatuur {{buienradar_temperature}} ℃.",
        "output": "str",
        "x": 1440,
        "y": 200,
        "wires": [
            [
                "6858101eee61155a",
                "d5e96dbb131b9d36"
            ]
        ]
    },
    {
        "id": "a7088cd0.05fa4",
        "type": "inject",
        "z": "d5421f8d.f7208",
        "name": "",
        "props": [],
        "repeat": "7200",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "x": 70,
        "y": 160,
        "wires": [
            [
                "87defeb3.2f624"
            ]
        ]
    },
    {
        "id": "eb9d5e14.c47ca",
        "type": "switch",
        "z": "d5421f8d.f7208",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "gt",
                "v": "23",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 950,
        "y": 160,
        "wires": [
            [
                "b108409c.24dae"
            ]
        ]
    },
    {
        "id": "2bd65702.c33608",
        "type": "comment",
        "z": "d5421f8d.f7208",
        "name": "outdoor temperature is lower then indoor temperature on the first floor",
        "info": "",
        "x": 270,
        "y": 20,
        "wires": []
    },
    {
        "id": "d5e96dbb131b9d36",
        "type": "template",
        "z": "d5421f8d.f7208",
        "name": "secondary information",
        "field": "secondary_information",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "{{notify.message}}",
        "output": "str",
        "x": 1600,
        "y": 340,
        "wires": [
            [
                "f8309ac281f2719d"
            ]
        ]
    },
    {
        "id": "ea6a2fd58eb54515",
        "type": "link out",
        "z": "d5421f8d.f7208",
        "name": "notification",
        "mode": "link",
        "links": [
            "60e14e33a793f50d"
        ],
        "x": 1685,
        "y": 540,
        "wires": []
    },
    {
        "id": "71065c3b1d663fa4",
        "type": "template",
        "z": "d5421f8d.f7208",
        "name": "notification_level",
        "field": "notification_level",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "info",
        "output": "str",
        "x": 1610,
        "y": 500,
        "wires": [
            [
                "ea6a2fd58eb54515"
            ]
        ]
    },
    {
        "id": "e0444f34bbc35ff2",
        "type": "template",
        "z": "d5421f8d.f7208",
        "name": "topic",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "ventilation",
        "output": "str",
        "x": 1650,
        "y": 460,
        "wires": [
            [
                "71065c3b1d663fa4"
            ]
        ]
    },
    {
        "id": "41d591f22c238a15",
        "type": "template",
        "z": "d5421f8d.f7208",
        "name": "icon",
        "field": "icon",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "mdi:weather-windy",
        "output": "str",
        "x": 1650,
        "y": 420,
        "wires": [
            [
                "e0444f34bbc35ff2"
            ]
        ]
    },
    {
        "id": "f8309ac281f2719d",
        "type": "template",
        "z": "d5421f8d.f7208",
        "name": "primary information",
        "field": "primary_information",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Ventilatie",
        "output": "str",
        "x": 1610,
        "y": 380,
        "wires": [
            [
                "41d591f22c238a15"
            ]
        ]
    },
    {
        "id": "8d34e21d.b818f",
        "type": "change",
        "z": "d5421f8d.f7208",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "payload.attributes.current_temperature",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 540,
        "y": 160,
        "wires": [
            [
                "71d62d7c.0c49f4"
            ]
        ]
    },
    {
        "id": "71d62d7c.0c49f4",
        "type": "join",
        "z": "d5421f8d.f7208",
        "name": "",
        "mode": "auto",
        "build": "array",
        "property": "payload",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": false,
        "timeout": "",
        "count": "4",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "num",
        "reduceFixup": "",
        "x": 690,
        "y": 160,
        "wires": [
            [
                "f553666a.3acb38"
            ]
        ]
    },
    {
        "id": "f553666a.3acb38",
        "type": "calculator",
        "z": "d5421f8d.f7208",
        "name": "",
        "inputMsgField": "payload",
        "outputMsgField": "payload",
        "operation": "avg",
        "constant": "",
        "round": true,
        "truncate": false,
        "decimals": "1",
        "decimals2": "0",
        "x": 820,
        "y": 160,
        "wires": [
            [
                "eb9d5e14.c47ca"
            ]
        ]
    },
    {
        "id": "b108409c.24dae",
        "type": "api-current-state",
        "z": "d5421f8d.f7208",
        "name": "outdoor temperature",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "payload",
        "halt_if_type": "msg",
        "halt_if_compare": "lt",
        "entity_id": "sensor.buienradar_temperature",
        "state_type": "num",
        "blockInputOverrides": true,
        "outputProperties": [
            {
                "property": "buienradar_temperature",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 1120,
        "y": 160,
        "wires": [
            [
                "eaec84df6f30a9ec"
            ],
            []
        ]
    },
    {
        "id": "317fcdab.4c33d2",
        "type": "ha-get-entities",
        "z": "d5421f8d.f7208",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 1,
        "rules": [
            {
                "condition": "floor_registry",
                "property": "level",
                "logic": "is",
                "value": "1",
                "valueType": "str"
            },
            {
                "condition": "state_object",
                "property": "entity_id",
                "logic": "starts_with",
                "value": "climate.",
                "valueType": "str"
            }
        ],
        "outputType": "split",
        "outputEmptyResults": false,
        "outputLocationType": "msg",
        "outputLocation": "payload",
        "outputResultsCount": 1,
        "x": 370,
        "y": 160,
        "wires": [
            [
                "8d34e21d.b818f"
            ]
        ]
    },
    {
        "id": "87defeb3.2f624",
        "type": "time-range-switch",
        "z": "d5421f8d.f7208",
        "name": "",
        "lat": "52.0245",
        "lon": "5.66701",
        "startTime": "06:00",
        "endTime": "00:00",
        "startOffset": 0,
        "endOffset": "0",
        "x": 210,
        "y": 160,
        "wires": [
            [
                "317fcdab.4c33d2"
            ],
            []
        ]
    },
    {
        "id": "5966ae391638c2e2",
        "type": "catch",
        "z": "d5421f8d.f7208",
        "g": "65b23193509b810d",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "afca751308698d24"
            ]
        ]
    },
    {
        "id": "afca751308698d24",
        "type": "template",
        "z": "d5421f8d.f7208",
        "g": "65b23193509b810d",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "996b414e0e42417f"
            ]
        ]
    },
    {
        "id": "588232826fe1cb16",
        "type": "link out",
        "z": "d5421f8d.f7208",
        "g": "65b23193509b810d",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 475,
        "y": 80,
        "wires": []
    },
    {
        "id": "996b414e0e42417f",
        "type": "template",
        "z": "d5421f8d.f7208",
        "g": "65b23193509b810d",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "588232826fe1cb16"
            ]
        ]
    },
    {
        "id": "56e8236b1fb323bc",
        "type": "template",
        "z": "75537afd17de5117",
        "g": "ef69ec82c772cad9",
        "name": "tag",
        "field": "notify.tag",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "picnic",
        "output": "str",
        "x": 1810,
        "y": 540,
        "wires": [
            [
                "64fb1dffb9145f24"
            ]
        ]
    },
    {
        "id": "64fb1dffb9145f24",
        "type": "join",
        "z": "75537afd17de5117",
        "g": "ef69ec82c772cad9",
        "name": "",
        "mode": "custom",
        "build": "merged",
        "property": "notify",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "useparts": true,
        "accumulate": false,
        "timeout": "",
        "count": "4",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 1970,
        "y": 500,
        "wires": [
            [
                "c32738f7b2c8ece5"
            ]
        ]
    },
    {
        "id": "c32738f7b2c8ece5",
        "type": "link out",
        "z": "75537afd17de5117",
        "g": "ef69ec82c772cad9",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "8ed3b0974336e55b",
            "a97f87cfab413716",
            "aeee8468f3d1b7ad"
        ],
        "x": 2055,
        "y": 500,
        "wires": []
    },
    {
        "id": "4b6f2391d1d4dfb7",
        "type": "template",
        "z": "75537afd17de5117",
        "g": "ef69ec82c772cad9",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Picnic",
        "output": "str",
        "x": 1810,
        "y": 460,
        "wires": [
            [
                "64fb1dffb9145f24"
            ]
        ]
    },
    {
        "id": "644d8e4f0164cfb2",
        "type": "template",
        "z": "75537afd17de5117",
        "g": "ef69ec82c772cad9",
        "name": "icon",
        "field": "notify.icon",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "mdi:cart-variant",
        "output": "str",
        "x": 1810,
        "y": 500,
        "wires": [
            [
                "64fb1dffb9145f24"
            ]
        ]
    },
    {
        "id": "77d3e073983d7d6a",
        "type": "template",
        "z": "75537afd17de5117",
        "name": "topic",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "picnic",
        "output": "str",
        "x": 1770,
        "y": 300,
        "wires": [
            [
                "85ec3596d3fd73bd"
            ]
        ]
    },
    {
        "id": "14470f4c11802ac6",
        "type": "template",
        "z": "75537afd17de5117",
        "name": "secondary information",
        "field": "secondary_information",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Tussen {{payload.start.mytime}} en {{payload.end.mytime}} staat Picnic voor de deur",
        "output": "str",
        "x": 1480,
        "y": 260,
        "wires": [
            [
                "41d0860dc5097d38"
            ]
        ]
    },
    {
        "id": "41d0860dc5097d38",
        "type": "template",
        "z": "75537afd17de5117",
        "name": "primary information",
        "field": "primary_information",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Picnic",
        "output": "str",
        "x": 1810,
        "y": 260,
        "wires": [
            [
                "77d3e073983d7d6a"
            ]
        ]
    },
    {
        "id": "85ec3596d3fd73bd",
        "type": "template",
        "z": "75537afd17de5117",
        "name": "notification_level",
        "field": "notification_level",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "info",
        "output": "str",
        "x": 1810,
        "y": 340,
        "wires": [
            [
                "2dbb9134617a5402"
            ]
        ]
    },
    {
        "id": "2dbb9134617a5402",
        "type": "change",
        "z": "75537afd17de5117",
        "name": "set icon",
        "rules": [
            {
                "t": "set",
                "p": "icon",
                "pt": "msg",
                "to": "mdi:cart-variant",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1780,
        "y": 380,
        "wires": [
            [
                "44a15e4a3bd02612"
            ]
        ]
    },
    {
        "id": "b6a5a8fb06e323fe",
        "type": "change",
        "z": "75537afd17de5117",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "date",
                "pt": "msg",
                "to": "picnic_next_delivery_eta_start",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 490,
        "y": 260,
        "wires": [
            [
                "a80e12ba7e06011c"
            ]
        ]
    },
    {
        "id": "20a55376db0798a4",
        "type": "change",
        "z": "75537afd17de5117",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "date",
                "pt": "msg",
                "to": "picnic_next_delivery_eta_end",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 490,
        "y": 320,
        "wires": [
            [
                "fbfa1f7bfdf77af6"
            ]
        ]
    },
    {
        "id": "0c7a8318641234b3",
        "type": "join",
        "z": "75537afd17de5117",
        "name": "",
        "mode": "custom",
        "build": "merged",
        "property": "payload",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": true,
        "timeout": "",
        "count": "2",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 1070,
        "y": 260,
        "wires": [
            [
                "14470f4c11802ac6",
                "7d1ac466c12890de"
            ]
        ]
    },
    {
        "id": "2c31a96255251568",
        "type": "function",
        "z": "75537afd17de5117",
        "name": "Add time objects to payload",
        "func": "msg.payload = {}\nmsg.payload.start = {}\n\nmsg.payload.start.mytime = msg.mytime\nmsg.payload.start.myymd = msg.myymd\n\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 860,
        "y": 260,
        "wires": [
            [
                "0c7a8318641234b3"
            ]
        ]
    },
    {
        "id": "e184490a36dc09a0",
        "type": "function",
        "z": "75537afd17de5117",
        "name": "Add time objects to payload",
        "func": "msg.payload = {}\nmsg.payload.end = {}\n\nmsg.payload.end.mytime = msg.mytime\nmsg.payload.end.myymd = msg.myymd\n\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 860,
        "y": 320,
        "wires": [
            [
                "0c7a8318641234b3"
            ]
        ]
    },
    {
        "id": "c13d90e2be19e58b",
        "type": "comment",
        "z": "75537afd17de5117",
        "name": "picnic delivery notification",
        "info": "",
        "x": 130,
        "y": 20,
        "wires": []
    },
    {
        "id": "44a15e4a3bd02612",
        "type": "link out",
        "z": "75537afd17de5117",
        "name": "notification",
        "mode": "link",
        "links": [
            "60e14e33a793f50d"
        ],
        "x": 2025,
        "y": 380,
        "wires": []
    },
    {
        "id": "d30994bbcaef5d1d",
        "type": "inject",
        "z": "75537afd17de5117",
        "name": "",
        "props": [
            {
                "p": "current_time",
                "v": "",
                "vt": "date"
            }
        ],
        "repeat": "300",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "x": 90,
        "y": 460,
        "wires": [
            [
                "c0aa77e2e5285d4b",
                "8aa5f383b3e9b3bf"
            ]
        ]
    },
    {
        "id": "f25a03c4b847f93d",
        "type": "change",
        "z": "75537afd17de5117",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "date",
                "pt": "msg",
                "to": "picnic_next_delivery_eta_start",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 490,
        "y": 460,
        "wires": [
            [
                "251cb434406b8b6e"
            ]
        ]
    },
    {
        "id": "fdbf3117f80f9c85",
        "type": "change",
        "z": "75537afd17de5117",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "date",
                "pt": "msg",
                "to": "picnic_next_delivery_eta_end",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 490,
        "y": 520,
        "wires": [
            [
                "07d9505862e9b884"
            ]
        ]
    },
    {
        "id": "e86d6d6bfba6bc21",
        "type": "function",
        "z": "75537afd17de5117",
        "name": "Add time objects to payload",
        "func": "msg.payload = {}\nmsg.payload.start = {}\n\nmsg.payload.start.mytime = msg.mytime\nmsg.payload.start.myymd = msg.myymd\nmsg.payload.start.myepoch = msg.myepoch\n\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 860,
        "y": 460,
        "wires": [
            [
                "42cffd05b63d3293"
            ]
        ]
    },
    {
        "id": "5739b7e57c824256",
        "type": "function",
        "z": "75537afd17de5117",
        "name": "Add time objects to payload",
        "func": "msg.payload = {}\nmsg.payload.end = {}\n\nmsg.payload.end.mytime = msg.mytime\nmsg.payload.end.myymd = msg.myymd\n\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 860,
        "y": 520,
        "wires": [
            [
                "42cffd05b63d3293"
            ]
        ]
    },
    {
        "id": "42cffd05b63d3293",
        "type": "join",
        "z": "75537afd17de5117",
        "name": "",
        "mode": "custom",
        "build": "merged",
        "property": "payload",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": true,
        "timeout": "",
        "count": "2",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 1070,
        "y": 460,
        "wires": [
            [
                "4448bf9259b57d76"
            ]
        ]
    },
    {
        "id": "4448bf9259b57d76",
        "type": "switch",
        "z": "75537afd17de5117",
        "name": "",
        "property": "current_time",
        "propertyType": "msg",
        "rules": [
            {
                "t": "gt",
                "v": "myepoch",
                "vt": "msg"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1190,
        "y": 460,
        "wires": [
            [
                "ee81f033c7bc9f0f"
            ]
        ]
    },
    {
        "id": "ee81f033c7bc9f0f",
        "type": "rbe",
        "z": "75537afd17de5117",
        "name": "",
        "func": "rbe",
        "gap": "",
        "start": "",
        "inout": "out",
        "septopics": true,
        "property": "payload",
        "topi": "topic",
        "x": 1310,
        "y": 460,
        "wires": [
            [
                "b3a5d188e65ecafd"
            ]
        ]
    },
    {
        "id": "7d1ac466c12890de",
        "type": "template",
        "z": "75537afd17de5117",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Tussen {{payload.start.mytime}} en {{payload.end.mytime}} staat Picnic voor de deur",
        "output": "str",
        "x": 1520,
        "y": 300,
        "wires": [
            [
                "5cb88a741e06d0c9"
            ]
        ]
    },
    {
        "id": "b3a5d188e65ecafd",
        "type": "template",
        "z": "75537afd17de5117",
        "name": "secondary information",
        "field": "secondary_information",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Picnic staat bijna voor de deur. Tussen {{payload.start.mytime}} en {{payload.end.mytime}}.",
        "output": "str",
        "x": 1480,
        "y": 460,
        "wires": [
            [
                "41d0860dc5097d38"
            ]
        ]
    },
    {
        "id": "a6ef62b554d3aac7",
        "type": "template",
        "z": "75537afd17de5117",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Picnic staat bijna voor de deur. Tussen {{payload.start.mytime}} en {{payload.end.mytime}}.",
        "output": "str",
        "x": 1520,
        "y": 500,
        "wires": [
            [
                "5cb88a741e06d0c9"
            ]
        ]
    },
    {
        "id": "0f24449fc1a8bc78",
        "type": "comment",
        "z": "75537afd17de5117",
        "name": "Send a message once the start time has been known",
        "info": "",
        "x": 230,
        "y": 220,
        "wires": []
    },
    {
        "id": "e9481b54b8db081c",
        "type": "comment",
        "z": "75537afd17de5117",
        "name": "Send a message once the start time is above current time",
        "info": "",
        "x": 250,
        "y": 420,
        "wires": []
    },
    {
        "id": "967b0029e044c941",
        "type": "api-current-state",
        "z": "75537afd17de5117",
        "name": "picnic expected end delivery",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "unknown",
        "halt_if_type": "str",
        "halt_if_compare": "is_not",
        "entity_id": "sensor.picnic_next_delivery_eta_end",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "picnic_next_delivery_eta_end",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 160,
        "y": 320,
        "wires": [
            [
                "20a55376db0798a4"
            ],
            []
        ]
    },
    {
        "id": "c0aa77e2e5285d4b",
        "type": "api-current-state",
        "z": "75537afd17de5117",
        "name": "start datetime next delivery",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "unknown",
        "halt_if_type": "str",
        "halt_if_compare": "is_not",
        "entity_id": "sensor.picnic_next_delivery_eta_start",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "picnic_next_delivery_eta_start",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 280,
        "y": 460,
        "wires": [
            [
                "f25a03c4b847f93d"
            ],
            []
        ]
    },
    {
        "id": "8aa5f383b3e9b3bf",
        "type": "api-current-state",
        "z": "75537afd17de5117",
        "name": "start datetime next delivery",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "unknown",
        "halt_if_type": "str",
        "halt_if_compare": "is_not",
        "entity_id": "sensor.picnic_next_delivery_eta_end",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "picnic_next_delivery_eta_end",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 280,
        "y": 520,
        "wires": [
            [
                "fdbf3117f80f9c85"
            ],
            []
        ]
    },
    {
        "id": "c894705717c745bf",
        "type": "server-state-changed",
        "z": "75537afd17de5117",
        "name": "start datetime next delivery",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 1,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "sensor.picnic_next_delivery_eta_start"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": true,
        "stateType": "str",
        "ifState": "",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "picnic_next_delivery_eta_start",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            }
        ],
        "x": 150,
        "y": 260,
        "wires": [
            [
                "b6a5a8fb06e323fe",
                "967b0029e044c941"
            ]
        ]
    },
    {
        "id": "a80e12ba7e06011c",
        "type": "simpletime",
        "z": "75537afd17de5117",
        "name": "",
        "mydate": true,
        "myymd": true,
        "myyear": true,
        "mymonth": true,
        "mymonthn": true,
        "mymonthf": true,
        "mydom": true,
        "mydoy": true,
        "myday": true,
        "mydayf": true,
        "myhourpm": true,
        "myhour": true,
        "mytime": true,
        "mytimes": true,
        "myminute": true,
        "myminutes": true,
        "mysecond": true,
        "mymillis": true,
        "myepoch": true,
        "myrawdate": true,
        "mypm": true,
        "x": 650,
        "y": 260,
        "wires": [
            [
                "2c31a96255251568"
            ]
        ]
    },
    {
        "id": "fbfa1f7bfdf77af6",
        "type": "simpletime",
        "z": "75537afd17de5117",
        "name": "",
        "mydate": true,
        "myymd": true,
        "myyear": true,
        "mymonth": true,
        "mymonthn": true,
        "mymonthf": true,
        "mydom": true,
        "mydoy": true,
        "myday": true,
        "mydayf": true,
        "myhourpm": true,
        "myhour": true,
        "mytime": true,
        "mytimes": true,
        "myminute": true,
        "myminutes": true,
        "mysecond": true,
        "mymillis": true,
        "myepoch": true,
        "myrawdate": true,
        "mypm": true,
        "x": 650,
        "y": 320,
        "wires": [
            [
                "e184490a36dc09a0"
            ]
        ]
    },
    {
        "id": "251cb434406b8b6e",
        "type": "simpletime",
        "z": "75537afd17de5117",
        "name": "",
        "mydate": true,
        "myymd": true,
        "myyear": true,
        "mymonth": true,
        "mymonthn": true,
        "mymonthf": true,
        "mydom": true,
        "mydoy": true,
        "myday": true,
        "mydayf": true,
        "myhourpm": true,
        "myhour": true,
        "mytime": true,
        "mytimes": true,
        "myminute": true,
        "myminutes": true,
        "mysecond": true,
        "mymillis": true,
        "myepoch": true,
        "myrawdate": true,
        "mypm": true,
        "x": 650,
        "y": 460,
        "wires": [
            [
                "e86d6d6bfba6bc21"
            ]
        ]
    },
    {
        "id": "07d9505862e9b884",
        "type": "simpletime",
        "z": "75537afd17de5117",
        "name": "",
        "mydate": true,
        "myymd": true,
        "myyear": true,
        "mymonth": true,
        "mymonthn": true,
        "mymonthf": true,
        "mydom": true,
        "mydoy": true,
        "myday": true,
        "mydayf": true,
        "myhourpm": true,
        "myhour": true,
        "mytime": true,
        "mytimes": true,
        "myminute": true,
        "myminutes": true,
        "mysecond": true,
        "mymillis": true,
        "myepoch": true,
        "myrawdate": true,
        "mypm": true,
        "x": 650,
        "y": 520,
        "wires": [
            [
                "5739b7e57c824256"
            ]
        ]
    },
    {
        "id": "08e87e585225cf76",
        "type": "catch",
        "z": "75537afd17de5117",
        "g": "8b3123563ca26288",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "850de025f821d110"
            ]
        ]
    },
    {
        "id": "850de025f821d110",
        "type": "template",
        "z": "75537afd17de5117",
        "g": "8b3123563ca26288",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "34627360e59b2422"
            ]
        ]
    },
    {
        "id": "a1d22443632b6c95",
        "type": "link out",
        "z": "75537afd17de5117",
        "g": "8b3123563ca26288",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 475,
        "y": 80,
        "wires": []
    },
    {
        "id": "34627360e59b2422",
        "type": "template",
        "z": "75537afd17de5117",
        "g": "8b3123563ca26288",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "a1d22443632b6c95"
            ]
        ]
    },
    {
        "id": "0e310c70840e8224",
        "type": "comment",
        "z": "535c98d1d92579b6",
        "name": "Notification sensors",
        "info": "",
        "x": 110,
        "y": 20,
        "wires": []
    },
    {
        "id": "d284fbdad343c385",
        "type": "change",
        "z": "535c98d1d92579b6",
        "name": "change queueCount to prevent loop",
        "rules": [
            {
                "t": "set",
                "p": "queueCount",
                "pt": "msg",
                "to": "queueCount-disabled",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1120,
        "y": 400,
        "wires": [
            [
                "4a33ba091890f26c"
            ]
        ]
    },
    {
        "id": "88f82f16d0ecc697",
        "type": "switch",
        "z": "535c98d1d92579b6",
        "name": "queueCount is manual",
        "property": "queueCount",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "manual",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1080,
        "y": 480,
        "wires": [
            [
                "08621321cbd341f3"
            ]
        ]
    },
    {
        "id": "cf3dcb6dddbc3023",
        "type": "switch",
        "z": "535c98d1d92579b6",
        "name": "queueCount = 0",
        "property": "_queueCount",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1320,
        "y": 320,
        "wires": [
            [
                "eb4339876a876c95"
            ]
        ]
    },
    {
        "id": "eb4339876a876c95",
        "type": "change",
        "z": "535c98d1d92579b6",
        "name": "turn off",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "off",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1470,
        "y": 320,
        "wires": [
            [
                "60dd6681f0c203d8"
            ]
        ]
    },
    {
        "id": "e190582e7eecb772",
        "type": "change",
        "z": "535c98d1d92579b6",
        "name": "send queueCount",
        "rules": [
            {
                "t": "set",
                "p": "queueCount",
                "pt": "msg",
                "to": "manual",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 610,
        "y": 360,
        "wires": [
            [
                "4f661232083706f4"
            ]
        ]
    },
    {
        "id": "08621321cbd341f3",
        "type": "change",
        "z": "535c98d1d92579b6",
        "name": "trigger next notification",
        "rules": [
            {
                "t": "set",
                "p": "trigger",
                "pt": "msg",
                "to": "",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1080,
        "y": 440,
        "wires": [
            [
                "d284fbdad343c385"
            ]
        ]
    },
    {
        "id": "c7424ac5390d672f",
        "type": "switch",
        "z": "535c98d1d92579b6",
        "name": "queueCount manual or not",
        "property": "queueCount",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "manual",
                "vt": "str"
            },
            {
                "t": "neq",
                "v": "manual",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1100,
        "y": 360,
        "wires": [
            [
                "cf3dcb6dddbc3023"
            ],
            [
                "f828d6073d42e100"
            ]
        ]
    },
    {
        "id": "60e14e33a793f50d",
        "type": "link in",
        "z": "535c98d1d92579b6",
        "name": "notification_sensors",
        "links": [
            "178e42db86a628e8",
            "4705f09e38185adf",
            "8474d1caa427cb1a",
            "9fd7a6afaf90435a",
            "afc68deb5ab5e4be",
            "dbd6c4b98cdaf5bf",
            "a9aa3ff08dd7532c"
        ],
        "x": 225,
        "y": 260,
        "wires": [
            [
                "1dfbe5c40868f075"
            ]
        ]
    },
    {
        "id": "1dfbe5c40868f075",
        "type": "change",
        "z": "535c98d1d92579b6",
        "name": "turn on",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "on",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 340,
        "y": 260,
        "wires": [
            [
                "b47b5b571e70f987"
            ]
        ]
    },
    {
        "id": "b47b5b571e70f987",
        "type": "switch",
        "z": "535c98d1d92579b6",
        "name": "notification level",
        "property": "notification_level",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "info",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "warning",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "error",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 3,
        "x": 500,
        "y": 260,
        "wires": [
            [
                "50241184111a2c70"
            ],
            [
                "d562f0f246daa67a"
            ],
            [
                "deabe55a2db7bf66"
            ]
        ]
    },
    {
        "id": "20e547681f231053",
        "type": "change",
        "z": "535c98d1d92579b6",
        "name": "change queueCount to prevent loop",
        "rules": [
            {
                "t": "set",
                "p": "queueCount",
                "pt": "msg",
                "to": "queueCount-disabled",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1120,
        "y": 640,
        "wires": [
            [
                "301e94d904b9a128"
            ]
        ]
    },
    {
        "id": "efbc738612c5af68",
        "type": "switch",
        "z": "535c98d1d92579b6",
        "name": "queueCount is manual",
        "property": "queueCount",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "manual",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1080,
        "y": 720,
        "wires": [
            [
                "7ebeace41d10ab2c"
            ]
        ]
    },
    {
        "id": "bbbb44ecec657829",
        "type": "switch",
        "z": "535c98d1d92579b6",
        "name": "queueCount = 0",
        "property": "_queueCount",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1320,
        "y": 560,
        "wires": [
            [
                "de6a06807eba37cd"
            ]
        ]
    },
    {
        "id": "de6a06807eba37cd",
        "type": "change",
        "z": "535c98d1d92579b6",
        "name": "turn off",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "off",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1470,
        "y": 560,
        "wires": [
            [
                "528f1050a96e3ee8"
            ]
        ]
    },
    {
        "id": "736105227bd073f9",
        "type": "change",
        "z": "535c98d1d92579b6",
        "name": "send queueCount",
        "rules": [
            {
                "t": "set",
                "p": "queueCount",
                "pt": "msg",
                "to": "manual",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 610,
        "y": 600,
        "wires": [
            [
                "318426830832aad5"
            ]
        ]
    },
    {
        "id": "7ebeace41d10ab2c",
        "type": "change",
        "z": "535c98d1d92579b6",
        "name": "trigger next notification",
        "rules": [
            {
                "t": "set",
                "p": "trigger",
                "pt": "msg",
                "to": "",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1080,
        "y": 680,
        "wires": [
            [
                "20e547681f231053"
            ]
        ]
    },
    {
        "id": "e411b0ba582c91c2",
        "type": "switch",
        "z": "535c98d1d92579b6",
        "name": "queueCount manual or not",
        "property": "queueCount",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "manual",
                "vt": "str"
            },
            {
                "t": "neq",
                "v": "manual",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1100,
        "y": 600,
        "wires": [
            [
                "bbbb44ecec657829"
            ],
            [
                "91eedee11e4bcc9a"
            ]
        ]
    },
    {
        "id": "4c54182aa65282bd",
        "type": "change",
        "z": "535c98d1d92579b6",
        "name": "change queueCount to prevent loop",
        "rules": [
            {
                "t": "set",
                "p": "queueCount",
                "pt": "msg",
                "to": "queueCount-disabled",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1120,
        "y": 880,
        "wires": [
            [
                "b9e7aa8885c6c8ee"
            ]
        ]
    },
    {
        "id": "78188ae45f430dd6",
        "type": "switch",
        "z": "535c98d1d92579b6",
        "name": "queueCount is manual",
        "property": "queueCount",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "manual",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1080,
        "y": 960,
        "wires": [
            [
                "145923d276293382"
            ]
        ]
    },
    {
        "id": "bc4a54588c595f3f",
        "type": "switch",
        "z": "535c98d1d92579b6",
        "name": "queueCount = 0",
        "property": "_queueCount",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1320,
        "y": 800,
        "wires": [
            [
                "c9b99378a043955e"
            ]
        ]
    },
    {
        "id": "c9b99378a043955e",
        "type": "change",
        "z": "535c98d1d92579b6",
        "name": "turn off",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "off",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1470,
        "y": 800,
        "wires": [
            [
                "888146b5bc3de9b0"
            ]
        ]
    },
    {
        "id": "0ad5ce9b55391b05",
        "type": "change",
        "z": "535c98d1d92579b6",
        "name": "send queueCount",
        "rules": [
            {
                "t": "set",
                "p": "queueCount",
                "pt": "msg",
                "to": "manual",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 610,
        "y": 840,
        "wires": [
            [
                "f772e0315cdeaa39"
            ]
        ]
    },
    {
        "id": "145923d276293382",
        "type": "change",
        "z": "535c98d1d92579b6",
        "name": "trigger next notification",
        "rules": [
            {
                "t": "set",
                "p": "trigger",
                "pt": "msg",
                "to": "",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1080,
        "y": 920,
        "wires": [
            [
                "4c54182aa65282bd"
            ]
        ]
    },
    {
        "id": "cc525d2002136a4c",
        "type": "switch",
        "z": "535c98d1d92579b6",
        "name": "queueCount manual or not",
        "property": "queueCount",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "manual",
                "vt": "str"
            },
            {
                "t": "neq",
                "v": "manual",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1100,
        "y": 840,
        "wires": [
            [
                "bc4a54588c595f3f"
            ],
            [
                "33214ff962dae990"
            ]
        ]
    },
    {
        "id": "33214ff962dae990",
        "type": "switch",
        "z": "535c98d1d92579b6",
        "name": "has icon or not",
        "property": "icon",
        "propertyType": "msg",
        "rules": [
            {
                "t": "else"
            },
            {
                "t": "null"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1500,
        "y": 840,
        "wires": [
            [
                "d50ea9d8ab173da2"
            ],
            [
                "af174ca359ccb0a2"
            ]
        ]
    },
    {
        "id": "af174ca359ccb0a2",
        "type": "change",
        "z": "535c98d1d92579b6",
        "name": "set icon",
        "rules": [
            {
                "t": "set",
                "p": "icon",
                "pt": "msg",
                "to": "mdi:alert-circle-outline",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1660,
        "y": 860,
        "wires": [
            [
                "d50ea9d8ab173da2"
            ]
        ]
    },
    {
        "id": "d50ea9d8ab173da2",
        "type": "switch",
        "z": "535c98d1d92579b6",
        "name": "has icon_color or not",
        "property": "icon_color",
        "propertyType": "msg",
        "rules": [
            {
                "t": "else"
            },
            {
                "t": "null"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1860,
        "y": 840,
        "wires": [
            [
                "888146b5bc3de9b0"
            ],
            [
                "0c7e8bf8978de66d"
            ]
        ]
    },
    {
        "id": "0c7e8bf8978de66d",
        "type": "change",
        "z": "535c98d1d92579b6",
        "name": "set color",
        "rules": [
            {
                "t": "set",
                "p": "icon_color",
                "pt": "msg",
                "to": "red",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2040,
        "y": 860,
        "wires": [
            [
                "888146b5bc3de9b0"
            ]
        ]
    },
    {
        "id": "91eedee11e4bcc9a",
        "type": "switch",
        "z": "535c98d1d92579b6",
        "name": "has icon or not",
        "property": "icon",
        "propertyType": "msg",
        "rules": [
            {
                "t": "else"
            },
            {
                "t": "null"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1500,
        "y": 600,
        "wires": [
            [
                "65685b25d00a4e03"
            ],
            [
                "9458cfbde59e2711"
            ]
        ]
    },
    {
        "id": "9458cfbde59e2711",
        "type": "change",
        "z": "535c98d1d92579b6",
        "name": "set icon",
        "rules": [
            {
                "t": "set",
                "p": "icon",
                "pt": "msg",
                "to": "mdi:alert-circle-outline",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1660,
        "y": 620,
        "wires": [
            [
                "65685b25d00a4e03"
            ]
        ]
    },
    {
        "id": "65685b25d00a4e03",
        "type": "switch",
        "z": "535c98d1d92579b6",
        "name": "has icon_color or not",
        "property": "icon_color",
        "propertyType": "msg",
        "rules": [
            {
                "t": "else"
            },
            {
                "t": "null"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1860,
        "y": 600,
        "wires": [
            [
                "528f1050a96e3ee8"
            ],
            [
                "07cfc1a9e4e1c040"
            ]
        ]
    },
    {
        "id": "07cfc1a9e4e1c040",
        "type": "change",
        "z": "535c98d1d92579b6",
        "name": "set color",
        "rules": [
            {
                "t": "set",
                "p": "icon_color",
                "pt": "msg",
                "to": "orange",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2040,
        "y": 620,
        "wires": [
            [
                "528f1050a96e3ee8"
            ]
        ]
    },
    {
        "id": "f828d6073d42e100",
        "type": "switch",
        "z": "535c98d1d92579b6",
        "name": "has icon or not",
        "property": "icon",
        "propertyType": "msg",
        "rules": [
            {
                "t": "else"
            },
            {
                "t": "null"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1500,
        "y": 360,
        "wires": [
            [
                "feaf1ae10c82af9b"
            ],
            [
                "c7dbb5a3de1d13d0"
            ]
        ]
    },
    {
        "id": "c7dbb5a3de1d13d0",
        "type": "change",
        "z": "535c98d1d92579b6",
        "name": "set icon",
        "rules": [
            {
                "t": "set",
                "p": "icon",
                "pt": "msg",
                "to": "mdi:alert-circle-outline",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1660,
        "y": 380,
        "wires": [
            [
                "feaf1ae10c82af9b"
            ]
        ]
    },
    {
        "id": "feaf1ae10c82af9b",
        "type": "switch",
        "z": "535c98d1d92579b6",
        "name": "has icon_color or not",
        "property": "icon_color",
        "propertyType": "msg",
        "rules": [
            {
                "t": "else"
            },
            {
                "t": "null"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1860,
        "y": 360,
        "wires": [
            [
                "60dd6681f0c203d8"
            ],
            [
                "7793f5587485f10d"
            ]
        ]
    },
    {
        "id": "7793f5587485f10d",
        "type": "change",
        "z": "535c98d1d92579b6",
        "name": "set color",
        "rules": [
            {
                "t": "set",
                "p": "icon_color",
                "pt": "msg",
                "to": "red",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2040,
        "y": 380,
        "wires": [
            [
                "60dd6681f0c203d8"
            ]
        ]
    },
    {
        "id": "528f1050a96e3ee8",
        "type": "ha-binary-sensor",
        "z": "535c98d1d92579b6",
        "name": "notification_level_warning",
        "entityConfig": "fed106bf198ad2ea",
        "version": 0,
        "state": "payload",
        "stateType": "msg",
        "attributes": [
            {
                "property": "primary_information",
                "value": "primary_information",
                "valueType": "msg"
            },
            {
                "property": "secondary_information",
                "value": "secondary_information",
                "valueType": "msg"
            },
            {
                "property": "topic",
                "value": "topic",
                "valueType": "msg"
            },
            {
                "property": "icon",
                "value": "icon",
                "valueType": "msg"
            },
            {
                "property": "icon_color",
                "value": "icon_color",
                "valueType": "msg"
            },
            {
                "property": "notification_level",
                "value": "notification_level",
                "valueType": "msg"
            }
        ],
        "inputOverride": "allow",
        "outputProperties": [],
        "x": 2230,
        "y": 560,
        "wires": [
            []
        ]
    },
    {
        "id": "888146b5bc3de9b0",
        "type": "ha-binary-sensor",
        "z": "535c98d1d92579b6",
        "name": "notification_level_error",
        "entityConfig": "d2b97f89ed6763e5",
        "version": 0,
        "state": "payload",
        "stateType": "msg",
        "attributes": [
            {
                "property": "primary_information",
                "value": "primary_information",
                "valueType": "msg"
            },
            {
                "property": "secondary_information",
                "value": "secondary_information",
                "valueType": "msg"
            },
            {
                "property": "topic",
                "value": "topic",
                "valueType": "msg"
            },
            {
                "property": "icon",
                "value": "icon",
                "valueType": "msg"
            },
            {
                "property": "icon_color",
                "value": "icon_color",
                "valueType": "msg"
            },
            {
                "property": "notification_level",
                "value": "notification_level",
                "valueType": "msg"
            }
        ],
        "inputOverride": "allow",
        "outputProperties": [],
        "x": 2220,
        "y": 800,
        "wires": [
            []
        ]
    },
    {
        "id": "60dd6681f0c203d8",
        "type": "ha-binary-sensor",
        "z": "535c98d1d92579b6",
        "name": "notification_level_info",
        "entityConfig": "cab73c1a38f001be",
        "version": 0,
        "state": "payload",
        "stateType": "msg",
        "attributes": [
            {
                "property": "primary_information",
                "value": "primary_information",
                "valueType": "msg"
            },
            {
                "property": "secondary_information",
                "value": "secondary_information",
                "valueType": "msg"
            },
            {
                "property": "topic",
                "value": "topic",
                "valueType": "msg"
            },
            {
                "property": "icon",
                "value": "mdi:information-outline",
                "valueType": "str"
            },
            {
                "property": "icon_color",
                "value": "yellow",
                "valueType": "str"
            },
            {
                "property": "notification_level",
                "value": "notification_level",
                "valueType": "msg"
            }
        ],
        "inputOverride": "allow",
        "outputProperties": [],
        "x": 2220,
        "y": 320,
        "wires": [
            []
        ]
    },
    {
        "id": "90472c432f08b2dc",
        "type": "ha-button",
        "z": "535c98d1d92579b6",
        "name": "notification_level_info_turn_off",
        "version": 0,
        "debugenabled": false,
        "outputs": 1,
        "entityConfig": "61b96249023198be",
        "outputProperties": [],
        "x": 340,
        "y": 360,
        "wires": [
            [
                "e190582e7eecb772"
            ]
        ]
    },
    {
        "id": "6cb0684a8f3589cf",
        "type": "ha-button",
        "z": "535c98d1d92579b6",
        "name": "notification_level_warning_turn_off",
        "version": 0,
        "debugenabled": false,
        "outputs": 1,
        "entityConfig": "ce2ff010477149a7",
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "off",
                "valueType": "str"
            }
        ],
        "x": 360,
        "y": 600,
        "wires": [
            [
                "736105227bd073f9"
            ]
        ]
    },
    {
        "id": "f9e253cfd747a61a",
        "type": "ha-button",
        "z": "535c98d1d92579b6",
        "name": "notification_level_error_turn_off",
        "version": 0,
        "debugenabled": false,
        "outputs": 1,
        "entityConfig": "287aaae77d488c09",
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "off",
                "valueType": "str"
            }
        ],
        "x": 350,
        "y": 840,
        "wires": [
            [
                "0ad5ce9b55391b05"
            ]
        ]
    },
    {
        "id": "549544fa83d3a57f",
        "type": "ha-button",
        "z": "535c98d1d92579b6",
        "name": "notification_level_clear_all",
        "version": 0,
        "debugenabled": false,
        "outputs": 1,
        "entityConfig": "3cbf2c3454c3795d",
        "outputProperties": [],
        "x": 1290,
        "y": 240,
        "wires": [
            [
                "eb4339876a876c95",
                "de6a06807eba37cd",
                "c9b99378a043955e"
            ]
        ]
    },
    {
        "id": "4f661232083706f4",
        "type": "simple-queue",
        "z": "535c98d1d92579b6",
        "name": "",
        "firstMessageBypass": true,
        "bypassInterval": "0",
        "x": 850,
        "y": 320,
        "wires": [
            [
                "88f82f16d0ecc697",
                "c7424ac5390d672f"
            ]
        ]
    },
    {
        "id": "318426830832aad5",
        "type": "simple-queue",
        "z": "535c98d1d92579b6",
        "name": "",
        "firstMessageBypass": true,
        "bypassInterval": "0",
        "x": 850,
        "y": 560,
        "wires": [
            [
                "efbc738612c5af68",
                "e411b0ba582c91c2"
            ]
        ]
    },
    {
        "id": "f772e0315cdeaa39",
        "type": "simple-queue",
        "z": "535c98d1d92579b6",
        "name": "",
        "firstMessageBypass": true,
        "bypassInterval": "0",
        "x": 850,
        "y": 800,
        "wires": [
            [
                "78188ae45f430dd6",
                "cc525d2002136a4c"
            ]
        ]
    },
    {
        "id": "d361893bd7868273",
        "type": "catch",
        "z": "535c98d1d92579b6",
        "g": "54fbd89aeb283eab",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "d50a3b33f5ac5fbe"
            ]
        ]
    },
    {
        "id": "d50a3b33f5ac5fbe",
        "type": "template",
        "z": "535c98d1d92579b6",
        "g": "54fbd89aeb283eab",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "3a705fecfc60ec68"
            ]
        ]
    },
    {
        "id": "dac0d4dda81abc95",
        "type": "link out",
        "z": "535c98d1d92579b6",
        "g": "54fbd89aeb283eab",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 475,
        "y": 80,
        "wires": []
    },
    {
        "id": "3a705fecfc60ec68",
        "type": "template",
        "z": "535c98d1d92579b6",
        "g": "54fbd89aeb283eab",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "dac0d4dda81abc95"
            ]
        ]
    },
    {
        "id": "26762f8cca83bccc",
        "type": "comment",
        "z": "1dfb7e055134adc8",
        "name": "A sensor that counts how many notifications sensors is turned on",
        "info": "",
        "x": 250,
        "y": 20,
        "wires": []
    },
    {
        "id": "ae54d9f76e9004e0",
        "type": "server-state-changed",
        "z": "1dfb7e055134adc8",
        "name": "a notification level sensor state change",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 1,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [],
            "substring": [],
            "regex": [
                "binary_sensor.notification_level_"
            ]
        },
        "outputInitially": true,
        "stateType": "str",
        "ifState": "",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": false,
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [],
        "x": 170,
        "y": 160,
        "wires": [
            [
                "5dd6f309f6f3b011"
            ]
        ]
    },
    {
        "id": "5dd6f309f6f3b011",
        "type": "ha-get-entities",
        "z": "1dfb7e055134adc8",
        "name": "find binary_sensor.notification_level_ with state on",
        "server": "4ba92433.2478cc",
        "version": 1,
        "rules": [
            {
                "property": "entity_id",
                "logic": "starts_with",
                "value": "binary_sensor.notification_level_",
                "valueType": "str"
            },
            {
                "property": "state",
                "logic": "is",
                "value": "on",
                "valueType": "str"
            }
        ],
        "outputType": "count",
        "outputEmptyResults": false,
        "outputLocationType": "msg",
        "outputLocation": "payload",
        "outputResultsCount": 1,
        "x": 530,
        "y": 160,
        "wires": [
            [
                "0ff060b82e9de426"
            ]
        ]
    },
    {
        "id": "0ff060b82e9de426",
        "type": "ha-sensor",
        "z": "1dfb7e055134adc8",
        "name": "notification_on_counter",
        "entityConfig": "df0e222b4bf2971f",
        "version": 0,
        "state": "payload",
        "stateType": "msg",
        "attributes": [],
        "inputOverride": "allow",
        "outputProperties": [],
        "x": 850,
        "y": 160,
        "wires": [
            []
        ]
    },
    {
        "id": "230055356a2e27e3",
        "type": "catch",
        "z": "1dfb7e055134adc8",
        "g": "28814c2324702a49",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "c6c55fc30c7db0f1"
            ]
        ]
    },
    {
        "id": "c6c55fc30c7db0f1",
        "type": "template",
        "z": "1dfb7e055134adc8",
        "g": "28814c2324702a49",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "d9db1905747d0301"
            ]
        ]
    },
    {
        "id": "c84220140a8c71a3",
        "type": "link out",
        "z": "1dfb7e055134adc8",
        "g": "28814c2324702a49",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 475,
        "y": 80,
        "wires": []
    },
    {
        "id": "d9db1905747d0301",
        "type": "template",
        "z": "1dfb7e055134adc8",
        "g": "28814c2324702a49",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "c84220140a8c71a3"
            ]
        ]
    },
    {
        "id": "5273660ff2a42a63",
        "type": "template",
        "z": "b1b994b3d43d6aad",
        "g": "9d6561fb99238a4d",
        "name": "icon",
        "field": "notify.icon",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "",
        "output": "str",
        "x": 1310,
        "y": 340,
        "wires": [
            [
                "6cdaa7e9c55994da"
            ]
        ]
    },
    {
        "id": "194df75621104155",
        "type": "template",
        "z": "b1b994b3d43d6aad",
        "g": "9d6561fb99238a4d",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Stookalert",
        "output": "str",
        "x": 1310,
        "y": 260,
        "wires": [
            [
                "6cdaa7e9c55994da"
            ]
        ]
    },
    {
        "id": "c6bc1abd0ea4d3e7",
        "type": "link out",
        "z": "b1b994b3d43d6aad",
        "g": "9d6561fb99238a4d",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "8ed3b0974336e55b",
            "aeee8468f3d1b7ad"
        ],
        "x": 1565,
        "y": 300,
        "wires": []
    },
    {
        "id": "6cdaa7e9c55994da",
        "type": "join",
        "z": "b1b994b3d43d6aad",
        "g": "9d6561fb99238a4d",
        "name": "",
        "mode": "custom",
        "build": "merged",
        "property": "notify",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": false,
        "timeout": "",
        "count": "4",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 1470,
        "y": 300,
        "wires": [
            [
                "c6bc1abd0ea4d3e7"
            ]
        ]
    },
    {
        "id": "48b102061eef4776",
        "type": "template",
        "z": "b1b994b3d43d6aad",
        "g": "9d6561fb99238a4d",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "{{secondary_information}}",
        "output": "str",
        "x": 1320,
        "y": 300,
        "wires": [
            [
                "6cdaa7e9c55994da"
            ]
        ]
    },
    {
        "id": "ad8e3a3f408efd86",
        "type": "template",
        "z": "b1b994b3d43d6aad",
        "g": "9d6561fb99238a4d",
        "name": "notification id",
        "field": "notify.notification_id",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "stookalert",
        "output": "str",
        "x": 1330,
        "y": 380,
        "wires": [
            [
                "6cdaa7e9c55994da"
            ]
        ]
    },
    {
        "id": "277a8323827b9390",
        "type": "comment",
        "z": "b1b994b3d43d6aad",
        "name": "send notification when stookalert is on",
        "info": "",
        "x": 170,
        "y": 20,
        "wires": []
    },
    {
        "id": "4706c9b9c33456ec",
        "type": "template",
        "z": "b1b994b3d43d6aad",
        "name": "secondary information",
        "field": "secondary_information",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Op {{{myymd}}} om {{{mytime}}} heeft het RIVM een stookalert afgegeven, het is raadzaam niet de houtkachel te gebruiken",
        "output": "str",
        "x": 460,
        "y": 160,
        "wires": [
            [
                "f04dc28db48fa2c4"
            ]
        ]
    },
    {
        "id": "f04dc28db48fa2c4",
        "type": "template",
        "z": "b1b994b3d43d6aad",
        "name": "primary information",
        "field": "primary_information",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Let op, stookalert!",
        "output": "str",
        "x": 670,
        "y": 160,
        "wires": [
            [
                "84c20f3447f449ed"
            ]
        ]
    },
    {
        "id": "84c20f3447f449ed",
        "type": "template",
        "z": "b1b994b3d43d6aad",
        "name": "topic",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "safety",
        "output": "str",
        "x": 830,
        "y": 160,
        "wires": [
            [
                "96a9d68a091fc4a5"
            ]
        ]
    },
    {
        "id": "96a9d68a091fc4a5",
        "type": "template",
        "z": "b1b994b3d43d6aad",
        "name": "notification_level",
        "field": "notification_level",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "warning",
        "output": "str",
        "x": 990,
        "y": 160,
        "wires": [
            [
                "731568e6adddd397"
            ]
        ]
    },
    {
        "id": "8474d1caa427cb1a",
        "type": "link out",
        "z": "b1b994b3d43d6aad",
        "name": "notification",
        "mode": "link",
        "links": [
            "60e14e33a793f50d"
        ],
        "x": 1565,
        "y": 160,
        "wires": []
    },
    {
        "id": "731568e6adddd397",
        "type": "change",
        "z": "b1b994b3d43d6aad",
        "name": "set icon",
        "rules": [
            {
                "t": "set",
                "p": "icon",
                "pt": "msg",
                "to": "mdi:fireplace",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1160,
        "y": 160,
        "wires": [
            [
                "8474d1caa427cb1a",
                "a087dd5873c41eaf"
            ]
        ]
    },
    {
        "id": "3c05c027bd8c6081",
        "type": "api-call-service",
        "z": "b1b994b3d43d6aad",
        "name": " dismiss in app notification",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "persistent_notification.dismiss",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [],
        "labelId": [],
        "data": "{\"notification_id\":\"stookalert\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "persistent_notification",
        "service": "dismiss",
        "x": 310,
        "y": 220,
        "wires": [
            []
        ]
    },
    {
        "id": "e7b37a2bf7a7f071",
        "type": "server-state-changed",
        "z": "b1b994b3d43d6aad",
        "name": "stookalert is on",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "binary_sensor.stookalert_gelderland"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": true,
        "stateType": "str",
        "ifState": "on",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": false,
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [],
        "x": 100,
        "y": 160,
        "wires": [
            [
                "015fa374fab07308"
            ],
            [
                "3c05c027bd8c6081"
            ]
        ]
    },
    {
        "id": "015fa374fab07308",
        "type": "simpletime",
        "z": "b1b994b3d43d6aad",
        "name": "",
        "mydate": false,
        "myymd": true,
        "myyear": false,
        "mymonth": false,
        "mymonthn": false,
        "mydom": false,
        "mydoy": false,
        "myday": false,
        "myhourpm": false,
        "myhour": false,
        "mytime": true,
        "mytimes": false,
        "myminute": false,
        "myminutes": false,
        "mysecond": false,
        "mymillis": false,
        "myepoch": false,
        "myrawdate": false,
        "mypm": false,
        "x": 270,
        "y": 160,
        "wires": [
            [
                "4706c9b9c33456ec"
            ]
        ]
    },
    {
        "id": "ad160909a47f0ea8",
        "type": "catch",
        "z": "b1b994b3d43d6aad",
        "g": "7371831af6e7c577",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "ce1eb14a06a13ce4"
            ]
        ]
    },
    {
        "id": "ce1eb14a06a13ce4",
        "type": "template",
        "z": "b1b994b3d43d6aad",
        "g": "7371831af6e7c577",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "da4b749474868319"
            ]
        ]
    },
    {
        "id": "bf3806a421c7b15a",
        "type": "link out",
        "z": "b1b994b3d43d6aad",
        "g": "7371831af6e7c577",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 475,
        "y": 80,
        "wires": []
    },
    {
        "id": "da4b749474868319",
        "type": "template",
        "z": "b1b994b3d43d6aad",
        "g": "7371831af6e7c577",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "bf3806a421c7b15a"
            ]
        ]
    },
    {
        "id": "e16a49a555dc3139",
        "type": "template",
        "z": "a8d8484165225699",
        "g": "537179d37e7389e5",
        "name": "notification id",
        "field": "notify.notification_id",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "updates",
        "output": "str",
        "x": 1370,
        "y": 400,
        "wires": [
            [
                "deeacc0728909577"
            ]
        ]
    },
    {
        "id": "daef6aa88b93b329",
        "type": "template",
        "z": "a8d8484165225699",
        "g": "537179d37e7389e5",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "{{secondary_information}}",
        "output": "str",
        "x": 1360,
        "y": 320,
        "wires": [
            [
                "deeacc0728909577"
            ]
        ]
    },
    {
        "id": "deeacc0728909577",
        "type": "join",
        "z": "a8d8484165225699",
        "g": "537179d37e7389e5",
        "name": "",
        "mode": "custom",
        "build": "merged",
        "property": "notify",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": false,
        "timeout": "",
        "count": "4",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 1510,
        "y": 320,
        "wires": [
            [
                "58ce3486fc8107bd"
            ]
        ]
    },
    {
        "id": "58ce3486fc8107bd",
        "type": "link out",
        "z": "a8d8484165225699",
        "g": "537179d37e7389e5",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "8ed3b0974336e55b"
        ],
        "x": 1605,
        "y": 320,
        "wires": []
    },
    {
        "id": "e142bb411f990e05",
        "type": "template",
        "z": "a8d8484165225699",
        "g": "537179d37e7389e5",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Update",
        "output": "str",
        "x": 1350,
        "y": 280,
        "wires": [
            [
                "deeacc0728909577"
            ]
        ]
    },
    {
        "id": "2e707984219ae3a9",
        "type": "template",
        "z": "a8d8484165225699",
        "g": "537179d37e7389e5",
        "name": "icon",
        "field": "notify.icon",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "{{notify.icon}}",
        "output": "str",
        "x": 1350,
        "y": 360,
        "wires": [
            [
                "deeacc0728909577"
            ]
        ]
    },
    {
        "id": "dd30d4cd216c0f2b",
        "type": "comment",
        "z": "a8d8484165225699",
        "name": "send notification when a update is available",
        "info": "",
        "x": 180,
        "y": 20,
        "wires": []
    },
    {
        "id": "ca77f18341a43806",
        "type": "template",
        "z": "a8d8484165225699",
        "name": "secondary information",
        "field": "secondary_information",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Er is {{payload}} beschikbaar, check updates onder de settings tab om deze entiteit te updaten. ",
        "output": "str",
        "x": 460,
        "y": 200,
        "wires": [
            [
                "9f54688e36518032"
            ]
        ]
    },
    {
        "id": "9f54688e36518032",
        "type": "template",
        "z": "a8d8484165225699",
        "name": "primary information",
        "field": "primary_information",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Update entiteit beschikbaar",
        "output": "str",
        "x": 670,
        "y": 180,
        "wires": [
            [
                "baa41c19eb148fa4"
            ]
        ]
    },
    {
        "id": "baa41c19eb148fa4",
        "type": "template",
        "z": "a8d8484165225699",
        "name": "topic",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "updates",
        "output": "str",
        "x": 830,
        "y": 180,
        "wires": [
            [
                "54e3c63ed7fe6043"
            ]
        ]
    },
    {
        "id": "54e3c63ed7fe6043",
        "type": "template",
        "z": "a8d8484165225699",
        "name": "notification_level",
        "field": "notification_level",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "info",
        "output": "str",
        "x": 990,
        "y": 180,
        "wires": [
            [
                "c260ecf67a15a923"
            ]
        ]
    },
    {
        "id": "b120549fa5ec47de",
        "type": "link out",
        "z": "a8d8484165225699",
        "name": "notification",
        "mode": "link",
        "links": [
            "60e14e33a793f50d"
        ],
        "x": 1565,
        "y": 180,
        "wires": []
    },
    {
        "id": "c260ecf67a15a923",
        "type": "change",
        "z": "a8d8484165225699",
        "name": "set icon",
        "rules": [
            {
                "t": "set",
                "p": "icon",
                "pt": "msg",
                "to": "mdi:update",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1160,
        "y": 180,
        "wires": [
            [
                "b120549fa5ec47de",
                "f55e9b8b5462e4d2"
            ]
        ]
    },
    {
        "id": "141308461dbf40c7",
        "type": "switch",
        "z": "a8d8484165225699",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "gt",
                "v": "1",
                "vt": "num"
            },
            {
                "t": "gt",
                "v": "0",
                "vt": "num"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 2,
        "x": 290,
        "y": 180,
        "wires": [
            [
                "bf97ba934d4ba8e3"
            ],
            [
                "ca77f18341a43806"
            ]
        ]
    },
    {
        "id": "bf97ba934d4ba8e3",
        "type": "template",
        "z": "a8d8484165225699",
        "name": "secondary information",
        "field": "secondary_information",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Er zijn {{payload}} updates beschikbaar, check updates onder de settings tab om deze entiteit te updaten. ",
        "output": "str",
        "x": 460,
        "y": 160,
        "wires": [
            [
                "9f54688e36518032"
            ]
        ]
    },
    {
        "id": "0e19a744ae210f9f",
        "type": "api-call-service",
        "z": "a8d8484165225699",
        "name": " dismiss in app notification",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "persistent_notification.dismiss",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [],
        "labelId": [],
        "data": "{\"notification_id\":\"update_entity\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "persistent_notification",
        "service": "dismiss",
        "x": 350,
        "y": 240,
        "wires": [
            []
        ]
    },
    {
        "id": "160088fd48d5a361",
        "type": "server-state-changed",
        "z": "a8d8484165225699",
        "name": "update counter is not 0",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "sensor.update_on_counter"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": true,
        "stateType": "str",
        "ifState": "0",
        "ifStateType": "num",
        "ifStateOperator": "is_not",
        "outputOnlyOnStateChange": false,
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [],
        "x": 120,
        "y": 180,
        "wires": [
            [
                "141308461dbf40c7"
            ],
            [
                "0e19a744ae210f9f"
            ]
        ]
    },
    {
        "id": "925cbc802add6b04",
        "type": "catch",
        "z": "a8d8484165225699",
        "g": "0330186b9fdcf4ee",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "d365bf9676fe5435"
            ]
        ]
    },
    {
        "id": "d365bf9676fe5435",
        "type": "template",
        "z": "a8d8484165225699",
        "g": "0330186b9fdcf4ee",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "5f99051ae7b91aed"
            ]
        ]
    },
    {
        "id": "fcbba10709360bf0",
        "type": "link out",
        "z": "a8d8484165225699",
        "g": "0330186b9fdcf4ee",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 475,
        "y": 80,
        "wires": []
    },
    {
        "id": "5f99051ae7b91aed",
        "type": "template",
        "z": "a8d8484165225699",
        "g": "0330186b9fdcf4ee",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "fcbba10709360bf0"
            ]
        ]
    },
    {
        "id": "b560dfc6f3c2aec1",
        "type": "template",
        "z": "8d2de69b4c0fd2b9",
        "g": "bb1cc6878bf6f696",
        "name": "notification id",
        "field": "notify.notification_id",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "vacuum",
        "output": "str",
        "x": 1450,
        "y": 280,
        "wires": [
            [
                "344ad3f982a92730"
            ]
        ]
    },
    {
        "id": "344ad3f982a92730",
        "type": "join",
        "z": "8d2de69b4c0fd2b9",
        "g": "bb1cc6878bf6f696",
        "name": "",
        "mode": "custom",
        "build": "merged",
        "property": "notify",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": false,
        "timeout": "",
        "count": "4",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 1630,
        "y": 260,
        "wires": [
            [
                "372e878f27b4b2b2"
            ]
        ]
    },
    {
        "id": "372e878f27b4b2b2",
        "type": "link out",
        "z": "8d2de69b4c0fd2b9",
        "g": "bb1cc6878bf6f696",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "8ed3b0974336e55b",
            "aeee8468f3d1b7ad",
            "c4660dc11fb0e5b8"
        ],
        "x": 1725,
        "y": 260,
        "wires": []
    },
    {
        "id": "c0d0c36d39f527e2",
        "type": "template",
        "z": "8d2de69b4c0fd2b9",
        "g": "bb1cc6878bf6f696",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Stofzuiger",
        "output": "str",
        "x": 1430,
        "y": 200,
        "wires": [
            [
                "344ad3f982a92730"
            ]
        ]
    },
    {
        "id": "db50c5b6f4f302b4",
        "type": "template",
        "z": "8d2de69b4c0fd2b9",
        "g": "bb1cc6878bf6f696",
        "name": "icon",
        "field": "notify.icon",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "",
        "output": "str",
        "x": 1430,
        "y": 240,
        "wires": [
            [
                "344ad3f982a92730"
            ]
        ]
    },
    {
        "id": "bb86ef9c9939267f",
        "type": "template",
        "z": "8d2de69b4c0fd2b9",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "{{data.new_state.attributes.friendly_name}} zit vast en heeft hulp nodig.",
        "output": "str",
        "x": 400,
        "y": 220,
        "wires": [
            [
                "ece5442438bb7aa1",
                "9920356dd5442dce"
            ]
        ]
    },
    {
        "id": "101fccbd23bc3737",
        "type": "template",
        "z": "8d2de69b4c0fd2b9",
        "name": "secondary information",
        "field": "secondary_information",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "{{notify.message}}",
        "output": "str",
        "x": 820,
        "y": 380,
        "wires": [
            [
                "1a142df2188365f9"
            ]
        ]
    },
    {
        "id": "1a142df2188365f9",
        "type": "template",
        "z": "8d2de69b4c0fd2b9",
        "name": "primary information",
        "field": "primary_information",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Stofzuiger",
        "output": "str",
        "x": 1030,
        "y": 380,
        "wires": [
            [
                "ef723bf3c094067c"
            ]
        ]
    },
    {
        "id": "ef723bf3c094067c",
        "type": "template",
        "z": "8d2de69b4c0fd2b9",
        "name": "topic",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "vacuum",
        "output": "str",
        "x": 1190,
        "y": 380,
        "wires": [
            [
                "a38dcb88665ba1b0"
            ]
        ]
    },
    {
        "id": "a38dcb88665ba1b0",
        "type": "template",
        "z": "8d2de69b4c0fd2b9",
        "name": "notification_level",
        "field": "notification_level",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "warning",
        "output": "str",
        "x": 1350,
        "y": 380,
        "wires": [
            [
                "4705f09e38185adf"
            ]
        ]
    },
    {
        "id": "4705f09e38185adf",
        "type": "link out",
        "z": "8d2de69b4c0fd2b9",
        "name": "notification",
        "mode": "link",
        "links": [
            "60e14e33a793f50d"
        ],
        "x": 1475,
        "y": 380,
        "wires": []
    },
    {
        "id": "9920356dd5442dce",
        "type": "template",
        "z": "8d2de69b4c0fd2b9",
        "name": "icon",
        "field": "icon",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "mdi:robot-vacuum",
        "output": "str",
        "x": 650,
        "y": 380,
        "wires": [
            [
                "101fccbd23bc3737"
            ]
        ]
    },
    {
        "id": "c3ad9439a04e7919",
        "type": "server-state-changed",
        "z": "8d2de69b4c0fd2b9",
        "name": "vacuum State is error s6",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "vacuum.roborock_s6_pure"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": true,
        "stateType": "str",
        "ifState": "error",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 150,
        "y": 220,
        "wires": [
            [
                "bb86ef9c9939267f"
            ],
            []
        ]
    },
    {
        "id": "b0a13a597c951a5c",
        "type": "server-state-changed",
        "z": "8d2de69b4c0fd2b9",
        "name": "vacuum State is error s55",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "vacuum.roborock_s55"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": true,
        "stateType": "str",
        "ifState": "error",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 150,
        "y": 280,
        "wires": [
            [
                "bb86ef9c9939267f"
            ],
            []
        ]
    },
    {
        "id": "a6bc5cbea3cc0781",
        "type": "catch",
        "z": "8d2de69b4c0fd2b9",
        "g": "c55c738b848ff4e2",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 60,
        "wires": [
            [
                "a0144416b570fb26"
            ]
        ]
    },
    {
        "id": "a0144416b570fb26",
        "type": "template",
        "z": "8d2de69b4c0fd2b9",
        "g": "c55c738b848ff4e2",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 60,
        "wires": [
            [
                "51536b69c791a38f"
            ]
        ]
    },
    {
        "id": "80e833d182f30872",
        "type": "link out",
        "z": "8d2de69b4c0fd2b9",
        "g": "c55c738b848ff4e2",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 475,
        "y": 60,
        "wires": []
    },
    {
        "id": "51536b69c791a38f",
        "type": "template",
        "z": "8d2de69b4c0fd2b9",
        "g": "c55c738b848ff4e2",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 60,
        "wires": [
            [
                "80e833d182f30872"
            ]
        ]
    },
    {
        "id": "2a1761aff5d63d7a",
        "type": "template",
        "z": "ce5dca27239daba8",
        "g": "b4f3f9f25b585f85",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "f9b220def47837e4"
            ]
        ]
    },
    {
        "id": "f9b220def47837e4",
        "type": "link out",
        "z": "ce5dca27239daba8",
        "g": "b4f3f9f25b585f85",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 475,
        "y": 80,
        "wires": []
    },
    {
        "id": "b437f9f1e8b5ebf7",
        "type": "template",
        "z": "ce5dca27239daba8",
        "g": "b4f3f9f25b585f85",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "2a1761aff5d63d7a"
            ]
        ]
    },
    {
        "id": "2e9dbc5a5fc615fc",
        "type": "catch",
        "z": "ce5dca27239daba8",
        "g": "b4f3f9f25b585f85",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "b437f9f1e8b5ebf7"
            ]
        ]
    },
    {
        "id": "8963892cb65d8713",
        "type": "change",
        "z": "ce5dca27239daba8",
        "name": "set flow active to true",
        "rules": [
            {
                "t": "set",
                "p": "active",
                "pt": "flow",
                "to": "true",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 940,
        "y": 160,
        "wires": [
            [
                "d2a6c270b5a78137"
            ]
        ]
    },
    {
        "id": "04cada4367386b36",
        "type": "switch",
        "z": "ce5dca27239daba8",
        "name": "flow not active",
        "property": "active",
        "propertyType": "flow",
        "rules": [
            {
                "t": "neq",
                "v": "true",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 740,
        "y": 160,
        "wires": [
            [
                "8963892cb65d8713"
            ]
        ]
    },
    {
        "id": "57ab0afd4c173998",
        "type": "change",
        "z": "ce5dca27239daba8",
        "name": "set flow active to false",
        "rules": [
            {
                "t": "set",
                "p": "active",
                "pt": "flow",
                "to": "false",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 620,
        "y": 220,
        "wires": [
            [
                "40a58eddf78206e8"
            ]
        ]
    },
    {
        "id": "58e0becbd6d919d0",
        "type": "switch",
        "z": "ce5dca27239daba8",
        "name": "if charging",
        "property": "data.event.old_state.attributes.battery_level",
        "propertyType": "msg",
        "rules": [
            {
                "t": "lt",
                "v": "data.event.new_state.attributes.battery_level",
                "vt": "msg"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 430,
        "y": 220,
        "wires": [
            [
                "57ab0afd4c173998"
            ]
        ]
    },
    {
        "id": "f9b8dec4504da56d",
        "type": "comment",
        "z": "ce5dca27239daba8",
        "name": "Send notification when battery is below 10%",
        "info": "",
        "x": 190,
        "y": 20,
        "wires": []
    },
    {
        "id": "a9aa3ff08dd7532c",
        "type": "link out",
        "z": "ce5dca27239daba8",
        "name": "notification",
        "mode": "link",
        "links": [
            "60e14e33a793f50d"
        ],
        "x": 1955,
        "y": 160,
        "wires": []
    },
    {
        "id": "03d5ea897e7d84ee",
        "type": "change",
        "z": "ce5dca27239daba8",
        "name": "set icon",
        "rules": [
            {
                "t": "set",
                "p": "icon",
                "pt": "msg",
                "to": "mdi:battery-alert-variant-outline",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1860,
        "y": 160,
        "wires": [
            [
                "a9aa3ff08dd7532c"
            ]
        ]
    },
    {
        "id": "2792f3a94c8f1651",
        "type": "template",
        "z": "ce5dca27239daba8",
        "name": "notification_level",
        "field": "notification_level",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "warning",
        "output": "str",
        "x": 1690,
        "y": 160,
        "wires": [
            [
                "03d5ea897e7d84ee"
            ]
        ]
    },
    {
        "id": "9174dfc0fa90a687",
        "type": "template",
        "z": "ce5dca27239daba8",
        "name": "topic",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "battery",
        "output": "str",
        "x": 1530,
        "y": 160,
        "wires": [
            [
                "2792f3a94c8f1651"
            ]
        ]
    },
    {
        "id": "8e69bb39390a2edf",
        "type": "template",
        "z": "ce5dca27239daba8",
        "name": "primary information",
        "field": "primary_information",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Batterij",
        "output": "str",
        "x": 1370,
        "y": 160,
        "wires": [
            [
                "9174dfc0fa90a687"
            ]
        ]
    },
    {
        "id": "d2a6c270b5a78137",
        "type": "template",
        "z": "ce5dca27239daba8",
        "name": "secondary information",
        "field": "secondary_information",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Let op, Stofzuiger {{data.event.new_state.attributes.friendly_name}} heeft een batterij niveau van {{data.event.new_state.attributes.battery_level}}% controleer de docking station.",
        "output": "str",
        "x": 1160,
        "y": 160,
        "wires": [
            [
                "8e69bb39390a2edf"
            ]
        ]
    },
    {
        "id": "c07bdaa6ded33de2",
        "type": "change",
        "z": "ce5dca27239daba8",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "low_battery",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 440,
        "y": 160,
        "wires": [
            [
                "6c50fe3336fa87c8"
            ]
        ]
    },
    {
        "id": "6c50fe3336fa87c8",
        "type": "rbe",
        "z": "ce5dca27239daba8",
        "name": "",
        "func": "rbe",
        "gap": "",
        "start": "",
        "inout": "out",
        "septopics": false,
        "property": "payload",
        "topi": "topic",
        "x": 590,
        "y": 160,
        "wires": [
            [
                "04cada4367386b36"
            ]
        ]
    },
    {
        "id": "40a58eddf78206e8",
        "type": "change",
        "z": "ce5dca27239daba8",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "charging",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 820,
        "y": 220,
        "wires": [
            [
                "c07bdaa6ded33de2"
            ]
        ]
    },
    {
        "id": "ea460771e1472df3",
        "type": "trigger-state",
        "z": "ce5dca27239daba8",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 5,
        "inputs": 0,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "vacuum.roborock_s55"
            ],
            "substring": [],
            "regex": []
        },
        "debugEnabled": false,
        "constraints": [
            {
                "targetType": "this_entity",
                "targetValue": "",
                "propertyType": "property",
                "propertyValue": "new_state.attributes.battery_level",
                "comparatorType": "<",
                "comparatorValueDatatype": "num",
                "comparatorValue": "10"
            }
        ],
        "customOutputs": [],
        "outputInitially": true,
        "stateType": "str",
        "enableInput": false,
        "x": 160,
        "y": 160,
        "wires": [
            [
                "58e0becbd6d919d0",
                "c07bdaa6ded33de2"
            ],
            []
        ]
    },
    {
        "id": "fec97058470f8f5e",
        "type": "template",
        "z": "1a02f7122bccea54",
        "g": "751efbb5afdedf48",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "17e4e7721adc09a1"
            ]
        ]
    },
    {
        "id": "17e4e7721adc09a1",
        "type": "link out",
        "z": "1a02f7122bccea54",
        "g": "751efbb5afdedf48",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 475,
        "y": 80,
        "wires": []
    },
    {
        "id": "505a577898a56012",
        "type": "template",
        "z": "1a02f7122bccea54",
        "g": "751efbb5afdedf48",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "fec97058470f8f5e"
            ]
        ]
    },
    {
        "id": "70c953492b9eb40c",
        "type": "catch",
        "z": "1a02f7122bccea54",
        "g": "751efbb5afdedf48",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "505a577898a56012"
            ]
        ]
    },
    {
        "id": "9dffff38900ffc04",
        "type": "comment",
        "z": "1a02f7122bccea54",
        "name": "Send notification when battery is below 10%",
        "info": "",
        "x": 190,
        "y": 20,
        "wires": []
    },
    {
        "id": "0d873137caa89aa8",
        "type": "change",
        "z": "1a02f7122bccea54",
        "name": "set flow active to true",
        "rules": [
            {
                "t": "set",
                "p": "active",
                "pt": "flow",
                "to": "true",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 960,
        "y": 160,
        "wires": [
            [
                "007c5f03d694dd4b"
            ]
        ]
    },
    {
        "id": "605998daf9134e73",
        "type": "switch",
        "z": "1a02f7122bccea54",
        "name": "flow not active",
        "property": "active",
        "propertyType": "flow",
        "rules": [
            {
                "t": "neq",
                "v": "true",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 760,
        "y": 160,
        "wires": [
            [
                "0d873137caa89aa8"
            ]
        ]
    },
    {
        "id": "ea5202875ac45b49",
        "type": "change",
        "z": "1a02f7122bccea54",
        "name": "set flow active to false",
        "rules": [
            {
                "t": "set",
                "p": "active",
                "pt": "flow",
                "to": "false",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 640,
        "y": 220,
        "wires": [
            [
                "64ebe099d2f54d54"
            ]
        ]
    },
    {
        "id": "dd4253130fad8a83",
        "type": "switch",
        "z": "1a02f7122bccea54",
        "name": "if charging",
        "property": "data.event.old_state.attributes.battery_level",
        "propertyType": "msg",
        "rules": [
            {
                "t": "lt",
                "v": "data.event.new_state.attributes.battery_level",
                "vt": "msg"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 450,
        "y": 220,
        "wires": [
            [
                "ea5202875ac45b49"
            ]
        ]
    },
    {
        "id": "08f4c431c3afd80a",
        "type": "link out",
        "z": "1a02f7122bccea54",
        "name": "notification",
        "mode": "link",
        "links": [
            "60e14e33a793f50d"
        ],
        "x": 1975,
        "y": 160,
        "wires": []
    },
    {
        "id": "c07d6f94506ce84c",
        "type": "change",
        "z": "1a02f7122bccea54",
        "name": "set icon",
        "rules": [
            {
                "t": "set",
                "p": "icon",
                "pt": "msg",
                "to": "mdi:battery-alert-variant-outline",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1880,
        "y": 160,
        "wires": [
            [
                "08f4c431c3afd80a"
            ]
        ]
    },
    {
        "id": "d6d4102db32b5468",
        "type": "template",
        "z": "1a02f7122bccea54",
        "name": "notification_level",
        "field": "notification_level",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "warning",
        "output": "str",
        "x": 1710,
        "y": 160,
        "wires": [
            [
                "c07d6f94506ce84c"
            ]
        ]
    },
    {
        "id": "0b2f559dcc657f30",
        "type": "template",
        "z": "1a02f7122bccea54",
        "name": "topic",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "battery",
        "output": "str",
        "x": 1550,
        "y": 160,
        "wires": [
            [
                "d6d4102db32b5468"
            ]
        ]
    },
    {
        "id": "9d361cd4ac939126",
        "type": "template",
        "z": "1a02f7122bccea54",
        "name": "primary information",
        "field": "primary_information",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Batterij",
        "output": "str",
        "x": 1390,
        "y": 160,
        "wires": [
            [
                "0b2f559dcc657f30"
            ]
        ]
    },
    {
        "id": "007c5f03d694dd4b",
        "type": "template",
        "z": "1a02f7122bccea54",
        "name": "secondary information",
        "field": "secondary_information",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Let op, Stofzuiger {{data.event.new_state.attributes.friendly_name}} heeft een batterij niveau van {{data.event.new_state.attributes.battery_level}}% controleer de docking station.",
        "output": "str",
        "x": 1180,
        "y": 160,
        "wires": [
            [
                "9d361cd4ac939126"
            ]
        ]
    },
    {
        "id": "d5538d8b479eaa4e",
        "type": "change",
        "z": "1a02f7122bccea54",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "low_battery",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 460,
        "y": 160,
        "wires": [
            [
                "b1fe1aedd419b0b9"
            ]
        ]
    },
    {
        "id": "b1fe1aedd419b0b9",
        "type": "rbe",
        "z": "1a02f7122bccea54",
        "name": "",
        "func": "rbe",
        "gap": "",
        "start": "",
        "inout": "out",
        "septopics": false,
        "property": "payload",
        "topi": "topic",
        "x": 610,
        "y": 160,
        "wires": [
            [
                "605998daf9134e73"
            ]
        ]
    },
    {
        "id": "64ebe099d2f54d54",
        "type": "change",
        "z": "1a02f7122bccea54",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "charging",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 840,
        "y": 220,
        "wires": [
            [
                "d5538d8b479eaa4e"
            ]
        ]
    },
    {
        "id": "201f66d22f70b0c6",
        "type": "trigger-state",
        "z": "1a02f7122bccea54",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 5,
        "inputs": 0,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "vacuum.roborock_s6_pure"
            ],
            "substring": [],
            "regex": []
        },
        "debugEnabled": false,
        "constraints": [
            {
                "targetType": "this_entity",
                "targetValue": "",
                "propertyType": "property",
                "propertyValue": "new_state.attributes.battery_level",
                "comparatorType": "<",
                "comparatorValueDatatype": "num",
                "comparatorValue": "10"
            }
        ],
        "customOutputs": [],
        "outputInitially": true,
        "stateType": "str",
        "enableInput": false,
        "x": 170,
        "y": 160,
        "wires": [
            [
                "d5538d8b479eaa4e"
            ],
            [
                "dd4253130fad8a83"
            ]
        ]
    },
    {
        "id": "44cfcac399640661",
        "type": "template",
        "z": "7186425fdfc90c19",
        "g": "3bd669c9a971e4a2",
        "name": "notification id",
        "field": "notify.notification_id",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "water_detection",
        "output": "str",
        "x": 1170,
        "y": 300,
        "wires": [
            [
                "80393a5cbd64c280"
            ]
        ]
    },
    {
        "id": "76b2b2fcd5922030",
        "type": "template",
        "z": "7186425fdfc90c19",
        "g": "3bd669c9a971e4a2",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Er is water verbruik gedetecteerd, niemand in huis is en apparaten die water verbruiken staan uit!",
        "output": "str",
        "x": 1160,
        "y": 220,
        "wires": [
            [
                "80393a5cbd64c280"
            ]
        ]
    },
    {
        "id": "80393a5cbd64c280",
        "type": "join",
        "z": "7186425fdfc90c19",
        "g": "3bd669c9a971e4a2",
        "name": "",
        "mode": "custom",
        "build": "merged",
        "property": "notify",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": false,
        "timeout": "",
        "count": "4",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 1310,
        "y": 220,
        "wires": [
            [
                "4369851a7e1e9308"
            ]
        ]
    },
    {
        "id": "4369851a7e1e9308",
        "type": "link out",
        "z": "7186425fdfc90c19",
        "g": "3bd669c9a971e4a2",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "8ed3b0974336e55b"
        ],
        "x": 1405,
        "y": 220,
        "wires": []
    },
    {
        "id": "90b19d7c300c5383",
        "type": "template",
        "z": "7186425fdfc90c19",
        "g": "3bd669c9a971e4a2",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Water",
        "output": "str",
        "x": 1150,
        "y": 180,
        "wires": [
            [
                "80393a5cbd64c280"
            ]
        ]
    },
    {
        "id": "8ee8100ab8bdc7e6",
        "type": "template",
        "z": "7186425fdfc90c19",
        "g": "3bd669c9a971e4a2",
        "name": "icon",
        "field": "notify.icon",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "",
        "output": "str",
        "x": 1150,
        "y": 260,
        "wires": [
            [
                "80393a5cbd64c280"
            ]
        ]
    },
    {
        "id": "565aecc17ef25b41",
        "type": "comment",
        "z": "7186425fdfc90c19",
        "name": "flow that send a notification when water consumption has detected",
        "info": "",
        "x": 260,
        "y": 20,
        "wires": []
    },
    {
        "id": "e406b6dbb483e2b5",
        "type": "api-current-state",
        "z": "7186425fdfc90c19",
        "name": "persons not home",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "not_home",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "group.persons",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 270,
        "y": 160,
        "wires": [
            [
                "d14719d850055b7f"
            ],
            []
        ]
    },
    {
        "id": "d14719d850055b7f",
        "type": "api-current-state",
        "z": "7186425fdfc90c19",
        "name": "guest mode is off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.guest",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 470,
        "y": 160,
        "wires": [
            [
                "e66b4a5f22a86a92"
            ],
            []
        ]
    },
    {
        "id": "e66b4a5f22a86a92",
        "type": "api-current-state",
        "z": "7186425fdfc90c19",
        "name": "washingmachine is off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "binary_sensor.washing_machine",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 680,
        "y": 160,
        "wires": [
            [
                "3bfcbb604faf22f2"
            ],
            []
        ]
    },
    {
        "id": "3bfcbb604faf22f2",
        "type": "api-current-state",
        "z": "7186425fdfc90c19",
        "name": "dishwasher is off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "binary_sensor.dishwasher",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 890,
        "y": 160,
        "wires": [
            [
                "159c508f956eb430"
            ],
            []
        ]
    },
    {
        "id": "fb752b2f4a73e460",
        "type": "server-state-changed",
        "z": "7186425fdfc90c19",
        "name": "water sensor",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "sensor.watermeter_pulse"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": false,
        "stateType": "str",
        "ifState": "1",
        "ifStateType": "num",
        "ifStateOperator": "gt",
        "outputOnlyOnStateChange": true,
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 90,
        "y": 160,
        "wires": [
            [
                "e406b6dbb483e2b5"
            ],
            []
        ]
    },
    {
        "id": "b8768bd6ae8b8f1b",
        "type": "catch",
        "z": "7186425fdfc90c19",
        "g": "8a3e724b9367b490",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "fde4c3a371beff5a"
            ]
        ]
    },
    {
        "id": "fde4c3a371beff5a",
        "type": "template",
        "z": "7186425fdfc90c19",
        "g": "8a3e724b9367b490",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "0870fa9736ccd6a3"
            ]
        ]
    },
    {
        "id": "388c6c30bcb85720",
        "type": "link out",
        "z": "7186425fdfc90c19",
        "g": "8a3e724b9367b490",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 475,
        "y": 80,
        "wires": []
    },
    {
        "id": "0870fa9736ccd6a3",
        "type": "template",
        "z": "7186425fdfc90c19",
        "g": "8a3e724b9367b490",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "388c6c30bcb85720"
            ]
        ]
    },
    {
        "id": "d6c682dafeec9a64",
        "type": "comment",
        "z": "3087db0b32ceb4d4",
        "name": "When it is dark outside trigger",
        "info": "",
        "x": 140,
        "y": 20,
        "wires": []
    },
    {
        "id": "00a486a129a5e2de",
        "type": "api-call-service",
        "z": "3087db0b32ceb4d4",
        "name": "turn on light front door ",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "light.shelly1_front_door"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "light",
        "service": "turn_on",
        "x": 860,
        "y": 260,
        "wires": [
            []
        ]
    },
    {
        "id": "a2d788c6d0d9ee38",
        "type": "api-call-service",
        "z": "3087db0b32ceb4d4",
        "name": "turn on light backyard",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "light.shellydimmer_backyard_string_l"
        ],
        "labelId": [],
        "data": "{\"brightness_pct\":\"25\",\"transition\":5000}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "light",
        "service": "turn_on",
        "x": 860,
        "y": 200,
        "wires": [
            []
        ]
    },
    {
        "id": "b3e1e74beacdf568",
        "type": "api-call-service",
        "z": "3087db0b32ceb4d4",
        "name": "turn on light livingroom ",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "light.shellydimmer_living_room"
        ],
        "labelId": [],
        "data": "{\"transition\":5000}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "light",
        "service": "turn_on",
        "x": 860,
        "y": 320,
        "wires": [
            []
        ]
    },
    {
        "id": "b28f768263057783",
        "type": "api-call-service",
        "z": "3087db0b32ceb4d4",
        "name": "set theme dark",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "frontend.set_theme",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [],
        "labelId": [],
        "data": "{\"name\":\"google_dark_theme\",\"mode\":\"dark\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "frontend",
        "service": "set_theme",
        "x": 320,
        "y": 380,
        "wires": [
            []
        ]
    },
    {
        "id": "0f3dc42604681b90",
        "type": "api-current-state",
        "z": "3087db0b32ceb4d4",
        "name": "state persons home",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "home",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "group.persons",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 330,
        "y": 200,
        "wires": [
            [
                "2c30ad2ca4736996",
                "ca09a185945f2f32"
            ],
            []
        ]
    },
    {
        "id": "20a9a8dc7b5339a8",
        "type": "api-current-state",
        "z": "3087db0b32ceb4d4",
        "name": "state guest on",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.guest",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 320,
        "y": 260,
        "wires": [
            [
                "ca09a185945f2f32",
                "2c30ad2ca4736996"
            ],
            []
        ]
    },
    {
        "id": "ca09a185945f2f32",
        "type": "api-current-state",
        "z": "3087db0b32ceb4d4",
        "name": "state frontdoor light off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "light.shelly1_front_door",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 620,
        "y": 260,
        "wires": [
            [
                "00a486a129a5e2de"
            ],
            []
        ]
    },
    {
        "id": "2c30ad2ca4736996",
        "type": "api-current-state",
        "z": "3087db0b32ceb4d4",
        "name": "state backyard light off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "light.shellydimmer_backyard_string_l",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 620,
        "y": 200,
        "wires": [
            [
                "a2d788c6d0d9ee38"
            ],
            []
        ]
    },
    {
        "id": "2de9785e45507235",
        "type": "api-current-state",
        "z": "3087db0b32ceb4d4",
        "name": "input select activity is tv",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "TV",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_select.entertainment_activity",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 350,
        "y": 320,
        "wires": [
            [
                "5b84363f59f0f83f"
            ],
            []
        ]
    },
    {
        "id": "5b84363f59f0f83f",
        "type": "api-current-state",
        "z": "3087db0b32ceb4d4",
        "name": "state livingroom light off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "light.shellydimmer_living_room",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "light.shellydimmer_living_room",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 630,
        "y": 320,
        "wires": [
            [
                "b3e1e74beacdf568"
            ],
            []
        ]
    },
    {
        "id": "779dc0a758b524fe",
        "type": "server-state-changed",
        "z": "3087db0b32ceb4d4",
        "name": "state outdoor is dark",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "sensor.outdoor_light_dark"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": true,
        "stateType": "str",
        "ifState": "dark",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 110,
        "y": 200,
        "wires": [
            [
                "0f3dc42604681b90",
                "20a9a8dc7b5339a8",
                "2de9785e45507235",
                "b28f768263057783"
            ],
            []
        ]
    },
    {
        "id": "5b4b9a106796749a",
        "type": "catch",
        "z": "3087db0b32ceb4d4",
        "g": "e72d1d528dd56224",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "219fb66a34f6d5fc"
            ]
        ]
    },
    {
        "id": "219fb66a34f6d5fc",
        "type": "template",
        "z": "3087db0b32ceb4d4",
        "g": "e72d1d528dd56224",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "dae13c944f704b59"
            ]
        ]
    },
    {
        "id": "b8f35a173d514067",
        "type": "link out",
        "z": "3087db0b32ceb4d4",
        "g": "e72d1d528dd56224",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 475,
        "y": 80,
        "wires": []
    },
    {
        "id": "dae13c944f704b59",
        "type": "template",
        "z": "3087db0b32ceb4d4",
        "g": "e72d1d528dd56224",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "b8f35a173d514067"
            ]
        ]
    },
    {
        "id": "52f21d3060c57706",
        "type": "join",
        "z": "c0da8379.b0dd3",
        "g": "47af9932f18884cc",
        "name": "",
        "mode": "custom",
        "build": "merged",
        "property": "notify",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": false,
        "timeout": "",
        "count": "3",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 2230,
        "y": 400,
        "wires": [
            [
                "5e72b91e3ad4066d"
            ]
        ]
    },
    {
        "id": "5e72b91e3ad4066d",
        "type": "link out",
        "z": "c0da8379.b0dd3",
        "g": "47af9932f18884cc",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "8ed3b0974336e55b"
        ],
        "x": 2325,
        "y": 400,
        "wires": []
    },
    {
        "id": "7063678cde99b775",
        "type": "template",
        "z": "c0da8379.b0dd3",
        "g": "47af9932f18884cc",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Verlichting",
        "output": "str",
        "x": 2070,
        "y": 360,
        "wires": [
            [
                "52f21d3060c57706"
            ]
        ]
    },
    {
        "id": "4d43c0c59596c396",
        "type": "template",
        "z": "c0da8379.b0dd3",
        "g": "47af9932f18884cc",
        "name": "icon",
        "field": "notify.icon",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "",
        "output": "str",
        "x": 2070,
        "y": 440,
        "wires": [
            [
                "52f21d3060c57706"
            ]
        ]
    },
    {
        "id": "f916039a.ab914",
        "type": "switch",
        "z": "c0da8379.b0dd3",
        "name": "state is home",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "home",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 410,
        "y": 180,
        "wires": [
            [
                "ed71f712.b69338",
                "60ffd46b.e9534c",
                "227abad75eeb983d",
                "9f66d88d.57dad8",
                "22b0b8d3f01237a7"
            ]
        ]
    },
    {
        "id": "9b83ef6.7af1c1",
        "type": "switch",
        "z": "c0da8379.b0dd3",
        "name": "state guest on off",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "on",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "off",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 390,
        "y": 240,
        "wires": [
            [
                "ed71f712.b69338",
                "227abad75eeb983d",
                "9f66d88d.57dad8",
                "22b0b8d3f01237a7"
            ],
            []
        ]
    },
    {
        "id": "cea43bad.d11358",
        "type": "template",
        "z": "c0da8379.b0dd3",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Het is donker en er is iemand aanwezig. {{{data.attributes.friendly_name}}} verlichting is ingeschakeld.",
        "output": "str",
        "x": 1880,
        "y": 440,
        "wires": [
            [
                "71156279d6ca8920"
            ]
        ]
    },
    {
        "id": "b9ba0c85.bcd94",
        "type": "join",
        "z": "c0da8379.b0dd3",
        "name": "",
        "mode": "custom",
        "build": "string",
        "property": "friendly_name_person",
        "propertyType": "msg",
        "key": "topic",
        "joiner": ", ",
        "joinerType": "str",
        "accumulate": false,
        "timeout": "",
        "count": "",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 1110,
        "y": 180,
        "wires": [
            [
                "a5f68bf8.968328"
            ]
        ]
    },
    {
        "id": "6ca20d6c.62d004",
        "type": "template",
        "z": "c0da8379.b0dd3",
        "name": "Format Friendly Name",
        "field": "friendly_name_person",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "{{payload.attributes.friendly_name}}",
        "output": "str",
        "x": 940,
        "y": 180,
        "wires": [
            [
                "b9ba0c85.bcd94"
            ]
        ]
    },
    {
        "id": "fd3c7297.9684e",
        "type": "template",
        "z": "c0da8379.b0dd3",
        "name": "Format Friendly Name",
        "field": "friendly_name_lampen",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "{{payload.attributes.friendly_name}}",
        "output": "str",
        "x": 1600,
        "y": 180,
        "wires": [
            [
                "1928247d.6ddacc"
            ]
        ]
    },
    {
        "id": "1928247d.6ddacc",
        "type": "join",
        "z": "c0da8379.b0dd3",
        "name": "",
        "mode": "custom",
        "build": "string",
        "property": "friendly_name_lampen",
        "propertyType": "msg",
        "key": "topic",
        "joiner": ", ",
        "joinerType": "str",
        "accumulate": false,
        "timeout": "",
        "count": "",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 1750,
        "y": 380,
        "wires": [
            [
                "d129b86a.aa0f58"
            ]
        ]
    },
    {
        "id": "d129b86a.aa0f58",
        "type": "template",
        "z": "c0da8379.b0dd3",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "{{friendly_name_person}} is thuis gekomen en het is donker. {{friendly_name_lampen}} verlichting staat aan.",
        "output": "str",
        "x": 1880,
        "y": 380,
        "wires": [
            [
                "71156279d6ca8920"
            ]
        ]
    },
    {
        "id": "a5f68bf8.968328",
        "type": "delay",
        "z": "c0da8379.b0dd3",
        "name": "",
        "pauseType": "delay",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "outputs": 1,
        "x": 1240,
        "y": 180,
        "wires": [
            [
                "da57c41e.c506f8"
            ]
        ]
    },
    {
        "id": "13ca8b62.27a4a5",
        "type": "join",
        "z": "c0da8379.b0dd3",
        "name": "",
        "mode": "custom",
        "build": "string",
        "property": "data.attributes.friendly_name",
        "propertyType": "msg",
        "key": "topic",
        "joiner": ", ",
        "joinerType": "str",
        "accumulate": false,
        "timeout": "5",
        "count": "",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "num",
        "reduceFixup": "",
        "x": 1750,
        "y": 440,
        "wires": [
            [
                "cea43bad.d11358"
            ]
        ]
    },
    {
        "id": "68768e1136ebca84",
        "type": "comment",
        "z": "c0da8379.b0dd3",
        "name": "Flow that will be triggerd when someone comes home or guest mode is turned on",
        "info": "",
        "x": 300,
        "y": 20,
        "wires": []
    },
    {
        "id": "9e995be6.7976b8",
        "type": "api-call-service",
        "z": "c0da8379.b0dd3",
        "name": "turn on light backyard",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "light.shellydimmer_backyard_string_l"
        ],
        "labelId": [],
        "data": "{\"brightness_pct\":25,\"transition\":5000}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "light",
        "service": "turn_on",
        "x": 1340,
        "y": 540,
        "wires": [
            [
                "13ca8b62.27a4a5"
            ]
        ]
    },
    {
        "id": "e137297f.088698",
        "type": "api-call-service",
        "z": "c0da8379.b0dd3",
        "name": "turn on light front door",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "light.shelly1_front_door"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "light",
        "service": "turn_on",
        "x": 1340,
        "y": 600,
        "wires": [
            [
                "13ca8b62.27a4a5"
            ]
        ]
    },
    {
        "id": "f86b599d.352918",
        "type": "api-call-service",
        "z": "c0da8379.b0dd3",
        "name": "turn off sleep mode",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "input_boolean.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_boolean.sleep_mode"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "input_boolean",
        "service": "turn_off",
        "x": 930,
        "y": 480,
        "wires": [
            []
        ]
    },
    {
        "id": "1902dc19.17ed64",
        "type": "api-call-service",
        "z": "c0da8379.b0dd3",
        "name": "turn off home security",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "input_boolean.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_boolean.home_security"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "input_boolean",
        "service": "turn_off",
        "x": 960,
        "y": 420,
        "wires": [
            []
        ]
    },
    {
        "id": "fd5eca9e.417048",
        "type": "api-call-service",
        "z": "c0da8379.b0dd3",
        "name": "turn on light livingroom",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "light.shellydimmer_living_room"
        ],
        "labelId": [],
        "data": "{\"brightness\":80,\"transition\":5000}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "light",
        "service": "turn_on",
        "x": 1340,
        "y": 660,
        "wires": [
            [
                "13ca8b62.27a4a5"
            ]
        ]
    },
    {
        "id": "9f66d88d.57dad8",
        "type": "api-call-service",
        "z": "c0da8379.b0dd3",
        "name": "turn on water heater",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "water_heater.set_temperature",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "water_heater.warm_water"
        ],
        "labelId": [],
        "data": "{\"temperature\":\"61\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "water_heater",
        "service": "set_temperature",
        "x": 720,
        "y": 300,
        "wires": [
            []
        ]
    },
    {
        "id": "cdf62b8c35fee85c",
        "type": "api-call-service",
        "z": "c0da8379.b0dd3",
        "name": "set preset mode climate home",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "climate.set_preset_mode",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "{{payload.entity_id}}"
        ],
        "labelId": [],
        "data": "{\"preset_mode\":\"home\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "climate",
        "service": "set_preset_mode",
        "x": 1090,
        "y": 240,
        "wires": [
            [
                "a4128ce45e4e787a"
            ]
        ]
    },
    {
        "id": "a4128ce45e4e787a",
        "type": "api-call-service",
        "z": "c0da8379.b0dd3",
        "name": "turn on climate auto mode",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "climate.set_hvac_mode",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "{{payload.entity_id}}"
        ],
        "labelId": [],
        "data": "{\"hvac_mode\":\"auto\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "climate",
        "service": "set_hvac_mode",
        "x": 1350,
        "y": 240,
        "wires": [
            []
        ]
    },
    {
        "id": "4545fccab838a1ae",
        "type": "api-call-service",
        "z": "c0da8379.b0dd3",
        "name": "turn on quooker",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "switch.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "switch.shellyplugplus_quooker_switch_0"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "switch",
        "service": "turn_on",
        "x": 1160,
        "y": 360,
        "wires": [
            []
        ]
    },
    {
        "id": "d08ebe33.48973",
        "type": "api-current-state",
        "z": "c0da8379.b0dd3",
        "name": "state backyard light off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "light.shellydimmer_backyard_string_l",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 1100,
        "y": 540,
        "wires": [
            [
                "9e995be6.7976b8"
            ],
            []
        ]
    },
    {
        "id": "cc18abb3.ae2a18",
        "type": "api-current-state",
        "z": "c0da8379.b0dd3",
        "name": "state frontdoor light off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "light.shelly1_front_door",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 1100,
        "y": 600,
        "wires": [
            [
                "e137297f.088698"
            ],
            []
        ]
    },
    {
        "id": "c0a73100.b726e",
        "type": "api-current-state",
        "z": "c0da8379.b0dd3",
        "name": "state person anne home",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "home",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "person.anne",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 370,
        "y": 420,
        "wires": [
            [
                "5f497d57.150f44",
                "aab516c6.d5acf8",
                "ed71f712.b69338"
            ],
            []
        ]
    },
    {
        "id": "b53f891b.1feb08",
        "type": "api-current-state",
        "z": "c0da8379.b0dd3",
        "name": "state person coen home",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "home",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "person.coen",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 370,
        "y": 480,
        "wires": [
            [
                "aab516c6.d5acf8",
                "ed71f712.b69338",
                "5f497d57.150f44"
            ],
            []
        ]
    },
    {
        "id": "aab516c6.d5acf8",
        "type": "api-current-state",
        "z": "c0da8379.b0dd3",
        "name": "state sleep_mode on",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.sleep_mode",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 720,
        "y": 480,
        "wires": [
            [
                "f86b599d.352918"
            ],
            []
        ]
    },
    {
        "id": "ed71f712.b69338",
        "type": "api-current-state",
        "z": "c0da8379.b0dd3",
        "name": "state home_security on",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.home_security",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 730,
        "y": 420,
        "wires": [
            [
                "1902dc19.17ed64"
            ],
            []
        ]
    },
    {
        "id": "5f497d57.150f44",
        "type": "api-current-state",
        "z": "c0da8379.b0dd3",
        "name": "state outdoor dark",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "dark",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "sensor.outdoor_light_dark",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 710,
        "y": 540,
        "wires": [
            [
                "d08ebe33.48973",
                "cc18abb3.ae2a18",
                "a8a31543.6e54b8"
            ],
            []
        ]
    },
    {
        "id": "a8a31543.6e54b8",
        "type": "api-current-state",
        "z": "c0da8379.b0dd3",
        "name": "state livingroom light off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "light.shellydimmer_living_room",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 1110,
        "y": 660,
        "wires": [
            [
                "fd5eca9e.417048"
            ],
            []
        ]
    },
    {
        "id": "22b0b8d3f01237a7",
        "type": "api-current-state",
        "z": "c0da8379.b0dd3",
        "name": "state quooker not on",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is_not",
        "entity_id": "switch.shellyplugplus_quooker_switch_0",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 720,
        "y": 360,
        "wires": [
            [
                "cdcc2b5b83ee4e4b"
            ],
            []
        ]
    },
    {
        "id": "c52b3e07.1a75e",
        "type": "server-state-changed",
        "z": "c0da8379.b0dd3",
        "name": "state persons",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 1,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "group.persons"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": true,
        "stateType": "str",
        "ifState": "",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": true,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 90,
        "y": 180,
        "wires": [
            [
                "f916039a.ab914"
            ]
        ]
    },
    {
        "id": "e84b117e.dd59d",
        "type": "server-state-changed",
        "z": "c0da8379.b0dd3",
        "name": "state guest",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 1,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "input_boolean.guest"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": false,
        "stateType": "str",
        "ifState": "",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 80,
        "y": 240,
        "wires": [
            [
                "9b83ef6.7af1c1"
            ]
        ]
    },
    {
        "id": "b86ec736.0cd658",
        "type": "server-state-changed",
        "z": "c0da8379.b0dd3",
        "name": "state person coen home",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "person.coen"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": false,
        "stateType": "str",
        "ifState": "home",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 120,
        "y": 420,
        "wires": [
            [
                "c0a73100.b726e"
            ],
            []
        ]
    },
    {
        "id": "f8f2314a.940eb",
        "type": "server-state-changed",
        "z": "c0da8379.b0dd3",
        "name": "state person anne home",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "person.anne"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": false,
        "stateType": "str",
        "ifState": "home",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 130,
        "y": 480,
        "wires": [
            [
                "b53f891b.1feb08"
            ],
            []
        ]
    },
    {
        "id": "60ffd46b.e9534c",
        "type": "ha-get-entities",
        "z": "c0da8379.b0dd3",
        "name": "lookup person home",
        "server": "4ba92433.2478cc",
        "version": 1,
        "rules": [
            {
                "property": "entity_id",
                "logic": "starts_with",
                "value": "person.",
                "valueType": "str"
            },
            {
                "property": "state",
                "logic": "is",
                "value": "home",
                "valueType": "str"
            }
        ],
        "outputType": "split",
        "outputEmptyResults": false,
        "outputLocationType": "msg",
        "outputLocation": "payload",
        "outputResultsCount": 1,
        "x": 720,
        "y": 180,
        "wires": [
            [
                "6ca20d6c.62d004"
            ]
        ]
    },
    {
        "id": "da57c41e.c506f8",
        "type": "ha-get-entities",
        "z": "c0da8379.b0dd3",
        "name": "lookup light on",
        "server": "4ba92433.2478cc",
        "version": 1,
        "rules": [
            {
                "property": "entity_id",
                "logic": "starts_with",
                "value": "light.shelly",
                "valueType": "str"
            },
            {
                "property": "state",
                "logic": "is",
                "value": "on",
                "valueType": "str"
            }
        ],
        "outputType": "split",
        "outputEmptyResults": false,
        "outputLocationType": "msg",
        "outputLocation": "payload",
        "outputResultsCount": 1,
        "x": 1400,
        "y": 180,
        "wires": [
            [
                "fd3c7297.9684e"
            ]
        ]
    },
    {
        "id": "227abad75eeb983d",
        "type": "ha-get-entities",
        "z": "c0da8379.b0dd3",
        "name": "lookup climate preset mode is not home",
        "server": "4ba92433.2478cc",
        "version": 1,
        "rules": [
            {
                "property": "entity_id",
                "logic": "starts_with",
                "value": "climate.",
                "valueType": "str"
            },
            {
                "property": "attributes.preset_mode",
                "logic": "is_not",
                "value": "home",
                "valueType": "str"
            }
        ],
        "outputType": "split",
        "outputEmptyResults": false,
        "outputLocationType": "msg",
        "outputLocation": "payload",
        "outputResultsCount": 1,
        "x": 780,
        "y": 240,
        "wires": [
            [
                "cdf62b8c35fee85c"
            ]
        ]
    },
    {
        "id": "cdcc2b5b83ee4e4b",
        "type": "time-range-switch",
        "z": "c0da8379.b0dd3",
        "name": "",
        "lat": "",
        "lon": "",
        "startTime": "16:00",
        "endTime": "19:00",
        "startOffset": 0,
        "endOffset": 0,
        "x": 910,
        "y": 360,
        "wires": [
            [
                "4545fccab838a1ae"
            ],
            []
        ]
    },
    {
        "id": "fc483e26e8ef8d67",
        "type": "catch",
        "z": "c0da8379.b0dd3",
        "g": "11883cc6242c876f",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "7c52ea5308a77607"
            ]
        ]
    },
    {
        "id": "7c52ea5308a77607",
        "type": "template",
        "z": "c0da8379.b0dd3",
        "g": "11883cc6242c876f",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "8f721f7cb577cb3e"
            ]
        ]
    },
    {
        "id": "195545448e386e6c",
        "type": "link out",
        "z": "c0da8379.b0dd3",
        "g": "11883cc6242c876f",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 475,
        "y": 80,
        "wires": []
    },
    {
        "id": "8f721f7cb577cb3e",
        "type": "template",
        "z": "c0da8379.b0dd3",
        "g": "11883cc6242c876f",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "195545448e386e6c"
            ]
        ]
    },
    {
        "id": "8d1a89d3e903f2bc",
        "type": "join",
        "z": "8aa6edec.5a013",
        "g": "983d668963ae42e9",
        "name": "",
        "mode": "custom",
        "build": "merged",
        "property": "notify",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": false,
        "timeout": "",
        "count": "3",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 2010,
        "y": 640,
        "wires": [
            [
                "9cbf9ef4fcbbe61e"
            ]
        ]
    },
    {
        "id": "9cbf9ef4fcbbe61e",
        "type": "link out",
        "z": "8aa6edec.5a013",
        "g": "983d668963ae42e9",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 2105,
        "y": 640,
        "wires": []
    },
    {
        "id": "fbc0aa717b3e43c7",
        "type": "template",
        "z": "8aa6edec.5a013",
        "g": "983d668963ae42e9",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Verwarming",
        "output": "str",
        "x": 1890,
        "y": 620,
        "wires": [
            [
                "8d1a89d3e903f2bc"
            ]
        ]
    },
    {
        "id": "d2800bc161fa3196",
        "type": "template",
        "z": "8aa6edec.5a013",
        "g": "983d668963ae42e9",
        "name": "icon",
        "field": "notify.icon",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": ":door:",
        "output": "str",
        "x": 1890,
        "y": 660,
        "wires": [
            [
                "8d1a89d3e903f2bc"
            ]
        ]
    },
    {
        "id": "f7c20be07a75c04e",
        "type": "join",
        "z": "8aa6edec.5a013",
        "g": "9c946ef945c199e5",
        "name": "",
        "mode": "custom",
        "build": "merged",
        "property": "notify",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": false,
        "timeout": "",
        "count": "3",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 2030,
        "y": 240,
        "wires": [
            [
                "37c73ac2e71d9a61"
            ]
        ]
    },
    {
        "id": "37c73ac2e71d9a61",
        "type": "link out",
        "z": "8aa6edec.5a013",
        "g": "9c946ef945c199e5",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "8ed3b0974336e55b"
        ],
        "x": 2125,
        "y": 240,
        "wires": []
    },
    {
        "id": "254201c717321a67",
        "type": "template",
        "z": "8aa6edec.5a013",
        "g": "9c946ef945c199e5",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Beveiliging",
        "output": "str",
        "x": 1870,
        "y": 200,
        "wires": [
            [
                "f7c20be07a75c04e"
            ]
        ]
    },
    {
        "id": "60a9200995b666e2",
        "type": "template",
        "z": "8aa6edec.5a013",
        "g": "9c946ef945c199e5",
        "name": "icon",
        "field": "notify.icon",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "",
        "output": "str",
        "x": 1870,
        "y": 280,
        "wires": [
            [
                "f7c20be07a75c04e"
            ]
        ]
    },
    {
        "id": "19cfd22b49a2e356",
        "type": "template",
        "z": "8aa6edec.5a013",
        "g": "14187342a7b09482",
        "name": "icon",
        "field": "notify.icon",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "",
        "output": "str",
        "x": 1870,
        "y": 520,
        "wires": [
            [
                "d512fe1ba0adbf42"
            ]
        ]
    },
    {
        "id": "8aa74b4cb48558f8",
        "type": "template",
        "z": "8aa6edec.5a013",
        "g": "14187342a7b09482",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Verlichting",
        "output": "str",
        "x": 1870,
        "y": 400,
        "wires": [
            [
                "d512fe1ba0adbf42"
            ]
        ]
    },
    {
        "id": "3bdaf73ce37b7397",
        "type": "link out",
        "z": "8aa6edec.5a013",
        "g": "14187342a7b09482",
        "name": "link_out_notify_2",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 2125,
        "y": 440,
        "wires": []
    },
    {
        "id": "d512fe1ba0adbf42",
        "type": "join",
        "z": "8aa6edec.5a013",
        "g": "14187342a7b09482",
        "name": "",
        "mode": "custom",
        "build": "merged",
        "property": "notify",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": false,
        "timeout": "",
        "count": "4",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 2030,
        "y": 440,
        "wires": [
            [
                "3bdaf73ce37b7397"
            ]
        ]
    },
    {
        "id": "1b8772493fd3aa94",
        "type": "template",
        "z": "8aa6edec.5a013",
        "g": "14187342a7b09482",
        "name": "notification id",
        "field": "notify.notification_id",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "lights",
        "output": "str",
        "x": 1890,
        "y": 480,
        "wires": [
            [
                "d512fe1ba0adbf42"
            ]
        ]
    },
    {
        "id": "c8db6380b138fd4e",
        "type": "template",
        "z": "8aa6edec.5a013",
        "g": "14187342a7b09482",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "{{{friendly_name}}} verlichting stond nog aan en is nu automatisch uitgeschakeld.",
        "output": "str",
        "x": 1880,
        "y": 440,
        "wires": [
            [
                "d512fe1ba0adbf42"
            ]
        ]
    },
    {
        "id": "2e713f167c7e9287",
        "type": "comment",
        "z": "8aa6edec.5a013",
        "name": "A desired state when nobody is home and guest switch is off",
        "info": "",
        "x": 240,
        "y": 20,
        "wires": []
    },
    {
        "id": "12eb7e9d79ce0291",
        "type": "switch",
        "z": "8aa6edec.5a013",
        "name": "uptime is above 1 min",
        "property": "data.timeSinceChangedMs",
        "propertyType": "msg",
        "rules": [
            {
                "t": "gt",
                "v": "60000",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 500,
        "y": 180,
        "wires": [
            [
                "99dc8873.517068"
            ]
        ]
    },
    {
        "id": "10249eab85b11e9f",
        "type": "template",
        "z": "8aa6edec.5a013",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Beveiliging is ingeschakeld ",
        "output": "str",
        "x": 1620,
        "y": 180,
        "wires": [
            [
                "662879feb30cc5fa"
            ]
        ]
    },
    {
        "id": "a91a402abef99c42",
        "type": "template",
        "z": "8aa6edec.5a013",
        "name": "format friendly name",
        "field": "friendly_name",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "{{{payload.attributes.friendly_name}}}",
        "output": "str",
        "x": 1340,
        "y": 360,
        "wires": [
            [
                "ac6ad3992a800655"
            ]
        ]
    },
    {
        "id": "ac6ad3992a800655",
        "type": "join",
        "z": "8aa6edec.5a013",
        "name": "",
        "mode": "custom",
        "build": "string",
        "property": "friendly_name",
        "propertyType": "msg",
        "key": "topic",
        "joiner": ", ",
        "joinerType": "str",
        "accumulate": false,
        "timeout": "",
        "count": "",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 1510,
        "y": 360,
        "wires": [
            [
                "83e460c17170065f"
            ]
        ]
    },
    {
        "id": "029fccfc27513453",
        "type": "join",
        "z": "8aa6edec.5a013",
        "name": "",
        "mode": "custom",
        "build": "string",
        "property": "payload.attributes.friendly_name",
        "propertyType": "msg",
        "key": "topic",
        "joiner": ", ",
        "joinerType": "str",
        "accumulate": false,
        "timeout": "",
        "count": "",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 1430,
        "y": 540,
        "wires": [
            [
                "516165f8d94b03dd"
            ]
        ]
    },
    {
        "id": "516165f8d94b03dd",
        "type": "template",
        "z": "8aa6edec.5a013",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "De verwarming in {{{payload.attributes.friendly_name}}} is van handmatig naar automatische stand geschakeld.",
        "output": "str",
        "x": 1620,
        "y": 540,
        "wires": [
            [
                "37841e86c6ea5231"
            ]
        ]
    },
    {
        "id": "30a120b8f94715ba",
        "type": "api-call-service",
        "z": "8aa6edec.5a013",
        "name": "turn on home security",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "input_boolean.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_boolean.home_security"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "input_boolean",
        "service": "turn_on",
        "x": 1240,
        "y": 180,
        "wires": [
            [
                "10249eab85b11e9f"
            ]
        ]
    },
    {
        "id": "e98d4730eef641b7",
        "type": "api-call-service",
        "z": "8aa6edec.5a013",
        "name": "turn on switch chime active",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "switch.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "switch.smart_doorbell_active"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "switch",
        "service": "turn_on",
        "x": 1260,
        "y": 240,
        "wires": [
            []
        ]
    },
    {
        "id": "d23cc387ab9241d2",
        "type": "api-call-service",
        "z": "8aa6edec.5a013",
        "name": "set preset mode climate away",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "climate.set_preset_mode",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "{{payload.entity_id}}"
        ],
        "labelId": [],
        "data": "{\"preset_mode\":\"away\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "climate",
        "service": "set_preset_mode",
        "x": 1370,
        "y": 300,
        "wires": [
            []
        ]
    },
    {
        "id": "39773eee4279f3fe",
        "type": "api-call-service",
        "z": "8aa6edec.5a013",
        "name": "turn off lights",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "{{payload.entity_id}}"
        ],
        "labelId": [],
        "data": "{\"transition\":5000}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "light",
        "service": "turn_off",
        "x": 1150,
        "y": 360,
        "wires": [
            [
                "a91a402abef99c42"
            ]
        ]
    },
    {
        "id": "c91a9badd8fda24a",
        "type": "api-call-service",
        "z": "8aa6edec.5a013",
        "name": "input select entertainment_activity uitschakelen",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "input_select.select_option",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_select.entertainment_activity"
        ],
        "labelId": [],
        "data": "{\"option\":\"Uitschakelen\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "input_select",
        "service": "select_option",
        "x": 1500,
        "y": 480,
        "wires": [
            []
        ]
    },
    {
        "id": "d6048e7163b7abcc",
        "type": "api-call-service",
        "z": "8aa6edec.5a013",
        "name": "turn on climate auto mode",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "climate.set_hvac_mode",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "{{payload.entity_id}}"
        ],
        "labelId": [],
        "data": "{\"hvac_mode\":\"auto\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "climate",
        "service": "set_hvac_mode",
        "x": 1250,
        "y": 540,
        "wires": [
            [
                "029fccfc27513453"
            ]
        ]
    },
    {
        "id": "761222e7fa67a904",
        "type": "api-call-service",
        "z": "8aa6edec.5a013",
        "name": "turn off water heater",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "water_heater.set_operation_mode",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "water_heater.warm_water"
        ],
        "labelId": [],
        "data": "{\"operation_mode\":\"off\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "water_heater",
        "service": "set_operation_mode",
        "x": 1000,
        "y": 660,
        "wires": [
            []
        ]
    },
    {
        "id": "511a3e2c95d05288",
        "type": "api-call-service",
        "z": "8aa6edec.5a013",
        "name": "turn off childlock kitchen",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "switch.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "switch.childlock_kitchen_switch"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "switch",
        "service": "turn_off",
        "x": 1290,
        "y": 420,
        "wires": [
            []
        ]
    },
    {
        "id": "774915f9b44b9f88",
        "type": "api-call-service",
        "z": "8aa6edec.5a013",
        "name": "turn off quooker",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "switch.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "switch.shellyplugplus_quooker_switch_0"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "switch",
        "service": "turn_off",
        "x": 1200,
        "y": 600,
        "wires": [
            []
        ]
    },
    {
        "id": "99dc8873.517068",
        "type": "api-current-state",
        "z": "8aa6edec.5a013",
        "name": "state guest off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.guest",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 700,
        "y": 180,
        "wires": [
            [
                "a2dc9d42a693dafb"
            ],
            []
        ]
    },
    {
        "id": "86e3be2e.bc7b4",
        "type": "api-current-state",
        "z": "8aa6edec.5a013",
        "name": "state group persons not home",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "not_home",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "group.persons",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 650,
        "y": 300,
        "wires": [
            [
                "a2dc9d42a693dafb"
            ],
            []
        ]
    },
    {
        "id": "f3398caf62b1ef7a",
        "type": "api-current-state",
        "z": "8aa6edec.5a013",
        "name": "state home security off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.home_security",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 1000,
        "y": 180,
        "wires": [
            [
                "30a120b8f94715ba"
            ],
            []
        ]
    },
    {
        "id": "8d40faa88a9cd112",
        "type": "api-current-state",
        "z": "8aa6edec.5a013",
        "name": "state doorbell chime off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "switch.smart_doorbell_active",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 1010,
        "y": 240,
        "wires": [
            [
                "e98d4730eef641b7"
            ],
            []
        ]
    },
    {
        "id": "af4eaf595d5072d5",
        "type": "api-current-state",
        "z": "8aa6edec.5a013",
        "name": "uptime",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 1,
        "halt_if": "",
        "halt_if_type": "num",
        "halt_if_compare": "is",
        "entity_id": "sensor.uptime",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 330,
        "y": 180,
        "wires": [
            [
                "12eb7e9d79ce0291"
            ]
        ]
    },
    {
        "id": "418ec65b2ffc66b5",
        "type": "api-current-state",
        "z": "8aa6edec.5a013",
        "name": "state guest off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.guest",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 320,
        "y": 240,
        "wires": [
            [
                "86e3be2e.bc7b4"
            ],
            []
        ]
    },
    {
        "id": "c6e7d8401b56fd33",
        "type": "api-current-state",
        "z": "8aa6edec.5a013",
        "name": "input select entertainment_activity is not uitschakelen",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "Uitschakelen",
        "halt_if_type": "str",
        "halt_if_compare": "is_not",
        "entity_id": "input_select.entertainment_activity",
        "state_type": "str",
        "blockInputOverrides": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 1100,
        "y": 480,
        "wires": [
            [
                "c91a9badd8fda24a"
            ],
            []
        ]
    },
    {
        "id": "5498c2d3d62ed8ba",
        "type": "api-current-state",
        "z": "8aa6edec.5a013",
        "name": "state childlock kitchen is not off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is_not",
        "entity_id": "switch.childlock_kitchen_switch",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 1030,
        "y": 420,
        "wires": [
            [
                "511a3e2c95d05288"
            ],
            []
        ]
    },
    {
        "id": "549548e06f9cfecf",
        "type": "api-current-state",
        "z": "8aa6edec.5a013",
        "name": "state quooker not off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is_not",
        "entity_id": "switch.shellyplugplus_quooker_switch_0",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 1000,
        "y": 600,
        "wires": [
            [
                "774915f9b44b9f88"
            ],
            []
        ]
    },
    {
        "id": "a8b7af48.25638",
        "type": "server-state-changed",
        "z": "8aa6edec.5a013",
        "name": "state group persons not_home",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "group.persons"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": true,
        "stateType": "str",
        "ifState": "not_home",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": true,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 140,
        "y": 180,
        "wires": [
            [
                "af4eaf595d5072d5"
            ],
            []
        ]
    },
    {
        "id": "81ed119.13c84f",
        "type": "server-state-changed",
        "z": "8aa6edec.5a013",
        "name": "state guest off",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "input_boolean.guest"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": false,
        "stateType": "str",
        "ifState": "off",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 90,
        "y": 300,
        "wires": [
            [
                "86e3be2e.bc7b4"
            ],
            []
        ]
    },
    {
        "id": "46c9c1d3469e3e0d",
        "type": "server-state-changed",
        "z": "8aa6edec.5a013",
        "name": "state vacation mode off",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "input_boolean.vacation_mode"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": false,
        "stateType": "str",
        "ifState": "off",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 120,
        "y": 240,
        "wires": [
            [
                "418ec65b2ffc66b5"
            ],
            []
        ]
    },
    {
        "id": "b932464b99aa9267",
        "type": "ha-get-entities",
        "z": "8aa6edec.5a013",
        "name": "lookup climate preset mode is not away",
        "server": "4ba92433.2478cc",
        "version": 1,
        "rules": [
            {
                "property": "entity_id",
                "logic": "starts_with",
                "value": "climate.",
                "valueType": "str"
            },
            {
                "property": "attributes.preset_mode",
                "logic": "is_not",
                "value": "away",
                "valueType": "str"
            }
        ],
        "outputType": "split",
        "outputEmptyResults": false,
        "outputLocationType": "msg",
        "outputLocation": "payload",
        "outputResultsCount": 1,
        "x": 1060,
        "y": 300,
        "wires": [
            [
                "d23cc387ab9241d2"
            ]
        ]
    },
    {
        "id": "cdc07b973642084c",
        "type": "ha-get-entities",
        "z": "8aa6edec.5a013",
        "name": "lookup lights on",
        "server": "4ba92433.2478cc",
        "version": 1,
        "rules": [
            {
                "property": "entity_id",
                "logic": "starts_with",
                "value": "light.",
                "valueType": "str"
            },
            {
                "property": "state",
                "logic": "is",
                "value": "on",
                "valueType": "str"
            }
        ],
        "outputType": "split",
        "outputEmptyResults": false,
        "outputLocationType": "msg",
        "outputLocation": "payload",
        "outputResultsCount": 1,
        "x": 980,
        "y": 360,
        "wires": [
            [
                "39773eee4279f3fe"
            ]
        ]
    },
    {
        "id": "028331e655414c16",
        "type": "ha-get-entities",
        "z": "8aa6edec.5a013",
        "name": "lookup climate is not auto",
        "server": "4ba92433.2478cc",
        "version": 1,
        "rules": [
            {
                "property": "entity_id",
                "logic": "starts_with",
                "value": "climate.",
                "valueType": "str"
            },
            {
                "property": "state",
                "logic": "is_not",
                "value": "auto",
                "valueType": "str"
            }
        ],
        "outputType": "split",
        "outputEmptyResults": false,
        "outputLocationType": "msg",
        "outputLocation": "payload",
        "outputResultsCount": 1,
        "x": 1010,
        "y": 540,
        "wires": [
            [
                "d6048e7163b7abcc"
            ]
        ]
    },
    {
        "id": "951976c3a53b79b8",
        "type": "catch",
        "z": "8aa6edec.5a013",
        "g": "185f2dd7a860d19b",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "02dc0d1b6f03c379"
            ]
        ]
    },
    {
        "id": "02dc0d1b6f03c379",
        "type": "template",
        "z": "8aa6edec.5a013",
        "g": "185f2dd7a860d19b",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "f114dc5a554e6188"
            ]
        ]
    },
    {
        "id": "2c08acee77a89d06",
        "type": "link out",
        "z": "8aa6edec.5a013",
        "g": "185f2dd7a860d19b",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 475,
        "y": 80,
        "wires": []
    },
    {
        "id": "f114dc5a554e6188",
        "type": "template",
        "z": "8aa6edec.5a013",
        "g": "185f2dd7a860d19b",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "2c08acee77a89d06"
            ]
        ]
    },
    {
        "id": "800e64cd36e0aad4",
        "type": "comment",
        "z": "e0e34b3e49b36c0e",
        "name": "When it is light outside trigger",
        "info": "",
        "x": 140,
        "y": 20,
        "wires": []
    },
    {
        "id": "9e78618b32e8c6ca",
        "type": "api-call-service",
        "z": "e0e34b3e49b36c0e",
        "name": "turn off light front door ",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "light.shelly1_front_door"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "light",
        "service": "turn_off",
        "x": 560,
        "y": 340,
        "wires": [
            []
        ]
    },
    {
        "id": "880bfc5002ec0aa5",
        "type": "api-call-service",
        "z": "e0e34b3e49b36c0e",
        "name": "turn off light backyard",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "light.shellydimmer_backyard_string_l"
        ],
        "labelId": [],
        "data": "{\"transition\":5000}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "light",
        "service": "turn_off",
        "x": 560,
        "y": 280,
        "wires": [
            []
        ]
    },
    {
        "id": "41cc11b7f9e217b3",
        "type": "api-call-service",
        "z": "e0e34b3e49b36c0e",
        "name": "turn off sleep mode",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "input_boolean.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_boolean.sleep_mode"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "input_boolean",
        "service": "turn_off",
        "x": 790,
        "y": 160,
        "wires": [
            []
        ]
    },
    {
        "id": "801cd324a2afa594",
        "type": "api-call-service",
        "z": "e0e34b3e49b36c0e",
        "name": "turn off home security",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "input_boolean.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_boolean.home_security"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "input_boolean",
        "service": "turn_off",
        "x": 800,
        "y": 220,
        "wires": [
            []
        ]
    },
    {
        "id": "7e3e4723243d216a",
        "type": "api-call-service",
        "z": "e0e34b3e49b36c0e",
        "name": "set theme dark",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "frontend.set_theme",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [],
        "labelId": [],
        "data": "{\"name\":\"google_light_theme\",\"mode\":\"dark\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "frontend",
        "service": "set_theme",
        "x": 320,
        "y": 400,
        "wires": [
            []
        ]
    },
    {
        "id": "f3d64f28162ae511",
        "type": "api-current-state",
        "z": "e0e34b3e49b36c0e",
        "name": "state frontdoor light on",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "light.shelly1_front_door",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 340,
        "y": 340,
        "wires": [
            [
                "9e78618b32e8c6ca"
            ],
            []
        ]
    },
    {
        "id": "740f9bed18e49c86",
        "type": "api-current-state",
        "z": "e0e34b3e49b36c0e",
        "name": "state backyard light on",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "light.shellydimmer_backyard_string_l",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 340,
        "y": 280,
        "wires": [
            [
                "880bfc5002ec0aa5"
            ],
            []
        ]
    },
    {
        "id": "942e6877c650d85a",
        "type": "api-current-state",
        "z": "e0e34b3e49b36c0e",
        "name": "state persons home",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "home",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "group.persons",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 330,
        "y": 160,
        "wires": [
            [
                "db795414f322b26f",
                "e85406af626cd10c"
            ],
            []
        ]
    },
    {
        "id": "db795414f322b26f",
        "type": "api-current-state",
        "z": "e0e34b3e49b36c0e",
        "name": "state sleep_mode on",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.sleep_mode",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 560,
        "y": 160,
        "wires": [
            [
                "41cc11b7f9e217b3"
            ],
            []
        ]
    },
    {
        "id": "e71b9aacf1915376",
        "type": "api-current-state",
        "z": "e0e34b3e49b36c0e",
        "name": "state guest on",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.guest",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 320,
        "y": 220,
        "wires": [
            [
                "db795414f322b26f",
                "e85406af626cd10c"
            ],
            []
        ]
    },
    {
        "id": "e85406af626cd10c",
        "type": "api-current-state",
        "z": "e0e34b3e49b36c0e",
        "name": "state home_security on",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.home_security",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 570,
        "y": 220,
        "wires": [
            [
                "801cd324a2afa594"
            ],
            []
        ]
    },
    {
        "id": "27af0025257038b0",
        "type": "server-state-changed",
        "z": "e0e34b3e49b36c0e",
        "name": "state outdoor is light ",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "sensor.outdoor_light_dark"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": true,
        "stateType": "str",
        "ifState": "light",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 110,
        "y": 160,
        "wires": [
            [
                "942e6877c650d85a",
                "e71b9aacf1915376",
                "740f9bed18e49c86",
                "f3d64f28162ae511",
                "7e3e4723243d216a"
            ],
            []
        ]
    },
    {
        "id": "c6fd51bb0879c691",
        "type": "catch",
        "z": "e0e34b3e49b36c0e",
        "g": "4e54d7258188248f",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "354ff2db8dddfd18"
            ]
        ]
    },
    {
        "id": "354ff2db8dddfd18",
        "type": "template",
        "z": "e0e34b3e49b36c0e",
        "g": "4e54d7258188248f",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "d22560a297387a58"
            ]
        ]
    },
    {
        "id": "20b46d2aec64e3a9",
        "type": "link out",
        "z": "e0e34b3e49b36c0e",
        "g": "4e54d7258188248f",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 475,
        "y": 80,
        "wires": []
    },
    {
        "id": "d22560a297387a58",
        "type": "template",
        "z": "e0e34b3e49b36c0e",
        "g": "4e54d7258188248f",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "20b46d2aec64e3a9"
            ]
        ]
    },
    {
        "id": "8fc84b1cbe52d5f7",
        "type": "comment",
        "z": "6af65daafa363be0",
        "name": "Flow that starts every morning",
        "info": "",
        "x": 140,
        "y": 20,
        "wires": []
    },
    {
        "id": "e1d187bacfbccd82",
        "type": "inject",
        "z": "6af65daafa363be0",
        "name": "06:30 'on' payload",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "30 06 * * *",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "on",
        "payloadType": "str",
        "x": 130,
        "y": 160,
        "wires": [
            [
                "c5a536554a64ac99",
                "4ccd830db6f89db0",
                "f06e66f310c6ace3"
            ]
        ]
    },
    {
        "id": "88db02dd685950d0",
        "type": "api-call-service",
        "z": "6af65daafa363be0",
        "name": "turn off light frontdoor ",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "light.shelly1_front_door"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "light",
        "service": "turn_off",
        "x": 940,
        "y": 340,
        "wires": [
            []
        ]
    },
    {
        "id": "56b6c67a5cda646e",
        "type": "api-call-service",
        "z": "6af65daafa363be0",
        "name": "turn off light backyard",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "light.shellydimmer_backyard_string_l"
        ],
        "labelId": [],
        "data": "{\"transition\":5000}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "light",
        "service": "turn_off",
        "x": 940,
        "y": 280,
        "wires": [
            []
        ]
    },
    {
        "id": "89e8677d05a0ca19",
        "type": "api-call-service",
        "z": "6af65daafa363be0",
        "name": "turn off sleep mode",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "input_boolean.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_boolean.sleep_mode"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "input_boolean",
        "service": "turn_off",
        "x": 930,
        "y": 160,
        "wires": [
            []
        ]
    },
    {
        "id": "4bcc18f5e50eafcb",
        "type": "api-call-service",
        "z": "6af65daafa363be0",
        "name": "turn off home security",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "input_boolean.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_boolean.home_security"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "input_boolean",
        "service": "turn_off",
        "x": 940,
        "y": 220,
        "wires": [
            []
        ]
    },
    {
        "id": "380914616ff9afac",
        "type": "api-current-state",
        "z": "6af65daafa363be0",
        "name": "state frontdoor light on",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "light.shelly1_front_door",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 660,
        "y": 340,
        "wires": [
            [
                "88db02dd685950d0"
            ],
            []
        ]
    },
    {
        "id": "6884175d93531916",
        "type": "api-current-state",
        "z": "6af65daafa363be0",
        "name": "state backyard light on",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "light.shellydimmer_backyard_string_l",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 660,
        "y": 280,
        "wires": [
            [
                "56b6c67a5cda646e"
            ],
            []
        ]
    },
    {
        "id": "c5a536554a64ac99",
        "type": "api-current-state",
        "z": "6af65daafa363be0",
        "name": "state persons home",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "home",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "group.persons",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 390,
        "y": 160,
        "wires": [
            [
                "e99d4221bade5c61",
                "56407590c45f1f9f"
            ],
            []
        ]
    },
    {
        "id": "e99d4221bade5c61",
        "type": "api-current-state",
        "z": "6af65daafa363be0",
        "name": "state sleep_mode on",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.sleep_mode",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 660,
        "y": 160,
        "wires": [
            [
                "89e8677d05a0ca19"
            ],
            []
        ]
    },
    {
        "id": "4ccd830db6f89db0",
        "type": "api-current-state",
        "z": "6af65daafa363be0",
        "name": "state guest on",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.guest",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 400,
        "y": 220,
        "wires": [
            [
                "e99d4221bade5c61",
                "56407590c45f1f9f"
            ],
            []
        ]
    },
    {
        "id": "56407590c45f1f9f",
        "type": "api-current-state",
        "z": "6af65daafa363be0",
        "name": "state home_security on",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.home_security",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 670,
        "y": 220,
        "wires": [
            [
                "4bcc18f5e50eafcb"
            ],
            []
        ]
    },
    {
        "id": "f06e66f310c6ace3",
        "type": "ha-wait-until",
        "z": "6af65daafa363be0",
        "name": "wait until it is light outside",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 1,
        "entities": {
            "entity": [
                "sensor.outdoor_light_dark"
            ],
            "substring": [],
            "regex": []
        },
        "property": "state",
        "comparator": "is",
        "value": "light",
        "valueType": "str",
        "timeout": "0",
        "timeoutType": "num",
        "timeoutUnits": "seconds",
        "checkCurrentState": true,
        "blockInputOverrides": true,
        "outputProperties": [],
        "entityLocation": "data",
        "entityLocationType": "none",
        "x": 370,
        "y": 280,
        "wires": [
            [
                "6884175d93531916",
                "380914616ff9afac"
            ]
        ]
    },
    {
        "id": "3673775bd3800aa8",
        "type": "catch",
        "z": "6af65daafa363be0",
        "g": "70f0fe67aeca6c5b",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "ea5cc17d185874f6"
            ]
        ]
    },
    {
        "id": "ea5cc17d185874f6",
        "type": "template",
        "z": "6af65daafa363be0",
        "g": "70f0fe67aeca6c5b",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "6cce37f58977a6c9"
            ]
        ]
    },
    {
        "id": "05ac8cf3d42fdb50",
        "type": "link out",
        "z": "6af65daafa363be0",
        "g": "70f0fe67aeca6c5b",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 475,
        "y": 80,
        "wires": []
    },
    {
        "id": "6cce37f58977a6c9",
        "type": "template",
        "z": "6af65daafa363be0",
        "g": "70f0fe67aeca6c5b",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "05ac8cf3d42fdb50"
            ]
        ]
    },
    {
        "id": "8a1366db3f33e113",
        "type": "join",
        "z": "eb1939ba1b7e9b73",
        "g": "725af18957967e99",
        "name": "",
        "mode": "custom",
        "build": "merged",
        "property": "notify",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": false,
        "timeout": "",
        "count": "3",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 1350,
        "y": 360,
        "wires": [
            [
                "30a8a878728a6a2b"
            ]
        ]
    },
    {
        "id": "30a8a878728a6a2b",
        "type": "link out",
        "z": "eb1939ba1b7e9b73",
        "g": "725af18957967e99",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 1445,
        "y": 360,
        "wires": []
    },
    {
        "id": "343f37d7fe9484fd",
        "type": "template",
        "z": "eb1939ba1b7e9b73",
        "g": "725af18957967e99",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Verwarming",
        "output": "str",
        "x": 1230,
        "y": 340,
        "wires": [
            [
                "8a1366db3f33e113"
            ]
        ]
    },
    {
        "id": "72ef2fc0d180fcea",
        "type": "template",
        "z": "eb1939ba1b7e9b73",
        "g": "725af18957967e99",
        "name": "icon",
        "field": "notify.icon",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": ":door:",
        "output": "str",
        "x": 1230,
        "y": 380,
        "wires": [
            [
                "8a1366db3f33e113"
            ]
        ]
    },
    {
        "id": "477c8f0e.c4289",
        "type": "join",
        "z": "eb1939ba1b7e9b73",
        "name": "",
        "mode": "custom",
        "build": "string",
        "property": "payload.attributes.friendly_name",
        "propertyType": "msg",
        "key": "topic",
        "joiner": ", ",
        "joinerType": "str",
        "accumulate": false,
        "timeout": "",
        "count": "",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 790,
        "y": 360,
        "wires": [
            [
                "b85d118c.fbdc4"
            ]
        ]
    },
    {
        "id": "51f8fd5354fac718",
        "type": "link in",
        "z": "eb1939ba1b7e9b73",
        "name": "link in off_mode",
        "links": [
            "78bedeb65fca6d0f"
        ],
        "x": 195,
        "y": 180,
        "wires": [
            [
                "5644cdae.e32cc4",
                "83808dcd.70439",
                "db8cc8f4bb9386ab",
                "f9028094.57a62"
            ]
        ]
    },
    {
        "id": "b85d118c.fbdc4",
        "type": "template",
        "z": "eb1939ba1b7e9b73",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "De verwarming in {{{payload.attributes.friendly_name}}} is van handmatig naar automatische stand geschakeld.",
        "output": "str",
        "x": 920,
        "y": 360,
        "wires": [
            [
                "0fd94c312d822e91"
            ]
        ]
    },
    {
        "id": "3b9a1fc1.aafd9",
        "type": "api-call-service",
        "z": "eb1939ba1b7e9b73",
        "name": "input select entertainment_activity uitschakelen",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "input_select.select_option",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_select.entertainment_activity"
        ],
        "labelId": [],
        "data": "{\"option\":\"Uitschakelen\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "input_select",
        "service": "select_option",
        "x": 860,
        "y": 300,
        "wires": [
            []
        ]
    },
    {
        "id": "397bbd3d.0bb3f2",
        "type": "api-call-service",
        "z": "eb1939ba1b7e9b73",
        "name": "turn on climate auto mode",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "climate.set_hvac_mode",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "{{payload.entity_id}}"
        ],
        "labelId": [],
        "data": "{\"hvac_mode\":\"auto\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "climate",
        "service": "set_hvac_mode",
        "x": 610,
        "y": 360,
        "wires": [
            [
                "477c8f0e.c4289"
            ]
        ]
    },
    {
        "id": "83808dcd.70439",
        "type": "api-call-service",
        "z": "eb1939ba1b7e9b73",
        "name": "turn off water heater",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "water_heater.set_operation_mode",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "water_heater.warm_water"
        ],
        "labelId": [],
        "data": "{\"operation_mode\":\"off\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "water_heater",
        "service": "set_operation_mode",
        "x": 360,
        "y": 240,
        "wires": [
            []
        ]
    },
    {
        "id": "5644cdae.e32cc4",
        "type": "api-call-service",
        "z": "eb1939ba1b7e9b73",
        "name": "turn off childlock kitchen",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "switch.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "switch.childlock_kitchen_switch"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "switch",
        "service": "turn_off",
        "x": 370,
        "y": 180,
        "wires": [
            []
        ]
    },
    {
        "id": "db8cc8f4bb9386ab",
        "type": "api-current-state",
        "z": "eb1939ba1b7e9b73",
        "name": "input select entertainment_activity is not uitschakelen",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "Uitschakelen",
        "halt_if_type": "str",
        "halt_if_compare": "is_not",
        "entity_id": "input_select.entertainment_activity",
        "state_type": "str",
        "blockInputOverrides": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 460,
        "y": 300,
        "wires": [
            [
                "3b9a1fc1.aafd9"
            ],
            []
        ]
    },
    {
        "id": "f9028094.57a62",
        "type": "ha-get-entities",
        "z": "eb1939ba1b7e9b73",
        "name": "lookup climate is not auto",
        "server": "4ba92433.2478cc",
        "version": 1,
        "rules": [
            {
                "property": "entity_id",
                "logic": "starts_with",
                "value": "climate.",
                "valueType": "str"
            },
            {
                "property": "state",
                "logic": "is_not",
                "value": "auto",
                "valueType": "str"
            }
        ],
        "outputType": "split",
        "outputEmptyResults": false,
        "outputLocationType": "msg",
        "outputLocation": "payload",
        "outputResultsCount": 1,
        "x": 370,
        "y": 360,
        "wires": [
            [
                "397bbd3d.0bb3f2"
            ]
        ]
    },
    {
        "id": "a935ec34e1de18c2",
        "type": "catch",
        "z": "eb1939ba1b7e9b73",
        "g": "e53baf256d3f1848",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 60,
        "wires": [
            [
                "f52934b833197f89"
            ]
        ]
    },
    {
        "id": "f52934b833197f89",
        "type": "template",
        "z": "eb1939ba1b7e9b73",
        "g": "e53baf256d3f1848",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 60,
        "wires": [
            [
                "d6e392af72ad7b29"
            ]
        ]
    },
    {
        "id": "43dbea1142f618eb",
        "type": "link out",
        "z": "eb1939ba1b7e9b73",
        "g": "e53baf256d3f1848",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 475,
        "y": 60,
        "wires": []
    },
    {
        "id": "d6e392af72ad7b29",
        "type": "template",
        "z": "eb1939ba1b7e9b73",
        "g": "e53baf256d3f1848",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 60,
        "wires": [
            [
                "43dbea1142f618eb"
            ]
        ]
    },
    {
        "id": "38359ee3075d7265",
        "type": "switch",
        "z": "f180ab88.925788",
        "name": "click type channel 2",
        "property": "payload.event.click_type",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "single",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "double",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "triple",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "long",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "single_long",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "long_single",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 6,
        "x": 630,
        "y": 400,
        "wires": [
            [
                "bfb3705a.97302"
            ],
            [
                "23adc282.4b50fe"
            ],
            [
                "78bedeb65fca6d0f"
            ],
            [],
            [],
            []
        ]
    },
    {
        "id": "114df27610bf61b8",
        "type": "switch",
        "z": "f180ab88.925788",
        "name": "click type channel 1",
        "property": "payload.event.click_type",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "single",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "double",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "triple",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "long",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "single_long",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "long_single",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 6,
        "x": 630,
        "y": 200,
        "wires": [
            [
                "50431910a8796898"
            ],
            [
                "5f8efcaec75665b3"
            ],
            [
                "c4aeda1d.85afa8"
            ],
            [],
            [],
            []
        ]
    },
    {
        "id": "61e7530204f85e25",
        "type": "comment",
        "z": "f180ab88.925788",
        "name": "shelly i3 actions channel 1 is the right button channel 2 is the left button",
        "info": "[shellyi3.lan.stamx.nl](http://shellyi3.lan.stamx.nl)",
        "x": 270,
        "y": 20,
        "wires": []
    },
    {
        "id": "5de4c93f0f01b4d6",
        "type": "switch",
        "z": "f180ab88.925788",
        "name": "channel 1 or 2",
        "property": "payload.event.channel",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "2",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 380,
        "y": 160,
        "wires": [
            [
                "114df27610bf61b8"
            ],
            [
                "38359ee3075d7265"
            ]
        ]
    },
    {
        "id": "78bedeb65fca6d0f",
        "type": "link out",
        "z": "f180ab88.925788",
        "name": "link out to off_mode",
        "mode": "link",
        "links": [
            "51f8fd5354fac718"
        ],
        "x": 795,
        "y": 500,
        "wires": []
    },
    {
        "id": "c4aeda1d.85afa8",
        "type": "api-call-service",
        "z": "f180ab88.925788",
        "name": "toggle switch sleepmode",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "input_boolean.toggle",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_boolean.sleep_mode"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "input_boolean",
        "service": "toggle",
        "x": 890,
        "y": 300,
        "wires": [
            []
        ]
    },
    {
        "id": "50431910a8796898",
        "type": "api-call-service",
        "z": "f180ab88.925788",
        "name": "toggle light backyard",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.toggle",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "light.shellydimmer_backyard_string_l"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "light",
        "service": "toggle",
        "x": 880,
        "y": 180,
        "wires": [
            []
        ]
    },
    {
        "id": "bfb3705a.97302",
        "type": "api-call-service",
        "z": "f180ab88.925788",
        "name": "toggle light barn hanging lamp",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.toggle",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "light.shellydimmer_barn_hanging_lam"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "light",
        "service": "toggle",
        "x": 910,
        "y": 380,
        "wires": [
            []
        ]
    },
    {
        "id": "5f8efcaec75665b3",
        "type": "api-call-service",
        "z": "f180ab88.925788",
        "name": "toggle light christmas tree",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.toggle",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "light.christmas_tree"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "light",
        "service": "toggle",
        "x": 890,
        "y": 240,
        "wires": [
            []
        ]
    },
    {
        "id": "23adc282.4b50fe",
        "type": "api-call-service",
        "z": "f180ab88.925788",
        "name": "toggle childlock kitchen switch",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "switch.toggle",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "switch.childlock_kitchen_switch"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "switch",
        "service": "toggle",
        "x": 910,
        "y": 440,
        "wires": [
            []
        ]
    },
    {
        "id": "0260edcb14ed697c",
        "type": "server-events",
        "z": "f180ab88.925788",
        "name": "Shellyi3 livingroom click events",
        "server": "4ba92433.2478cc",
        "version": 3,
        "exposeAsEntityConfig": "",
        "eventType": "shelly.click",
        "eventData": "{\"device\":\"shellyix3-68C63AFAA400\"}",
        "waitForRunning": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "$outputData(\"eventData\").event_type",
                "valueType": "jsonata"
            }
        ],
        "event_type": "",
        "x": 150,
        "y": 160,
        "wires": [
            [
                "5de4c93f0f01b4d6"
            ]
        ]
    },
    {
        "id": "0eba0e0b969d0593",
        "type": "catch",
        "z": "f180ab88.925788",
        "g": "e0de5c166be83216",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "0870cf32565b4686"
            ]
        ]
    },
    {
        "id": "0870cf32565b4686",
        "type": "template",
        "z": "f180ab88.925788",
        "g": "e0de5c166be83216",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "6e9d8a5fbdc3d5d1"
            ]
        ]
    },
    {
        "id": "59411a575525fcee",
        "type": "link out",
        "z": "f180ab88.925788",
        "g": "e0de5c166be83216",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 475,
        "y": 80,
        "wires": []
    },
    {
        "id": "6e9d8a5fbdc3d5d1",
        "type": "template",
        "z": "f180ab88.925788",
        "g": "e0de5c166be83216",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "59411a575525fcee"
            ]
        ]
    },
    {
        "id": "13dd6df8c5e31625",
        "type": "template",
        "z": "e4381ced98d2a929",
        "g": "bd90d247a95feb9d",
        "name": "notification id",
        "field": "notify.notification_id",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "",
        "output": "str",
        "x": 1490,
        "y": 580,
        "wires": [
            [
                "c1f0224f374a67a6"
            ]
        ]
    },
    {
        "id": "c1f0224f374a67a6",
        "type": "join",
        "z": "e4381ced98d2a929",
        "g": "bd90d247a95feb9d",
        "name": "",
        "mode": "custom",
        "build": "merged",
        "property": "notify",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": false,
        "timeout": "",
        "count": "4",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 1630,
        "y": 520,
        "wires": [
            [
                "f5a1c4dd087e0795"
            ]
        ]
    },
    {
        "id": "f5a1c4dd087e0795",
        "type": "link out",
        "z": "e4381ced98d2a929",
        "g": "bd90d247a95feb9d",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "8ed3b0974336e55b",
            "a97f87cfab413716",
            "aeee8468f3d1b7ad",
            "c4660dc11fb0e5b8"
        ],
        "x": 1725,
        "y": 520,
        "wires": []
    },
    {
        "id": "cae0f9255059d5ce",
        "type": "template",
        "z": "e4381ced98d2a929",
        "g": "bd90d247a95feb9d",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Afval",
        "output": "str",
        "x": 1470,
        "y": 500,
        "wires": [
            [
                "c1f0224f374a67a6"
            ]
        ]
    },
    {
        "id": "ad62962b589ed07d",
        "type": "template",
        "z": "e4381ced98d2a929",
        "g": "bd90d247a95feb9d",
        "name": "icon",
        "field": "notify.icon",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "",
        "output": "str",
        "x": 1470,
        "y": 540,
        "wires": [
            [
                "c1f0224f374a67a6"
            ]
        ]
    },
    {
        "id": "c49e5bd8f93bd496",
        "type": "delay",
        "z": "e4381ced98d2a929",
        "g": "12e8b8acaeaeb3fa",
        "name": "",
        "pauseType": "delay",
        "timeout": "20",
        "timeoutUnits": "minutes",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "outputs": 1,
        "x": 1050,
        "y": 340,
        "wires": [
            [
                "9c4864f0ca0d2d96"
            ]
        ]
    },
    {
        "id": "0ccbc5bbe180df8e",
        "type": "delay",
        "z": "e4381ced98d2a929",
        "g": "12e8b8acaeaeb3fa",
        "name": "",
        "pauseType": "delay",
        "timeout": "20",
        "timeoutUnits": "minutes",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "outputs": 1,
        "x": 1050,
        "y": 420,
        "wires": [
            [
                "6f6fc24f15222254"
            ]
        ]
    },
    {
        "id": "c527f80ad015aec2",
        "type": "template",
        "z": "e4381ced98d2a929",
        "g": "12e8b8acaeaeb3fa",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Let op, morgen wordt de {{payload}} container opgehaald.",
        "output": "str",
        "x": 1220,
        "y": 480,
        "wires": [
            [
                "ce2746e7cd66f603"
            ]
        ]
    },
    {
        "id": "47f54cec68e78d0a",
        "type": "switch",
        "z": "e4381ced98d2a929",
        "g": "12e8b8acaeaeb3fa",
        "name": "is not upstairs hall light",
        "property": "payload.entity_id",
        "propertyType": "msg",
        "rules": [
            {
                "t": "neq",
                "v": "light.shelly1_upstairs_hall",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 820,
        "y": 220,
        "wires": [
            [
                "aab38cb48d0dd6a2"
            ]
        ]
    },
    {
        "id": "aab38cb48d0dd6a2",
        "type": "switch",
        "z": "e4381ced98d2a929",
        "g": "12e8b8acaeaeb3fa",
        "name": "is not kitchen light",
        "property": "payload.entity_id",
        "propertyType": "msg",
        "rules": [
            {
                "t": "neq",
                "v": "light.shellydimmer_kitchen",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1030,
        "y": 220,
        "wires": [
            [
                "a1aa1dc96a54a58d"
            ]
        ]
    },
    {
        "id": "7804abbba8a75b19",
        "type": "switch",
        "z": "e4381ced98d2a929",
        "g": "12e8b8acaeaeb3fa",
        "name": "lights on longer then 10 min",
        "property": "payload.timeSinceChangedMs",
        "propertyType": "msg",
        "rules": [
            {
                "t": "gt",
                "v": "60000",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1620,
        "y": 200,
        "wires": [
            [
                "a0bb528ecdb6c5fe"
            ]
        ]
    },
    {
        "id": "a1aa1dc96a54a58d",
        "type": "switch",
        "z": "e4381ced98d2a929",
        "g": "12e8b8acaeaeb3fa",
        "name": "light is bathroom or master_bedroom",
        "property": "payload.entity_id",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "light.shelly1_bathroom",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "light.shellydimmer_master_bedroom",
                "vt": "str"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 3,
        "x": 1290,
        "y": 220,
        "wires": [
            [
                "7804abbba8a75b19"
            ],
            [
                "7804abbba8a75b19"
            ],
            [
                "a0bb528ecdb6c5fe"
            ]
        ]
    },
    {
        "id": "32fb1b9bd5a1bd08",
        "type": "join",
        "z": "e4381ced98d2a929",
        "g": "12e8b8acaeaeb3fa",
        "name": "",
        "mode": "custom",
        "build": "string",
        "property": "payload.attributes.friendly_name",
        "propertyType": "msg",
        "key": "topic",
        "joiner": ", ",
        "joinerType": "str",
        "accumulate": false,
        "timeout": "",
        "count": "",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 1070,
        "y": 720,
        "wires": [
            [
                "06036de6a31877d8"
            ]
        ]
    },
    {
        "id": "06036de6a31877d8",
        "type": "template",
        "z": "e4381ced98d2a929",
        "g": "12e8b8acaeaeb3fa",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "De verwarming in {{{payload.attributes.friendly_name}}} is van handmatig naar automatische stand geschakeld.",
        "output": "str",
        "x": 1220,
        "y": 720,
        "wires": [
            [
                "0e425dc836ddc52f"
            ]
        ]
    },
    {
        "id": "37cd1950eaba0494",
        "type": "template",
        "z": "e4381ced98d2a929",
        "g": "7fe4b7424297ac0b",
        "name": "icon",
        "field": "notify.icon",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": ":door:",
        "output": "str",
        "x": 1470,
        "y": 780,
        "wires": [
            [
                "d4a37aed996e885f"
            ]
        ]
    },
    {
        "id": "8516fb393b7286e1",
        "type": "template",
        "z": "e4381ced98d2a929",
        "g": "7fe4b7424297ac0b",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Verwarming",
        "output": "str",
        "x": 1470,
        "y": 740,
        "wires": [
            [
                "d4a37aed996e885f"
            ]
        ]
    },
    {
        "id": "17afd1b13fd231be",
        "type": "link out",
        "z": "e4381ced98d2a929",
        "g": "7fe4b7424297ac0b",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 1685,
        "y": 760,
        "wires": []
    },
    {
        "id": "d4a37aed996e885f",
        "type": "join",
        "z": "e4381ced98d2a929",
        "g": "7fe4b7424297ac0b",
        "name": "",
        "mode": "custom",
        "build": "merged",
        "property": "notify",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": false,
        "timeout": "",
        "count": "3",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 1590,
        "y": 760,
        "wires": [
            [
                "17afd1b13fd231be"
            ]
        ]
    },
    {
        "id": "731b5d2bba1d9446",
        "type": "switch",
        "z": "e4381ced98d2a929",
        "name": "on / off",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "on",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "off",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 250,
        "y": 200,
        "wires": [
            [
                "df097f62ee343e6b"
            ],
            [
                "8e4b5e877883b3e0"
            ]
        ]
    },
    {
        "id": "07e50e27b098b33c",
        "type": "comment",
        "z": "e4381ced98d2a929",
        "name": "sleepmode",
        "info": "",
        "x": 80,
        "y": 20,
        "wires": []
    },
    {
        "id": "17d6d6ba47815c69",
        "type": "api-call-service",
        "z": "e4381ced98d2a929",
        "g": "12e8b8acaeaeb3fa",
        "name": "turn on basement fan autonomous",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "input_boolean.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_boolean.mechanical_ventilation_basement_autonomous"
        ],
        "labelId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "input_boolean",
        "service": "turn_on",
        "x": 680,
        "y": 1020,
        "wires": [
            []
        ]
    },
    {
        "id": "c5e53f10fcec2a55",
        "type": "api-call-service",
        "z": "e4381ced98d2a929",
        "g": "12e8b8acaeaeb3fa",
        "name": "turn on bathroom fan autonomous",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "input_boolean.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_boolean.mechanical_ventilation_bathroom_autonomous"
        ],
        "labelId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "input_boolean",
        "service": "turn_on",
        "x": 680,
        "y": 960,
        "wires": [
            []
        ]
    },
    {
        "id": "d1324fbb34721b63",
        "type": "api-call-service",
        "z": "e4381ced98d2a929",
        "g": "12e8b8acaeaeb3fa",
        "name": "turn on light kitchen",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "light.shellydimmer_kitchen"
        ],
        "labelId": [],
        "data": "{\"brightness_pct\":45,\"transition\":5000}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "light",
        "service": "turn_on",
        "x": 850,
        "y": 340,
        "wires": [
            [
                "c49e5bd8f93bd496"
            ]
        ]
    },
    {
        "id": "9c4864f0ca0d2d96",
        "type": "api-call-service",
        "z": "e4381ced98d2a929",
        "g": "12e8b8acaeaeb3fa",
        "name": "turn off light kitchen",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "light.shellydimmer_kitchen"
        ],
        "labelId": [],
        "data": "{\"transition\":5000}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "light",
        "service": "turn_off",
        "x": 1250,
        "y": 340,
        "wires": [
            []
        ]
    },
    {
        "id": "6f6fc24f15222254",
        "type": "api-call-service",
        "z": "e4381ced98d2a929",
        "g": "12e8b8acaeaeb3fa",
        "name": "turn on home security",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "input_boolean.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_boolean.home_security"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "input_boolean",
        "service": "turn_on",
        "x": 1260,
        "y": 420,
        "wires": [
            []
        ]
    },
    {
        "id": "ec72f7b2db4cc37c",
        "type": "api-call-service",
        "z": "e4381ced98d2a929",
        "g": "1fb2b225cc711d77",
        "name": "stop timer security",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "timer.cancel",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "timer.home_security"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "timer",
        "service": "cancel",
        "x": 870,
        "y": 1340,
        "wires": [
            []
        ]
    },
    {
        "id": "c20492a470484001",
        "type": "api-call-service",
        "z": "e4381ced98d2a929",
        "g": "12e8b8acaeaeb3fa",
        "name": "start speedtest",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "homeassistant.update_entity",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "sensor.speedtest_download"
        ],
        "labelId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "homeassistant",
        "service": "update_entity",
        "x": 620,
        "y": 280,
        "wires": [
            []
        ]
    },
    {
        "id": "28d474865ab8bbeb",
        "type": "api-call-service",
        "z": "e4381ced98d2a929",
        "g": "1fb2b225cc711d77",
        "name": "turn on light front door ",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "light.shelly1_front_door"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "light",
        "service": "turn_on",
        "x": 1080,
        "y": 1460,
        "wires": [
            []
        ]
    },
    {
        "id": "3392b339fb5fe297",
        "type": "api-call-service",
        "z": "e4381ced98d2a929",
        "g": "1fb2b225cc711d77",
        "name": "turn on light backyard",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "light.shellydimmer_backyard_string_l"
        ],
        "labelId": [],
        "data": "{\"transition\":5000}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "light",
        "service": "turn_on",
        "x": 1080,
        "y": 1400,
        "wires": [
            []
        ]
    },
    {
        "id": "a0bb528ecdb6c5fe",
        "type": "api-call-service",
        "z": "e4381ced98d2a929",
        "g": "12e8b8acaeaeb3fa",
        "name": "turn off lights",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "{{payload.entity_id}}"
        ],
        "labelId": [],
        "data": "{\"transition\":5000}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "light",
        "service": "turn_off",
        "x": 1850,
        "y": 240,
        "wires": [
            []
        ]
    },
    {
        "id": "15feab4d9dbd9466",
        "type": "api-call-service",
        "z": "e4381ced98d2a929",
        "g": "12e8b8acaeaeb3fa",
        "name": "input select entertainment_activity uitschakelen",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "input_select.select_option",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_select.entertainment_activity"
        ],
        "labelId": [],
        "data": "{\"option\":\"Uitschakelen\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "input_select",
        "service": "select_option",
        "x": 1140,
        "y": 660,
        "wires": [
            []
        ]
    },
    {
        "id": "3a5ac0b1670fd20b",
        "type": "api-call-service",
        "z": "e4381ced98d2a929",
        "g": "12e8b8acaeaeb3fa",
        "name": "turn off water heater",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "water_heater.set_operation_mode",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "water_heater.warm_water"
        ],
        "labelId": [],
        "data": "{\"operation_mode\":\"off\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "water_heater",
        "service": "set_operation_mode",
        "x": 640,
        "y": 900,
        "wires": [
            []
        ]
    },
    {
        "id": "a6f1e7fa85069234",
        "type": "api-call-service",
        "z": "e4381ced98d2a929",
        "g": "12e8b8acaeaeb3fa",
        "name": "turn on climate auto mode",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "climate.set_hvac_mode",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "{{payload.entity_id}}"
        ],
        "labelId": [],
        "data": "{\"hvac_mode\":\"auto\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "climate",
        "service": "set_hvac_mode",
        "x": 890,
        "y": 720,
        "wires": [
            [
                "32fb1b9bd5a1bd08"
            ]
        ]
    },
    {
        "id": "f9ccc0bad1f19231",
        "type": "api-call-service",
        "z": "e4381ced98d2a929",
        "g": "13b1135f0e749c31",
        "name": "turn on switch chime active",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "switch.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "switch.smart_doorbell_active"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "switch",
        "service": "turn_on",
        "x": 900,
        "y": 1200,
        "wires": [
            []
        ]
    },
    {
        "id": "38276d0327ca72c0",
        "type": "api-call-service",
        "z": "e4381ced98d2a929",
        "g": "12e8b8acaeaeb3fa",
        "name": "start timer security",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "timer.start",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "timer.home_security"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "timer",
        "service": "start",
        "x": 850,
        "y": 420,
        "wires": [
            [
                "0ccbc5bbe180df8e"
            ]
        ]
    },
    {
        "id": "535a687f3b588b38",
        "type": "api-call-service",
        "z": "e4381ced98d2a929",
        "g": "12e8b8acaeaeb3fa",
        "name": "turn off childlock kitchen",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "switch.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "switch.childlock_kitchen_switch"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "switch",
        "service": "turn_off",
        "x": 930,
        "y": 780,
        "wires": [
            []
        ]
    },
    {
        "id": "844fcee77f57f5de",
        "type": "api-call-service",
        "z": "e4381ced98d2a929",
        "g": "12e8b8acaeaeb3fa",
        "name": "turn off quooker",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "switch.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "switch.shellyplugplus_quooker_switch_0"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "switch",
        "service": "turn_off",
        "x": 840,
        "y": 840,
        "wires": [
            []
        ]
    },
    {
        "id": "3dd82a4a5a5f543f",
        "type": "api-current-state",
        "z": "e4381ced98d2a929",
        "g": "12e8b8acaeaeb3fa",
        "name": "state outdoor dark",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "dark",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "sensor.outdoor_light_dark",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 630,
        "y": 340,
        "wires": [
            [
                "d1324fbb34721b63"
            ],
            [
                "e0259adb4a945229"
            ]
        ]
    },
    {
        "id": "1583a7af300c58e0",
        "type": "api-current-state",
        "z": "e4381ced98d2a929",
        "g": "12e8b8acaeaeb3fa",
        "name": "state home security off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.home_security",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 640,
        "y": 420,
        "wires": [
            [
                "38276d0327ca72c0"
            ],
            []
        ]
    },
    {
        "id": "764ff273496b0193",
        "type": "api-current-state",
        "z": "e4381ced98d2a929",
        "g": "1fb2b225cc711d77",
        "name": "state timer security active",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "active",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "timer.home_security",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "timer.security",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 650,
        "y": 1340,
        "wires": [
            [
                "ec72f7b2db4cc37c"
            ],
            []
        ]
    },
    {
        "id": "dbd19cce541f73bc",
        "type": "api-current-state",
        "z": "e4381ced98d2a929",
        "g": "12e8b8acaeaeb3fa",
        "name": "state garbage tomorrow",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "Geen",
        "halt_if_type": "str",
        "halt_if_compare": "is_not",
        "entity_id": "sensor.afval_morgen",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 870,
        "y": 480,
        "wires": [
            [
                "c527f80ad015aec2"
            ],
            []
        ]
    },
    {
        "id": "5d3c3503fee346db",
        "type": "api-current-state",
        "z": "e4381ced98d2a929",
        "g": "12e8b8acaeaeb3fa",
        "name": "state garbage today",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "Geen",
        "halt_if_type": "str",
        "halt_if_compare": "is_not",
        "entity_id": "sensor.afval_vandaag",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 860,
        "y": 540,
        "wires": [
            [
                "c527f80ad015aec2"
            ],
            []
        ]
    },
    {
        "id": "ab4badbb40ac3f96",
        "type": "api-current-state",
        "z": "e4381ced98d2a929",
        "g": "1fb2b225cc711d77",
        "name": "state outdoor dark",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "dark",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "sensor.outdoor_light_dark",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 630,
        "y": 1400,
        "wires": [
            [
                "3fd3c31faf84dc25",
                "f69361468483265d"
            ],
            []
        ]
    },
    {
        "id": "3fd3c31faf84dc25",
        "type": "api-current-state",
        "z": "e4381ced98d2a929",
        "g": "1fb2b225cc711d77",
        "name": "state frontdoor light off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "light.shelly1_front_door",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 860,
        "y": 1460,
        "wires": [
            [
                "28d474865ab8bbeb"
            ],
            []
        ]
    },
    {
        "id": "f69361468483265d",
        "type": "api-current-state",
        "z": "e4381ced98d2a929",
        "g": "1fb2b225cc711d77",
        "name": "state backyard light off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "light.shellydimmer_backyard_string_l",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 860,
        "y": 1400,
        "wires": [
            [
                "3392b339fb5fe297"
            ],
            []
        ]
    },
    {
        "id": "29aa2542eb146ebc",
        "type": "api-current-state",
        "z": "e4381ced98d2a929",
        "g": "12e8b8acaeaeb3fa",
        "name": "input select entertainment_activity is not uitschakelen",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "Uitschakelen",
        "halt_if_type": "str",
        "halt_if_compare": "is_not",
        "entity_id": "input_select.entertainment_activity",
        "state_type": "str",
        "blockInputOverrides": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 740,
        "y": 660,
        "wires": [
            [
                "15feab4d9dbd9466"
            ],
            []
        ]
    },
    {
        "id": "8ee38710dd301911",
        "type": "api-current-state",
        "z": "e4381ced98d2a929",
        "g": "13b1135f0e749c31",
        "name": "state doorbell chime off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "switch.smart_doorbell_active",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 650,
        "y": 1200,
        "wires": [
            [
                "f9ccc0bad1f19231"
            ],
            []
        ]
    },
    {
        "id": "2d21e3e6cf54e587",
        "type": "api-current-state",
        "z": "e4381ced98d2a929",
        "g": "12e8b8acaeaeb3fa",
        "name": "state childlock kitchen is not off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is_not",
        "entity_id": "switch.childlock_kitchen_switch",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 670,
        "y": 780,
        "wires": [
            [
                "535a687f3b588b38"
            ],
            []
        ]
    },
    {
        "id": "2af51e589fccfb49",
        "type": "api-current-state",
        "z": "e4381ced98d2a929",
        "g": "12e8b8acaeaeb3fa",
        "name": "state quooker not off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is_not",
        "entity_id": "switch.shellyplugplus_quooker_switch_0",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 640,
        "y": 840,
        "wires": [
            [
                "844fcee77f57f5de"
            ],
            []
        ]
    },
    {
        "id": "cf67fede087b2e4b",
        "type": "server-state-changed",
        "z": "e4381ced98d2a929",
        "name": "state sleepmode",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 1,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "input_boolean.sleep_mode"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": true,
        "stateType": "str",
        "ifState": "",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 100,
        "y": 200,
        "wires": [
            [
                "731b5d2bba1d9446"
            ]
        ]
    },
    {
        "id": "269da6e81145bb4b",
        "type": "ha-get-entities",
        "z": "e4381ced98d2a929",
        "g": "12e8b8acaeaeb3fa",
        "name": "lookup lights on",
        "server": "4ba92433.2478cc",
        "version": 1,
        "rules": [
            {
                "property": "entity_id",
                "logic": "starts_with",
                "value": "light.",
                "valueType": "str"
            },
            {
                "property": "state",
                "logic": "is",
                "value": "on",
                "valueType": "str"
            }
        ],
        "outputType": "split",
        "outputEmptyResults": false,
        "outputLocationType": "msg",
        "outputLocation": "payload",
        "outputResultsCount": 1,
        "x": 620,
        "y": 220,
        "wires": [
            [
                "47f54cec68e78d0a"
            ]
        ]
    },
    {
        "id": "7d9091cf95ea29fe",
        "type": "ha-get-entities",
        "z": "e4381ced98d2a929",
        "g": "12e8b8acaeaeb3fa",
        "name": "lookup climate is not auto",
        "server": "4ba92433.2478cc",
        "version": 1,
        "rules": [
            {
                "property": "entity_id",
                "logic": "starts_with",
                "value": "climate.",
                "valueType": "str"
            },
            {
                "property": "state",
                "logic": "is_not",
                "value": "auto",
                "valueType": "str"
            }
        ],
        "outputType": "split",
        "outputEmptyResults": false,
        "outputLocationType": "msg",
        "outputLocation": "payload",
        "outputResultsCount": 1,
        "x": 650,
        "y": 720,
        "wires": [
            [
                "a6f1e7fa85069234"
            ]
        ]
    },
    {
        "id": "cdc4fcc574f8d36a",
        "type": "time-range-switch",
        "z": "e4381ced98d2a929",
        "g": "12e8b8acaeaeb3fa",
        "name": "",
        "lat": "52.0434",
        "lon": "5.6773",
        "startTime": "05:00",
        "endTime": "00:00",
        "startOffset": 0,
        "endOffset": 0,
        "x": 610,
        "y": 480,
        "wires": [
            [
                "dbd19cce541f73bc"
            ],
            [
                "5d3c3503fee346db"
            ]
        ]
    },
    {
        "id": "ecf36f7ae5c5534a",
        "type": "catch",
        "z": "e4381ced98d2a929",
        "g": "1a8cd9cbdf0175d6",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "5680e1adc867d8fa"
            ]
        ]
    },
    {
        "id": "5680e1adc867d8fa",
        "type": "template",
        "z": "e4381ced98d2a929",
        "g": "1a8cd9cbdf0175d6",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "533d62fb78e93dcf"
            ]
        ]
    },
    {
        "id": "89d180847c2436b6",
        "type": "link out",
        "z": "e4381ced98d2a929",
        "g": "1a8cd9cbdf0175d6",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 475,
        "y": 80,
        "wires": []
    },
    {
        "id": "533d62fb78e93dcf",
        "type": "template",
        "z": "e4381ced98d2a929",
        "g": "1a8cd9cbdf0175d6",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "89d180847c2436b6"
            ]
        ]
    },
    {
        "id": "2f3981a6369226a2",
        "type": "api-call-service",
        "z": "e4381ced98d2a929",
        "g": "12e8b8acaeaeb3fa",
        "name": "set volume wall tablet",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "media_player.volume_set",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "media_player.galaxy_tab_a8"
        ],
        "labelId": [],
        "data": "{\"volume_level\":\"0.5\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": true,
        "domain": "media_player",
        "service": "volume_set",
        "x": 640,
        "y": 1080,
        "wires": [
            []
        ]
    },
    {
        "id": "5aad02cc7bf021df",
        "type": "inject",
        "z": "e4381ced98d2a929",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 180,
        "y": 1000,
        "wires": [
            [
                "2f3981a6369226a2"
            ]
        ]
    },
    {
        "id": "2e62b582b5ace0b2",
        "type": "template",
        "z": "645478ab1138fd33",
        "g": "f2952a0e7861984f",
        "name": "icon",
        "field": "notify.icon",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "",
        "output": "str",
        "x": 930,
        "y": 240,
        "wires": [
            [
                "b151676bc37a1e90"
            ]
        ]
    },
    {
        "id": "6011ff5a330d5f46",
        "type": "template",
        "z": "645478ab1138fd33",
        "g": "f2952a0e7861984f",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Alarm",
        "output": "str",
        "x": 930,
        "y": 200,
        "wires": [
            [
                "b151676bc37a1e90"
            ]
        ]
    },
    {
        "id": "b151676bc37a1e90",
        "type": "join",
        "z": "645478ab1138fd33",
        "g": "f2952a0e7861984f",
        "name": "",
        "mode": "custom",
        "build": "merged",
        "property": "notify",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": false,
        "timeout": "",
        "count": "5",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 1090,
        "y": 220,
        "wires": [
            [
                "b41a40c1e135e55c"
            ]
        ]
    },
    {
        "id": "dfebcb371c6d37c4",
        "type": "template",
        "z": "645478ab1138fd33",
        "g": "f2952a0e7861984f",
        "name": "notification id",
        "field": "notify.notification_id",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "backyard_alarm",
        "output": "str",
        "x": 950,
        "y": 280,
        "wires": [
            [
                "b151676bc37a1e90"
            ]
        ]
    },
    {
        "id": "b41a40c1e135e55c",
        "type": "link out",
        "z": "645478ab1138fd33",
        "g": "f2952a0e7861984f",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "8ed3b0974336e55b"
        ],
        "x": 1175,
        "y": 220,
        "wires": []
    },
    {
        "id": "ed20a5d29a5eb136",
        "type": "template",
        "z": "645478ab1138fd33",
        "g": "f2952a0e7861984f",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Beweging in de achtertuin gedetecteerd!",
        "output": "str",
        "x": 940,
        "y": 320,
        "wires": [
            [
                "b151676bc37a1e90"
            ]
        ]
    },
    {
        "id": "29504140078fb34c",
        "type": "template",
        "z": "645478ab1138fd33",
        "g": "f2952a0e7861984f",
        "name": "notification channel",
        "field": "notify.channel",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Warning",
        "output": "str",
        "x": 970,
        "y": 360,
        "wires": [
            [
                "b151676bc37a1e90"
            ]
        ]
    },
    {
        "id": "c468b53056a67579",
        "type": "comment",
        "z": "645478ab1138fd33",
        "name": "Backyard motion detection flow",
        "info": "",
        "x": 150,
        "y": 20,
        "wires": []
    },
    {
        "id": "1117f663f7ece955",
        "type": "change",
        "z": "645478ab1138fd33",
        "name": "set msg.alarm on",
        "rules": [
            {
                "t": "set",
                "p": "alarm",
                "pt": "msg",
                "to": "on",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 630,
        "y": 180,
        "wires": [
            [
                "133af224fc73de70",
                "be68c8baf380f74e"
            ]
        ]
    },
    {
        "id": "56c442aec754c164",
        "type": "change",
        "z": "645478ab1138fd33",
        "name": "set msg.alarm off",
        "rules": [
            {
                "t": "set",
                "p": "alarm",
                "pt": "msg",
                "to": "off",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 630,
        "y": 220,
        "wires": [
            [
                "133af224fc73de70"
            ]
        ]
    },
    {
        "id": "133af224fc73de70",
        "type": "link out",
        "z": "645478ab1138fd33",
        "name": "link_out_light_dynamics_1",
        "mode": "link",
        "links": [
            "164322a018845856"
        ],
        "x": 815,
        "y": 440,
        "wires": []
    },
    {
        "id": "f3661c593b291998",
        "type": "api-call-service",
        "z": "645478ab1138fd33",
        "name": "turn on light",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "light.shelly1_barn_door"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "light",
        "service": "turn_on",
        "x": 790,
        "y": 500,
        "wires": [
            [
                "f75dd0a2cc5c194e"
            ]
        ]
    },
    {
        "id": "0361aab005f490ca",
        "type": "api-call-service",
        "z": "645478ab1138fd33",
        "name": "turn off light",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "light.shelly1_barn_door"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "light",
        "service": "turn_off",
        "x": 1090,
        "y": 500,
        "wires": [
            []
        ]
    },
    {
        "id": "1454a2634cd314fa",
        "type": "api-current-state",
        "z": "645478ab1138fd33",
        "name": "home security is on",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.home_security",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 410,
        "y": 180,
        "wires": [
            [
                "1117f663f7ece955"
            ],
            [
                "fc028de8398c35cd"
            ]
        ]
    },
    {
        "id": "fc028de8398c35cd",
        "type": "api-current-state",
        "z": "645478ab1138fd33",
        "name": "is dark outside",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "dark",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "sensor.outdoor_light_dark",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 620,
        "y": 500,
        "wires": [
            [
                "f3661c593b291998"
            ],
            []
        ]
    },
    {
        "id": "4f5603c50cf3e3f1",
        "type": "server-state-changed",
        "z": "645478ab1138fd33",
        "name": "backyard motion sensor 01 is on",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "binary_sensor.backyard_motion_sensor_01_motion"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": false,
        "stateType": "str",
        "ifState": "on",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 150,
        "y": 180,
        "wires": [
            [
                "1454a2634cd314fa"
            ],
            [
                "abca9d489cb39d05"
            ]
        ]
    },
    {
        "id": "f75dd0a2cc5c194e",
        "type": "ha-wait-until",
        "z": "645478ab1138fd33",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "entities": {
            "entity": [
                "binary_sensor.backyard_motion_sensor_01_motion"
            ],
            "substring": [],
            "regex": []
        },
        "property": "state",
        "comparator": "is",
        "value": "off",
        "valueType": "str",
        "timeout": "5",
        "timeoutType": "num",
        "timeoutUnits": "minutes",
        "checkCurrentState": true,
        "blockInputOverrides": true,
        "outputProperties": [],
        "entityLocation": "data",
        "entityLocationType": "none",
        "x": 940,
        "y": 500,
        "wires": [
            [
                "0361aab005f490ca"
            ],
            [
                "0361aab005f490ca"
            ]
        ]
    },
    {
        "id": "584b6ef4305b94bf",
        "type": "catch",
        "z": "645478ab1138fd33",
        "g": "30dd8f4e4a961d46",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "b041bd0930b42e26"
            ]
        ]
    },
    {
        "id": "b041bd0930b42e26",
        "type": "template",
        "z": "645478ab1138fd33",
        "g": "30dd8f4e4a961d46",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "fcd114f75c18ca9a"
            ]
        ]
    },
    {
        "id": "88c8645165323767",
        "type": "link out",
        "z": "645478ab1138fd33",
        "g": "30dd8f4e4a961d46",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 475,
        "y": 80,
        "wires": []
    },
    {
        "id": "fcd114f75c18ca9a",
        "type": "template",
        "z": "645478ab1138fd33",
        "g": "30dd8f4e4a961d46",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "88c8645165323767"
            ]
        ]
    },
    {
        "id": "16bf3029dc11f50b",
        "type": "template",
        "z": "b13ca13c.9328e",
        "g": "37c7c59a61d38b32",
        "name": "icon",
        "field": "notify.icon",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "",
        "output": "str",
        "x": 1850,
        "y": 360,
        "wires": [
            [
                "1c8dfa7ab499ce29"
            ]
        ]
    },
    {
        "id": "8bd6ce7359e6fe2f",
        "type": "template",
        "z": "b13ca13c.9328e",
        "g": "37c7c59a61d38b32",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Beveiliging",
        "output": "str",
        "x": 1850,
        "y": 280,
        "wires": [
            [
                "1c8dfa7ab499ce29"
            ]
        ]
    },
    {
        "id": "48cae6c1e3fb0c75",
        "type": "link out",
        "z": "b13ca13c.9328e",
        "g": "37c7c59a61d38b32",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "c76d311bb4b6991b",
            "d1753081ba6b4004"
        ],
        "x": 2115,
        "y": 320,
        "wires": []
    },
    {
        "id": "1c8dfa7ab499ce29",
        "type": "join",
        "z": "b13ca13c.9328e",
        "g": "37c7c59a61d38b32",
        "name": "",
        "mode": "custom",
        "build": "merged",
        "property": "notify",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": false,
        "timeout": "",
        "count": "9",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 2030,
        "y": 320,
        "wires": [
            [
                "48cae6c1e3fb0c75"
            ]
        ]
    },
    {
        "id": "3f7e2f446cdb3e90",
        "type": "change",
        "z": "b13ca13c.9328e",
        "g": "37c7c59a61d38b32",
        "name": "action titles",
        "rules": [
            {
                "t": "set",
                "p": "notify.action_1_title",
                "pt": "msg",
                "to": "JA",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "notify.action_2_title",
                "pt": "msg",
                "to": "NEE",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "notify.action_1",
                "pt": "msg",
                "to": "HOME_SECURITY_OFF",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "notify.action_2",
                "pt": "msg",
                "to": "IGNORE",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1870,
        "y": 320,
        "wires": [
            [
                "1c8dfa7ab499ce29"
            ]
        ]
    },
    {
        "id": "66e66f9f5828f878",
        "type": "template",
        "z": "b13ca13c.9328e",
        "g": "37c7c59a61d38b32",
        "name": "id",
        "field": "notify.notification_id",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "home_security",
        "output": "str",
        "x": 1850,
        "y": 400,
        "wires": [
            [
                "1c8dfa7ab499ce29"
            ]
        ]
    },
    {
        "id": "dab28de38f3a6629",
        "type": "template",
        "z": "b13ca13c.9328e",
        "g": "1b05fecd5ed3289b",
        "name": "icon",
        "field": "notify.icon",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "",
        "output": "str",
        "x": 1850,
        "y": 580,
        "wires": [
            [
                "47c9e5d66b827b3c"
            ]
        ]
    },
    {
        "id": "ab8c69e6298f0ad4",
        "type": "template",
        "z": "b13ca13c.9328e",
        "g": "1b05fecd5ed3289b",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Beveiliging",
        "output": "str",
        "x": 1850,
        "y": 540,
        "wires": [
            [
                "47c9e5d66b827b3c"
            ]
        ]
    },
    {
        "id": "ac254d4235d71700",
        "type": "link out",
        "z": "b13ca13c.9328e",
        "g": "1b05fecd5ed3289b",
        "name": "link_out_notify_2",
        "mode": "link",
        "links": [
            "c13b2b4d87067c17",
            "c4660dc11fb0e5b8"
        ],
        "x": 2115,
        "y": 580,
        "wires": []
    },
    {
        "id": "47c9e5d66b827b3c",
        "type": "join",
        "z": "b13ca13c.9328e",
        "g": "1b05fecd5ed3289b",
        "name": "",
        "mode": "custom",
        "build": "merged",
        "property": "notify",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": false,
        "timeout": "",
        "count": "5",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 2030,
        "y": 580,
        "wires": [
            [
                "ac254d4235d71700"
            ]
        ]
    },
    {
        "id": "52d10ab03d478bae",
        "type": "template",
        "z": "b13ca13c.9328e",
        "g": "1b05fecd5ed3289b",
        "name": "id",
        "field": "notify.notification_id",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "",
        "output": "str",
        "x": 1850,
        "y": 620,
        "wires": [
            [
                "47c9e5d66b827b3c"
            ]
        ]
    },
    {
        "id": "322d16b061f4e108",
        "type": "template",
        "z": "b13ca13c.9328e",
        "g": "1b05fecd5ed3289b",
        "name": "channel",
        "field": "notify.channel",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Warning",
        "output": "str",
        "x": 1860,
        "y": 660,
        "wires": [
            [
                "47c9e5d66b827b3c"
            ]
        ]
    },
    {
        "id": "5922c1dac60ed4ec",
        "type": "template",
        "z": "b13ca13c.9328e",
        "g": "37c7c59a61d38b32",
        "name": "channel",
        "field": "notify.channel",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Warning",
        "output": "str",
        "x": 1860,
        "y": 440,
        "wires": [
            [
                "1c8dfa7ab499ce29"
            ]
        ]
    },
    {
        "id": "9b797c1b.4dc83",
        "type": "switch",
        "z": "b13ca13c.9328e",
        "name": "on/off",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "on",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "off",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 270,
        "y": 200,
        "wires": [
            [
                "e3f16390.e04ac"
            ],
            []
        ]
    },
    {
        "id": "d60f34c7.e15c08",
        "type": "comment",
        "z": "b13ca13c.9328e",
        "name": "home security",
        "info": "",
        "x": 90,
        "y": 20,
        "wires": []
    },
    {
        "id": "5bee85e2.5958fc",
        "type": "template",
        "z": "b13ca13c.9328e",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Het alarm gaat af! Beveiliging uitschakelen?",
        "output": "str",
        "x": 1600,
        "y": 240,
        "wires": [
            [
                "3ad564319a62aa0f"
            ]
        ]
    },
    {
        "id": "f717f95f.430aa8",
        "type": "switch",
        "z": "b13ca13c.9328e",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "on",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "off",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 270,
        "y": 380,
        "wires": [
            [
                "50a28070.5f3b8"
            ],
            [
                "50a28070.5f3b8",
                "2f8f5ff2.f712d",
                "7a028f41.56997"
            ]
        ]
    },
    {
        "id": "40140a3.8383df4",
        "type": "template",
        "z": "b13ca13c.9328e",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "De {{data.new_state.attributes.friendly_name}} is geopend met beveiliging aan. Beveiliging uitschakelen?",
        "output": "str",
        "x": 1600,
        "y": 320,
        "wires": [
            [
                "3ad564319a62aa0f"
            ]
        ]
    },
    {
        "id": "e3f16390.e04ac",
        "type": "change",
        "z": "b13ca13c.9328e",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "Huis beveiliging",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 410,
        "y": 200,
        "wires": [
            [
                "5930459.94035bc"
            ]
        ]
    },
    {
        "id": "a9b6866b3f96e444",
        "type": "comment",
        "z": "b13ca13c.9328e",
        "name": "listen to action notification answer event ",
        "info": "",
        "x": 190,
        "y": 700,
        "wires": []
    },
    {
        "id": "85c14e5d7384e6c6",
        "type": "template",
        "z": "b13ca13c.9328e",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Het alarm gaat af! Schakel beveiliging uit in Home Assistant.",
        "output": "str",
        "x": 1600,
        "y": 280,
        "wires": [
            [
                "3a0c4f886a8c4e54"
            ]
        ]
    },
    {
        "id": "668b5737b0f584a7",
        "type": "template",
        "z": "b13ca13c.9328e",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "De {{data.new_state.attributes.friendly_name}} is geopend met beveiliging aan, schakel beveiliging uit in Home Assistant.",
        "output": "str",
        "x": 1600,
        "y": 360,
        "wires": [
            [
                "3a0c4f886a8c4e54"
            ]
        ]
    },
    {
        "id": "90650fd4618583b4",
        "type": "comment",
        "z": "b13ca13c.9328e",
        "name": "turn on lights when alarm is on",
        "info": "",
        "x": 160,
        "y": 580,
        "wires": []
    },
    {
        "id": "5874beb71c3c9523",
        "type": "link out",
        "z": "b13ca13c.9328e",
        "name": "link_out_light_dynamics_1",
        "mode": "link",
        "links": [
            "43cbfb522e72cbe5"
        ],
        "x": 175,
        "y": 620,
        "wires": []
    },
    {
        "id": "1e0c9024.40fd9",
        "type": "api-call-service",
        "z": "b13ca13c.9328e",
        "name": "turn on alarm",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "input_boolean.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_boolean.alarm"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "input_boolean",
        "service": "turn_on",
        "x": 1610,
        "y": 180,
        "wires": [
            []
        ]
    },
    {
        "id": "3e130ee2.3c60c2",
        "type": "api-call-service",
        "z": "b13ca13c.9328e",
        "name": "cancel home security timer",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "timer.cancel",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "timer.home_security"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "data"
            }
        ],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "timer",
        "service": "cancel",
        "x": 740,
        "y": 380,
        "wires": [
            []
        ]
    },
    {
        "id": "2f8f5ff2.f712d",
        "type": "api-call-service",
        "z": "b13ca13c.9328e",
        "name": "turn off alarm",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "input_boolean.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_boolean.alarm"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "input_boolean",
        "service": "turn_off",
        "x": 430,
        "y": 440,
        "wires": [
            []
        ]
    },
    {
        "id": "4a56a5d0.e5ef1c",
        "type": "api-call-service",
        "z": "b13ca13c.9328e",
        "name": "start alarm_countdown timer",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "timer.start",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "timer.alarm_countdown"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "timer",
        "service": "start",
        "x": 860,
        "y": 200,
        "wires": [
            []
        ]
    },
    {
        "id": "b02d4bae2805d336",
        "type": "api-call-service",
        "z": "b13ca13c.9328e",
        "name": "turn off home security",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "input_boolean.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_boolean.home_security"
        ],
        "labelId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "input_boolean",
        "service": "turn_off",
        "x": 320,
        "y": 740,
        "wires": [
            []
        ]
    },
    {
        "id": "7a028f41.56997",
        "type": "api-call-service",
        "z": "b13ca13c.9328e",
        "name": "cancel alarm countdown timer",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "timer.cancel",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "timer.alarm_countdown"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "data"
            }
        ],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "timer",
        "service": "cancel",
        "x": 490,
        "y": 500,
        "wires": [
            []
        ]
    },
    {
        "id": "5930459.94035bc",
        "type": "api-current-state",
        "z": "b13ca13c.9328e",
        "name": "home security is on",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.home_security",
        "state_type": "str",
        "blockInputOverrides": true,
        "outputProperties": [
            {
                "property": "input_boolean.home_security",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 590,
        "y": 200,
        "wires": [
            [
                "4a56a5d0.e5ef1c",
                "1d1ec90f6d5f3048"
            ],
            []
        ]
    },
    {
        "id": "50a28070.5f3b8",
        "type": "api-current-state",
        "z": "b13ca13c.9328e",
        "name": "home security timer is active",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "active",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "timer.home_security",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "timer.security",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 480,
        "y": 380,
        "wires": [
            [
                "3e130ee2.3c60c2"
            ],
            []
        ]
    },
    {
        "id": "2e6f78bf3abd8343",
        "type": "api-current-state",
        "z": "b13ca13c.9328e",
        "name": "home security is on",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.home_security",
        "state_type": "str",
        "blockInputOverrides": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 1390,
        "y": 200,
        "wires": [
            [
                "1e0c9024.40fd9",
                "5bee85e2.5958fc",
                "85c14e5d7384e6c6"
            ],
            []
        ]
    },
    {
        "id": "e3606fa703de9ce3",
        "type": "server-events",
        "z": "b13ca13c.9328e",
        "name": "mobile event listner",
        "server": "4ba92433.2478cc",
        "version": 3,
        "exposeAsEntityConfig": "",
        "eventType": "mobile_app_notification_action",
        "eventData": "{\"action\":\"HOME_SECURITY_OFF\"}",
        "waitForRunning": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "$outputData(\"eventData\").event_type",
                "valueType": "jsonata"
            }
        ],
        "event_type": "",
        "x": 110,
        "y": 740,
        "wires": [
            [
                "b02d4bae2805d336"
            ]
        ]
    },
    {
        "id": "e70a87b9c4e52e05",
        "type": "server-events",
        "z": "b13ca13c.9328e",
        "name": "alarm countdown timer finished",
        "server": "4ba92433.2478cc",
        "version": 3,
        "exposeAsEntityConfig": "",
        "eventType": "timer.finished",
        "eventData": "{\"entity_id\":\"timer.alarm_countdown\"}",
        "waitForRunning": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "$outputData(\"eventData\").event_type",
                "valueType": "jsonata"
            }
        ],
        "x": 1150,
        "y": 200,
        "wires": [
            [
                "2e6f78bf3abd8343"
            ]
        ]
    },
    {
        "id": "24ab3051.7c08e",
        "type": "server-state-changed",
        "z": "b13ca13c.9328e",
        "name": "state backdoor",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 1,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "binary_sensor.backdoor"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": false,
        "stateType": "str",
        "ifState": "",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 100,
        "y": 260,
        "wires": [
            [
                "9b797c1b.4dc83"
            ]
        ]
    },
    {
        "id": "b2a6a7bd.0318b8",
        "type": "server-state-changed",
        "z": "b13ca13c.9328e",
        "name": "state front door",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 1,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "binary_sensor.frontdoor"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": false,
        "stateType": "str",
        "ifState": "",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 100,
        "y": 200,
        "wires": [
            [
                "9b797c1b.4dc83"
            ]
        ]
    },
    {
        "id": "218b9cc3.1e7df4",
        "type": "server-state-changed",
        "z": "b13ca13c.9328e",
        "name": "state home security",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 1,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "input_boolean.home_security"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": false,
        "stateType": "str",
        "ifState": "",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 110,
        "y": 380,
        "wires": [
            [
                "f717f95f.430aa8"
            ]
        ]
    },
    {
        "id": "e19d09cced81d589",
        "type": "server-state-changed",
        "z": "b13ca13c.9328e",
        "name": "alarm is on",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 1,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "input_boolean.alarm"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": false,
        "stateType": "str",
        "ifState": "",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": true,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "alarm",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            }
        ],
        "x": 80,
        "y": 620,
        "wires": [
            [
                "5874beb71c3c9523"
            ]
        ]
    },
    {
        "id": "14ba38184c7546c9",
        "type": "catch",
        "z": "b13ca13c.9328e",
        "g": "5818abbf91245841",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "827b55ddfe680440"
            ]
        ]
    },
    {
        "id": "827b55ddfe680440",
        "type": "template",
        "z": "b13ca13c.9328e",
        "g": "5818abbf91245841",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "072a523a6fd161e6"
            ]
        ]
    },
    {
        "id": "200857993ae893c3",
        "type": "link out",
        "z": "b13ca13c.9328e",
        "g": "5818abbf91245841",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 475,
        "y": 80,
        "wires": []
    },
    {
        "id": "072a523a6fd161e6",
        "type": "template",
        "z": "b13ca13c.9328e",
        "g": "5818abbf91245841",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "200857993ae893c3"
            ]
        ]
    },
    {
        "id": "e986602efbf956a6",
        "type": "template",
        "z": "2fdf3d9bec5f1748",
        "g": "0490826048e616a0",
        "name": "notification channel",
        "field": "notify.channel",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Warning",
        "output": "str",
        "x": 1350,
        "y": 360,
        "wires": [
            [
                "f513a1a6c1ad56d9"
            ]
        ]
    },
    {
        "id": "dedcddec2131fd4e",
        "type": "template",
        "z": "2fdf3d9bec5f1748",
        "g": "0490826048e616a0",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Beweging in de keuken gedetecteerd!",
        "output": "str",
        "x": 1320,
        "y": 320,
        "wires": [
            [
                "f513a1a6c1ad56d9"
            ]
        ]
    },
    {
        "id": "335c7c4596657191",
        "type": "link out",
        "z": "2fdf3d9bec5f1748",
        "g": "0490826048e616a0",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "8ed3b0974336e55b"
        ],
        "x": 1555,
        "y": 220,
        "wires": []
    },
    {
        "id": "2137fd353b4905ee",
        "type": "template",
        "z": "2fdf3d9bec5f1748",
        "g": "0490826048e616a0",
        "name": "notification id",
        "field": "notify.notification_id",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "kitchen_alarm",
        "output": "str",
        "x": 1330,
        "y": 280,
        "wires": [
            [
                "f513a1a6c1ad56d9"
            ]
        ]
    },
    {
        "id": "f513a1a6c1ad56d9",
        "type": "join",
        "z": "2fdf3d9bec5f1748",
        "g": "0490826048e616a0",
        "name": "",
        "mode": "custom",
        "build": "merged",
        "property": "notify",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": false,
        "timeout": "",
        "count": "5",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 1470,
        "y": 220,
        "wires": [
            [
                "335c7c4596657191"
            ]
        ]
    },
    {
        "id": "28d7678ffbc9ea54",
        "type": "template",
        "z": "2fdf3d9bec5f1748",
        "g": "0490826048e616a0",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Alarm",
        "output": "str",
        "x": 1310,
        "y": 200,
        "wires": [
            [
                "f513a1a6c1ad56d9"
            ]
        ]
    },
    {
        "id": "6e679db82914212d",
        "type": "template",
        "z": "2fdf3d9bec5f1748",
        "g": "0490826048e616a0",
        "name": "icon",
        "field": "notify.icon",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "",
        "output": "str",
        "x": 1310,
        "y": 240,
        "wires": [
            [
                "f513a1a6c1ad56d9"
            ]
        ]
    },
    {
        "id": "769359a8fd5e96e4",
        "type": "comment",
        "z": "2fdf3d9bec5f1748",
        "name": "Kitchen motion detection flow",
        "info": "",
        "x": 140,
        "y": 20,
        "wires": []
    },
    {
        "id": "703bd25addecc618",
        "type": "change",
        "z": "2fdf3d9bec5f1748",
        "name": "set msg.alarm on",
        "rules": [
            {
                "t": "set",
                "p": "alarm",
                "pt": "msg",
                "to": "on",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1010,
        "y": 180,
        "wires": [
            [
                "411c3c903ef0bd56",
                "509313ec35867636"
            ]
        ]
    },
    {
        "id": "609e3ac6425b0cac",
        "type": "change",
        "z": "2fdf3d9bec5f1748",
        "name": "set msg.alarm off",
        "rules": [
            {
                "t": "set",
                "p": "alarm",
                "pt": "msg",
                "to": "off",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1010,
        "y": 220,
        "wires": [
            [
                "411c3c903ef0bd56"
            ]
        ]
    },
    {
        "id": "411c3c903ef0bd56",
        "type": "link out",
        "z": "2fdf3d9bec5f1748",
        "name": "link_out_light_dynamics_1",
        "mode": "link",
        "links": [
            "5d17a23a9ac5fe01"
        ],
        "x": 1205,
        "y": 460,
        "wires": []
    },
    {
        "id": "96e5fecc3b401af6",
        "type": "api-current-state",
        "z": "2fdf3d9bec5f1748",
        "name": "home security is on",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.home_security",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 370,
        "y": 180,
        "wires": [
            [
                "7b68d77ebd125cba"
            ],
            []
        ]
    },
    {
        "id": "7b68d77ebd125cba",
        "type": "api-current-state",
        "z": "2fdf3d9bec5f1748",
        "name": "nobody is home",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "not_home",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "group.persons",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 560,
        "y": 180,
        "wires": [
            [
                "b654879d08aad928"
            ],
            []
        ]
    },
    {
        "id": "b654879d08aad928",
        "type": "api-current-state",
        "z": "2fdf3d9bec5f1748",
        "name": "guest mode is off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.guest",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 750,
        "y": 180,
        "wires": [
            [
                "703bd25addecc618"
            ],
            []
        ]
    },
    {
        "id": "3a6a5555b220835e",
        "type": "server-state-changed",
        "z": "2fdf3d9bec5f1748",
        "name": "wall tablet motion sensor",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "binary_sensor.wall_tablet"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": false,
        "stateType": "str",
        "ifState": "on",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 130,
        "y": 180,
        "wires": [
            [
                "96e5fecc3b401af6"
            ],
            [
                "3564b4f51c2e9f2b"
            ]
        ]
    },
    {
        "id": "e49b1a71f5484e62",
        "type": "catch",
        "z": "2fdf3d9bec5f1748",
        "g": "8e49d14f6c55b86d",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "370797ef44bacff0"
            ]
        ]
    },
    {
        "id": "370797ef44bacff0",
        "type": "template",
        "z": "2fdf3d9bec5f1748",
        "g": "8e49d14f6c55b86d",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "796c20cfef0a4084"
            ]
        ]
    },
    {
        "id": "d6b4445ad7f5062a",
        "type": "link out",
        "z": "2fdf3d9bec5f1748",
        "g": "8e49d14f6c55b86d",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 475,
        "y": 80,
        "wires": []
    },
    {
        "id": "796c20cfef0a4084",
        "type": "template",
        "z": "2fdf3d9bec5f1748",
        "g": "8e49d14f6c55b86d",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "d6b4445ad7f5062a"
            ]
        ]
    },
    {
        "id": "8ca7529cee95086c",
        "type": "template",
        "z": "cde79c08.e4f488",
        "g": "60a8ffbec987c377",
        "name": "notification channel",
        "field": "notify.channel",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Warning",
        "output": "str",
        "x": 990,
        "y": 400,
        "wires": [
            [
                "9a02e08c1760e584"
            ]
        ]
    },
    {
        "id": "af6a4d51c1e99b4e",
        "type": "template",
        "z": "cde79c08.e4f488",
        "g": "60a8ffbec987c377",
        "name": "icon",
        "field": "notify.icon",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "",
        "output": "str",
        "x": 950,
        "y": 320,
        "wires": [
            [
                "9a02e08c1760e584"
            ]
        ]
    },
    {
        "id": "8bda876328e49e67",
        "type": "template",
        "z": "cde79c08.e4f488",
        "g": "60a8ffbec987c377",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Alarm",
        "output": "str",
        "x": 950,
        "y": 280,
        "wires": [
            [
                "9a02e08c1760e584"
            ]
        ]
    },
    {
        "id": "fdba7cd037a9da5a",
        "type": "link out",
        "z": "cde79c08.e4f488",
        "g": "60a8ffbec987c377",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "8ed3b0974336e55b",
            "aeee8468f3d1b7ad",
            "c4660dc11fb0e5b8"
        ],
        "x": 1205,
        "y": 300,
        "wires": []
    },
    {
        "id": "9a02e08c1760e584",
        "type": "join",
        "z": "cde79c08.e4f488",
        "g": "60a8ffbec987c377",
        "name": "",
        "mode": "custom",
        "build": "merged",
        "property": "notify",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": false,
        "timeout": "",
        "count": "5",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 1110,
        "y": 300,
        "wires": [
            [
                "fdba7cd037a9da5a"
            ]
        ]
    },
    {
        "id": "c7b88c5f533c105b",
        "type": "template",
        "z": "cde79c08.e4f488",
        "g": "60a8ffbec987c377",
        "name": "notification id",
        "field": "notify.notification_id",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "firealarm",
        "output": "str",
        "x": 970,
        "y": 360,
        "wires": [
            [
                "9a02e08c1760e584"
            ]
        ]
    },
    {
        "id": "dc93ddfe.5bd4a",
        "type": "comment",
        "z": "cde79c08.e4f488",
        "name": "notify when a smoke or co alarm goes on",
        "info": "notify when a message appears in pfsense",
        "x": 180,
        "y": 20,
        "wires": []
    },
    {
        "id": "3fdbb752.798ec8",
        "type": "template",
        "z": "cde79c08.e4f488",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "{{test_message}}Er is rook gedecteerd in de {{location}}!",
        "output": "str",
        "x": 660,
        "y": 420,
        "wires": [
            [
                "8f9a86a6.9ca938"
            ]
        ]
    },
    {
        "id": "acaf455.81dc638",
        "type": "change",
        "z": "cde79c08.e4f488",
        "name": "set msg.alarm on",
        "rules": [
            {
                "t": "set",
                "p": "alarm",
                "pt": "msg",
                "to": "on",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 990,
        "y": 520,
        "wires": [
            [
                "e426c9cc0865f723"
            ]
        ]
    },
    {
        "id": "7cdcd90a.9cd33",
        "type": "template",
        "z": "cde79c08.e4f488",
        "name": "location livingroom",
        "field": "location",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "woonkamer",
        "output": "str",
        "x": 430,
        "y": 380,
        "wires": [
            [
                "3fdbb752.798ec8"
            ]
        ]
    },
    {
        "id": "3f622d19.96609a",
        "type": "template",
        "z": "cde79c08.e4f488",
        "name": "location upstairs",
        "field": "location",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "hal boven",
        "output": "str",
        "x": 420,
        "y": 420,
        "wires": [
            [
                "3fdbb752.798ec8"
            ]
        ]
    },
    {
        "id": "c5e700b.742ef",
        "type": "template",
        "z": "cde79c08.e4f488",
        "name": "location basement",
        "field": "location",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "kelder",
        "output": "str",
        "x": 430,
        "y": 460,
        "wires": [
            [
                "3fdbb752.798ec8"
            ]
        ]
    },
    {
        "id": "8f9a86a6.9ca938",
        "type": "switch",
        "z": "cde79c08.e4f488",
        "name": "on / off",
        "property": "alarm_state",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "on",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "off",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 790,
        "y": 520,
        "wires": [
            [
                "acaf455.81dc638",
                "ef17b4eb0dc0871b"
            ],
            [
                "56c87bdc.b016ac"
            ]
        ]
    },
    {
        "id": "56c87bdc.b016ac",
        "type": "change",
        "z": "cde79c08.e4f488",
        "name": "set msg.alarm off",
        "rules": [
            {
                "t": "set",
                "p": "alarm",
                "pt": "msg",
                "to": "off",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 990,
        "y": 560,
        "wires": [
            [
                "e426c9cc0865f723"
            ]
        ]
    },
    {
        "id": "2174c321b4d32ca8",
        "type": "template",
        "z": "cde79c08.e4f488",
        "name": "location livingroom",
        "field": "location",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "woonkamer",
        "output": "str",
        "x": 430,
        "y": 200,
        "wires": [
            [
                "3c51dd96d91e1bc6"
            ]
        ]
    },
    {
        "id": "091db6919a07bcbc",
        "type": "template",
        "z": "cde79c08.e4f488",
        "name": "location upstairs",
        "field": "location",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "hal boven",
        "output": "str",
        "x": 420,
        "y": 240,
        "wires": [
            [
                "3c51dd96d91e1bc6"
            ]
        ]
    },
    {
        "id": "05b4a765aa5d138e",
        "type": "template",
        "z": "cde79c08.e4f488",
        "name": "location basement",
        "field": "location",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "kelder",
        "output": "str",
        "x": 430,
        "y": 280,
        "wires": [
            [
                "3c51dd96d91e1bc6"
            ]
        ]
    },
    {
        "id": "3c51dd96d91e1bc6",
        "type": "template",
        "z": "cde79c08.e4f488",
        "name": "test message",
        "field": "test_message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Dit is een test.",
        "output": "str",
        "x": 670,
        "y": 260,
        "wires": [
            [
                "3fdbb752.798ec8"
            ]
        ]
    },
    {
        "id": "f7bea18edd3df74d",
        "type": "template",
        "z": "cde79c08.e4f488",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "{{test_message}}Er is koolmonoxide gedecteerd in de {{location}}, open ramen en deuren!",
        "output": "str",
        "x": 660,
        "y": 600,
        "wires": [
            [
                "8f9a86a6.9ca938"
            ]
        ]
    },
    {
        "id": "7796933fbf4a81d9",
        "type": "template",
        "z": "cde79c08.e4f488",
        "name": "location livingroom",
        "field": "location",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "woonkamer",
        "output": "str",
        "x": 430,
        "y": 560,
        "wires": [
            [
                "f7bea18edd3df74d"
            ]
        ]
    },
    {
        "id": "e158e20d0b4d314e",
        "type": "template",
        "z": "cde79c08.e4f488",
        "name": "location upstairs",
        "field": "location",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "hal boven",
        "output": "str",
        "x": 420,
        "y": 600,
        "wires": [
            [
                "f7bea18edd3df74d"
            ]
        ]
    },
    {
        "id": "44c54d3a1158ddbd",
        "type": "template",
        "z": "cde79c08.e4f488",
        "name": "location basement",
        "field": "location",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "kelder",
        "output": "str",
        "x": 430,
        "y": 640,
        "wires": [
            [
                "f7bea18edd3df74d"
            ]
        ]
    },
    {
        "id": "e426c9cc0865f723",
        "type": "link out",
        "z": "cde79c08.e4f488",
        "name": "link_out_light_dynamics_1",
        "mode": "link",
        "links": [
            "43cbfb522e72cbe5"
        ],
        "x": 1125,
        "y": 540,
        "wires": []
    },
    {
        "id": "743eb0e6.61b368",
        "type": "server-state-changed",
        "z": "cde79c08.e4f488",
        "name": "smoke co alarm test livingroom",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 1,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "binary_sensor.firtsalert_living_room_smoke_alarm_test"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": false,
        "stateType": "str",
        "ifState": "",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "alarm_state",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 150,
        "y": 200,
        "wires": [
            [
                "2174c321b4d32ca8"
            ]
        ]
    },
    {
        "id": "bc9788a0.2fc028",
        "type": "server-state-changed",
        "z": "cde79c08.e4f488",
        "name": "smoke detected livingroom",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 1,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "binary_sensor.firtsalert_living_room_smoke_detected"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": false,
        "stateType": "str",
        "ifState": "",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "alarm_state",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 130,
        "y": 380,
        "wires": [
            [
                "7cdcd90a.9cd33"
            ]
        ]
    },
    {
        "id": "fd7b8a4d.52e6c8",
        "type": "server-state-changed",
        "z": "cde79c08.e4f488",
        "name": "smoke detected upstairs",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 1,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "binary_sensor.firstalert_hallway_upstairs_smoke_detected"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": false,
        "stateType": "str",
        "ifState": "",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "alarm_state",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 130,
        "y": 420,
        "wires": [
            [
                "3f622d19.96609a"
            ]
        ]
    },
    {
        "id": "d75a3b89.b17828",
        "type": "server-state-changed",
        "z": "cde79c08.e4f488",
        "name": "smoke detected basement",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 1,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "binary_sensor.smartalert_basement_smoke_detected"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": false,
        "stateType": "str",
        "ifState": "",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "alarm_state",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 130,
        "y": 460,
        "wires": [
            [
                "c5e700b.742ef"
            ]
        ]
    },
    {
        "id": "04d283125bc58145",
        "type": "server-state-changed",
        "z": "cde79c08.e4f488",
        "name": "smoke co alarm test hallway upstairs",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 1,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "binary_sensor.firstalert_hallway_upstairs_smoke_alarm_test"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": false,
        "stateType": "str",
        "ifState": "",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "alarm_state",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 160,
        "y": 240,
        "wires": [
            [
                "091db6919a07bcbc"
            ]
        ]
    },
    {
        "id": "0e7fa473b99890f7",
        "type": "server-state-changed",
        "z": "cde79c08.e4f488",
        "name": "smoke co alarm test ",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 1,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "binary_sensor.smartalert_basement_smoke_alarm_test"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": false,
        "stateType": "str",
        "ifState": "",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "alarm_state",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 110,
        "y": 280,
        "wires": [
            [
                "05b4a765aa5d138e"
            ]
        ]
    },
    {
        "id": "462204bb44d52283",
        "type": "server-state-changed",
        "z": "cde79c08.e4f488",
        "name": "co detected livingroom",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 1,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "binary_sensor.firtsalert_living_room_carbon_monoxide_detected"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": false,
        "stateType": "str",
        "ifState": "",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "alarm_state",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 120,
        "y": 560,
        "wires": [
            [
                "7796933fbf4a81d9"
            ]
        ]
    },
    {
        "id": "fb4d6bcec28c0e8c",
        "type": "server-state-changed",
        "z": "cde79c08.e4f488",
        "name": "co detected upstairs",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 1,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "binary_sensor.firstalert_hallway_upstairs_carbon_monoxide_detected"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": false,
        "stateType": "str",
        "ifState": "",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "alarm_state",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 110,
        "y": 600,
        "wires": [
            [
                "e158e20d0b4d314e"
            ]
        ]
    },
    {
        "id": "22ebafc77a56459e",
        "type": "server-state-changed",
        "z": "cde79c08.e4f488",
        "name": "co detected basement",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 1,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "binary_sensor.smartalert_basement_carbon_monoxide_detected"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": false,
        "stateType": "str",
        "ifState": "",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "alarm_state",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 120,
        "y": 640,
        "wires": [
            [
                "44c54d3a1158ddbd"
            ]
        ]
    },
    {
        "id": "7f6be1a38957af4c",
        "type": "catch",
        "z": "cde79c08.e4f488",
        "g": "cb7954a7aa2cae2b",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "f1521b7d71efee12"
            ]
        ]
    },
    {
        "id": "f1521b7d71efee12",
        "type": "template",
        "z": "cde79c08.e4f488",
        "g": "cb7954a7aa2cae2b",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "880bc0b589727b10"
            ]
        ]
    },
    {
        "id": "301e5101402d9cd1",
        "type": "link out",
        "z": "cde79c08.e4f488",
        "g": "cb7954a7aa2cae2b",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 475,
        "y": 80,
        "wires": []
    },
    {
        "id": "880bc0b589727b10",
        "type": "template",
        "z": "cde79c08.e4f488",
        "g": "cb7954a7aa2cae2b",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "301e5101402d9cd1"
            ]
        ]
    },
    {
        "id": "d5c7202c7194e6c3",
        "type": "comment",
        "z": "b30206160f4c3c3b",
        "name": "custom sensor when a person is detected in the backyard entrance",
        "info": "",
        "x": 260,
        "y": 20,
        "wires": []
    },
    {
        "id": "49b3f6ee3c13616a",
        "type": "server-state-changed",
        "z": "b30206160f4c3c3b",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "binary_sensor.backyard_person_occupancy"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": true,
        "stateType": "str",
        "ifState": "on",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 240,
        "y": 160,
        "wires": [
            [
                "9150f91efe1abe4c"
            ],
            [
                "9150f91efe1abe4c"
            ]
        ]
    },
    {
        "id": "9150f91efe1abe4c",
        "type": "ha-binary-sensor",
        "z": "b30206160f4c3c3b",
        "name": "custom_backyard_person_occupancy",
        "entityConfig": "b91508ea44734193",
        "version": 0,
        "state": "payload",
        "stateType": "msg",
        "attributes": [],
        "inputOverride": "allow",
        "outputProperties": [],
        "x": 630,
        "y": 160,
        "wires": [
            []
        ]
    },
    {
        "id": "5047eb1f31122238",
        "type": "catch",
        "z": "b30206160f4c3c3b",
        "g": "689e3786766ccaab",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "a94d9ca1c834ea4a"
            ]
        ]
    },
    {
        "id": "a94d9ca1c834ea4a",
        "type": "template",
        "z": "b30206160f4c3c3b",
        "g": "689e3786766ccaab",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "40282b434e104e9b"
            ]
        ]
    },
    {
        "id": "fc2c3ebd96e14cc3",
        "type": "link out",
        "z": "b30206160f4c3c3b",
        "g": "689e3786766ccaab",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 475,
        "y": 80,
        "wires": []
    },
    {
        "id": "40282b434e104e9b",
        "type": "template",
        "z": "b30206160f4c3c3b",
        "g": "689e3786766ccaab",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "fc2c3ebd96e14cc3"
            ]
        ]
    },
    {
        "id": "5da220473ea9a36e",
        "type": "template",
        "z": "2437e768.8e34d8",
        "g": "b81d6a2bc88d5cab",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "5173344f2bf9202f"
            ]
        ]
    },
    {
        "id": "5173344f2bf9202f",
        "type": "link out",
        "z": "2437e768.8e34d8",
        "g": "b81d6a2bc88d5cab",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 475,
        "y": 80,
        "wires": []
    },
    {
        "id": "1f556a76d7e6f50a",
        "type": "template",
        "z": "2437e768.8e34d8",
        "g": "b81d6a2bc88d5cab",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "5da220473ea9a36e"
            ]
        ]
    },
    {
        "id": "b921556ff12ab156",
        "type": "catch",
        "z": "2437e768.8e34d8",
        "g": "b81d6a2bc88d5cab",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "1f556a76d7e6f50a"
            ]
        ]
    },
    {
        "id": "80b3c96f004d6f8b",
        "type": "template",
        "z": "2437e768.8e34d8",
        "g": "3bf0bc8959f8a48e",
        "name": "notification id",
        "field": "notify.notification_id",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "dishwasher",
        "output": "str",
        "x": 1390,
        "y": 300,
        "wires": [
            [
                "08bca5ce6d389d48"
            ]
        ]
    },
    {
        "id": "71f13b6b1744cf6b",
        "type": "template",
        "z": "2437e768.8e34d8",
        "g": "3bf0bc8959f8a48e",
        "name": "icon",
        "field": "notify.icon",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "",
        "output": "str",
        "x": 1370,
        "y": 260,
        "wires": [
            [
                "08bca5ce6d389d48"
            ]
        ]
    },
    {
        "id": "64614e79bcb09872",
        "type": "template",
        "z": "2437e768.8e34d8",
        "g": "3bf0bc8959f8a48e",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Vaatwasser",
        "output": "str",
        "x": 1370,
        "y": 180,
        "wires": [
            [
                "08bca5ce6d389d48"
            ]
        ]
    },
    {
        "id": "2a35d2abfb0850da",
        "type": "template",
        "z": "2437e768.8e34d8",
        "g": "3bf0bc8959f8a48e",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "De Vaatwasser is klaar",
        "output": "str",
        "x": 1380,
        "y": 220,
        "wires": [
            [
                "08bca5ce6d389d48"
            ]
        ]
    },
    {
        "id": "2c0a57bd6ee87009",
        "type": "link out",
        "z": "2437e768.8e34d8",
        "g": "3bf0bc8959f8a48e",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "8ed3b0974336e55b",
            "a97f87cfab413716"
        ],
        "x": 1665,
        "y": 220,
        "wires": []
    },
    {
        "id": "08bca5ce6d389d48",
        "type": "join",
        "z": "2437e768.8e34d8",
        "g": "3bf0bc8959f8a48e",
        "name": "",
        "mode": "custom",
        "build": "merged",
        "property": "notify",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": false,
        "timeout": "",
        "count": "4",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 1570,
        "y": 220,
        "wires": [
            [
                "2c0a57bd6ee87009"
            ]
        ]
    },
    {
        "id": "36f24fd5.59924",
        "type": "change",
        "z": "2437e768.8e34d8",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "on",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 820,
        "y": 160,
        "wires": [
            [
                "bea742545d56e3a3"
            ]
        ]
    },
    {
        "id": "54b1f381.39c02c",
        "type": "change",
        "z": "2437e768.8e34d8",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "off",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 820,
        "y": 220,
        "wires": [
            [
                "bea742545d56e3a3"
            ]
        ]
    },
    {
        "id": "ef6b748.eeaf388",
        "type": "switch",
        "z": "2437e768.8e34d8",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "off",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1150,
        "y": 160,
        "wires": [
            [
                "ec34cd6ea57b0b7f"
            ]
        ]
    },
    {
        "id": "d0e8efa07152912d",
        "type": "comment",
        "z": "2437e768.8e34d8",
        "name": "Set dishwasher binary sensor on or off based on power measurements",
        "info": "",
        "x": 270,
        "y": 20,
        "wires": []
    },
    {
        "id": "47f4fb301e391cb8",
        "type": "switch",
        "z": "2437e768.8e34d8",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "gt",
                "v": "10",
                "vt": "num"
            },
            {
                "t": "lt",
                "v": "1",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 290,
        "y": 160,
        "wires": [
            [
                "036d5a464421fc1b"
            ],
            [
                "fee8363c5cb8d124"
            ]
        ]
    },
    {
        "id": "5914d077.55a55",
        "type": "api-current-state",
        "z": "2437e768.8e34d8",
        "name": "state is not on",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is_not",
        "entity_id": "binary_sensor.dishwasher",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 640,
        "y": 160,
        "wires": [
            [
                "36f24fd5.59924"
            ],
            []
        ]
    },
    {
        "id": "ce869786.78dec8",
        "type": "api-current-state",
        "z": "2437e768.8e34d8",
        "name": "state is not off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is_not",
        "entity_id": "binary_sensor.dishwasher",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 640,
        "y": 220,
        "wires": [
            [
                "54b1f381.39c02c"
            ],
            []
        ]
    },
    {
        "id": "95f21a2884f73b9b",
        "type": "server-state-changed",
        "z": "2437e768.8e34d8",
        "name": "state dishwasher watt",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 1,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "sensor.shellyplugplus_dishwasher_power"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": true,
        "stateType": "str",
        "ifState": "",
        "ifStateType": "num",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 120,
        "y": 160,
        "wires": [
            [
                "47f4fb301e391cb8"
            ]
        ]
    },
    {
        "id": "bea742545d56e3a3",
        "type": "ha-binary-sensor",
        "z": "2437e768.8e34d8",
        "name": "dishwasher",
        "entityConfig": "4f12e052f2829473",
        "version": 0,
        "state": "payload",
        "stateType": "msg",
        "attributes": [],
        "inputOverride": "allow",
        "outputProperties": [],
        "x": 1010,
        "y": 160,
        "wires": [
            [
                "ef6b748.eeaf388"
            ]
        ]
    },
    {
        "id": "036d5a464421fc1b",
        "type": "stoptimer",
        "z": "2437e768.8e34d8",
        "duration": "5",
        "units": "Minute",
        "payloadtype": "num",
        "payloadval": "0",
        "name": "",
        "x": 460,
        "y": 160,
        "wires": [
            [
                "5914d077.55a55"
            ],
            []
        ]
    },
    {
        "id": "7f181c3a969cf13c",
        "type": "join",
        "z": "46d98b35c2eee05b",
        "name": "",
        "mode": "custom",
        "build": "array",
        "property": "",
        "propertyType": "full",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": false,
        "timeout": "",
        "count": "2",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 690,
        "y": 160,
        "wires": [
            [
                "ef67c1284ddb8eed"
            ]
        ]
    },
    {
        "id": "ef67c1284ddb8eed",
        "type": "function",
        "z": "46d98b35c2eee05b",
        "name": "calculation",
        "func": "// Sum two values\nmsg.payload = (parseFloat(msg.returned) + -parseFloat(msg.delivered)) * 1000;\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 830,
        "y": 160,
        "wires": [
            [
                "99a64ef46dadb061"
            ]
        ]
    },
    {
        "id": "8dc59865117f6040",
        "type": "inject",
        "z": "46d98b35c2eee05b",
        "name": "",
        "props": [],
        "repeat": "1",
        "crontab": "",
        "once": true,
        "onceDelay": "1",
        "topic": "",
        "x": 90,
        "y": 160,
        "wires": [
            [
                "6fc7768f0e0e7113",
                "ba77f8da98851350"
            ]
        ]
    },
    {
        "id": "fc249a2f095e860f",
        "type": "comment",
        "z": "46d98b35c2eee05b",
        "name": "energy sensor that show how many energy I deliver back or using from net. ",
        "info": "",
        "x": 280,
        "y": 20,
        "wires": []
    },
    {
        "id": "63df13e036af1a07",
        "type": "comment",
        "z": "46d98b35c2eee05b",
        "name": "energy sensor that shows energy usage",
        "info": "",
        "x": 170,
        "y": 280,
        "wires": []
    },
    {
        "id": "accd30b231cf2bf4",
        "type": "inject",
        "z": "46d98b35c2eee05b",
        "name": "",
        "props": [],
        "repeat": "1",
        "crontab": "",
        "once": true,
        "onceDelay": "1",
        "topic": "",
        "x": 90,
        "y": 320,
        "wires": [
            [
                "b30974b6c0fc163e",
                "a35d2dff9d2a1f7c",
                "a00ba324f973e2a1"
            ]
        ]
    },
    {
        "id": "275467bcb9c26880",
        "type": "join",
        "z": "46d98b35c2eee05b",
        "name": "",
        "mode": "custom",
        "build": "array",
        "property": "",
        "propertyType": "full",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": false,
        "timeout": "",
        "count": "3",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 690,
        "y": 320,
        "wires": [
            [
                "82b9234d2e343295"
            ]
        ]
    },
    {
        "id": "82b9234d2e343295",
        "type": "function",
        "z": "46d98b35c2eee05b",
        "name": "calculation",
        "func": "// Sum two values\nmsg.payload = (((parseFloat(msg.returned) - parseFloat(msg.delivered)) - parseFloat(msg.producing) / 1000) * 1000).toFixed(0);\nreturn msg;",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 830,
        "y": 320,
        "wires": [
            [
                "05165754289e75f1"
            ]
        ]
    },
    {
        "id": "613a036cfeb40cce",
        "type": "comment",
        "z": "46d98b35c2eee05b",
        "name": "voltage difference",
        "info": "",
        "x": 100,
        "y": 500,
        "wires": []
    },
    {
        "id": "ee65387f2fb0d769",
        "type": "join",
        "z": "46d98b35c2eee05b",
        "name": "",
        "mode": "custom",
        "build": "array",
        "property": "",
        "propertyType": "full",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": false,
        "timeout": "",
        "count": "2",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 690,
        "y": 540,
        "wires": [
            [
                "d15010c1b409fd80"
            ]
        ]
    },
    {
        "id": "1dfa0f1daea869cf",
        "type": "inject",
        "z": "46d98b35c2eee05b",
        "name": "",
        "props": [],
        "repeat": "1",
        "crontab": "",
        "once": true,
        "onceDelay": "1",
        "topic": "",
        "x": 90,
        "y": 540,
        "wires": [
            [
                "93bad6317142ba07",
                "109b48348ca36721"
            ]
        ]
    },
    {
        "id": "d15010c1b409fd80",
        "type": "function",
        "z": "46d98b35c2eee05b",
        "name": "calculation",
        "func": "msg.payload = (parseFloat(msg.v_inverter) - parseFloat(msg.v_meter)).toFixed(2);\n\nreturn msg;",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 830,
        "y": 540,
        "wires": [
            [
                "42db26ee60e51cdd"
            ]
        ]
    },
    {
        "id": "ba77f8da98851350",
        "type": "api-current-state",
        "z": "46d98b35c2eee05b",
        "name": "state currently returned",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 1,
        "halt_if": "",
        "halt_if_type": "num",
        "halt_if_compare": "is",
        "entity_id": "sensor.dsmr_reading_electricity_currently_returned",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "returned",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 290,
        "y": 220,
        "wires": [
            [
                "7f181c3a969cf13c"
            ]
        ]
    },
    {
        "id": "6fc7768f0e0e7113",
        "type": "api-current-state",
        "z": "46d98b35c2eee05b",
        "name": "state currently delivered",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 1,
        "halt_if": "",
        "halt_if_type": "num",
        "halt_if_compare": "is",
        "entity_id": "sensor.dsmr_reading_electricity_currently_delivered",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "delivered",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 290,
        "y": 160,
        "wires": [
            [
                "7f181c3a969cf13c"
            ]
        ]
    },
    {
        "id": "a35d2dff9d2a1f7c",
        "type": "api-current-state",
        "z": "46d98b35c2eee05b",
        "name": "state currently returned",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 1,
        "halt_if": "",
        "halt_if_type": "num",
        "halt_if_compare": "is",
        "entity_id": "sensor.dsmr_reading_electricity_currently_returned",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "returned",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 290,
        "y": 380,
        "wires": [
            [
                "275467bcb9c26880"
            ]
        ]
    },
    {
        "id": "b30974b6c0fc163e",
        "type": "api-current-state",
        "z": "46d98b35c2eee05b",
        "name": "state currently delivered",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 1,
        "halt_if": "",
        "halt_if_type": "num",
        "halt_if_compare": "is",
        "entity_id": "sensor.dsmr_reading_electricity_currently_delivered",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "delivered",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 290,
        "y": 320,
        "wires": [
            [
                "275467bcb9c26880"
            ]
        ]
    },
    {
        "id": "a00ba324f973e2a1",
        "type": "api-current-state",
        "z": "46d98b35c2eee05b",
        "name": "state currently producing",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 1,
        "halt_if": "",
        "halt_if_type": "num",
        "halt_if_compare": "is",
        "entity_id": "sensor.solaredge_modbus_ac_power",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "producing",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 290,
        "y": 440,
        "wires": [
            [
                "275467bcb9c26880"
            ]
        ]
    },
    {
        "id": "93bad6317142ba07",
        "type": "api-current-state",
        "z": "46d98b35c2eee05b",
        "name": "voltage inverter",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 1,
        "halt_if": "",
        "halt_if_type": "num",
        "halt_if_compare": "is",
        "entity_id": "sensor.solaredge_modbus_ac_voltage_an",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "v_inverter",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 260,
        "y": 540,
        "wires": [
            [
                "ee65387f2fb0d769"
            ]
        ]
    },
    {
        "id": "109b48348ca36721",
        "type": "api-current-state",
        "z": "46d98b35c2eee05b",
        "name": "voltage meter",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 1,
        "halt_if": "",
        "halt_if_type": "num",
        "halt_if_compare": "is",
        "entity_id": "sensor.dsmr_reading_phase_voltage_l1",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "v_meter",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 260,
        "y": 600,
        "wires": [
            [
                "ee65387f2fb0d769"
            ]
        ]
    },
    {
        "id": "99a64ef46dadb061",
        "type": "ha-sensor",
        "z": "46d98b35c2eee05b",
        "name": "custom_energy",
        "entityConfig": "7befa0b16196877c",
        "version": 0,
        "state": "payload",
        "stateType": "msg",
        "attributes": [],
        "inputOverride": "allow",
        "outputProperties": [],
        "x": 1000,
        "y": 160,
        "wires": [
            []
        ]
    },
    {
        "id": "05165754289e75f1",
        "type": "ha-sensor",
        "z": "46d98b35c2eee05b",
        "name": "custom_energy_usage",
        "entityConfig": "3f4f99b6c043befd",
        "version": 0,
        "state": "payload",
        "stateType": "msg",
        "attributes": [],
        "inputOverride": "allow",
        "outputProperties": [],
        "x": 1020,
        "y": 320,
        "wires": [
            []
        ]
    },
    {
        "id": "42db26ee60e51cdd",
        "type": "ha-sensor",
        "z": "46d98b35c2eee05b",
        "name": "custom_voltage_difference",
        "entityConfig": "d536c618bffe48c4",
        "version": 0,
        "state": "payload",
        "stateType": "msg",
        "attributes": [],
        "inputOverride": "allow",
        "outputProperties": [],
        "x": 1040,
        "y": 540,
        "wires": [
            []
        ]
    },
    {
        "id": "68c48f123df0cea6",
        "type": "catch",
        "z": "46d98b35c2eee05b",
        "g": "a5fedb7b1f936a7c",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "0a699ee4ac51e7f9"
            ]
        ]
    },
    {
        "id": "0a699ee4ac51e7f9",
        "type": "template",
        "z": "46d98b35c2eee05b",
        "g": "a5fedb7b1f936a7c",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "73e7561891b5363a"
            ]
        ]
    },
    {
        "id": "a6196b4738721e31",
        "type": "link out",
        "z": "46d98b35c2eee05b",
        "g": "a5fedb7b1f936a7c",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 475,
        "y": 80,
        "wires": []
    },
    {
        "id": "73e7561891b5363a",
        "type": "template",
        "z": "46d98b35c2eee05b",
        "g": "a5fedb7b1f936a7c",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "a6196b4738721e31"
            ]
        ]
    },
    {
        "id": "7b9d796ac83c32bf",
        "type": "join",
        "z": "99c1372046e45da7",
        "g": "b268fa78a872617d",
        "name": "",
        "mode": "custom",
        "build": "merged",
        "property": "notify",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": false,
        "timeout": "",
        "count": "4",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 1630,
        "y": 320,
        "wires": [
            [
                "8c93b438701888a6"
            ]
        ]
    },
    {
        "id": "8c93b438701888a6",
        "type": "link out",
        "z": "99c1372046e45da7",
        "g": "b268fa78a872617d",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "8ed3b0974336e55b",
            "a97f87cfab413716"
        ],
        "x": 1725,
        "y": 320,
        "wires": []
    },
    {
        "id": "781d3a645a5e3130",
        "type": "template",
        "z": "99c1372046e45da7",
        "g": "b268fa78a872617d",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Er is een nieuw zonne-energie dagrecord gemeten vandaag.\\n\\nOud: {{data.state}} {{data.attributes.unit_of_measurement}} op {{data.attributes.date}}\\nNieuw: {{payload.value}} {{data.attributes.unit_of_measurement}} op {{date}}",
        "output": "str",
        "x": 1480,
        "y": 320,
        "wires": [
            [
                "7b9d796ac83c32bf"
            ]
        ]
    },
    {
        "id": "5a8f575633614c07",
        "type": "template",
        "z": "99c1372046e45da7",
        "g": "b268fa78a872617d",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Zonne-energie",
        "output": "str",
        "x": 1470,
        "y": 280,
        "wires": [
            [
                "7b9d796ac83c32bf"
            ]
        ]
    },
    {
        "id": "148de36202032274",
        "type": "template",
        "z": "99c1372046e45da7",
        "g": "b268fa78a872617d",
        "name": "icon",
        "field": "notify.icon",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": ":door:",
        "output": "str",
        "x": 1470,
        "y": 360,
        "wires": [
            [
                "7b9d796ac83c32bf"
            ]
        ]
    },
    {
        "id": "59d4d6719e262bbb",
        "type": "template",
        "z": "99c1372046e45da7",
        "g": "a51faa8090a268f4",
        "name": "secondary information",
        "field": "secondary_information",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Oud: {{data.state}} {{data.attributes.unit_of_measurement}} op {{data.attributes.date}}\nNieuw: {{payload.value}} {{data.attributes.unit_of_measurement}} op {{date}}",
        "output": "str",
        "x": 1480,
        "y": 500,
        "wires": [
            [
                "e8714993e53c2d5e"
            ]
        ]
    },
    {
        "id": "e8714993e53c2d5e",
        "type": "template",
        "z": "99c1372046e45da7",
        "g": "a51faa8090a268f4",
        "name": "primary information",
        "field": "primary_information",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Er is een nieuw zonne-energie dagrecord gemeten vandaag",
        "output": "str",
        "x": 1710,
        "y": 500,
        "wires": [
            [
                "0561341e4ea54205"
            ]
        ]
    },
    {
        "id": "0561341e4ea54205",
        "type": "template",
        "z": "99c1372046e45da7",
        "g": "a51faa8090a268f4",
        "name": "topic",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "garbage",
        "output": "str",
        "x": 1890,
        "y": 500,
        "wires": [
            [
                "29ad6bfc437abec2"
            ]
        ]
    },
    {
        "id": "29ad6bfc437abec2",
        "type": "template",
        "z": "99c1372046e45da7",
        "g": "a51faa8090a268f4",
        "name": "notification_level",
        "field": "notification_level",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "info",
        "output": "str",
        "x": 2050,
        "y": 500,
        "wires": [
            [
                "afc68deb5ab5e4be"
            ]
        ]
    },
    {
        "id": "afc68deb5ab5e4be",
        "type": "link out",
        "z": "99c1372046e45da7",
        "g": "a51faa8090a268f4",
        "name": "notification",
        "mode": "link",
        "links": [
            "60e14e33a793f50d"
        ],
        "x": 2185,
        "y": 500,
        "wires": []
    },
    {
        "id": "451f25b73596ddf8",
        "type": "template",
        "z": "99c1372046e45da7",
        "g": "b268fa78a872617d",
        "name": "notification id",
        "field": "notify.notification_id",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "solar_record",
        "output": "str",
        "x": 1490,
        "y": 400,
        "wires": [
            [
                "7b9d796ac83c32bf"
            ]
        ]
    },
    {
        "id": "a0300d7bafb66f44",
        "type": "comment",
        "z": "99c1372046e45da7",
        "name": "A sensor that stores the value and date when there is a new produced solar power daily record",
        "info": "",
        "x": 340,
        "y": 20,
        "wires": []
    },
    {
        "id": "74cc10441231f8f2",
        "type": "function",
        "z": "99c1372046e45da7",
        "name": "change string into float number",
        "func": "msg.payload = parseFloat(msg.payload);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 350,
        "y": 180,
        "wires": [
            [
                "aab1bbee72f90c90"
            ]
        ]
    },
    {
        "id": "27b51aa55e598e0f",
        "type": "function",
        "z": "99c1372046e45da7",
        "name": "create string kwh payload and date",
        "func": "// Set payload to a 3 decimal number as string\nmsg.payload = parseFloat(msg.payload).toFixed(3);\n\n// Create YYYY-MM-DD value from datetime string\nvar datetime = msg.data.last_updated;\nmsg.date = datetime.split('T')[0];\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1020,
        "y": 180,
        "wires": [
            [
                "3cceba91547a7d4e"
            ]
        ]
    },
    {
        "id": "6a870ac713200910",
        "type": "inject",
        "z": "99c1372046e45da7",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "date",
                "v": "2023-05-26",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "34.080",
        "payloadType": "str",
        "x": 1110,
        "y": 220,
        "wires": [
            [
                "3cceba91547a7d4e"
            ]
        ]
    },
    {
        "id": "122d704723bc1cb0",
        "type": "mqtt out",
        "z": "99c1372046e45da7",
        "name": "",
        "topic": "/homeassistant/solar/ac_solar_record",
        "qos": "1",
        "retain": "true",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "36dee637778341ba",
        "x": 1510,
        "y": 180,
        "wires": []
    },
    {
        "id": "3cceba91547a7d4e",
        "type": "template",
        "z": "99c1372046e45da7",
        "name": "",
        "field": "payload",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "{\n    \"value\": \"{{payload}}\",\n    \"date\": \"{{date}}\"\n}",
        "output": "json",
        "x": 1240,
        "y": 180,
        "wires": [
            [
                "122d704723bc1cb0",
                "9655b1065753069f",
                "59d4d6719e262bbb"
            ]
        ]
    },
    {
        "id": "aab1bbee72f90c90",
        "type": "api-current-state",
        "z": "99c1372046e45da7",
        "name": "highest_ac_solar_day  < solaredge kwh yoday ",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "payload",
        "halt_if_type": "msg",
        "halt_if_compare": "lt",
        "entity_id": "sensor.mqtt_ac_solar_record",
        "state_type": "str",
        "blockInputOverrides": true,
        "outputProperties": [
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 680,
        "y": 180,
        "wires": [
            [
                "27b51aa55e598e0f"
            ],
            []
        ]
    },
    {
        "id": "80dc13087104d323",
        "type": "server-state-changed",
        "z": "99c1372046e45da7",
        "name": "solaredge kwh today",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 1,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "sensor.solaredge_modbus_ac_energy_kwh_today"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": true,
        "stateType": "str",
        "ifState": "",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "10",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": true,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 110,
        "y": 180,
        "wires": [
            [
                "74cc10441231f8f2"
            ]
        ]
    },
    {
        "id": "6dc6a41b28fbcce8",
        "type": "catch",
        "z": "99c1372046e45da7",
        "g": "e30ff84977664050",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "d9437e8ede03988b"
            ]
        ]
    },
    {
        "id": "d9437e8ede03988b",
        "type": "template",
        "z": "99c1372046e45da7",
        "g": "e30ff84977664050",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "b0a930b2bce12ea3"
            ]
        ]
    },
    {
        "id": "6bcc6ca59609f4ee",
        "type": "link out",
        "z": "99c1372046e45da7",
        "g": "e30ff84977664050",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 475,
        "y": 80,
        "wires": []
    },
    {
        "id": "b0a930b2bce12ea3",
        "type": "template",
        "z": "99c1372046e45da7",
        "g": "e30ff84977664050",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "6bcc6ca59609f4ee"
            ]
        ]
    },
    {
        "id": "f0e25a858eae0278",
        "type": "template",
        "z": "4dd07a1d.6e53e4",
        "g": "cf9f14c80d528160",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "6031ed8d02da2add"
            ]
        ]
    },
    {
        "id": "6031ed8d02da2add",
        "type": "link out",
        "z": "4dd07a1d.6e53e4",
        "g": "cf9f14c80d528160",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 475,
        "y": 80,
        "wires": []
    },
    {
        "id": "351e6909c12b36ab",
        "type": "template",
        "z": "4dd07a1d.6e53e4",
        "g": "cf9f14c80d528160",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "f0e25a858eae0278"
            ]
        ]
    },
    {
        "id": "04c29ec7a7bb3e19",
        "type": "catch",
        "z": "4dd07a1d.6e53e4",
        "g": "cf9f14c80d528160",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "351e6909c12b36ab"
            ]
        ]
    },
    {
        "id": "5c56266b.e63438",
        "type": "change",
        "z": "4dd07a1d.6e53e4",
        "name": "dark",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "dark",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1250,
        "y": 140,
        "wires": [
            [
                "714f8f70.75ec6"
            ]
        ]
    },
    {
        "id": "818ba5a9.204658",
        "type": "change",
        "z": "4dd07a1d.6e53e4",
        "name": "light",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "light",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1250,
        "y": 180,
        "wires": [
            [
                "714f8f70.75ec6"
            ]
        ]
    },
    {
        "id": "714f8f70.75ec6",
        "type": "rbe",
        "z": "4dd07a1d.6e53e4",
        "name": "",
        "func": "rbe",
        "gap": "",
        "start": "",
        "inout": "out",
        "septopics": true,
        "property": "payload",
        "topi": "topic",
        "x": 1390,
        "y": 140,
        "wires": [
            [
                "607a179b.d377f8"
            ]
        ]
    },
    {
        "id": "e1f379a0.db9e58",
        "type": "comment",
        "z": "4dd07a1d.6e53e4",
        "name": "Flow that use weather station illuminance sensor to determine if it is light or dark outside",
        "info": "",
        "x": 320,
        "y": 20,
        "wires": []
    },
    {
        "id": "9970a078522f1484",
        "type": "switch",
        "z": "4dd07a1d.6e53e4",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "lte",
                "v": "2.5",
                "vt": "str"
            },
            {
                "t": "gt",
                "v": "4.5",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 310,
        "y": 160,
        "wires": [
            [
                "3392d6cf5e1cb20b"
            ],
            [
                "a378d97aa6be5e49"
            ]
        ]
    },
    {
        "id": "extract-timestamp",
        "type": "function",
        "z": "4dd07a1d.6e53e4",
        "name": "convert dusk time to epoch",
        "func": "// Your timestamp\nlet timestamp = msg.sunData.new_state.attributes.next_dusk;\n\n// Convert to a JavaScript Date object\nlet date = new Date(timestamp);\n\n// Get the epoch time in milliseconds\nlet epochTime = date.getTime();\n\n// Convert to seconds (optional)\nlet epochTimeInSeconds = Math.floor(epochTime / 1000);\n\n// Output the epoch time\nmsg.dusk_time = epochTimeInSeconds;\nreturn msg;",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 900,
        "y": 340,
        "wires": [
            [
                "eac48a5b9f81b614"
            ]
        ]
    },
    {
        "id": "delay-node",
        "type": "delay",
        "z": "4dd07a1d.6e53e4",
        "name": "delay until target time",
        "pauseType": "delayv",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 1200,
        "y": 460,
        "wires": [
            [
                "5c56266b.e63438"
            ]
        ]
    },
    {
        "id": "eac48a5b9f81b614",
        "type": "function",
        "z": "4dd07a1d.6e53e4",
        "name": "current time in epoch",
        "func": "// Get the current time as a Date object\nlet now = new Date();\n\n// Get the current epoch time in milliseconds\nlet epochTime = now.getTime();\n\n// Convert to seconds (optional)\nlet epochTimeInSeconds = Math.floor(epochTime / 1000);\n\n// Output the epoch time\nmsg.current_time = epochTimeInSeconds;\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 880,
        "y": 400,
        "wires": [
            [
                "4526454deceed49b"
            ]
        ]
    },
    {
        "id": "4526454deceed49b",
        "type": "function",
        "z": "4dd07a1d.6e53e4",
        "name": "dusk time minus current time for delay",
        "func": "let delay_seconds = msg.dusk_time - msg.current_time\nmsg.delay = delay_seconds * 1000 //Miliseconds\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 930,
        "y": 460,
        "wires": [
            [
                "delay-node"
            ]
        ]
    },
    {
        "id": "d995b37fc6ae461d",
        "type": "switch",
        "z": "4dd07a1d.6e53e4",
        "name": "above_horizon / below_horizon",
        "property": "sun",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "above_horizon",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "below_horizon",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 770,
        "y": 280,
        "wires": [
            [
                "818ba5a9.204658"
            ],
            [
                "extract-timestamp"
            ]
        ]
    },
    {
        "id": "b5382c6f0181713a",
        "type": "switch",
        "z": "4dd07a1d.6e53e4",
        "name": "unknown / unavailable",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "unknown",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "unavailable",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 500,
        "y": 280,
        "wires": [
            [
                "d995b37fc6ae461d"
            ],
            [
                "d995b37fc6ae461d"
            ]
        ]
    },
    {
        "id": "e39c63aed1fd0e02",
        "type": "comment",
        "z": "4dd07a1d.6e53e4",
        "name": "use sun as fallback",
        "info": "",
        "x": 110,
        "y": 240,
        "wires": []
    },
    {
        "id": "17f88310915585a7",
        "type": "api-current-state",
        "z": "4dd07a1d.6e53e4",
        "name": "weather station illuminance",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 1,
        "halt_if": "",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "sensor.weather_station_illuminance",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 260,
        "y": 280,
        "wires": [
            [
                "b5382c6f0181713a"
            ]
        ]
    },
    {
        "id": "49bcf8fe.de1de8",
        "type": "server-state-changed",
        "z": "4dd07a1d.6e53e4",
        "name": "illuminance weather station",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 1,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "sensor.weather_station_illuminance"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": true,
        "stateType": "num",
        "ifState": "",
        "ifStateType": "num",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": false,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": true,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 130,
        "y": 160,
        "wires": [
            [
                "9970a078522f1484"
            ]
        ]
    },
    {
        "id": "6c14527497f34f34",
        "type": "server-state-changed",
        "z": "4dd07a1d.6e53e4",
        "name": "sun",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 1,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "sun.sun"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": true,
        "stateType": "str",
        "ifState": "",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": false,
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "sun",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "sunData",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            }
        ],
        "x": 70,
        "y": 280,
        "wires": [
            [
                "17f88310915585a7"
            ]
        ]
    },
    {
        "id": "7d19b3aa717186ea",
        "type": "ha-sensor",
        "z": "4dd07a1d.6e53e4",
        "name": "state outdoor light dark",
        "entityConfig": "5051592a.7844e8",
        "version": 0,
        "state": "payload",
        "stateType": "msg",
        "attributes": [],
        "inputOverride": "allow",
        "outputProperties": [],
        "x": 1740,
        "y": 140,
        "wires": [
            []
        ]
    },
    {
        "id": "607a179b.d377f8",
        "type": "stoptimer",
        "z": "4dd07a1d.6e53e4",
        "duration": "2",
        "units": "Minute",
        "payloadtype": "str",
        "payloadval": "reset",
        "name": "",
        "x": 1540,
        "y": 140,
        "wires": [
            [
                "7d19b3aa717186ea"
            ],
            []
        ]
    },
    {
        "id": "2eb8824d45a66c4f",
        "type": "template",
        "z": "72ef82b8.9d086c",
        "g": "48945dbb970d3465",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "a88aa9f85b115b03"
            ]
        ]
    },
    {
        "id": "a88aa9f85b115b03",
        "type": "link out",
        "z": "72ef82b8.9d086c",
        "g": "48945dbb970d3465",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 475,
        "y": 80,
        "wires": []
    },
    {
        "id": "d6fdd4c4271165e1",
        "type": "template",
        "z": "72ef82b8.9d086c",
        "g": "48945dbb970d3465",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "2eb8824d45a66c4f"
            ]
        ]
    },
    {
        "id": "95a0ca31cb9f81d2",
        "type": "catch",
        "z": "72ef82b8.9d086c",
        "g": "48945dbb970d3465",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "d6fdd4c4271165e1"
            ]
        ]
    },
    {
        "id": "95286ff3.9f33d",
        "type": "template",
        "z": "72ef82b8.9d086c",
        "g": "677a462e190a4c92",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "De droger is klaar.",
        "output": "str",
        "x": 1390,
        "y": 300,
        "wires": [
            [
                "a91faa17c024af1e"
            ]
        ]
    },
    {
        "id": "f359939883ebec80",
        "type": "template",
        "z": "72ef82b8.9d086c",
        "g": "677a462e190a4c92",
        "name": "icon",
        "field": "notify.icon",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "",
        "output": "str",
        "x": 1380,
        "y": 220,
        "wires": [
            [
                "a91faa17c024af1e"
            ]
        ]
    },
    {
        "id": "70a25e05987238de",
        "type": "template",
        "z": "72ef82b8.9d086c",
        "g": "677a462e190a4c92",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Droger",
        "output": "str",
        "x": 1380,
        "y": 180,
        "wires": [
            [
                "a91faa17c024af1e"
            ]
        ]
    },
    {
        "id": "0993d50e3c03d798",
        "type": "link out",
        "z": "72ef82b8.9d086c",
        "g": "677a462e190a4c92",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "8ed3b0974336e55b",
            "aeee8468f3d1b7ad",
            "c4660dc11fb0e5b8"
        ],
        "x": 1675,
        "y": 240,
        "wires": []
    },
    {
        "id": "a91faa17c024af1e",
        "type": "join",
        "z": "72ef82b8.9d086c",
        "g": "677a462e190a4c92",
        "name": "",
        "mode": "custom",
        "build": "merged",
        "property": "notify",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": false,
        "timeout": "",
        "count": "4",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 1580,
        "y": 240,
        "wires": [
            [
                "0993d50e3c03d798"
            ]
        ]
    },
    {
        "id": "7913c8cedd9b8d45",
        "type": "template",
        "z": "72ef82b8.9d086c",
        "g": "677a462e190a4c92",
        "name": "notification id",
        "field": "notify.notification_id",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "tumble_dryer",
        "output": "str",
        "x": 1400,
        "y": 260,
        "wires": [
            [
                "a91faa17c024af1e"
            ]
        ]
    },
    {
        "id": "6bda6302.ca5bcc",
        "type": "switch",
        "z": "72ef82b8.9d086c",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "gt",
                "v": "310",
                "vt": "num"
            },
            {
                "t": "lte",
                "v": "2",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 490,
        "y": 160,
        "wires": [
            [
                "78d208e5.9e2828"
            ],
            [
                "61c558b2.b38c78"
            ]
        ]
    },
    {
        "id": "4a449402.69359c",
        "type": "change",
        "z": "72ef82b8.9d086c",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "on",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 820,
        "y": 160,
        "wires": [
            [
                "f2f5e3d5cd8dec8d"
            ]
        ]
    },
    {
        "id": "401de4c3.c5e84c",
        "type": "change",
        "z": "72ef82b8.9d086c",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "off",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 820,
        "y": 220,
        "wires": [
            [
                "f2f5e3d5cd8dec8d"
            ]
        ]
    },
    {
        "id": "e78c18ee.1eb558",
        "type": "switch",
        "z": "72ef82b8.9d086c",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "off",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1150,
        "y": 160,
        "wires": [
            [
                "df3bd9cee59e687a"
            ]
        ]
    },
    {
        "id": "e0083fb4.5a45",
        "type": "comment",
        "z": "72ef82b8.9d086c",
        "name": "Set thumble dryer binary sensor on or off based on power measurements",
        "info": "Set thumble dryer binary sensor on or off based on power measurements`",
        "x": 280,
        "y": 20,
        "wires": []
    },
    {
        "id": "78d208e5.9e2828",
        "type": "api-current-state",
        "z": "72ef82b8.9d086c",
        "name": "state is not on",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is_not",
        "entity_id": "binary_sensor.tumble_dryer",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 640,
        "y": 160,
        "wires": [
            [
                "4a449402.69359c"
            ],
            []
        ]
    },
    {
        "id": "61c558b2.b38c78",
        "type": "api-current-state",
        "z": "72ef82b8.9d086c",
        "name": "state is not off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is_not",
        "entity_id": "binary_sensor.tumble_dryer",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 640,
        "y": 220,
        "wires": [
            [
                "401de4c3.c5e84c"
            ],
            []
        ]
    },
    {
        "id": "90a01313.ddff9",
        "type": "trigger-state",
        "z": "72ef82b8.9d086c",
        "name": "state tumble dryer watt",
        "server": "4ba92433.2478cc",
        "version": 5,
        "inputs": 1,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "sensor.shellyplug_tumble_dryer_power"
            ],
            "substring": [],
            "regex": []
        },
        "debugEnabled": false,
        "constraints": [],
        "customOutputs": [],
        "outputInitially": false,
        "stateType": "num",
        "enableInput": true,
        "exposeToHomeAssistant": false,
        "haConfig": [
            {
                "property": "name",
                "value": ""
            },
            {
                "property": "icon",
                "value": ""
            }
        ],
        "x": 120,
        "y": 160,
        "wires": [
            [
                "bcdcd79d.345708"
            ],
            []
        ]
    },
    {
        "id": "f2f5e3d5cd8dec8d",
        "type": "ha-binary-sensor",
        "z": "72ef82b8.9d086c",
        "name": "tumble_dryer",
        "entityConfig": "2c5f48cef312ec68",
        "version": 0,
        "state": "payload",
        "stateType": "msg",
        "attributes": [],
        "inputOverride": "allow",
        "outputProperties": [],
        "x": 1010,
        "y": 160,
        "wires": [
            [
                "e78c18ee.1eb558"
            ]
        ]
    },
    {
        "id": "bcdcd79d.345708",
        "type": "stoptimer",
        "z": "72ef82b8.9d086c",
        "duration": "15",
        "units": "Second",
        "payloadtype": "num",
        "payloadval": "0",
        "name": "",
        "x": 330,
        "y": 160,
        "wires": [
            [
                "6bda6302.ca5bcc"
            ],
            []
        ]
    },
    {
        "id": "0174447baafb1dab",
        "type": "template",
        "z": "c23003c7.1c978",
        "g": "f2123713074fa557",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "aa6339118c6cf238"
            ]
        ]
    },
    {
        "id": "aa6339118c6cf238",
        "type": "link out",
        "z": "c23003c7.1c978",
        "g": "f2123713074fa557",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 475,
        "y": 80,
        "wires": []
    },
    {
        "id": "06bc5fe464e9132d",
        "type": "template",
        "z": "c23003c7.1c978",
        "g": "f2123713074fa557",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "0174447baafb1dab"
            ]
        ]
    },
    {
        "id": "3eba4ba84e7b67ae",
        "type": "catch",
        "z": "c23003c7.1c978",
        "g": "f2123713074fa557",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "06bc5fe464e9132d"
            ]
        ]
    },
    {
        "id": "96e077260be2f7fb",
        "type": "template",
        "z": "c23003c7.1c978",
        "g": "283f88d61789c306",
        "name": "icon",
        "field": "notify.icon",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "",
        "output": "str",
        "x": 1930,
        "y": 180,
        "wires": [
            [
                "beedc605a0a3cbac"
            ]
        ]
    },
    {
        "id": "d93bd58ac5ac0363",
        "type": "template",
        "z": "c23003c7.1c978",
        "g": "283f88d61789c306",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Wasmachine",
        "output": "str",
        "x": 1930,
        "y": 140,
        "wires": [
            [
                "beedc605a0a3cbac"
            ]
        ]
    },
    {
        "id": "1e0f934a3493b12f",
        "type": "link out",
        "z": "c23003c7.1c978",
        "g": "283f88d61789c306",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "8ed3b0974336e55b",
            "aeee8468f3d1b7ad",
            "c4660dc11fb0e5b8"
        ],
        "x": 2225,
        "y": 200,
        "wires": []
    },
    {
        "id": "beedc605a0a3cbac",
        "type": "join",
        "z": "c23003c7.1c978",
        "g": "283f88d61789c306",
        "name": "",
        "mode": "custom",
        "build": "merged",
        "property": "notify",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": false,
        "timeout": "",
        "count": "4",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 2130,
        "y": 200,
        "wires": [
            [
                "1e0f934a3493b12f"
            ]
        ]
    },
    {
        "id": "61f9d42e4c070321",
        "type": "template",
        "z": "c23003c7.1c978",
        "g": "283f88d61789c306",
        "name": "notification id",
        "field": "notify.notification_id",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "washing_machine",
        "output": "str",
        "x": 1950,
        "y": 220,
        "wires": [
            [
                "beedc605a0a3cbac"
            ]
        ]
    },
    {
        "id": "96679db36a4a3636",
        "type": "template",
        "z": "c23003c7.1c978",
        "g": "283f88d61789c306",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "De wasmachine is klaar.",
        "output": "str",
        "x": 1940,
        "y": 260,
        "wires": [
            [
                "beedc605a0a3cbac"
            ]
        ]
    },
    {
        "id": "3e4cd67e.efae1a",
        "type": "switch",
        "z": "c23003c7.1c978",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "gt",
                "v": "15",
                "vt": "num"
            },
            {
                "t": "lte",
                "v": "3.9",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 550,
        "y": 160,
        "wires": [
            [
                "487d5ed4.e5e61"
            ],
            [
                "f052ae0fcfc5b3e8"
            ]
        ]
    },
    {
        "id": "8de0025c.f9ce2",
        "type": "comment",
        "z": "c23003c7.1c978",
        "name": "Set washing machine binary sensor on or off based on power measurements",
        "info": "",
        "x": 290,
        "y": 20,
        "wires": []
    },
    {
        "id": "4bbf608.80d0ca",
        "type": "change",
        "z": "c23003c7.1c978",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "on",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1280,
        "y": 160,
        "wires": [
            [
                "84dfbc214d4e3a8d"
            ]
        ]
    },
    {
        "id": "26d18854.3c6808",
        "type": "change",
        "z": "c23003c7.1c978",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "off",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1280,
        "y": 280,
        "wires": [
            [
                "84dfbc214d4e3a8d"
            ]
        ]
    },
    {
        "id": "48fe7380.0c049c",
        "type": "switch",
        "z": "c23003c7.1c978",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "off",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1690,
        "y": 160,
        "wires": [
            [
                "2191e2bfc331009c"
            ]
        ]
    },
    {
        "id": "487d5ed4.e5e61",
        "type": "api-current-state",
        "z": "c23003c7.1c978",
        "name": "state is not on",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is_not",
        "entity_id": "binary_sensor.washing_machine",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 720,
        "y": 160,
        "wires": [
            [
                "4bbf608.80d0ca",
                "e0ef5bfc28c69231"
            ],
            []
        ]
    },
    {
        "id": "bf29d7a3.4b42e8",
        "type": "api-current-state",
        "z": "c23003c7.1c978",
        "name": "state is not off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is_not",
        "entity_id": "binary_sensor.washing_machine",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 1100,
        "y": 280,
        "wires": [
            [
                "26d18854.3c6808"
            ],
            []
        ]
    },
    {
        "id": "9def52c1.f5b5a",
        "type": "trigger-state",
        "z": "c23003c7.1c978",
        "name": "state washing machine watt",
        "server": "4ba92433.2478cc",
        "version": 5,
        "inputs": 1,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "sensor.shellyplug_washing_machine_power"
            ],
            "substring": [],
            "regex": []
        },
        "debugEnabled": false,
        "constraints": [],
        "customOutputs": [],
        "outputInitially": false,
        "stateType": "num",
        "enableInput": true,
        "exposeToHomeAssistant": false,
        "haConfig": [
            {
                "property": "name",
                "value": ""
            },
            {
                "property": "icon",
                "value": ""
            }
        ],
        "x": 140,
        "y": 160,
        "wires": [
            [
                "1de77a16.189c66"
            ],
            []
        ]
    },
    {
        "id": "84dfbc214d4e3a8d",
        "type": "ha-binary-sensor",
        "z": "c23003c7.1c978",
        "name": "sensor washing machine",
        "entityConfig": "bdbe52c.932a5b",
        "version": 0,
        "state": "payload",
        "stateType": "msg",
        "attributes": [],
        "inputOverride": "allow",
        "outputProperties": [],
        "x": 1510,
        "y": 160,
        "wires": [
            [
                "48fe7380.0c049c"
            ]
        ]
    },
    {
        "id": "1de77a16.189c66",
        "type": "stoptimer",
        "z": "c23003c7.1c978",
        "duration": "10",
        "units": "Second",
        "payloadtype": "num",
        "payloadval": "0",
        "name": "",
        "x": 390,
        "y": 160,
        "wires": [
            [
                "3e4cd67e.efae1a"
            ],
            []
        ]
    },
    {
        "id": "f052ae0fcfc5b3e8",
        "type": "traffic",
        "z": "c23003c7.1c978",
        "name": "",
        "property_allow": "payload",
        "filter_allow": "pass",
        "ignore_case_allow": false,
        "negate_allow": false,
        "send_allow": false,
        "property_stop": "payload",
        "filter_stop": "deny",
        "ignore_case_stop": false,
        "negate_stop": false,
        "send_stop": false,
        "default_start": false,
        "differ": false,
        "x": 710,
        "y": 280,
        "wires": [
            [
                "bf29d7a3.4b42e8"
            ]
        ]
    },
    {
        "id": "e0ef5bfc28c69231",
        "type": "trigger",
        "z": "c23003c7.1c978",
        "name": "",
        "op1": "deny",
        "op2": "pass",
        "op1type": "str",
        "op2type": "str",
        "duration": "20",
        "extend": false,
        "overrideDelay": false,
        "units": "s",
        "reset": "",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 910,
        "y": 220,
        "wires": [
            [
                "f052ae0fcfc5b3e8"
            ]
        ]
    },
    {
        "id": "89f34f59e0aa0503",
        "type": "inject",
        "z": "c23003c7.1c978",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "off",
        "payloadType": "str",
        "x": 1300,
        "y": 460,
        "wires": [
            [
                "48fe7380.0c049c"
            ]
        ]
    },
    {
        "id": "9d44f246159d8d55",
        "type": "template",
        "z": "51ad1e79edd47f04",
        "g": "954efb6e818259f4",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "31afe4007c8c4380"
            ]
        ]
    },
    {
        "id": "31afe4007c8c4380",
        "type": "link out",
        "z": "51ad1e79edd47f04",
        "g": "954efb6e818259f4",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 475,
        "y": 80,
        "wires": []
    },
    {
        "id": "7d9dd51684fea32b",
        "type": "template",
        "z": "51ad1e79edd47f04",
        "g": "954efb6e818259f4",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "9d44f246159d8d55"
            ]
        ]
    },
    {
        "id": "89f81c01fd297b99",
        "type": "catch",
        "z": "51ad1e79edd47f04",
        "g": "954efb6e818259f4",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "7d9dd51684fea32b"
            ]
        ]
    },
    {
        "id": "d475de4d462cdd95",
        "type": "http request",
        "z": "51ad1e79edd47f04",
        "name": "http request to weeronline.nl",
        "method": "GET",
        "ret": "txt",
        "paytoqs": "ignore",
        "url": "https://www.weeronline.nl/weerbericht-nederland",
        "tls": "",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "",
        "senderr": false,
        "headers": [],
        "x": 460,
        "y": 160,
        "wires": [
            [
                "8c6ea330522a9b56"
            ]
        ]
    },
    {
        "id": "8c6ea330522a9b56",
        "type": "html",
        "z": "51ad1e79edd47f04",
        "name": "",
        "property": "payload",
        "outproperty": "messages",
        "tag": "p,h2",
        "ret": "text",
        "as": "single",
        "x": 650,
        "y": 160,
        "wires": [
            [
                "e067f2c286459268"
            ]
        ]
    },
    {
        "id": "6a944de957019b5d",
        "type": "comment",
        "z": "51ad1e79edd47f04",
        "name": "scrape weeronline.nl and put text in a custom sensor",
        "info": "",
        "x": 210,
        "y": 20,
        "wires": []
    },
    {
        "id": "e067f2c286459268",
        "type": "function",
        "z": "51ad1e79edd47f04",
        "name": "combine text en titles",
        "func": "// The provided JSON array\nlet jsonArray = msg.messages\n\n// Function to count words\n/**\n* @param {string} s\n*/\nfunction countWords(s) {\n    return s.split(/\\s+/).length;\n}\n\n// Processing the JSON array\nlet resultArray = [];\nlet title = null;\nlet text = \"\";\n\nfor (let i = 0; i < jsonArray.length; i++) {\n    let item = jsonArray[i];\n    if (countWords(item) < 10) {\n        if (title) {\n            resultArray.push(title);\n            if (text) {\n                resultArray.push(text.trim());\n                text = \"\";\n            }\n        }\n        title = item;\n    } else {\n        text += item + \" \";\n    }\n}\n\n// If there is a dangling title or text\nif (title) {\n    resultArray.push(title);\n    if (text) {\n        resultArray.push(text.trim());\n    }\n}\n\nmsg.messages = resultArray;\nreturn msg;\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 820,
        "y": 160,
        "wires": [
            [
                "515e9f714ecc6ca1"
            ]
        ]
    },
    {
        "id": "515e9f714ecc6ca1",
        "type": "function",
        "z": "51ad1e79edd47f04",
        "name": "create short message",
        "func": "var text = msg.messages[1];\nvar maxLength = 157;\nvar suffix = \"...\";\n\nif (text.length > maxLength) {\n    msg.messages_short = text.substring(0, maxLength - suffix.length) + suffix;\n} else {\n    msg.messages_short = text;\n}\n\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1040,
        "y": 160,
        "wires": [
            [
                "8c926842f5902705"
            ]
        ]
    },
    {
        "id": "79caca1b2ef5e576",
        "type": "cronplus",
        "z": "51ad1e79edd47f04",
        "name": "",
        "outputField": "payload",
        "timeZone": "",
        "storeName": "",
        "commandResponseMsgOutput": "output1",
        "defaultLocation": "",
        "defaultLocationType": "default",
        "outputs": 1,
        "options": [
            {
                "name": "schedule1",
                "topic": "topic1",
                "payloadType": "default",
                "payload": "",
                "expressionType": "cron",
                "expression": "0 */15 * * * *",
                "location": "",
                "offset": "0",
                "solarType": "all",
                "solarEvents": "sunrise,sunset"
            }
        ],
        "x": 100,
        "y": 160,
        "wires": [
            [
                "7a932d0e4a844f60"
            ]
        ]
    },
    {
        "id": "8c926842f5902705",
        "type": "ha-sensor",
        "z": "51ad1e79edd47f04",
        "name": "custom_weather_description_01",
        "entityConfig": "dd558d37ebd87d72",
        "version": 0,
        "state": "responseUrl",
        "stateType": "msg",
        "attributes": [
            {
                "property": "header_01",
                "value": "messages[0]",
                "valueType": "msg"
            },
            {
                "property": "msg_01",
                "value": "messages[1]",
                "valueType": "msg"
            },
            {
                "property": "header_02",
                "value": "messages[2]",
                "valueType": "msg"
            },
            {
                "property": "msg_02",
                "value": "messages[3]",
                "valueType": "msg"
            },
            {
                "property": "header_03",
                "value": "messages[4]",
                "valueType": "msg"
            },
            {
                "property": "msg_03",
                "value": "messages[5]",
                "valueType": "msg"
            },
            {
                "property": "header_04",
                "value": "messages[6]",
                "valueType": "msg"
            },
            {
                "property": "msg_04",
                "value": "messages[7]",
                "valueType": "msg"
            },
            {
                "property": "header_05",
                "value": "messages[8]",
                "valueType": "msg"
            },
            {
                "property": "msg_05",
                "value": "messages[9]",
                "valueType": "msg"
            },
            {
                "property": "time",
                "value": "mytime",
                "valueType": "msg"
            },
            {
                "property": "msg_01_short",
                "value": "messages_short",
                "valueType": "msg"
            }
        ],
        "inputOverride": "allow",
        "outputProperties": [],
        "x": 1290,
        "y": 160,
        "wires": [
            []
        ]
    },
    {
        "id": "7a932d0e4a844f60",
        "type": "simpletime",
        "z": "51ad1e79edd47f04",
        "name": "",
        "mydate": false,
        "myymd": false,
        "myyear": false,
        "mymonth": false,
        "mymonthn": false,
        "mymonthf": false,
        "mydom": false,
        "mydoy": false,
        "myday": false,
        "mydayf": false,
        "myhourpm": false,
        "myhour": false,
        "mytime": true,
        "mytimes": false,
        "myminute": false,
        "myminutes": false,
        "mysecond": false,
        "mymillis": false,
        "myepoch": false,
        "myrawdate": false,
        "mypm": false,
        "x": 250,
        "y": 160,
        "wires": [
            [
                "d475de4d462cdd95"
            ]
        ]
    },
    {
        "id": "e2179ba6a2c951f5",
        "type": "catch",
        "z": "4a94729fe3d3c081",
        "g": "ec39be6249e7e485",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "eeaaf1e6d4c5ea3a"
            ]
        ]
    },
    {
        "id": "eeaaf1e6d4c5ea3a",
        "type": "template",
        "z": "4a94729fe3d3c081",
        "g": "ec39be6249e7e485",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "fd804489979c3abc"
            ]
        ]
    },
    {
        "id": "13f2b7ca42c4eca2",
        "type": "link out",
        "z": "4a94729fe3d3c081",
        "g": "ec39be6249e7e485",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 475,
        "y": 80,
        "wires": []
    },
    {
        "id": "fd804489979c3abc",
        "type": "template",
        "z": "4a94729fe3d3c081",
        "g": "ec39be6249e7e485",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "13f2b7ca42c4eca2"
            ]
        ]
    },
    {
        "id": "662e76370490dc0d",
        "type": "comment",
        "z": "4a94729fe3d3c081",
        "name": "Converts energy returned Kw to Watt",
        "info": "",
        "x": 160,
        "y": 20,
        "wires": []
    },
    {
        "id": "88264dd1471d41ef",
        "type": "server-state-changed",
        "z": "4a94729fe3d3c081",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 1,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "sensor.dsmr_reading_electricity_currently_returned"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": true,
        "stateType": "str",
        "ifState": "",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": false,
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 260,
        "y": 160,
        "wires": [
            [
                "24e4ae1eb1bf31d2"
            ]
        ]
    },
    {
        "id": "24e4ae1eb1bf31d2",
        "type": "function",
        "z": "4a94729fe3d3c081",
        "name": "Kw to Watt",
        "func": "msg.payload = msg.payload * 1000\n\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 590,
        "y": 160,
        "wires": [
            [
                "036eac9f38483b4b"
            ]
        ]
    },
    {
        "id": "036eac9f38483b4b",
        "type": "ha-sensor",
        "z": "4a94729fe3d3c081",
        "name": "custom_energy_returned_watt",
        "entityConfig": "8db70a2720a60b47",
        "version": 0,
        "state": "payload",
        "stateType": "msg",
        "attributes": [],
        "inputOverride": "allow",
        "outputProperties": [],
        "x": 810,
        "y": 160,
        "wires": [
            []
        ]
    },
    {
        "id": "8953f6790989fa4a",
        "type": "comment",
        "z": "5c92a1135257c28d",
        "name": "Send notification when a door is open while no one is home",
        "info": "",
        "x": 230,
        "y": 20,
        "wires": []
    },
    {
        "id": "2067a42351603d62",
        "type": "server-state-changed",
        "z": "5c92a1135257c28d",
        "name": "persons not home",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "group.persons"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": false,
        "stateType": "str",
        "ifState": "not_home",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 110,
        "y": 160,
        "wires": [
            [
                "9ddd513fa28990bb"
            ],
            []
        ]
    },
    {
        "id": "9ddd513fa28990bb",
        "type": "api-current-state",
        "z": "5c92a1135257c28d",
        "name": "guest mode is off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.guest",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 310,
        "y": 160,
        "wires": [
            [
                "37a1fa6891b30901"
            ],
            []
        ]
    },
    {
        "id": "37a1fa6891b30901",
        "type": "ha-get-entities",
        "z": "5c92a1135257c28d",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 1,
        "rules": [
            {
                "condition": "state_object",
                "property": "entity_id",
                "logic": "in_group",
                "value": "group.exterior_doors",
                "valueType": "str"
            },
            {
                "condition": "state_object",
                "property": "state",
                "logic": "is",
                "value": "on",
                "valueType": "str"
            }
        ],
        "outputType": "split",
        "outputEmptyResults": false,
        "outputLocationType": "msg",
        "outputLocation": "payload",
        "outputResultsCount": 1,
        "x": 510,
        "y": 160,
        "wires": [
            [
                "e46f1e0cf547af9a"
            ]
        ]
    },
    {
        "id": "e46f1e0cf547af9a",
        "type": "template",
        "z": "5c92a1135257c28d",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Let op de {{payload.attributes.friendly_name}} staat nog open en niemand is thuis.",
        "output": "str",
        "x": 680,
        "y": 160,
        "wires": [
            [
                "ea1d347257539369"
            ]
        ]
    },
    {
        "id": "a6c263811d9239b5",
        "type": "template",
        "z": "5c92a1135257c28d",
        "g": "9d927f405fd197bc",
        "name": "icon",
        "field": "notify.icon",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "",
        "output": "str",
        "x": 890,
        "y": 140,
        "wires": [
            [
                "4b9a0a6f1713a12a"
            ]
        ]
    },
    {
        "id": "420b0d2cf8014bfe",
        "type": "template",
        "z": "5c92a1135257c28d",
        "g": "9d927f405fd197bc",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Deur",
        "output": "str",
        "x": 890,
        "y": 100,
        "wires": [
            [
                "4b9a0a6f1713a12a"
            ]
        ]
    },
    {
        "id": "7a732e9184d0afcf",
        "type": "link out",
        "z": "5c92a1135257c28d",
        "g": "9d927f405fd197bc",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "8ed3b0974336e55b",
            "a97f87cfab413716",
            "aeee8468f3d1b7ad"
        ],
        "x": 1165,
        "y": 140,
        "wires": []
    },
    {
        "id": "4b9a0a6f1713a12a",
        "type": "join",
        "z": "5c92a1135257c28d",
        "g": "9d927f405fd197bc",
        "name": "",
        "mode": "custom",
        "build": "merged",
        "property": "notify",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "useparts": true,
        "accumulate": false,
        "timeout": "",
        "count": "5",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 1070,
        "y": 140,
        "wires": [
            [
                "7a732e9184d0afcf"
            ]
        ]
    },
    {
        "id": "b553c9f2abb4bdc0",
        "type": "template",
        "z": "5c92a1135257c28d",
        "g": "9d927f405fd197bc",
        "name": "notification id",
        "field": "notify.notification_id",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "deur",
        "output": "str",
        "x": 910,
        "y": 180,
        "wires": [
            [
                "4b9a0a6f1713a12a"
            ]
        ]
    },
    {
        "id": "f8bd1ef936e71fbf",
        "type": "template",
        "z": "5c92a1135257c28d",
        "g": "9d927f405fd197bc",
        "name": "tag",
        "field": "notify.tag",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "deur",
        "output": "str",
        "x": 890,
        "y": 220,
        "wires": [
            [
                "4b9a0a6f1713a12a"
            ]
        ]
    },
    {
        "id": "3685f3d759ad2aa1",
        "type": "catch",
        "z": "5c92a1135257c28d",
        "g": "c9eb921486128606",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "38c87329321ca5f4"
            ]
        ]
    },
    {
        "id": "38c87329321ca5f4",
        "type": "template",
        "z": "5c92a1135257c28d",
        "g": "c9eb921486128606",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "df859aeb022a54e3"
            ]
        ]
    },
    {
        "id": "7b8a53cdff17b707",
        "type": "link out",
        "z": "5c92a1135257c28d",
        "g": "c9eb921486128606",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 475,
        "y": 80,
        "wires": []
    },
    {
        "id": "df859aeb022a54e3",
        "type": "template",
        "z": "5c92a1135257c28d",
        "g": "c9eb921486128606",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "7b8a53cdff17b707"
            ]
        ]
    },
    {
        "id": "469b51b1e98313e4",
        "type": "api-current-state",
        "z": "5c92a1135257c28d",
        "name": "persons not home",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "not_home",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "group.persons",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 310,
        "y": 220,
        "wires": [
            [
                "37a1fa6891b30901"
            ],
            []
        ]
    },
    {
        "id": "0a6ec0937b59c0ab",
        "type": "server-state-changed",
        "z": "5c92a1135257c28d",
        "name": "guest mode is off",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "input_boolean.guest"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": false,
        "stateType": "str",
        "ifState": "off",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 100,
        "y": 220,
        "wires": [
            [
                "469b51b1e98313e4"
            ],
            []
        ]
    },
    {
        "id": "eab9993ce7699f6b",
        "type": "comment",
        "z": "fd9cd80f14f860fe",
        "g": "2ff8dfb43d1ba6a3",
        "name": "Radio",
        "info": "",
        "x": 770,
        "y": 800,
        "wires": []
    },
    {
        "id": "1e7eae419a9ec64f",
        "type": "comment",
        "z": "fd9cd80f14f860fe",
        "g": "cd256ec259a611f4",
        "name": "TV",
        "info": "",
        "x": 770,
        "y": 540,
        "wires": []
    },
    {
        "id": "1f82b6c0e5dbebf0",
        "type": "comment",
        "z": "fd9cd80f14f860fe",
        "g": "d3868dc5f4aa2d65",
        "name": "Uitschakelen",
        "info": "",
        "x": 810,
        "y": 160,
        "wires": []
    },
    {
        "id": "496e9f6b60f7e763",
        "type": "split",
        "z": "fd9cd80f14f860fe",
        "g": "fc9a0630f16ecdaf",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 930,
        "y": 1100,
        "wires": [
            [
                "ae3e3c86c7a641ae"
            ]
        ]
    },
    {
        "id": "ae3e3c86c7a641ae",
        "type": "switch",
        "z": "fd9cd80f14f860fe",
        "g": "fc9a0630f16ecdaf",
        "name": "",
        "property": "payload.state",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "unknown",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1050,
        "y": 1100,
        "wires": [
            [
                "afc206d613ea28f4"
            ]
        ]
    },
    {
        "id": "afc206d613ea28f4",
        "type": "rbe",
        "z": "fd9cd80f14f860fe",
        "g": "fc9a0630f16ecdaf",
        "name": "",
        "func": "rbe",
        "gap": "",
        "start": "",
        "inout": "out",
        "septopics": true,
        "property": "payload.state",
        "topi": "topic",
        "x": 1170,
        "y": 1100,
        "wires": [
            [
                "aa0c955739836a72"
            ]
        ]
    },
    {
        "id": "aa0c955739836a72",
        "type": "link out",
        "z": "fd9cd80f14f860fe",
        "g": "fc9a0630f16ecdaf",
        "name": "link out entertainment_activity",
        "mode": "link",
        "links": [
            "7264146e613f154c"
        ],
        "x": 1255,
        "y": 1100,
        "wires": []
    },
    {
        "id": "38e2ec5bd89aa669",
        "type": "comment",
        "z": "fd9cd80f14f860fe",
        "g": "fc9a0630f16ecdaf",
        "name": "Spotify",
        "info": "",
        "x": 770,
        "y": 1000,
        "wires": []
    },
    {
        "id": "f562bc76d4f77c72",
        "type": "template",
        "z": "fd9cd80f14f860fe",
        "g": "3deebaf17197f452",
        "name": "icon",
        "field": "notify.icon",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "",
        "output": "str",
        "x": 1110,
        "y": 1940,
        "wires": [
            [
                "dca8060d69453e87"
            ]
        ]
    },
    {
        "id": "aaefbd870a81bd90",
        "type": "template",
        "z": "fd9cd80f14f860fe",
        "g": "3deebaf17197f452",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Entertainment",
        "output": "str",
        "x": 1110,
        "y": 1860,
        "wires": [
            [
                "dca8060d69453e87"
            ]
        ]
    },
    {
        "id": "2c7cc629bd4dabbf",
        "type": "link out",
        "z": "fd9cd80f14f860fe",
        "g": "3deebaf17197f452",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "c13b2b4d87067c17"
        ],
        "x": 1365,
        "y": 1900,
        "wires": []
    },
    {
        "id": "dca8060d69453e87",
        "type": "join",
        "z": "fd9cd80f14f860fe",
        "g": "3deebaf17197f452",
        "name": "",
        "mode": "custom",
        "build": "merged",
        "property": "notify",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": false,
        "timeout": "",
        "count": "4",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 1270,
        "y": 1900,
        "wires": [
            [
                "2c7cc629bd4dabbf"
            ]
        ]
    },
    {
        "id": "c6c71296e724485a",
        "type": "template",
        "z": "fd9cd80f14f860fe",
        "g": "3deebaf17197f452",
        "name": "notification id",
        "field": "notify.notification_id",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "pause_entertaiment",
        "output": "str",
        "x": 1130,
        "y": 1980,
        "wires": [
            [
                "dca8060d69453e87"
            ]
        ]
    },
    {
        "id": "7c90580485197cda",
        "type": "template",
        "z": "fd9cd80f14f860fe",
        "g": "3deebaf17197f452",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "TV gepauseerd i.v.m. telefoongesprek.",
        "output": "str",
        "x": 1120,
        "y": 1900,
        "wires": [
            [
                "dca8060d69453e87"
            ]
        ]
    },
    {
        "id": "4ed88099e41abb6e",
        "type": "comment",
        "z": "fd9cd80f14f860fe",
        "name": "tv and media entertaiment automations",
        "info": "",
        "x": 170,
        "y": 20,
        "wires": []
    },
    {
        "id": "3a535b1014d0a45b",
        "type": "switch",
        "z": "fd9cd80f14f860fe",
        "name": "entertainment activity",
        "property": "data.new_state.state",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "Uitschakelen",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "TV",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "Radio",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "Spotify",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 4,
        "x": 440,
        "y": 220,
        "wires": [
            [
                "b564e25effcfc627"
            ],
            [
                "61e6d10bbacb84be"
            ],
            [
                "e07be8f58a2d80b1"
            ],
            [
                "0e86c16e42286a1a"
            ]
        ]
    },
    {
        "id": "f1ffce13e75d6866",
        "type": "comment",
        "z": "fd9cd80f14f860fe",
        "name": "frontend entertainment activity input select",
        "info": "",
        "x": 200,
        "y": 160,
        "wires": []
    },
    {
        "id": "bf5ba3943578c959",
        "type": "comment",
        "z": "fd9cd80f14f860fe",
        "name": "pause when phone is off hook",
        "info": "",
        "x": 160,
        "y": 1740,
        "wires": []
    },
    {
        "id": "4f9dcb4526aa6e68",
        "type": "switch",
        "z": "fd9cd80f14f860fe",
        "name": "who's phone",
        "property": "data.entity_id",
        "propertyType": "msg",
        "rules": [
            {
                "t": "cont",
                "v": "coen",
                "vt": "str"
            },
            {
                "t": "cont",
                "v": "anne",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 310,
        "y": 1780,
        "wires": [
            [
                "a7ae16757970717f"
            ],
            [
                "951e80123d5d1350"
            ]
        ]
    },
    {
        "id": "8974b3e5cc82c6b9",
        "type": "comment",
        "z": "fd9cd80f14f860fe",
        "name": "select entertainment activity based on powernode content",
        "info": "",
        "x": 250,
        "y": 1440,
        "wires": []
    },
    {
        "id": "d2469e552aa559a3",
        "type": "switch",
        "z": "fd9cd80f14f860fe",
        "name": "",
        "property": "data.new_state.timeSinceChangedMs",
        "propertyType": "msg",
        "rules": [
            {
                "t": "gt",
                "v": "20",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 330,
        "y": 1480,
        "wires": [
            [
                "0a97895675822841"
            ]
        ]
    },
    {
        "id": "cbfb0a5eb7b1a139",
        "type": "switch",
        "z": "fd9cd80f14f860fe",
        "name": "source",
        "property": "data.new_state.attributes.source",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "Spotify",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 730,
        "y": 1480,
        "wires": [
            [
                "167fb4439eb061eb"
            ]
        ]
    },
    {
        "id": "37a61d11bf9ce0ab",
        "type": "switch",
        "z": "fd9cd80f14f860fe",
        "name": "content type",
        "property": "data.new_state.attributes.media_content_type",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "music",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 590,
        "y": 1480,
        "wires": [
            [
                "cbfb0a5eb7b1a139"
            ]
        ]
    },
    {
        "id": "0a97895675822841",
        "type": "rbe",
        "z": "fd9cd80f14f860fe",
        "name": "",
        "func": "rbe",
        "gap": "",
        "start": "",
        "inout": "out",
        "septopics": true,
        "property": "payload",
        "topi": "topic",
        "x": 450,
        "y": 1480,
        "wires": [
            [
                "37a61d11bf9ce0ab"
            ]
        ]
    },
    {
        "id": "494e70afb45368b6",
        "type": "comment",
        "z": "fd9cd80f14f860fe",
        "name": "select entertainment activity based on media player content",
        "info": "",
        "x": 250,
        "y": 1320,
        "wires": []
    },
    {
        "id": "210f99cc3d429b16",
        "type": "switch",
        "z": "fd9cd80f14f860fe",
        "name": "source",
        "property": "data.new_state.attributes.source",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "Spotify",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 490,
        "y": 1360,
        "wires": [
            [
                "0e05b01a3088ebe6"
            ]
        ]
    },
    {
        "id": "607fbdf5b40786a0",
        "type": "rbe",
        "z": "fd9cd80f14f860fe",
        "name": "filter source",
        "func": "rbe",
        "gap": "",
        "start": "",
        "inout": "out",
        "septopics": true,
        "property": "data.new_state.attributes.source",
        "topi": "topic",
        "x": 350,
        "y": 1360,
        "wires": [
            [
                "210f99cc3d429b16"
            ]
        ]
    },
    {
        "id": "1bea28fe624c37b2",
        "type": "switch",
        "z": "fd9cd80f14f860fe",
        "name": "app name",
        "property": "data.new_state.attributes.app_name",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "NLZIET",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 340,
        "y": 1600,
        "wires": [
            [
                "68088e8c9c8a0e54"
            ],
            []
        ]
    },
    {
        "id": "2784788ce65fb972",
        "type": "comment",
        "z": "fd9cd80f14f860fe",
        "name": "events based on nvidia shield app name",
        "info": "",
        "x": 190,
        "y": 1560,
        "wires": []
    },
    {
        "id": "9e2a2047fb3d0be1",
        "type": "api-call-service",
        "z": "fd9cd80f14f860fe",
        "g": "fc9a0630f16ecdaf",
        "name": "turn off universal tv",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "media_player.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "media_player.universal_tv"
        ],
        "labelId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "media_player",
        "service": "turn_off",
        "x": 1010,
        "y": 1160,
        "wires": [
            []
        ]
    },
    {
        "id": "aeab6ce43c9dc70c",
        "type": "api-call-service",
        "z": "fd9cd80f14f860fe",
        "g": "2ff8dfb43d1ba6a3",
        "name": "turn off universal tv",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "media_player.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "media_player.universal_tv"
        ],
        "labelId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "media_player",
        "service": "turn_off",
        "x": 1010,
        "y": 900,
        "wires": [
            []
        ]
    },
    {
        "id": "fa9bc69bfdcf7c2c",
        "type": "api-call-service",
        "z": "fd9cd80f14f860fe",
        "g": "cd256ec259a611f4",
        "name": "stop mediaplayer powernode",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "media_player.media_stop",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "media_player.powernode_2i_ea48"
        ],
        "labelId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "media_player",
        "service": "media_stop",
        "x": 840,
        "y": 700,
        "wires": [
            [
                "54b7f080b2edea10"
            ]
        ]
    },
    {
        "id": "0d2317e40dbcbd17",
        "type": "api-call-service",
        "z": "fd9cd80f14f860fe",
        "g": "d3868dc5f4aa2d65",
        "name": "turn off universal tv",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "media_player.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "media_player.universal_tv"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "media_player",
        "service": "turn_off",
        "x": 970,
        "y": 260,
        "wires": [
            []
        ]
    },
    {
        "id": "18e6577d292535de",
        "type": "api-call-service",
        "z": "fd9cd80f14f860fe",
        "g": "cd256ec259a611f4",
        "name": "play optical input powernode",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "media_player.media_play",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "media_player.powernode_2i_ea48"
        ],
        "labelId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "media_player",
        "service": "media_play",
        "x": 1540,
        "y": 700,
        "wires": [
            []
        ]
    },
    {
        "id": "f9e486866e6d65f1",
        "type": "api-call-service",
        "z": "fd9cd80f14f860fe",
        "g": "d3868dc5f4aa2d65",
        "name": "stop bluesound powernode",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "media_player.media_stop",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "media_player.powernode_2i_ea48"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "media_player",
        "service": "media_stop",
        "x": 860,
        "y": 380,
        "wires": [
            []
        ]
    },
    {
        "id": "f47b4545239299ad",
        "type": "api-call-service",
        "z": "fd9cd80f14f860fe",
        "g": "cd256ec259a611f4",
        "name": "turn on universal tv",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "media_player.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "media_player.universal_tv"
        ],
        "labelId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "media_player",
        "service": "turn_on",
        "x": 1010,
        "y": 580,
        "wires": [
            []
        ]
    },
    {
        "id": "64218c054bcb7baf",
        "type": "api-call-service",
        "z": "fd9cd80f14f860fe",
        "g": "cd256ec259a611f4",
        "name": "turn on screen",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "webostv.command",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [],
        "labelId": [],
        "data": "{\"entity_id\":\"media_player.lg_webos_smart_tv\",\"command\":\"com.webos.service.tvpower/power/turnOnScreen\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "webostv",
        "service": "command",
        "x": 800,
        "y": 640,
        "wires": [
            []
        ]
    },
    {
        "id": "54b7f080b2edea10",
        "type": "api-call-service",
        "z": "fd9cd80f14f860fe",
        "g": "cd256ec259a611f4",
        "name": "select source optical input on bluesound powernode",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "media_player.select_source",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "media_player.powernode_2i_ea48"
        ],
        "labelId": [],
        "data": "{\"source\":\"Optisch Digitale ingang 1\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "media_player",
        "service": "select_source",
        "x": 1210,
        "y": 700,
        "wires": [
            [
                "18e6577d292535de"
            ]
        ]
    },
    {
        "id": "e020d358e653c079",
        "type": "api-call-service",
        "z": "fd9cd80f14f860fe",
        "g": "fc9a0630f16ecdaf",
        "name": "select powernode in spotify",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "media_player.select_source",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "media_player.spotify_coen_s_nl"
        ],
        "labelId": [],
        "data": "{\"source\":\"POWERNODE 2i-EA48\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "media_player",
        "service": "select_source",
        "x": 1420,
        "y": 1040,
        "wires": [
            []
        ]
    },
    {
        "id": "2088e9c0c8feb10f",
        "type": "api-call-service",
        "z": "fd9cd80f14f860fe",
        "g": "fc9a0630f16ecdaf",
        "name": "clear playlist mediaplayer powernode",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "media_player.clear_playlist",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "media_player.powernode_2i_ea48"
        ],
        "labelId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "media_player",
        "service": "clear_playlist",
        "x": 1130,
        "y": 1040,
        "wires": [
            [
                "e020d358e653c079"
            ]
        ]
    },
    {
        "id": "95ff475953e46b14",
        "type": "api-call-service",
        "z": "fd9cd80f14f860fe",
        "g": "fc9a0630f16ecdaf",
        "name": "stop mediaplayer powernode",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "media_player.media_stop",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "media_player.powernode_2i_ea48"
        ],
        "labelId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "media_player",
        "service": "media_stop",
        "x": 840,
        "y": 1040,
        "wires": [
            [
                "2088e9c0c8feb10f"
            ]
        ]
    },
    {
        "id": "29e2ecd31302f193",
        "type": "api-call-service",
        "z": "fd9cd80f14f860fe",
        "g": "2ff8dfb43d1ba6a3",
        "name": "clear playlist mediaplayer powernode",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "media_player.clear_playlist",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "media_player.powernode_2i_ea48"
        ],
        "labelId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "media_player",
        "service": "clear_playlist",
        "x": 1130,
        "y": 840,
        "wires": [
            []
        ]
    },
    {
        "id": "03b947a910d98181",
        "type": "api-call-service",
        "z": "fd9cd80f14f860fe",
        "g": "2ff8dfb43d1ba6a3",
        "name": "stop mediaplayer powernode",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "media_player.media_stop",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "media_player.powernode_2i_ea48"
        ],
        "labelId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "media_player",
        "service": "media_stop",
        "x": 840,
        "y": 840,
        "wires": [
            [
                "29e2ecd31302f193"
            ]
        ]
    },
    {
        "id": "f06607d23ea600e0",
        "type": "api-call-service",
        "z": "fd9cd80f14f860fe",
        "name": "pause group tv media players",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "media_player.media_pause",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "group.tv_media_players"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "media_player",
        "service": "media_pause",
        "x": 1130,
        "y": 1780,
        "wires": [
            []
        ]
    },
    {
        "id": "44ccff64331a48d4",
        "type": "api-call-service",
        "z": "fd9cd80f14f860fe",
        "name": "select entertainment activity Spotify",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "input_select.select_option",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_select.entertainment_activity"
        ],
        "labelId": [],
        "data": "{\"option\":\"Spotify\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "input_select",
        "service": "select_option",
        "x": 1260,
        "y": 1480,
        "wires": [
            []
        ]
    },
    {
        "id": "e6b09e369fa79397",
        "type": "api-call-service",
        "z": "fd9cd80f14f860fe",
        "name": "select entertainment activity Spotify",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "input_select.select_option",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_select.entertainment_activity"
        ],
        "labelId": [],
        "data": "{\"option\":\"Spotify\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "input_select",
        "service": "select_option",
        "x": 1360,
        "y": 1360,
        "wires": [
            []
        ]
    },
    {
        "id": "207e1edd1118b4af",
        "type": "api-call-service",
        "z": "fd9cd80f14f860fe",
        "name": "select entertainment activity TV",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "input_select.select_option",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_select.entertainment_activity"
        ],
        "labelId": [],
        "data": "{\"option\":\"TV\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "input_select",
        "service": "select_option",
        "x": 910,
        "y": 1600,
        "wires": [
            []
        ]
    },
    {
        "id": "6797374d5c5348f9",
        "type": "api-current-state",
        "z": "fd9cd80f14f860fe",
        "g": "fc9a0630f16ecdaf",
        "name": "universal tv is on",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "media_player.universal_tv",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 810,
        "y": 1160,
        "wires": [
            [
                "9e2a2047fb3d0be1"
            ],
            []
        ]
    },
    {
        "id": "f8be03186a90817e",
        "type": "api-current-state",
        "z": "fd9cd80f14f860fe",
        "g": "2ff8dfb43d1ba6a3",
        "name": "universal tv is on",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "media_player.universal_tv",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 810,
        "y": 900,
        "wires": [
            [
                "aeab6ce43c9dc70c"
            ],
            []
        ]
    },
    {
        "id": "1852cb62226e78b0",
        "type": "api-current-state",
        "z": "fd9cd80f14f860fe",
        "g": "cd256ec259a611f4",
        "name": "universal tv is off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "media_player.universal_tv",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 810,
        "y": 580,
        "wires": [
            [
                "f47b4545239299ad"
            ],
            []
        ]
    },
    {
        "id": "a7ae16757970717f",
        "type": "api-current-state",
        "z": "fd9cd80f14f860fe",
        "name": "state person coen is home",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "home",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "person.coen",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 520,
        "y": 1760,
        "wires": [
            [
                "fdca445a404c15cc"
            ],
            []
        ]
    },
    {
        "id": "fdca445a404c15cc",
        "type": "api-current-state",
        "z": "fd9cd80f14f860fe",
        "name": "state media player group tv is playing",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "playing",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "group.tv_media_players",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 810,
        "y": 1780,
        "wires": [
            [
                "f06607d23ea600e0",
                "594222d1e705061c"
            ],
            []
        ]
    },
    {
        "id": "951e80123d5d1350",
        "type": "api-current-state",
        "z": "fd9cd80f14f860fe",
        "name": "state person anne is home",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "home",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "person.anne",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 520,
        "y": 1820,
        "wires": [
            [
                "fdca445a404c15cc"
            ],
            []
        ]
    },
    {
        "id": "167fb4439eb061eb",
        "type": "api-current-state",
        "z": "fd9cd80f14f860fe",
        "name": "input select media source livingroom tv",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "Woonkamer TV",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_select.mediaplayer_destination",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "input_select.mediaplayer_destination",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 950,
        "y": 1480,
        "wires": [
            [
                "44ccff64331a48d4"
            ],
            []
        ]
    },
    {
        "id": "6739b21acd1ca7bf",
        "type": "api-current-state",
        "z": "fd9cd80f14f860fe",
        "name": "select entertainment activity is not Spotify",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "Spotify",
        "halt_if_type": "str",
        "halt_if_compare": "is_not",
        "entity_id": "input_select.entertainment_activity",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 1040,
        "y": 1360,
        "wires": [
            [
                "e6b09e369fa79397"
            ],
            []
        ]
    },
    {
        "id": "0e05b01a3088ebe6",
        "type": "api-current-state",
        "z": "fd9cd80f14f860fe",
        "name": "input select media source livingroom tv",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "Woonkamer TV",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_select.mediaplayer_destination",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "input_select.mediaplayer_destination",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 710,
        "y": 1360,
        "wires": [
            [
                "6739b21acd1ca7bf"
            ],
            []
        ]
    },
    {
        "id": "68088e8c9c8a0e54",
        "type": "api-current-state",
        "z": "fd9cd80f14f860fe",
        "name": "input select entertainment activity is not TV",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "TV",
        "halt_if_type": "str",
        "halt_if_compare": "is_not",
        "entity_id": "input_select.entertainment_activity",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 590,
        "y": 1600,
        "wires": [
            [
                "207e1edd1118b4af"
            ],
            []
        ]
    },
    {
        "id": "017deb01f1ac5d06",
        "type": "server-state-changed",
        "z": "fd9cd80f14f860fe",
        "name": "state input select entertainment activity",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 1,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "input_select.entertainment_activity"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": true,
        "stateType": "str",
        "ifState": "",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 170,
        "y": 200,
        "wires": [
            [
                "3a535b1014d0a45b"
            ]
        ]
    },
    {
        "id": "94ebde6817becd16",
        "type": "server-state-changed",
        "z": "fd9cd80f14f860fe",
        "name": "state phone is offhook",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [],
            "substring": [],
            "regex": [
                "^(?!.*battery).*sensor\\.phone_(.*?)_state.*$"
            ]
        },
        "outputInitially": true,
        "stateType": "str",
        "ifState": "offhook",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": true,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 120,
        "y": 1780,
        "wires": [
            [
                "4f9dcb4526aa6e68"
            ],
            []
        ]
    },
    {
        "id": "1f002901ca051fb8",
        "type": "server-state-changed",
        "z": "fd9cd80f14f860fe",
        "name": "state media player powernode",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "media_player.powernode_2i_ea48"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": true,
        "stateType": "str",
        "ifState": "paused",
        "ifStateType": "str",
        "ifStateOperator": "is_not",
        "outputOnlyOnStateChange": false,
        "for": "1",
        "forType": "num",
        "forUnits": "seconds",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 140,
        "y": 1480,
        "wires": [
            [
                "d2469e552aa559a3"
            ],
            []
        ]
    },
    {
        "id": "a39ce2d3dcb2fa52",
        "type": "server-state-changed",
        "z": "fd9cd80f14f860fe",
        "name": "state media player bluesound",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 1,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "media_player.powernode_2i_ea48"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": true,
        "stateType": "str",
        "ifState": "",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": false,
        "for": "",
        "forType": "num",
        "forUnits": "milliseconds",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 140,
        "y": 1360,
        "wires": [
            [
                "607fbdf5b40786a0"
            ]
        ]
    },
    {
        "id": "a8e3dc22f4e3aa9d",
        "type": "server-state-changed",
        "z": "fd9cd80f14f860fe",
        "name": "media player shield status",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "media_player.shield"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": false,
        "stateType": "str",
        "ifState": "idle",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 130,
        "y": 1600,
        "wires": [
            [
                "1bea28fe624c37b2",
                "21414367448d6645"
            ],
            []
        ]
    },
    {
        "id": "33f7961ae7010284",
        "type": "ha-get-entities",
        "z": "fd9cd80f14f860fe",
        "g": "fc9a0630f16ecdaf",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 1,
        "rules": [
            {
                "property": "entity_id",
                "logic": "starts_with",
                "value": "sensor.playlist_",
                "valueType": "str",
                "condition": "state_object"
            }
        ],
        "outputType": "array",
        "outputEmptyResults": false,
        "outputLocationType": "msg",
        "outputLocation": "payload",
        "outputResultsCount": 1,
        "x": 790,
        "y": 1100,
        "wires": [
            [
                "496e9f6b60f7e763"
            ]
        ]
    },
    {
        "id": "edd4560b8748e246",
        "type": "api-call-service",
        "z": "fd9cd80f14f860fe",
        "g": "d3868dc5f4aa2d65",
        "name": "tv turn off",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "webostv.command",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [],
        "labelId": [],
        "data": "{\"entity_id\":\"media_player.lg_webos_smart_tv\",\"command\":\"system/turnOff\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "webostv",
        "service": "command",
        "x": 940,
        "y": 320,
        "wires": [
            []
        ]
    },
    {
        "id": "6ae0751d3b16477e",
        "type": "catch",
        "z": "fd9cd80f14f860fe",
        "g": "db0ab1ca3a1a2df4",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "05c95955f54a2f36"
            ]
        ]
    },
    {
        "id": "05c95955f54a2f36",
        "type": "template",
        "z": "fd9cd80f14f860fe",
        "g": "db0ab1ca3a1a2df4",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "4f871f1a43192bd3"
            ]
        ]
    },
    {
        "id": "2c1c31327d39c466",
        "type": "link out",
        "z": "fd9cd80f14f860fe",
        "g": "db0ab1ca3a1a2df4",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 475,
        "y": 80,
        "wires": []
    },
    {
        "id": "4f871f1a43192bd3",
        "type": "template",
        "z": "fd9cd80f14f860fe",
        "g": "db0ab1ca3a1a2df4",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "2c1c31327d39c466"
            ]
        ]
    },
    {
        "id": "21414367448d6645",
        "type": "debug",
        "z": "fd9cd80f14f860fe",
        "name": "debug 2",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 340,
        "y": 1660,
        "wires": []
    },
    {
        "id": "7921cddd0f314705",
        "type": "api-call-service",
        "z": "fd9cd80f14f860fe",
        "g": "d3868dc5f4aa2d65",
        "name": "turn off nvidia shield",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "media_player.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "media_player.shield"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "media_player",
        "service": "turn_off",
        "x": 840,
        "y": 200,
        "wires": [
            []
        ]
    },
    {
        "id": "1d37dadaa58f945a",
        "type": "delay",
        "z": "fd9cd80f14f860fe",
        "g": "d3868dc5f4aa2d65",
        "name": "",
        "pauseType": "delay",
        "timeout": "4",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 800,
        "y": 320,
        "wires": [
            [
                "edd4560b8748e246"
            ]
        ]
    },
    {
        "id": "7bea96d351fd45a5",
        "type": "delay",
        "z": "fd9cd80f14f860fe",
        "g": "d3868dc5f4aa2d65",
        "name": "",
        "pauseType": "delay",
        "timeout": "2",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 800,
        "y": 260,
        "wires": [
            [
                "0d2317e40dbcbd17"
            ]
        ]
    },
    {
        "id": "48e7a59d1dd38103",
        "type": "api-call-service",
        "z": "fd9cd80f14f860fe",
        "g": "d3868dc5f4aa2d65",
        "name": "tvscreen turn off",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "webostv.command",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [],
        "labelId": [],
        "data": "{\"entity_id\":\"media_player.lg_webos_smart_tv\",\"command\":\"com.webos.service.tvpower/power/turnOffScreen\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "webostv",
        "service": "command",
        "x": 820,
        "y": 440,
        "wires": [
            []
        ]
    },
    {
        "id": "efdd9775da43ade3",
        "type": "comment",
        "z": "fb7b362cbc47e439",
        "name": "Flow that send a notification with a snapshot when a person is detected",
        "info": "",
        "x": 270,
        "y": 20,
        "wires": []
    },
    {
        "id": "0253bf8368a2a006",
        "type": "api-call-service",
        "z": "fb7b362cbc47e439",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [],
        "labelId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "",
        "service": "",
        "x": 1810,
        "y": 280,
        "wires": [
            []
        ]
    },
    {
        "id": "16c5bd0f3d99db2d",
        "type": "api-current-state",
        "z": "fb7b362cbc47e439",
        "name": "anne is not home",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "not_home",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "person.anne",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 1210,
        "y": 220,
        "wires": [
            [
                "5716e29154cbec1a"
            ],
            []
        ]
    },
    {
        "id": "f1250cf8ec5171f3",
        "type": "time-range-switch",
        "z": "fb7b362cbc47e439",
        "name": "",
        "lat": "",
        "lon": "",
        "startTime": "08:30",
        "endTime": "17:30",
        "startOffset": 0,
        "endOffset": 0,
        "x": 1030,
        "y": 220,
        "wires": [
            [
                "16c5bd0f3d99db2d"
            ],
            []
        ]
    },
    {
        "id": "5716e29154cbec1a",
        "type": "api-current-state",
        "z": "fb7b362cbc47e439",
        "name": "agenda coen anne events",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 1,
        "halt_if": "",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "calendar.coen_anne",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 1430,
        "y": 220,
        "wires": [
            [
                "dcd990cab15ab7f4"
            ]
        ]
    },
    {
        "id": "dcd990cab15ab7f4",
        "type": "switch",
        "z": "fb7b362cbc47e439",
        "name": "coen vrij",
        "property": "data.attributes.message",
        "propertyType": "msg",
        "rules": [
            {
                "t": "cont",
                "v": "Coen vrij",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1620,
        "y": 220,
        "wires": [
            [
                "0253bf8368a2a006"
            ]
        ]
    },
    {
        "id": "b8492bcc4206692b",
        "type": "api-current-state",
        "z": "fb7b362cbc47e439",
        "name": "guest mode is off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.guest",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 650,
        "y": 160,
        "wires": [
            [
                "77b49b23838983fa",
                "c035f059625386a1"
            ],
            []
        ]
    },
    {
        "id": "77b49b23838983fa",
        "type": "api-current-state",
        "z": "fb7b362cbc47e439",
        "name": "persons not home",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "not_home",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "group.persons",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 870,
        "y": 160,
        "wires": [
            [
                "610847102bcc29a9"
            ],
            []
        ]
    },
    {
        "id": "c035f059625386a1",
        "type": "api-current-state",
        "z": "fb7b362cbc47e439",
        "name": "workday is on",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "binary_sensor.workday_sensor",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 860,
        "y": 220,
        "wires": [
            [
                "f1250cf8ec5171f3"
            ],
            []
        ]
    },
    {
        "id": "e3d6e50eb16c2922",
        "type": "api-current-state",
        "z": "fb7b362cbc47e439",
        "name": "security is on",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.home_security",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 630,
        "y": 280,
        "wires": [
            [
                "0253bf8368a2a006"
            ],
            []
        ]
    },
    {
        "id": "ad94f6ee3b085ef4",
        "type": "function",
        "z": "fb7b362cbc47e439",
        "name": "create service call",
        "func": "msg.payload = {\n    \"action\": \"notify.mobile_app_phone_coen\",\n    \"data\": {\n        \"message\": \"Er is een persoon in de achtertuin gedetecteerd\",\n        \"data\": {\n            \"image\": \"https://home-assistant.theautomation.nl/api/frigate/notifications/\" + msg.payload.after.id + \"/thumbnail.jpg?format=android\",\n            \"tag\": msg.payload.after.id,\n            \"when\": msg.payload.after.start_time,\n            \"clickAction\": \"/dashboard-mobile/camera\",\n            \"channel\": \"Warning\",\n            \"importance\": \"high\"\n        }\n    }\n};\nreturn msg;\n\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 430,
        "y": 160,
        "wires": [
            [
                "b8492bcc4206692b",
                "e3d6e50eb16c2922"
            ]
        ]
    },
    {
        "id": "218274abd301e16a",
        "type": "catch",
        "z": "fb7b362cbc47e439",
        "g": "eceb4d513b2ed0a7",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "54b23fbb217cce7a"
            ]
        ]
    },
    {
        "id": "54b23fbb217cce7a",
        "type": "template",
        "z": "fb7b362cbc47e439",
        "g": "eceb4d513b2ed0a7",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "f2eeb4cd5981b12d"
            ]
        ]
    },
    {
        "id": "3bacd8ed5d0dccd2",
        "type": "link out",
        "z": "fb7b362cbc47e439",
        "g": "eceb4d513b2ed0a7",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 475,
        "y": 80,
        "wires": []
    },
    {
        "id": "f2eeb4cd5981b12d",
        "type": "template",
        "z": "fb7b362cbc47e439",
        "g": "eceb4d513b2ed0a7",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "3bacd8ed5d0dccd2"
            ]
        ]
    },
    {
        "id": "4bcb30df9a681943",
        "type": "link in",
        "z": "fb7b362cbc47e439",
        "name": "link in 1",
        "links": [
            "56356fe965332f8d"
        ],
        "x": 305,
        "y": 160,
        "wires": [
            [
                "ad94f6ee3b085ef4"
            ]
        ]
    },
    {
        "id": "c2d33a6abfd24923",
        "type": "api-call-service",
        "z": "f5e87f41e348afa5",
        "name": "turn on guest mode",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "input_boolean.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_boolean.guest"
        ],
        "labelId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "input_boolean",
        "service": "turn_on",
        "x": 590,
        "y": 160,
        "wires": [
            []
        ]
    },
    {
        "id": "0adb679d772d8e29",
        "type": "link in",
        "z": "f5e87f41e348afa5",
        "name": "scene_turn_on_guest_mode",
        "links": [
            "e787939d2bae52df",
            "f3bf4b7d7123292b"
        ],
        "x": 265,
        "y": 160,
        "wires": [
            [
                "94856ca3c5e83f43"
            ]
        ]
    },
    {
        "id": "fab6c5ea01e4f9ce",
        "type": "comment",
        "z": "f5e87f41e348afa5",
        "name": "Turn on guest mode",
        "info": "",
        "x": 110,
        "y": 20,
        "wires": []
    },
    {
        "id": "40b36b069112494c",
        "type": "catch",
        "z": "f5e87f41e348afa5",
        "g": "0c2e33b261c4cf11",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "4fd19d102fa4c95a"
            ]
        ]
    },
    {
        "id": "4fd19d102fa4c95a",
        "type": "template",
        "z": "f5e87f41e348afa5",
        "g": "0c2e33b261c4cf11",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "6f6033d75ad786d8"
            ]
        ]
    },
    {
        "id": "0666b6f65b4515cb",
        "type": "link out",
        "z": "f5e87f41e348afa5",
        "g": "0c2e33b261c4cf11",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 475,
        "y": 80,
        "wires": []
    },
    {
        "id": "6f6033d75ad786d8",
        "type": "template",
        "z": "f5e87f41e348afa5",
        "g": "0c2e33b261c4cf11",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "0666b6f65b4515cb"
            ]
        ]
    },
    {
        "id": "94856ca3c5e83f43",
        "type": "api-current-state",
        "z": "f5e87f41e348afa5",
        "name": "guest mode is off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.guest",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 390,
        "y": 160,
        "wires": [
            [
                "c2d33a6abfd24923"
            ],
            []
        ]
    },
    {
        "id": "a605be5e99e05b97",
        "type": "comment",
        "z": "75dcbba8aec48c92",
        "name": "turn on the door doorbell",
        "info": "",
        "x": 130,
        "y": 20,
        "wires": []
    },
    {
        "id": "94995c95d8594567",
        "type": "api-call-service",
        "z": "75dcbba8aec48c92",
        "name": "turn on doorbell chime",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "switch.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "switch.smart_doorbell_active"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "switch",
        "service": "turn_on",
        "x": 560,
        "y": 160,
        "wires": [
            []
        ]
    },
    {
        "id": "36cd7ff9968a8857",
        "type": "api-current-state",
        "z": "75dcbba8aec48c92",
        "name": "state doorbell off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "switch.smart_doorbell_active",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 360,
        "y": 160,
        "wires": [
            [
                "94995c95d8594567"
            ],
            []
        ]
    },
    {
        "id": "d12914930d09e92c",
        "type": "link in",
        "z": "75dcbba8aec48c92",
        "name": "scene_turn_on_doorbell_chime",
        "links": [
            "dad8fc7416653229"
        ],
        "x": 245,
        "y": 160,
        "wires": [
            [
                "36cd7ff9968a8857"
            ]
        ]
    },
    {
        "id": "48a202fd30defc64",
        "type": "catch",
        "z": "75dcbba8aec48c92",
        "g": "c79d2a2e6bd96fce",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "8a880a89870fd474"
            ]
        ]
    },
    {
        "id": "8a880a89870fd474",
        "type": "template",
        "z": "75dcbba8aec48c92",
        "g": "c79d2a2e6bd96fce",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "df8ba459c8692b8a"
            ]
        ]
    },
    {
        "id": "44f5433a0f7d8e6c",
        "type": "link out",
        "z": "75dcbba8aec48c92",
        "g": "c79d2a2e6bd96fce",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 475,
        "y": 80,
        "wires": []
    },
    {
        "id": "df8ba459c8692b8a",
        "type": "template",
        "z": "75dcbba8aec48c92",
        "g": "c79d2a2e6bd96fce",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "44f5433a0f7d8e6c"
            ]
        ]
    },
    {
        "id": "6a77eb9d04cca958",
        "type": "api-current-state",
        "z": "a498f22679d943d0",
        "name": "universal tv is playing",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "playing",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "media_player.universal_tv",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 440,
        "y": 160,
        "wires": [
            [
                "485b2638b3e54f1b"
            ],
            []
        ]
    },
    {
        "id": "485b2638b3e54f1b",
        "type": "api-call-service",
        "z": "a498f22679d943d0",
        "name": "pause universal tv media player",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "media_player.media_pause",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "media_player.universal_tv"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "media_player",
        "service": "media_pause",
        "x": 690,
        "y": 160,
        "wires": [
            []
        ]
    },
    {
        "id": "691651f6cac8d709",
        "type": "comment",
        "z": "a498f22679d943d0",
        "name": "scene that pause the tv media player",
        "info": "",
        "x": 160,
        "y": 20,
        "wires": []
    },
    {
        "id": "5c0b91114ad853a6",
        "type": "catch",
        "z": "a498f22679d943d0",
        "g": "b69895a9db022a47",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "57555a1f94c04fc3"
            ]
        ]
    },
    {
        "id": "57555a1f94c04fc3",
        "type": "template",
        "z": "a498f22679d943d0",
        "g": "b69895a9db022a47",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "8ba3f19d6ce65bec"
            ]
        ]
    },
    {
        "id": "83742449c3349fd4",
        "type": "link out",
        "z": "a498f22679d943d0",
        "g": "b69895a9db022a47",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 475,
        "y": 80,
        "wires": []
    },
    {
        "id": "8ba3f19d6ce65bec",
        "type": "template",
        "z": "a498f22679d943d0",
        "g": "b69895a9db022a47",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "83742449c3349fd4"
            ]
        ]
    },
    {
        "id": "29ef6b63d1ee8e04",
        "type": "link in",
        "z": "a498f22679d943d0",
        "name": "scene_pause_tv_media_player",
        "links": [
            "3bafb9626527259f"
        ],
        "x": 305,
        "y": 160,
        "wires": [
            [
                "6a77eb9d04cca958"
            ]
        ]
    },
    {
        "id": "a42a1f5ee71e92aa",
        "type": "template",
        "z": "3637eeb0.d96232",
        "g": "6cb0ed1df40f98e6",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "b678056d1b96f637"
            ]
        ]
    },
    {
        "id": "b678056d1b96f637",
        "type": "link out",
        "z": "3637eeb0.d96232",
        "g": "6cb0ed1df40f98e6",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 475,
        "y": 80,
        "wires": []
    },
    {
        "id": "e45eced2a30f126b",
        "type": "template",
        "z": "3637eeb0.d96232",
        "g": "6cb0ed1df40f98e6",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "a42a1f5ee71e92aa"
            ]
        ]
    },
    {
        "id": "f0797db4a3658338",
        "type": "catch",
        "z": "3637eeb0.d96232",
        "g": "6cb0ed1df40f98e6",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "e45eced2a30f126b"
            ]
        ]
    },
    {
        "id": "954ad4f4b59286e0",
        "type": "comment",
        "z": "3637eeb0.d96232",
        "name": "scene that turn on the frontdoor light for 5 minutes and then it turns it off",
        "info": "",
        "x": 270,
        "y": 20,
        "wires": []
    },
    {
        "id": "c3f4b74d.a01278",
        "type": "api-call-service",
        "z": "3637eeb0.d96232",
        "name": "turn on light front door",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "light.shelly1_front_door"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "light",
        "service": "turn_on",
        "x": 860,
        "y": 160,
        "wires": [
            [
                "f39e3558.7e0a48"
            ]
        ]
    },
    {
        "id": "4566a0c1.1b69e",
        "type": "api-call-service",
        "z": "3637eeb0.d96232",
        "name": "turn off light front door",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "light.shelly1_front_door"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "light",
        "service": "turn_off",
        "x": 1260,
        "y": 160,
        "wires": [
            []
        ]
    },
    {
        "id": "11f67152.16638f",
        "type": "api-current-state",
        "z": "3637eeb0.d96232",
        "name": "state outdoor dark",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "dark",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "sensor.outdoor_light_dark",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 430,
        "y": 160,
        "wires": [
            [
                "d6c8ef4a.6f6e9"
            ],
            []
        ]
    },
    {
        "id": "d6c8ef4a.6f6e9",
        "type": "api-current-state",
        "z": "3637eeb0.d96232",
        "name": "state light front door off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "light.shelly1_front_door",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 640,
        "y": 160,
        "wires": [
            [
                "c3f4b74d.a01278"
            ],
            []
        ]
    },
    {
        "id": "f39e3558.7e0a48",
        "type": "stoptimer",
        "z": "3637eeb0.d96232",
        "duration": "5",
        "units": "Minute",
        "payloadtype": "num",
        "payloadval": "0",
        "name": "",
        "x": 1060,
        "y": 160,
        "wires": [
            [
                "4566a0c1.1b69e"
            ],
            []
        ]
    },
    {
        "id": "9505c871fbc9e9b8",
        "type": "link in",
        "z": "3637eeb0.d96232",
        "name": "scene_turn_on_light_frontdoor_for_5_minutes",
        "links": [
            "3bafb9626527259f"
        ],
        "x": 305,
        "y": 160,
        "wires": [
            [
                "11f67152.16638f"
            ]
        ]
    },
    {
        "id": "716b959221558033",
        "type": "comment",
        "z": "d9b921e9fd746ad1",
        "name": "scene that send the vacuum to the trash bin",
        "info": "",
        "x": 190,
        "y": 20,
        "wires": []
    },
    {
        "id": "9f18e7092e8b6f9c",
        "type": "catch",
        "z": "d9b921e9fd746ad1",
        "g": "52980cdcae4e3384",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "ee03c06252d3632e"
            ]
        ]
    },
    {
        "id": "ee03c06252d3632e",
        "type": "template",
        "z": "d9b921e9fd746ad1",
        "g": "52980cdcae4e3384",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "9b9ad619917072e8"
            ]
        ]
    },
    {
        "id": "c9f30fc70f2be4fd",
        "type": "link out",
        "z": "d9b921e9fd746ad1",
        "g": "52980cdcae4e3384",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 475,
        "y": 80,
        "wires": []
    },
    {
        "id": "9b9ad619917072e8",
        "type": "template",
        "z": "d9b921e9fd746ad1",
        "g": "52980cdcae4e3384",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "c9f30fc70f2be4fd"
            ]
        ]
    },
    {
        "id": "093ac1f894c6070c",
        "type": "cronplus",
        "z": "d9b921e9fd746ad1",
        "name": "",
        "outputField": "payload",
        "timeZone": "",
        "storeName": "",
        "commandResponseMsgOutput": "output1",
        "defaultLocation": "",
        "defaultLocationType": "default",
        "outputs": 1,
        "options": [
            {
                "name": "schedule1",
                "topic": "topic1",
                "payloadType": "default",
                "payload": "",
                "expressionType": "cron",
                "expression": "0 0 7 * * 1 *",
                "location": "",
                "offset": "0",
                "solarType": "all",
                "solarEvents": "sunrise,sunset"
            }
        ],
        "x": 120,
        "y": 160,
        "wires": [
            [
                "429ec9116b7e06ae"
            ]
        ]
    },
    {
        "id": "429ec9116b7e06ae",
        "type": "api-call-service",
        "z": "d9b921e9fd746ad1",
        "name": "send vacuum to target location",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "vacuum.send_command",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "vacuum.roborock_s6_pure"
        ],
        "labelId": [],
        "data": "{\"command\":\"app_goto_target\",\"params\":[20433,24523]}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": true,
        "domain": "vacuum",
        "service": "send_command",
        "x": 350,
        "y": 160,
        "wires": [
            []
        ]
    },
    {
        "id": "fa5697a8ff97b4cd",
        "type": "inject",
        "z": "d9b921e9fd746ad1",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 110,
        "y": 300,
        "wires": [
            [
                "429ec9116b7e06ae"
            ]
        ]
    }
]