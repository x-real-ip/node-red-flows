[
    {
        "id": "4e909abe.0b62e4",
        "type": "tab",
        "label": "automation_mechanical_ventilation_basement",
        "disabled": false,
        "info": ""
    },
    {
        "id": "55da1471.fda0fc",
        "type": "tab",
        "label": "automation_vacuum_cleaner",
        "disabled": false,
        "info": ""
    },
    {
        "id": "29a2e1dd05ecbf80",
        "type": "tab",
        "label": "automation_vacuum_room_cleaning",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "03ed0365a1543556",
        "type": "tab",
        "label": "automation_wall_tablet_charge",
        "disabled": true,
        "info": "",
        "env": []
    },
    {
        "id": "39bdcb9ed819fc87",
        "type": "tab",
        "label": "automation_weather_code_translation",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "9a7094e42d673dc4",
        "type": "tab",
        "label": "light_dynamics_on_and_restore",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "b1a9214c.4c71c",
        "type": "tab",
        "label": "notification_basement_window",
        "disabled": false,
        "info": ""
    },
    {
        "id": "65351372f52f2e2d",
        "type": "tab",
        "label": "notification_doorbell",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "72f3a564e626ff9a",
        "type": "tab",
        "label": "notification_garbage_collection",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "98a989e.d6bca78",
        "type": "tab",
        "label": "notification_gas_consumption",
        "disabled": false,
        "info": ""
    },
    {
        "id": "b4aa7b8dbc1c80dc",
        "type": "tab",
        "label": "notification_knmi",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "343515a5528e14f0",
        "type": "tab",
        "label": "notification_main",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "d5421f8d.f7208",
        "type": "tab",
        "label": "notification_open_windows_firstfloor_house_cooling_down",
        "disabled": false,
        "info": ""
    },
    {
        "id": "75537afd17de5117",
        "type": "tab",
        "label": "notification_picnic",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "535c98d1d92579b6",
        "type": "tab",
        "label": "notification_sensors",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "1dfb7e055134adc8",
        "type": "tab",
        "label": "notification_sensors_count",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "b1b994b3d43d6aad",
        "type": "tab",
        "label": "notification_stookalert",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "a8d8484165225699",
        "type": "tab",
        "label": "notification_update_entity",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "8d2de69b4c0fd2b9",
        "type": "tab",
        "label": "notification_vacuum",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "ce5dca27239daba8",
        "type": "tab",
        "label": "notification_vacuum_s55_low_battery",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "1a02f7122bccea54",
        "type": "tab",
        "label": "notification_vacuum_s6_low_battery",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "7186425fdfc90c19",
        "type": "tab",
        "label": "notification_water_consumption",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "645478ab1138fd33",
        "type": "tab",
        "label": "security_backyard",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "b13ca13c.9328e",
        "type": "tab",
        "label": "security_house",
        "disabled": false,
        "info": ""
    },
    {
        "id": "2fdf3d9bec5f1748",
        "type": "tab",
        "label": "security_kitchen",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "cde79c08.e4f488",
        "type": "tab",
        "label": "security_smoke_co",
        "disabled": false,
        "info": ""
    },
    {
        "id": "46d98b35c2eee05b",
        "type": "tab",
        "label": "sensor_energy_custom",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "99c1372046e45da7",
        "type": "tab",
        "label": "sensor_energy_solar_record.",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "72ef82b8.9d086c",
        "type": "tab",
        "label": "sensor_thumble_dryer",
        "disabled": false,
        "info": ""
    },
    {
        "id": "c23003c7.1c978",
        "type": "tab",
        "label": "sensor_washing_machine",
        "disabled": false,
        "info": ""
    },
    {
        "id": "51ad1e79edd47f04",
        "type": "tab",
        "label": "sensor_weather_descriptions",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "4a94729fe3d3c081",
        "type": "tab",
        "label": "sensor_energy_returned_watts",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "5c92a1135257c28d",
        "type": "tab",
        "label": "notification_doors_open_nobody_home",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "d9b921e9fd746ad1",
        "type": "tab",
        "label": "scene_vacuum_send_to_trash_bin",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "c4112ff844284323",
        "type": "tab",
        "label": "scene_switch_turn_off_shelly_shield",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "762cff9aad6b0816",
        "type": "tab",
        "label": "scene_switch_turn_on_shelly_shield",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "d95708849d31630d",
        "type": "tab",
        "label": "scene_switch_turn_on_lg_tv_living_room",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "dfcd5e683fabd9c1",
        "type": "tab",
        "label": "scene_fan_positions_souterrain",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "5dd8a5e802404efd",
        "type": "tab",
        "label": "sensor_shield_volume_boolean",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "e0e34b3e49b36c0e",
        "type": "tab",
        "label": "_automation_light_outdoor",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "71f3d7905a503d5c",
        "type": "tab",
        "label": "_automation_light_barn_door",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "1adcdebcdc8e5c39",
        "type": "tab",
        "label": "_automation_climate_graph_input_select_all",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "fd9cd80f14f860fe",
        "type": "tab",
        "label": "_automation_entertainment_activity",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "5b957aaa34cab814",
        "type": "tab",
        "label": "_automation_assist_media_player_volume",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "2b23c32f6263f8c7",
        "type": "tab",
        "label": "_automation_assist_entertainment",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "39f5e6336137f4b2",
        "type": "tab",
        "label": "_automation_living-room_tv",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "94466ab2e543aa2f",
        "type": "tab",
        "label": "_automation_living-room",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "b789af61b07fd59c",
        "type": "tab",
        "label": "_automation_bathroom",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "be92da6a5a4a4550",
        "type": "tab",
        "label": "_automation_backyard",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "a0bf4bfc6f223fe1",
        "type": "tab",
        "label": "_automation_beau's-room",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "bf279eb7eda19fd7",
        "type": "tab",
        "label": "_automation_frontyard",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "a09ad053d19f1d06",
        "type": "tab",
        "label": "_automation_souterrain",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "7f39e487c7ab241c",
        "type": "tab",
        "label": "_automation_cv-closet",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "f32d9f15eade4bba",
        "type": "tab",
        "label": "_automation_kitchen",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "9f04872fa1616475",
        "type": "tab",
        "label": "_automation_hallway-ground-floor",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "085c9b619c2f5ad8",
        "type": "tab",
        "label": "_automation_hallway-first-floor",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "e5dc6f22432398d7",
        "type": "tab",
        "label": "_automation_master-bedroom",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "243935f7eeb0bc81",
        "type": "tab",
        "label": "_automation_lise's-room",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "3d30857f5165e137",
        "type": "tab",
        "label": "_automation_toilet",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "584de19021aea4c9",
        "type": "tab",
        "label": "_automation_global_home-security",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "840a747bdf820be0",
        "type": "tab",
        "label": "_automation_global_home-alarm",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "13a255ebdd1ff73b",
        "type": "tab",
        "label": "_automation_global_sleep-mode",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "e98ae3c9db1bd6c3",
        "type": "tab",
        "label": "_automation_global_vacation-mode",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "82d5958c73f37c26",
        "type": "tab",
        "label": "_automation_global_sms-forwarder",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "d9b05fe971d5c1b1",
        "type": "tab",
        "label": "_automation_global_calendar-events",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "2a2d89771193fb8b",
        "type": "tab",
        "label": "_automation_global_location-update",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "e4381ced98d2a929",
        "type": "tab",
        "label": "_automation_global_internet-speedtest",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "edbbe41e31b072c6",
        "type": "tab",
        "label": "_automation_global_notification-templates",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "3611a09f77ab1873",
        "type": "tab",
        "label": "_automation_global_notification-send",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "e44f5d834fa24670",
        "type": "tab",
        "label": "_automation_global_notification-mobile-app-action-events",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "9ea6eabfb34d96e0",
        "type": "subflow",
        "name": "trigger_global_house-unoccupied",
        "info": "",
        "category": "",
        "in": [],
        "out": [
            {
                "x": 720,
                "y": 80,
                "wires": [
                    {
                        "id": "0a18bbcbd9c3cd6e",
                        "port": 0
                    },
                    {
                        "id": "cd959f601e0454e3",
                        "port": 0
                    }
                ]
            }
        ],
        "env": [],
        "meta": {},
        "color": "#DDAA99",
        "outputLabels": [
            "person or guest",
            "guest",
            "person"
        ],
        "icon": "font-awesome/fa-home"
    },
    {
        "id": "ad57f56dd92dd9d6",
        "type": "subflow",
        "name": "trigger_global_house-occupied",
        "info": "",
        "category": "",
        "in": [],
        "out": [
            {
                "x": 710,
                "y": 100,
                "wires": [
                    {
                        "id": "4aae8060dce8db6a",
                        "port": 0
                    },
                    {
                        "id": "e0e3382abbd19287",
                        "port": 0
                    },
                    {
                        "id": "13c4015f5c406ece",
                        "port": 0
                    },
                    {
                        "id": "edc3bf6451d1af22",
                        "port": 0
                    }
                ]
            },
            {
                "x": 630,
                "y": 160,
                "wires": [
                    {
                        "id": "4aae8060dce8db6a",
                        "port": 0
                    }
                ]
            },
            {
                "x": 640,
                "y": 220,
                "wires": [
                    {
                        "id": "e0e3382abbd19287",
                        "port": 0
                    }
                ]
            },
            {
                "x": 700,
                "y": 280,
                "wires": [
                    {
                        "id": "6b09385c6ff633f3",
                        "port": 0
                    }
                ]
            },
            {
                "x": 700,
                "y": 340,
                "wires": [
                    {
                        "id": "a256a145f7984f9a",
                        "port": 0
                    }
                ]
            }
        ],
        "env": [],
        "meta": {},
        "color": "#DDAA99",
        "outputLabels": [
            "a person gets home or guestmode turns on",
            "person gets home",
            "guestmode turns on",
            "coen gets home anne was allready home",
            "anne gets home coen was allready home"
        ],
        "icon": "font-awesome/fa-home"
    },
    {
        "id": "f7435f5ad02d3f79",
        "type": "group",
        "z": "4e909abe.0b62e4",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "e231947e3513d81f",
            "e4c83565e32c77fc",
            "0556160e41cbd509",
            "f9b4b865266e96f0"
        ],
        "x": 14,
        "y": 39,
        "w": 502,
        "h": 82
    },
    {
        "id": "0a1a2a6df765a339",
        "type": "group",
        "z": "4e909abe.0b62e4",
        "name": "notify",
        "style": {
            "label": true
        },
        "nodes": [
            "febf6f9eab6e868d",
            "6502d163268904d4",
            "ac04035c1896218b",
            "a1c0156c06d58e91",
            "d6d0b5735ad8f20a",
            "399184be7531eb78",
            "67db220bfc8a732a",
            "71e07fd77d2a4430"
        ],
        "x": 1894,
        "y": 599,
        "w": 462,
        "h": 242
    },
    {
        "id": "faf17088fd1a6b16",
        "type": "group",
        "z": "55da1471.fda0fc",
        "name": "notify",
        "style": {
            "label": true
        },
        "nodes": [
            "c8bc013c45f3ae72",
            "035b931bd0cea26e",
            "57488cc36dcd2d00",
            "051f31139e799468",
            "07d3b997feaf3f7b",
            "8205d58f610c05d0"
        ],
        "x": 1834,
        "y": 779,
        "w": 472,
        "h": 162
    },
    {
        "id": "deb17c414e79ec63",
        "type": "group",
        "z": "55da1471.fda0fc",
        "name": "notify",
        "style": {
            "label": true
        },
        "nodes": [
            "f60ecb3be0ebc2af",
            "dec04d7f3b819fb2",
            "c5f04c8242157305",
            "ba409d3499824364",
            "60b0a5eab5b0a9d6",
            "0fa8b59e2735c07d"
        ],
        "x": 1834,
        "y": 379,
        "w": 472,
        "h": 162
    },
    {
        "id": "33fea7faee8e1f82",
        "type": "group",
        "z": "55da1471.fda0fc",
        "name": "notify two actions",
        "style": {
            "label": true
        },
        "nodes": [
            "8f3e39fd9d879f86",
            "d5ae8df68946471a",
            "d7f92782a71d3837",
            "b5cc0d26cf3e7ab2",
            "237a19020921825d",
            "09d4cdb039e852de",
            "0e83125ead481334"
        ],
        "x": 1834,
        "y": 559,
        "w": 472,
        "h": 202
    },
    {
        "id": "959cc8d22399a3c9",
        "type": "group",
        "z": "39bdcb9ed819fc87",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "259d9bad9d37b072",
            "ab5ff3a4a505c122",
            "008e4e3d5eb1c73a",
            "d4d19ad1bc94c25a"
        ],
        "x": 14,
        "y": 39,
        "w": 502,
        "h": 82
    },
    {
        "id": "6b44c062cbc05f0a",
        "type": "group",
        "z": "b1a9214c.4c71c",
        "name": "notify",
        "style": {
            "label": true
        },
        "nodes": [
            "db7934b4b14446da",
            "232a01493b9307b0",
            "73e546f49b2e02e1",
            "11d068d3ad86d2dd",
            "97afb37521efba77",
            "a22e2a028512634f"
        ],
        "x": 1734,
        "y": 199,
        "w": 412,
        "h": 162
    },
    {
        "id": "dbf117e9be1363d0",
        "type": "group",
        "z": "65351372f52f2e2d",
        "name": "notify",
        "style": {
            "label": true
        },
        "nodes": [
            "4fcc37584fdaacfc",
            "f62f4165d866a393",
            "f118397ef51d377e",
            "f46aad79d4615dbf",
            "ca3c70923fa7cd35",
            "96104ca744a9942d",
            "187e38cbc867548d"
        ],
        "x": 1614,
        "y": 379,
        "w": 442,
        "h": 202
    },
    {
        "id": "f259c1d245c5a0a4",
        "type": "group",
        "z": "65351372f52f2e2d",
        "name": "notify",
        "style": {
            "label": true
        },
        "nodes": [
            "41bff044d8ff0723",
            "8d49d5b0a77fe3fa",
            "e188c5d43cc22d55",
            "cfbc58f0de8fb24f",
            "685ac1f9d97aa2a9",
            "f6739c6be49dd463",
            "887d3f0b3fca1ef1",
            "3fd22ff1d39dc1e6"
        ],
        "x": 1614,
        "y": 159,
        "w": 442,
        "h": 242
    },
    {
        "id": "a36a86d8bb45f3d4",
        "type": "group",
        "z": "65351372f52f2e2d",
        "name": "notify tts",
        "style": {
            "label": true
        },
        "nodes": [
            "96c864b13b1ed44d",
            "6a5f068bc90a5bea",
            "7528bd2fef1d9090",
            "4cab768ec3304d77",
            "7bb3b10a5f621765",
            "504241c3de9c1592",
            "dfc54bd82a16e190"
        ],
        "x": 1614,
        "y": 679,
        "w": 452,
        "h": 202
    },
    {
        "id": "3b89d483d3628b14",
        "type": "group",
        "z": "72f3a564e626ff9a",
        "name": "notify two actions",
        "style": {
            "label": true
        },
        "nodes": [
            "3a3b8fdb9d6f4ab0",
            "dcc306682fd0ffa8",
            "0af5a06e405527e9",
            "d0d3f913b8c035f3",
            "b1b1be8e46f91cca",
            "dd3030c9ae0f7a07",
            "46d50645e39da463",
            "ebcb50cdabc72f91",
            "63343a4588295b35"
        ],
        "x": 1214,
        "y": 239,
        "w": 442,
        "h": 282
    },
    {
        "id": "7b3e33afc7e5d51f",
        "type": "group",
        "z": "98a989e.d6bca78",
        "name": "notify",
        "style": {
            "label": true
        },
        "nodes": [
            "253b2fc1dbf20ad4",
            "bdce8718917c4dcb",
            "b9f5925e88c3b14b",
            "5db5047bb3f69eb7",
            "4fc08434e069652b",
            "496caddb.5ba724",
            "fdc4c2eef34c0a15"
        ],
        "x": 854,
        "y": 179,
        "w": 452,
        "h": 202
    },
    {
        "id": "a438a5fafa2b7f02",
        "type": "group",
        "z": "343515a5528e14f0",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "42073f55aa389f5d",
            "f095a3312890d656",
            "ce9dcc40d72369f4",
            "8cc9f9d0eb2ee196"
        ],
        "x": 14,
        "y": 39,
        "w": 502,
        "h": 82
    },
    {
        "id": "f236f0a913f70054",
        "type": "group",
        "z": "d5421f8d.f7208",
        "name": "notify",
        "style": {
            "label": true
        },
        "nodes": [
            "0db5f8033b5c9adf",
            "4b276bf7ef0c3217",
            "ef18c5c2564a7e77",
            "6858101eee61155a",
            "eaec84df6f30a9ec",
            "1414f6788bc8c787"
        ],
        "x": 1934,
        "y": 79,
        "w": 472,
        "h": 162
    },
    {
        "id": "ef69ec82c772cad9",
        "type": "group",
        "z": "75537afd17de5117",
        "name": "notify",
        "style": {
            "label": true
        },
        "nodes": [
            "644d8e4f0164cfb2",
            "4b6f2391d1d4dfb7",
            "c32738f7b2c8ece5",
            "64fb1dffb9145f24",
            "5cb88a741e06d0c9",
            "56e8236b1fb323bc"
        ],
        "x": 1694,
        "y": 419,
        "w": 402,
        "h": 162
    },
    {
        "id": "9d6561fb99238a4d",
        "type": "group",
        "z": "b1b994b3d43d6aad",
        "name": "notify",
        "style": {
            "label": true
        },
        "nodes": [
            "5273660ff2a42a63",
            "194df75621104155",
            "c6bc1abd0ea4d3e7",
            "6cdaa7e9c55994da",
            "a087dd5873c41eaf",
            "48b102061eef4776",
            "ad8e3a3f408efd86"
        ],
        "x": 1154,
        "y": 219,
        "w": 452,
        "h": 202
    },
    {
        "id": "537179d37e7389e5",
        "type": "group",
        "z": "a8d8484165225699",
        "name": "notify",
        "style": {
            "label": true
        },
        "nodes": [
            "2e707984219ae3a9",
            "e142bb411f990e05",
            "58ce3486fc8107bd",
            "deeacc0728909577",
            "f55e9b8b5462e4d2",
            "daef6aa88b93b329",
            "e16a49a555dc3139"
        ],
        "x": 1194,
        "y": 239,
        "w": 452,
        "h": 202
    },
    {
        "id": "bb1cc6878bf6f696",
        "type": "group",
        "z": "8d2de69b4c0fd2b9",
        "name": "notify",
        "style": {
            "label": true
        },
        "nodes": [
            "db50c5b6f4f302b4",
            "c0d0c36d39f527e2",
            "372e878f27b4b2b2",
            "344ad3f982a92730",
            "ece5442438bb7aa1",
            "b560dfc6f3c2aec1"
        ],
        "x": 1294,
        "y": 159,
        "w": 472,
        "h": 162
    },
    {
        "id": "b4f3f9f25b585f85",
        "type": "group",
        "z": "ce5dca27239daba8",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "2e9dbc5a5fc615fc",
            "b437f9f1e8b5ebf7",
            "f9b220def47837e4",
            "2a1761aff5d63d7a"
        ],
        "x": 14,
        "y": 39,
        "w": 502,
        "h": 82
    },
    {
        "id": "751efbb5afdedf48",
        "type": "group",
        "z": "1a02f7122bccea54",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "70c953492b9eb40c",
            "505a577898a56012",
            "17e4e7721adc09a1",
            "fec97058470f8f5e"
        ],
        "x": 14,
        "y": 39,
        "w": 502,
        "h": 82
    },
    {
        "id": "3bd669c9a971e4a2",
        "type": "group",
        "z": "7186425fdfc90c19",
        "name": "notify",
        "style": {
            "label": true
        },
        "nodes": [
            "8ee8100ab8bdc7e6",
            "90b19d7c300c5383",
            "4369851a7e1e9308",
            "80393a5cbd64c280",
            "159c508f956eb430",
            "76b2b2fcd5922030",
            "44cfcac399640661"
        ],
        "x": 994,
        "y": 139,
        "w": 452,
        "h": 202
    },
    {
        "id": "f2952a0e7861984f",
        "type": "group",
        "z": "645478ab1138fd33",
        "name": "notify",
        "style": {
            "label": true
        },
        "nodes": [
            "2e62b582b5ace0b2",
            "6011ff5a330d5f46",
            "b151676bc37a1e90",
            "be68c8baf380f74e",
            "dfebcb371c6d37c4",
            "b41a40c1e135e55c",
            "ed20a5d29a5eb136",
            "29504140078fb34c"
        ],
        "x": 794,
        "y": 159,
        "w": 422,
        "h": 242
    },
    {
        "id": "37c7c59a61d38b32",
        "type": "group",
        "z": "b13ca13c.9328e",
        "name": "notify two actions",
        "style": {
            "label": true
        },
        "nodes": [
            "16bf3029dc11f50b",
            "8bd6ce7359e6fe2f",
            "48cae6c1e3fb0c75",
            "1c8dfa7ab499ce29",
            "3ad564319a62aa0f",
            "3f7e2f446cdb3e90",
            "66e66f9f5828f878",
            "5922c1dac60ed4ec"
        ],
        "x": 1734,
        "y": 239,
        "w": 422,
        "h": 242
    },
    {
        "id": "1b05fecd5ed3289b",
        "type": "group",
        "z": "b13ca13c.9328e",
        "name": "notify",
        "style": {
            "label": true
        },
        "nodes": [
            "dab28de38f3a6629",
            "ab8c69e6298f0ad4",
            "ac254d4235d71700",
            "47c9e5d66b827b3c",
            "3a0c4f886a8c4e54",
            "52d10ab03d478bae",
            "322d16b061f4e108"
        ],
        "x": 1734,
        "y": 499,
        "w": 422,
        "h": 202
    },
    {
        "id": "0490826048e616a0",
        "type": "group",
        "z": "2fdf3d9bec5f1748",
        "name": "notify",
        "style": {
            "label": true
        },
        "nodes": [
            "6e679db82914212d",
            "28d7678ffbc9ea54",
            "f513a1a6c1ad56d9",
            "509313ec35867636",
            "2137fd353b4905ee",
            "335c7c4596657191",
            "dedcddec2131fd4e",
            "e986602efbf956a6"
        ],
        "x": 1174,
        "y": 159,
        "w": 422,
        "h": 242
    },
    {
        "id": "60a8ffbec987c377",
        "type": "group",
        "z": "cde79c08.e4f488",
        "name": "notify",
        "style": {
            "label": true
        },
        "nodes": [
            "af6a4d51c1e99b4e",
            "8bda876328e49e67",
            "fdba7cd037a9da5a",
            "9a02e08c1760e584",
            "ef17b4eb0dc0871b",
            "c7b88c5f533c105b",
            "8ca7529cee95086c"
        ],
        "x": 814,
        "y": 239,
        "w": 432,
        "h": 202
    },
    {
        "id": "b268fa78a872617d",
        "type": "group",
        "z": "99c1372046e45da7",
        "name": "notify",
        "style": {
            "label": true
        },
        "nodes": [
            "148de36202032274",
            "5a8f575633614c07",
            "781d3a645a5e3130",
            "8c93b438701888a6",
            "7b9d796ac83c32bf",
            "9655b1065753069f",
            "451f25b73596ddf8"
        ],
        "x": 1354,
        "y": 239,
        "w": 412,
        "h": 202
    },
    {
        "id": "a51faa8090a268f4",
        "type": "group",
        "z": "99c1372046e45da7",
        "name": "notification_sensors",
        "style": {
            "label": true
        },
        "nodes": [
            "59d4d6719e262bbb",
            "e8714993e53c2d5e",
            "0561341e4ea54205",
            "29ad6bfc437abec2",
            "afc68deb5ab5e4be"
        ],
        "x": 1354,
        "y": 459,
        "w": 872,
        "h": 82
    },
    {
        "id": "48945dbb970d3465",
        "type": "group",
        "z": "72ef82b8.9d086c",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "95a0ca31cb9f81d2",
            "d6fdd4c4271165e1",
            "a88aa9f85b115b03",
            "2eb8824d45a66c4f"
        ],
        "x": 14,
        "y": 39,
        "w": 502,
        "h": 82
    },
    {
        "id": "677a462e190a4c92",
        "type": "group",
        "z": "72ef82b8.9d086c",
        "name": "notify",
        "style": {
            "label": true
        },
        "nodes": [
            "f359939883ebec80",
            "70a25e05987238de",
            "0993d50e3c03d798",
            "a91faa17c024af1e",
            "df3bd9cee59e687a",
            "7913c8cedd9b8d45",
            "95286ff3.9f33d"
        ],
        "x": 1244,
        "y": 139,
        "w": 472,
        "h": 202
    },
    {
        "id": "f2123713074fa557",
        "type": "group",
        "z": "c23003c7.1c978",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "3eba4ba84e7b67ae",
            "06bc5fe464e9132d",
            "aa6339118c6cf238",
            "0174447baafb1dab"
        ],
        "x": 14,
        "y": 39,
        "w": 502,
        "h": 82
    },
    {
        "id": "283f88d61789c306",
        "type": "group",
        "z": "c23003c7.1c978",
        "name": "notify",
        "style": {
            "label": true
        },
        "nodes": [
            "96e077260be2f7fb",
            "d93bd58ac5ac0363",
            "1e0f934a3493b12f",
            "beedc605a0a3cbac",
            "2191e2bfc331009c",
            "61f9d42e4c070321",
            "96679db36a4a3636"
        ],
        "x": 1854,
        "y": 99,
        "w": 472,
        "h": 202
    },
    {
        "id": "954efb6e818259f4",
        "type": "group",
        "z": "51ad1e79edd47f04",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "89f81c01fd297b99",
            "7d9dd51684fea32b",
            "31afe4007c8c4380",
            "9d44f246159d8d55"
        ],
        "x": 14,
        "y": 39,
        "w": 502,
        "h": 82
    },
    {
        "id": "ec39be6249e7e485",
        "type": "group",
        "z": "4a94729fe3d3c081",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "e2179ba6a2c951f5",
            "eeaaf1e6d4c5ea3a",
            "13f2b7ca42c4eca2",
            "fd804489979c3abc"
        ],
        "x": 14,
        "y": 39,
        "w": 502,
        "h": 82
    },
    {
        "id": "0b07577dad51457c",
        "type": "group",
        "z": "4e909abe.0b62e4",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "7b52e1a6.51c84",
            "dcb087f1.7dab78",
            "8e51a253.d8dde",
            "c83efd35.f7a48",
            "cb035d1b.0d3f9",
            "ce6315d9d913f13b",
            "5c4f378f8ceb12fe",
            "05b9c0653cca602c",
            "8695ac14d1f8e704"
        ],
        "x": 274,
        "y": 1319,
        "w": 442,
        "h": 302
    },
    {
        "id": "fe3d60102d671872",
        "type": "group",
        "z": "4e909abe.0b62e4",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "55ffc090.d9b5b",
            "9e8a7cf7.88d51",
            "5fba04f5.3847ac",
            "cbdc5416.0cbcd8",
            "91b0640c.1b4d68",
            "46d491e1.18c83",
            "7fcc0134.64917",
            "f5c03471.585f88",
            "fce79366.4dc17",
            "9c749cb3.fd1b8",
            "f348457a7db9ec8d"
        ],
        "x": 274,
        "y": 999,
        "w": 982,
        "h": 302
    },
    {
        "id": "031e4f7e9e7c26c2",
        "type": "group",
        "z": "4e909abe.0b62e4",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "54696fbd78ed3819",
            "4a4e04ddf8350706",
            "cb917aa518896f3a",
            "dfffac879d63354b",
            "6756525186f8169e",
            "9788a503135ae44e",
            "16000567cbeaf3df",
            "57486f510a59fd65",
            "60bfbb8510eb0ddf",
            "fec6bd8d1440b36a",
            "3bbc2d79dae1d733",
            "9073f4d6575f634e"
        ],
        "x": 274,
        "y": 1639,
        "w": 1252,
        "h": 362
    },
    {
        "id": "7a6662144d2d489c",
        "type": "group",
        "z": "55da1471.fda0fc",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "144ebe3499c86989",
            "dbd017147d154790",
            "4d1450df9aae47f1",
            "74b269c1337cbb9d"
        ],
        "x": 14,
        "y": 39,
        "w": 502,
        "h": 82
    },
    {
        "id": "7c9dc6f46ee8eaaf",
        "type": "group",
        "z": "29a2e1dd05ecbf80",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "ed749a88cd5bd834",
            "89d0c5bcdd39fd4c",
            "b7a8e5cc57ee6ca0",
            "e33e1e962d57e077"
        ],
        "x": 14,
        "y": 39,
        "w": 502,
        "h": 82
    },
    {
        "id": "53dc0a23c8426878",
        "type": "group",
        "z": "03ed0365a1543556",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "874b60377e719fde",
            "387845d9698cbe12",
            "7bf74cbdd5a69c4a",
            "dfa305742a8fe0b2"
        ],
        "x": 14,
        "y": 39,
        "w": 502,
        "h": 82
    },
    {
        "id": "bad5045815fdb13b",
        "type": "group",
        "z": "9a7094e42d673dc4",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "355581f2d8e477de",
            "4ea67a000286b4d8",
            "c653974d1dff1810",
            "db2e26ad5747e0a6"
        ],
        "x": 14,
        "y": 39,
        "w": 502,
        "h": 82
    },
    {
        "id": "6fc99fe3fa43961b",
        "type": "group",
        "z": "b1a9214c.4c71c",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "aedbcf84c1295abd",
            "e75e88b2739b898a",
            "c026370f826e5d5f",
            "c027d4c52c4a61b2"
        ],
        "x": 14,
        "y": 39,
        "w": 502,
        "h": 82
    },
    {
        "id": "04562c8514c07d74",
        "type": "group",
        "z": "65351372f52f2e2d",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "b66a38e04739bfdd",
            "b983fbc0f8c8da2f",
            "7bdad445330a11b6",
            "c73573d7e9bdaf0f"
        ],
        "x": 14,
        "y": 39,
        "w": 502,
        "h": 82
    },
    {
        "id": "00e1921baeb8bd5e",
        "type": "group",
        "z": "72f3a564e626ff9a",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "bfe7a87449e07220",
            "b6142c43c8cd2aa3",
            "14c8565d2e050386",
            "887509b8f00c0fa0"
        ],
        "x": 14,
        "y": 39,
        "w": 502,
        "h": 82
    },
    {
        "id": "9a6a0422b6ecafd9",
        "type": "group",
        "z": "98a989e.d6bca78",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "4b522fb422cd4d3b",
            "135edde980b196c2",
            "b6683e8825a4f684",
            "858d29207573b2c5"
        ],
        "x": 14,
        "y": 39,
        "w": 502,
        "h": 82
    },
    {
        "id": "e14729bbb68696bb",
        "type": "group",
        "z": "b4aa7b8dbc1c80dc",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "59261a1cba9f1c9d",
            "dc708d13b5623029",
            "db1e6a0372a267e5",
            "b4e30499c0f38241"
        ],
        "x": 34,
        "y": 19,
        "w": 502,
        "h": 82
    },
    {
        "id": "65b23193509b810d",
        "type": "group",
        "z": "d5421f8d.f7208",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "5966ae391638c2e2",
            "afca751308698d24",
            "588232826fe1cb16",
            "996b414e0e42417f"
        ],
        "x": 34,
        "y": 39,
        "w": 502,
        "h": 82
    },
    {
        "id": "8b3123563ca26288",
        "type": "group",
        "z": "75537afd17de5117",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "08e87e585225cf76",
            "850de025f821d110",
            "a1d22443632b6c95",
            "34627360e59b2422"
        ],
        "x": 14,
        "y": 39,
        "w": 502,
        "h": 82
    },
    {
        "id": "54fbd89aeb283eab",
        "type": "group",
        "z": "535c98d1d92579b6",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "d361893bd7868273",
            "d50a3b33f5ac5fbe",
            "dac0d4dda81abc95",
            "3a705fecfc60ec68"
        ],
        "x": 14,
        "y": 39,
        "w": 502,
        "h": 82
    },
    {
        "id": "28814c2324702a49",
        "type": "group",
        "z": "1dfb7e055134adc8",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "230055356a2e27e3",
            "c6c55fc30c7db0f1",
            "c84220140a8c71a3",
            "d9db1905747d0301"
        ],
        "x": 14,
        "y": 39,
        "w": 502,
        "h": 82
    },
    {
        "id": "7371831af6e7c577",
        "type": "group",
        "z": "b1b994b3d43d6aad",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "ad160909a47f0ea8",
            "ce1eb14a06a13ce4",
            "bf3806a421c7b15a",
            "da4b749474868319"
        ],
        "x": 14,
        "y": 39,
        "w": 502,
        "h": 82
    },
    {
        "id": "0330186b9fdcf4ee",
        "type": "group",
        "z": "a8d8484165225699",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "925cbc802add6b04",
            "d365bf9676fe5435",
            "fcbba10709360bf0",
            "5f99051ae7b91aed"
        ],
        "x": 14,
        "y": 39,
        "w": 502,
        "h": 82
    },
    {
        "id": "c55c738b848ff4e2",
        "type": "group",
        "z": "8d2de69b4c0fd2b9",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "a6bc5cbea3cc0781",
            "a0144416b570fb26",
            "80e833d182f30872",
            "51536b69c791a38f"
        ],
        "x": 14,
        "y": 19,
        "w": 502,
        "h": 82
    },
    {
        "id": "8a3e724b9367b490",
        "type": "group",
        "z": "7186425fdfc90c19",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "b8768bd6ae8b8f1b",
            "fde4c3a371beff5a",
            "388c6c30bcb85720",
            "0870fa9736ccd6a3"
        ],
        "x": 14,
        "y": 39,
        "w": 502,
        "h": 82
    },
    {
        "id": "30dd8f4e4a961d46",
        "type": "group",
        "z": "645478ab1138fd33",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "584b6ef4305b94bf",
            "b041bd0930b42e26",
            "88c8645165323767",
            "fcd114f75c18ca9a"
        ],
        "x": 14,
        "y": 39,
        "w": 502,
        "h": 82
    },
    {
        "id": "5818abbf91245841",
        "type": "group",
        "z": "b13ca13c.9328e",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "14ba38184c7546c9",
            "827b55ddfe680440",
            "200857993ae893c3",
            "072a523a6fd161e6"
        ],
        "x": 14,
        "y": 39,
        "w": 502,
        "h": 82
    },
    {
        "id": "8e49d14f6c55b86d",
        "type": "group",
        "z": "2fdf3d9bec5f1748",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "e49b1a71f5484e62",
            "370797ef44bacff0",
            "d6b4445ad7f5062a",
            "796c20cfef0a4084"
        ],
        "x": 14,
        "y": 39,
        "w": 502,
        "h": 82
    },
    {
        "id": "cb7954a7aa2cae2b",
        "type": "group",
        "z": "cde79c08.e4f488",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "7f6be1a38957af4c",
            "f1521b7d71efee12",
            "301e5101402d9cd1",
            "880bc0b589727b10"
        ],
        "x": 14,
        "y": 39,
        "w": 502,
        "h": 82
    },
    {
        "id": "a5fedb7b1f936a7c",
        "type": "group",
        "z": "46d98b35c2eee05b",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "68c48f123df0cea6",
            "0a699ee4ac51e7f9",
            "a6196b4738721e31",
            "73e7561891b5363a"
        ],
        "x": 14,
        "y": 39,
        "w": 502,
        "h": 82
    },
    {
        "id": "e30ff84977664050",
        "type": "group",
        "z": "99c1372046e45da7",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "6dc6a41b28fbcce8",
            "d9437e8ede03988b",
            "6bcc6ca59609f4ee",
            "b0a930b2bce12ea3"
        ],
        "x": 14,
        "y": 39,
        "w": 502,
        "h": 82
    },
    {
        "id": "9d927f405fd197bc",
        "type": "group",
        "z": "5c92a1135257c28d",
        "name": "notify",
        "style": {
            "label": true
        },
        "nodes": [
            "a6c263811d9239b5",
            "420b0d2cf8014bfe",
            "7a732e9184d0afcf",
            "4b9a0a6f1713a12a",
            "ea1d347257539369",
            "b553c9f2abb4bdc0",
            "f8bd1ef936e71fbf"
        ],
        "x": 774,
        "y": 59,
        "w": 432,
        "h": 202
    },
    {
        "id": "cd256ec259a611f4",
        "type": "group",
        "z": "fd9cd80f14f860fe",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "f47b4545239299ad",
            "54b7f080b2edea10",
            "1e7eae419a9ec64f",
            "18e6577d292535de",
            "61e6d10bbacb84be",
            "fa9bc69bfdcf7c2c",
            "1852cb62226e78b0",
            "cc95177ff7dd19c7"
        ],
        "x": 634,
        "y": 479,
        "w": 1012,
        "h": 242
    },
    {
        "id": "d3868dc5f4aa2d65",
        "type": "group",
        "z": "fd9cd80f14f860fe",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "1f82b6c0e5dbebf0",
            "0d2317e40dbcbd17",
            "b564e25effcfc627",
            "edd4560b8748e246",
            "7921cddd0f314705",
            "1d37dadaa58f945a",
            "7bea96d351fd45a5",
            "87169159e7ae701a",
            "f9e486866e6d65f1"
        ],
        "x": 634,
        "y": 159,
        "w": 652,
        "h": 302
    },
    {
        "id": "fc9a0630f16ecdaf",
        "type": "group",
        "z": "fd9cd80f14f860fe",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "38e2ec5bd89aa669",
            "0e86c16e42286a1a",
            "6797374d5c5348f9",
            "9e2a2047fb3d0be1",
            "3beb8cf879247adb"
        ],
        "x": 634,
        "y": 759,
        "w": 532,
        "h": 182
    },
    {
        "id": "3deebaf17197f452",
        "type": "group",
        "z": "fd9cd80f14f860fe",
        "name": "notify",
        "style": {
            "label": true
        },
        "nodes": [
            "f562bc76d4f77c72",
            "aaefbd870a81bd90",
            "2c7cc629bd4dabbf",
            "dca8060d69453e87",
            "594222d1e705061c",
            "c6c71296e724485a",
            "7c90580485197cda"
        ],
        "x": 994,
        "y": 1839,
        "w": 412,
        "h": 202
    },
    {
        "id": "c9eb921486128606",
        "type": "group",
        "z": "5c92a1135257c28d",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "3685f3d759ad2aa1",
            "38c87329321ca5f4",
            "7b8a53cdff17b707",
            "df859aeb022a54e3"
        ],
        "x": 14,
        "y": 39,
        "w": 502,
        "h": 82
    },
    {
        "id": "52980cdcae4e3384",
        "type": "group",
        "z": "d9b921e9fd746ad1",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "9f18e7092e8b6f9c",
            "ee03c06252d3632e",
            "c9f30fc70f2be4fd",
            "9b9ad619917072e8"
        ],
        "x": 14,
        "y": 39,
        "w": 502,
        "h": 82
    },
    {
        "id": "a6cae9b8e727f32b",
        "type": "group",
        "z": "c4112ff844284323",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "8cd6a97d8921b370",
            "f03accf0e6b5ffe8",
            "46a0b57223aa4c17",
            "13b122195c61c45f"
        ],
        "x": 14,
        "y": 39,
        "w": 502,
        "h": 82
    },
    {
        "id": "a8271160dbfdda1f",
        "type": "group",
        "z": "762cff9aad6b0816",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "ce5d8f5c47d6cd40",
            "88452990fe88bbc5",
            "6352a2bd0e56f5a8",
            "ad72e3183538d9e5"
        ],
        "x": 14,
        "y": 39,
        "w": 502,
        "h": 82
    },
    {
        "id": "b928bcab67c7970c",
        "type": "group",
        "z": "d95708849d31630d",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "3016c23826afe2b3",
            "46295b436337c8ca",
            "5fce516d2b677877",
            "da7468fd0ee36aee"
        ],
        "x": 14,
        "y": 39,
        "w": 502,
        "h": 82
    },
    {
        "id": "cdb88e8901d0ba9b",
        "type": "group",
        "z": "dfcd5e683fabd9c1",
        "name": "",
        "style": {
            "fill": "#ffbfbf",
            "label": true
        },
        "nodes": [
            "493f89bd975298cc",
            "e3d17bf790a14a46",
            "0795b985190d2d2c",
            "f4a0915189332d7f",
            "9c386485dd5af4ca"
        ],
        "x": 14,
        "y": 39,
        "w": 702,
        "h": 82
    },
    {
        "id": "914448f840b9d7b8",
        "type": "group",
        "z": "7f39e487c7ab241c",
        "name": "",
        "style": {
            "fill": "#ffbfbf",
            "label": true
        },
        "nodes": [
            "827acf22221b355e",
            "2b3ce0da818e77aa",
            "2cc9a5595a901b10",
            "a13a7124838954d9",
            "3cabf5fcbc48a7ce"
        ],
        "x": 14,
        "y": 19,
        "w": 702,
        "h": 82
    },
    {
        "id": "7cc7f95a4ebc61f4",
        "type": "group",
        "z": "fd9cd80f14f860fe",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "6ab8fdb97d90da1e",
            "64a60709294e150e",
            "48234362842d5448",
            "ff8e90b66ff667c9"
        ],
        "x": 634,
        "y": 959,
        "w": 532,
        "h": 122
    },
    {
        "id": "5ea1109d92a3532a",
        "type": "group",
        "z": "e44f5d834fa24670",
        "name": "",
        "style": {
            "fill": "#ffbfbf",
            "label": true
        },
        "nodes": [
            "5d74377194336786",
            "74f02e0422cfcfd4",
            "fc1469a9f0ef1aee",
            "5871553313960848",
            "8718042f6e666b71"
        ],
        "x": 14,
        "y": 19,
        "w": 702,
        "h": 82
    },
    {
        "id": "fe14b17143d5f305",
        "type": "group",
        "z": "d9b05fe971d5c1b1",
        "name": "",
        "style": {
            "fill": "#ffbfbf",
            "label": true
        },
        "nodes": [
            "85f675ee7a30451c",
            "3551969ed0c1e37a",
            "337ef9e6426bf90b",
            "6149bb5f8eb1e0d7",
            "418ebf3d342bb9b0"
        ],
        "x": 14,
        "y": 19,
        "w": 702,
        "h": 82
    },
    {
        "id": "8ba9bcbdc999fc66",
        "type": "group",
        "z": "1adcdebcdc8e5c39",
        "name": "",
        "style": {
            "fill": "#ffbfbf",
            "label": true
        },
        "nodes": [
            "13ec4212aa6c7097",
            "2d9839edb5b18080",
            "37d1e62a237418c8",
            "0df371a631a420f1",
            "9f7cae83c633220f"
        ],
        "x": 14,
        "y": 39,
        "w": 702,
        "h": 82
    },
    {
        "id": "5855298037ce8b13",
        "type": "group",
        "z": "5dd8a5e802404efd",
        "name": "",
        "style": {
            "fill": "#ffbfbf",
            "label": true
        },
        "nodes": [
            "8531aca21683e5c6",
            "0ec5b580b0301cb9",
            "896d42da6f78a4df",
            "2a8516d99887074c",
            "21d98f7558e1ecf0"
        ],
        "x": 14,
        "y": 39,
        "w": 702,
        "h": 82
    },
    {
        "id": "e05fc2f16e523b41",
        "type": "group",
        "z": "e0e34b3e49b36c0e",
        "name": "",
        "style": {
            "fill": "#ffbfbf",
            "label": true
        },
        "nodes": [
            "8edbcdc648b5d26e",
            "47e52ab72e9c041c",
            "41b174876237d623",
            "ee907863ab8c5ce0",
            "7f2715dc3075a76b"
        ],
        "x": 14,
        "y": 39,
        "w": 702,
        "h": 82
    },
    {
        "id": "5a7ee1933ba02ee6",
        "type": "group",
        "z": "fd9cd80f14f860fe",
        "name": "",
        "style": {
            "fill": "#ffbfbf",
            "label": true
        },
        "nodes": [
            "cc732df343a1b853",
            "baaef0705aa65cd9",
            "89630cbc58f61380",
            "771e77e50c8e6c37",
            "67d0438a1e015185"
        ],
        "x": 14,
        "y": 39,
        "w": 702,
        "h": 82
    },
    {
        "id": "f75da396da61e265",
        "type": "group",
        "z": "5b957aaa34cab814",
        "name": "",
        "style": {
            "fill": "#ffbfbf",
            "label": true
        },
        "nodes": [
            "baefe1afbb082442",
            "09922b4a1abc6861",
            "2978274f7f9728d8",
            "4375bd61cef9b591",
            "778f51a4da22adf6"
        ],
        "x": 14,
        "y": 39,
        "w": 702,
        "h": 82
    },
    {
        "id": "4dc458809c7f0b0e",
        "type": "group",
        "z": "2b23c32f6263f8c7",
        "name": "",
        "style": {
            "fill": "#ffbfbf",
            "label": true
        },
        "nodes": [
            "ed43e3427066937c",
            "78507d1220da1132",
            "bf8e5653c2636930",
            "b412897abc463b37",
            "5a30badee0ae6770"
        ],
        "x": 14,
        "y": 39,
        "w": 702,
        "h": 82
    },
    {
        "id": "6245ab7a28a04b83",
        "type": "group",
        "z": "39f5e6336137f4b2",
        "name": "",
        "style": {
            "fill": "#ffbfbf",
            "label": true
        },
        "nodes": [
            "cc8c7cf17f533749",
            "4cb0e008330fe098",
            "cb2996d878c5e0c7",
            "46f9be0e7684a83d",
            "08c782125ac91445"
        ],
        "x": 14,
        "y": 39,
        "w": 702,
        "h": 82
    },
    {
        "id": "bbcf76f00ce4b0cb",
        "type": "group",
        "z": "a09ad053d19f1d06",
        "name": "",
        "style": {
            "fill": "#ffbfbf",
            "label": true
        },
        "nodes": [
            "d9a6fa98ba07c6da",
            "a35d4e7ccec0ebe3",
            "03465ecf3ac1c82f",
            "0aa18950f4e293e1",
            "24257750e969c915"
        ],
        "x": 14,
        "y": 19,
        "w": 702,
        "h": 82
    },
    {
        "id": "b42667cc42459750",
        "type": "group",
        "z": "13a255ebdd1ff73b",
        "name": "",
        "style": {
            "fill": "#ffbfbf",
            "label": true
        },
        "nodes": [
            "2ba9517a860a47ee",
            "d24f6768d16e9d4a",
            "c2b55a3f0ee96b43",
            "619ec42f4a819c58",
            "ee92d8798fbf4b64"
        ],
        "x": 14,
        "y": 19,
        "w": 702,
        "h": 82
    },
    {
        "id": "4d4e6df3797df6ef",
        "type": "group",
        "z": "584de19021aea4c9",
        "name": "",
        "style": {
            "fill": "#ffbfbf",
            "label": true
        },
        "nodes": [
            "b39b586bf6ca434d",
            "ec93c45ae9417e15",
            "9d553baf555a2986",
            "6304933d3ac6eec0",
            "0dcd14f1512c625d"
        ],
        "x": 14,
        "y": 19,
        "w": 702,
        "h": 82
    },
    {
        "id": "2fca1ec79ef4fd0f",
        "type": "group",
        "z": "82d5958c73f37c26",
        "name": "",
        "style": {
            "fill": "#ffbfbf",
            "label": true
        },
        "nodes": [
            "e35cad4b3ef71457",
            "dc11ed7224c9e212",
            "01715f74afb788fa",
            "df5953f730ed98e5",
            "6417fbf071ec5c3b"
        ],
        "x": 14,
        "y": 19,
        "w": 702,
        "h": 82
    },
    {
        "id": "71b5f1ba66875171",
        "type": "group",
        "z": "2a2d89771193fb8b",
        "name": "",
        "style": {
            "fill": "#ffbfbf",
            "label": true
        },
        "nodes": [
            "6a6520d601185044",
            "9153c3f34ed4cf4e",
            "ef7470dc94a80ccd",
            "e178716be34b9468",
            "695b74bc6c83ff92"
        ],
        "x": 14,
        "y": 19,
        "w": 702,
        "h": 82
    },
    {
        "id": "2eb792ab3efd8194",
        "type": "group",
        "z": "2a2d89771193fb8b",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "42ddeb921e7ac3ac",
            "249f5902cd409334",
            "21f329f381fe5581",
            "684440651deb45dc",
            "31e88dec2dcdce08",
            "f95baa64b54391a1"
        ],
        "x": 14,
        "y": 119,
        "w": 652,
        "h": 202
    },
    {
        "id": "0198e4fba1900d12",
        "type": "group",
        "z": "d9b05fe971d5c1b1",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "1e22588bbe63c367",
            "d2c560378b1b926b",
            "daacb8ae6b24ed5b",
            "af07bfce63f231bf",
            "42e276a02c8ae048",
            "c0ee902736073bfc"
        ],
        "x": 14,
        "y": 119,
        "w": 792,
        "h": 182
    },
    {
        "id": "fa8b2c549c6198d2",
        "type": "group",
        "z": "82d5958c73f37c26",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "31399773f075b869",
            "322398b813ae0542",
            "782dad59eecce1f6",
            "f7b6a832a5096712",
            "2e9e2b02c8f4b00b",
            "c4b9a270ac6b6551",
            "4d395d18c0756d47",
            "2babd23a398c74fd"
        ],
        "x": 14,
        "y": 119,
        "w": 692,
        "h": 222
    },
    {
        "id": "08715fb1375207f2",
        "type": "group",
        "z": "584de19021aea4c9",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "0d2ea417abbfd9a9",
            "3c72ab291eed2837",
            "33536fb6cb94dc7d",
            "b52170d79065c5e9",
            "72ae4172893b2bb9",
            "e70a120b208749ae",
            "ce03ab56bedf05fc",
            "98e460a4ed0ed121",
            "1da076f55b07dac9",
            "06e3604a68b26be9"
        ],
        "x": 14,
        "y": 119,
        "w": 1292,
        "h": 304.5
    },
    {
        "id": "248d4ab2c7068c5e",
        "type": "group",
        "z": "9f04872fa1616475",
        "name": "",
        "style": {
            "fill": "#ffbfbf",
            "label": true
        },
        "nodes": [
            "8c10b0e33e6f54b0",
            "b4defcb9cbcaf45b",
            "784ddf5ce5e4965e",
            "12a3dce49d94867b",
            "0778c56b05cb98f7"
        ],
        "x": 14,
        "y": 19,
        "w": 702,
        "h": 82
    },
    {
        "id": "3ca230ff2becd832",
        "type": "group",
        "z": "b789af61b07fd59c",
        "name": "notify",
        "style": {
            "label": true
        },
        "nodes": [
            "753a58a11a72906c",
            "f777d58a9431acab",
            "6ca39787321a747a",
            "e778d71ea6d1e452",
            "62e6e0b8f41df173",
            "8e10f7084a1fb496",
            "9ba2576829f3e51e"
        ],
        "x": 1854,
        "y": 159,
        "w": 442,
        "h": 202
    },
    {
        "id": "68a98f78122e5e71",
        "type": "group",
        "z": "b789af61b07fd59c",
        "name": "",
        "style": {
            "fill": "#ffbfbf",
            "label": true
        },
        "nodes": [
            "9056928bc0dcd9af",
            "e71eb3bfe6e72aaa",
            "653fcb40d1a25093",
            "1eb8a6661fe76878",
            "c2ba99719a3d4eef"
        ],
        "x": 14,
        "y": 19,
        "w": 702,
        "h": 82
    },
    {
        "id": "adce68bda183382f",
        "type": "group",
        "z": "a0bf4bfc6f223fe1",
        "name": "",
        "style": {
            "fill": "#ffbfbf",
            "label": true
        },
        "nodes": [
            "7831e77dd0529d13",
            "83d9bffdc90d8024",
            "d0d98b18b43870d8",
            "dc40e9ead4bb5038",
            "f36ee4c6622c00cb"
        ],
        "x": 14,
        "y": 19,
        "w": 702,
        "h": 82
    },
    {
        "id": "b65b9ff17eaef899",
        "type": "group",
        "z": "085c9b619c2f5ad8",
        "name": "",
        "style": {
            "fill": "#ffbfbf",
            "label": true
        },
        "nodes": [
            "0de9b0739bb60d99",
            "3f837f513bde36c9",
            "dc649cae5470eb6f",
            "16dda5ed078d390c",
            "0a3e14e9ce2510d2"
        ],
        "x": 14,
        "y": 19,
        "w": 702,
        "h": 82
    },
    {
        "id": "94eb0b8399251a81",
        "type": "group",
        "z": "243935f7eeb0bc81",
        "name": "",
        "style": {
            "fill": "#ffbfbf",
            "label": true
        },
        "nodes": [
            "d357be3dcef4fda7",
            "27a67028b86e4283",
            "6e8aad8568d522fa",
            "5c37c236740f83bb",
            "b065c26e521207b1"
        ],
        "x": 14,
        "y": 19,
        "w": 702,
        "h": 82
    },
    {
        "id": "4d7858b75137b4e2",
        "type": "group",
        "z": "e5dc6f22432398d7",
        "name": "",
        "style": {
            "fill": "#ffbfbf",
            "label": true
        },
        "nodes": [
            "b088b44e4525c097",
            "551131fd649c020a",
            "c4352074f6a9380d",
            "d2e29d0bc6c40b73",
            "a4f640f2e439cdea"
        ],
        "x": 14,
        "y": 19,
        "w": 702,
        "h": 82
    },
    {
        "id": "d682f69e7ce22c8f",
        "type": "group",
        "z": "94466ab2e543aa2f",
        "name": "",
        "style": {
            "fill": "#ffbfbf",
            "label": true
        },
        "nodes": [
            "6e79bc1726b0ef67",
            "5b124ad54f888554",
            "651e1d1bfb037f1b",
            "d401844673ba904e",
            "2262f2a2e5fc42b1"
        ],
        "x": 14,
        "y": 19,
        "w": 702,
        "h": 82
    },
    {
        "id": "ec2f567862ba39b8",
        "type": "group",
        "z": "94466ab2e543aa2f",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "38359ee3075d7265",
            "114df27610bf61b8",
            "5de4c93f0f01b4d6",
            "0260edcb14ed697c",
            "2d71a81ca51a22dc",
            "b55a1b1c2ee46b70",
            "80f341496b680f21",
            "02001e33ab1a7769",
            "92a5fdf9411f1451",
            "db0951fa1bf62652",
            "b683652c36e89d93",
            "c7889bf53b45acd0",
            "12623d2f9eb2f4d2",
            "0a529779203ff3d6",
            "257a3fc6c1e0caff",
            "434c2e9a25561bbe",
            "bcb591880f5b770b"
        ],
        "x": 14,
        "y": 139,
        "w": 862,
        "h": 522
    },
    {
        "id": "43db3a32531961af",
        "type": "group",
        "z": "f32d9f15eade4bba",
        "name": "",
        "style": {
            "fill": "#ffbfbf",
            "label": true
        },
        "nodes": [
            "44830f60728cb460",
            "2db3444e5c29da91",
            "e68a4f2c1f36acb9",
            "c0d88069e22740be",
            "e847e8dad0dd9ab7"
        ],
        "x": 14,
        "y": 19,
        "w": 702,
        "h": 82
    },
    {
        "id": "e4b115822136011e",
        "type": "group",
        "z": "bf279eb7eda19fd7",
        "name": "",
        "style": {
            "fill": "#ffbfbf",
            "label": true
        },
        "nodes": [
            "e91b6ee40fc46f0c",
            "c2a1f14195c61ae1",
            "eac587a7da6b3661",
            "665026f9a1c4925c",
            "8df00b3508493f2c"
        ],
        "x": 14,
        "y": 19,
        "w": 702,
        "h": 82
    },
    {
        "id": "e76b862c154037a5",
        "type": "group",
        "z": "bf279eb7eda19fd7",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "174604fe3f8a8bcd",
            "3bafb9626527259f",
            "ed0a64b393320467"
        ],
        "x": 14,
        "y": 119,
        "w": 302,
        "h": 122
    },
    {
        "id": "4449f91efc0583a7",
        "type": "group",
        "z": "bf279eb7eda19fd7",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "94995c95d8594567",
            "36cd7ff9968a8857",
            "efaf9a399a91cc6a",
            "eac6d376f26390fe",
            "6ab4fe8e04f4839f"
        ],
        "x": 14,
        "y": 539,
        "w": 772,
        "h": 182
    },
    {
        "id": "53739d10393c26e2",
        "type": "group",
        "z": "bf279eb7eda19fd7",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "8be71c38e670f610",
            "b11e5a0712a8f45c",
            "578f9487e5b636d9"
        ],
        "x": 14,
        "y": 259,
        "w": 262,
        "h": 122
    },
    {
        "id": "cab9eeaa205362d4",
        "type": "group",
        "z": "13a255ebdd1ff73b",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "5b60f50f0c536814",
            "a47dc9c70d1b7cac",
            "ab8d50df95263bdb",
            "144998ab4397337d",
            "122bd35233daa183",
            "411acab1235f04c0",
            "250aeb21b537919a",
            "b1e9ceda84ca6c84",
            "547adbcf6d9c7157",
            "b71280bffd062919"
        ],
        "x": 14,
        "y": 119,
        "w": 1172,
        "h": 284.5
    },
    {
        "id": "647fea0a3ea7e4e4",
        "type": "group",
        "z": "3d30857f5165e137",
        "name": "",
        "style": {
            "fill": "#ffbfbf",
            "label": true
        },
        "nodes": [
            "881c7c6e29dbf984",
            "456cca54662124d4",
            "ccb7ef12d5532abb",
            "565e353fb713834b",
            "4fbf6de64bc19fa8"
        ],
        "x": 14,
        "y": 19,
        "w": 702,
        "h": 82
    },
    {
        "id": "8484c31ea7272515",
        "type": "group",
        "z": "3d30857f5165e137",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "effdb4f47bd11771",
            "25d79c8787fd1812",
            "59e4a09ae6f431cd",
            "b5dd79a9ecc0d1c8",
            "8a928f6874ea03c8",
            "6433045b1f3b4f8e",
            "0a28fb35b8f92f89",
            "1bcfdae4fb034efd",
            "e40aff179bd30a9b",
            "a752563ecc453fd5"
        ],
        "x": 14,
        "y": 259,
        "w": 1472,
        "h": 222
    },
    {
        "id": "9de4afe79cde1a47",
        "type": "group",
        "z": "3d30857f5165e137",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "3b550de91ce4e17e",
            "ee6a31878d411d3d",
            "8eeed77d329cda19"
        ],
        "x": 14,
        "y": 119,
        "w": 222,
        "h": 122
    },
    {
        "id": "9a36b394a8edfcb7",
        "type": "group",
        "z": "13a255ebdd1ff73b",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "b636215d02b0f07a",
            "d072b374f00acb38",
            "e6b9ff42fde3ea4e",
            "c07ca02ed810efe8"
        ],
        "x": 14,
        "y": 519,
        "w": 292,
        "h": 162
    },
    {
        "id": "b4a745c397f4ec50",
        "type": "group",
        "z": "be92da6a5a4a4550",
        "name": "",
        "style": {
            "fill": "#ffbfbf",
            "label": true
        },
        "nodes": [
            "6ae82e1d8e8cdfd3",
            "a0dc458416ced4dc",
            "ccda14a2b42b3ef8",
            "74642a407960188e",
            "1a792f0ad22fac62"
        ],
        "x": 14,
        "y": 19,
        "w": 702,
        "h": 82
    },
    {
        "id": "3ea4060fc2b3fa5d",
        "type": "group",
        "z": "be92da6a5a4a4550",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "0b73d8b3b42f4385",
            "a4f11cd63b9d1c1c",
            "598c87450fe46556"
        ],
        "x": 14,
        "y": 279,
        "w": 282,
        "h": 122
    },
    {
        "id": "db49c07a2c411991",
        "type": "group",
        "z": "f32d9f15eade4bba",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "535a687f3b588b38",
            "2d21e3e6cf54e587",
            "1bcc023985a00dc1",
            "7e4444ae7832e36b",
            "b5c5c34d9f917783"
        ],
        "x": 14,
        "y": 239,
        "w": 852,
        "h": 162
    },
    {
        "id": "93bb50aa6cc6f5f6",
        "type": "group",
        "z": "f32d9f15eade4bba",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "34bc897fe72c285a",
            "9bdbb23b40a8c8d6",
            "669938235d33a02d"
        ],
        "x": 14,
        "y": 99,
        "w": 632,
        "h": 122
    },
    {
        "id": "d543568c3cc7aa23",
        "type": "group",
        "z": "be92da6a5a4a4550",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "5c56266b.e63438",
            "818ba5a9.204658",
            "714f8f70.75ec6",
            "9970a078522f1484",
            "extract-timestamp",
            "delay-node",
            "eac48a5b9f81b614",
            "4526454deceed49b",
            "d995b37fc6ae461d",
            "b5382c6f0181713a",
            "e39c63aed1fd0e02",
            "17f88310915585a7",
            "49bcf8fe.de1de8",
            "6c14527497f34f34",
            "607a179b.d377f8",
            "99bd7176238143ec",
            "a378d97aa6be5e49",
            "3392d6cf5e1cb20b",
            "15b291f3af638db3"
        ],
        "x": 14,
        "y": 619,
        "w": 1872,
        "h": 342
    },
    {
        "id": "40ba22ed83c37e84",
        "type": "group",
        "z": "be92da6a5a4a4550",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "9b6c2afddf16ea91",
            "3a9bf30a0fb33784",
            "31fda56ec62032b8",
            "4a93ba39b988072a"
        ],
        "x": 14,
        "y": 119,
        "w": 332,
        "h": 142
    },
    {
        "id": "3fb93bcbbbabba08",
        "type": "group",
        "z": "94466ab2e543aa2f",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "e74a05e1304af39d",
            "0f11c9fe3c952101",
            "6803085629891ea7",
            "1ddf1eb78ab3cf78",
            "c70694fda8b31d8a"
        ],
        "x": 14,
        "y": 679,
        "w": 992,
        "h": 162
    },
    {
        "id": "dd34bb5e6cbcf6c2",
        "type": "group",
        "z": "a0bf4bfc6f223fe1",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "abebf9f4938982e1",
            "3a0d294bfe1551ee",
            "f27beafcf76d0d51",
            "af0e2bdd4daadbcb",
            "c118e67cdd8fe02f"
        ],
        "x": 14,
        "y": 119,
        "w": 732,
        "h": 162
    },
    {
        "id": "dd7dd198428a74cc",
        "type": "group",
        "z": "a09ad053d19f1d06",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "296a39b36660da40",
            "8782d8d0142e8a03",
            "591435a4c731b783",
            "2f6877e917181f4c",
            "6dc5949df0a63e91"
        ],
        "x": 14,
        "y": 119,
        "w": 992,
        "h": 162
    },
    {
        "id": "ca35948a32eaf853",
        "type": "group",
        "z": "243935f7eeb0bc81",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "4ee5fa5fa64e28db",
            "39a60535aa1f7b2a",
            "62a2b25ed9d9d6bf",
            "fef971c806c0156d",
            "2f3fee056865ed93"
        ],
        "x": 14,
        "y": 299,
        "w": 992,
        "h": 162
    },
    {
        "id": "30d9e03b4dcab1d3",
        "type": "group",
        "z": "e5dc6f22432398d7",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "94b47dba75122e4e",
            "50cb6a6eb3455f6b",
            "4b103d15a3d6c8b1",
            "f2a735f229818e06",
            "f62ead9b9a58bf16"
        ],
        "x": 14,
        "y": 119,
        "w": 992,
        "h": 162
    },
    {
        "id": "f76588705733793c",
        "type": "group",
        "z": "7f39e487c7ab241c",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "b945850298e9b3df",
            "c3a4b207319d8610",
            "765822175b8ceb64",
            "356e972e170143b6",
            "89af915b11f17913",
            "05fee56164178038"
        ],
        "x": 14,
        "y": 119,
        "w": 672,
        "h": 162
    },
    {
        "id": "ca17f4bdb6bbee81",
        "type": "group",
        "z": "a09ad053d19f1d06",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "d7ed0e9d803f96f0",
            "4c279a2dc7049407",
            "394e21db804f1d42",
            "e6278ef94ae3424e",
            "37e17d2d1eef2013"
        ],
        "x": 14,
        "y": 299,
        "w": 562,
        "h": 162
    },
    {
        "id": "31b375033084536b",
        "type": "group",
        "z": "e5dc6f22432398d7",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "56b1fbd58fdf0444",
            "58c888740da40eda",
            "656a4b53d9e67047",
            "a82bdd562a8a92ba",
            "e2f65e74ade3b671"
        ],
        "x": 14,
        "y": 299,
        "w": 602,
        "h": 162
    },
    {
        "id": "be566417ae9ea3df",
        "type": "group",
        "z": "243935f7eeb0bc81",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "b30554bed452a7ce",
            "296459aa78be1302",
            "2df01573bdd484ad",
            "4a5d12f7119e0232",
            "001ac4dc79783f23"
        ],
        "x": 14,
        "y": 119,
        "w": 562,
        "h": 162
    },
    {
        "id": "932e245aaec0bda0",
        "type": "group",
        "z": "a0bf4bfc6f223fe1",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "ef25687487229d7f",
            "a91f945822c7931e",
            "7344814cafbbaef4",
            "54c6e03327c27850",
            "fd865e556f43f177"
        ],
        "x": 14,
        "y": 299,
        "w": 582,
        "h": 162
    },
    {
        "id": "e164c80e56d45732",
        "type": "group",
        "z": "94466ab2e543aa2f",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "083baee4c7ebbc54",
            "eff6de7e08e846f7",
            "0229302b9d68cb4e",
            "b543e6f17b4d4a1b",
            "a468e8e3b92bbb22"
        ],
        "x": 14,
        "y": 859,
        "w": 562,
        "h": 162
    },
    {
        "id": "21e117b68a0c2840",
        "type": "group",
        "z": "a0bf4bfc6f223fe1",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "29cf551555ac3678",
            "6a9330512b21aba9",
            "0fed28adfbe2ed15",
            "3ff35f5d78d3f75c",
            "9bd1e275ca1ee67b"
        ],
        "x": 14,
        "y": 479,
        "w": 502,
        "h": 122
    },
    {
        "id": "b8b2c52ce29b1b66",
        "type": "group",
        "z": "bf279eb7eda19fd7",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "0191b5a7e181f3f2",
            "633c48d3bee4c03a",
            "78e328d45f917a20",
            "c2a7d0ee7636ca8d",
            "d02b2605ae51ac23",
            "7ece915ddab6671e",
            "6043eee441c1f146",
            "8f8e3faeb54f8394",
            "4e8fdb348ee3dbd1",
            "7a639c0592294913",
            "76568807668461a0",
            "f39fa236c5361da4",
            "82a4a31aec7e8bc4",
            "a38691fbb41a64b9",
            "f83cd17851531b80",
            "ef42d8d44fa3d5e9",
            "ee06a5486ff3cfbf",
            "b025d049cb38b4d4",
            "dbf7a6ece449fcfd",
            "85fbde29204040b6",
            "3a2637edf92461f4",
            "347f94b7271ae995",
            "888d7802d1ad8836",
            "9124cbf6fd9b1480",
            "e3d6041fbd9d3e9b",
            "c8891a8ac17ad37f",
            "cece073f3809811f",
            "8ead7d07068c9388"
        ],
        "x": 14,
        "y": 739,
        "w": 2572,
        "h": 668
    },
    {
        "id": "59d661e86ca6893c",
        "type": "group",
        "z": "be92da6a5a4a4550",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "82bfbcfce5f11f0e",
            "e85513dffc371372",
            "32de281a8b95e108",
            "27e5eb134304a4fe",
            "da7c6256f3b28b92",
            "dcf7add8eddca3bc",
            "476a3a9380b339ab",
            "65c53ee626b1657c",
            "3e50b939a785ec1a",
            "8d98ecd84b9c5e5e",
            "9e13177c030bc585"
        ],
        "x": 14,
        "y": 1019,
        "w": 1242,
        "h": 262
    },
    {
        "id": "5bdc240c2b2bc863",
        "type": "group",
        "z": "be92da6a5a4a4550",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "9d650427959b917c",
            "5b4f483c44f552ef",
            "8cc341bcc6d31481",
            "5f6ac2329e171e37",
            "3126533b3e0ad552"
        ],
        "x": 14,
        "y": 459,
        "w": 502,
        "h": 122
    },
    {
        "id": "d6e945f724222ae1",
        "type": "group",
        "z": "bf279eb7eda19fd7",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "1a376a042ef53dd7",
            "90e8bf8ad2ceef13",
            "01579f2b983c2085",
            "f04230c20842c648",
            "df677727bba187cf"
        ],
        "x": 14,
        "y": 399,
        "w": 502,
        "h": 122
    },
    {
        "id": "1620c7634080d568",
        "type": "group",
        "z": "7f39e487c7ab241c",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "a0a9705568837337",
            "d2f52d8d4e3bc3dd",
            "e8023b446ea2a945",
            "6c581aeb73119963",
            "a2f06d2783c7eeed",
            "b5e0ecf20c28f1f0"
        ],
        "x": 14,
        "y": 299,
        "w": 572,
        "h": 242
    },
    {
        "id": "8dd127f90c06ad01",
        "type": "group",
        "z": "f32d9f15eade4bba",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "f4a68bb61137474e",
            "511c21a01753fb65",
            "9cbed94c67d1830a",
            "5a7d11aab9a0407f",
            "9249b8634fe6bea6",
            "6d86365f41d6d3bc",
            "b74e74ac6f573e00",
            "8702d7d99a59239f",
            "3544456219878470",
            "a6d93dc726aafbb8",
            "ab02f767bf4c94e7",
            "56a07c9ca9672de6",
            "4c5c66dcd56c4b83"
        ],
        "x": 14,
        "y": 419,
        "w": 1452,
        "h": 302
    },
    {
        "id": "9db47d03d3a4bf48",
        "type": "group",
        "z": "bf279eb7eda19fd7",
        "name": "",
        "style": {
            "fill": "#ffefbf",
            "label": true
        },
        "nodes": [
            "7f9ef23a602772d9",
            "fa85d03a7761105c",
            "478d175d0abcb987",
            "562fbfde97dcdc26",
            "b893f80d1303467b"
        ],
        "x": 8,
        "y": 1593,
        "w": 1384,
        "h": 954
    },
    {
        "id": "f440ed49d65110cc",
        "type": "group",
        "z": "be92da6a5a4a4550",
        "name": "Lights",
        "style": {
            "fill": "#ffefbf",
            "label": true
        },
        "nodes": [
            "06128c088dfec6f7",
            "a593b47760f06197",
            "f0957af5d63aa2ef",
            "aab1906238bddb1a",
            "4004851064bcddcd",
            "085abb2595ddc9eb",
            "aa5158e947d2ab5c",
            "8a8d75e6f669a78a",
            "d4032e52fcdeddaf"
        ],
        "x": 8,
        "y": 1613,
        "w": 2624,
        "h": 1554
    },
    {
        "id": "4d198da498b31efb",
        "type": "group",
        "z": "94466ab2e543aa2f",
        "name": "Lights",
        "style": {
            "fill": "#ffefbf",
            "label": true
        },
        "nodes": [
            "ebd96689a07f730e",
            "a2cb8e43bd2538c0",
            "97cc1a527f72ed4e",
            "394e0231a1e3d873"
        ],
        "x": 8,
        "y": 1653,
        "w": 1554,
        "h": 854
    },
    {
        "id": "fc8d50709b443310",
        "type": "group",
        "z": "94466ab2e543aa2f",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "4304bcd236041ea3",
            "3d5d61c5d4f51138",
            "0997fbf22873b143"
        ],
        "x": 14,
        "y": 1039,
        "w": 472,
        "h": 122
    },
    {
        "id": "5f2ad5af5a457a7f",
        "type": "group",
        "z": "94466ab2e543aa2f",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "dd157891d647b031",
            "6876d349911cfb92",
            "bd841cbf320510d2",
            "e54c75524f86d1e2",
            "5bf331b82522798e"
        ],
        "x": 14,
        "y": 1179,
        "w": 792,
        "h": 242
    },
    {
        "id": "7ca4c50fed9d5e2f",
        "type": "group",
        "z": "94466ab2e543aa2f",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "f27f06b74e5f3830",
            "13fdf8af8b362196",
            "0ac90869fbbde856",
            "3247c995547acec0",
            "30dcae507fef5930",
            "a2a543d32872ce0d"
        ],
        "x": 14,
        "y": 1459,
        "w": 952,
        "h": 182
    },
    {
        "id": "61d4ee9870f82899",
        "type": "group",
        "z": "a09ad053d19f1d06",
        "name": "Lights",
        "style": {
            "fill": "#ffefbf",
            "label": true
        },
        "nodes": [
            "54818585778a7dbf",
            "154e9175574484d1"
        ],
        "x": 8,
        "y": 473,
        "w": 1264,
        "h": 414
    },
    {
        "id": "eb76734b50bb9cf1",
        "type": "group",
        "z": "f32d9f15eade4bba",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "80b45d92a25cc105",
            "e0b3151a83f336f4",
            "4a784feb385d8d36",
            "1ec9ead4324ca7a1"
        ],
        "x": 14,
        "y": 739,
        "w": 512,
        "h": 162
    },
    {
        "id": "ff6e2f651cf56ccc",
        "type": "group",
        "z": "7f39e487c7ab241c",
        "name": "Lights",
        "style": {
            "stroke": "none",
            "label": true,
            "fill": "#ffefbf"
        },
        "nodes": [
            "0652dadc1b579cce",
            "2b86971fcc199b40"
        ],
        "x": 8,
        "y": 873,
        "w": 784,
        "h": 414
    },
    {
        "id": "78c2f5b11bac0b38",
        "type": "group",
        "z": "584de19021aea4c9",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "130316c644b8cba4",
            "4e14b8416d9434e5",
            "f0e47efb8914e6b6",
            "48e1b48ffc1c59d0",
            "0e64c3a5f1ef394a",
            "e22410d2b950dabb",
            "69027adcba470682"
        ],
        "x": 14,
        "y": 439,
        "w": 1518,
        "h": 188
    },
    {
        "id": "1c08d4761f28031d",
        "type": "group",
        "z": "39f5e6336137f4b2",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "e8630ecd17b5f84e",
            "e8f0a3086500e186",
            "429ad6ab342d378c",
            "d9c15091d0933aa1",
            "0419c1d8f3124b5e"
        ],
        "x": 14,
        "y": 1199,
        "w": 1112,
        "h": 182
    },
    {
        "id": "d87b969d15636e26",
        "type": "group",
        "z": "f32d9f15eade4bba",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "36f24fd5.59924",
            "54b1f381.39c02c",
            "ef6b748.eeaf388",
            "d0e8efa07152912d",
            "47f4fb301e391cb8",
            "5914d077.55a55",
            "ce869786.78dec8",
            "95f21a2884f73b9b",
            "bea742545d56e3a3",
            "036d5a464421fc1b",
            "fee8363c5cb8d124",
            "3bf0bc8959f8a48e"
        ],
        "x": 14,
        "y": 919,
        "w": 1738,
        "h": 288
    },
    {
        "id": "02e14c21061265e1",
        "type": "group",
        "z": "7f39e487c7ab241c",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "2bcc033320eee7c1",
            "117aca7da78c92fe",
            "178e42db86a628e8",
            "ffc8288b4ad5eee4",
            "1443017dca2ff4a8",
            "7dbf7c37a565252a",
            "30c6a811cbe1ee11",
            "ef4c50873027b4b3",
            "6f32d1486f9ebcc4",
            "392300741f68f312"
        ],
        "x": 14,
        "y": 559,
        "w": 1778,
        "h": 288
    },
    {
        "id": "ed9d73ed345d61fb",
        "type": "group",
        "z": "584de19021aea4c9",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "ec72f7b2db4cc37c",
            "764ff273496b0193",
            "726d2d1b1b907051",
            "62498ddd63d334ac",
            "214c71e5dabcaaae",
            "90439c6cd4d95382",
            "1ef02d6284775f4a",
            "8b5e46426b0a2fba",
            "97e49f2803bfd3bd",
            "79eed535fa1b460d",
            "598fe34c24ec541e"
        ],
        "x": 14,
        "y": 659,
        "w": 892,
        "h": 322
    },
    {
        "id": "2ed1e18c0abc3114",
        "type": "group",
        "z": "a09ad053d19f1d06",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "e8007db398232ee9",
            "8bc384977a98486d",
            "2eaa2fce52c5ce8a"
        ],
        "x": 14,
        "y": 899,
        "w": 592,
        "h": 122
    },
    {
        "id": "55b8dfe8a7320db6",
        "type": "group",
        "z": "b789af61b07fd59c",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "81d19ed8c237c99c",
            "c21a54a5e245afa3",
            "c99f01433fb63140"
        ],
        "x": 14,
        "y": 799,
        "w": 552,
        "h": 122
    },
    {
        "id": "b176910a3e711408",
        "type": "group",
        "z": "be92da6a5a4a4550",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "363bfc79557494a9",
            "1c2b41acdb40d6e7",
            "be989daad7f22a86",
            "3ed0331b7637d838",
            "517ccc4fadd46551",
            "2707e8f7b4f2a241",
            "e1e18e258b05bc2b"
        ],
        "x": 14,
        "y": 1333,
        "w": 1358,
        "h": 214
    },
    {
        "id": "56531804b48cab17",
        "type": "group",
        "z": "e4381ced98d2a929",
        "name": "",
        "style": {
            "fill": "#ffbfbf",
            "label": true
        },
        "nodes": [
            "f5d785923268c13f",
            "c8a51450da8a51bb",
            "72c4b873d76d1aea",
            "0b923bc1720b32a5",
            "8278f950c516cf97"
        ],
        "x": 14,
        "y": 19,
        "w": 702,
        "h": 82
    },
    {
        "id": "7fc6e972a09b862f",
        "type": "group",
        "z": "e4381ced98d2a929",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "c20492a470484001",
            "b83170a341a414c1",
            "85bbe6fa44141370"
        ],
        "x": 14,
        "y": 119,
        "w": 512,
        "h": 122
    },
    {
        "id": "8046d6765d8c4979",
        "type": "group",
        "z": "840a747bdf820be0",
        "name": "",
        "style": {
            "fill": "#ffbfbf",
            "label": true
        },
        "nodes": [
            "fec9fa7b765aea54",
            "59e10914bf8112d2",
            "1cdb96d7083434cf",
            "885ec72ae79d6b60",
            "a695b2e904a12b43"
        ],
        "x": 14,
        "y": 19,
        "w": 702,
        "h": 82
    },
    {
        "id": "6668f9729dac8340",
        "type": "group",
        "z": "840a747bdf820be0",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "90650fd4618583b4",
            "5874beb71c3c9523",
            "e19d09cced81d589"
        ],
        "x": 14,
        "y": 119,
        "w": 312,
        "h": 122
    },
    {
        "id": "a7eea6f134e259bd",
        "type": "group",
        "z": "e44f5d834fa24670",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "55630dad7aa4b97a",
            "c2d33a6abfd24923",
            "94856ca3c5e83f43",
            "87a6a1a7d3bea607",
            "30f166f1cb52d612"
        ],
        "x": 14,
        "y": 119,
        "w": 892,
        "h": 122
    },
    {
        "id": "95801612b48436ea",
        "type": "group",
        "z": "e98ae3c9db1bd6c3",
        "name": "",
        "style": {
            "fill": "#ffbfbf",
            "label": true
        },
        "nodes": [
            "0f7704d1c7528acc",
            "7e874d7b25e6aa2b",
            "85da6e2bed894b4c",
            "4bfb0e7b8c5074c7",
            "9465c383be3e41a7"
        ],
        "x": 14,
        "y": 19,
        "w": 702,
        "h": 82
    },
    {
        "id": "a6ca3985b352649b",
        "type": "group",
        "z": "edbbe41e31b072c6",
        "name": "",
        "style": {
            "fill": "#ffbfbf",
            "label": true
        },
        "nodes": [
            "adacec4577ff7088",
            "9211742604c64ed7",
            "9d9757e80ab98a8d",
            "fed5d1f7e3e6acce",
            "a99e73465d70830d"
        ],
        "x": 14,
        "y": 19,
        "w": 702,
        "h": 82
    },
    {
        "id": "523697d9c61e3978",
        "type": "group",
        "z": "3611a09f77ab1873",
        "name": "",
        "style": {
            "fill": "#ffbfbf",
            "label": true
        },
        "nodes": [
            "4fcaf3396f8becf4",
            "da4f62d21506a22b",
            "bb7462e22b7f56fd",
            "a09b9cc0605aa974",
            "05e6562cb4e7cfb4"
        ],
        "x": 14,
        "y": 19,
        "w": 702,
        "h": 82
    },
    {
        "id": "03c7e5a9a6a831c2",
        "type": "group",
        "z": "e44f5d834fa24670",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "319e2f002dcdb37f",
            "f047140113012c45",
            "79ce4db3aa0b5c53",
            "aaad5728532f4c48",
            "a6ac4a5af938a30a"
        ],
        "x": 14,
        "y": 259,
        "w": 892,
        "h": 122
    },
    {
        "id": "4b5255d3994ce0e7",
        "type": "group",
        "z": "e98ae3c9db1bd6c3",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "d3f51e45d96152b6",
            "b53dc3ab1408794a",
            "8fccda12ea75bc0d",
            "61c36fb38acb7466"
        ],
        "x": 14,
        "y": 119,
        "w": 752,
        "h": 162
    },
    {
        "id": "34613206506f1a39",
        "type": "group",
        "z": "e98ae3c9db1bd6c3",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "289eb5762afd854e",
            "cd178e3895118ed9",
            "fb8451f100d9bf63",
            "2da11a2951cd690b",
            "03b925349d92a20d"
        ],
        "x": 14,
        "y": 299,
        "w": 792,
        "h": 122
    },
    {
        "id": "dbb11ccb7d0a280a",
        "type": "group",
        "z": "e44f5d834fa24670",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "32c186a71c916633",
            "d328e5faf80e8773",
            "36390687f97440d5",
            "eb466e32fc34ebfc",
            "b56d7a548ed41339"
        ],
        "x": 14,
        "y": 399,
        "w": 892,
        "h": 122
    },
    {
        "id": "6bd228b1512b87b3",
        "type": "group",
        "z": "f32d9f15eade4bba",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "0f8cb48ca2cea619",
            "9aeb535c5f1da8ce",
            "c3a839ea4abb6038",
            "7d2e9cbf7edd9b13"
        ],
        "x": 14,
        "y": 1219,
        "w": 552,
        "h": 122
    },
    {
        "id": "71c35719c7add5f8",
        "type": "group",
        "z": "39f5e6336137f4b2",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "6a77eb9d04cca958",
            "485b2638b3e54f1b",
            "29ef6b63d1ee8e04",
            "30bb603d2ee43acf"
        ],
        "x": 14,
        "y": 679,
        "w": 812,
        "h": 122
    },
    {
        "id": "767cfafe4de72d92",
        "type": "group",
        "z": "39f5e6336137f4b2",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "3724f1550b7ce891",
            "38a89a2645866f0c",
            "69b6c54a1cabe45b",
            "fff03108c5f1ce08",
            "9b76c1a2318387ea",
            "46c67d7449c54584"
        ],
        "x": 14,
        "y": 819,
        "w": 772,
        "h": 182
    },
    {
        "id": "8621fb6c01d429c7",
        "type": "group",
        "z": "39f5e6336137f4b2",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "4a35bcbba9fd8659",
            "cc3caee8d4e6c43d",
            "3ad861c67030f3f1",
            "dec82ecde28afe10",
            "7301e33204b88290"
        ],
        "x": 14,
        "y": 1019,
        "w": 552,
        "h": 162
    },
    {
        "id": "13c66868b5eefa83",
        "type": "group",
        "z": "39f5e6336137f4b2",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "e6674374ecfdefa0",
            "75b84d8bf5e2faeb",
            "7ee0608b0362347d",
            "3905cfef0361c276",
            "dec99c0ab95cf46a",
            "1e4e8287439e54f1",
            "daac1efc716c9aa2",
            "9dd84bc036be6c85",
            "c054e6f474b4191e",
            "c63b94a1bcddb5f9",
            "462935c54d978b2f",
            "d42cee1b019d7e42"
        ],
        "x": 14,
        "y": 379,
        "w": 952,
        "h": 282
    },
    {
        "id": "efc093c90e8d9b40",
        "type": "group",
        "z": "b789af61b07fd59c",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "c40e35b36f867a24",
            "6006bdd38b3e73a5",
            "1d4668e0de5ac3bb",
            "4b7164e2d32fae53",
            "616a3afaca8e38f3",
            "ba96167f850bd0e5"
        ],
        "x": 14,
        "y": 939,
        "w": 1152,
        "h": 122
    },
    {
        "id": "4e8755fac310c6fe",
        "type": "group",
        "z": "f32d9f15eade4bba",
        "name": "Lights",
        "style": {
            "fill": "#ffefbf",
            "label": true
        },
        "nodes": [
            "53fb0b4840033e17",
            "ec9dbbcc9d7d466d"
        ],
        "x": 8,
        "y": 1373,
        "w": 1204,
        "h": 334
    },
    {
        "id": "d9ef644ffeb576be",
        "type": "group",
        "z": "a0bf4bfc6f223fe1",
        "name": "Lights",
        "style": {
            "fill": "#ffefbf",
            "label": true
        },
        "nodes": [
            "def0086d54aac994",
            "a571b45e5aa6d340"
        ],
        "x": 8,
        "y": 613,
        "w": 1204,
        "h": 354
    },
    {
        "id": "1131ebba5e1d4a76",
        "type": "group",
        "z": "9f04872fa1616475",
        "name": "Lights",
        "style": {
            "fill": "#ffefbf",
            "label": true
        },
        "nodes": [
            "e50ceb788d9ee8ba",
            "a15d60e99166423c",
            "0beb05e6de323068"
        ],
        "x": 8,
        "y": 113,
        "w": 1424,
        "h": 474
    },
    {
        "id": "d7464aa58ca73417",
        "type": "group",
        "z": "085c9b619c2f5ad8",
        "name": "Lights",
        "style": {
            "fill": "#ffefbf",
            "label": true
        },
        "nodes": [
            "058bdb794f586cf6",
            "7dd2aacc1e40f777"
        ],
        "x": 8,
        "y": 113,
        "w": 1444,
        "h": 314
    },
    {
        "id": "3002fadf91b75b46",
        "type": "group",
        "z": "243935f7eeb0bc81",
        "name": "Lights",
        "style": {
            "fill": "#ffefbf",
            "label": true
        },
        "nodes": [
            "d491c3abb1df5844",
            "755f0cfbe6e1ada2"
        ],
        "x": 8,
        "y": 493,
        "w": 1424,
        "h": 314
    },
    {
        "id": "4805874d4b376148",
        "type": "group",
        "z": "e5dc6f22432398d7",
        "name": "Lights",
        "style": {
            "fill": "#ffefbf",
            "label": true
        },
        "nodes": [
            "8bfc8c8405959d99"
        ],
        "x": 8,
        "y": 473,
        "w": 1204,
        "h": 174
    },
    {
        "id": "7a8d3a38b4738118",
        "type": "group",
        "z": "e98ae3c9db1bd6c3",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "8319e5e91e71a1ed",
            "76d0d50d23efdb9f",
            "6ff6fee5f298ad50",
            "7a9e907a7ff3787f",
            "92120879d1b3b14f",
            "9b8b9d11f21cdd45",
            "25e30f9bf7474722",
            "1241d27c510cc4db",
            "00441b952563eaf6",
            "27701ac42ba72789",
            "a6d92e69438bab12",
            "e8424879dc4b6a54",
            "573afd1fc7526fc5",
            "817e4e05bbd7960f",
            "688bff2b2883ee47",
            "2d8347e89fc50722",
            "af72e61dcd8c596c",
            "5a29eb1e4639dec7",
            "7654d83ac284bf7e",
            "8b3a1477ad1b4a99",
            "d1676ca082b9a9f0",
            "9176120838cc8707"
        ],
        "x": 14,
        "y": 439,
        "w": 1322,
        "h": 482
    },
    {
        "id": "e50ceb788d9ee8ba",
        "type": "group",
        "z": "9f04872fa1616475",
        "g": "1131ebba5e1d4a76",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "bc4246a5afc26e74",
            "ef6101afc3223eb0",
            "f8dbc33d27649032",
            "88e7115f37e27b64",
            "87f88fb480fe0c1d",
            "488f343f397a9b7b",
            "24e1d0ec9f3c8ba8",
            "e6107e9fc2706812"
        ],
        "x": 34,
        "y": 139,
        "w": 1372,
        "h": 122
    },
    {
        "id": "a571b45e5aa6d340",
        "type": "group",
        "z": "a0bf4bfc6f223fe1",
        "g": "d9ef644ffeb576be",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "ff13419adeecf367",
            "39dfde482d49575a",
            "4a713c76ca8ffd14",
            "c8bb2db6c9a7b339"
        ],
        "x": 34,
        "y": 639,
        "w": 512,
        "h": 162
    },
    {
        "id": "058bdb794f586cf6",
        "type": "group",
        "z": "085c9b619c2f5ad8",
        "g": "d7464aa58ca73417",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "4f2b23c1eb462ceb",
            "b28a59c02b03c88d",
            "18810d9c3d0e39a3",
            "d93de777cce3c63b",
            "5caf9664074c8107",
            "74c06d919ba73b69",
            "93cb80ba70bb4482",
            "5a32d7dd7b01f6db"
        ],
        "x": 34,
        "y": 139,
        "w": 1392,
        "h": 122
    },
    {
        "id": "d491c3abb1df5844",
        "type": "group",
        "z": "243935f7eeb0bc81",
        "g": "3002fadf91b75b46",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "d9b430d23e3b16c1",
            "5169a3e5cfd040d0",
            "6c91b862b244dfaf",
            "f900b62e0fafcb26",
            "ff66dacaaf9396be",
            "9f5195da0a931278",
            "20f37fb9eb18e7e8",
            "23b344d4bd248871"
        ],
        "x": 34,
        "y": 519,
        "w": 1372,
        "h": 122
    },
    {
        "id": "a15d60e99166423c",
        "type": "group",
        "z": "9f04872fa1616475",
        "g": "1131ebba5e1d4a76",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "321e851e04014b40",
            "e8d8807edade80c2",
            "13caec7c465e3901",
            "c433a054543aadbb",
            "7ab07fd93d687adf",
            "c8074b72183bfa57"
        ],
        "x": 34,
        "y": 279,
        "w": 1132,
        "h": 142
    },
    {
        "id": "53fb0b4840033e17",
        "type": "group",
        "z": "f32d9f15eade4bba",
        "g": "4e8755fac310c6fe",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "c49e5bd8f93bd496",
            "d1324fbb34721b63",
            "9c4864f0ca0d2d96",
            "3dd82a4a5a5f543f",
            "aa8016f7bd2aeddb",
            "2db276d509393d03",
            "e0259adb4a945229",
            "5049d35f7101b540"
        ],
        "x": 34,
        "y": 1399,
        "w": 1112,
        "h": 147
    },
    {
        "id": "0652dadc1b579cce",
        "type": "group",
        "z": "7f39e487c7ab241c",
        "g": "ff6e2f651cf56ccc",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "3101d0a1b950e78d",
            "c09b728cb16b154e",
            "963294a91f3eb374",
            "16fa6c47d9ddfaf6",
            "2e16eb2bec967a72",
            "5fe42cef5b668ff4"
        ],
        "x": 34,
        "y": 899,
        "w": 732,
        "h": 182
    },
    {
        "id": "54818585778a7dbf",
        "type": "group",
        "z": "a09ad053d19f1d06",
        "g": "61d4ee9870f82899",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "db49a00d5adc0cb7",
            "0b64f5a2e27c31f0",
            "19e3c39a7481e04b",
            "b13ee71e7f09ace4",
            "a5689ff4c9a82d8e",
            "ec0a3cf53f08df55",
            "123a8dfe28431656",
            "ba9284adcd1f5c35"
        ],
        "x": 34,
        "y": 499,
        "w": 1212,
        "h": 182
    },
    {
        "id": "c8891a8ac17ad37f",
        "type": "group",
        "z": "bf279eb7eda19fd7",
        "g": "b8b2c52ce29b1b66",
        "name": "notify two actions",
        "style": {
            "label": true
        },
        "nodes": [
            "ea9e3f11186f2606",
            "dc0afdf8dedd0ac0",
            "310daf51d434b8fa",
            "e77ba69902680e0b",
            "c69b61919d7e7aa6",
            "440133efbc2eedaf",
            "df7554ad18fe6c0f",
            "4a2f429585c110e6"
        ],
        "x": 1894,
        "y": 799,
        "w": 412,
        "h": 282
    },
    {
        "id": "cece073f3809811f",
        "type": "group",
        "z": "bf279eb7eda19fd7",
        "g": "b8b2c52ce29b1b66",
        "name": "notify two actions",
        "style": {
            "label": true
        },
        "nodes": [
            "123e28cddf1fbf78",
            "71cc06e8db17e49f",
            "a525b5caf447ba92",
            "216dba61cca4a879",
            "c1c6232e70377108",
            "0a9029d0e195510e",
            "6d3057460cedca79",
            "9073a07bb4241ea7"
        ],
        "x": 1894,
        "y": 1099,
        "w": 412,
        "h": 282
    },
    {
        "id": "7f9ef23a602772d9",
        "type": "group",
        "z": "bf279eb7eda19fd7",
        "g": "9db47d03d3a4bf48",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "cce74d3ef40e87b1",
            "b45d3017dda90564",
            "9d3f7eb3988d338d",
            "a217db3768dae47b",
            "3ef95b1cdb5a2913",
            "27ba53f25166ec12",
            "c35e5fe0aaced7dd",
            "84b894521e1025fd",
            "06494fdc0a5d9892",
            "c43613425ba3c1da"
        ],
        "x": 34,
        "y": 1759,
        "w": 1332,
        "h": 222
    },
    {
        "id": "fa85d03a7761105c",
        "type": "group",
        "z": "bf279eb7eda19fd7",
        "g": "9db47d03d3a4bf48",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "4445c82d7707780e",
            "d85abae724239e14",
            "69fbf229b5602151",
            "00204ba772c079ca"
        ],
        "x": 34,
        "y": 1619,
        "w": 672,
        "h": 122
    },
    {
        "id": "478d175d0abcb987",
        "type": "group",
        "z": "bf279eb7eda19fd7",
        "g": "9db47d03d3a4bf48",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "4a81d44956bf7abe",
            "29578d5983787104",
            "7d01d0262d3b09b0",
            "44f6e9558f9c5074",
            "31b11b57e8d4cb7b",
            "94cfa3499dc876e4",
            "59bdb9f7dc75cb5c",
            "e7b2bb5d8bf44ab8",
            "b811292b8f4a055a",
            "d72ea6fb7bddcfa1"
        ],
        "x": 34,
        "y": 1999,
        "w": 1292,
        "h": 204.5
    },
    {
        "id": "06128c088dfec6f7",
        "type": "group",
        "z": "be92da6a5a4a4550",
        "g": "f440ed49d65110cc",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "11d07e1ce12cf396",
            "53359b9775a11894",
            "c969e321154219c2",
            "ff98fd154ff308d4"
        ],
        "x": 34,
        "y": 1639,
        "w": 672,
        "h": 122
    },
    {
        "id": "a593b47760f06197",
        "type": "group",
        "z": "be92da6a5a4a4550",
        "g": "f440ed49d65110cc",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "f7c6fa154b77f448",
            "0854f23ba4b218d4",
            "8c244203c4fcc324",
            "475a7054bc21bea5",
            "43484d443737f795",
            "e806d21eb8f08d6d",
            "a72140918ec09ace",
            "7a46fd82aea23e0b",
            "a2ab0b36bff28352"
        ],
        "x": 34,
        "y": 1779,
        "w": 992,
        "h": 182
    },
    {
        "id": "f0957af5d63aa2ef",
        "type": "group",
        "z": "be92da6a5a4a4550",
        "g": "f440ed49d65110cc",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "464f8451e6ab7032",
            "a727e094b621802b",
            "21b6b0650f225c58",
            "ea107d7400acc08e",
            "299cb5105b54df95",
            "156ea82d6417f2cb",
            "c2fe4fd0486fe8e5",
            "ad5243b43c41460c",
            "a3ae06cea3533c9e",
            "fd7b8cd952413c94",
            "9b3b7854d7fb2552",
            "6683611e217c5793",
            "9c11f087d1eed1b8",
            "95707c8d48358de7",
            "389934c4dc2f2efc",
            "a2584957f2e04865",
            "a66118ea5be1ff8c"
        ],
        "x": 34,
        "y": 1979,
        "w": 2572,
        "h": 182
    },
    {
        "id": "aab1906238bddb1a",
        "type": "group",
        "z": "be92da6a5a4a4550",
        "g": "f440ed49d65110cc",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "0a9d24a7e3ddf454",
            "24f07e9dc4f73d1e",
            "e1d97f0452ca6682"
        ],
        "x": 34,
        "y": 2179,
        "w": 532,
        "h": 142
    },
    {
        "id": "4004851064bcddcd",
        "type": "group",
        "z": "be92da6a5a4a4550",
        "g": "f440ed49d65110cc",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "2352748556d6fb89",
            "9e6bf64138ee43fa",
            "e526a056cd7494db"
        ],
        "x": 34,
        "y": 2339,
        "w": 672,
        "h": 142
    },
    {
        "id": "085abb2595ddc9eb",
        "type": "group",
        "z": "be92da6a5a4a4550",
        "g": "f440ed49d65110cc",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "9c3ec377bfc2931f",
            "7115d2155b40634a",
            "dde87eef542d7ef4"
        ],
        "x": 34,
        "y": 2499,
        "w": 412,
        "h": 122
    },
    {
        "id": "aa5158e947d2ab5c",
        "type": "group",
        "z": "be92da6a5a4a4550",
        "g": "f440ed49d65110cc",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "a27132ae5fc26d23",
            "d74218a87e76e862",
            "f38fe22a1698047b",
            "7e55f50c12d97759",
            "b9235e8435499db2",
            "961409bc2d9b8a1b",
            "1c957e317538e84e",
            "719f3dd468939e86",
            "e637b15d3d21c45d"
        ],
        "x": 34,
        "y": 2639,
        "w": 1552,
        "h": 204.5
    },
    {
        "id": "ebd96689a07f730e",
        "type": "group",
        "z": "94466ab2e543aa2f",
        "g": "4d198da498b31efb",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "2127f9679d74bffa",
            "d244c71c8ebb21ec",
            "00d86418429f8cbc",
            "bf14ecf8f5bb3f7e",
            "7b5673b20cc32ea8",
            "74a8772920457cd4",
            "321f94ddeb0d231e"
        ],
        "x": 34,
        "y": 1679,
        "w": 872,
        "h": 204.5
    },
    {
        "id": "a2cb8e43bd2538c0",
        "type": "group",
        "z": "94466ab2e543aa2f",
        "g": "4d198da498b31efb",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "1c9555d76592af83",
            "1cc104eb3c21317e",
            "7b0e600c08b2a818",
            "13cf75d97fbf793b",
            "a47145bc0ca39416",
            "b7171475ccc7e603",
            "9d3440869e61a51f",
            "65c1beb3af49864c",
            "14e7742560be87fb",
            "4b8679c14972be23"
        ],
        "x": 34,
        "y": 1899,
        "w": 1502,
        "h": 264.5
    },
    {
        "id": "97cc1a527f72ed4e",
        "type": "group",
        "z": "94466ab2e543aa2f",
        "g": "4d198da498b31efb",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "a8797e5acf899cbf",
            "4c4dc018f2002187",
            "6c8db471867be131",
            "0d887755bfdcf551"
        ],
        "x": 34,
        "y": 2179,
        "w": 592,
        "h": 162
    },
    {
        "id": "8a8d75e6f669a78a",
        "type": "group",
        "z": "be92da6a5a4a4550",
        "g": "f440ed49d65110cc",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "6d9b9920a96b0169",
            "f64399ba24b32ef4",
            "44ab129f97435dd9",
            "82b493917e9911f4"
        ],
        "x": 34,
        "y": 2839,
        "w": 532,
        "h": 162
    },
    {
        "id": "562fbfde97dcdc26",
        "type": "group",
        "z": "bf279eb7eda19fd7",
        "g": "9db47d03d3a4bf48",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "1caa85f5908711f2",
            "9104f5eb5e4f58b3",
            "427e7beaf1cf05cc",
            "120f47429583e78d"
        ],
        "x": 34,
        "y": 2219,
        "w": 532,
        "h": 162
    },
    {
        "id": "154e9175574484d1",
        "type": "group",
        "z": "a09ad053d19f1d06",
        "g": "61d4ee9870f82899",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "c81a5908f8ca13b3",
            "1cbe93cd58560dd0",
            "7b714d579d4f8f68",
            "fd1316bc77e6a6dd"
        ],
        "x": 34,
        "y": 699,
        "w": 532,
        "h": 162
    },
    {
        "id": "2b86971fcc199b40",
        "type": "group",
        "z": "7f39e487c7ab241c",
        "g": "ff6e2f651cf56ccc",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "24be428cbb777a16",
            "836805d35a52d310",
            "e2ced3815577a09c",
            "8a78024ba282982a"
        ],
        "x": 34,
        "y": 1099,
        "w": 532,
        "h": 162
    },
    {
        "id": "69027adcba470682",
        "type": "group",
        "z": "584de19021aea4c9",
        "g": "78c2f5b11bac0b38",
        "name": "notify",
        "style": {
            "label": true
        },
        "nodes": [
            "21c070ce72b68d7d",
            "7e2213cba8ed0e58",
            "7776b1f9419bbd45",
            "1f7f697fc6355767",
            "79d81ca9d619b285"
        ],
        "x": 1094,
        "y": 479,
        "w": 412,
        "h": 122
    },
    {
        "id": "3bf0bc8959f8a48e",
        "type": "group",
        "z": "f32d9f15eade4bba",
        "g": "d87b969d15636e26",
        "name": "notify",
        "style": {
            "label": true
        },
        "nodes": [
            "71f13b6b1744cf6b",
            "64614e79bcb09872",
            "2a35d2abfb0850da",
            "2c0a57bd6ee87009",
            "08bca5ce6d389d48",
            "ec34cd6ea57b0b7f",
            "80b3c96f004d6f8b"
        ],
        "x": 1254,
        "y": 979,
        "w": 472,
        "h": 202
    },
    {
        "id": "392300741f68f312",
        "type": "group",
        "z": "7f39e487c7ab241c",
        "g": "02e14c21061265e1",
        "name": "notify",
        "style": {
            "label": true
        },
        "nodes": [
            "59327076bed18754",
            "c6941b34f3402196",
            "17c484a9c9a917ac",
            "4dd6478ac62b8c2f",
            "9b93ac7b58399751",
            "cdbb5b48e71b5866"
        ],
        "x": 1314,
        "y": 659,
        "w": 452,
        "h": 162
    },
    {
        "id": "e1e18e258b05bc2b",
        "type": "group",
        "z": "be92da6a5a4a4550",
        "g": "b176910a3e711408",
        "name": "notify",
        "style": {
            "label": true
        },
        "nodes": [
            "cbd34de63e64797f",
            "56d9d2ebcfbe9269",
            "e979b5648c1846fb",
            "84662e512af252f4",
            "473671da38ba46a2",
            "e094355f82570254"
        ],
        "x": 914,
        "y": 1359,
        "w": 432,
        "h": 162
    },
    {
        "id": "d4032e52fcdeddaf",
        "type": "group",
        "z": "be92da6a5a4a4550",
        "g": "f440ed49d65110cc",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "fe1e8a4a99247a70",
            "d0b07db3a4e9f4be",
            "3ddb5c48d6d277a9",
            "0eaf928a0ea7b2ab",
            "19fce404c5b90b9e",
            "d8b99bf36f16da1d"
        ],
        "x": 34,
        "y": 3019,
        "w": 1152,
        "h": 122
    },
    {
        "id": "def0086d54aac994",
        "type": "group",
        "z": "a0bf4bfc6f223fe1",
        "g": "d9ef644ffeb576be",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "1376c8b334e205ed",
            "53b1bb3f88ba857d",
            "2ab55a09d70bc19b",
            "9c15e356fe3cbe8e",
            "3f3b0ec569d43650",
            "9859f3ea095334b7"
        ],
        "x": 34,
        "y": 819,
        "w": 1152,
        "h": 122
    },
    {
        "id": "b893f80d1303467b",
        "type": "group",
        "z": "bf279eb7eda19fd7",
        "g": "9db47d03d3a4bf48",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "e26af8b833a2f7c4",
            "2c07de935ec0ae13",
            "0953197f43a2eae3",
            "5b3614f6404e4b5e",
            "27f9690f59141f3c",
            "74417dbba5ac7943"
        ],
        "x": 34,
        "y": 2399,
        "w": 1152,
        "h": 122
    },
    {
        "id": "ec9dbbcc9d7d466d",
        "type": "group",
        "z": "f32d9f15eade4bba",
        "g": "4e8755fac310c6fe",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "12894abc534397ad",
            "12f8c4bf18db7efd",
            "9d1ae4015da1f119",
            "192bbaed7dca394c",
            "6c823cc5114ee3c3",
            "7ce069b5409427c0"
        ],
        "x": 34,
        "y": 1559,
        "w": 1152,
        "h": 122
    },
    {
        "id": "0beb05e6de323068",
        "type": "group",
        "z": "9f04872fa1616475",
        "g": "1131ebba5e1d4a76",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "5f49d5a034ee9b5b",
            "f3314b7dd03302ae",
            "f5962ac09ab85cc0",
            "41ac7f0d3d2a07a2",
            "de705346f1cf66e6",
            "fb679e02bc04f0b8"
        ],
        "x": 34,
        "y": 439,
        "w": 1152,
        "h": 122
    },
    {
        "id": "7dd2aacc1e40f777",
        "type": "group",
        "z": "085c9b619c2f5ad8",
        "g": "d7464aa58ca73417",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "16a27d4d61cc58d3",
            "f51632c15aa7dcd2",
            "927ba4635cea2eba",
            "d39e4789013631e4",
            "8db0025fe57cfee6",
            "1ac932109c2068c7"
        ],
        "x": 34,
        "y": 279,
        "w": 1152,
        "h": 122
    },
    {
        "id": "755f0cfbe6e1ada2",
        "type": "group",
        "z": "243935f7eeb0bc81",
        "g": "3002fadf91b75b46",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "e55b97ef416d94ab",
            "a1efdb82eafb510c",
            "483a94a88dfcee79",
            "905767a3ed395363",
            "68dfbc6804cce853",
            "703a035d531b109f"
        ],
        "x": 34,
        "y": 659,
        "w": 1152,
        "h": 122
    },
    {
        "id": "8bfc8c8405959d99",
        "type": "group",
        "z": "e5dc6f22432398d7",
        "g": "4805874d4b376148",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "ece831bcd7346fd7",
            "24da7345da1f2387",
            "d57ce70df622ca92",
            "68b19368c349c326",
            "b3a39fe10aabc206",
            "c8b51e690f45711c"
        ],
        "x": 34,
        "y": 499,
        "w": 1152,
        "h": 122
    },
    {
        "id": "394e0231a1e3d873",
        "type": "group",
        "z": "94466ab2e543aa2f",
        "g": "4d198da498b31efb",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "5430d71930b64448",
            "fded5d70d3c53f4f",
            "113b4aa51efc55a3",
            "b3faeb3c1fda8af0",
            "50300c7b5295e417",
            "5f1e344a10e50e14"
        ],
        "x": 34,
        "y": 2359,
        "w": 1152,
        "h": 122
    },
    {
        "id": "07d3b997feaf3f7b",
        "type": "junction",
        "z": "55da1471.fda0fc",
        "g": "faf17088fd1a6b16",
        "x": 1860,
        "y": 840,
        "wires": [
            [
                "035b931bd0cea26e",
                "c8bc013c45f3ae72",
                "8205d58f610c05d0"
            ]
        ]
    },
    {
        "id": "60b0a5eab5b0a9d6",
        "type": "junction",
        "z": "55da1471.fda0fc",
        "g": "deb17c414e79ec63",
        "x": 1860,
        "y": 440,
        "wires": [
            [
                "dec04d7f3b819fb2",
                "f60ecb3be0ebc2af",
                "0fa8b59e2735c07d"
            ]
        ]
    },
    {
        "id": "237a19020921825d",
        "type": "junction",
        "z": "55da1471.fda0fc",
        "g": "33fea7faee8e1f82",
        "x": 1860,
        "y": 640,
        "wires": [
            [
                "d5ae8df68946471a",
                "8f3e39fd9d879f86",
                "09d4cdb039e852de",
                "0e83125ead481334"
            ]
        ]
    },
    {
        "id": "97afb37521efba77",
        "type": "junction",
        "z": "b1a9214c.4c71c",
        "g": "6b44c062cbc05f0a",
        "x": 1760,
        "y": 280,
        "wires": [
            [
                "232a01493b9307b0",
                "db7934b4b14446da",
                "a22e2a028512634f"
            ]
        ]
    },
    {
        "id": "ca3c70923fa7cd35",
        "type": "junction",
        "z": "65351372f52f2e2d",
        "g": "dbf117e9be1363d0",
        "x": 1640,
        "y": 480,
        "wires": [
            [
                "f62f4165d866a393",
                "4fcc37584fdaacfc",
                "96104ca744a9942d",
                "187e38cbc867548d"
            ]
        ]
    },
    {
        "id": "685ac1f9d97aa2a9",
        "type": "junction",
        "z": "65351372f52f2e2d",
        "g": "f259c1d245c5a0a4",
        "x": 1640,
        "y": 260,
        "wires": [
            [
                "8d49d5b0a77fe3fa",
                "41bff044d8ff0723",
                "f6739c6be49dd463",
                "887d3f0b3fca1ef1",
                "3fd22ff1d39dc1e6"
            ]
        ]
    },
    {
        "id": "7bb3b10a5f621765",
        "type": "junction",
        "z": "65351372f52f2e2d",
        "g": "a36a86d8bb45f3d4",
        "x": 1640,
        "y": 760,
        "wires": [
            [
                "6a5f068bc90a5bea",
                "96c864b13b1ed44d",
                "504241c3de9c1592",
                "dfc54bd82a16e190"
            ]
        ]
    },
    {
        "id": "b1b1be8e46f91cca",
        "type": "junction",
        "z": "72f3a564e626ff9a",
        "g": "3b89d483d3628b14",
        "x": 1240,
        "y": 320,
        "wires": [
            [
                "dcc306682fd0ffa8",
                "3a3b8fdb9d6f4ab0",
                "dd3030c9ae0f7a07",
                "46d50645e39da463",
                "ebcb50cdabc72f91",
                "63343a4588295b35"
            ]
        ]
    },
    {
        "id": "4fc08434e069652b",
        "type": "junction",
        "z": "98a989e.d6bca78",
        "g": "7b3e33afc7e5d51f",
        "x": 880,
        "y": 260,
        "wires": [
            [
                "bdce8718917c4dcb",
                "253b2fc1dbf20ad4",
                "496caddb.5ba724",
                "fdc4c2eef34c0a15"
            ]
        ]
    },
    {
        "id": "eaec84df6f30a9ec",
        "type": "junction",
        "z": "d5421f8d.f7208",
        "g": "f236f0a913f70054",
        "x": 1960,
        "y": 160,
        "wires": [
            [
                "4b276bf7ef0c3217",
                "0db5f8033b5c9adf",
                "1414f6788bc8c787"
            ]
        ]
    },
    {
        "id": "5cb88a741e06d0c9",
        "type": "junction",
        "z": "75537afd17de5117",
        "g": "ef69ec82c772cad9",
        "x": 1720,
        "y": 500,
        "wires": [
            [
                "4b6f2391d1d4dfb7",
                "644d8e4f0164cfb2",
                "56e8236b1fb323bc"
            ]
        ]
    },
    {
        "id": "a087dd5873c41eaf",
        "type": "junction",
        "z": "b1b994b3d43d6aad",
        "g": "9d6561fb99238a4d",
        "x": 1180,
        "y": 300,
        "wires": [
            [
                "194df75621104155",
                "5273660ff2a42a63",
                "48b102061eef4776",
                "ad8e3a3f408efd86"
            ]
        ]
    },
    {
        "id": "f55e9b8b5462e4d2",
        "type": "junction",
        "z": "a8d8484165225699",
        "g": "537179d37e7389e5",
        "x": 1220,
        "y": 320,
        "wires": [
            [
                "e142bb411f990e05",
                "2e707984219ae3a9",
                "daef6aa88b93b329",
                "e16a49a555dc3139"
            ]
        ]
    },
    {
        "id": "ece5442438bb7aa1",
        "type": "junction",
        "z": "8d2de69b4c0fd2b9",
        "g": "bb1cc6878bf6f696",
        "x": 1320,
        "y": 220,
        "wires": [
            [
                "c0d0c36d39f527e2",
                "db50c5b6f4f302b4",
                "b560dfc6f3c2aec1"
            ]
        ]
    },
    {
        "id": "159c508f956eb430",
        "type": "junction",
        "z": "7186425fdfc90c19",
        "g": "3bd669c9a971e4a2",
        "x": 1020,
        "y": 220,
        "wires": [
            [
                "90b19d7c300c5383",
                "8ee8100ab8bdc7e6",
                "76b2b2fcd5922030",
                "44cfcac399640661"
            ]
        ]
    },
    {
        "id": "be68c8baf380f74e",
        "type": "junction",
        "z": "645478ab1138fd33",
        "g": "f2952a0e7861984f",
        "x": 820,
        "y": 200,
        "wires": [
            [
                "6011ff5a330d5f46",
                "2e62b582b5ace0b2",
                "dfebcb371c6d37c4",
                "ed20a5d29a5eb136",
                "29504140078fb34c"
            ]
        ]
    },
    {
        "id": "3ad564319a62aa0f",
        "type": "junction",
        "z": "b13ca13c.9328e",
        "g": "37c7c59a61d38b32",
        "x": 1760,
        "y": 320,
        "wires": [
            [
                "8bd6ce7359e6fe2f",
                "16bf3029dc11f50b",
                "3f7e2f446cdb3e90",
                "66e66f9f5828f878",
                "5922c1dac60ed4ec"
            ]
        ]
    },
    {
        "id": "3a0c4f886a8c4e54",
        "type": "junction",
        "z": "b13ca13c.9328e",
        "g": "1b05fecd5ed3289b",
        "x": 1760,
        "y": 560,
        "wires": [
            [
                "ab8c69e6298f0ad4",
                "dab28de38f3a6629",
                "52d10ab03d478bae",
                "322d16b061f4e108"
            ]
        ]
    },
    {
        "id": "509313ec35867636",
        "type": "junction",
        "z": "2fdf3d9bec5f1748",
        "g": "0490826048e616a0",
        "x": 1200,
        "y": 200,
        "wires": [
            [
                "28d7678ffbc9ea54",
                "6e679db82914212d",
                "2137fd353b4905ee",
                "dedcddec2131fd4e",
                "e986602efbf956a6"
            ]
        ]
    },
    {
        "id": "ef17b4eb0dc0871b",
        "type": "junction",
        "z": "cde79c08.e4f488",
        "g": "60a8ffbec987c377",
        "x": 840,
        "y": 300,
        "wires": [
            [
                "8bda876328e49e67",
                "af6a4d51c1e99b4e",
                "c7b88c5f533c105b",
                "8ca7529cee95086c"
            ]
        ]
    },
    {
        "id": "9655b1065753069f",
        "type": "junction",
        "z": "99c1372046e45da7",
        "g": "b268fa78a872617d",
        "x": 1380,
        "y": 320,
        "wires": [
            [
                "5a8f575633614c07",
                "781d3a645a5e3130",
                "148de36202032274",
                "451f25b73596ddf8"
            ]
        ]
    },
    {
        "id": "df3bd9cee59e687a",
        "type": "junction",
        "z": "72ef82b8.9d086c",
        "g": "677a462e190a4c92",
        "x": 1270,
        "y": 200,
        "wires": [
            [
                "70a25e05987238de",
                "f359939883ebec80",
                "7913c8cedd9b8d45",
                "95286ff3.9f33d"
            ]
        ]
    },
    {
        "id": "2191e2bfc331009c",
        "type": "junction",
        "z": "c23003c7.1c978",
        "g": "283f88d61789c306",
        "x": 1880,
        "y": 160,
        "wires": [
            [
                "d93bd58ac5ac0363",
                "96e077260be2f7fb",
                "61f9d42e4c070321",
                "96679db36a4a3636"
            ]
        ]
    },
    {
        "id": "1bcfdae4fb034efd",
        "type": "junction",
        "z": "3d30857f5165e137",
        "g": "8484c31ea7272515",
        "x": 1240,
        "y": 440,
        "wires": [
            [
                "59e4a09ae6f431cd"
            ]
        ]
    },
    {
        "id": "e40aff179bd30a9b",
        "type": "junction",
        "z": "3d30857f5165e137",
        "g": "8484c31ea7272515",
        "x": 820,
        "y": 340,
        "wires": [
            [
                "59e4a09ae6f431cd"
            ]
        ]
    },
    {
        "id": "252893d959f094a0",
        "type": "junction",
        "z": "55da1471.fda0fc",
        "x": 660,
        "y": 400,
        "wires": [
            [
                "1351cb3a.cc7995"
            ]
        ]
    },
    {
        "id": "4539dbe872caf169",
        "type": "junction",
        "z": "39f5e6336137f4b2",
        "x": 860,
        "y": 200,
        "wires": [
            [
                "382a831c1568641b"
            ]
        ]
    },
    {
        "id": "f8003d1746659317",
        "type": "junction",
        "z": "39f5e6336137f4b2",
        "x": 520,
        "y": 260,
        "wires": [
            [
                "19b08832ac41fe31"
            ]
        ]
    },
    {
        "id": "a5e476b7342dd2fc",
        "type": "junction",
        "z": "9a7094e42d673dc4",
        "x": 1120,
        "y": 380,
        "wires": [
            [
                "53a47bf861d4d73c"
            ]
        ]
    },
    {
        "id": "1ff52cc50bb2b980",
        "type": "junction",
        "z": "65351372f52f2e2d",
        "x": 600,
        "y": 240,
        "wires": [
            [
                "926a03f5dc689826"
            ]
        ]
    },
    {
        "id": "1389cd751a19cef8",
        "type": "junction",
        "z": "65351372f52f2e2d",
        "x": 280,
        "y": 200,
        "wires": [
            [
                "2be495a83d512501"
            ]
        ]
    },
    {
        "id": "5de4f38ec4c4075f",
        "type": "junction",
        "z": "65351372f52f2e2d",
        "x": 280,
        "y": 240,
        "wires": [
            [
                "1ff52cc50bb2b980"
            ]
        ]
    },
    {
        "id": "223d859dcac9107a",
        "type": "junction",
        "z": "72f3a564e626ff9a",
        "x": 780,
        "y": 440,
        "wires": [
            [
                "6a481279c5298533"
            ]
        ]
    },
    {
        "id": "4b77d397e442cac9",
        "type": "junction",
        "z": "72f3a564e626ff9a",
        "x": 940,
        "y": 260,
        "wires": [
            [
                "b1b1be8e46f91cca"
            ]
        ]
    },
    {
        "id": "50241184111a2c70",
        "type": "junction",
        "z": "535c98d1d92579b6",
        "x": 200,
        "y": 320,
        "wires": [
            [
                "4f661232083706f4"
            ]
        ]
    },
    {
        "id": "301e94d904b9a128",
        "type": "junction",
        "z": "535c98d1d92579b6",
        "x": 760,
        "y": 600,
        "wires": [
            [
                "318426830832aad5"
            ]
        ]
    },
    {
        "id": "4a33ba091890f26c",
        "type": "junction",
        "z": "535c98d1d92579b6",
        "x": 760,
        "y": 360,
        "wires": [
            [
                "4f661232083706f4"
            ]
        ]
    },
    {
        "id": "b9e7aa8885c6c8ee",
        "type": "junction",
        "z": "535c98d1d92579b6",
        "x": 760,
        "y": 840,
        "wires": [
            [
                "f772e0315cdeaa39"
            ]
        ]
    },
    {
        "id": "d562f0f246daa67a",
        "type": "junction",
        "z": "535c98d1d92579b6",
        "x": 200,
        "y": 560,
        "wires": [
            [
                "318426830832aad5"
            ]
        ]
    },
    {
        "id": "deabe55a2db7bf66",
        "type": "junction",
        "z": "535c98d1d92579b6",
        "x": 200,
        "y": 800,
        "wires": [
            [
                "f772e0315cdeaa39"
            ]
        ]
    },
    {
        "id": "abca9d489cb39d05",
        "type": "junction",
        "z": "645478ab1138fd33",
        "x": 320,
        "y": 220,
        "wires": [
            [
                "56c442aec754c164"
            ]
        ]
    },
    {
        "id": "15e791691fffba6e",
        "type": "junction",
        "z": "b13ca13c.9328e",
        "x": 1480,
        "y": 280,
        "wires": [
            [
                "40140a3.8383df4",
                "668b5737b0f584a7"
            ]
        ]
    },
    {
        "id": "1d1ec90f6d5f3048",
        "type": "junction",
        "z": "b13ca13c.9328e",
        "x": 740,
        "y": 280,
        "wires": [
            [
                "15e791691fffba6e"
            ]
        ]
    },
    {
        "id": "3564b4f51c2e9f2b",
        "type": "junction",
        "z": "2fdf3d9bec5f1748",
        "x": 280,
        "y": 220,
        "wires": [
            [
                "609e3ac6425b0cac"
            ]
        ]
    },
    {
        "id": "ea1d347257539369",
        "type": "junction",
        "z": "5c92a1135257c28d",
        "g": "9d927f405fd197bc",
        "x": 800,
        "y": 160,
        "wires": [
            [
                "420b0d2cf8014bfe",
                "a6c263811d9239b5",
                "b553c9f2abb4bdc0",
                "f8bd1ef936e71fbf"
            ]
        ]
    },
    {
        "id": "0e86c16e42286a1a",
        "type": "junction",
        "z": "fd9cd80f14f860fe",
        "g": "fc9a0630f16ecdaf",
        "x": 660,
        "y": 840,
        "wires": [
            [
                "6797374d5c5348f9",
                "3beb8cf879247adb"
            ]
        ]
    },
    {
        "id": "61e6d10bbacb84be",
        "type": "junction",
        "z": "fd9cd80f14f860fe",
        "g": "cd256ec259a611f4",
        "x": 660,
        "y": 560,
        "wires": [
            [
                "fa9bc69bfdcf7c2c",
                "1852cb62226e78b0",
                "cc95177ff7dd19c7"
            ]
        ]
    },
    {
        "id": "b564e25effcfc627",
        "type": "junction",
        "z": "fd9cd80f14f860fe",
        "g": "d3868dc5f4aa2d65",
        "x": 660,
        "y": 240,
        "wires": [
            [
                "7921cddd0f314705",
                "7bea96d351fd45a5",
                "1d37dadaa58f945a",
                "f9e486866e6d65f1"
            ]
        ]
    },
    {
        "id": "594222d1e705061c",
        "type": "junction",
        "z": "fd9cd80f14f860fe",
        "g": "3deebaf17197f452",
        "x": 1020,
        "y": 1920,
        "wires": [
            [
                "aaefbd870a81bd90",
                "f562bc76d4f77c72",
                "c6c71296e724485a",
                "7c90580485197cda"
            ]
        ]
    },
    {
        "id": "64a60709294e150e",
        "type": "junction",
        "z": "fd9cd80f14f860fe",
        "g": "7cc7f95a4ebc61f4",
        "x": 660,
        "y": 1040,
        "wires": [
            [
                "48234362842d5448"
            ]
        ]
    },
    {
        "id": "b813b74193ab27fc",
        "type": "junction",
        "z": "5b957aaa34cab814",
        "x": 400,
        "y": 520,
        "wires": [
            [
                "f5b5f685345544c7"
            ]
        ]
    },
    {
        "id": "cf3165dc8b9966df",
        "type": "junction",
        "z": "d5421f8d.f7208",
        "x": 1200,
        "y": 200,
        "wires": [
            [
                "7ccb7ced4e8c8a8f"
            ]
        ]
    },
    {
        "id": "4d395d18c0756d47",
        "type": "junction",
        "z": "82d5958c73f37c26",
        "g": "fa8b2c549c6198d2",
        "x": 280,
        "y": 260,
        "wires": [
            [
                "f7b6a832a5096712",
                "782dad59eecce1f6",
                "2babd23a398c74fd"
            ]
        ]
    },
    {
        "id": "e778d71ea6d1e452",
        "type": "junction",
        "z": "b789af61b07fd59c",
        "g": "3ca230ff2becd832",
        "x": 1880,
        "y": 200,
        "wires": [
            [
                "f777d58a9431acab",
                "753a58a11a72906c",
                "62e6e0b8f41df173",
                "9ba2576829f3e51e"
            ]
        ]
    },
    {
        "id": "a378d97aa6be5e49",
        "type": "junction",
        "z": "be92da6a5a4a4550",
        "g": "d543568c3cc7aa23",
        "x": 420,
        "y": 720,
        "wires": [
            [
                "818ba5a9.204658"
            ]
        ]
    },
    {
        "id": "3392d6cf5e1cb20b",
        "type": "junction",
        "z": "be92da6a5a4a4550",
        "g": "d543568c3cc7aa23",
        "x": 420,
        "y": 680,
        "wires": [
            [
                "5c56266b.e63438"
            ]
        ]
    },
    {
        "id": "e77ba69902680e0b",
        "type": "junction",
        "z": "bf279eb7eda19fd7",
        "g": "c8891a8ac17ad37f",
        "x": 1920,
        "y": 880,
        "wires": [
            [
                "ea9e3f11186f2606",
                "dc0afdf8dedd0ac0",
                "c69b61919d7e7aa6",
                "440133efbc2eedaf",
                "df7554ad18fe6c0f",
                "4a2f429585c110e6"
            ]
        ]
    },
    {
        "id": "216dba61cca4a879",
        "type": "junction",
        "z": "bf279eb7eda19fd7",
        "g": "cece073f3809811f",
        "x": 1920,
        "y": 1180,
        "wires": [
            [
                "123e28cddf1fbf78",
                "71cc06e8db17e49f",
                "c1c6232e70377108",
                "0a9029d0e195510e",
                "6d3057460cedca79",
                "9073a07bb4241ea7"
            ]
        ]
    },
    {
        "id": "e3d6041fbd9d3e9b",
        "type": "junction",
        "z": "bf279eb7eda19fd7",
        "g": "b8b2c52ce29b1b66",
        "x": 860,
        "y": 1000,
        "wires": [
            [
                "8f8e3faeb54f8394"
            ]
        ]
    },
    {
        "id": "8d98ecd84b9c5e5e",
        "type": "junction",
        "z": "be92da6a5a4a4550",
        "g": "59d661e86ca6893c",
        "x": 1110,
        "y": 1120,
        "wires": [
            [
                "e85513dffc371372"
            ]
        ]
    },
    {
        "id": "56a07c9ca9672de6",
        "type": "junction",
        "z": "f32d9f15eade4bba",
        "g": "8dd127f90c06ad01",
        "x": 480,
        "y": 640,
        "wires": [
            [
                "f4a68bb61137474e"
            ]
        ]
    },
    {
        "id": "4c5c66dcd56c4b83",
        "type": "junction",
        "z": "f32d9f15eade4bba",
        "g": "8dd127f90c06ad01",
        "x": 780,
        "y": 500,
        "wires": [
            [
                "511c21a01753fb65",
                "9cbed94c67d1830a"
            ]
        ]
    },
    {
        "id": "84b894521e1025fd",
        "type": "junction",
        "z": "bf279eb7eda19fd7",
        "g": "7f9ef23a602772d9",
        "x": 1100,
        "y": 1940,
        "wires": [
            [
                "b45d3017dda90564"
            ]
        ]
    },
    {
        "id": "2db276d509393d03",
        "type": "junction",
        "z": "f32d9f15eade4bba",
        "g": "53fb0b4840033e17",
        "x": 900,
        "y": 1520,
        "wires": [
            [
                "9c4864f0ca0d2d96"
            ]
        ]
    },
    {
        "id": "e0259adb4a945229",
        "type": "junction",
        "z": "f32d9f15eade4bba",
        "g": "53fb0b4840033e17",
        "x": 540,
        "y": 1520,
        "wires": [
            [
                "2db276d509393d03"
            ]
        ]
    },
    {
        "id": "ce03ab56bedf05fc",
        "type": "junction",
        "z": "584de19021aea4c9",
        "g": "08715fb1375207f2",
        "x": 560,
        "y": 340,
        "wires": [
            [
                "98e460a4ed0ed121"
            ]
        ]
    },
    {
        "id": "547adbcf6d9c7157",
        "type": "junction",
        "z": "13a255ebdd1ff73b",
        "g": "cab9eeaa205362d4",
        "x": 780,
        "y": 340,
        "wires": [
            [
                "b71280bffd062919"
            ]
        ]
    },
    {
        "id": "65c1beb3af49864c",
        "type": "junction",
        "z": "94466ab2e543aa2f",
        "g": "a2cb8e43bd2538c0",
        "x": 800,
        "y": 2080,
        "wires": [
            [
                "b7171475ccc7e603"
            ]
        ]
    },
    {
        "id": "b811292b8f4a055a",
        "type": "junction",
        "z": "bf279eb7eda19fd7",
        "g": "478d175d0abcb987",
        "x": 500,
        "y": 2140,
        "wires": [
            [
                "e7b2bb5d8bf44ab8"
            ]
        ]
    },
    {
        "id": "79d81ca9d619b285",
        "type": "junction",
        "z": "584de19021aea4c9",
        "g": "69027adcba470682",
        "x": 1120,
        "y": 540,
        "wires": [
            [
                "7e2213cba8ed0e58",
                "21c070ce72b68d7d"
            ]
        ]
    },
    {
        "id": "fee8363c5cb8d124",
        "type": "junction",
        "z": "f32d9f15eade4bba",
        "g": "d87b969d15636e26",
        "x": 400,
        "y": 1060,
        "wires": [
            [
                "ce869786.78dec8"
            ]
        ]
    },
    {
        "id": "ec34cd6ea57b0b7f",
        "type": "junction",
        "z": "f32d9f15eade4bba",
        "g": "3bf0bc8959f8a48e",
        "x": 1280,
        "y": 1040,
        "wires": [
            [
                "64614e79bcb09872",
                "2a35d2abfb0850da",
                "71f13b6b1744cf6b",
                "80b3c96f004d6f8b"
            ]
        ]
    },
    {
        "id": "9b93ac7b58399751",
        "type": "junction",
        "z": "7f39e487c7ab241c",
        "g": "392300741f68f312",
        "x": 1340,
        "y": 740,
        "wires": [
            [
                "c6941b34f3402196",
                "59327076bed18754",
                "cdbb5b48e71b5866"
            ]
        ]
    },
    {
        "id": "473671da38ba46a2",
        "type": "junction",
        "z": "be92da6a5a4a4550",
        "g": "e1e18e258b05bc2b",
        "x": 940,
        "y": 1440,
        "wires": [
            [
                "56d9d2ebcfbe9269",
                "cbd34de63e64797f",
                "e094355f82570254"
            ]
        ]
    },
    {
        "id": "9176120838cc8707",
        "type": "junction",
        "z": "e98ae3c9db1bd6c3",
        "g": "7a8d3a38b4738118",
        "x": 500,
        "y": 640,
        "wires": [
            [
                "25e30f9bf7474722"
            ]
        ]
    },
    {
        "id": "36dee637778341ba",
        "type": "mqtt-broker",
        "name": "",
        "broker": "mqtt.lan.stamx.nl",
        "port": "1883",
        "clientid": "",
        "autoConnect": true,
        "usetls": false,
        "protocolVersion": "4",
        "keepalive": "60",
        "cleansession": true,
        "autoUnsubscribe": true,
        "birthTopic": "",
        "birthQos": "0",
        "birthPayload": "",
        "birthMsg": {},
        "closeTopic": "",
        "closeQos": "0",
        "closePayload": "",
        "closeMsg": {},
        "willTopic": "",
        "willQos": "0",
        "willPayload": "",
        "willMsg": {},
        "userProps": "",
        "sessionExpiry": ""
    },
    {
        "id": "4ba92433.2478cc",
        "type": "server",
        "name": "Home Assistant",
        "version": 5,
        "addon": false,
        "rejectUnauthorizedCerts": false,
        "ha_boolean": "y|yes|true|on|home|open",
        "connectionDelay": true,
        "cacheJson": true,
        "heartbeat": true,
        "heartbeatInterval": "30",
        "areaSelector": "id",
        "deviceSelector": "id",
        "entitySelector": "id",
        "statusSeparator": "at: ",
        "statusYear": "hidden",
        "statusMonth": "short",
        "statusDay": "numeric",
        "statusHourCycle": "h23",
        "statusTimeFormat": "h:m",
        "enableGlobalContextStore": true
    },
    {
        "id": "8db70a2720a60b47",
        "type": "ha-entity-config",
        "server": "4ba92433.2478cc",
        "deviceConfig": "",
        "name": "custom_energy_returned_watt",
        "version": "6",
        "entityType": "sensor",
        "haConfig": [
            {
                "property": "name",
                "value": "custom_energy_returned_watt"
            },
            {
                "property": "icon",
                "value": ""
            },
            {
                "property": "entity_picture",
                "value": ""
            },
            {
                "property": "entity_category",
                "value": ""
            },
            {
                "property": "device_class",
                "value": "power"
            },
            {
                "property": "unit_of_measurement",
                "value": "W"
            },
            {
                "property": "state_class",
                "value": "measurement"
            }
        ],
        "resend": false,
        "debugEnabled": false
    },
    {
        "id": "481b5f550ecd01da",
        "type": "ha-entity-config",
        "server": "4ba92433.2478cc",
        "deviceConfig": "",
        "name": "nvidia_shield_volume_maximum",
        "version": "6",
        "entityType": "binary_sensor",
        "haConfig": [
            {
                "property": "name",
                "value": "nvidia_shield_volume_maximum"
            },
            {
                "property": "icon",
                "value": ""
            },
            {
                "property": "entity_picture",
                "value": ""
            },
            {
                "property": "entity_category",
                "value": ""
            },
            {
                "property": "device_class",
                "value": ""
            }
        ],
        "resend": false,
        "debugEnabled": false
    },
    {
        "id": "7befa0b16196877c",
        "type": "ha-entity-config",
        "server": "4ba92433.2478cc",
        "deviceConfig": "",
        "name": "custom_energy",
        "version": "6",
        "entityType": "sensor",
        "haConfig": [
            {
                "property": "name",
                "value": "custom_energy"
            },
            {
                "property": "icon",
                "value": ""
            },
            {
                "property": "entity_category",
                "value": ""
            },
            {
                "property": "entity_picture",
                "value": ""
            },
            {
                "property": "device_class",
                "value": "energy"
            },
            {
                "property": "unit_of_measurement",
                "value": "Wh"
            },
            {
                "property": "state_class",
                "value": ""
            }
        ],
        "resend": true,
        "debugEnabled": false
    },
    {
        "id": "334728918669134a",
        "type": "ha-entity-config",
        "server": "4ba92433.2478cc",
        "deviceConfig": "",
        "name": "tv_device",
        "version": "6",
        "entityType": "button",
        "haConfig": [
            {
                "property": "name",
                "value": "tv_device"
            },
            {
                "property": "icon",
                "value": ""
            },
            {
                "property": "entity_category",
                "value": ""
            },
            {
                "property": "entity_picture",
                "value": ""
            },
            {
                "property": "device_class",
                "value": ""
            }
        ],
        "resend": false,
        "debugEnabled": false
    },
    {
        "id": "bdbe52c.932a5b",
        "type": "ha-entity-config",
        "server": "4ba92433.2478cc",
        "deviceConfig": "",
        "name": "washing_machine",
        "version": "6",
        "entityType": "binary_sensor",
        "haConfig": [
            {
                "property": "name",
                "value": "washing_machine"
            },
            {
                "property": "icon",
                "value": "mdi:washing-machine"
            },
            {
                "property": "entity_category",
                "value": ""
            },
            {
                "property": "entity_picture",
                "value": ""
            },
            {
                "property": "device_class",
                "value": ""
            }
        ],
        "resend": true,
        "debugEnabled": false
    },
    {
        "id": "5051592a.7844e8",
        "type": "ha-entity-config",
        "server": "4ba92433.2478cc",
        "deviceConfig": "",
        "name": "outdoor_daylight",
        "version": "6",
        "entityType": "binary_sensor",
        "haConfig": [
            {
                "property": "name",
                "value": "outdoor_daylight"
            },
            {
                "property": "icon",
                "value": ""
            },
            {
                "property": "entity_picture",
                "value": ""
            },
            {
                "property": "entity_category",
                "value": ""
            },
            {
                "property": "device_class",
                "value": "light"
            }
        ],
        "resend": true,
        "debugEnabled": false
    },
    {
        "id": "2c5f48cef312ec68",
        "type": "ha-entity-config",
        "server": "4ba92433.2478cc",
        "deviceConfig": "",
        "name": "tumble_dryer",
        "version": "6",
        "entityType": "binary_sensor",
        "haConfig": [
            {
                "property": "name",
                "value": "tumble_dryer"
            },
            {
                "property": "icon",
                "value": ""
            },
            {
                "property": "entity_category",
                "value": ""
            },
            {
                "property": "entity_picture",
                "value": ""
            },
            {
                "property": "device_class",
                "value": ""
            }
        ],
        "resend": true,
        "debugEnabled": false
    },
    {
        "id": "4f12e052f2829473",
        "type": "ha-entity-config",
        "server": "4ba92433.2478cc",
        "deviceConfig": "",
        "name": "dishwasher",
        "version": "6",
        "entityType": "binary_sensor",
        "haConfig": [
            {
                "property": "name",
                "value": "dishwasher"
            },
            {
                "property": "icon",
                "value": ""
            },
            {
                "property": "entity_category",
                "value": ""
            },
            {
                "property": "entity_picture",
                "value": ""
            },
            {
                "property": "device_class",
                "value": ""
            }
        ],
        "resend": true,
        "debugEnabled": false
    },
    {
        "id": "60731eead34cfb6b",
        "type": "ha-entity-config",
        "server": "4ba92433.2478cc",
        "deviceConfig": "",
        "name": "weather_code_translated",
        "version": "6",
        "entityType": "sensor",
        "haConfig": [
            {
                "property": "name",
                "value": "weather_code_translated"
            },
            {
                "property": "icon",
                "value": ""
            },
            {
                "property": "entity_picture",
                "value": ""
            },
            {
                "property": "entity_category",
                "value": ""
            },
            {
                "property": "device_class",
                "value": ""
            },
            {
                "property": "unit_of_measurement",
                "value": ""
            },
            {
                "property": "state_class",
                "value": ""
            }
        ],
        "resend": false,
        "debugEnabled": false
    },
    {
        "id": "03547137a16812fd",
        "type": "ha-entity-config",
        "server": "4ba92433.2478cc",
        "deviceConfig": "",
        "name": "tv_device",
        "version": "6",
        "entityType": "binary_sensor",
        "haConfig": [
            {
                "property": "name",
                "value": "tv_device"
            },
            {
                "property": "icon",
                "value": ""
            },
            {
                "property": "entity_category",
                "value": ""
            },
            {
                "property": "entity_picture",
                "value": ""
            },
            {
                "property": "device_class",
                "value": ""
            }
        ],
        "resend": false,
        "debugEnabled": false
    },
    {
        "id": "61b96249023198be",
        "type": "ha-entity-config",
        "server": "4ba92433.2478cc",
        "deviceConfig": "",
        "name": "notification_level_info_turn_off",
        "version": "6",
        "entityType": "button",
        "haConfig": [
            {
                "property": "name",
                "value": "notification_level_info_turn_off"
            },
            {
                "property": "icon",
                "value": ""
            },
            {
                "property": "entity_picture",
                "value": ""
            },
            {
                "property": "entity_category",
                "value": ""
            },
            {
                "property": "device_class",
                "value": ""
            }
        ],
        "resend": false,
        "debugEnabled": false
    },
    {
        "id": "ce2ff010477149a7",
        "type": "ha-entity-config",
        "server": "4ba92433.2478cc",
        "deviceConfig": "",
        "name": "notification_level_warning_turn_off",
        "version": "6",
        "entityType": "button",
        "haConfig": [
            {
                "property": "name",
                "value": "notification_level_warning_turn_off"
            },
            {
                "property": "icon",
                "value": ""
            },
            {
                "property": "entity_picture",
                "value": ""
            },
            {
                "property": "entity_category",
                "value": ""
            },
            {
                "property": "device_class",
                "value": ""
            }
        ],
        "resend": false,
        "debugEnabled": false
    },
    {
        "id": "fed106bf198ad2ea",
        "type": "ha-entity-config",
        "server": "4ba92433.2478cc",
        "deviceConfig": "",
        "name": "notification_level_warning",
        "version": "6",
        "entityType": "binary_sensor",
        "haConfig": [
            {
                "property": "name",
                "value": "notification_level_warning"
            },
            {
                "property": "icon",
                "value": ""
            },
            {
                "property": "entity_picture",
                "value": ""
            },
            {
                "property": "entity_category",
                "value": ""
            },
            {
                "property": "device_class",
                "value": ""
            }
        ],
        "resend": true,
        "debugEnabled": false
    },
    {
        "id": "287aaae77d488c09",
        "type": "ha-entity-config",
        "server": "4ba92433.2478cc",
        "deviceConfig": "",
        "name": "notification_level_error_turn_off",
        "version": "6",
        "entityType": "button",
        "haConfig": [
            {
                "property": "name",
                "value": "notification_level_error_turn_off"
            },
            {
                "property": "icon",
                "value": ""
            },
            {
                "property": "entity_picture",
                "value": ""
            },
            {
                "property": "entity_category",
                "value": ""
            },
            {
                "property": "device_class",
                "value": ""
            }
        ],
        "resend": false,
        "debugEnabled": false
    },
    {
        "id": "d2b97f89ed6763e5",
        "type": "ha-entity-config",
        "server": "4ba92433.2478cc",
        "deviceConfig": "",
        "name": "notification_level_error",
        "version": "6",
        "entityType": "binary_sensor",
        "haConfig": [
            {
                "property": "name",
                "value": "notification_level_error"
            },
            {
                "property": "icon",
                "value": ""
            },
            {
                "property": "entity_picture",
                "value": ""
            },
            {
                "property": "entity_category",
                "value": ""
            },
            {
                "property": "device_class",
                "value": ""
            }
        ],
        "resend": true,
        "debugEnabled": false
    },
    {
        "id": "cab73c1a38f001be",
        "type": "ha-entity-config",
        "server": "4ba92433.2478cc",
        "deviceConfig": "",
        "name": "notification_level_info",
        "version": "6",
        "entityType": "binary_sensor",
        "haConfig": [
            {
                "property": "name",
                "value": "notification_level_info"
            },
            {
                "property": "icon",
                "value": ""
            },
            {
                "property": "entity_picture",
                "value": ""
            },
            {
                "property": "entity_category",
                "value": ""
            },
            {
                "property": "device_class",
                "value": ""
            }
        ],
        "resend": true,
        "debugEnabled": false
    },
    {
        "id": "3cbf2c3454c3795d",
        "type": "ha-entity-config",
        "server": "4ba92433.2478cc",
        "deviceConfig": "",
        "name": "notification_level_clear_all",
        "version": "6",
        "entityType": "button",
        "haConfig": [
            {
                "property": "name",
                "value": "notification_level_clear_all"
            },
            {
                "property": "icon",
                "value": ""
            },
            {
                "property": "entity_picture",
                "value": ""
            },
            {
                "property": "entity_category",
                "value": ""
            },
            {
                "property": "device_class",
                "value": ""
            }
        ],
        "resend": false,
        "debugEnabled": false
    },
    {
        "id": "df0e222b4bf2971f",
        "type": "ha-entity-config",
        "server": "4ba92433.2478cc",
        "deviceConfig": "",
        "name": "notification_on_counter",
        "version": "6",
        "entityType": "sensor",
        "haConfig": [
            {
                "property": "name",
                "value": "notification_on_counter"
            },
            {
                "property": "icon",
                "value": ""
            },
            {
                "property": "entity_picture",
                "value": ""
            },
            {
                "property": "entity_category",
                "value": ""
            },
            {
                "property": "device_class",
                "value": ""
            },
            {
                "property": "unit_of_measurement",
                "value": ""
            },
            {
                "property": "state_class",
                "value": "total"
            }
        ],
        "resend": true,
        "debugEnabled": false
    },
    {
        "id": "3f4f99b6c043befd",
        "type": "ha-entity-config",
        "server": "4ba92433.2478cc",
        "deviceConfig": "",
        "name": "custom_energy_usage",
        "version": "6",
        "entityType": "sensor",
        "haConfig": [
            {
                "property": "name",
                "value": "custom_energy_usage"
            },
            {
                "property": "icon",
                "value": ""
            },
            {
                "property": "entity_category",
                "value": ""
            },
            {
                "property": "entity_picture",
                "value": ""
            },
            {
                "property": "device_class",
                "value": ""
            },
            {
                "property": "unit_of_measurement",
                "value": ""
            },
            {
                "property": "state_class",
                "value": ""
            }
        ],
        "resend": false,
        "debugEnabled": false
    },
    {
        "id": "dd558d37ebd87d72",
        "type": "ha-entity-config",
        "server": "4ba92433.2478cc",
        "deviceConfig": "",
        "name": "custom_weather_description_01",
        "version": "6",
        "entityType": "sensor",
        "haConfig": [
            {
                "property": "name",
                "value": "custom_weather_description_01"
            },
            {
                "property": "icon",
                "value": ""
            },
            {
                "property": "entity_picture",
                "value": ""
            },
            {
                "property": "entity_category",
                "value": ""
            },
            {
                "property": "device_class",
                "value": ""
            },
            {
                "property": "unit_of_measurement",
                "value": ""
            },
            {
                "property": "state_class",
                "value": ""
            }
        ],
        "resend": false,
        "debugEnabled": false
    },
    {
        "id": "fcb1f1df3e876534",
        "type": "ha-entity-config",
        "server": "4ba92433.2478cc",
        "deviceConfig": "",
        "name": "open_windows_first_floor",
        "version": 6,
        "entityType": "binary_sensor",
        "haConfig": [
            {
                "property": "name",
                "value": "open_windows_first_floor"
            },
            {
                "property": "icon",
                "value": ""
            },
            {
                "property": "entity_picture",
                "value": ""
            },
            {
                "property": "entity_category",
                "value": ""
            },
            {
                "property": "device_class",
                "value": "window"
            }
        ],
        "resend": false,
        "debugEnabled": false
    },
    {
        "id": "129d3d14acdc46a3",
        "type": "ha-entity-config",
        "server": "4ba92433.2478cc",
        "deviceConfig": "",
        "name": "tv_screen",
        "version": 6,
        "entityType": "button",
        "haConfig": [
            {
                "property": "name",
                "value": "tv_screen"
            },
            {
                "property": "icon",
                "value": ""
            },
            {
                "property": "entity_picture",
                "value": ""
            },
            {
                "property": "entity_category",
                "value": ""
            },
            {
                "property": "device_class",
                "value": ""
            }
        ],
        "resend": false,
        "debugEnabled": false
    },
    {
        "id": "c839a731325b5f56",
        "type": "server-state-changed",
        "z": "9ea6eabfb34d96e0",
        "name": "persons not home",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "group.persons"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": false,
        "stateType": "str",
        "ifState": "not_home",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 110,
        "y": 60,
        "wires": [
            [
                "0a18bbcbd9c3cd6e"
            ],
            []
        ]
    },
    {
        "id": "13611d939983a048",
        "type": "server-state-changed",
        "z": "9ea6eabfb34d96e0",
        "name": "guest off",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "input_boolean.guest"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": false,
        "stateType": "str",
        "ifState": "off",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 80,
        "y": 120,
        "wires": [
            [
                "8457dd663492ca8d"
            ],
            []
        ]
    },
    {
        "id": "0a18bbcbd9c3cd6e",
        "type": "api-current-state",
        "z": "9ea6eabfb34d96e0",
        "name": "guest is off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.guest",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 330,
        "y": 60,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "8457dd663492ca8d",
        "type": "api-current-state",
        "z": "9ea6eabfb34d96e0",
        "name": "persons is not home",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "not_home",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "group.persons",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 360,
        "y": 120,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "07f9079090a2fa11",
        "type": "server-state-changed",
        "z": "9ea6eabfb34d96e0",
        "name": "vacation mode",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 1,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "input_boolean.vacation_mode"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": false,
        "stateType": "str",
        "ifState": "",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 100,
        "y": 180,
        "wires": [
            [
                "2f107cf36e1ce40b"
            ]
        ]
    },
    {
        "id": "d98bd908eae51ad8",
        "type": "comment",
        "z": "9ea6eabfb34d96e0",
        "name": "trigger when last person have left home or guest mode turned off and no person is home",
        "info": "",
        "x": 320,
        "y": 20,
        "wires": []
    },
    {
        "id": "2f107cf36e1ce40b",
        "type": "api-current-state",
        "z": "9ea6eabfb34d96e0",
        "name": "guest is off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.guest",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 330,
        "y": 180,
        "wires": [
            [
                "cd959f601e0454e3"
            ],
            []
        ]
    },
    {
        "id": "cd959f601e0454e3",
        "type": "api-current-state",
        "z": "9ea6eabfb34d96e0",
        "name": "persons is not home",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "not_home",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "group.persons",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 520,
        "y": 180,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "4aae8060dce8db6a",
        "type": "server-state-changed",
        "z": "ad57f56dd92dd9d6",
        "name": "state persons home",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "group.persons"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": false,
        "stateType": "str",
        "ifState": "home",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": false,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 110,
        "y": 80,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "e0e3382abbd19287",
        "type": "server-state-changed",
        "z": "ad57f56dd92dd9d6",
        "name": "state guest",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "input_boolean.guest"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": false,
        "stateType": "str",
        "ifState": "on",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 80,
        "y": 140,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "2ac49fdc8e2a24c8",
        "type": "server-state-changed",
        "z": "ad57f56dd92dd9d6",
        "name": "vacation mode",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 1,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "input_boolean.vacation_mode"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": false,
        "stateType": "str",
        "ifState": "",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 100,
        "y": 200,
        "wires": [
            [
                "13c4015f5c406ece",
                "edc3bf6451d1af22"
            ]
        ]
    },
    {
        "id": "edc3bf6451d1af22",
        "type": "api-current-state",
        "z": "ad57f56dd92dd9d6",
        "name": "persons is home",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "home",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "group.persons",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 320,
        "y": 220,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "13c4015f5c406ece",
        "type": "api-current-state",
        "z": "ad57f56dd92dd9d6",
        "name": "guest is on",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.guest",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 310,
        "y": 180,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "8e63cc4b63304a7e",
        "type": "comment",
        "z": "ad57f56dd92dd9d6",
        "name": "trigger when a person or persons are home or guest mode turned on",
        "info": "",
        "x": 260,
        "y": 20,
        "wires": []
    },
    {
        "id": "6b09385c6ff633f3",
        "type": "api-current-state",
        "z": "ad57f56dd92dd9d6",
        "name": "state person anne home",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "home",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "person.anne",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 370,
        "y": 280,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "7b6f11b9db15bc63",
        "type": "server-state-changed",
        "z": "ad57f56dd92dd9d6",
        "name": "state person coen home",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "person.coen"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": false,
        "stateType": "str",
        "ifState": "home",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 120,
        "y": 280,
        "wires": [
            [
                "6b09385c6ff633f3"
            ],
            []
        ]
    },
    {
        "id": "a256a145f7984f9a",
        "type": "api-current-state",
        "z": "ad57f56dd92dd9d6",
        "name": "state person coen home",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "home",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "person.coen",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 370,
        "y": 340,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "4898f23a9f8288bd",
        "type": "server-state-changed",
        "z": "ad57f56dd92dd9d6",
        "name": "state person anne home",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "person.anne"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": false,
        "stateType": "str",
        "ifState": "home",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 130,
        "y": 340,
        "wires": [
            [
                "a256a145f7984f9a"
            ],
            []
        ]
    },
    {
        "id": "f9b4b865266e96f0",
        "type": "template",
        "z": "4e909abe.0b62e4",
        "g": "f7435f5ad02d3f79",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "0556160e41cbd509"
            ]
        ]
    },
    {
        "id": "0556160e41cbd509",
        "type": "link out",
        "z": "4e909abe.0b62e4",
        "g": "f7435f5ad02d3f79",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 475,
        "y": 80,
        "wires": []
    },
    {
        "id": "e4c83565e32c77fc",
        "type": "template",
        "z": "4e909abe.0b62e4",
        "g": "f7435f5ad02d3f79",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "f9b4b865266e96f0"
            ]
        ]
    },
    {
        "id": "e231947e3513d81f",
        "type": "catch",
        "z": "4e909abe.0b62e4",
        "g": "f7435f5ad02d3f79",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "e4c83565e32c77fc"
            ]
        ]
    },
    {
        "id": "d6d0b5735ad8f20a",
        "type": "template",
        "z": "4e909abe.0b62e4",
        "g": "0a1a2a6df765a339",
        "name": "notification id",
        "field": "notify.notification_id",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "mechanical_ventilation",
        "output": "str",
        "x": 2070,
        "y": 720,
        "wires": [
            [
                "a1c0156c06d58e91"
            ]
        ]
    },
    {
        "id": "febf6f9eab6e868d",
        "type": "template",
        "z": "4e909abe.0b62e4",
        "g": "0a1a2a6df765a339",
        "name": "icon",
        "field": "notify.icon",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "",
        "output": "str",
        "x": 2050,
        "y": 680,
        "wires": [
            [
                "a1c0156c06d58e91"
            ]
        ]
    },
    {
        "id": "6502d163268904d4",
        "type": "template",
        "z": "4e909abe.0b62e4",
        "g": "0a1a2a6df765a339",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Mechanische ventilatie",
        "output": "str",
        "x": 2050,
        "y": 640,
        "wires": [
            [
                "a1c0156c06d58e91"
            ]
        ]
    },
    {
        "id": "ac04035c1896218b",
        "type": "link out",
        "z": "4e909abe.0b62e4",
        "g": "0a1a2a6df765a339",
        "name": "link_out_notify_3",
        "mode": "link",
        "links": [
            "8ed3b0974336e55b",
            "a97f87cfab413716"
        ],
        "x": 2315,
        "y": 640,
        "wires": []
    },
    {
        "id": "a1c0156c06d58e91",
        "type": "join",
        "z": "4e909abe.0b62e4",
        "g": "0a1a2a6df765a339",
        "name": "",
        "mode": "custom",
        "build": "merged",
        "property": "notify",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "useparts": true,
        "accumulate": false,
        "timeout": "",
        "count": "6",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 2230,
        "y": 640,
        "wires": [
            [
                "ac04035c1896218b"
            ]
        ]
    },
    {
        "id": "399184be7531eb78",
        "type": "template",
        "z": "4e909abe.0b62e4",
        "g": "0a1a2a6df765a339",
        "name": "tag",
        "field": "notify.tag",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "mechanical_ventilation_basement",
        "output": "str",
        "x": 2050,
        "y": 760,
        "wires": [
            [
                "a1c0156c06d58e91"
            ]
        ]
    },
    {
        "id": "67db220bfc8a732a",
        "type": "template",
        "z": "4e909abe.0b62e4",
        "g": "0a1a2a6df765a339",
        "name": "click action",
        "field": "notify.clickAction",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "/dashboard-mobile/climate",
        "output": "str",
        "x": 2070,
        "y": 800,
        "wires": [
            [
                "a1c0156c06d58e91"
            ]
        ]
    },
    {
        "id": "71ae7bb3.7f9984",
        "type": "comment",
        "z": "4e909abe.0b62e4",
        "name": "MECHANICAL VENTILATION POSITION 0",
        "info": "",
        "x": 460,
        "y": 160,
        "wires": []
    },
    {
        "id": "75db2fdc.c1e22",
        "type": "inject",
        "z": "4e909abe.0b62e4",
        "name": "start_flow",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "900",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "start_flow",
        "payloadType": "str",
        "x": 130,
        "y": 160,
        "wires": [
            [
                "eaba4c18.04007",
                "4e1d6c0e.bd6b44"
            ]
        ]
    },
    {
        "id": "55ffc090.d9b5b",
        "type": "comment",
        "z": "4e909abe.0b62e4",
        "g": "fe3d60102d671872",
        "name": "MECHANICAL VENTILATION POSITION MANUAL",
        "info": "",
        "x": 490,
        "y": 1040,
        "wires": []
    },
    {
        "id": "9e8a7cf7.88d51",
        "type": "template",
        "z": "4e909abe.0b62e4",
        "g": "fe3d60102d671872",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "De laagste stand van de mechanische ventilatie is handmatig ingeschakeld.",
        "output": "str",
        "x": 720,
        "y": 1080,
        "wires": [
            [
                "46d491e1.18c83"
            ]
        ]
    },
    {
        "id": "5fba04f5.3847ac",
        "type": "template",
        "z": "4e909abe.0b62e4",
        "g": "fe3d60102d671872",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "De middelste stand van de mechanische ventilatie is handmatig ingeschakeld.",
        "output": "str",
        "x": 720,
        "y": 1140,
        "wires": [
            [
                "46d491e1.18c83"
            ]
        ]
    },
    {
        "id": "cbdc5416.0cbcd8",
        "type": "template",
        "z": "4e909abe.0b62e4",
        "g": "fe3d60102d671872",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "De hoge stand van de mechanische ventilatie is handmatig ingeschakeld.",
        "output": "str",
        "x": 720,
        "y": 1200,
        "wires": [
            [
                "46d491e1.18c83"
            ]
        ]
    },
    {
        "id": "91b0640c.1b4d68",
        "type": "template",
        "z": "4e909abe.0b62e4",
        "g": "fe3d60102d671872",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Mechanische Ventilatie is handmatig uitgeschakeld.",
        "output": "str",
        "x": 720,
        "y": 1260,
        "wires": [
            [
                "46d491e1.18c83"
            ]
        ]
    },
    {
        "id": "7b52e1a6.51c84",
        "type": "comment",
        "z": "4e909abe.0b62e4",
        "g": "0b07577dad51457c",
        "name": "INPUT BOOLEAN MECHANICAL VENTILATION",
        "info": "",
        "x": 480,
        "y": 1360,
        "wires": []
    },
    {
        "id": "f58250ec.e0fa1",
        "type": "template",
        "z": "4e909abe.0b62e4",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Stand laag is ingeschakeld. De temperatuur buiten is {{{sensor.buienradar_temperature}}} {{data.attributes.unit_of_measurement}}",
        "output": "str",
        "x": 1800,
        "y": 320,
        "wires": [
            []
        ]
    },
    {
        "id": "46fd77b05f226788",
        "type": "comment",
        "z": "4e909abe.0b62e4",
        "name": "basement ventilation",
        "info": "",
        "x": 110,
        "y": 20,
        "wires": []
    },
    {
        "id": "a104a83026f8fd84",
        "type": "template",
        "z": "4e909abe.0b62e4",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Mechanische ventilatie is uitgeschakeld, lucht van boven condenseert mogelijk tegen de koudste oppervlakte in de kelder.\\nDe temperatuur van het koudste oppervlakte in de kelder is: {{sensor.basement_wall_temperature_offset}}  \\nHet dauwpunt van de lucht in de woonkamer is: {{sensor.living_room_thermal_comfort_dew_point}} ",
        "output": "str",
        "x": 1260,
        "y": 200,
        "wires": [
            [
                "476cfb88.13ea74"
            ]
        ]
    },
    {
        "id": "466f23cc5674fa22",
        "type": "template",
        "z": "4e909abe.0b62e4",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Mechanische ventilatie is uitgeschakeld, de verwarming in de kelder staat aan. \\nKelder Heating Power is {{payload}}%",
        "output": "str",
        "x": 1260,
        "y": 260,
        "wires": [
            [
                "476cfb88.13ea74"
            ]
        ]
    },
    {
        "id": "a443801a148e31b6",
        "type": "function",
        "z": "4e909abe.0b62e4",
        "name": "round to two decimals",
        "func": "msg.sensor.living_room_thermal_comfort_dew_point = msg.sensor.living_room_thermal_comfort_dew_point.toFixed(2);\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1080,
        "y": 200,
        "wires": [
            [
                "a104a83026f8fd84"
            ]
        ]
    },
    {
        "id": "54696fbd78ed3819",
        "type": "comment",
        "z": "4e909abe.0b62e4",
        "g": "031e4f7e9e7c26c2",
        "name": "MECHANICAL VENTILATION POSITION MANUAL FRONTEND",
        "info": "",
        "x": 530,
        "y": 1680,
        "wires": []
    },
    {
        "id": "4a4e04ddf8350706",
        "type": "switch",
        "z": "4e909abe.0b62e4",
        "g": "031e4f7e9e7c26c2",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "Uit",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "Laag",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "Midden",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "Hoog",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "Autonoom",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 5,
        "x": 690,
        "y": 1740,
        "wires": [
            [
                "6756525186f8169e"
            ],
            [
                "9788a503135ae44e"
            ],
            [
                "cb917aa518896f3a"
            ],
            [
                "16000567cbeaf3df"
            ],
            [
                "dfffac879d63354b"
            ]
        ]
    },
    {
        "id": "cb917aa518896f3a",
        "type": "api-call-service",
        "z": "4e909abe.0b62e4",
        "g": "031e4f7e9e7c26c2",
        "name": "turn off mechanical ventilation autonomous",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "input_boolean.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_boolean.mechanical_ventilation_basement_autonomous"
        ],
        "labelId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "input_boolean",
        "service": "turn_off",
        "x": 990,
        "y": 1840,
        "wires": [
            [
                "fec6bd8d1440b36a"
            ]
        ]
    },
    {
        "id": "dfffac879d63354b",
        "type": "api-call-service",
        "z": "4e909abe.0b62e4",
        "g": "031e4f7e9e7c26c2",
        "name": "turn on mechanical ventilation autonomous",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "input_boolean.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_boolean.mechanical_ventilation_basement_autonomous"
        ],
        "labelId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "input_boolean",
        "service": "turn_on",
        "x": 990,
        "y": 1960,
        "wires": [
            []
        ]
    },
    {
        "id": "6756525186f8169e",
        "type": "api-call-service",
        "z": "4e909abe.0b62e4",
        "g": "031e4f7e9e7c26c2",
        "name": "turn off mechanical ventilation autonomous",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "input_boolean.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_boolean.mechanical_ventilation_basement_autonomous"
        ],
        "labelId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "input_boolean",
        "service": "turn_off",
        "x": 990,
        "y": 1720,
        "wires": [
            [
                "57486f510a59fd65"
            ]
        ]
    },
    {
        "id": "9788a503135ae44e",
        "type": "api-call-service",
        "z": "4e909abe.0b62e4",
        "g": "031e4f7e9e7c26c2",
        "name": "turn off mechanical ventilation autonomous",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "input_boolean.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_boolean.mechanical_ventilation_basement_autonomous"
        ],
        "labelId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "input_boolean",
        "service": "turn_off",
        "x": 990,
        "y": 1780,
        "wires": [
            [
                "60bfbb8510eb0ddf"
            ]
        ]
    },
    {
        "id": "16000567cbeaf3df",
        "type": "api-call-service",
        "z": "4e909abe.0b62e4",
        "g": "031e4f7e9e7c26c2",
        "name": "turn off mechanical ventilation autonomous",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "input_boolean.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_boolean.mechanical_ventilation_basement_autonomous"
        ],
        "labelId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "input_boolean",
        "service": "turn_off",
        "x": 990,
        "y": 1900,
        "wires": [
            [
                "3bbc2d79dae1d733"
            ]
        ]
    },
    {
        "id": "57486f510a59fd65",
        "type": "api-call-service",
        "z": "4e909abe.0b62e4",
        "g": "031e4f7e9e7c26c2",
        "name": "turn on mechanical ventilation position 0",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "input_boolean.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_boolean.mechanical_ventilation_position_0"
        ],
        "labelId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "input_boolean",
        "service": "turn_on",
        "x": 1340,
        "y": 1720,
        "wires": [
            []
        ]
    },
    {
        "id": "60bfbb8510eb0ddf",
        "type": "api-call-service",
        "z": "4e909abe.0b62e4",
        "g": "031e4f7e9e7c26c2",
        "name": "turn on mechanical ventilation position 1",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "input_boolean.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_boolean.mechanical_ventilation_position_1"
        ],
        "labelId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "input_boolean",
        "service": "turn_on",
        "x": 1340,
        "y": 1780,
        "wires": [
            []
        ]
    },
    {
        "id": "fec6bd8d1440b36a",
        "type": "api-call-service",
        "z": "4e909abe.0b62e4",
        "g": "031e4f7e9e7c26c2",
        "name": "turn on mechanical ventilation position 2",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "input_boolean.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_boolean.mechanical_ventilation_position_2"
        ],
        "labelId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "input_boolean",
        "service": "turn_on",
        "x": 1340,
        "y": 1840,
        "wires": [
            []
        ]
    },
    {
        "id": "3bbc2d79dae1d733",
        "type": "api-call-service",
        "z": "4e909abe.0b62e4",
        "g": "031e4f7e9e7c26c2",
        "name": "turn on mechanical ventilation position 3",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "input_boolean.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_boolean.mechanical_ventilation_position_3"
        ],
        "labelId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "input_boolean",
        "service": "turn_on",
        "x": 1340,
        "y": 1900,
        "wires": [
            []
        ]
    },
    {
        "id": "cbe4be0.ad6c74",
        "type": "api-current-state",
        "z": "4e909abe.0b62e4",
        "name": "state wall temperature basement < dewpoint living room",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "sensor.living_room_thermal_comfort_dew_point",
        "halt_if_type": "msg",
        "halt_if_compare": "lt",
        "entity_id": "sensor.basement_wall_temperature_offset",
        "state_type": "num",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "sensor.basement_wall_temperature_offset",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 750,
        "y": 200,
        "wires": [
            [
                "a443801a148e31b6"
            ],
            []
        ]
    },
    {
        "id": "bfdcba16.625018",
        "type": "api-current-state",
        "z": "4e909abe.0b62e4",
        "name": "state ventilation position 1 off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.mechanical_ventilation_position_1",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "input_boolean.mechanical_ventilation_position_1",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 900,
        "y": 580,
        "wires": [
            [
                "3074d7a3808bdec0",
                "955d17f64b59495b"
            ],
            []
        ]
    },
    {
        "id": "e07362ff.ad189",
        "type": "api-current-state",
        "z": "4e909abe.0b62e4",
        "name": "temperature outdoor <= 5",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "5",
        "halt_if_type": "num",
        "halt_if_compare": "lte",
        "entity_id": "sensor.weather_station_temperature",
        "state_type": "num",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "sensor.buienradar_temperature",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 430,
        "y": 820,
        "wires": [
            [
                "66c60aad52f358c9"
            ],
            [
                "5ce9303e.d40b8"
            ]
        ]
    },
    {
        "id": "13e032a.2acbbcd",
        "type": "api-current-state",
        "z": "4e909abe.0b62e4",
        "name": "heating power basement <= 0%",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "0",
        "halt_if_type": "num",
        "halt_if_compare": "lte",
        "entity_id": "sensor.basement_heating",
        "state_type": "num",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "sensor.basement_heating",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 630,
        "y": 360,
        "wires": [
            [
                "8bd822f09fed1461"
            ],
            []
        ]
    },
    {
        "id": "eaba4c18.04007",
        "type": "api-current-state",
        "z": "4e909abe.0b62e4",
        "name": "state dewpoint living room ",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 1,
        "halt_if": "",
        "halt_if_type": "num",
        "halt_if_compare": "is",
        "entity_id": "sensor.living_room_thermal_comfort_dew_point",
        "state_type": "num",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "sensor.living_room_thermal_comfort_dew_point",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 410,
        "y": 200,
        "wires": [
            [
                "cbe4be0.ad6c74"
            ]
        ]
    },
    {
        "id": "46771664.f639e8",
        "type": "api-current-state",
        "z": "4e909abe.0b62e4",
        "name": "state ventilation position 2 off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.mechanical_ventilation_position_2",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "input_boolean.mechanical_ventilation_position_2",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 900,
        "y": 720,
        "wires": [
            [
                "955d17f64b59495b",
                "9516fa80f467b0df"
            ],
            []
        ]
    },
    {
        "id": "476cfb88.13ea74",
        "type": "api-current-state",
        "z": "4e909abe.0b62e4",
        "name": "state ventilation position 0 off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.mechanical_ventilation_position_0",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "input_boolean.mechanische_ventilatie_stand_uit",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 1480,
        "y": 200,
        "wires": [
            [
                "d38a7750.f848b8"
            ],
            []
        ]
    },
    {
        "id": "d38a7750.f848b8",
        "type": "api-current-state",
        "z": "4e909abe.0b62e4",
        "name": "state mechanical ventilation autonomous on",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.mechanical_ventilation_basement_autonomous",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "input_boolean.mechanische_ventilatie_autonoom",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 1790,
        "y": 200,
        "wires": [
            [
                "a04f173cc0c31e5f",
                "ac8eb8a0e6387131"
            ],
            []
        ]
    },
    {
        "id": "46d491e1.18c83",
        "type": "api-current-state",
        "z": "4e909abe.0b62e4",
        "g": "fe3d60102d671872",
        "name": "state mechanical ventilation autonomous off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.mechanical_ventilation_basement_autonomous",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "input_boolean.mechanische_ventilatie_autonoom",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 1010,
        "y": 1080,
        "wires": [
            [
                "f348457a7db9ec8d"
            ],
            []
        ]
    },
    {
        "id": "4e1d6c0e.bd6b44",
        "type": "api-current-state",
        "z": "4e909abe.0b62e4",
        "name": "autonomous is on",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.mechanical_ventilation_basement_autonomous",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "input_boolean.mechanische_ventilatie_autonoom",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 390,
        "y": 360,
        "wires": [
            [
                "13e032a.2acbbcd"
            ],
            []
        ]
    },
    {
        "id": "a0fea0e8.d9a66",
        "type": "server-state-changed",
        "z": "4e909abe.0b62e4",
        "name": "state heating power basement  > 5",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "sensor.basement_heating"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": true,
        "stateType": "num",
        "ifState": "5",
        "ifStateType": "num",
        "ifStateOperator": "gt",
        "outputOnlyOnStateChange": true,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 440,
        "y": 260,
        "wires": [
            [
                "466f23cc5674fa22"
            ],
            []
        ]
    },
    {
        "id": "defe3bd3.cdc4d8",
        "type": "server-state-changed",
        "z": "4e909abe.0b62e4",
        "name": "state group person",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 1,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "group.persons"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": true,
        "stateType": "str",
        "ifState": "",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 110,
        "y": 200,
        "wires": [
            [
                "eaba4c18.04007",
                "4e1d6c0e.bd6b44"
            ]
        ]
    },
    {
        "id": "4146f6c2.d77108",
        "type": "server-state-changed",
        "z": "4e909abe.0b62e4",
        "name": "state guest",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 1,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "input_boolean.guest"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": true,
        "stateType": "str",
        "ifState": "",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 140,
        "y": 260,
        "wires": [
            [
                "eaba4c18.04007",
                "4e1d6c0e.bd6b44"
            ]
        ]
    },
    {
        "id": "7fcc0134.64917",
        "type": "server-state-changed",
        "z": "4e909abe.0b62e4",
        "g": "fe3d60102d671872",
        "name": "state mechanical ventilation position 1 on",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "input_boolean.mechanical_ventilation_position_1"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": true,
        "stateType": "str",
        "ifState": "on",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 460,
        "y": 1080,
        "wires": [
            [
                "9e8a7cf7.88d51"
            ],
            []
        ]
    },
    {
        "id": "1a262b04.0f6c75",
        "type": "server-state-changed",
        "z": "4e909abe.0b62e4",
        "name": "state autonomous",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 1,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "input_boolean.mechanical_ventilation_basement_autonomous"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": true,
        "stateType": "str",
        "ifState": "",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 110,
        "y": 320,
        "wires": [
            [
                "eaba4c18.04007",
                "4e1d6c0e.bd6b44"
            ]
        ]
    },
    {
        "id": "f5c03471.585f88",
        "type": "server-state-changed",
        "z": "4e909abe.0b62e4",
        "g": "fe3d60102d671872",
        "name": "state mechanical ventilation position 2 on",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "input_boolean.mechanical_ventilation_position_2"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": true,
        "stateType": "str",
        "ifState": "on",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 460,
        "y": 1140,
        "wires": [
            [
                "5fba04f5.3847ac"
            ],
            []
        ]
    },
    {
        "id": "fce79366.4dc17",
        "type": "server-state-changed",
        "z": "4e909abe.0b62e4",
        "g": "fe3d60102d671872",
        "name": "state mechanical ventilation position 3 on",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "input_boolean.mechanical_ventilation_position_3"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": true,
        "stateType": "str",
        "ifState": "on",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 460,
        "y": 1200,
        "wires": [
            [
                "cbdc5416.0cbcd8"
            ],
            []
        ]
    },
    {
        "id": "9c749cb3.fd1b8",
        "type": "server-state-changed",
        "z": "4e909abe.0b62e4",
        "g": "fe3d60102d671872",
        "name": "state mechanical ventilation position 0 on",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "input_boolean.mechanical_ventilation_position_0"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": true,
        "stateType": "str",
        "ifState": "on",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 460,
        "y": 1260,
        "wires": [
            [
                "91b0640c.1b4d68"
            ],
            []
        ]
    },
    {
        "id": "dcb087f1.7dab78",
        "type": "server-state-changed",
        "z": "4e909abe.0b62e4",
        "g": "0b07577dad51457c",
        "name": "state mechanical ventilation position 0 on",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "input_boolean.mechanical_ventilation_position_0"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": false,
        "stateType": "str",
        "ifState": "on",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 460,
        "y": 1400,
        "wires": [
            [
                "ce6315d9d913f13b"
            ],
            []
        ]
    },
    {
        "id": "8e51a253.d8dde",
        "type": "server-state-changed",
        "z": "4e909abe.0b62e4",
        "g": "0b07577dad51457c",
        "name": "state mechanical ventilation position 1 on",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "input_boolean.mechanical_ventilation_position_1"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": false,
        "stateType": "str",
        "ifState": "on",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 460,
        "y": 1460,
        "wires": [
            [
                "5c4f378f8ceb12fe"
            ],
            []
        ]
    },
    {
        "id": "c83efd35.f7a48",
        "type": "server-state-changed",
        "z": "4e909abe.0b62e4",
        "g": "0b07577dad51457c",
        "name": "state mechanical ventilation position 2 on",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "input_boolean.mechanical_ventilation_position_2"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": false,
        "stateType": "str",
        "ifState": "on",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 460,
        "y": 1520,
        "wires": [
            [
                "05b9c0653cca602c"
            ],
            []
        ]
    },
    {
        "id": "cb035d1b.0d3f9",
        "type": "server-state-changed",
        "z": "4e909abe.0b62e4",
        "g": "0b07577dad51457c",
        "name": "state mechanical ventilation position 3 on",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "input_boolean.mechanical_ventilation_position_3"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": false,
        "stateType": "str",
        "ifState": "on",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 460,
        "y": 1580,
        "wires": [
            [
                "8695ac14d1f8e704"
            ],
            []
        ]
    },
    {
        "id": "9073f4d6575f634e",
        "type": "server-state-changed",
        "z": "4e909abe.0b62e4",
        "g": "031e4f7e9e7c26c2",
        "name": "input select mechenical ventialtion position",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 1,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "input_select.mechanical_ventilation_position"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": false,
        "stateType": "str",
        "ifState": "",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 460,
        "y": 1720,
        "wires": [
            [
                "4a4e04ddf8350706"
            ]
        ]
    },
    {
        "id": "8bd822f09fed1461",
        "type": "api-current-state",
        "z": "4e909abe.0b62e4",
        "name": "ah basement",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 1,
        "halt_if": "",
        "halt_if_type": "num",
        "halt_if_compare": "is",
        "entity_id": "sensor.basement_thermal_comfort_absolute_humidity",
        "state_type": "num",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "sensor.basement_thermal_comfort_absolute_humidity",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 850,
        "y": 360,
        "wires": [
            [
                "5c061fb5ace8d130"
            ]
        ]
    },
    {
        "id": "5c061fb5ace8d130",
        "type": "api-current-state",
        "z": "4e909abe.0b62e4",
        "name": "ah outdoor > ah basement",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "sensor.basement_thermal_comfort_absolute_humidity",
        "halt_if_type": "msg",
        "halt_if_compare": "gt",
        "entity_id": "sensor.outdoor_thermal_comfort_absolute_humidity",
        "state_type": "num",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "sensor.outdoor_thermal_comfort_absolute_humidity",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 420,
        "y": 460,
        "wires": [
            [
                "6f1eba702c95483a"
            ],
            [
                "0a547d31ef1d15c3"
            ]
        ]
    },
    {
        "id": "4b24c6f.ecf9538",
        "type": "template",
        "z": "4e909abe.0b62e4",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Stand laag is ingeschakeld. De absolute luchtvochtigheid in de souterrain is {{sensor.basement_humidity}} {{data.attributes.unit_of_measurement}}",
        "output": "str",
        "x": 1800,
        "y": 360,
        "wires": [
            []
        ]
    },
    {
        "id": "0861797165ba2006",
        "type": "api-current-state",
        "z": "4e909abe.0b62e4",
        "name": "rh basement < 60%",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "60",
        "halt_if_type": "num",
        "halt_if_compare": "lt",
        "entity_id": "sensor.basement_humidity",
        "state_type": "num",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "sensor.basement_humidity",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 450,
        "y": 760,
        "wires": [
            [
                "c7b58913.752ad8"
            ],
            [
                "e07362ff.ad189"
            ]
        ]
    },
    {
        "id": "b5d8b43d.943a18",
        "type": "api-current-state",
        "z": "4e909abe.0b62e4",
        "name": "state ventilation position 3 off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.mechanical_ventilation_position_3",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "input_boolean.mechanical_ventilation_position_3",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 900,
        "y": 900,
        "wires": [
            [
                "955d17f64b59495b",
                "c38645a953ed6080"
            ],
            []
        ]
    },
    {
        "id": "71e07fd77d2a4430",
        "type": "link in",
        "z": "4e909abe.0b62e4",
        "g": "0a1a2a6df765a339",
        "name": "link_in_1",
        "links": [
            "955d17f64b59495b",
            "ac8eb8a0e6387131",
            "f348457a7db9ec8d"
        ],
        "x": 1935,
        "y": 640,
        "wires": [
            [
                "6502d163268904d4",
                "febf6f9eab6e868d",
                "d6d0b5735ad8f20a",
                "399184be7531eb78",
                "67db220bfc8a732a"
            ]
        ]
    },
    {
        "id": "955d17f64b59495b",
        "type": "link out",
        "z": "4e909abe.0b62e4",
        "name": "link_out_notify_2",
        "mode": "link",
        "links": [
            "71e07fd77d2a4430"
        ],
        "x": 1165,
        "y": 520,
        "wires": []
    },
    {
        "id": "ac8eb8a0e6387131",
        "type": "link out",
        "z": "4e909abe.0b62e4",
        "name": "link_out_notify_4",
        "mode": "link",
        "links": [
            "71e07fd77d2a4430"
        ],
        "x": 2015,
        "y": 200,
        "wires": []
    },
    {
        "id": "f348457a7db9ec8d",
        "type": "link out",
        "z": "4e909abe.0b62e4",
        "g": "fe3d60102d671872",
        "name": "link_out_notify_2",
        "mode": "link",
        "links": [
            "71e07fd77d2a4430"
        ],
        "x": 1215,
        "y": 1080,
        "wires": []
    },
    {
        "id": "f1a1d029766aa4e3",
        "type": "api-current-state",
        "z": "4e909abe.0b62e4",
        "name": "barometer is rain",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "Rain",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "sensor.buienradar_barometer",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 450,
        "y": 700,
        "wires": [
            [
                "aa4bd88087bb3c75"
            ],
            [
                "0861797165ba2006"
            ]
        ]
    },
    {
        "id": "0cebcecc7266486e",
        "type": "api-current-state",
        "z": "4e909abe.0b62e4",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "pouring",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "weather.knmi_home",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 400,
        "y": 640,
        "wires": [
            [
                "aa4bd88087bb3c75"
            ],
            [
                "f1a1d029766aa4e3"
            ]
        ]
    },
    {
        "id": "6f1eba702c95483a",
        "type": "template",
        "z": "4e909abe.0b62e4",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "De laagste stand is automatisch ingeschakeld. Buiten is de absolute luchtvochtigheid hoger dan in de souterrain.",
        "output": "str",
        "x": 680,
        "y": 540,
        "wires": [
            [
                "bfdcba16.625018"
            ]
        ]
    },
    {
        "id": "aa4bd88087bb3c75",
        "type": "template",
        "z": "4e909abe.0b62e4",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "De laagste stand is automatisch ingeschakeld i.v.m. de regen.",
        "output": "str",
        "x": 680,
        "y": 620,
        "wires": [
            [
                "bfdcba16.625018"
            ]
        ]
    },
    {
        "id": "c7b58913.752ad8",
        "type": "template",
        "z": "4e909abe.0b62e4",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "De middelste stand is automatisch ingeschakeld. De luchtvochtigheid is {{sensor.basement_humidity}}%.",
        "output": "str",
        "x": 680,
        "y": 700,
        "wires": [
            [
                "46771664.f639e8"
            ]
        ]
    },
    {
        "id": "5ce9303e.d40b8",
        "type": "template",
        "z": "4e909abe.0b62e4",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "De hoogste stand is automatisch ingeschakeld.",
        "output": "str",
        "x": 680,
        "y": 900,
        "wires": [
            [
                "b5d8b43d.943a18"
            ]
        ]
    },
    {
        "id": "66c60aad52f358c9",
        "type": "template",
        "z": "4e909abe.0b62e4",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "De middelste stand is automatisch ingeschakeld. Buiten is het onder de 5 graden celcius.",
        "output": "str",
        "x": 680,
        "y": 740,
        "wires": [
            [
                "46771664.f639e8"
            ]
        ]
    },
    {
        "id": "0a547d31ef1d15c3",
        "type": "api-current-state",
        "z": "4e909abe.0b62e4",
        "name": "thermostat living room is heat",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "heat",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "climate.living_room",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 420,
        "y": 520,
        "wires": [
            [
                "8bd10319762b29f3"
            ],
            [
                "85ae6ea3879f4c7f"
            ]
        ]
    },
    {
        "id": "8bd10319762b29f3",
        "type": "template",
        "z": "4e909abe.0b62e4",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "De laagste stand is automatisch ingeschakeld, de verwarming in de woonkamer staat aan.",
        "output": "str",
        "x": 680,
        "y": 580,
        "wires": [
            [
                "bfdcba16.625018"
            ]
        ]
    },
    {
        "id": "85ae6ea3879f4c7f",
        "type": "api-current-state",
        "z": "4e909abe.0b62e4",
        "name": "heating power living room",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "0",
        "halt_if_type": "num",
        "halt_if_compare": "gt",
        "entity_id": "sensor.living_room_heating",
        "state_type": "num",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 430,
        "y": 580,
        "wires": [
            [
                "8bd10319762b29f3"
            ],
            [
                "0cebcecc7266486e"
            ]
        ]
    },
    {
        "id": "ce6315d9d913f13b",
        "type": "link out",
        "z": "4e909abe.0b62e4",
        "g": "0b07577dad51457c",
        "name": "link out 4",
        "mode": "link",
        "links": [
            "758a071297551463"
        ],
        "x": 675,
        "y": 1400,
        "wires": []
    },
    {
        "id": "5c4f378f8ceb12fe",
        "type": "link out",
        "z": "4e909abe.0b62e4",
        "g": "0b07577dad51457c",
        "name": "link out 5",
        "mode": "link",
        "links": [
            "5a0f579446bba30d"
        ],
        "x": 675,
        "y": 1460,
        "wires": []
    },
    {
        "id": "05b9c0653cca602c",
        "type": "link out",
        "z": "4e909abe.0b62e4",
        "g": "0b07577dad51457c",
        "name": "link out 6",
        "mode": "link",
        "links": [
            "bc20b4d1fe6b75e9"
        ],
        "x": 675,
        "y": 1520,
        "wires": []
    },
    {
        "id": "8695ac14d1f8e704",
        "type": "link out",
        "z": "4e909abe.0b62e4",
        "g": "0b07577dad51457c",
        "name": "link out 7",
        "mode": "link",
        "links": [
            "82d596336848e366"
        ],
        "x": 675,
        "y": 1580,
        "wires": []
    },
    {
        "id": "3074d7a3808bdec0",
        "type": "link out",
        "z": "4e909abe.0b62e4",
        "name": "link out 8",
        "mode": "link",
        "links": [
            "5a0f579446bba30d"
        ],
        "x": 1165,
        "y": 580,
        "wires": []
    },
    {
        "id": "9516fa80f467b0df",
        "type": "link out",
        "z": "4e909abe.0b62e4",
        "name": "link out 9",
        "mode": "link",
        "links": [
            "bc20b4d1fe6b75e9"
        ],
        "x": 1165,
        "y": 720,
        "wires": []
    },
    {
        "id": "c38645a953ed6080",
        "type": "link out",
        "z": "4e909abe.0b62e4",
        "name": "link out 10",
        "mode": "link",
        "links": [
            "82d596336848e366"
        ],
        "x": 1165,
        "y": 900,
        "wires": []
    },
    {
        "id": "a04f173cc0c31e5f",
        "type": "link out",
        "z": "4e909abe.0b62e4",
        "name": "link out 11",
        "mode": "link",
        "links": [
            "758a071297551463"
        ],
        "x": 2015,
        "y": 160,
        "wires": []
    },
    {
        "id": "8205d58f610c05d0",
        "type": "template",
        "z": "55da1471.fda0fc",
        "g": "faf17088fd1a6b16",
        "name": "notification id",
        "field": "notify.notification_id",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "vacuum",
        "output": "str",
        "x": 1990,
        "y": 900,
        "wires": [
            [
                "051f31139e799468"
            ]
        ]
    },
    {
        "id": "051f31139e799468",
        "type": "join",
        "z": "55da1471.fda0fc",
        "g": "faf17088fd1a6b16",
        "name": "",
        "mode": "custom",
        "build": "merged",
        "property": "notify",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": false,
        "timeout": "",
        "count": "4",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 2170,
        "y": 860,
        "wires": [
            [
                "57488cc36dcd2d00"
            ]
        ]
    },
    {
        "id": "57488cc36dcd2d00",
        "type": "link out",
        "z": "55da1471.fda0fc",
        "g": "faf17088fd1a6b16",
        "name": "link_out_notify_3",
        "mode": "link",
        "links": [
            "c4660dc11fb0e5b8"
        ],
        "x": 2265,
        "y": 860,
        "wires": []
    },
    {
        "id": "035b931bd0cea26e",
        "type": "template",
        "z": "55da1471.fda0fc",
        "g": "faf17088fd1a6b16",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Stofzuiger",
        "output": "str",
        "x": 1970,
        "y": 820,
        "wires": [
            [
                "051f31139e799468"
            ]
        ]
    },
    {
        "id": "c8bc013c45f3ae72",
        "type": "template",
        "z": "55da1471.fda0fc",
        "g": "faf17088fd1a6b16",
        "name": "icon",
        "field": "notify.icon",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "",
        "output": "str",
        "x": 1970,
        "y": 860,
        "wires": [
            [
                "051f31139e799468"
            ]
        ]
    },
    {
        "id": "0fa8b59e2735c07d",
        "type": "template",
        "z": "55da1471.fda0fc",
        "g": "deb17c414e79ec63",
        "name": "notification id",
        "field": "notify.notification_id",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "vacuum",
        "output": "str",
        "x": 1990,
        "y": 500,
        "wires": [
            [
                "ba409d3499824364"
            ]
        ]
    },
    {
        "id": "ba409d3499824364",
        "type": "join",
        "z": "55da1471.fda0fc",
        "g": "deb17c414e79ec63",
        "name": "",
        "mode": "custom",
        "build": "merged",
        "property": "notify",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": false,
        "timeout": "",
        "count": "4",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 2170,
        "y": 480,
        "wires": [
            [
                "c5f04c8242157305"
            ]
        ]
    },
    {
        "id": "c5f04c8242157305",
        "type": "link out",
        "z": "55da1471.fda0fc",
        "g": "deb17c414e79ec63",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "8ed3b0974336e55b",
            "aeee8468f3d1b7ad"
        ],
        "x": 2265,
        "y": 480,
        "wires": []
    },
    {
        "id": "dec04d7f3b819fb2",
        "type": "template",
        "z": "55da1471.fda0fc",
        "g": "deb17c414e79ec63",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Stofzuiger",
        "output": "str",
        "x": 1970,
        "y": 420,
        "wires": [
            [
                "ba409d3499824364"
            ]
        ]
    },
    {
        "id": "f60ecb3be0ebc2af",
        "type": "template",
        "z": "55da1471.fda0fc",
        "g": "deb17c414e79ec63",
        "name": "icon",
        "field": "notify.icon",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "",
        "output": "str",
        "x": 1970,
        "y": 460,
        "wires": [
            [
                "ba409d3499824364"
            ]
        ]
    },
    {
        "id": "0e83125ead481334",
        "type": "template",
        "z": "55da1471.fda0fc",
        "g": "33fea7faee8e1f82",
        "name": "notification id",
        "field": "notify.notification_id",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "vacuum",
        "output": "str",
        "x": 1970,
        "y": 720,
        "wires": [
            [
                "b5cc0d26cf3e7ab2"
            ]
        ]
    },
    {
        "id": "09d4cdb039e852de",
        "type": "change",
        "z": "55da1471.fda0fc",
        "g": "33fea7faee8e1f82",
        "name": "action titles",
        "rules": [
            {
                "t": "set",
                "p": "notify.action_1_title",
                "pt": "msg",
                "to": "JA",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "notify.action_2_title",
                "pt": "msg",
                "to": "NEE",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "notify.action_1",
                "pt": "msg",
                "to": "IGNORE",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "notify.action_2",
                "pt": "msg",
                "to": "VACUUM_AUTOCLEANING_OFF",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1970,
        "y": 640,
        "wires": [
            [
                "b5cc0d26cf3e7ab2"
            ]
        ]
    },
    {
        "id": "b5cc0d26cf3e7ab2",
        "type": "join",
        "z": "55da1471.fda0fc",
        "g": "33fea7faee8e1f82",
        "name": "",
        "mode": "custom",
        "build": "merged",
        "property": "notify",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": false,
        "timeout": "",
        "count": "8",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 2170,
        "y": 640,
        "wires": [
            [
                "d7f92782a71d3837"
            ]
        ]
    },
    {
        "id": "d7f92782a71d3837",
        "type": "link out",
        "z": "55da1471.fda0fc",
        "g": "33fea7faee8e1f82",
        "name": "link_out_notify_2",
        "mode": "link",
        "links": [
            "c76d311bb4b6991b",
            "d1753081ba6b4004"
        ],
        "x": 2265,
        "y": 640,
        "wires": []
    },
    {
        "id": "d5ae8df68946471a",
        "type": "template",
        "z": "55da1471.fda0fc",
        "g": "33fea7faee8e1f82",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Stofzuiger",
        "output": "str",
        "x": 1950,
        "y": 600,
        "wires": [
            [
                "b5cc0d26cf3e7ab2"
            ]
        ]
    },
    {
        "id": "8f3e39fd9d879f86",
        "type": "template",
        "z": "55da1471.fda0fc",
        "g": "33fea7faee8e1f82",
        "name": "icon",
        "field": "notify.icon",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "",
        "output": "str",
        "x": 1950,
        "y": 680,
        "wires": [
            [
                "b5cc0d26cf3e7ab2"
            ]
        ]
    },
    {
        "id": "c8eb1592.520518",
        "type": "switch",
        "z": "55da1471.fda0fc",
        "name": "on / off ",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "on",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "off",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 330,
        "y": 420,
        "wires": [
            [
                "252893d959f094a0"
            ],
            [
                "87dec77c.9877c8"
            ]
        ]
    },
    {
        "id": "37466c93.d14b84",
        "type": "switch",
        "z": "55da1471.fda0fc",
        "name": "home / ! home",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "home",
                "vt": "str"
            },
            {
                "t": "neq",
                "v": "home",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 320,
        "y": 300,
        "wires": [
            [
                "1351cb3a.cc7995"
            ],
            [
                "6242c868ff3985eb"
            ]
        ]
    },
    {
        "id": "85128ba5.bef108",
        "type": "inject",
        "z": "55da1471.fda0fc",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "00 02 * * *",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "02:00 Payload 'off'",
        "payloadType": "str",
        "x": 110,
        "y": 240,
        "wires": [
            [
                "787efd3b.bd13e4"
            ]
        ]
    },
    {
        "id": "8e7bbae.f382348",
        "type": "comment",
        "z": "55da1471.fda0fc",
        "name": "robot vacuum cleaner",
        "info": "",
        "x": 120,
        "y": 20,
        "wires": []
    },
    {
        "id": "c643d4d4.2baf98",
        "type": "template",
        "z": "55da1471.fda0fc",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Stofzuiger {{data.attributes.friendly_name}} is gestart.",
        "output": "str",
        "x": 1700,
        "y": 420,
        "wires": [
            [
                "60b0a5eab5b0a9d6"
            ]
        ]
    },
    {
        "id": "734801f342d9257e",
        "type": "switch",
        "z": "55da1471.fda0fc",
        "name": "uptime is above 1 min",
        "property": "data.timeSinceChangedMs",
        "propertyType": "msg",
        "rules": [
            {
                "t": "gt",
                "v": "60000",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 640,
        "y": 320,
        "wires": [
            [
                "353d562e.3dd04a"
            ]
        ]
    },
    {
        "id": "035179dc3e7fddad",
        "type": "comment",
        "z": "55da1471.fda0fc",
        "name": "listen to vacuum start clean \"no\" answer event ",
        "info": "",
        "x": 210,
        "y": 800,
        "wires": []
    },
    {
        "id": "5f66a79ec51e1612",
        "type": "comment",
        "z": "55da1471.fda0fc",
        "name": "turn back on auto cleaning at 02:00",
        "info": "",
        "x": 180,
        "y": 200,
        "wires": []
    },
    {
        "id": "86f24a287db20768",
        "type": "template",
        "z": "55da1471.fda0fc",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Moet over 10 minuten de stofzuiger starten?",
        "output": "str",
        "x": 1700,
        "y": 640,
        "wires": [
            [
                "237a19020921825d"
            ]
        ]
    },
    {
        "id": "71847fb30d3084f7",
        "type": "template",
        "z": "55da1471.fda0fc",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Over tien minuten start de stofzuiger.",
        "output": "str",
        "x": 1700,
        "y": 840,
        "wires": [
            [
                "07d3b997feaf3f7b"
            ]
        ]
    },
    {
        "id": "64e882fa1c38e011",
        "type": "template",
        "z": "55da1471.fda0fc",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Stofzuiger {{data.attributes.friendly_name}} kon niet worden gestart.",
        "output": "str",
        "x": 1700,
        "y": 460,
        "wires": [
            [
                "60b0a5eab5b0a9d6"
            ]
        ]
    },
    {
        "id": "787efd3b.bd13e4",
        "type": "api-call-service",
        "z": "55da1471.fda0fc",
        "name": "turn on auto cleaning",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "input_boolean.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_boolean.auto_cleaning"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "input_boolean",
        "service": "turn_on",
        "x": 320,
        "y": 240,
        "wires": [
            []
        ]
    },
    {
        "id": "a52152b0.f593b",
        "type": "api-call-service",
        "z": "55da1471.fda0fc",
        "name": "start vacuum",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "vacuum.start",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "vacuum.roborock_s6_pure"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "vacuum",
        "service": "start",
        "x": 1330,
        "y": 420,
        "wires": [
            [
                "700ffa065a57643e"
            ]
        ]
    },
    {
        "id": "2a9f3bf0.575684",
        "type": "api-call-service",
        "z": "55da1471.fda0fc",
        "name": "return to base",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "vacuum.return_to_base",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "vacuum.roborock_s6_pure"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "vacuum",
        "service": "return_to_base",
        "x": 1360,
        "y": 280,
        "wires": [
            []
        ]
    },
    {
        "id": "a098e71.e0db718",
        "type": "api-call-service",
        "z": "55da1471.fda0fc",
        "name": "turn off auto cleaning",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "input_boolean.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_boolean.auto_cleaning"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "input_boolean",
        "service": "turn_off",
        "x": 700,
        "y": 840,
        "wires": [
            []
        ]
    },
    {
        "id": "65eac4d0c7d4907d",
        "type": "api-call-service",
        "z": "55da1471.fda0fc",
        "name": "start vacuum",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "vacuum.start",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "vacuum.roborock_s55"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "vacuum",
        "service": "start",
        "x": 1330,
        "y": 480,
        "wires": [
            [
                "12b21cf1b9684b45"
            ]
        ]
    },
    {
        "id": "60f6cd3f.56a0f4",
        "type": "api-current-state",
        "z": "55da1471.fda0fc",
        "name": "auto cleaning is on",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.auto_cleaning",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 910,
        "y": 460,
        "wires": [
            [
                "eccced83.41688",
                "564da01f0c297b52"
            ],
            []
        ]
    },
    {
        "id": "1351cb3a.cc7995",
        "type": "api-current-state",
        "z": "55da1471.fda0fc",
        "name": "state is not docked",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "docked",
        "halt_if_type": "str",
        "halt_if_compare": "is_not",
        "entity_id": "vacuum.roborock_s6_pure",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 950,
        "y": 280,
        "wires": [
            [
                "32d50dd7.16e062"
            ],
            []
        ]
    },
    {
        "id": "87dec77c.9877c8",
        "type": "api-current-state",
        "z": "55da1471.fda0fc",
        "name": "state group persons is home",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "home",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "group.persons",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 540,
        "y": 440,
        "wires": [
            [],
            [
                "353d562e.3dd04a"
            ]
        ]
    },
    {
        "id": "353d562e.3dd04a",
        "type": "api-current-state",
        "z": "55da1471.fda0fc",
        "name": "guest is off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.guest",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 930,
        "y": 360,
        "wires": [
            [
                "60f6cd3f.56a0f4"
            ],
            []
        ]
    },
    {
        "id": "eccced83.41688",
        "type": "api-current-state",
        "z": "55da1471.fda0fc",
        "name": "vacuum is not cleaning",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "cleaning",
        "halt_if_type": "str",
        "halt_if_compare": "is_not",
        "entity_id": "vacuum.roborock_s6_pure",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 1140,
        "y": 420,
        "wires": [
            [
                "a52152b0.f593b"
            ],
            []
        ]
    },
    {
        "id": "32d50dd7.16e062",
        "type": "api-current-state",
        "z": "55da1471.fda0fc",
        "name": "state is not returning",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "returning",
        "halt_if_type": "str",
        "halt_if_compare": "is_not",
        "entity_id": "vacuum.roborock_s6_pure",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 1160,
        "y": 280,
        "wires": [
            [
                "2a9f3bf0.575684"
            ],
            []
        ]
    },
    {
        "id": "1c372f1.535d7d1",
        "type": "api-current-state",
        "z": "55da1471.fda0fc",
        "name": "auto cleaning is on",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.auto_cleaning",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 290,
        "y": 580,
        "wires": [
            [
                "c5ad7ab8.30fda8"
            ],
            []
        ]
    },
    {
        "id": "c5ad7ab8.30fda8",
        "type": "api-current-state",
        "z": "55da1471.fda0fc",
        "name": "vacuum is not cleaning",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "cleaning",
        "halt_if_type": "str",
        "halt_if_compare": "is_not",
        "entity_id": "vacuum.roborock_s6_pure",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 500,
        "y": 580,
        "wires": [
            [
                "934221e4.b2d0d",
                "3cf95b5d.b388f4",
                "86f24a287db20768"
            ],
            []
        ]
    },
    {
        "id": "155ef739.0e1de9",
        "type": "api-current-state",
        "z": "55da1471.fda0fc",
        "name": "auto cleaning is on",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.auto_cleaning",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 490,
        "y": 740,
        "wires": [
            [
                "a098e71.e0db718"
            ],
            []
        ]
    },
    {
        "id": "6242c868ff3985eb",
        "type": "api-current-state",
        "z": "55da1471.fda0fc",
        "name": "uptime",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 1,
        "halt_if": "",
        "halt_if_type": "num",
        "halt_if_compare": "is",
        "entity_id": "sensor.uptime",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 470,
        "y": 320,
        "wires": [
            [
                "734801f342d9257e"
            ]
        ]
    },
    {
        "id": "564da01f0c297b52",
        "type": "api-current-state",
        "z": "55da1471.fda0fc",
        "name": "vacuum is not cleaning",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "cleaning",
        "halt_if_type": "str",
        "halt_if_compare": "is_not",
        "entity_id": "vacuum.roborock_s55",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 1140,
        "y": 480,
        "wires": [
            [
                "65eac4d0c7d4907d"
            ],
            []
        ]
    },
    {
        "id": "cbb046587922e1c0",
        "type": "server-events",
        "z": "55da1471.fda0fc",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 3,
        "exposeAsEntityConfig": "",
        "eventType": "mobile_app_notification_action",
        "eventData": "{\"action\":\"VACUUM_AUTOCLEANING_OFF\"}",
        "waitForRunning": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "$outputData(\"eventData\").event_type",
                "valueType": "jsonata"
            }
        ],
        "event_type": "",
        "x": 170,
        "y": 840,
        "wires": [
            [
                "a098e71.e0db718"
            ]
        ]
    },
    {
        "id": "b7cf63f8.77958",
        "type": "server-state-changed",
        "z": "55da1471.fda0fc",
        "name": "state group persons",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 1,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "group.persons"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": false,
        "stateType": "str",
        "ifState": "",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 110,
        "y": 300,
        "wires": [
            [
                "37466c93.d14b84"
            ]
        ]
    },
    {
        "id": "b6290ea8.c1e6f",
        "type": "server-state-changed",
        "z": "55da1471.fda0fc",
        "name": "state guest ",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 1,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "input_boolean.guest"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": false,
        "stateType": "str",
        "ifState": "",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 80,
        "y": 420,
        "wires": [
            [
                "c8eb1592.520518"
            ]
        ]
    },
    {
        "id": "173b8941.c73507",
        "type": "server-state-changed",
        "z": "55da1471.fda0fc",
        "name": "sleep mode is on",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "input_boolean.sleep_mode"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": false,
        "stateType": "str",
        "ifState": "on",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 100,
        "y": 580,
        "wires": [
            [
                "1c372f1.535d7d1"
            ],
            []
        ]
    },
    {
        "id": "1494387d.fca0a8",
        "type": "server-state-changed",
        "z": "55da1471.fda0fc",
        "name": "vacuum state is cleaning",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "vacuum.roborock_s6_pure"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": true,
        "stateType": "str",
        "ifState": "cleaning",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 130,
        "y": 740,
        "wires": [
            [
                "272212f1.26bb6e"
            ],
            []
        ]
    },
    {
        "id": "272212f1.26bb6e",
        "type": "ha-wait-until",
        "z": "55da1471.fda0fc",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "entities": {
            "entity": [
                "vacuum.roborock_s6_pure"
            ],
            "substring": [],
            "regex": []
        },
        "property": "state",
        "comparator": "is",
        "value": "returning",
        "valueType": "str",
        "timeout": "90",
        "timeoutType": "num",
        "timeoutUnits": "minutes",
        "checkCurrentState": true,
        "blockInputOverrides": true,
        "outputProperties": [],
        "x": 320,
        "y": 740,
        "wires": [
            [
                "155ef739.0e1de9"
            ],
            []
        ]
    },
    {
        "id": "700ffa065a57643e",
        "type": "ha-wait-until",
        "z": "55da1471.fda0fc",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "entities": {
            "entity": [
                "vacuum.roborock_s6_pure"
            ],
            "substring": [],
            "regex": []
        },
        "property": "state",
        "comparator": "is",
        "value": "cleaning",
        "valueType": "str",
        "timeout": "2",
        "timeoutType": "num",
        "timeoutUnits": "minutes",
        "checkCurrentState": true,
        "blockInputOverrides": true,
        "outputProperties": [],
        "entityLocation": "data",
        "entityLocationType": "none",
        "x": 1500,
        "y": 420,
        "wires": [
            [
                "c643d4d4.2baf98"
            ],
            [
                "64e882fa1c38e011"
            ]
        ]
    },
    {
        "id": "12b21cf1b9684b45",
        "type": "ha-wait-until",
        "z": "55da1471.fda0fc",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "entities": {
            "entity": [
                "vacuum.roborock_s55"
            ],
            "substring": [],
            "regex": []
        },
        "property": "state",
        "comparator": "is",
        "value": "cleaning",
        "valueType": "str",
        "timeout": "2",
        "timeoutType": "num",
        "timeoutUnits": "minutes",
        "checkCurrentState": true,
        "blockInputOverrides": true,
        "outputProperties": [],
        "entityLocation": "data",
        "entityLocationType": "none",
        "x": 1500,
        "y": 480,
        "wires": [
            [
                "c643d4d4.2baf98"
            ],
            [
                "64e882fa1c38e011"
            ]
        ]
    },
    {
        "id": "934221e4.b2d0d",
        "type": "stoptimer",
        "z": "55da1471.fda0fc",
        "duration": "10",
        "units": "Minute",
        "payloadtype": "num",
        "payloadval": "0",
        "name": "",
        "x": 720,
        "y": 520,
        "wires": [
            [
                "60f6cd3f.56a0f4"
            ],
            []
        ]
    },
    {
        "id": "3cf95b5d.b388f4",
        "type": "stoptimer",
        "z": "55da1471.fda0fc",
        "duration": "4",
        "units": "Second",
        "payloadtype": "num",
        "payloadval": "0",
        "name": "",
        "x": 720,
        "y": 640,
        "wires": [
            [
                "71847fb30d3084f7"
            ],
            []
        ]
    },
    {
        "id": "144ebe3499c86989",
        "type": "catch",
        "z": "55da1471.fda0fc",
        "g": "7a6662144d2d489c",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "dbd017147d154790"
            ]
        ]
    },
    {
        "id": "dbd017147d154790",
        "type": "template",
        "z": "55da1471.fda0fc",
        "g": "7a6662144d2d489c",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "74b269c1337cbb9d"
            ]
        ]
    },
    {
        "id": "4d1450df9aae47f1",
        "type": "link out",
        "z": "55da1471.fda0fc",
        "g": "7a6662144d2d489c",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 475,
        "y": 80,
        "wires": []
    },
    {
        "id": "74b269c1337cbb9d",
        "type": "template",
        "z": "55da1471.fda0fc",
        "g": "7a6662144d2d489c",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "4d1450df9aae47f1"
            ]
        ]
    },
    {
        "id": "af7eaeb691b4b689",
        "type": "change",
        "z": "29a2e1dd05ecbf80",
        "name": "",
        "rules": [
            {
                "t": "change",
                "p": "payload",
                "pt": "msg",
                "from": "input_boolean.vacuum_hall",
                "fromt": "str",
                "to": "16",
                "tot": "num"
            },
            {
                "t": "change",
                "p": "payload",
                "pt": "msg",
                "from": "input_boolean.vacuum_living_room",
                "fromt": "str",
                "to": "17",
                "tot": "num"
            },
            {
                "t": "change",
                "p": "payload",
                "pt": "msg",
                "from": "input_boolean.vacuum_dining_room",
                "fromt": "str",
                "to": "18",
                "tot": "num"
            },
            {
                "t": "change",
                "p": "payload",
                "pt": "msg",
                "from": "input_boolean.vacuum_kitchen",
                "fromt": "str",
                "to": "19",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 660,
        "y": 160,
        "wires": [
            [
                "6fc6228af058839b"
            ]
        ]
    },
    {
        "id": "6fc6228af058839b",
        "type": "join",
        "z": "29a2e1dd05ecbf80",
        "name": "",
        "mode": "auto",
        "build": "object",
        "property": "payload",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": "false",
        "timeout": "",
        "count": "",
        "reduceRight": false,
        "x": 830,
        "y": 160,
        "wires": [
            [
                "458382747fd06019"
            ]
        ]
    },
    {
        "id": "02cc03fa2fa9b1c1",
        "type": "change",
        "z": "29a2e1dd05ecbf80",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "payload.entity_id",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 480,
        "y": 160,
        "wires": [
            [
                "af7eaeb691b4b689",
                "92f37dfc24d886b9"
            ]
        ]
    },
    {
        "id": "458382747fd06019",
        "type": "function",
        "z": "29a2e1dd05ecbf80",
        "name": "create service call",
        "func": "msg.payload = {\n    \"domain\": \"vacuum\",\n    \"service\": \"send_command\",\n    \"target\": {\n        \"entity_id\": \"vacuum.roborock_s6_pure\"\n    },\n    \"data\": {\n        \"command\": \"app_segment_clean\",\n        \"params\": [\n            {\n                \"segments\": msg.payload\n            }\n        ]\n    }\n};\nreturn msg;\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 990,
        "y": 160,
        "wires": [
            [
                "3a3544e58c336443"
            ]
        ]
    },
    {
        "id": "32ee19ec383e0543",
        "type": "comment",
        "z": "29a2e1dd05ecbf80",
        "name": "clean selected rooms",
        "info": "",
        "x": 120,
        "y": 20,
        "wires": []
    },
    {
        "id": "0abec8ca261199bd",
        "type": "function",
        "z": "29a2e1dd05ecbf80",
        "name": "create service call",
        "func": "msg.payload = {\n    \"domain\": \"vacuum\",\n    \"service\": \"send_command\",\n    \"target\": {\n        \"entity_id\": \"vacuum.roborock_s55\"\n    },\n    \"data\": {\n        \"command\": \"app_segment_clean\",\n        \"params\": [\n            {\n                \"segments\": msg.payload\n            }\n        ]\n    }\n};\nreturn msg;\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 990,
        "y": 200,
        "wires": [
            [
                "3a3544e58c336443"
            ]
        ]
    },
    {
        "id": "1b709ceb0d69c831",
        "type": "join",
        "z": "29a2e1dd05ecbf80",
        "name": "",
        "mode": "auto",
        "build": "object",
        "property": "payload",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": "false",
        "timeout": "",
        "count": "",
        "reduceRight": false,
        "x": 830,
        "y": 200,
        "wires": [
            [
                "0abec8ca261199bd"
            ]
        ]
    },
    {
        "id": "92f37dfc24d886b9",
        "type": "change",
        "z": "29a2e1dd05ecbf80",
        "name": "",
        "rules": [
            {
                "t": "change",
                "p": "payload",
                "pt": "msg",
                "from": "input_boolean.vacuum_laundry_room",
                "fromt": "str",
                "to": "16",
                "tot": "num"
            },
            {
                "t": "change",
                "p": "payload",
                "pt": "msg",
                "from": "input_boolean.vacuum_souterrain",
                "fromt": "str",
                "to": "1",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 660,
        "y": 200,
        "wires": [
            [
                "1b709ceb0d69c831"
            ]
        ]
    },
    {
        "id": "3a3544e58c336443",
        "type": "api-call-service",
        "z": "29a2e1dd05ecbf80",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [],
        "labelId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "",
        "service": "",
        "x": 1190,
        "y": 160,
        "wires": [
            [
                "336d51b627dd3548"
            ]
        ]
    },
    {
        "id": "28a3562272f5e8bd",
        "type": "api-call-service",
        "z": "29a2e1dd05ecbf80",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "input_boolean.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "{{payload.entity_id}}"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "input_boolean",
        "service": "turn_off",
        "x": 1680,
        "y": 160,
        "wires": [
            []
        ]
    },
    {
        "id": "72f53719cdbc9455",
        "type": "server-state-changed",
        "z": "29a2e1dd05ecbf80",
        "name": "room cleaning button",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 1,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "input_button.vacuum_start_room_cleaning"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": false,
        "stateType": "str",
        "ifState": "",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 120,
        "y": 160,
        "wires": [
            [
                "a3633aab59b75d5e"
            ]
        ]
    },
    {
        "id": "a3633aab59b75d5e",
        "type": "ha-get-entities",
        "z": "29a2e1dd05ecbf80",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 1,
        "rules": [
            {
                "property": "entity_id",
                "logic": "starts_with",
                "value": "input_boolean.vacuum",
                "valueType": "str"
            },
            {
                "property": "state",
                "logic": "is",
                "value": "on",
                "valueType": "str"
            }
        ],
        "outputType": "split",
        "outputEmptyResults": false,
        "outputLocationType": "msg",
        "outputLocation": "payload",
        "outputResultsCount": 1,
        "x": 310,
        "y": 160,
        "wires": [
            [
                "02cc03fa2fa9b1c1"
            ]
        ]
    },
    {
        "id": "11adb81ae9e6f5e7",
        "type": "ha-get-entities",
        "z": "29a2e1dd05ecbf80",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 1,
        "rules": [
            {
                "property": "entity_id",
                "logic": "starts_with",
                "value": "input_boolean.vacuum",
                "valueType": "str"
            },
            {
                "property": "state",
                "logic": "is",
                "value": "on",
                "valueType": "str"
            }
        ],
        "outputType": "split",
        "outputEmptyResults": false,
        "outputLocationType": "msg",
        "outputLocation": "payload",
        "outputResultsCount": 1,
        "x": 1490,
        "y": 160,
        "wires": [
            [
                "28a3562272f5e8bd"
            ]
        ]
    },
    {
        "id": "336d51b627dd3548",
        "type": "ha-wait-until",
        "z": "29a2e1dd05ecbf80",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 1,
        "entities": {
            "entity": [],
            "substring": [],
            "regex": [
                "^vacuum."
            ]
        },
        "property": "state",
        "comparator": "is",
        "value": "cleaning",
        "valueType": "str",
        "timeout": "0",
        "timeoutType": "num",
        "timeoutUnits": "seconds",
        "checkCurrentState": true,
        "blockInputOverrides": true,
        "outputProperties": [],
        "entityLocation": "data",
        "entityLocationType": "none",
        "x": 1340,
        "y": 160,
        "wires": [
            [
                "11adb81ae9e6f5e7"
            ]
        ]
    },
    {
        "id": "ed749a88cd5bd834",
        "type": "catch",
        "z": "29a2e1dd05ecbf80",
        "g": "7c9dc6f46ee8eaaf",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "89d0c5bcdd39fd4c"
            ]
        ]
    },
    {
        "id": "89d0c5bcdd39fd4c",
        "type": "template",
        "z": "29a2e1dd05ecbf80",
        "g": "7c9dc6f46ee8eaaf",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "e33e1e962d57e077"
            ]
        ]
    },
    {
        "id": "b7a8e5cc57ee6ca0",
        "type": "link out",
        "z": "29a2e1dd05ecbf80",
        "g": "7c9dc6f46ee8eaaf",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 475,
        "y": 80,
        "wires": []
    },
    {
        "id": "e33e1e962d57e077",
        "type": "template",
        "z": "29a2e1dd05ecbf80",
        "g": "7c9dc6f46ee8eaaf",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "b7a8e5cc57ee6ca0"
            ]
        ]
    },
    {
        "id": "1cc93bcf43cdbf60",
        "type": "comment",
        "z": "03ed0365a1543556",
        "name": "Turn on or off tablet charging based on battery level",
        "info": "",
        "x": 210,
        "y": 20,
        "wires": []
    },
    {
        "id": "b9298a615e99a23f",
        "type": "switch",
        "z": "03ed0365a1543556",
        "name": "battery level",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "gte",
                "v": "80",
                "vt": "num"
            },
            {
                "t": "lt",
                "v": "30",
                "vt": "num"
            },
            {
                "t": "lt",
                "v": "20",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "NaN",
                "vt": "str"
            },
            {
                "t": "null"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 5,
        "x": 330,
        "y": 180,
        "wires": [
            [
                "0b118ac6e884fc56"
            ],
            [
                "077067e28d6d59b4"
            ],
            [
                "c55acb1486d56163"
            ],
            [
                "077067e28d6d59b4"
            ],
            [
                "077067e28d6d59b4"
            ]
        ]
    },
    {
        "id": "c55acb1486d56163",
        "type": "template",
        "z": "03ed0365a1543556",
        "name": "message",
        "field": "message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "{{data.new_state.attributes.friendly_name}} is {{payload}}%",
        "output": "str",
        "x": 520,
        "y": 220,
        "wires": [
            [
                "30b5e775d2659181"
            ]
        ]
    },
    {
        "id": "077067e28d6d59b4",
        "type": "api-call-service",
        "z": "03ed0365a1543556",
        "name": "turn on wall tablet charger",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "switch.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "switch.cv_closet_walltablet_charger"
        ],
        "labelId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "switch",
        "service": "turn_on",
        "x": 570,
        "y": 280,
        "wires": [
            []
        ]
    },
    {
        "id": "0b118ac6e884fc56",
        "type": "api-call-service",
        "z": "03ed0365a1543556",
        "name": "turn off wall tablet charger",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "switch.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "switch.cv_closet_walltablet_charger"
        ],
        "labelId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "switch",
        "service": "turn_off",
        "x": 570,
        "y": 160,
        "wires": [
            []
        ]
    },
    {
        "id": "30b5e775d2659181",
        "type": "api-call-service",
        "z": "03ed0365a1543556",
        "name": "slack message",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "notify.theautomation",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [],
        "labelId": [],
        "data": "{\"message\":\"Battery\",\"target\":\"#home-assistant\",\"title\":\"Battery\",\"data\":{\"blocks\":[{\"type\":\"header\",\"text\":{\"type\":\"plain_text\",\"text\":\"Tablet :battery:\"}},{\"type\":\"section\",\"fields\":[{\"type\":\"mrkdwn\",\"text\":\"{{{message}}}\"}]}]}}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "notify",
        "service": "theautomation",
        "x": 680,
        "y": 220,
        "wires": [
            []
        ]
    },
    {
        "id": "13ac101837378eb8",
        "type": "server-state-changed",
        "z": "03ed0365a1543556",
        "name": "wall tablet battery level",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 1,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "sensor.galaxy_tab_a8_battery"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": true,
        "stateType": "num",
        "ifState": "",
        "ifStateType": "num",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": false,
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            }
        ],
        "x": 120,
        "y": 160,
        "wires": [
            [
                "b9298a615e99a23f",
                "3217ced2069523e7"
            ]
        ]
    },
    {
        "id": "3217ced2069523e7",
        "type": "stoptimer",
        "z": "03ed0365a1543556",
        "duration": "1",
        "units": "Hour",
        "payloadtype": "num",
        "payloadval": "0",
        "name": "",
        "x": 330,
        "y": 280,
        "wires": [
            [
                "077067e28d6d59b4"
            ],
            []
        ]
    },
    {
        "id": "874b60377e719fde",
        "type": "catch",
        "z": "03ed0365a1543556",
        "g": "53dc0a23c8426878",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "387845d9698cbe12"
            ]
        ]
    },
    {
        "id": "387845d9698cbe12",
        "type": "template",
        "z": "03ed0365a1543556",
        "g": "53dc0a23c8426878",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "dfa305742a8fe0b2"
            ]
        ]
    },
    {
        "id": "7bf74cbdd5a69c4a",
        "type": "link out",
        "z": "03ed0365a1543556",
        "g": "53dc0a23c8426878",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 475,
        "y": 80,
        "wires": []
    },
    {
        "id": "dfa305742a8fe0b2",
        "type": "template",
        "z": "03ed0365a1543556",
        "g": "53dc0a23c8426878",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "7bf74cbdd5a69c4a"
            ]
        ]
    },
    {
        "id": "d4d19ad1bc94c25a",
        "type": "template",
        "z": "39bdcb9ed819fc87",
        "g": "959cc8d22399a3c9",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "008e4e3d5eb1c73a"
            ]
        ]
    },
    {
        "id": "008e4e3d5eb1c73a",
        "type": "link out",
        "z": "39bdcb9ed819fc87",
        "g": "959cc8d22399a3c9",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 475,
        "y": 80,
        "wires": []
    },
    {
        "id": "ab5ff3a4a505c122",
        "type": "template",
        "z": "39bdcb9ed819fc87",
        "g": "959cc8d22399a3c9",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "d4d19ad1bc94c25a"
            ]
        ]
    },
    {
        "id": "259d9bad9d37b072",
        "type": "catch",
        "z": "39bdcb9ed819fc87",
        "g": "959cc8d22399a3c9",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "ab5ff3a4a505c122"
            ]
        ]
    },
    {
        "id": "6a245f91bfd4669f",
        "type": "comment",
        "z": "39bdcb9ed819fc87",
        "name": "custom sensor that translate weather code dutch to english so the color can be used to set icon color in frontend",
        "info": "",
        "x": 400,
        "y": 20,
        "wires": []
    },
    {
        "id": "4226161bbc5e814e",
        "type": "function",
        "z": "39bdcb9ed819fc87",
        "name": "setup translation request",
        "func": "var text = msg.payload;\nvar source = \"nl\";\nvar target = \"en\";\n\nmsg.url = `https://api.mymemory.translated.net/get?q=${encodeURIComponent(text)}&langpair=${source}|${target}`;\n\nreturn msg;",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 330,
        "y": 160,
        "wires": [
            [
                "60a83f3d93926307"
            ]
        ]
    },
    {
        "id": "60a83f3d93926307",
        "type": "http request",
        "z": "39bdcb9ed819fc87",
        "name": "api call",
        "method": "GET",
        "ret": "obj",
        "paytoqs": "ignore",
        "url": "",
        "tls": "",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "",
        "senderr": false,
        "headers": [],
        "x": 520,
        "y": 160,
        "wires": [
            [
                "e2249f97e8ed5340"
            ]
        ]
    },
    {
        "id": "3783939d485f6ea8",
        "type": "server-state-changed",
        "z": "39bdcb9ed819fc87",
        "name": "knmi weather code",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 1,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "sensor.knmi_weather_code"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": true,
        "stateType": "str",
        "ifState": "",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": false,
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            }
        ],
        "x": 110,
        "y": 160,
        "wires": [
            [
                "4226161bbc5e814e"
            ]
        ]
    },
    {
        "id": "e2249f97e8ed5340",
        "type": "ha-sensor",
        "z": "39bdcb9ed819fc87",
        "name": "weather code translated",
        "entityConfig": "60731eead34cfb6b",
        "version": 0,
        "state": "payload.responseData.translatedText",
        "stateType": "msg",
        "attributes": [],
        "inputOverride": "allow",
        "outputProperties": [],
        "x": 710,
        "y": 160,
        "wires": [
            []
        ]
    },
    {
        "id": "6dfa319026ac7058",
        "type": "switch",
        "z": "9a7094e42d673dc4",
        "name": "on / off",
        "property": "payload.state",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "on",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "off",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 790,
        "y": 580,
        "wires": [
            [
                "8954d811f3cec46a"
            ],
            [
                "f75d0ff36a4c5d27"
            ]
        ]
    },
    {
        "id": "387fd151e9a8e19c",
        "type": "delay",
        "z": "9a7094e42d673dc4",
        "name": "",
        "pauseType": "delay",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "outputs": 1,
        "x": 520,
        "y": 680,
        "wires": [
            [
                "4410039256c7c052"
            ]
        ]
    },
    {
        "id": "4410039256c7c052",
        "type": "change",
        "z": "9a7094e42d673dc4",
        "name": "send red to traffic",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "red",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 690,
        "y": 680,
        "wires": [
            [
                "7c96404bfb58afe2"
            ]
        ]
    },
    {
        "id": "48f6f035713adfb1",
        "type": "change",
        "z": "9a7094e42d673dc4",
        "name": "set domain to light",
        "rules": [
            {
                "t": "set",
                "p": "payload.domain",
                "pt": "msg",
                "to": "light",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 350,
        "y": 520,
        "wires": [
            [
                "7c96404bfb58afe2"
            ]
        ]
    },
    {
        "id": "01b577265818a66e",
        "type": "change",
        "z": "9a7094e42d673dc4",
        "name": "send green to traffic",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "green",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 350,
        "y": 560,
        "wires": [
            [
                "7c96404bfb58afe2"
            ]
        ]
    },
    {
        "id": "53a47bf861d4d73c",
        "type": "switch",
        "z": "9a7094e42d673dc4",
        "name": "",
        "property": "alarm",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "on",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "off",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 130,
        "y": 480,
        "wires": [
            [
                "48f6f035713adfb1",
                "46f8ea6b26f11100"
            ],
            [
                "01b577265818a66e"
            ]
        ]
    },
    {
        "id": "a81dfb3ffd051b14",
        "type": "comment",
        "z": "9a7094e42d673dc4",
        "name": "input requirements",
        "info": "msg.alarm = off \nmsg.alarm = on",
        "x": 110,
        "y": 20,
        "wires": []
    },
    {
        "id": "164322a018845856",
        "type": "link in",
        "z": "9a7094e42d673dc4",
        "name": "lights_on_and_restore_backyard",
        "links": [
            "133af224fc73de70"
        ],
        "x": 215,
        "y": 280,
        "wires": [
            [
                "19c45466f31ded4b"
            ]
        ]
    },
    {
        "id": "02aaf4776d07ae0c",
        "type": "split",
        "z": "9a7094e42d673dc4",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 730,
        "y": 280,
        "wires": [
            [
                "8c4d367a03388fe3"
            ]
        ]
    },
    {
        "id": "7b9024d8c1350eb1",
        "type": "change",
        "z": "9a7094e42d673dc4",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "payload.attributes.entity_id",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 580,
        "y": 280,
        "wires": [
            [
                "02aaf4776d07ae0c"
            ]
        ]
    },
    {
        "id": "43cbfb522e72cbe5",
        "type": "link in",
        "z": "9a7094e42d673dc4",
        "name": "lights_on_and_restore_all",
        "links": [
            "5874beb71c3c9523",
            "e426c9cc0865f723"
        ],
        "x": 215,
        "y": 220,
        "wires": [
            [
                "8def04e9d2da1e31"
            ]
        ]
    },
    {
        "id": "5d17a23a9ac5fe01",
        "type": "link in",
        "z": "9a7094e42d673dc4",
        "name": "lights_on_and_restore_kitchen",
        "links": [
            "411c3c903ef0bd56"
        ],
        "x": 215,
        "y": 340,
        "wires": [
            [
                "2b88f3d631cb6beb"
            ]
        ]
    },
    {
        "id": "8954d811f3cec46a",
        "type": "api-call-service",
        "z": "9a7094e42d673dc4",
        "name": "restore light on state",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "{{payload.domain}}.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "{{payload.entity_id}}"
        ],
        "labelId": [],
        "data": "{\"brightness\":\"{{payload.attributes.brightness}}\",\"transition\":5000}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "{{payload",
        "service": "domain}}",
        "x": 960,
        "y": 560,
        "wires": [
            []
        ]
    },
    {
        "id": "f75d0ff36a4c5d27",
        "type": "api-call-service",
        "z": "9a7094e42d673dc4",
        "name": "restore light off state",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "{{payload.domain}}.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "{{payload.entity_id}}"
        ],
        "labelId": [],
        "data": "{\"transition\":5000}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "{{payload",
        "service": "domain}}",
        "x": 960,
        "y": 620,
        "wires": [
            []
        ]
    },
    {
        "id": "46f8ea6b26f11100",
        "type": "api-call-service",
        "z": "9a7094e42d673dc4",
        "name": "turn on light",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [],
        "labelId": [],
        "data": "{\"entity_id\":\"{{payload.entity_id}}\",\"brightness_pct\":100,\"transition\":0}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "light",
        "service": "turn_on",
        "x": 990,
        "y": 480,
        "wires": [
            []
        ]
    },
    {
        "id": "8def04e9d2da1e31",
        "type": "ha-get-entities",
        "z": "9a7094e42d673dc4",
        "name": "get all lights",
        "server": "4ba92433.2478cc",
        "version": 1,
        "rules": [
            {
                "property": "entity_id",
                "logic": "starts_with",
                "value": "light.shelly",
                "valueType": "str",
                "condition": "state_object"
            }
        ],
        "outputType": "split",
        "outputEmptyResults": false,
        "outputLocationType": "msg",
        "outputLocation": "payload",
        "outputResultsCount": 1,
        "x": 990,
        "y": 220,
        "wires": [
            [
                "a5e476b7342dd2fc"
            ]
        ]
    },
    {
        "id": "19c45466f31ded4b",
        "type": "ha-get-entities",
        "z": "9a7094e42d673dc4",
        "name": "get backyard lights group",
        "server": "4ba92433.2478cc",
        "version": 1,
        "rules": [
            {
                "property": "entity_id",
                "logic": "starts_with",
                "value": "group.backyard_lights",
                "valueType": "str",
                "condition": "state_object"
            }
        ],
        "outputType": "split",
        "outputEmptyResults": false,
        "outputLocationType": "msg",
        "outputLocation": "payload",
        "outputResultsCount": 1,
        "x": 360,
        "y": 280,
        "wires": [
            [
                "7b9024d8c1350eb1"
            ]
        ]
    },
    {
        "id": "8c4d367a03388fe3",
        "type": "ha-get-entities",
        "z": "9a7094e42d673dc4",
        "name": "get backyard lights",
        "server": "4ba92433.2478cc",
        "version": 1,
        "rules": [
            {
                "property": "entity_id",
                "logic": "is",
                "value": "payload",
                "valueType": "msg"
            }
        ],
        "outputType": "split",
        "outputEmptyResults": false,
        "outputLocationType": "msg",
        "outputLocation": "payload",
        "outputResultsCount": 1,
        "x": 970,
        "y": 280,
        "wires": [
            [
                "a5e476b7342dd2fc"
            ]
        ]
    },
    {
        "id": "2b88f3d631cb6beb",
        "type": "ha-get-entities",
        "z": "9a7094e42d673dc4",
        "name": "get kitchen light",
        "server": "4ba92433.2478cc",
        "version": 1,
        "rules": [
            {
                "condition": "state_object",
                "property": "entity_id",
                "logic": "is",
                "value": "light.shellydimmer_kitchen",
                "valueType": "str"
            }
        ],
        "outputType": "split",
        "outputEmptyResults": false,
        "outputLocationType": "msg",
        "outputLocation": "payload",
        "outputResultsCount": 1,
        "x": 980,
        "y": 340,
        "wires": [
            [
                "a5e476b7342dd2fc"
            ]
        ]
    },
    {
        "id": "7c96404bfb58afe2",
        "type": "traffic",
        "z": "9a7094e42d673dc4",
        "name": "traffic",
        "property_allow": "payload",
        "filter_allow": "green",
        "ignore_case_allow": false,
        "negate_allow": false,
        "send_allow": false,
        "property_stop": "payload",
        "filter_stop": "red",
        "ignore_case_stop": false,
        "negate_stop": false,
        "send_stop": false,
        "default_start": false,
        "differ": true,
        "x": 610,
        "y": 580,
        "wires": [
            [
                "387fd151e9a8e19c",
                "6dfa319026ac7058"
            ]
        ]
    },
    {
        "id": "355581f2d8e477de",
        "type": "catch",
        "z": "9a7094e42d673dc4",
        "g": "bad5045815fdb13b",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "4ea67a000286b4d8"
            ]
        ]
    },
    {
        "id": "4ea67a000286b4d8",
        "type": "template",
        "z": "9a7094e42d673dc4",
        "g": "bad5045815fdb13b",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "db2e26ad5747e0a6"
            ]
        ]
    },
    {
        "id": "c653974d1dff1810",
        "type": "link out",
        "z": "9a7094e42d673dc4",
        "g": "bad5045815fdb13b",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 475,
        "y": 80,
        "wires": []
    },
    {
        "id": "db2e26ad5747e0a6",
        "type": "template",
        "z": "9a7094e42d673dc4",
        "g": "bad5045815fdb13b",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "c653974d1dff1810"
            ]
        ]
    },
    {
        "id": "11d068d3ad86d2dd",
        "type": "join",
        "z": "b1a9214c.4c71c",
        "g": "6b44c062cbc05f0a",
        "name": "",
        "mode": "custom",
        "build": "merged",
        "property": "notify",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": false,
        "timeout": "",
        "count": "4",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 2010,
        "y": 280,
        "wires": [
            [
                "73e546f49b2e02e1"
            ]
        ]
    },
    {
        "id": "73e546f49b2e02e1",
        "type": "link out",
        "z": "b1a9214c.4c71c",
        "g": "6b44c062cbc05f0a",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "8ed3b0974336e55b",
            "a97f87cfab413716"
        ],
        "x": 2105,
        "y": 280,
        "wires": []
    },
    {
        "id": "232a01493b9307b0",
        "type": "template",
        "z": "b1a9214c.4c71c",
        "g": "6b44c062cbc05f0a",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Ventilatie",
        "output": "str",
        "x": 1850,
        "y": 240,
        "wires": [
            [
                "11d068d3ad86d2dd"
            ]
        ]
    },
    {
        "id": "db7934b4b14446da",
        "type": "template",
        "z": "b1a9214c.4c71c",
        "g": "6b44c062cbc05f0a",
        "name": "icon",
        "field": "notify.icon",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": ":door:",
        "output": "str",
        "x": 1850,
        "y": 280,
        "wires": [
            [
                "11d068d3ad86d2dd"
            ]
        ]
    },
    {
        "id": "a22e2a028512634f",
        "type": "template",
        "z": "b1a9214c.4c71c",
        "g": "6b44c062cbc05f0a",
        "name": "notification id",
        "field": "notify.notification_id",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "natural_basement_ventilation",
        "output": "str",
        "x": 1870,
        "y": 320,
        "wires": [
            [
                "11d068d3ad86d2dd"
            ]
        ]
    },
    {
        "id": "968aec4f.db7b8",
        "type": "comment",
        "z": "b1a9214c.4c71c",
        "name": "basement window",
        "info": "",
        "x": 110,
        "y": 20,
        "wires": []
    },
    {
        "id": "7adaadb8.c5f204",
        "type": "inject",
        "z": "b1a9214c.4c71c",
        "name": "start_flow",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "900",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "start_flow",
        "payloadType": "str",
        "x": 110,
        "y": 440,
        "wires": [
            [
                "6692dae9.7caa84"
            ]
        ]
    },
    {
        "id": "8bf50cc4.c9593",
        "type": "template",
        "z": "b1a9214c.4c71c",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Sluit de ramen in de kelder het gaat mogelijke regenen.",
        "output": "str",
        "x": 1420,
        "y": 280,
        "wires": [
            [
                "704b917a.b0214",
                "d52f067ae45b546a"
            ]
        ]
    },
    {
        "id": "c431f228.97084",
        "type": "template",
        "z": "b1a9214c.4c71c",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Sluit de ramen in de kelder, dit uur gaat het {{payload}} mm regenen.",
        "output": "str",
        "x": 1420,
        "y": 340,
        "wires": [
            [
                "704b917a.b0214",
                "d52f067ae45b546a"
            ]
        ]
    },
    {
        "id": "8c82a32b.762e7",
        "type": "template",
        "z": "b1a9214c.4c71c",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Sluit de ramen, de verwarming in de kelder staat aan.\\nKelder Heating Power is {{sensor.basement_heating}}%",
        "output": "str",
        "x": 1420,
        "y": 220,
        "wires": [
            [
                "704b917a.b0214",
                "d52f067ae45b546a"
            ]
        ]
    },
    {
        "id": "1991431c.890dcd",
        "type": "template",
        "z": "b1a9214c.4c71c",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Open de ramen in de kelder, buiten is de vochtinhoud lager en de temperatuur hoger. \\n\\nBuiten\\nTemperatuur: {{sensor.buienradar_temperature}} C\\nAbsolute vochtinhoud: {{sensor.outdoor_thermal_comfort_absolute_humidity}} g/m\\n\\nKelder\\nTemperatuur: {{sensor.basement_temperature}} C \\nAbsolute vochtinhoud: {{sensor.basement_thermal_comfort_absolute_humidity}} g/m",
        "output": "str",
        "x": 1420,
        "y": 780,
        "wires": [
            [
                "d52f067ae45b546a"
            ]
        ]
    },
    {
        "id": "d52f067ae45b546a",
        "type": "rbe",
        "z": "b1a9214c.4c71c",
        "name": "",
        "func": "rbe",
        "gap": "",
        "start": "",
        "inout": "out",
        "septopics": true,
        "property": "payload",
        "topi": "topic",
        "x": 1650,
        "y": 280,
        "wires": [
            [
                "97afb37521efba77"
            ]
        ]
    },
    {
        "id": "b7e01c5b3e5b9bc9",
        "type": "function",
        "z": "b1a9214c.4c71c",
        "name": "round to two decimals",
        "func": "msg.sensor.basement_thermal_comfort_absolute_humidity = msg.sensor.basement_thermal_comfort_absolute_humidity.toFixed(2);\nmsg.sensor.outdoor_thermal_comfort_absolute_humidity = msg.sensor.outdoor_thermal_comfort_absolute_humidity.toFixed(2);\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1240,
        "y": 500,
        "wires": [
            [
                "98a47a1b.d6fcc8"
            ]
        ]
    },
    {
        "id": "d6c27b122483f09e",
        "type": "function",
        "z": "b1a9214c.4c71c",
        "name": "round to two decimals",
        "func": "msg.sensor.basement_thermal_comfort_absolute_humidity = msg.sensor.basement_thermal_comfort_absolute_humidity.toFixed(2);\nmsg.sensor.outdoor_thermal_comfort_absolute_humidity = msg.sensor.outdoor_thermal_comfort_absolute_humidity.toFixed(2);\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1240,
        "y": 780,
        "wires": [
            [
                "1991431c.890dcd"
            ]
        ]
    },
    {
        "id": "98a47a1b.d6fcc8",
        "type": "template",
        "z": "b1a9214c.4c71c",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Sluit de ramen in de kelder, buiten is de vochtinhoud hoger of de temperatuur lager.\\n\\nBuiten: \\nTemperatuur: {{sensor.buienradar_temperature}} C \\nAbsolute vochtinhoud: {{sensor.outdoor_thermal_comfort_absolute_humidity}} g/m \\n\\nKelder\\nTemperatuur: {{sensor.basement_temperature}} C \\nAbsolute vochtinhoud: {{sensor.basement_thermal_comfort_absolute_humidity}} g/m",
        "output": "str",
        "x": 1420,
        "y": 500,
        "wires": [
            [
                "704b917a.b0214"
            ]
        ]
    },
    {
        "id": "d4f8c710.220648",
        "type": "api-call-service",
        "z": "b1a9214c.4c71c",
        "name": "turn off basement window",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "input_boolean.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_boolean.basement_window"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "input_boolean",
        "service": "turn_off",
        "x": 1930,
        "y": 500,
        "wires": [
            [
                "d52f067ae45b546a"
            ]
        ]
    },
    {
        "id": "6692dae9.7caa84",
        "type": "api-current-state",
        "z": "b1a9214c.4c71c",
        "name": "state absolute humidity basement",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 1,
        "halt_if": "",
        "halt_if_type": "num",
        "halt_if_compare": "is",
        "entity_id": "sensor.basement_thermal_comfort_absolute_humidity",
        "state_type": "num",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "sensor.basement_thermal_comfort_absolute_humidity",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 500,
        "y": 440,
        "wires": [
            [
                "1c1129d.09d62d6"
            ]
        ]
    },
    {
        "id": "c0684245.6628d",
        "type": "api-current-state",
        "z": "b1a9214c.4c71c",
        "name": "state absolute humidity outdoor > absolute humidity basement",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "sensor.basement_thermal_comfort_absolute_humidity",
        "halt_if_type": "msg",
        "halt_if_compare": "gt",
        "entity_id": "sensor.outdoor_thermal_comfort_absolute_humidity",
        "state_type": "num",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "sensor.outdoor_thermal_comfort_absolute_humidity",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 870,
        "y": 500,
        "wires": [
            [
                "b7e01c5b3e5b9bc9"
            ],
            [
                "fef0521b.1d64e"
            ]
        ]
    },
    {
        "id": "6822779.5aa9588",
        "type": "api-current-state",
        "z": "b1a9214c.4c71c",
        "name": "state temperature outdoor > temperature basement",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "sensor.basement_temperature",
        "halt_if_type": "msg",
        "halt_if_compare": "gt",
        "entity_id": "sensor.buienradar_temperature",
        "state_type": "num",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "sensor.buienradar_temperature",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 550,
        "y": 740,
        "wires": [
            [
                "d6c27b122483f09e"
            ],
            [
                "6f49345.883a1cc"
            ]
        ]
    },
    {
        "id": "b5938ee.f7bec7",
        "type": "api-current-state",
        "z": "b1a9214c.4c71c",
        "name": "Basement Heating Power <= 0%",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "0",
        "halt_if_type": "num",
        "halt_if_compare": "lte",
        "entity_id": "sensor.basement_heating",
        "state_type": "num",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "sensor.basement_heating",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 490,
        "y": 680,
        "wires": [
            [
                "6822779.5aa9588"
            ],
            []
        ]
    },
    {
        "id": "fef0521b.1d64e",
        "type": "api-current-state",
        "z": "b1a9214c.4c71c",
        "name": "state precipitation buienradar <= 0",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "0",
        "halt_if_type": "num",
        "halt_if_compare": "lte",
        "entity_id": "sensor.buienradar_precipitation",
        "state_type": "num",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "sensor.ede_precipitation",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 500,
        "y": 560,
        "wires": [
            [
                "5be90bde.fa4314"
            ],
            []
        ]
    },
    {
        "id": "704b917a.b0214",
        "type": "api-current-state",
        "z": "b1a9214c.4c71c",
        "name": "state basement window on",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.basement_window",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 1680,
        "y": 500,
        "wires": [
            [
                "d4f8c710.220648"
            ],
            []
        ]
    },
    {
        "id": "6f49345.883a1cc",
        "type": "api-current-state",
        "z": "b1a9214c.4c71c",
        "name": "state temperature outdoor > 17",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "17",
        "halt_if_type": "num",
        "halt_if_compare": "gt",
        "entity_id": "sensor.buienradar_temperature",
        "state_type": "num",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "sensor.buienradar_temperature",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 490,
        "y": 800,
        "wires": [
            [
                "d6c27b122483f09e"
            ],
            []
        ]
    },
    {
        "id": "5be90bde.fa4314",
        "type": "api-current-state",
        "z": "b1a9214c.4c71c",
        "name": "state condidtion buienrader not rainy",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "rainy",
        "halt_if_type": "str",
        "halt_if_compare": "is_not",
        "entity_id": "sensor.buienradar_condition",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "sensor.ede_precipitation",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 510,
        "y": 620,
        "wires": [
            [
                "b5938ee.f7bec7"
            ],
            []
        ]
    },
    {
        "id": "1c1129d.09d62d6",
        "type": "api-current-state",
        "z": "b1a9214c.4c71c",
        "name": "state basement temperature",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 1,
        "halt_if": "",
        "halt_if_type": "num",
        "halt_if_compare": "is",
        "entity_id": "sensor.basement_temperature",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "sensor.basement_temperature",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 780,
        "y": 440,
        "wires": [
            [
                "18c2e5bb.4c0cfa"
            ]
        ]
    },
    {
        "id": "18c2e5bb.4c0cfa",
        "type": "api-current-state",
        "z": "b1a9214c.4c71c",
        "name": "state buienradar temperature",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 1,
        "halt_if": "",
        "halt_if_type": "num",
        "halt_if_compare": "is",
        "entity_id": "sensor.buienradar_temperature",
        "state_type": "num",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "sensor.buienradar_temperature",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 480,
        "y": 500,
        "wires": [
            [
                "c0684245.6628d"
            ]
        ]
    },
    {
        "id": "8469a147.10964",
        "type": "server-state-changed",
        "z": "b1a9214c.4c71c",
        "name": "state buienradar precipitation > 0",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "sensor.buienradar_precipitation"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": true,
        "stateType": "num",
        "ifState": "0",
        "ifStateType": "num",
        "ifStateOperator": "gt",
        "outputOnlyOnStateChange": false,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "sensor.buienradar_precipitation",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 150,
        "y": 340,
        "wires": [
            [
                "c431f228.97084"
            ],
            [
                "6692dae9.7caa84"
            ]
        ]
    },
    {
        "id": "f82739ec.0019e8",
        "type": "server-state-changed",
        "z": "b1a9214c.4c71c",
        "name": "state heating power basement > 1%",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "sensor.basement_heating"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": true,
        "stateType": "num",
        "ifState": "1",
        "ifStateType": "num",
        "ifStateOperator": "gt",
        "outputOnlyOnStateChange": true,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "sensor.basement_heating",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 160,
        "y": 220,
        "wires": [
            [
                "8c82a32b.762e7"
            ],
            [
                "6692dae9.7caa84"
            ]
        ]
    },
    {
        "id": "b236d4c0.c39c38",
        "type": "server-state-changed",
        "z": "b1a9214c.4c71c",
        "name": "state buienradar condition rainy",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "sensor.buienradar_condition"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": true,
        "stateType": "str",
        "ifState": "rainy",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": true,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "weather.buienradar",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 150,
        "y": 280,
        "wires": [
            [
                "8bf50cc4.c9593"
            ],
            [
                "6692dae9.7caa84"
            ]
        ]
    },
    {
        "id": "aedbcf84c1295abd",
        "type": "catch",
        "z": "b1a9214c.4c71c",
        "g": "6fc99fe3fa43961b",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "e75e88b2739b898a"
            ]
        ]
    },
    {
        "id": "e75e88b2739b898a",
        "type": "template",
        "z": "b1a9214c.4c71c",
        "g": "6fc99fe3fa43961b",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "c027d4c52c4a61b2"
            ]
        ]
    },
    {
        "id": "c026370f826e5d5f",
        "type": "link out",
        "z": "b1a9214c.4c71c",
        "g": "6fc99fe3fa43961b",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 475,
        "y": 80,
        "wires": []
    },
    {
        "id": "c027d4c52c4a61b2",
        "type": "template",
        "z": "b1a9214c.4c71c",
        "g": "6fc99fe3fa43961b",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "c026370f826e5d5f"
            ]
        ]
    },
    {
        "id": "187e38cbc867548d",
        "type": "template",
        "z": "65351372f52f2e2d",
        "g": "dbf117e9be1363d0",
        "name": "tag",
        "field": "notify.tag",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "doorbell",
        "output": "str",
        "x": 1730,
        "y": 540,
        "wires": [
            [
                "f46aad79d4615dbf"
            ]
        ]
    },
    {
        "id": "96104ca744a9942d",
        "type": "template",
        "z": "65351372f52f2e2d",
        "g": "dbf117e9be1363d0",
        "name": "notification id",
        "field": "notify.notification_id",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "door_openend",
        "output": "str",
        "x": 1750,
        "y": 500,
        "wires": [
            [
                "f46aad79d4615dbf"
            ]
        ]
    },
    {
        "id": "f46aad79d4615dbf",
        "type": "join",
        "z": "65351372f52f2e2d",
        "g": "dbf117e9be1363d0",
        "name": "",
        "mode": "custom",
        "build": "merged",
        "property": "notify",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "useparts": true,
        "accumulate": false,
        "timeout": "",
        "count": "5",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 1930,
        "y": 500,
        "wires": [
            [
                "f118397ef51d377e"
            ]
        ]
    },
    {
        "id": "f118397ef51d377e",
        "type": "link out",
        "z": "65351372f52f2e2d",
        "g": "dbf117e9be1363d0",
        "name": "link_out_notify_2",
        "mode": "link",
        "links": [
            "8ed3b0974336e55b"
        ],
        "x": 2015,
        "y": 500,
        "wires": []
    },
    {
        "id": "f62f4165d866a393",
        "type": "template",
        "z": "65351372f52f2e2d",
        "g": "dbf117e9be1363d0",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Deurbel",
        "output": "str",
        "x": 1730,
        "y": 420,
        "wires": [
            [
                "f46aad79d4615dbf"
            ]
        ]
    },
    {
        "id": "4fcc37584fdaacfc",
        "type": "template",
        "z": "65351372f52f2e2d",
        "g": "dbf117e9be1363d0",
        "name": "icon",
        "field": "notify.icon",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "",
        "output": "str",
        "x": 1730,
        "y": 460,
        "wires": [
            [
                "f46aad79d4615dbf"
            ]
        ]
    },
    {
        "id": "887d3f0b3fca1ef1",
        "type": "template",
        "z": "65351372f52f2e2d",
        "g": "f259c1d245c5a0a4",
        "name": "tag",
        "field": "notify.tag",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "doorbell",
        "output": "str",
        "x": 1730,
        "y": 320,
        "wires": [
            [
                "cfbc58f0de8fb24f"
            ]
        ]
    },
    {
        "id": "f6739c6be49dd463",
        "type": "template",
        "z": "65351372f52f2e2d",
        "g": "f259c1d245c5a0a4",
        "name": "notification id",
        "field": "notify.notification_id",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "doorbell_rings",
        "output": "str",
        "x": 1750,
        "y": 280,
        "wires": [
            [
                "cfbc58f0de8fb24f"
            ]
        ]
    },
    {
        "id": "cfbc58f0de8fb24f",
        "type": "join",
        "z": "65351372f52f2e2d",
        "g": "f259c1d245c5a0a4",
        "name": "",
        "mode": "custom",
        "build": "merged",
        "property": "notify",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "useparts": true,
        "accumulate": false,
        "timeout": "",
        "count": "6",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 1930,
        "y": 280,
        "wires": [
            [
                "e188c5d43cc22d55"
            ]
        ]
    },
    {
        "id": "e188c5d43cc22d55",
        "type": "link out",
        "z": "65351372f52f2e2d",
        "g": "f259c1d245c5a0a4",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "8ed3b0974336e55b",
            "a97f87cfab413716",
            "aeee8468f3d1b7ad",
            "c13b2b4d87067c17"
        ],
        "x": 2015,
        "y": 280,
        "wires": []
    },
    {
        "id": "8d49d5b0a77fe3fa",
        "type": "template",
        "z": "65351372f52f2e2d",
        "g": "f259c1d245c5a0a4",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Deurbel",
        "output": "str",
        "x": 1730,
        "y": 200,
        "wires": [
            [
                "cfbc58f0de8fb24f"
            ]
        ]
    },
    {
        "id": "41bff044d8ff0723",
        "type": "template",
        "z": "65351372f52f2e2d",
        "g": "f259c1d245c5a0a4",
        "name": "icon",
        "field": "notify.icon",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "",
        "output": "str",
        "x": 1730,
        "y": 240,
        "wires": [
            [
                "cfbc58f0de8fb24f"
            ]
        ]
    },
    {
        "id": "dfc54bd82a16e190",
        "type": "template",
        "z": "65351372f52f2e2d",
        "g": "a36a86d8bb45f3d4",
        "name": "tag",
        "field": "notify.tag",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "doorbell",
        "output": "str",
        "x": 1730,
        "y": 840,
        "wires": [
            [
                "4cab768ec3304d77"
            ]
        ]
    },
    {
        "id": "504241c3de9c1592",
        "type": "template",
        "z": "65351372f52f2e2d",
        "g": "a36a86d8bb45f3d4",
        "name": "notification id",
        "field": "notify.notification_id",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "doorbell_rings",
        "output": "str",
        "x": 1750,
        "y": 800,
        "wires": [
            [
                "4cab768ec3304d77"
            ]
        ]
    },
    {
        "id": "4cab768ec3304d77",
        "type": "join",
        "z": "65351372f52f2e2d",
        "g": "a36a86d8bb45f3d4",
        "name": "",
        "mode": "custom",
        "build": "merged",
        "property": "notify",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "useparts": true,
        "accumulate": false,
        "timeout": "",
        "count": "5",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 1930,
        "y": 780,
        "wires": [
            [
                "7528bd2fef1d9090"
            ]
        ]
    },
    {
        "id": "7528bd2fef1d9090",
        "type": "link out",
        "z": "65351372f52f2e2d",
        "g": "a36a86d8bb45f3d4",
        "name": "link_out_notify_3",
        "mode": "link",
        "links": [
            "c4660dc11fb0e5b8"
        ],
        "x": 2025,
        "y": 780,
        "wires": []
    },
    {
        "id": "6a5f068bc90a5bea",
        "type": "template",
        "z": "65351372f52f2e2d",
        "g": "a36a86d8bb45f3d4",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Deurbel",
        "output": "str",
        "x": 1730,
        "y": 720,
        "wires": [
            [
                "4cab768ec3304d77"
            ]
        ]
    },
    {
        "id": "96c864b13b1ed44d",
        "type": "template",
        "z": "65351372f52f2e2d",
        "g": "a36a86d8bb45f3d4",
        "name": "icon",
        "field": "notify.icon",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "",
        "output": "str",
        "x": 1730,
        "y": 760,
        "wires": [
            [
                "4cab768ec3304d77"
            ]
        ]
    },
    {
        "id": "f26a8e6739f171d9",
        "type": "template",
        "z": "65351372f52f2e2d",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Er is aangebeld maar de voordeur is niet open gedaan. ",
        "output": "str",
        "x": 1480,
        "y": 340,
        "wires": [
            [
                "ca3c70923fa7cd35"
            ]
        ]
    },
    {
        "id": "75259b56c62c6dc9",
        "type": "template",
        "z": "65351372f52f2e2d",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Er is aangebeld en de voordeur is open gedaan.",
        "output": "str",
        "x": 1480,
        "y": 300,
        "wires": [
            [
                "ca3c70923fa7cd35"
            ]
        ]
    },
    {
        "id": "324163187704260f",
        "type": "change",
        "z": "65351372f52f2e2d",
        "name": "set payload open",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "open",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 510,
        "y": 320,
        "wires": [
            [
                "926a03f5dc689826"
            ]
        ]
    },
    {
        "id": "ef1caaf0e51df45f",
        "type": "delay",
        "z": "65351372f52f2e2d",
        "name": "",
        "pauseType": "delay",
        "timeout": "7",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "outputs": 1,
        "x": 340,
        "y": 320,
        "wires": [
            [
                "324163187704260f"
            ]
        ]
    },
    {
        "id": "63dd0580fe5a2988",
        "type": "change",
        "z": "65351372f52f2e2d",
        "name": "set payload close",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "close",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 770,
        "y": 300,
        "wires": [
            [
                "926a03f5dc689826"
            ]
        ]
    },
    {
        "id": "5ea0148e32967d9a",
        "type": "template",
        "z": "65351372f52f2e2d",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Er is aangebeld.",
        "output": "str",
        "x": 1480,
        "y": 760,
        "wires": [
            [
                "7bb3b10a5f621765"
            ]
        ]
    },
    {
        "id": "9c072e7c1116b5c5",
        "type": "comment",
        "z": "65351372f52f2e2d",
        "name": "doorbell notification",
        "info": "",
        "x": 110,
        "y": 20,
        "wires": []
    },
    {
        "id": "2be495a83d512501",
        "type": "template",
        "z": "65351372f52f2e2d",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Er is aangebeld",
        "output": "str",
        "x": 1480,
        "y": 200,
        "wires": [
            [
                "685ac1f9d97aa2a9"
            ]
        ]
    },
    {
        "id": "489f51dc5f080ea1",
        "type": "api-current-state",
        "z": "65351372f52f2e2d",
        "name": "state doorbell chime is off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "switch.smart_doorbell_active",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 1050,
        "y": 380,
        "wires": [
            [
                "5ea0148e32967d9a"
            ],
            []
        ]
    },
    {
        "id": "26c54bb35b060ee0",
        "type": "server-state-changed",
        "z": "65351372f52f2e2d",
        "name": "state doorbell button on",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "binary_sensor.smart_doorbell_button"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": false,
        "stateType": "str",
        "ifState": "on",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 120,
        "y": 260,
        "wires": [
            [
                "ef1caaf0e51df45f",
                "1389cd751a19cef8",
                "5de4f38ec4c4075f"
            ],
            []
        ]
    },
    {
        "id": "eb27a8504ea0ba20",
        "type": "ha-wait-until",
        "z": "65351372f52f2e2d",
        "name": "wait until front door is open",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "entities": {
            "entity": [
                "binary_sensor.frontdoor"
            ],
            "substring": [],
            "regex": []
        },
        "property": "state",
        "comparator": "is",
        "value": "on",
        "valueType": "str",
        "timeout": "60",
        "timeoutType": "num",
        "timeoutUnits": "seconds",
        "checkCurrentState": true,
        "blockInputOverrides": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "x": 1060,
        "y": 320,
        "wires": [
            [
                "75259b56c62c6dc9"
            ],
            [
                "f26a8e6739f171d9"
            ]
        ]
    },
    {
        "id": "926a03f5dc689826",
        "type": "traffic",
        "z": "65351372f52f2e2d",
        "name": "traffic light",
        "property_allow": "payload",
        "filter_allow": "open",
        "ignore_case_allow": false,
        "negate_allow": false,
        "send_allow": false,
        "property_stop": "payload",
        "filter_stop": "close",
        "ignore_case_stop": false,
        "negate_stop": false,
        "send_stop": false,
        "default_start": true,
        "differ": false,
        "x": 750,
        "y": 360,
        "wires": [
            [
                "63dd0580fe5a2988",
                "eb27a8504ea0ba20",
                "489f51dc5f080ea1"
            ]
        ]
    },
    {
        "id": "b66a38e04739bfdd",
        "type": "catch",
        "z": "65351372f52f2e2d",
        "g": "04562c8514c07d74",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "b983fbc0f8c8da2f"
            ]
        ]
    },
    {
        "id": "b983fbc0f8c8da2f",
        "type": "template",
        "z": "65351372f52f2e2d",
        "g": "04562c8514c07d74",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "c73573d7e9bdaf0f"
            ]
        ]
    },
    {
        "id": "7bdad445330a11b6",
        "type": "link out",
        "z": "65351372f52f2e2d",
        "g": "04562c8514c07d74",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 475,
        "y": 80,
        "wires": []
    },
    {
        "id": "c73573d7e9bdaf0f",
        "type": "template",
        "z": "65351372f52f2e2d",
        "g": "04562c8514c07d74",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "7bdad445330a11b6"
            ]
        ]
    },
    {
        "id": "7a35e0cb772119f7",
        "type": "inject",
        "z": "65351372f52f2e2d",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "on",
        "payloadType": "str",
        "x": 100,
        "y": 340,
        "wires": [
            [
                "5de4f38ec4c4075f",
                "ef1caaf0e51df45f"
            ]
        ]
    },
    {
        "id": "3fd22ff1d39dc1e6",
        "type": "template",
        "z": "65351372f52f2e2d",
        "g": "f259c1d245c5a0a4",
        "name": "channel",
        "field": "notify.channel",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Doorbell",
        "output": "str",
        "x": 1740,
        "y": 360,
        "wires": [
            [
                "cfbc58f0de8fb24f"
            ]
        ]
    },
    {
        "id": "2476472b35381cca",
        "type": "inject",
        "z": "65351372f52f2e2d",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 1190,
        "y": 180,
        "wires": [
            [
                "2be495a83d512501"
            ]
        ]
    },
    {
        "id": "ebcb50cdabc72f91",
        "type": "template",
        "z": "72f3a564e626ff9a",
        "g": "3b89d483d3628b14",
        "name": "notification id",
        "field": "notify.notification_id",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "garbage",
        "output": "str",
        "x": 1350,
        "y": 440,
        "wires": [
            [
                "d0d3f913b8c035f3"
            ]
        ]
    },
    {
        "id": "46d50645e39da463",
        "type": "template",
        "z": "72f3a564e626ff9a",
        "g": "3b89d483d3628b14",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "{{secondary_information}}.\\nStaat de container al aan de weg?",
        "output": "str",
        "x": 1340,
        "y": 400,
        "wires": [
            [
                "d0d3f913b8c035f3"
            ]
        ]
    },
    {
        "id": "dd3030c9ae0f7a07",
        "type": "change",
        "z": "72f3a564e626ff9a",
        "g": "3b89d483d3628b14",
        "name": "action titles",
        "rules": [
            {
                "t": "set",
                "p": "notify.action_1_title",
                "pt": "msg",
                "to": "JA",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "notify.action_2_title",
                "pt": "msg",
                "to": "NEE",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "notify.action_1",
                "pt": "msg",
                "to": "GARBAGE_ON",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "notify.action_2",
                "pt": "msg",
                "to": "IGNORE",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1350,
        "y": 320,
        "wires": [
            [
                "d0d3f913b8c035f3"
            ]
        ]
    },
    {
        "id": "d0d3f913b8c035f3",
        "type": "join",
        "z": "72f3a564e626ff9a",
        "g": "3b89d483d3628b14",
        "name": "",
        "mode": "custom",
        "build": "merged",
        "property": "notify",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "useparts": true,
        "accumulate": false,
        "timeout": "",
        "count": "9",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 1530,
        "y": 320,
        "wires": [
            [
                "0af5a06e405527e9"
            ]
        ]
    },
    {
        "id": "0af5a06e405527e9",
        "type": "link out",
        "z": "72f3a564e626ff9a",
        "g": "3b89d483d3628b14",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "c76d311bb4b6991b",
            "d1753081ba6b4004"
        ],
        "x": 1615,
        "y": 320,
        "wires": []
    },
    {
        "id": "dcc306682fd0ffa8",
        "type": "template",
        "z": "72f3a564e626ff9a",
        "g": "3b89d483d3628b14",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Afval",
        "output": "str",
        "x": 1330,
        "y": 280,
        "wires": [
            [
                "d0d3f913b8c035f3"
            ]
        ]
    },
    {
        "id": "3a3b8fdb9d6f4ab0",
        "type": "template",
        "z": "72f3a564e626ff9a",
        "g": "3b89d483d3628b14",
        "name": "icon",
        "field": "notify.icon",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "",
        "output": "str",
        "x": 1330,
        "y": 360,
        "wires": [
            [
                "d0d3f913b8c035f3"
            ]
        ]
    },
    {
        "id": "fc015c3acdd57ee4",
        "type": "template",
        "z": "72f3a564e626ff9a",
        "name": "secondary information",
        "field": "secondary_information",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Morgen {{{data.attributes.date}}} wordt de {{garbage_type}}container opgehaald",
        "output": "str",
        "x": 580,
        "y": 180,
        "wires": [
            [
                "da7f4a15f876a544"
            ]
        ]
    },
    {
        "id": "6d32a564bcd340a4",
        "type": "template",
        "z": "72f3a564e626ff9a",
        "name": "secondary information",
        "field": "secondary_information",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Vandaag wordt de {{garbage_type}} container opgehaald",
        "output": "str",
        "x": 580,
        "y": 220,
        "wires": [
            [
                "da7f4a15f876a544"
            ]
        ]
    },
    {
        "id": "040d71ac086fd35b",
        "type": "template",
        "z": "72f3a564e626ff9a",
        "name": "topic",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "garbage",
        "output": "str",
        "x": 990,
        "y": 180,
        "wires": [
            [
                "b756e7bb43d6f27c"
            ]
        ]
    },
    {
        "id": "da7f4a15f876a544",
        "type": "template",
        "z": "72f3a564e626ff9a",
        "name": "primary information",
        "field": "primary_information",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Let op, de container moet aan de weg",
        "output": "str",
        "x": 810,
        "y": 180,
        "wires": [
            [
                "040d71ac086fd35b",
                "4b77d397e442cac9"
            ]
        ]
    },
    {
        "id": "183a5991d27d2b04",
        "type": "comment",
        "z": "72f3a564e626ff9a",
        "name": "Create a notification for garbage collection",
        "info": "",
        "x": 180,
        "y": 20,
        "wires": []
    },
    {
        "id": "4f602b0ecd3e333e",
        "type": "inject",
        "z": "72f3a564e626ff9a",
        "name": "10:00",
        "props": [],
        "repeat": "",
        "crontab": "00 10 * * *",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 90,
        "y": 180,
        "wires": [
            [
                "25fa43d35440a3f7"
            ]
        ]
    },
    {
        "id": "9fd7a6afaf90435a",
        "type": "link out",
        "z": "72f3a564e626ff9a",
        "name": "notification",
        "mode": "link",
        "links": [
            "60e14e33a793f50d"
        ],
        "x": 1555,
        "y": 180,
        "wires": []
    },
    {
        "id": "b756e7bb43d6f27c",
        "type": "template",
        "z": "72f3a564e626ff9a",
        "name": "notification_level",
        "field": "notification_level",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "info",
        "output": "str",
        "x": 1150,
        "y": 180,
        "wires": [
            [
                "9fd7a6afaf90435a"
            ]
        ]
    },
    {
        "id": "9a7655d23db78d0f",
        "type": "inject",
        "z": "72f3a564e626ff9a",
        "name": "09:00",
        "props": [],
        "repeat": "",
        "crontab": "00 09 * * *",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 90,
        "y": 340,
        "wires": [
            [
                "127897e2532f9639"
            ]
        ]
    },
    {
        "id": "f47656cd06bea150",
        "type": "comment",
        "z": "72f3a564e626ff9a",
        "name": "Turn info notification sensor off if it still shows garbage collection after 09:00 when the collection is today",
        "info": "",
        "x": 390,
        "y": 300,
        "wires": []
    },
    {
        "id": "aa55d6e2d41927bf",
        "type": "switch",
        "z": "72f3a564e626ff9a",
        "name": "contains Vandaag",
        "property": "data.attributes.secondary_information",
        "propertyType": "msg",
        "rules": [
            {
                "t": "cont",
                "v": "Vandaag",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 690,
        "y": 340,
        "wires": [
            [
                "6a481279c5298533"
            ]
        ]
    },
    {
        "id": "3af43016251f4d2a",
        "type": "switch",
        "z": "72f3a564e626ff9a",
        "name": "topic is garbage",
        "property": "data.attributes.topic",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "garbage",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 500,
        "y": 340,
        "wires": [
            [
                "aa55d6e2d41927bf"
            ]
        ]
    },
    {
        "id": "63dd27acb5293428",
        "type": "inject",
        "z": "72f3a564e626ff9a",
        "name": "03:00",
        "props": [],
        "repeat": "",
        "crontab": "00 03 * * *",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 90,
        "y": 240,
        "wires": [
            [
                "faf897ee811f8cf2"
            ]
        ]
    },
    {
        "id": "3bbeb5287f1c9e72",
        "type": "comment",
        "z": "72f3a564e626ff9a",
        "name": "listen to garbage yes action notification answer event ",
        "info": "",
        "x": 230,
        "y": 400,
        "wires": []
    },
    {
        "id": "6a481279c5298533",
        "type": "api-call-service",
        "z": "72f3a564e626ff9a",
        "name": "button press notification info turn off",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "button.press",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "button.notification_level_info_turn_off"
        ],
        "labelId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "button",
        "service": "press",
        "x": 960,
        "y": 340,
        "wires": [
            [
                "b08254b0e018b396"
            ]
        ]
    },
    {
        "id": "25fa43d35440a3f7",
        "type": "api-current-state",
        "z": "72f3a564e626ff9a",
        "name": "garbage tomorrow",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "Geen",
        "halt_if_type": "str",
        "halt_if_compare": "is_not",
        "entity_id": "sensor.afval_morgen",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "garbage_type",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 270,
        "y": 180,
        "wires": [
            [
                "fc015c3acdd57ee4"
            ],
            []
        ]
    },
    {
        "id": "127897e2532f9639",
        "type": "api-current-state",
        "z": "72f3a564e626ff9a",
        "name": "current state info sensor",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "binary_sensor.notification_level_info",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 290,
        "y": 340,
        "wires": [
            [
                "3af43016251f4d2a"
            ],
            []
        ]
    },
    {
        "id": "faf897ee811f8cf2",
        "type": "api-current-state",
        "z": "72f3a564e626ff9a",
        "name": "garbage today",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "Geen",
        "halt_if_type": "str",
        "halt_if_compare": "is_not",
        "entity_id": "sensor.afval_vandaag",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "garbage_type",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 260,
        "y": 240,
        "wires": [
            [
                "6d32a564bcd340a4"
            ],
            []
        ]
    },
    {
        "id": "5fc3b5118b42d3ec",
        "type": "server-events",
        "z": "72f3a564e626ff9a",
        "name": "mobile event listner",
        "server": "4ba92433.2478cc",
        "version": 3,
        "exposeAsEntityConfig": "",
        "eventType": "mobile_app_notification_action",
        "eventData": "{\"action\":\"GARBAGE_ON\"}",
        "waitForRunning": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "$outputData(\"eventData\").event_type",
                "valueType": "jsonata"
            }
        ],
        "event_type": "",
        "x": 110,
        "y": 440,
        "wires": [
            [
                "223d859dcac9107a"
            ]
        ]
    },
    {
        "id": "bfe7a87449e07220",
        "type": "catch",
        "z": "72f3a564e626ff9a",
        "g": "00e1921baeb8bd5e",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "b6142c43c8cd2aa3"
            ]
        ]
    },
    {
        "id": "b6142c43c8cd2aa3",
        "type": "template",
        "z": "72f3a564e626ff9a",
        "g": "00e1921baeb8bd5e",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "887509b8f00c0fa0"
            ]
        ]
    },
    {
        "id": "14c8565d2e050386",
        "type": "link out",
        "z": "72f3a564e626ff9a",
        "g": "00e1921baeb8bd5e",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 475,
        "y": 80,
        "wires": []
    },
    {
        "id": "887509b8f00c0fa0",
        "type": "template",
        "z": "72f3a564e626ff9a",
        "g": "00e1921baeb8bd5e",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "14c8565d2e050386"
            ]
        ]
    },
    {
        "id": "63343a4588295b35",
        "type": "template",
        "z": "72f3a564e626ff9a",
        "g": "3b89d483d3628b14",
        "name": "tag",
        "field": "notify.tag",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "garbage",
        "output": "str",
        "x": 1330,
        "y": 480,
        "wires": [
            [
                "d0d3f913b8c035f3"
            ]
        ]
    },
    {
        "id": "b08254b0e018b396",
        "type": "api-call-service",
        "z": "72f3a564e626ff9a",
        "name": "dismiss notification",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "notify.notify",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [],
        "labelId": [],
        "data": "{\"message\":\"clear_notification\",\"data\":{\"tag\":\"garbage\"}}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": true,
        "domain": "notify",
        "service": "notify",
        "x": 1010,
        "y": 400,
        "wires": [
            []
        ]
    },
    {
        "id": "496caddb.5ba724",
        "type": "template",
        "z": "98a989e.d6bca78",
        "g": "7b3e33afc7e5d51f",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Er is {{payload}}m gas gemeten en niemand is aanwezig, controleer of het gas of verwarming is uitgezet.",
        "output": "str",
        "x": 1020,
        "y": 260,
        "wires": [
            [
                "5db5047bb3f69eb7"
            ]
        ]
    },
    {
        "id": "253b2fc1dbf20ad4",
        "type": "template",
        "z": "98a989e.d6bca78",
        "g": "7b3e33afc7e5d51f",
        "name": "icon",
        "field": "notify.icon",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "",
        "output": "str",
        "x": 1010,
        "y": 300,
        "wires": [
            [
                "5db5047bb3f69eb7"
            ]
        ]
    },
    {
        "id": "bdce8718917c4dcb",
        "type": "template",
        "z": "98a989e.d6bca78",
        "g": "7b3e33afc7e5d51f",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Gas",
        "output": "str",
        "x": 1010,
        "y": 220,
        "wires": [
            [
                "5db5047bb3f69eb7"
            ]
        ]
    },
    {
        "id": "b9f5925e88c3b14b",
        "type": "link out",
        "z": "98a989e.d6bca78",
        "g": "7b3e33afc7e5d51f",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "8ed3b0974336e55b"
        ],
        "x": 1265,
        "y": 260,
        "wires": []
    },
    {
        "id": "5db5047bb3f69eb7",
        "type": "join",
        "z": "98a989e.d6bca78",
        "g": "7b3e33afc7e5d51f",
        "name": "",
        "mode": "custom",
        "build": "merged",
        "property": "notify",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": false,
        "timeout": "",
        "count": "4",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 1170,
        "y": 260,
        "wires": [
            [
                "b9f5925e88c3b14b"
            ]
        ]
    },
    {
        "id": "fdc4c2eef34c0a15",
        "type": "template",
        "z": "98a989e.d6bca78",
        "g": "7b3e33afc7e5d51f",
        "name": "notification id",
        "field": "notify.notification_id",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "gas",
        "output": "str",
        "x": 1030,
        "y": 340,
        "wires": [
            [
                "5db5047bb3f69eb7"
            ]
        ]
    },
    {
        "id": "3238627b.1b1f0e",
        "type": "switch",
        "z": "98a989e.d6bca78",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "gt",
                "v": "0",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 250,
        "y": 200,
        "wires": [
            [
                "d99c251f.40c1c8"
            ]
        ]
    },
    {
        "id": "fac5f99c.1b7438",
        "type": "comment",
        "z": "98a989e.d6bca78",
        "name": "gas notification when nobody is in the house",
        "info": "",
        "x": 190,
        "y": 20,
        "wires": []
    },
    {
        "id": "d99c251f.40c1c8",
        "type": "api-current-state",
        "z": "98a989e.d6bca78",
        "name": "group persons is not home for 15 minutes",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "not_home",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "group.persons",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "group.persons",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "15",
        "forType": "num",
        "forUnits": "minutes",
        "x": 480,
        "y": 200,
        "wires": [
            [
                "7da2532c.8f20fc"
            ],
            []
        ]
    },
    {
        "id": "7da2532c.8f20fc",
        "type": "api-current-state",
        "z": "98a989e.d6bca78",
        "name": "guest state is off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.guest",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "gast",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 740,
        "y": 200,
        "wires": [
            [
                "4fc08434e069652b"
            ],
            []
        ]
    },
    {
        "id": "6429429b.d1375c",
        "type": "server-state-changed",
        "z": "98a989e.d6bca78",
        "name": "gas sensor state",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 1,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "sensor.dsmr_consumption_gas_currently_delivered"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": false,
        "stateType": "num",
        "ifState": "",
        "ifStateType": "num",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 100,
        "y": 200,
        "wires": [
            [
                "3238627b.1b1f0e"
            ]
        ]
    },
    {
        "id": "4b522fb422cd4d3b",
        "type": "catch",
        "z": "98a989e.d6bca78",
        "g": "9a6a0422b6ecafd9",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "135edde980b196c2"
            ]
        ]
    },
    {
        "id": "135edde980b196c2",
        "type": "template",
        "z": "98a989e.d6bca78",
        "g": "9a6a0422b6ecafd9",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "858d29207573b2c5"
            ]
        ]
    },
    {
        "id": "b6683e8825a4f684",
        "type": "link out",
        "z": "98a989e.d6bca78",
        "g": "9a6a0422b6ecafd9",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 475,
        "y": 80,
        "wires": []
    },
    {
        "id": "858d29207573b2c5",
        "type": "template",
        "z": "98a989e.d6bca78",
        "g": "9a6a0422b6ecafd9",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "b6683e8825a4f684"
            ]
        ]
    },
    {
        "id": "dbd6c4b98cdaf5bf",
        "type": "link out",
        "z": "b4aa7b8dbc1c80dc",
        "name": "notification",
        "mode": "link",
        "links": [
            "60e14e33a793f50d"
        ],
        "x": 1275,
        "y": 140,
        "wires": []
    },
    {
        "id": "ee5f0821374570e5",
        "type": "template",
        "z": "b4aa7b8dbc1c80dc",
        "name": "notification_level",
        "field": "notification_level",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "warning",
        "output": "str",
        "x": 1150,
        "y": 140,
        "wires": [
            [
                "dbd6c4b98cdaf5bf"
            ]
        ]
    },
    {
        "id": "4ee9eb9f9dfecd39",
        "type": "template",
        "z": "b4aa7b8dbc1c80dc",
        "name": "topic",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "weather",
        "output": "str",
        "x": 990,
        "y": 140,
        "wires": [
            [
                "ee5f0821374570e5"
            ]
        ]
    },
    {
        "id": "1842ef7b5cb665a1",
        "type": "template",
        "z": "b4aa7b8dbc1c80dc",
        "name": "primary information",
        "field": "primary_information",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "KNMI Waarschuwing",
        "output": "str",
        "x": 710,
        "y": 140,
        "wires": [
            [
                "1c560aa028e1bd79"
            ]
        ]
    },
    {
        "id": "73149a51d0ddd36e",
        "type": "template",
        "z": "b4aa7b8dbc1c80dc",
        "name": "secondary information",
        "field": "secondary_information",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "{{short_message}}...",
        "output": "str",
        "x": 500,
        "y": 140,
        "wires": [
            [
                "1842ef7b5cb665a1"
            ]
        ]
    },
    {
        "id": "f8a17203b85ebfc6",
        "type": "function",
        "z": "b4aa7b8dbc1c80dc",
        "name": "shorten message",
        "func": "// Check if msg.data, new_state, attributes, and Waarschuwing exist and are valid\nif (msg.data && msg.data.new_state && msg.data.new_state.attributes && typeof msg.data.new_state.attributes.Waarschuwing === 'string') {\n    // If it's a valid string, use substr to extract the first 400 characters\n    msg.short_message = msg.data.new_state.attributes.Waarschuwing.substr(0, 395);\n} else {\n    // If it's not a valid string or any part of the chain is missing, set a default or handle the error\n    msg.short_message = \"Waiting for a weather message...\";\n}\n\nreturn msg;\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 290,
        "y": 140,
        "wires": [
            [
                "73149a51d0ddd36e"
            ]
        ]
    },
    {
        "id": "1c560aa028e1bd79",
        "type": "template",
        "z": "b4aa7b8dbc1c80dc",
        "name": "icon",
        "field": "icon",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "mdi:weather-cloudy-alert",
        "output": "str",
        "x": 870,
        "y": 140,
        "wires": [
            [
                "4ee9eb9f9dfecd39"
            ]
        ]
    },
    {
        "id": "5a5946eca79911d5",
        "type": "server-state-changed",
        "z": "b4aa7b8dbc1c80dc",
        "name": "knmi warning",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "binary_sensor.knmi_warning"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": true,
        "stateType": "str",
        "ifState": "on",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": false,
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 110,
        "y": 140,
        "wires": [
            [
                "f8a17203b85ebfc6"
            ],
            []
        ]
    },
    {
        "id": "59261a1cba9f1c9d",
        "type": "catch",
        "z": "b4aa7b8dbc1c80dc",
        "g": "e14729bbb68696bb",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 120,
        "y": 60,
        "wires": [
            [
                "dc708d13b5623029"
            ]
        ]
    },
    {
        "id": "dc708d13b5623029",
        "type": "template",
        "z": "b4aa7b8dbc1c80dc",
        "g": "e14729bbb68696bb",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 270,
        "y": 60,
        "wires": [
            [
                "b4e30499c0f38241"
            ]
        ]
    },
    {
        "id": "db1e6a0372a267e5",
        "type": "link out",
        "z": "b4aa7b8dbc1c80dc",
        "g": "e14729bbb68696bb",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 495,
        "y": 60,
        "wires": []
    },
    {
        "id": "b4e30499c0f38241",
        "type": "template",
        "z": "b4aa7b8dbc1c80dc",
        "g": "e14729bbb68696bb",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 410,
        "y": 60,
        "wires": [
            [
                "db1e6a0372a267e5"
            ]
        ]
    },
    {
        "id": "8cc9f9d0eb2ee196",
        "type": "template",
        "z": "343515a5528e14f0",
        "g": "a438a5fafa2b7f02",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "ce9dcc40d72369f4"
            ]
        ]
    },
    {
        "id": "ce9dcc40d72369f4",
        "type": "link out",
        "z": "343515a5528e14f0",
        "g": "a438a5fafa2b7f02",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 475,
        "y": 80,
        "wires": []
    },
    {
        "id": "f095a3312890d656",
        "type": "template",
        "z": "343515a5528e14f0",
        "g": "a438a5fafa2b7f02",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "8cc9f9d0eb2ee196"
            ]
        ]
    },
    {
        "id": "42073f55aa389f5d",
        "type": "catch",
        "z": "343515a5528e14f0",
        "g": "a438a5fafa2b7f02",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "f095a3312890d656"
            ]
        ]
    },
    {
        "id": "8ed3b0974336e55b",
        "type": "link in",
        "z": "343515a5528e14f0",
        "name": "notify_coen",
        "links": [
            "8c93b438701888a6",
            "ac04035c1896218b",
            "73e546f49b2e02e1",
            "2c0a57bd6ee87009",
            "b9f5925e88c3b14b",
            "17c484a9c9a917ac",
            "ef18c5c2564a7e77",
            "c6bc1abd0ea4d3e7",
            "b41a40c1e135e55c",
            "ac254d4235d71700",
            "e188c5d43cc22d55",
            "f118397ef51d377e",
            "7a732e9184d0afcf",
            "2e9e2b02c8f4b00b",
            "8e10f7084a1fb496",
            "7776b1f9419bbd45",
            "e979b5648c1846fb"
        ],
        "x": 275,
        "y": 440,
        "wires": [
            [
                "b92773ff0b01fade"
            ]
        ]
    },
    {
        "id": "aeee8468f3d1b7ad",
        "type": "link in",
        "z": "343515a5528e14f0",
        "name": "notify_anne",
        "links": [
            "ef18c5c2564a7e77",
            "c6bc1abd0ea4d3e7",
            "ac254d4235d71700",
            "e188c5d43cc22d55",
            "7a732e9184d0afcf",
            "2e9e2b02c8f4b00b",
            "e979b5648c1846fb"
        ],
        "x": 275,
        "y": 500,
        "wires": [
            [
                "05c72cc515d6ee8d"
            ]
        ]
    },
    {
        "id": "76e9e8e982a2fef6",
        "type": "comment",
        "z": "343515a5528e14f0",
        "name": "notifications",
        "info": "",
        "x": 90,
        "y": 20,
        "wires": []
    },
    {
        "id": "a97f87cfab413716",
        "type": "link in",
        "z": "343515a5528e14f0",
        "name": "notify_in_app",
        "links": [
            "8c93b438701888a6",
            "ac04035c1896218b",
            "73e546f49b2e02e1",
            "2c0a57bd6ee87009",
            "17c484a9c9a917ac",
            "e188c5d43cc22d55",
            "008e4e3d5eb1c73a",
            "ce9dcc40d72369f4",
            "31afe4007c8c4380",
            "f9b220def47837e4",
            "17e4e7721adc09a1",
            "13f2b7ca42c4eca2",
            "4d1450df9aae47f1",
            "b7a8e5cc57ee6ca0",
            "7bf74cbdd5a69c4a",
            "c653974d1dff1810",
            "c026370f826e5d5f",
            "7bdad445330a11b6",
            "14c8565d2e050386",
            "b6683e8825a4f684",
            "db1e6a0372a267e5",
            "588232826fe1cb16",
            "a1d22443632b6c95",
            "dac0d4dda81abc95",
            "c84220140a8c71a3",
            "bf3806a421c7b15a",
            "fcbba10709360bf0",
            "80e833d182f30872",
            "388c6c30bcb85720",
            "88c8645165323767",
            "200857993ae893c3",
            "d6b4445ad7f5062a",
            "301e5101402d9cd1",
            "a6196b4738721e31",
            "6bcc6ca59609f4ee",
            "7a732e9184d0afcf",
            "7b8a53cdff17b707",
            "c9f30fc70f2be4fd",
            "46a0b57223aa4c17",
            "6352a2bd0e56f5a8",
            "5fce516d2b677877",
            "0795b985190d2d2c",
            "2cc9a5595a901b10",
            "fc1469a9f0ef1aee",
            "337ef9e6426bf90b",
            "37d1e62a237418c8",
            "896d42da6f78a4df",
            "41b174876237d623",
            "89630cbc58f61380",
            "2978274f7f9728d8",
            "bf8e5653c2636930",
            "cb2996d878c5e0c7",
            "03465ecf3ac1c82f",
            "c2b55a3f0ee96b43",
            "9d553baf555a2986",
            "01715f74afb788fa",
            "ef7470dc94a80ccd",
            "784ddf5ce5e4965e",
            "653fcb40d1a25093",
            "d0d98b18b43870d8",
            "dc649cae5470eb6f",
            "6e8aad8568d522fa",
            "c4352074f6a9380d",
            "651e1d1bfb037f1b",
            "e68a4f2c1f36acb9",
            "eac587a7da6b3661",
            "ccb7ef12d5532abb",
            "ccda14a2b42b3ef8",
            "e979b5648c1846fb",
            "72c4b873d76d1aea",
            "1cdb96d7083434cf",
            "85da6e2bed894b4c",
            "9d9757e80ab98a8d",
            "bb7462e22b7f56fd"
        ],
        "x": 275,
        "y": 560,
        "wires": [
            [
                "0d4dd5184c1b0c50"
            ]
        ]
    },
    {
        "id": "170690c80fc5131f",
        "type": "link in",
        "z": "343515a5528e14f0",
        "name": "notify_in_tts_google_home_speaker",
        "links": [],
        "x": 275,
        "y": 620,
        "wires": [
            [
                "577ae9a09334bd75"
            ]
        ]
    },
    {
        "id": "c4660dc11fb0e5b8",
        "type": "link in",
        "z": "343515a5528e14f0",
        "name": "notify_in_tts_wall_tablet",
        "links": [
            "0993d50e3c03d798",
            "1e0f934a3493b12f",
            "372e878f27b4b2b2",
            "57488cc36dcd2d00",
            "ac254d4235d71700",
            "c5f04c8242157305",
            "fdba7cd037a9da5a",
            "7528bd2fef1d9090",
            "e979b5648c1846fb"
        ],
        "x": 275,
        "y": 680,
        "wires": [
            [
                "e1fdac1fe178e720"
            ]
        ]
    },
    {
        "id": "c13b2b4d87067c17",
        "type": "link in",
        "z": "343515a5528e14f0",
        "name": "notify_tv",
        "links": [
            "e188c5d43cc22d55"
        ],
        "x": 275,
        "y": 380,
        "wires": [
            [
                "7bb626db9932d5ed"
            ]
        ]
    },
    {
        "id": "566faf848ae88258",
        "type": "change",
        "z": "343515a5528e14f0",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "trigger",
                "pt": "msg",
                "to": "",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1060,
        "y": 680,
        "wires": [
            [
                "e1fdac1fe178e720"
            ]
        ]
    },
    {
        "id": "5eb39518752706d4",
        "type": "change",
        "z": "343515a5528e14f0",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "trigger",
                "pt": "msg",
                "to": "",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1060,
        "y": 620,
        "wires": [
            [
                "577ae9a09334bd75"
            ]
        ]
    },
    {
        "id": "b92773ff0b01fade",
        "type": "api-call-service",
        "z": "343515a5528e14f0",
        "name": "notify coen",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "notify.mobile_app_phone_coen",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [],
        "labelId": [],
        "data": "{\"message\":\"{{notify.message}}\",\"title\":\"{{notify.title}}\",\"data\":{\"vibrationPattern\":\"{{notify.vibrationPattern}}\",\"channel\":\"{{notify.channel}}\",\"tag\":\"{{notify.tag}}\",\"clickAction\":\"{{notify.clickAction}}\"}}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "notify",
        "service": "mobile_app_phone_coen",
        "x": 390,
        "y": 440,
        "wires": [
            []
        ]
    },
    {
        "id": "05c72cc515d6ee8d",
        "type": "api-call-service",
        "z": "343515a5528e14f0",
        "name": "notify anne",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "notify.mobile_app_phone_anne",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [],
        "labelId": [],
        "data": "{\"message\":\"{{notify.message}}\",\"title\":\"{{notify.title}}\",\"data\":{\"vibrationPattern\":\"{{notify.vibrationPattern}}\",\"channel\":\"{{notify.channel}}\",\"tag\":\"{{notify.tag}}\",\"clickAction\":\"{{notify.clickAction}}\"}}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "notify",
        "service": "mobile_app_phone_anne",
        "x": 390,
        "y": 500,
        "wires": [
            []
        ]
    },
    {
        "id": "0d4dd5184c1b0c50",
        "type": "api-call-service",
        "z": "343515a5528e14f0",
        "name": "notify in app",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "persistent_notification.create",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [],
        "labelId": [],
        "data": "{\"message\":\"{{notify.message}}\",\"title\":\"{{notify.title}}\",\"notification_id\":\"{{notify.notification_id}}\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "persistent_notification",
        "service": "create",
        "x": 390,
        "y": 560,
        "wires": [
            []
        ]
    },
    {
        "id": "cfaf92063b478bdc",
        "type": "api-call-service",
        "z": "343515a5528e14f0",
        "name": "text to speech",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "tts.google_say",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [],
        "labelId": [],
        "data": "{\"entity_id\":\"media_player.home_speaker\",\"message\":\"{{notify.message}}\",\"language\":\"nl\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "tts",
        "service": "google_say",
        "x": 880,
        "y": 620,
        "wires": [
            [
                "5eb39518752706d4"
            ]
        ]
    },
    {
        "id": "f11dc3e3682ce836",
        "type": "api-call-service",
        "z": "343515a5528e14f0",
        "name": "text to speech",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "tts.google_say",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [],
        "labelId": [],
        "data": "{\"entity_id\":\"media_player.galaxy_tab_a8\",\"message\":\"{{notify.message}}\",\"language\":\"nl\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "tts",
        "service": "google_say",
        "x": 880,
        "y": 680,
        "wires": [
            [
                "566faf848ae88258"
            ]
        ]
    },
    {
        "id": "04792e2be9d492bd",
        "type": "api-call-service",
        "z": "343515a5528e14f0",
        "name": "notify tv",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "notify.lg_webos_smart_tv",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [],
        "labelId": [],
        "data": "{\"message\":\"{{notify.message}}\",\"title\":\"{{notify.title}}\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "notify",
        "service": "lg_webos_smart_tv",
        "x": 540,
        "y": 380,
        "wires": [
            []
        ]
    },
    {
        "id": "cf256ece81c0faee",
        "type": "ha-wait-until",
        "z": "343515a5528e14f0",
        "name": "wait until media player is not playing",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 1,
        "entities": {
            "entity": [
                "media_player.home_speaker"
            ],
            "substring": [],
            "regex": []
        },
        "property": "state",
        "comparator": "is_not",
        "value": "playing",
        "valueType": "str",
        "timeout": "",
        "timeoutType": "num",
        "timeoutUnits": "seconds",
        "checkCurrentState": true,
        "blockInputOverrides": true,
        "outputProperties": [],
        "entityLocation": "data",
        "entityLocationType": "none",
        "x": 630,
        "y": 620,
        "wires": [
            [
                "cfaf92063b478bdc"
            ]
        ]
    },
    {
        "id": "d94b50aeaba952d1",
        "type": "ha-wait-until",
        "z": "343515a5528e14f0",
        "name": "wait until media player is not playing",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "entities": {
            "entity": [
                "media_player.galaxy_tab_a8"
            ],
            "substring": [],
            "regex": []
        },
        "property": "state",
        "comparator": "is_not",
        "value": "playing",
        "valueType": "str",
        "timeout": "30",
        "timeoutType": "num",
        "timeoutUnits": "seconds",
        "checkCurrentState": true,
        "blockInputOverrides": true,
        "outputProperties": [],
        "entityLocation": "data",
        "entityLocationType": "none",
        "x": 630,
        "y": 680,
        "wires": [
            [
                "f11dc3e3682ce836"
            ],
            []
        ]
    },
    {
        "id": "e1fdac1fe178e720",
        "type": "simple-queue",
        "z": "343515a5528e14f0",
        "name": "",
        "firstMessageBypass": true,
        "bypassInterval": "0",
        "x": 390,
        "y": 680,
        "wires": [
            [
                "d94b50aeaba952d1"
            ]
        ]
    },
    {
        "id": "577ae9a09334bd75",
        "type": "simple-queue",
        "z": "343515a5528e14f0",
        "name": "",
        "firstMessageBypass": true,
        "bypassInterval": "0",
        "x": 390,
        "y": 620,
        "wires": [
            [
                "cf256ece81c0faee"
            ]
        ]
    },
    {
        "id": "7bb626db9932d5ed",
        "type": "api-current-state",
        "z": "343515a5528e14f0",
        "name": "tv is on",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is_not",
        "entity_id": "media_player.lg_webos_smart_tv",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 380,
        "y": 380,
        "wires": [
            [
                "04792e2be9d492bd"
            ],
            []
        ]
    },
    {
        "id": "0db5f8033b5c9adf",
        "type": "template",
        "z": "d5421f8d.f7208",
        "g": "f236f0a913f70054",
        "name": "icon",
        "field": "notify.icon",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "",
        "output": "str",
        "x": 2110,
        "y": 200,
        "wires": [
            [
                "6858101eee61155a"
            ]
        ]
    },
    {
        "id": "4b276bf7ef0c3217",
        "type": "template",
        "z": "d5421f8d.f7208",
        "g": "f236f0a913f70054",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Ventilatie",
        "output": "str",
        "x": 2110,
        "y": 120,
        "wires": [
            [
                "6858101eee61155a"
            ]
        ]
    },
    {
        "id": "ef18c5c2564a7e77",
        "type": "link out",
        "z": "d5421f8d.f7208",
        "g": "f236f0a913f70054",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "8ed3b0974336e55b",
            "aeee8468f3d1b7ad"
        ],
        "x": 2365,
        "y": 160,
        "wires": []
    },
    {
        "id": "6858101eee61155a",
        "type": "join",
        "z": "d5421f8d.f7208",
        "g": "f236f0a913f70054",
        "name": "",
        "mode": "custom",
        "build": "merged",
        "property": "notify",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": false,
        "timeout": "",
        "count": "3",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 2270,
        "y": 160,
        "wires": [
            [
                "ef18c5c2564a7e77"
            ]
        ]
    },
    {
        "id": "1414f6788bc8c787",
        "type": "template",
        "z": "d5421f8d.f7208",
        "g": "f236f0a913f70054",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Open de ramen boven om het in huis af te laten koelen, boven is de gemiddelde temperatuur {{payload}}  Buiten is de temperatuur {{outdoor_temperature}} .",
        "output": "str",
        "x": 2120,
        "y": 160,
        "wires": [
            [
                "6858101eee61155a",
                "d5e96dbb131b9d36"
            ]
        ]
    },
    {
        "id": "a7088cd0.05fa4",
        "type": "inject",
        "z": "d5421f8d.f7208",
        "name": "",
        "props": [],
        "repeat": "7200",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "x": 90,
        "y": 160,
        "wires": [
            [
                "87defeb3.2f624"
            ]
        ]
    },
    {
        "id": "2bd65702.c33608",
        "type": "comment",
        "z": "d5421f8d.f7208",
        "name": "outdoor temperature is lower then indoor temperature on the first floor",
        "info": "",
        "x": 290,
        "y": 20,
        "wires": []
    },
    {
        "id": "d5e96dbb131b9d36",
        "type": "template",
        "z": "d5421f8d.f7208",
        "name": "secondary information",
        "field": "secondary_information",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "{{notify.message}}",
        "output": "str",
        "x": 2320,
        "y": 300,
        "wires": [
            [
                "f8309ac281f2719d"
            ]
        ]
    },
    {
        "id": "ea6a2fd58eb54515",
        "type": "link out",
        "z": "d5421f8d.f7208",
        "name": "notification",
        "mode": "link",
        "links": [
            "60e14e33a793f50d"
        ],
        "x": 2405,
        "y": 500,
        "wires": []
    },
    {
        "id": "71065c3b1d663fa4",
        "type": "template",
        "z": "d5421f8d.f7208",
        "name": "notification_level",
        "field": "notification_level",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "info",
        "output": "str",
        "x": 2330,
        "y": 460,
        "wires": [
            [
                "ea6a2fd58eb54515"
            ]
        ]
    },
    {
        "id": "e0444f34bbc35ff2",
        "type": "template",
        "z": "d5421f8d.f7208",
        "name": "topic",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "ventilation",
        "output": "str",
        "x": 2370,
        "y": 420,
        "wires": [
            [
                "71065c3b1d663fa4"
            ]
        ]
    },
    {
        "id": "41d591f22c238a15",
        "type": "template",
        "z": "d5421f8d.f7208",
        "name": "icon",
        "field": "icon",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "mdi:weather-windy",
        "output": "str",
        "x": 2370,
        "y": 380,
        "wires": [
            [
                "e0444f34bbc35ff2"
            ]
        ]
    },
    {
        "id": "f8309ac281f2719d",
        "type": "template",
        "z": "d5421f8d.f7208",
        "name": "primary information",
        "field": "primary_information",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Ventilatie",
        "output": "str",
        "x": 2330,
        "y": 340,
        "wires": [
            [
                "41d591f22c238a15"
            ]
        ]
    },
    {
        "id": "8d34e21d.b818f",
        "type": "change",
        "z": "d5421f8d.f7208",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "payload.attributes.current_temperature",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 600,
        "y": 160,
        "wires": [
            [
                "71d62d7c.0c49f4"
            ]
        ]
    },
    {
        "id": "71d62d7c.0c49f4",
        "type": "join",
        "z": "d5421f8d.f7208",
        "name": "",
        "mode": "auto",
        "build": "array",
        "property": "payload",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "useparts": true,
        "accumulate": false,
        "timeout": "",
        "count": "4",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "num",
        "reduceFixup": "",
        "x": 750,
        "y": 160,
        "wires": [
            [
                "f553666a.3acb38"
            ]
        ]
    },
    {
        "id": "f553666a.3acb38",
        "type": "calculator",
        "z": "d5421f8d.f7208",
        "name": "",
        "inputMsgField": "payload",
        "outputMsgField": "payload",
        "operation": "avg",
        "constant": "",
        "round": true,
        "truncate": false,
        "decimals": "1",
        "decimals2": "0",
        "x": 880,
        "y": 160,
        "wires": [
            [
                "b108409c.24dae"
            ]
        ]
    },
    {
        "id": "b108409c.24dae",
        "type": "api-current-state",
        "z": "d5421f8d.f7208",
        "name": "outdoor temperature",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "payload",
        "halt_if_type": "msg",
        "halt_if_compare": "lt",
        "entity_id": "sensor.weather_station_temperature",
        "state_type": "num",
        "blockInputOverrides": true,
        "outputProperties": [
            {
                "property": "outdoor_temperature",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 1060,
        "y": 160,
        "wires": [
            [
                "eb9d5e14.c47ca"
            ],
            [
                "cf3165dc8b9966df"
            ]
        ]
    },
    {
        "id": "317fcdab.4c33d2",
        "type": "ha-get-entities",
        "z": "d5421f8d.f7208",
        "name": "get climate entities",
        "server": "4ba92433.2478cc",
        "version": 1,
        "rules": [
            {
                "condition": "floor_registry",
                "property": "level",
                "logic": "is",
                "value": "1",
                "valueType": "str"
            },
            {
                "condition": "state_object",
                "property": "entity_id",
                "logic": "starts_with",
                "value": "climate.",
                "valueType": "str"
            },
            {
                "condition": "state_object",
                "property": "attributes.preset_modes.2",
                "logic": "is",
                "value": "auto",
                "valueType": "str"
            }
        ],
        "outputType": "split",
        "outputEmptyResults": false,
        "outputLocationType": "msg",
        "outputLocation": "payload",
        "outputResultsCount": 1,
        "x": 410,
        "y": 160,
        "wires": [
            [
                "8d34e21d.b818f"
            ]
        ]
    },
    {
        "id": "87defeb3.2f624",
        "type": "time-range-switch",
        "z": "d5421f8d.f7208",
        "name": "",
        "lat": "52.0245",
        "lon": "5.66701",
        "startTime": "06:00",
        "endTime": "00:00",
        "startOffset": 0,
        "endOffset": "0",
        "x": 230,
        "y": 160,
        "wires": [
            [
                "317fcdab.4c33d2"
            ],
            []
        ]
    },
    {
        "id": "5966ae391638c2e2",
        "type": "catch",
        "z": "d5421f8d.f7208",
        "g": "65b23193509b810d",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 120,
        "y": 80,
        "wires": [
            [
                "afca751308698d24"
            ]
        ]
    },
    {
        "id": "afca751308698d24",
        "type": "template",
        "z": "d5421f8d.f7208",
        "g": "65b23193509b810d",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 270,
        "y": 80,
        "wires": [
            [
                "996b414e0e42417f"
            ]
        ]
    },
    {
        "id": "588232826fe1cb16",
        "type": "link out",
        "z": "d5421f8d.f7208",
        "g": "65b23193509b810d",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 495,
        "y": 80,
        "wires": []
    },
    {
        "id": "996b414e0e42417f",
        "type": "template",
        "z": "d5421f8d.f7208",
        "g": "65b23193509b810d",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 410,
        "y": 80,
        "wires": [
            [
                "588232826fe1cb16"
            ]
        ]
    },
    {
        "id": "a97a74772300989a",
        "type": "ha-binary-sensor",
        "z": "d5421f8d.f7208",
        "name": "open_windows_first_floor",
        "entityConfig": "fcb1f1df3e876534",
        "version": 0,
        "state": "sensor_state",
        "stateType": "msg",
        "attributes": [
            {
                "property": "outdoor_temperature",
                "value": "outdoor_temperature",
                "valueType": "msg"
            },
            {
                "property": "first_floor_avarage_temperature",
                "value": "payload",
                "valueType": "msg"
            }
        ],
        "inputOverride": "allow",
        "outputProperties": [],
        "x": 1750,
        "y": 200,
        "wires": [
            []
        ]
    },
    {
        "id": "7e5b4ee3467aee37",
        "type": "change",
        "z": "d5421f8d.f7208",
        "name": "on",
        "rules": [
            {
                "t": "set",
                "p": "sensor_state",
                "pt": "msg",
                "to": "on",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1550,
        "y": 140,
        "wires": [
            [
                "eaec84df6f30a9ec",
                "a97a74772300989a"
            ]
        ]
    },
    {
        "id": "04165617d82c8ab8",
        "type": "change",
        "z": "d5421f8d.f7208",
        "name": "off",
        "rules": [
            {
                "t": "set",
                "p": "sensor_state",
                "pt": "msg",
                "to": "off",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1550,
        "y": 200,
        "wires": [
            [
                "a97a74772300989a"
            ]
        ]
    },
    {
        "id": "eb9d5e14.c47ca",
        "type": "switch",
        "z": "d5421f8d.f7208",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "gt",
                "v": "23",
                "vt": "num"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1250,
        "y": 140,
        "wires": [
            [
                "266f76029289adb0"
            ],
            [
                "7ccb7ced4e8c8a8f"
            ]
        ]
    },
    {
        "id": "266f76029289adb0",
        "type": "api-current-state",
        "z": "d5421f8d.f7208",
        "name": "sensor is off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "binary_sensor.open_windows_first_floor",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 1410,
        "y": 140,
        "wires": [
            [
                "7e5b4ee3467aee37"
            ],
            []
        ]
    },
    {
        "id": "7ccb7ced4e8c8a8f",
        "type": "api-current-state",
        "z": "d5421f8d.f7208",
        "name": "sensor is on",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "binary_sensor.open_windows_first_floor",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 1410,
        "y": 200,
        "wires": [
            [
                "04165617d82c8ab8"
            ],
            []
        ]
    },
    {
        "id": "56e8236b1fb323bc",
        "type": "template",
        "z": "75537afd17de5117",
        "g": "ef69ec82c772cad9",
        "name": "tag",
        "field": "notify.tag",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "picnic",
        "output": "str",
        "x": 1810,
        "y": 540,
        "wires": [
            [
                "64fb1dffb9145f24"
            ]
        ]
    },
    {
        "id": "64fb1dffb9145f24",
        "type": "join",
        "z": "75537afd17de5117",
        "g": "ef69ec82c772cad9",
        "name": "",
        "mode": "custom",
        "build": "merged",
        "property": "notify",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "useparts": true,
        "accumulate": false,
        "timeout": "",
        "count": "4",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 1970,
        "y": 500,
        "wires": [
            [
                "c32738f7b2c8ece5"
            ]
        ]
    },
    {
        "id": "c32738f7b2c8ece5",
        "type": "link out",
        "z": "75537afd17de5117",
        "g": "ef69ec82c772cad9",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "8ed3b0974336e55b",
            "a97f87cfab413716",
            "aeee8468f3d1b7ad"
        ],
        "x": 2055,
        "y": 500,
        "wires": []
    },
    {
        "id": "4b6f2391d1d4dfb7",
        "type": "template",
        "z": "75537afd17de5117",
        "g": "ef69ec82c772cad9",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Picnic",
        "output": "str",
        "x": 1810,
        "y": 460,
        "wires": [
            [
                "64fb1dffb9145f24"
            ]
        ]
    },
    {
        "id": "644d8e4f0164cfb2",
        "type": "template",
        "z": "75537afd17de5117",
        "g": "ef69ec82c772cad9",
        "name": "icon",
        "field": "notify.icon",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "mdi:cart-variant",
        "output": "str",
        "x": 1810,
        "y": 500,
        "wires": [
            [
                "64fb1dffb9145f24"
            ]
        ]
    },
    {
        "id": "77d3e073983d7d6a",
        "type": "template",
        "z": "75537afd17de5117",
        "name": "topic",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "picnic",
        "output": "str",
        "x": 1770,
        "y": 300,
        "wires": [
            [
                "85ec3596d3fd73bd"
            ]
        ]
    },
    {
        "id": "14470f4c11802ac6",
        "type": "template",
        "z": "75537afd17de5117",
        "name": "secondary information",
        "field": "secondary_information",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Tussen {{payload.start.mytime}} en {{payload.end.mytime}} staat Picnic voor de deur",
        "output": "str",
        "x": 1480,
        "y": 260,
        "wires": [
            [
                "41d0860dc5097d38"
            ]
        ]
    },
    {
        "id": "41d0860dc5097d38",
        "type": "template",
        "z": "75537afd17de5117",
        "name": "primary information",
        "field": "primary_information",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Picnic",
        "output": "str",
        "x": 1810,
        "y": 260,
        "wires": [
            [
                "77d3e073983d7d6a"
            ]
        ]
    },
    {
        "id": "85ec3596d3fd73bd",
        "type": "template",
        "z": "75537afd17de5117",
        "name": "notification_level",
        "field": "notification_level",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "info",
        "output": "str",
        "x": 1810,
        "y": 340,
        "wires": [
            [
                "2dbb9134617a5402"
            ]
        ]
    },
    {
        "id": "2dbb9134617a5402",
        "type": "change",
        "z": "75537afd17de5117",
        "name": "set icon",
        "rules": [
            {
                "t": "set",
                "p": "icon",
                "pt": "msg",
                "to": "mdi:cart-variant",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1780,
        "y": 380,
        "wires": [
            [
                "44a15e4a3bd02612"
            ]
        ]
    },
    {
        "id": "b6a5a8fb06e323fe",
        "type": "change",
        "z": "75537afd17de5117",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "date",
                "pt": "msg",
                "to": "picnic_next_delivery_eta_start",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 490,
        "y": 260,
        "wires": [
            [
                "a80e12ba7e06011c"
            ]
        ]
    },
    {
        "id": "20a55376db0798a4",
        "type": "change",
        "z": "75537afd17de5117",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "date",
                "pt": "msg",
                "to": "picnic_next_delivery_eta_end",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 490,
        "y": 320,
        "wires": [
            [
                "fbfa1f7bfdf77af6"
            ]
        ]
    },
    {
        "id": "0c7a8318641234b3",
        "type": "join",
        "z": "75537afd17de5117",
        "name": "",
        "mode": "custom",
        "build": "merged",
        "property": "payload",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": true,
        "timeout": "",
        "count": "2",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 1070,
        "y": 260,
        "wires": [
            [
                "14470f4c11802ac6",
                "7d1ac466c12890de"
            ]
        ]
    },
    {
        "id": "2c31a96255251568",
        "type": "function",
        "z": "75537afd17de5117",
        "name": "Add time objects to payload",
        "func": "msg.payload = {}\nmsg.payload.start = {}\n\nmsg.payload.start.mytime = msg.mytime\nmsg.payload.start.myymd = msg.myymd\n\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 860,
        "y": 260,
        "wires": [
            [
                "0c7a8318641234b3"
            ]
        ]
    },
    {
        "id": "e184490a36dc09a0",
        "type": "function",
        "z": "75537afd17de5117",
        "name": "Add time objects to payload",
        "func": "msg.payload = {}\nmsg.payload.end = {}\n\nmsg.payload.end.mytime = msg.mytime\nmsg.payload.end.myymd = msg.myymd\n\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 860,
        "y": 320,
        "wires": [
            [
                "0c7a8318641234b3"
            ]
        ]
    },
    {
        "id": "c13d90e2be19e58b",
        "type": "comment",
        "z": "75537afd17de5117",
        "name": "picnic delivery notification",
        "info": "",
        "x": 130,
        "y": 20,
        "wires": []
    },
    {
        "id": "44a15e4a3bd02612",
        "type": "link out",
        "z": "75537afd17de5117",
        "name": "notification",
        "mode": "link",
        "links": [
            "60e14e33a793f50d"
        ],
        "x": 2025,
        "y": 380,
        "wires": []
    },
    {
        "id": "d30994bbcaef5d1d",
        "type": "inject",
        "z": "75537afd17de5117",
        "name": "",
        "props": [
            {
                "p": "current_time",
                "v": "",
                "vt": "date"
            }
        ],
        "repeat": "300",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "x": 90,
        "y": 460,
        "wires": [
            [
                "c0aa77e2e5285d4b",
                "8aa5f383b3e9b3bf"
            ]
        ]
    },
    {
        "id": "f25a03c4b847f93d",
        "type": "change",
        "z": "75537afd17de5117",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "date",
                "pt": "msg",
                "to": "picnic_next_delivery_eta_start",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 490,
        "y": 460,
        "wires": [
            [
                "251cb434406b8b6e"
            ]
        ]
    },
    {
        "id": "fdbf3117f80f9c85",
        "type": "change",
        "z": "75537afd17de5117",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "date",
                "pt": "msg",
                "to": "picnic_next_delivery_eta_end",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 490,
        "y": 520,
        "wires": [
            [
                "07d9505862e9b884"
            ]
        ]
    },
    {
        "id": "e86d6d6bfba6bc21",
        "type": "function",
        "z": "75537afd17de5117",
        "name": "Add time objects to payload",
        "func": "msg.payload = {}\nmsg.payload.start = {}\n\nmsg.payload.start.mytime = msg.mytime\nmsg.payload.start.myymd = msg.myymd\nmsg.payload.start.myepoch = msg.myepoch\n\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 860,
        "y": 460,
        "wires": [
            [
                "42cffd05b63d3293"
            ]
        ]
    },
    {
        "id": "5739b7e57c824256",
        "type": "function",
        "z": "75537afd17de5117",
        "name": "Add time objects to payload",
        "func": "msg.payload = {}\nmsg.payload.end = {}\n\nmsg.payload.end.mytime = msg.mytime\nmsg.payload.end.myymd = msg.myymd\n\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 860,
        "y": 520,
        "wires": [
            [
                "42cffd05b63d3293"
            ]
        ]
    },
    {
        "id": "42cffd05b63d3293",
        "type": "join",
        "z": "75537afd17de5117",
        "name": "",
        "mode": "custom",
        "build": "merged",
        "property": "payload",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": true,
        "timeout": "",
        "count": "2",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 1070,
        "y": 460,
        "wires": [
            [
                "4448bf9259b57d76"
            ]
        ]
    },
    {
        "id": "4448bf9259b57d76",
        "type": "switch",
        "z": "75537afd17de5117",
        "name": "",
        "property": "current_time",
        "propertyType": "msg",
        "rules": [
            {
                "t": "gt",
                "v": "myepoch",
                "vt": "msg"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1190,
        "y": 460,
        "wires": [
            [
                "ee81f033c7bc9f0f"
            ]
        ]
    },
    {
        "id": "ee81f033c7bc9f0f",
        "type": "rbe",
        "z": "75537afd17de5117",
        "name": "",
        "func": "rbe",
        "gap": "",
        "start": "",
        "inout": "out",
        "septopics": true,
        "property": "payload",
        "topi": "topic",
        "x": 1310,
        "y": 460,
        "wires": [
            [
                "b3a5d188e65ecafd"
            ]
        ]
    },
    {
        "id": "7d1ac466c12890de",
        "type": "template",
        "z": "75537afd17de5117",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Tussen {{payload.start.mytime}} en {{payload.end.mytime}} staat Picnic voor de deur",
        "output": "str",
        "x": 1520,
        "y": 300,
        "wires": [
            [
                "5cb88a741e06d0c9"
            ]
        ]
    },
    {
        "id": "b3a5d188e65ecafd",
        "type": "template",
        "z": "75537afd17de5117",
        "name": "secondary information",
        "field": "secondary_information",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Picnic staat bijna voor de deur. Tussen {{payload.start.mytime}} en {{payload.end.mytime}}.",
        "output": "str",
        "x": 1480,
        "y": 460,
        "wires": [
            [
                "41d0860dc5097d38"
            ]
        ]
    },
    {
        "id": "a6ef62b554d3aac7",
        "type": "template",
        "z": "75537afd17de5117",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Picnic staat bijna voor de deur. Tussen {{payload.start.mytime}} en {{payload.end.mytime}}.",
        "output": "str",
        "x": 1520,
        "y": 500,
        "wires": [
            [
                "5cb88a741e06d0c9"
            ]
        ]
    },
    {
        "id": "0f24449fc1a8bc78",
        "type": "comment",
        "z": "75537afd17de5117",
        "name": "Send a message once the start time has been known",
        "info": "",
        "x": 230,
        "y": 220,
        "wires": []
    },
    {
        "id": "e9481b54b8db081c",
        "type": "comment",
        "z": "75537afd17de5117",
        "name": "Send a message once the start time is above current time",
        "info": "",
        "x": 250,
        "y": 420,
        "wires": []
    },
    {
        "id": "967b0029e044c941",
        "type": "api-current-state",
        "z": "75537afd17de5117",
        "name": "picnic expected end delivery",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "unknown",
        "halt_if_type": "str",
        "halt_if_compare": "is_not",
        "entity_id": "sensor.picnic_expected_end_of_next_delivery",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "picnic_next_delivery_eta_end",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 160,
        "y": 320,
        "wires": [
            [
                "20a55376db0798a4"
            ],
            []
        ]
    },
    {
        "id": "c0aa77e2e5285d4b",
        "type": "api-current-state",
        "z": "75537afd17de5117",
        "name": "start datetime next delivery",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "unknown",
        "halt_if_type": "str",
        "halt_if_compare": "is_not",
        "entity_id": "sensor.picnic_expected_start_of_next_delivery",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "picnic_next_delivery_eta_start",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 280,
        "y": 460,
        "wires": [
            [
                "f25a03c4b847f93d"
            ],
            []
        ]
    },
    {
        "id": "8aa5f383b3e9b3bf",
        "type": "api-current-state",
        "z": "75537afd17de5117",
        "name": "start datetime next delivery",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "unknown",
        "halt_if_type": "str",
        "halt_if_compare": "is_not",
        "entity_id": "sensor.picnic_expected_end_of_next_delivery",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "picnic_next_delivery_eta_end",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 280,
        "y": 520,
        "wires": [
            [
                "fdbf3117f80f9c85"
            ],
            []
        ]
    },
    {
        "id": "c894705717c745bf",
        "type": "server-state-changed",
        "z": "75537afd17de5117",
        "name": "start datetime next delivery",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 1,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "sensor.picnic_expected_start_of_next_delivery"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": true,
        "stateType": "str",
        "ifState": "",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "picnic_next_delivery_eta_start",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            }
        ],
        "x": 150,
        "y": 260,
        "wires": [
            [
                "b6a5a8fb06e323fe",
                "967b0029e044c941"
            ]
        ]
    },
    {
        "id": "a80e12ba7e06011c",
        "type": "simpletime",
        "z": "75537afd17de5117",
        "name": "",
        "mydate": true,
        "myymd": true,
        "myyear": true,
        "mymonth": true,
        "mymonthn": true,
        "mymonthf": true,
        "mydom": true,
        "mydoy": true,
        "myday": true,
        "mydayf": true,
        "myhourpm": true,
        "myhour": true,
        "mytime": true,
        "mytimes": true,
        "myminute": true,
        "myminutes": true,
        "mysecond": true,
        "mymillis": true,
        "myepoch": true,
        "myrawdate": true,
        "mypm": true,
        "x": 650,
        "y": 260,
        "wires": [
            [
                "2c31a96255251568"
            ]
        ]
    },
    {
        "id": "fbfa1f7bfdf77af6",
        "type": "simpletime",
        "z": "75537afd17de5117",
        "name": "",
        "mydate": true,
        "myymd": true,
        "myyear": true,
        "mymonth": true,
        "mymonthn": true,
        "mymonthf": true,
        "mydom": true,
        "mydoy": true,
        "myday": true,
        "mydayf": true,
        "myhourpm": true,
        "myhour": true,
        "mytime": true,
        "mytimes": true,
        "myminute": true,
        "myminutes": true,
        "mysecond": true,
        "mymillis": true,
        "myepoch": true,
        "myrawdate": true,
        "mypm": true,
        "x": 650,
        "y": 320,
        "wires": [
            [
                "e184490a36dc09a0"
            ]
        ]
    },
    {
        "id": "251cb434406b8b6e",
        "type": "simpletime",
        "z": "75537afd17de5117",
        "name": "",
        "mydate": true,
        "myymd": true,
        "myyear": true,
        "mymonth": true,
        "mymonthn": true,
        "mymonthf": true,
        "mydom": true,
        "mydoy": true,
        "myday": true,
        "mydayf": true,
        "myhourpm": true,
        "myhour": true,
        "mytime": true,
        "mytimes": true,
        "myminute": true,
        "myminutes": true,
        "mysecond": true,
        "mymillis": true,
        "myepoch": true,
        "myrawdate": true,
        "mypm": true,
        "x": 650,
        "y": 460,
        "wires": [
            [
                "e86d6d6bfba6bc21"
            ]
        ]
    },
    {
        "id": "07d9505862e9b884",
        "type": "simpletime",
        "z": "75537afd17de5117",
        "name": "",
        "mydate": true,
        "myymd": true,
        "myyear": true,
        "mymonth": true,
        "mymonthn": true,
        "mymonthf": true,
        "mydom": true,
        "mydoy": true,
        "myday": true,
        "mydayf": true,
        "myhourpm": true,
        "myhour": true,
        "mytime": true,
        "mytimes": true,
        "myminute": true,
        "myminutes": true,
        "mysecond": true,
        "mymillis": true,
        "myepoch": true,
        "myrawdate": true,
        "mypm": true,
        "x": 650,
        "y": 520,
        "wires": [
            [
                "5739b7e57c824256"
            ]
        ]
    },
    {
        "id": "08e87e585225cf76",
        "type": "catch",
        "z": "75537afd17de5117",
        "g": "8b3123563ca26288",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "850de025f821d110"
            ]
        ]
    },
    {
        "id": "850de025f821d110",
        "type": "template",
        "z": "75537afd17de5117",
        "g": "8b3123563ca26288",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "34627360e59b2422"
            ]
        ]
    },
    {
        "id": "a1d22443632b6c95",
        "type": "link out",
        "z": "75537afd17de5117",
        "g": "8b3123563ca26288",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 475,
        "y": 80,
        "wires": []
    },
    {
        "id": "34627360e59b2422",
        "type": "template",
        "z": "75537afd17de5117",
        "g": "8b3123563ca26288",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "a1d22443632b6c95"
            ]
        ]
    },
    {
        "id": "0e310c70840e8224",
        "type": "comment",
        "z": "535c98d1d92579b6",
        "name": "Notification sensors",
        "info": "",
        "x": 110,
        "y": 20,
        "wires": []
    },
    {
        "id": "d284fbdad343c385",
        "type": "change",
        "z": "535c98d1d92579b6",
        "name": "change queueCount to prevent loop",
        "rules": [
            {
                "t": "set",
                "p": "queueCount",
                "pt": "msg",
                "to": "queueCount-disabled",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1120,
        "y": 400,
        "wires": [
            [
                "4a33ba091890f26c"
            ]
        ]
    },
    {
        "id": "88f82f16d0ecc697",
        "type": "switch",
        "z": "535c98d1d92579b6",
        "name": "queueCount is manual",
        "property": "queueCount",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "manual",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1080,
        "y": 480,
        "wires": [
            [
                "08621321cbd341f3"
            ]
        ]
    },
    {
        "id": "cf3dcb6dddbc3023",
        "type": "switch",
        "z": "535c98d1d92579b6",
        "name": "queueCount = 0",
        "property": "_queueCount",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1320,
        "y": 320,
        "wires": [
            [
                "eb4339876a876c95"
            ]
        ]
    },
    {
        "id": "eb4339876a876c95",
        "type": "change",
        "z": "535c98d1d92579b6",
        "name": "turn off",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "off",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1470,
        "y": 320,
        "wires": [
            [
                "60dd6681f0c203d8"
            ]
        ]
    },
    {
        "id": "e190582e7eecb772",
        "type": "change",
        "z": "535c98d1d92579b6",
        "name": "send queueCount",
        "rules": [
            {
                "t": "set",
                "p": "queueCount",
                "pt": "msg",
                "to": "manual",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 610,
        "y": 360,
        "wires": [
            [
                "4f661232083706f4"
            ]
        ]
    },
    {
        "id": "08621321cbd341f3",
        "type": "change",
        "z": "535c98d1d92579b6",
        "name": "trigger next notification",
        "rules": [
            {
                "t": "set",
                "p": "trigger",
                "pt": "msg",
                "to": "",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1080,
        "y": 440,
        "wires": [
            [
                "d284fbdad343c385"
            ]
        ]
    },
    {
        "id": "c7424ac5390d672f",
        "type": "switch",
        "z": "535c98d1d92579b6",
        "name": "queueCount manual or not",
        "property": "queueCount",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "manual",
                "vt": "str"
            },
            {
                "t": "neq",
                "v": "manual",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1100,
        "y": 360,
        "wires": [
            [
                "cf3dcb6dddbc3023"
            ],
            [
                "f828d6073d42e100"
            ]
        ]
    },
    {
        "id": "60e14e33a793f50d",
        "type": "link in",
        "z": "535c98d1d92579b6",
        "name": "notification_sensors",
        "links": [
            "178e42db86a628e8",
            "4705f09e38185adf",
            "8474d1caa427cb1a",
            "9fd7a6afaf90435a",
            "afc68deb5ab5e4be",
            "dbd6c4b98cdaf5bf",
            "a9aa3ff08dd7532c"
        ],
        "x": 225,
        "y": 260,
        "wires": [
            [
                "1dfbe5c40868f075"
            ]
        ]
    },
    {
        "id": "1dfbe5c40868f075",
        "type": "change",
        "z": "535c98d1d92579b6",
        "name": "turn on",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "on",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 340,
        "y": 260,
        "wires": [
            [
                "b47b5b571e70f987"
            ]
        ]
    },
    {
        "id": "b47b5b571e70f987",
        "type": "switch",
        "z": "535c98d1d92579b6",
        "name": "notification level",
        "property": "notification_level",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "info",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "warning",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "error",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 3,
        "x": 500,
        "y": 260,
        "wires": [
            [
                "50241184111a2c70"
            ],
            [
                "d562f0f246daa67a"
            ],
            [
                "deabe55a2db7bf66"
            ]
        ]
    },
    {
        "id": "20e547681f231053",
        "type": "change",
        "z": "535c98d1d92579b6",
        "name": "change queueCount to prevent loop",
        "rules": [
            {
                "t": "set",
                "p": "queueCount",
                "pt": "msg",
                "to": "queueCount-disabled",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1120,
        "y": 640,
        "wires": [
            [
                "301e94d904b9a128"
            ]
        ]
    },
    {
        "id": "efbc738612c5af68",
        "type": "switch",
        "z": "535c98d1d92579b6",
        "name": "queueCount is manual",
        "property": "queueCount",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "manual",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1080,
        "y": 720,
        "wires": [
            [
                "7ebeace41d10ab2c"
            ]
        ]
    },
    {
        "id": "bbbb44ecec657829",
        "type": "switch",
        "z": "535c98d1d92579b6",
        "name": "queueCount = 0",
        "property": "_queueCount",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1320,
        "y": 560,
        "wires": [
            [
                "de6a06807eba37cd"
            ]
        ]
    },
    {
        "id": "de6a06807eba37cd",
        "type": "change",
        "z": "535c98d1d92579b6",
        "name": "turn off",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "off",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1470,
        "y": 560,
        "wires": [
            [
                "528f1050a96e3ee8"
            ]
        ]
    },
    {
        "id": "736105227bd073f9",
        "type": "change",
        "z": "535c98d1d92579b6",
        "name": "send queueCount",
        "rules": [
            {
                "t": "set",
                "p": "queueCount",
                "pt": "msg",
                "to": "manual",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 610,
        "y": 600,
        "wires": [
            [
                "318426830832aad5"
            ]
        ]
    },
    {
        "id": "7ebeace41d10ab2c",
        "type": "change",
        "z": "535c98d1d92579b6",
        "name": "trigger next notification",
        "rules": [
            {
                "t": "set",
                "p": "trigger",
                "pt": "msg",
                "to": "",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1080,
        "y": 680,
        "wires": [
            [
                "20e547681f231053"
            ]
        ]
    },
    {
        "id": "e411b0ba582c91c2",
        "type": "switch",
        "z": "535c98d1d92579b6",
        "name": "queueCount manual or not",
        "property": "queueCount",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "manual",
                "vt": "str"
            },
            {
                "t": "neq",
                "v": "manual",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1100,
        "y": 600,
        "wires": [
            [
                "bbbb44ecec657829"
            ],
            [
                "91eedee11e4bcc9a"
            ]
        ]
    },
    {
        "id": "4c54182aa65282bd",
        "type": "change",
        "z": "535c98d1d92579b6",
        "name": "change queueCount to prevent loop",
        "rules": [
            {
                "t": "set",
                "p": "queueCount",
                "pt": "msg",
                "to": "queueCount-disabled",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1120,
        "y": 880,
        "wires": [
            [
                "b9e7aa8885c6c8ee"
            ]
        ]
    },
    {
        "id": "78188ae45f430dd6",
        "type": "switch",
        "z": "535c98d1d92579b6",
        "name": "queueCount is manual",
        "property": "queueCount",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "manual",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1080,
        "y": 960,
        "wires": [
            [
                "145923d276293382"
            ]
        ]
    },
    {
        "id": "bc4a54588c595f3f",
        "type": "switch",
        "z": "535c98d1d92579b6",
        "name": "queueCount = 0",
        "property": "_queueCount",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1320,
        "y": 800,
        "wires": [
            [
                "c9b99378a043955e"
            ]
        ]
    },
    {
        "id": "c9b99378a043955e",
        "type": "change",
        "z": "535c98d1d92579b6",
        "name": "turn off",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "off",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1470,
        "y": 800,
        "wires": [
            [
                "888146b5bc3de9b0"
            ]
        ]
    },
    {
        "id": "0ad5ce9b55391b05",
        "type": "change",
        "z": "535c98d1d92579b6",
        "name": "send queueCount",
        "rules": [
            {
                "t": "set",
                "p": "queueCount",
                "pt": "msg",
                "to": "manual",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 610,
        "y": 840,
        "wires": [
            [
                "f772e0315cdeaa39"
            ]
        ]
    },
    {
        "id": "145923d276293382",
        "type": "change",
        "z": "535c98d1d92579b6",
        "name": "trigger next notification",
        "rules": [
            {
                "t": "set",
                "p": "trigger",
                "pt": "msg",
                "to": "",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1080,
        "y": 920,
        "wires": [
            [
                "4c54182aa65282bd"
            ]
        ]
    },
    {
        "id": "cc525d2002136a4c",
        "type": "switch",
        "z": "535c98d1d92579b6",
        "name": "queueCount manual or not",
        "property": "queueCount",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "manual",
                "vt": "str"
            },
            {
                "t": "neq",
                "v": "manual",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1100,
        "y": 840,
        "wires": [
            [
                "bc4a54588c595f3f"
            ],
            [
                "33214ff962dae990"
            ]
        ]
    },
    {
        "id": "33214ff962dae990",
        "type": "switch",
        "z": "535c98d1d92579b6",
        "name": "has icon or not",
        "property": "icon",
        "propertyType": "msg",
        "rules": [
            {
                "t": "else"
            },
            {
                "t": "null"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1500,
        "y": 840,
        "wires": [
            [
                "d50ea9d8ab173da2"
            ],
            [
                "af174ca359ccb0a2"
            ]
        ]
    },
    {
        "id": "af174ca359ccb0a2",
        "type": "change",
        "z": "535c98d1d92579b6",
        "name": "set icon",
        "rules": [
            {
                "t": "set",
                "p": "icon",
                "pt": "msg",
                "to": "mdi:alert-circle-outline",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1660,
        "y": 860,
        "wires": [
            [
                "d50ea9d8ab173da2"
            ]
        ]
    },
    {
        "id": "d50ea9d8ab173da2",
        "type": "switch",
        "z": "535c98d1d92579b6",
        "name": "has icon_color or not",
        "property": "icon_color",
        "propertyType": "msg",
        "rules": [
            {
                "t": "else"
            },
            {
                "t": "null"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1860,
        "y": 840,
        "wires": [
            [
                "888146b5bc3de9b0"
            ],
            [
                "0c7e8bf8978de66d"
            ]
        ]
    },
    {
        "id": "0c7e8bf8978de66d",
        "type": "change",
        "z": "535c98d1d92579b6",
        "name": "set color",
        "rules": [
            {
                "t": "set",
                "p": "icon_color",
                "pt": "msg",
                "to": "red",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2040,
        "y": 860,
        "wires": [
            [
                "888146b5bc3de9b0"
            ]
        ]
    },
    {
        "id": "91eedee11e4bcc9a",
        "type": "switch",
        "z": "535c98d1d92579b6",
        "name": "has icon or not",
        "property": "icon",
        "propertyType": "msg",
        "rules": [
            {
                "t": "else"
            },
            {
                "t": "null"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1500,
        "y": 600,
        "wires": [
            [
                "65685b25d00a4e03"
            ],
            [
                "9458cfbde59e2711"
            ]
        ]
    },
    {
        "id": "9458cfbde59e2711",
        "type": "change",
        "z": "535c98d1d92579b6",
        "name": "set icon",
        "rules": [
            {
                "t": "set",
                "p": "icon",
                "pt": "msg",
                "to": "mdi:alert-circle-outline",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1660,
        "y": 620,
        "wires": [
            [
                "65685b25d00a4e03"
            ]
        ]
    },
    {
        "id": "65685b25d00a4e03",
        "type": "switch",
        "z": "535c98d1d92579b6",
        "name": "has icon_color or not",
        "property": "icon_color",
        "propertyType": "msg",
        "rules": [
            {
                "t": "else"
            },
            {
                "t": "null"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1860,
        "y": 600,
        "wires": [
            [
                "528f1050a96e3ee8"
            ],
            [
                "07cfc1a9e4e1c040"
            ]
        ]
    },
    {
        "id": "07cfc1a9e4e1c040",
        "type": "change",
        "z": "535c98d1d92579b6",
        "name": "set color",
        "rules": [
            {
                "t": "set",
                "p": "icon_color",
                "pt": "msg",
                "to": "orange",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2040,
        "y": 620,
        "wires": [
            [
                "528f1050a96e3ee8"
            ]
        ]
    },
    {
        "id": "f828d6073d42e100",
        "type": "switch",
        "z": "535c98d1d92579b6",
        "name": "has icon or not",
        "property": "icon",
        "propertyType": "msg",
        "rules": [
            {
                "t": "else"
            },
            {
                "t": "null"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1500,
        "y": 360,
        "wires": [
            [
                "feaf1ae10c82af9b"
            ],
            [
                "c7dbb5a3de1d13d0"
            ]
        ]
    },
    {
        "id": "c7dbb5a3de1d13d0",
        "type": "change",
        "z": "535c98d1d92579b6",
        "name": "set icon",
        "rules": [
            {
                "t": "set",
                "p": "icon",
                "pt": "msg",
                "to": "mdi:alert-circle-outline",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1660,
        "y": 380,
        "wires": [
            [
                "feaf1ae10c82af9b"
            ]
        ]
    },
    {
        "id": "feaf1ae10c82af9b",
        "type": "switch",
        "z": "535c98d1d92579b6",
        "name": "has icon_color or not",
        "property": "icon_color",
        "propertyType": "msg",
        "rules": [
            {
                "t": "else"
            },
            {
                "t": "null"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1860,
        "y": 360,
        "wires": [
            [
                "60dd6681f0c203d8"
            ],
            [
                "7793f5587485f10d"
            ]
        ]
    },
    {
        "id": "7793f5587485f10d",
        "type": "change",
        "z": "535c98d1d92579b6",
        "name": "set color",
        "rules": [
            {
                "t": "set",
                "p": "icon_color",
                "pt": "msg",
                "to": "red",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2040,
        "y": 380,
        "wires": [
            [
                "60dd6681f0c203d8"
            ]
        ]
    },
    {
        "id": "528f1050a96e3ee8",
        "type": "ha-binary-sensor",
        "z": "535c98d1d92579b6",
        "name": "notification_level_warning",
        "entityConfig": "fed106bf198ad2ea",
        "version": 0,
        "state": "payload",
        "stateType": "msg",
        "attributes": [
            {
                "property": "primary_information",
                "value": "primary_information",
                "valueType": "msg"
            },
            {
                "property": "secondary_information",
                "value": "secondary_information",
                "valueType": "msg"
            },
            {
                "property": "topic",
                "value": "topic",
                "valueType": "msg"
            },
            {
                "property": "icon",
                "value": "icon",
                "valueType": "msg"
            },
            {
                "property": "icon_color",
                "value": "icon_color",
                "valueType": "msg"
            },
            {
                "property": "notification_level",
                "value": "notification_level",
                "valueType": "msg"
            }
        ],
        "inputOverride": "allow",
        "outputProperties": [],
        "x": 2230,
        "y": 560,
        "wires": [
            []
        ]
    },
    {
        "id": "888146b5bc3de9b0",
        "type": "ha-binary-sensor",
        "z": "535c98d1d92579b6",
        "name": "notification_level_error",
        "entityConfig": "d2b97f89ed6763e5",
        "version": 0,
        "state": "payload",
        "stateType": "msg",
        "attributes": [
            {
                "property": "primary_information",
                "value": "primary_information",
                "valueType": "msg"
            },
            {
                "property": "secondary_information",
                "value": "secondary_information",
                "valueType": "msg"
            },
            {
                "property": "topic",
                "value": "topic",
                "valueType": "msg"
            },
            {
                "property": "icon",
                "value": "icon",
                "valueType": "msg"
            },
            {
                "property": "icon_color",
                "value": "icon_color",
                "valueType": "msg"
            },
            {
                "property": "notification_level",
                "value": "notification_level",
                "valueType": "msg"
            }
        ],
        "inputOverride": "allow",
        "outputProperties": [],
        "x": 2220,
        "y": 800,
        "wires": [
            []
        ]
    },
    {
        "id": "60dd6681f0c203d8",
        "type": "ha-binary-sensor",
        "z": "535c98d1d92579b6",
        "name": "notification_level_info",
        "entityConfig": "cab73c1a38f001be",
        "version": 0,
        "state": "payload",
        "stateType": "msg",
        "attributes": [
            {
                "property": "primary_information",
                "value": "primary_information",
                "valueType": "msg"
            },
            {
                "property": "secondary_information",
                "value": "secondary_information",
                "valueType": "msg"
            },
            {
                "property": "topic",
                "value": "topic",
                "valueType": "msg"
            },
            {
                "property": "icon",
                "value": "mdi:information-outline",
                "valueType": "str"
            },
            {
                "property": "icon_color",
                "value": "yellow",
                "valueType": "str"
            },
            {
                "property": "notification_level",
                "value": "notification_level",
                "valueType": "msg"
            }
        ],
        "inputOverride": "allow",
        "outputProperties": [],
        "x": 2220,
        "y": 320,
        "wires": [
            []
        ]
    },
    {
        "id": "90472c432f08b2dc",
        "type": "ha-button",
        "z": "535c98d1d92579b6",
        "name": "notification_level_info_turn_off",
        "version": 0,
        "debugenabled": false,
        "outputs": 1,
        "entityConfig": "61b96249023198be",
        "outputProperties": [],
        "x": 340,
        "y": 360,
        "wires": [
            [
                "e190582e7eecb772"
            ]
        ]
    },
    {
        "id": "6cb0684a8f3589cf",
        "type": "ha-button",
        "z": "535c98d1d92579b6",
        "name": "notification_level_warning_turn_off",
        "version": 0,
        "debugenabled": false,
        "outputs": 1,
        "entityConfig": "ce2ff010477149a7",
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "off",
                "valueType": "str"
            }
        ],
        "x": 360,
        "y": 600,
        "wires": [
            [
                "736105227bd073f9"
            ]
        ]
    },
    {
        "id": "f9e253cfd747a61a",
        "type": "ha-button",
        "z": "535c98d1d92579b6",
        "name": "notification_level_error_turn_off",
        "version": 0,
        "debugenabled": false,
        "outputs": 1,
        "entityConfig": "287aaae77d488c09",
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "off",
                "valueType": "str"
            }
        ],
        "x": 350,
        "y": 840,
        "wires": [
            [
                "0ad5ce9b55391b05"
            ]
        ]
    },
    {
        "id": "549544fa83d3a57f",
        "type": "ha-button",
        "z": "535c98d1d92579b6",
        "name": "notification_level_clear_all",
        "version": 0,
        "debugenabled": false,
        "outputs": 1,
        "entityConfig": "3cbf2c3454c3795d",
        "outputProperties": [],
        "x": 1290,
        "y": 240,
        "wires": [
            [
                "eb4339876a876c95",
                "de6a06807eba37cd",
                "c9b99378a043955e"
            ]
        ]
    },
    {
        "id": "4f661232083706f4",
        "type": "simple-queue",
        "z": "535c98d1d92579b6",
        "name": "",
        "firstMessageBypass": true,
        "bypassInterval": "0",
        "x": 850,
        "y": 320,
        "wires": [
            [
                "88f82f16d0ecc697",
                "c7424ac5390d672f"
            ]
        ]
    },
    {
        "id": "318426830832aad5",
        "type": "simple-queue",
        "z": "535c98d1d92579b6",
        "name": "",
        "firstMessageBypass": true,
        "bypassInterval": "0",
        "x": 850,
        "y": 560,
        "wires": [
            [
                "efbc738612c5af68",
                "e411b0ba582c91c2"
            ]
        ]
    },
    {
        "id": "f772e0315cdeaa39",
        "type": "simple-queue",
        "z": "535c98d1d92579b6",
        "name": "",
        "firstMessageBypass": true,
        "bypassInterval": "0",
        "x": 850,
        "y": 800,
        "wires": [
            [
                "78188ae45f430dd6",
                "cc525d2002136a4c"
            ]
        ]
    },
    {
        "id": "d361893bd7868273",
        "type": "catch",
        "z": "535c98d1d92579b6",
        "g": "54fbd89aeb283eab",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "d50a3b33f5ac5fbe"
            ]
        ]
    },
    {
        "id": "d50a3b33f5ac5fbe",
        "type": "template",
        "z": "535c98d1d92579b6",
        "g": "54fbd89aeb283eab",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "3a705fecfc60ec68"
            ]
        ]
    },
    {
        "id": "dac0d4dda81abc95",
        "type": "link out",
        "z": "535c98d1d92579b6",
        "g": "54fbd89aeb283eab",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 475,
        "y": 80,
        "wires": []
    },
    {
        "id": "3a705fecfc60ec68",
        "type": "template",
        "z": "535c98d1d92579b6",
        "g": "54fbd89aeb283eab",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "dac0d4dda81abc95"
            ]
        ]
    },
    {
        "id": "26762f8cca83bccc",
        "type": "comment",
        "z": "1dfb7e055134adc8",
        "name": "A sensor that counts how many notifications sensors is turned on",
        "info": "",
        "x": 250,
        "y": 20,
        "wires": []
    },
    {
        "id": "ae54d9f76e9004e0",
        "type": "server-state-changed",
        "z": "1dfb7e055134adc8",
        "name": "a notification level sensor state change",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 1,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [],
            "substring": [],
            "regex": [
                "binary_sensor.notification_level_"
            ]
        },
        "outputInitially": true,
        "stateType": "str",
        "ifState": "",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": false,
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [],
        "x": 170,
        "y": 160,
        "wires": [
            [
                "5dd6f309f6f3b011"
            ]
        ]
    },
    {
        "id": "5dd6f309f6f3b011",
        "type": "ha-get-entities",
        "z": "1dfb7e055134adc8",
        "name": "find binary_sensor.notification_level_ with state on",
        "server": "4ba92433.2478cc",
        "version": 1,
        "rules": [
            {
                "property": "entity_id",
                "logic": "starts_with",
                "value": "binary_sensor.notification_level_",
                "valueType": "str"
            },
            {
                "property": "state",
                "logic": "is",
                "value": "on",
                "valueType": "str"
            }
        ],
        "outputType": "count",
        "outputEmptyResults": false,
        "outputLocationType": "msg",
        "outputLocation": "payload",
        "outputResultsCount": 1,
        "x": 530,
        "y": 160,
        "wires": [
            [
                "0ff060b82e9de426"
            ]
        ]
    },
    {
        "id": "0ff060b82e9de426",
        "type": "ha-sensor",
        "z": "1dfb7e055134adc8",
        "name": "notification_on_counter",
        "entityConfig": "df0e222b4bf2971f",
        "version": 0,
        "state": "payload",
        "stateType": "msg",
        "attributes": [],
        "inputOverride": "allow",
        "outputProperties": [],
        "x": 850,
        "y": 160,
        "wires": [
            []
        ]
    },
    {
        "id": "230055356a2e27e3",
        "type": "catch",
        "z": "1dfb7e055134adc8",
        "g": "28814c2324702a49",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "c6c55fc30c7db0f1"
            ]
        ]
    },
    {
        "id": "c6c55fc30c7db0f1",
        "type": "template",
        "z": "1dfb7e055134adc8",
        "g": "28814c2324702a49",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "d9db1905747d0301"
            ]
        ]
    },
    {
        "id": "c84220140a8c71a3",
        "type": "link out",
        "z": "1dfb7e055134adc8",
        "g": "28814c2324702a49",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 475,
        "y": 80,
        "wires": []
    },
    {
        "id": "d9db1905747d0301",
        "type": "template",
        "z": "1dfb7e055134adc8",
        "g": "28814c2324702a49",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "c84220140a8c71a3"
            ]
        ]
    },
    {
        "id": "5273660ff2a42a63",
        "type": "template",
        "z": "b1b994b3d43d6aad",
        "g": "9d6561fb99238a4d",
        "name": "icon",
        "field": "notify.icon",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "",
        "output": "str",
        "x": 1310,
        "y": 340,
        "wires": [
            [
                "6cdaa7e9c55994da"
            ]
        ]
    },
    {
        "id": "194df75621104155",
        "type": "template",
        "z": "b1b994b3d43d6aad",
        "g": "9d6561fb99238a4d",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Stookalert",
        "output": "str",
        "x": 1310,
        "y": 260,
        "wires": [
            [
                "6cdaa7e9c55994da"
            ]
        ]
    },
    {
        "id": "c6bc1abd0ea4d3e7",
        "type": "link out",
        "z": "b1b994b3d43d6aad",
        "g": "9d6561fb99238a4d",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "8ed3b0974336e55b",
            "aeee8468f3d1b7ad"
        ],
        "x": 1565,
        "y": 300,
        "wires": []
    },
    {
        "id": "6cdaa7e9c55994da",
        "type": "join",
        "z": "b1b994b3d43d6aad",
        "g": "9d6561fb99238a4d",
        "name": "",
        "mode": "custom",
        "build": "merged",
        "property": "notify",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": false,
        "timeout": "",
        "count": "4",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 1470,
        "y": 300,
        "wires": [
            [
                "c6bc1abd0ea4d3e7"
            ]
        ]
    },
    {
        "id": "48b102061eef4776",
        "type": "template",
        "z": "b1b994b3d43d6aad",
        "g": "9d6561fb99238a4d",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "{{secondary_information}}",
        "output": "str",
        "x": 1320,
        "y": 300,
        "wires": [
            [
                "6cdaa7e9c55994da"
            ]
        ]
    },
    {
        "id": "ad8e3a3f408efd86",
        "type": "template",
        "z": "b1b994b3d43d6aad",
        "g": "9d6561fb99238a4d",
        "name": "notification id",
        "field": "notify.notification_id",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "stookalert",
        "output": "str",
        "x": 1330,
        "y": 380,
        "wires": [
            [
                "6cdaa7e9c55994da"
            ]
        ]
    },
    {
        "id": "277a8323827b9390",
        "type": "comment",
        "z": "b1b994b3d43d6aad",
        "name": "send notification when stookalert is on",
        "info": "",
        "x": 170,
        "y": 20,
        "wires": []
    },
    {
        "id": "4706c9b9c33456ec",
        "type": "template",
        "z": "b1b994b3d43d6aad",
        "name": "secondary information",
        "field": "secondary_information",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Op {{{myymd}}} om {{{mytime}}} heeft het RIVM een stookalert afgegeven, het is raadzaam niet de houtkachel te gebruiken",
        "output": "str",
        "x": 460,
        "y": 160,
        "wires": [
            [
                "f04dc28db48fa2c4"
            ]
        ]
    },
    {
        "id": "f04dc28db48fa2c4",
        "type": "template",
        "z": "b1b994b3d43d6aad",
        "name": "primary information",
        "field": "primary_information",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Let op, stookalert!",
        "output": "str",
        "x": 670,
        "y": 160,
        "wires": [
            [
                "84c20f3447f449ed"
            ]
        ]
    },
    {
        "id": "84c20f3447f449ed",
        "type": "template",
        "z": "b1b994b3d43d6aad",
        "name": "topic",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "safety",
        "output": "str",
        "x": 830,
        "y": 160,
        "wires": [
            [
                "96a9d68a091fc4a5"
            ]
        ]
    },
    {
        "id": "96a9d68a091fc4a5",
        "type": "template",
        "z": "b1b994b3d43d6aad",
        "name": "notification_level",
        "field": "notification_level",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "warning",
        "output": "str",
        "x": 990,
        "y": 160,
        "wires": [
            [
                "731568e6adddd397"
            ]
        ]
    },
    {
        "id": "8474d1caa427cb1a",
        "type": "link out",
        "z": "b1b994b3d43d6aad",
        "name": "notification",
        "mode": "link",
        "links": [
            "60e14e33a793f50d"
        ],
        "x": 1565,
        "y": 160,
        "wires": []
    },
    {
        "id": "731568e6adddd397",
        "type": "change",
        "z": "b1b994b3d43d6aad",
        "name": "set icon",
        "rules": [
            {
                "t": "set",
                "p": "icon",
                "pt": "msg",
                "to": "mdi:fireplace",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1160,
        "y": 160,
        "wires": [
            [
                "8474d1caa427cb1a",
                "a087dd5873c41eaf"
            ]
        ]
    },
    {
        "id": "3c05c027bd8c6081",
        "type": "api-call-service",
        "z": "b1b994b3d43d6aad",
        "name": " dismiss in app notification",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "persistent_notification.dismiss",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [],
        "labelId": [],
        "data": "{\"notification_id\":\"stookalert\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "persistent_notification",
        "service": "dismiss",
        "x": 310,
        "y": 220,
        "wires": [
            []
        ]
    },
    {
        "id": "e7b37a2bf7a7f071",
        "type": "server-state-changed",
        "z": "b1b994b3d43d6aad",
        "name": "stookwijzer is red",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "sensor.stookwijzer_advice_code"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": true,
        "stateType": "str",
        "ifState": "code_red",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": false,
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [],
        "x": 100,
        "y": 160,
        "wires": [
            [
                "015fa374fab07308"
            ],
            [
                "3c05c027bd8c6081"
            ]
        ]
    },
    {
        "id": "015fa374fab07308",
        "type": "simpletime",
        "z": "b1b994b3d43d6aad",
        "name": "",
        "mydate": false,
        "myymd": true,
        "myyear": false,
        "mymonth": false,
        "mymonthn": false,
        "mydom": false,
        "mydoy": false,
        "myday": false,
        "myhourpm": false,
        "myhour": false,
        "mytime": true,
        "mytimes": false,
        "myminute": false,
        "myminutes": false,
        "mysecond": false,
        "mymillis": false,
        "myepoch": false,
        "myrawdate": false,
        "mypm": false,
        "x": 270,
        "y": 160,
        "wires": [
            [
                "4706c9b9c33456ec"
            ]
        ]
    },
    {
        "id": "ad160909a47f0ea8",
        "type": "catch",
        "z": "b1b994b3d43d6aad",
        "g": "7371831af6e7c577",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "ce1eb14a06a13ce4"
            ]
        ]
    },
    {
        "id": "ce1eb14a06a13ce4",
        "type": "template",
        "z": "b1b994b3d43d6aad",
        "g": "7371831af6e7c577",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "da4b749474868319"
            ]
        ]
    },
    {
        "id": "bf3806a421c7b15a",
        "type": "link out",
        "z": "b1b994b3d43d6aad",
        "g": "7371831af6e7c577",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 475,
        "y": 80,
        "wires": []
    },
    {
        "id": "da4b749474868319",
        "type": "template",
        "z": "b1b994b3d43d6aad",
        "g": "7371831af6e7c577",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "bf3806a421c7b15a"
            ]
        ]
    },
    {
        "id": "e16a49a555dc3139",
        "type": "template",
        "z": "a8d8484165225699",
        "g": "537179d37e7389e5",
        "name": "notification id",
        "field": "notify.notification_id",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "updates",
        "output": "str",
        "x": 1370,
        "y": 400,
        "wires": [
            [
                "deeacc0728909577"
            ]
        ]
    },
    {
        "id": "daef6aa88b93b329",
        "type": "template",
        "z": "a8d8484165225699",
        "g": "537179d37e7389e5",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "{{secondary_information}}",
        "output": "str",
        "x": 1360,
        "y": 320,
        "wires": [
            [
                "deeacc0728909577"
            ]
        ]
    },
    {
        "id": "deeacc0728909577",
        "type": "join",
        "z": "a8d8484165225699",
        "g": "537179d37e7389e5",
        "name": "",
        "mode": "custom",
        "build": "merged",
        "property": "notify",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": false,
        "timeout": "",
        "count": "4",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 1510,
        "y": 320,
        "wires": [
            [
                "58ce3486fc8107bd"
            ]
        ]
    },
    {
        "id": "58ce3486fc8107bd",
        "type": "link out",
        "z": "a8d8484165225699",
        "g": "537179d37e7389e5",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "8ed3b0974336e55b"
        ],
        "x": 1605,
        "y": 320,
        "wires": []
    },
    {
        "id": "e142bb411f990e05",
        "type": "template",
        "z": "a8d8484165225699",
        "g": "537179d37e7389e5",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Update",
        "output": "str",
        "x": 1350,
        "y": 280,
        "wires": [
            [
                "deeacc0728909577"
            ]
        ]
    },
    {
        "id": "2e707984219ae3a9",
        "type": "template",
        "z": "a8d8484165225699",
        "g": "537179d37e7389e5",
        "name": "icon",
        "field": "notify.icon",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "{{notify.icon}}",
        "output": "str",
        "x": 1350,
        "y": 360,
        "wires": [
            [
                "deeacc0728909577"
            ]
        ]
    },
    {
        "id": "dd30d4cd216c0f2b",
        "type": "comment",
        "z": "a8d8484165225699",
        "name": "send notification when a update is available",
        "info": "",
        "x": 180,
        "y": 20,
        "wires": []
    },
    {
        "id": "ca77f18341a43806",
        "type": "template",
        "z": "a8d8484165225699",
        "name": "secondary information",
        "field": "secondary_information",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Er is {{payload}} beschikbaar, check updates onder de settings tab om deze entiteit te updaten. ",
        "output": "str",
        "x": 460,
        "y": 200,
        "wires": [
            [
                "9f54688e36518032"
            ]
        ]
    },
    {
        "id": "9f54688e36518032",
        "type": "template",
        "z": "a8d8484165225699",
        "name": "primary information",
        "field": "primary_information",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Update entiteit beschikbaar",
        "output": "str",
        "x": 670,
        "y": 180,
        "wires": [
            [
                "baa41c19eb148fa4"
            ]
        ]
    },
    {
        "id": "baa41c19eb148fa4",
        "type": "template",
        "z": "a8d8484165225699",
        "name": "topic",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "updates",
        "output": "str",
        "x": 830,
        "y": 180,
        "wires": [
            [
                "54e3c63ed7fe6043"
            ]
        ]
    },
    {
        "id": "54e3c63ed7fe6043",
        "type": "template",
        "z": "a8d8484165225699",
        "name": "notification_level",
        "field": "notification_level",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "info",
        "output": "str",
        "x": 990,
        "y": 180,
        "wires": [
            [
                "c260ecf67a15a923"
            ]
        ]
    },
    {
        "id": "b120549fa5ec47de",
        "type": "link out",
        "z": "a8d8484165225699",
        "name": "notification",
        "mode": "link",
        "links": [
            "60e14e33a793f50d"
        ],
        "x": 1565,
        "y": 180,
        "wires": []
    },
    {
        "id": "c260ecf67a15a923",
        "type": "change",
        "z": "a8d8484165225699",
        "name": "set icon",
        "rules": [
            {
                "t": "set",
                "p": "icon",
                "pt": "msg",
                "to": "mdi:update",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1160,
        "y": 180,
        "wires": [
            [
                "b120549fa5ec47de",
                "f55e9b8b5462e4d2"
            ]
        ]
    },
    {
        "id": "141308461dbf40c7",
        "type": "switch",
        "z": "a8d8484165225699",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "gt",
                "v": "1",
                "vt": "num"
            },
            {
                "t": "gt",
                "v": "0",
                "vt": "num"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 2,
        "x": 290,
        "y": 180,
        "wires": [
            [
                "bf97ba934d4ba8e3"
            ],
            [
                "ca77f18341a43806"
            ]
        ]
    },
    {
        "id": "bf97ba934d4ba8e3",
        "type": "template",
        "z": "a8d8484165225699",
        "name": "secondary information",
        "field": "secondary_information",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Er zijn {{payload}} updates beschikbaar, check updates onder de settings tab om deze entiteit te updaten. ",
        "output": "str",
        "x": 460,
        "y": 160,
        "wires": [
            [
                "9f54688e36518032"
            ]
        ]
    },
    {
        "id": "0e19a744ae210f9f",
        "type": "api-call-service",
        "z": "a8d8484165225699",
        "name": " dismiss in app notification",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "persistent_notification.dismiss",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [],
        "labelId": [],
        "data": "{\"notification_id\":\"update_entity\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "persistent_notification",
        "service": "dismiss",
        "x": 350,
        "y": 240,
        "wires": [
            []
        ]
    },
    {
        "id": "160088fd48d5a361",
        "type": "server-state-changed",
        "z": "a8d8484165225699",
        "name": "update counter is not 0",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "sensor.update_on_counter"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": true,
        "stateType": "str",
        "ifState": "0",
        "ifStateType": "num",
        "ifStateOperator": "is_not",
        "outputOnlyOnStateChange": false,
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [],
        "x": 120,
        "y": 180,
        "wires": [
            [
                "141308461dbf40c7"
            ],
            [
                "0e19a744ae210f9f"
            ]
        ]
    },
    {
        "id": "925cbc802add6b04",
        "type": "catch",
        "z": "a8d8484165225699",
        "g": "0330186b9fdcf4ee",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "d365bf9676fe5435"
            ]
        ]
    },
    {
        "id": "d365bf9676fe5435",
        "type": "template",
        "z": "a8d8484165225699",
        "g": "0330186b9fdcf4ee",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "5f99051ae7b91aed"
            ]
        ]
    },
    {
        "id": "fcbba10709360bf0",
        "type": "link out",
        "z": "a8d8484165225699",
        "g": "0330186b9fdcf4ee",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 475,
        "y": 80,
        "wires": []
    },
    {
        "id": "5f99051ae7b91aed",
        "type": "template",
        "z": "a8d8484165225699",
        "g": "0330186b9fdcf4ee",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "fcbba10709360bf0"
            ]
        ]
    },
    {
        "id": "b560dfc6f3c2aec1",
        "type": "template",
        "z": "8d2de69b4c0fd2b9",
        "g": "bb1cc6878bf6f696",
        "name": "notification id",
        "field": "notify.notification_id",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "vacuum",
        "output": "str",
        "x": 1450,
        "y": 280,
        "wires": [
            [
                "344ad3f982a92730"
            ]
        ]
    },
    {
        "id": "344ad3f982a92730",
        "type": "join",
        "z": "8d2de69b4c0fd2b9",
        "g": "bb1cc6878bf6f696",
        "name": "",
        "mode": "custom",
        "build": "merged",
        "property": "notify",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": false,
        "timeout": "",
        "count": "4",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 1630,
        "y": 260,
        "wires": [
            [
                "372e878f27b4b2b2"
            ]
        ]
    },
    {
        "id": "372e878f27b4b2b2",
        "type": "link out",
        "z": "8d2de69b4c0fd2b9",
        "g": "bb1cc6878bf6f696",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "8ed3b0974336e55b",
            "aeee8468f3d1b7ad",
            "c4660dc11fb0e5b8"
        ],
        "x": 1725,
        "y": 260,
        "wires": []
    },
    {
        "id": "c0d0c36d39f527e2",
        "type": "template",
        "z": "8d2de69b4c0fd2b9",
        "g": "bb1cc6878bf6f696",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Stofzuiger",
        "output": "str",
        "x": 1430,
        "y": 200,
        "wires": [
            [
                "344ad3f982a92730"
            ]
        ]
    },
    {
        "id": "db50c5b6f4f302b4",
        "type": "template",
        "z": "8d2de69b4c0fd2b9",
        "g": "bb1cc6878bf6f696",
        "name": "icon",
        "field": "notify.icon",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "",
        "output": "str",
        "x": 1430,
        "y": 240,
        "wires": [
            [
                "344ad3f982a92730"
            ]
        ]
    },
    {
        "id": "bb86ef9c9939267f",
        "type": "template",
        "z": "8d2de69b4c0fd2b9",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "{{data.new_state.attributes.friendly_name}} zit vast en heeft hulp nodig.",
        "output": "str",
        "x": 400,
        "y": 220,
        "wires": [
            [
                "ece5442438bb7aa1",
                "9920356dd5442dce"
            ]
        ]
    },
    {
        "id": "101fccbd23bc3737",
        "type": "template",
        "z": "8d2de69b4c0fd2b9",
        "name": "secondary information",
        "field": "secondary_information",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "{{notify.message}}",
        "output": "str",
        "x": 820,
        "y": 380,
        "wires": [
            [
                "1a142df2188365f9"
            ]
        ]
    },
    {
        "id": "1a142df2188365f9",
        "type": "template",
        "z": "8d2de69b4c0fd2b9",
        "name": "primary information",
        "field": "primary_information",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Stofzuiger",
        "output": "str",
        "x": 1030,
        "y": 380,
        "wires": [
            [
                "ef723bf3c094067c"
            ]
        ]
    },
    {
        "id": "ef723bf3c094067c",
        "type": "template",
        "z": "8d2de69b4c0fd2b9",
        "name": "topic",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "vacuum",
        "output": "str",
        "x": 1190,
        "y": 380,
        "wires": [
            [
                "a38dcb88665ba1b0"
            ]
        ]
    },
    {
        "id": "a38dcb88665ba1b0",
        "type": "template",
        "z": "8d2de69b4c0fd2b9",
        "name": "notification_level",
        "field": "notification_level",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "warning",
        "output": "str",
        "x": 1350,
        "y": 380,
        "wires": [
            [
                "4705f09e38185adf"
            ]
        ]
    },
    {
        "id": "4705f09e38185adf",
        "type": "link out",
        "z": "8d2de69b4c0fd2b9",
        "name": "notification",
        "mode": "link",
        "links": [
            "60e14e33a793f50d"
        ],
        "x": 1475,
        "y": 380,
        "wires": []
    },
    {
        "id": "9920356dd5442dce",
        "type": "template",
        "z": "8d2de69b4c0fd2b9",
        "name": "icon",
        "field": "icon",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "mdi:robot-vacuum",
        "output": "str",
        "x": 650,
        "y": 380,
        "wires": [
            [
                "101fccbd23bc3737"
            ]
        ]
    },
    {
        "id": "c3ad9439a04e7919",
        "type": "server-state-changed",
        "z": "8d2de69b4c0fd2b9",
        "name": "vacuum State is error s6",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "vacuum.roborock_s6_pure"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": true,
        "stateType": "str",
        "ifState": "error",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 150,
        "y": 220,
        "wires": [
            [
                "bb86ef9c9939267f"
            ],
            []
        ]
    },
    {
        "id": "b0a13a597c951a5c",
        "type": "server-state-changed",
        "z": "8d2de69b4c0fd2b9",
        "name": "vacuum State is error s55",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "vacuum.roborock_s55"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": true,
        "stateType": "str",
        "ifState": "error",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 150,
        "y": 280,
        "wires": [
            [
                "bb86ef9c9939267f"
            ],
            []
        ]
    },
    {
        "id": "a6bc5cbea3cc0781",
        "type": "catch",
        "z": "8d2de69b4c0fd2b9",
        "g": "c55c738b848ff4e2",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 60,
        "wires": [
            [
                "a0144416b570fb26"
            ]
        ]
    },
    {
        "id": "a0144416b570fb26",
        "type": "template",
        "z": "8d2de69b4c0fd2b9",
        "g": "c55c738b848ff4e2",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 60,
        "wires": [
            [
                "51536b69c791a38f"
            ]
        ]
    },
    {
        "id": "80e833d182f30872",
        "type": "link out",
        "z": "8d2de69b4c0fd2b9",
        "g": "c55c738b848ff4e2",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 475,
        "y": 60,
        "wires": []
    },
    {
        "id": "51536b69c791a38f",
        "type": "template",
        "z": "8d2de69b4c0fd2b9",
        "g": "c55c738b848ff4e2",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 60,
        "wires": [
            [
                "80e833d182f30872"
            ]
        ]
    },
    {
        "id": "2a1761aff5d63d7a",
        "type": "template",
        "z": "ce5dca27239daba8",
        "g": "b4f3f9f25b585f85",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "f9b220def47837e4"
            ]
        ]
    },
    {
        "id": "f9b220def47837e4",
        "type": "link out",
        "z": "ce5dca27239daba8",
        "g": "b4f3f9f25b585f85",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 475,
        "y": 80,
        "wires": []
    },
    {
        "id": "b437f9f1e8b5ebf7",
        "type": "template",
        "z": "ce5dca27239daba8",
        "g": "b4f3f9f25b585f85",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "2a1761aff5d63d7a"
            ]
        ]
    },
    {
        "id": "2e9dbc5a5fc615fc",
        "type": "catch",
        "z": "ce5dca27239daba8",
        "g": "b4f3f9f25b585f85",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "b437f9f1e8b5ebf7"
            ]
        ]
    },
    {
        "id": "8963892cb65d8713",
        "type": "change",
        "z": "ce5dca27239daba8",
        "name": "set flow active to true",
        "rules": [
            {
                "t": "set",
                "p": "active",
                "pt": "flow",
                "to": "true",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 940,
        "y": 160,
        "wires": [
            [
                "d2a6c270b5a78137"
            ]
        ]
    },
    {
        "id": "04cada4367386b36",
        "type": "switch",
        "z": "ce5dca27239daba8",
        "name": "flow not active",
        "property": "active",
        "propertyType": "flow",
        "rules": [
            {
                "t": "neq",
                "v": "true",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 740,
        "y": 160,
        "wires": [
            [
                "8963892cb65d8713"
            ]
        ]
    },
    {
        "id": "57ab0afd4c173998",
        "type": "change",
        "z": "ce5dca27239daba8",
        "name": "set flow active to false",
        "rules": [
            {
                "t": "set",
                "p": "active",
                "pt": "flow",
                "to": "false",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 620,
        "y": 220,
        "wires": [
            [
                "40a58eddf78206e8"
            ]
        ]
    },
    {
        "id": "58e0becbd6d919d0",
        "type": "switch",
        "z": "ce5dca27239daba8",
        "name": "if charging",
        "property": "data.event.old_state.attributes.battery_level",
        "propertyType": "msg",
        "rules": [
            {
                "t": "lt",
                "v": "data.event.new_state.attributes.battery_level",
                "vt": "msg"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 430,
        "y": 220,
        "wires": [
            [
                "57ab0afd4c173998"
            ]
        ]
    },
    {
        "id": "f9b8dec4504da56d",
        "type": "comment",
        "z": "ce5dca27239daba8",
        "name": "Send notification when battery is below 10%",
        "info": "",
        "x": 190,
        "y": 20,
        "wires": []
    },
    {
        "id": "a9aa3ff08dd7532c",
        "type": "link out",
        "z": "ce5dca27239daba8",
        "name": "notification",
        "mode": "link",
        "links": [
            "60e14e33a793f50d"
        ],
        "x": 1955,
        "y": 160,
        "wires": []
    },
    {
        "id": "03d5ea897e7d84ee",
        "type": "change",
        "z": "ce5dca27239daba8",
        "name": "set icon",
        "rules": [
            {
                "t": "set",
                "p": "icon",
                "pt": "msg",
                "to": "mdi:battery-alert-variant-outline",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1860,
        "y": 160,
        "wires": [
            [
                "a9aa3ff08dd7532c"
            ]
        ]
    },
    {
        "id": "2792f3a94c8f1651",
        "type": "template",
        "z": "ce5dca27239daba8",
        "name": "notification_level",
        "field": "notification_level",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "warning",
        "output": "str",
        "x": 1690,
        "y": 160,
        "wires": [
            [
                "03d5ea897e7d84ee"
            ]
        ]
    },
    {
        "id": "9174dfc0fa90a687",
        "type": "template",
        "z": "ce5dca27239daba8",
        "name": "topic",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "battery",
        "output": "str",
        "x": 1530,
        "y": 160,
        "wires": [
            [
                "2792f3a94c8f1651"
            ]
        ]
    },
    {
        "id": "8e69bb39390a2edf",
        "type": "template",
        "z": "ce5dca27239daba8",
        "name": "primary information",
        "field": "primary_information",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Batterij",
        "output": "str",
        "x": 1370,
        "y": 160,
        "wires": [
            [
                "9174dfc0fa90a687"
            ]
        ]
    },
    {
        "id": "d2a6c270b5a78137",
        "type": "template",
        "z": "ce5dca27239daba8",
        "name": "secondary information",
        "field": "secondary_information",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Let op, Stofzuiger {{data.event.new_state.attributes.friendly_name}} heeft een batterij niveau van {{data.event.new_state.attributes.battery_level}}% controleer de docking station.",
        "output": "str",
        "x": 1160,
        "y": 160,
        "wires": [
            [
                "8e69bb39390a2edf"
            ]
        ]
    },
    {
        "id": "c07bdaa6ded33de2",
        "type": "change",
        "z": "ce5dca27239daba8",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "low_battery",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 440,
        "y": 160,
        "wires": [
            [
                "6c50fe3336fa87c8"
            ]
        ]
    },
    {
        "id": "6c50fe3336fa87c8",
        "type": "rbe",
        "z": "ce5dca27239daba8",
        "name": "",
        "func": "rbe",
        "gap": "",
        "start": "",
        "inout": "out",
        "septopics": false,
        "property": "payload",
        "topi": "topic",
        "x": 590,
        "y": 160,
        "wires": [
            [
                "04cada4367386b36"
            ]
        ]
    },
    {
        "id": "40a58eddf78206e8",
        "type": "change",
        "z": "ce5dca27239daba8",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "charging",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 820,
        "y": 220,
        "wires": [
            [
                "c07bdaa6ded33de2"
            ]
        ]
    },
    {
        "id": "ea460771e1472df3",
        "type": "trigger-state",
        "z": "ce5dca27239daba8",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 5,
        "inputs": 0,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "vacuum.roborock_s55"
            ],
            "substring": [],
            "regex": []
        },
        "debugEnabled": false,
        "constraints": [
            {
                "targetType": "this_entity",
                "targetValue": "",
                "propertyType": "property",
                "propertyValue": "new_state.attributes.battery_level",
                "comparatorType": "<",
                "comparatorValueDatatype": "num",
                "comparatorValue": "10"
            }
        ],
        "customOutputs": [],
        "outputInitially": true,
        "stateType": "str",
        "enableInput": false,
        "x": 160,
        "y": 160,
        "wires": [
            [
                "58e0becbd6d919d0",
                "c07bdaa6ded33de2"
            ],
            []
        ]
    },
    {
        "id": "fec97058470f8f5e",
        "type": "template",
        "z": "1a02f7122bccea54",
        "g": "751efbb5afdedf48",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "17e4e7721adc09a1"
            ]
        ]
    },
    {
        "id": "17e4e7721adc09a1",
        "type": "link out",
        "z": "1a02f7122bccea54",
        "g": "751efbb5afdedf48",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 475,
        "y": 80,
        "wires": []
    },
    {
        "id": "505a577898a56012",
        "type": "template",
        "z": "1a02f7122bccea54",
        "g": "751efbb5afdedf48",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "fec97058470f8f5e"
            ]
        ]
    },
    {
        "id": "70c953492b9eb40c",
        "type": "catch",
        "z": "1a02f7122bccea54",
        "g": "751efbb5afdedf48",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "505a577898a56012"
            ]
        ]
    },
    {
        "id": "9dffff38900ffc04",
        "type": "comment",
        "z": "1a02f7122bccea54",
        "name": "Send notification when battery is below 10%",
        "info": "",
        "x": 190,
        "y": 20,
        "wires": []
    },
    {
        "id": "0d873137caa89aa8",
        "type": "change",
        "z": "1a02f7122bccea54",
        "name": "set flow active to true",
        "rules": [
            {
                "t": "set",
                "p": "active",
                "pt": "flow",
                "to": "true",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 960,
        "y": 160,
        "wires": [
            [
                "007c5f03d694dd4b"
            ]
        ]
    },
    {
        "id": "605998daf9134e73",
        "type": "switch",
        "z": "1a02f7122bccea54",
        "name": "flow not active",
        "property": "active",
        "propertyType": "flow",
        "rules": [
            {
                "t": "neq",
                "v": "true",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 760,
        "y": 160,
        "wires": [
            [
                "0d873137caa89aa8"
            ]
        ]
    },
    {
        "id": "ea5202875ac45b49",
        "type": "change",
        "z": "1a02f7122bccea54",
        "name": "set flow active to false",
        "rules": [
            {
                "t": "set",
                "p": "active",
                "pt": "flow",
                "to": "false",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 640,
        "y": 220,
        "wires": [
            [
                "64ebe099d2f54d54"
            ]
        ]
    },
    {
        "id": "dd4253130fad8a83",
        "type": "switch",
        "z": "1a02f7122bccea54",
        "name": "if charging",
        "property": "data.event.old_state.attributes.battery_level",
        "propertyType": "msg",
        "rules": [
            {
                "t": "lt",
                "v": "data.event.new_state.attributes.battery_level",
                "vt": "msg"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 450,
        "y": 220,
        "wires": [
            [
                "ea5202875ac45b49"
            ]
        ]
    },
    {
        "id": "08f4c431c3afd80a",
        "type": "link out",
        "z": "1a02f7122bccea54",
        "name": "notification",
        "mode": "link",
        "links": [
            "60e14e33a793f50d"
        ],
        "x": 1975,
        "y": 160,
        "wires": []
    },
    {
        "id": "c07d6f94506ce84c",
        "type": "change",
        "z": "1a02f7122bccea54",
        "name": "set icon",
        "rules": [
            {
                "t": "set",
                "p": "icon",
                "pt": "msg",
                "to": "mdi:battery-alert-variant-outline",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1880,
        "y": 160,
        "wires": [
            [
                "08f4c431c3afd80a"
            ]
        ]
    },
    {
        "id": "d6d4102db32b5468",
        "type": "template",
        "z": "1a02f7122bccea54",
        "name": "notification_level",
        "field": "notification_level",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "warning",
        "output": "str",
        "x": 1710,
        "y": 160,
        "wires": [
            [
                "c07d6f94506ce84c"
            ]
        ]
    },
    {
        "id": "0b2f559dcc657f30",
        "type": "template",
        "z": "1a02f7122bccea54",
        "name": "topic",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "battery",
        "output": "str",
        "x": 1550,
        "y": 160,
        "wires": [
            [
                "d6d4102db32b5468"
            ]
        ]
    },
    {
        "id": "9d361cd4ac939126",
        "type": "template",
        "z": "1a02f7122bccea54",
        "name": "primary information",
        "field": "primary_information",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Batterij",
        "output": "str",
        "x": 1390,
        "y": 160,
        "wires": [
            [
                "0b2f559dcc657f30"
            ]
        ]
    },
    {
        "id": "007c5f03d694dd4b",
        "type": "template",
        "z": "1a02f7122bccea54",
        "name": "secondary information",
        "field": "secondary_information",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Let op, Stofzuiger {{data.event.new_state.attributes.friendly_name}} heeft een batterij niveau van {{data.event.new_state.attributes.battery_level}}% controleer de docking station.",
        "output": "str",
        "x": 1180,
        "y": 160,
        "wires": [
            [
                "9d361cd4ac939126"
            ]
        ]
    },
    {
        "id": "d5538d8b479eaa4e",
        "type": "change",
        "z": "1a02f7122bccea54",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "low_battery",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 460,
        "y": 160,
        "wires": [
            [
                "b1fe1aedd419b0b9"
            ]
        ]
    },
    {
        "id": "b1fe1aedd419b0b9",
        "type": "rbe",
        "z": "1a02f7122bccea54",
        "name": "",
        "func": "rbe",
        "gap": "",
        "start": "",
        "inout": "out",
        "septopics": false,
        "property": "payload",
        "topi": "topic",
        "x": 610,
        "y": 160,
        "wires": [
            [
                "605998daf9134e73"
            ]
        ]
    },
    {
        "id": "64ebe099d2f54d54",
        "type": "change",
        "z": "1a02f7122bccea54",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "charging",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 840,
        "y": 220,
        "wires": [
            [
                "d5538d8b479eaa4e"
            ]
        ]
    },
    {
        "id": "201f66d22f70b0c6",
        "type": "trigger-state",
        "z": "1a02f7122bccea54",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 5,
        "inputs": 0,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "vacuum.roborock_s6_pure"
            ],
            "substring": [],
            "regex": []
        },
        "debugEnabled": false,
        "constraints": [
            {
                "targetType": "this_entity",
                "targetValue": "",
                "propertyType": "property",
                "propertyValue": "new_state.attributes.battery_level",
                "comparatorType": "<",
                "comparatorValueDatatype": "num",
                "comparatorValue": "10"
            }
        ],
        "customOutputs": [],
        "outputInitially": true,
        "stateType": "str",
        "enableInput": false,
        "x": 170,
        "y": 160,
        "wires": [
            [
                "d5538d8b479eaa4e"
            ],
            [
                "dd4253130fad8a83"
            ]
        ]
    },
    {
        "id": "44cfcac399640661",
        "type": "template",
        "z": "7186425fdfc90c19",
        "g": "3bd669c9a971e4a2",
        "name": "notification id",
        "field": "notify.notification_id",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "water_detection",
        "output": "str",
        "x": 1170,
        "y": 300,
        "wires": [
            [
                "80393a5cbd64c280"
            ]
        ]
    },
    {
        "id": "76b2b2fcd5922030",
        "type": "template",
        "z": "7186425fdfc90c19",
        "g": "3bd669c9a971e4a2",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Er is water verbruik gedetecteerd, niemand in huis is en apparaten die water verbruiken staan uit!",
        "output": "str",
        "x": 1160,
        "y": 220,
        "wires": [
            [
                "80393a5cbd64c280"
            ]
        ]
    },
    {
        "id": "80393a5cbd64c280",
        "type": "join",
        "z": "7186425fdfc90c19",
        "g": "3bd669c9a971e4a2",
        "name": "",
        "mode": "custom",
        "build": "merged",
        "property": "notify",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": false,
        "timeout": "",
        "count": "4",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 1310,
        "y": 220,
        "wires": [
            [
                "4369851a7e1e9308"
            ]
        ]
    },
    {
        "id": "4369851a7e1e9308",
        "type": "link out",
        "z": "7186425fdfc90c19",
        "g": "3bd669c9a971e4a2",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "8ed3b0974336e55b"
        ],
        "x": 1405,
        "y": 220,
        "wires": []
    },
    {
        "id": "90b19d7c300c5383",
        "type": "template",
        "z": "7186425fdfc90c19",
        "g": "3bd669c9a971e4a2",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Water",
        "output": "str",
        "x": 1150,
        "y": 180,
        "wires": [
            [
                "80393a5cbd64c280"
            ]
        ]
    },
    {
        "id": "8ee8100ab8bdc7e6",
        "type": "template",
        "z": "7186425fdfc90c19",
        "g": "3bd669c9a971e4a2",
        "name": "icon",
        "field": "notify.icon",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "",
        "output": "str",
        "x": 1150,
        "y": 260,
        "wires": [
            [
                "80393a5cbd64c280"
            ]
        ]
    },
    {
        "id": "565aecc17ef25b41",
        "type": "comment",
        "z": "7186425fdfc90c19",
        "name": "flow that send a notification when water consumption has detected",
        "info": "",
        "x": 260,
        "y": 20,
        "wires": []
    },
    {
        "id": "e406b6dbb483e2b5",
        "type": "api-current-state",
        "z": "7186425fdfc90c19",
        "name": "persons not home",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "not_home",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "group.persons",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 270,
        "y": 160,
        "wires": [
            [
                "d14719d850055b7f"
            ],
            []
        ]
    },
    {
        "id": "d14719d850055b7f",
        "type": "api-current-state",
        "z": "7186425fdfc90c19",
        "name": "guest mode is off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.guest",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 470,
        "y": 160,
        "wires": [
            [
                "e66b4a5f22a86a92"
            ],
            []
        ]
    },
    {
        "id": "e66b4a5f22a86a92",
        "type": "api-current-state",
        "z": "7186425fdfc90c19",
        "name": "washingmachine is off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "binary_sensor.washing_machine",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 680,
        "y": 160,
        "wires": [
            [
                "3bfcbb604faf22f2"
            ],
            []
        ]
    },
    {
        "id": "3bfcbb604faf22f2",
        "type": "api-current-state",
        "z": "7186425fdfc90c19",
        "name": "dishwasher is off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "binary_sensor.dishwasher",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 890,
        "y": 160,
        "wires": [
            [
                "159c508f956eb430"
            ],
            []
        ]
    },
    {
        "id": "fb752b2f4a73e460",
        "type": "server-state-changed",
        "z": "7186425fdfc90c19",
        "name": "water sensor",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "sensor.watermeter_pulse"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": false,
        "stateType": "str",
        "ifState": "1",
        "ifStateType": "num",
        "ifStateOperator": "gt",
        "outputOnlyOnStateChange": true,
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 90,
        "y": 160,
        "wires": [
            [
                "e406b6dbb483e2b5"
            ],
            []
        ]
    },
    {
        "id": "b8768bd6ae8b8f1b",
        "type": "catch",
        "z": "7186425fdfc90c19",
        "g": "8a3e724b9367b490",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "fde4c3a371beff5a"
            ]
        ]
    },
    {
        "id": "fde4c3a371beff5a",
        "type": "template",
        "z": "7186425fdfc90c19",
        "g": "8a3e724b9367b490",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "0870fa9736ccd6a3"
            ]
        ]
    },
    {
        "id": "388c6c30bcb85720",
        "type": "link out",
        "z": "7186425fdfc90c19",
        "g": "8a3e724b9367b490",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 475,
        "y": 80,
        "wires": []
    },
    {
        "id": "0870fa9736ccd6a3",
        "type": "template",
        "z": "7186425fdfc90c19",
        "g": "8a3e724b9367b490",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "388c6c30bcb85720"
            ]
        ]
    },
    {
        "id": "2e62b582b5ace0b2",
        "type": "template",
        "z": "645478ab1138fd33",
        "g": "f2952a0e7861984f",
        "name": "icon",
        "field": "notify.icon",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "",
        "output": "str",
        "x": 930,
        "y": 240,
        "wires": [
            [
                "b151676bc37a1e90"
            ]
        ]
    },
    {
        "id": "6011ff5a330d5f46",
        "type": "template",
        "z": "645478ab1138fd33",
        "g": "f2952a0e7861984f",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Alarm",
        "output": "str",
        "x": 930,
        "y": 200,
        "wires": [
            [
                "b151676bc37a1e90"
            ]
        ]
    },
    {
        "id": "b151676bc37a1e90",
        "type": "join",
        "z": "645478ab1138fd33",
        "g": "f2952a0e7861984f",
        "name": "",
        "mode": "custom",
        "build": "merged",
        "property": "notify",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": false,
        "timeout": "",
        "count": "5",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 1090,
        "y": 220,
        "wires": [
            [
                "b41a40c1e135e55c"
            ]
        ]
    },
    {
        "id": "dfebcb371c6d37c4",
        "type": "template",
        "z": "645478ab1138fd33",
        "g": "f2952a0e7861984f",
        "name": "notification id",
        "field": "notify.notification_id",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "backyard_alarm",
        "output": "str",
        "x": 950,
        "y": 280,
        "wires": [
            [
                "b151676bc37a1e90"
            ]
        ]
    },
    {
        "id": "b41a40c1e135e55c",
        "type": "link out",
        "z": "645478ab1138fd33",
        "g": "f2952a0e7861984f",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "8ed3b0974336e55b"
        ],
        "x": 1175,
        "y": 220,
        "wires": []
    },
    {
        "id": "ed20a5d29a5eb136",
        "type": "template",
        "z": "645478ab1138fd33",
        "g": "f2952a0e7861984f",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Beweging in de achtertuin gedetecteerd!",
        "output": "str",
        "x": 940,
        "y": 320,
        "wires": [
            [
                "b151676bc37a1e90"
            ]
        ]
    },
    {
        "id": "29504140078fb34c",
        "type": "template",
        "z": "645478ab1138fd33",
        "g": "f2952a0e7861984f",
        "name": "notification channel",
        "field": "notify.channel",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Warning",
        "output": "str",
        "x": 970,
        "y": 360,
        "wires": [
            [
                "b151676bc37a1e90"
            ]
        ]
    },
    {
        "id": "c468b53056a67579",
        "type": "comment",
        "z": "645478ab1138fd33",
        "name": "Backyard motion detection flow",
        "info": "",
        "x": 150,
        "y": 20,
        "wires": []
    },
    {
        "id": "1117f663f7ece955",
        "type": "change",
        "z": "645478ab1138fd33",
        "name": "set msg.alarm on",
        "rules": [
            {
                "t": "set",
                "p": "alarm",
                "pt": "msg",
                "to": "on",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 630,
        "y": 180,
        "wires": [
            [
                "133af224fc73de70",
                "be68c8baf380f74e"
            ]
        ]
    },
    {
        "id": "56c442aec754c164",
        "type": "change",
        "z": "645478ab1138fd33",
        "name": "set msg.alarm off",
        "rules": [
            {
                "t": "set",
                "p": "alarm",
                "pt": "msg",
                "to": "off",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 630,
        "y": 220,
        "wires": [
            [
                "133af224fc73de70"
            ]
        ]
    },
    {
        "id": "133af224fc73de70",
        "type": "link out",
        "z": "645478ab1138fd33",
        "name": "link_out_light_dynamics_1",
        "mode": "link",
        "links": [
            "164322a018845856"
        ],
        "x": 815,
        "y": 440,
        "wires": []
    },
    {
        "id": "f3661c593b291998",
        "type": "api-call-service",
        "z": "645478ab1138fd33",
        "name": "turn on light",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "light.shelly1_barn_door"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "light",
        "service": "turn_on",
        "x": 790,
        "y": 500,
        "wires": [
            [
                "f75dd0a2cc5c194e"
            ]
        ]
    },
    {
        "id": "0361aab005f490ca",
        "type": "api-call-service",
        "z": "645478ab1138fd33",
        "name": "turn off light",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "light.shelly1_barn_door"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "light",
        "service": "turn_off",
        "x": 1090,
        "y": 500,
        "wires": [
            []
        ]
    },
    {
        "id": "1454a2634cd314fa",
        "type": "api-current-state",
        "z": "645478ab1138fd33",
        "name": "home security is on",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.home_security",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 410,
        "y": 180,
        "wires": [
            [
                "1117f663f7ece955"
            ],
            [
                "fc028de8398c35cd"
            ]
        ]
    },
    {
        "id": "fc028de8398c35cd",
        "type": "api-current-state",
        "z": "645478ab1138fd33",
        "name": "is dark outside",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "binary_sensor.outdoor_daylight",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 620,
        "y": 500,
        "wires": [
            [
                "f3661c593b291998"
            ],
            []
        ]
    },
    {
        "id": "4f5603c50cf3e3f1",
        "type": "server-state-changed",
        "z": "645478ab1138fd33",
        "name": "backyard motion sensor 01 is on",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "binary_sensor.backyard_motion_sensor_01_motion"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": false,
        "stateType": "str",
        "ifState": "on",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 150,
        "y": 180,
        "wires": [
            [
                "1454a2634cd314fa"
            ],
            [
                "abca9d489cb39d05"
            ]
        ]
    },
    {
        "id": "f75dd0a2cc5c194e",
        "type": "ha-wait-until",
        "z": "645478ab1138fd33",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "entities": {
            "entity": [
                "binary_sensor.backyard_motion_sensor_01_motion"
            ],
            "substring": [],
            "regex": []
        },
        "property": "state",
        "comparator": "is",
        "value": "off",
        "valueType": "str",
        "timeout": "5",
        "timeoutType": "num",
        "timeoutUnits": "minutes",
        "checkCurrentState": true,
        "blockInputOverrides": true,
        "outputProperties": [],
        "entityLocation": "data",
        "entityLocationType": "none",
        "x": 940,
        "y": 500,
        "wires": [
            [
                "0361aab005f490ca"
            ],
            [
                "0361aab005f490ca"
            ]
        ]
    },
    {
        "id": "584b6ef4305b94bf",
        "type": "catch",
        "z": "645478ab1138fd33",
        "g": "30dd8f4e4a961d46",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "b041bd0930b42e26"
            ]
        ]
    },
    {
        "id": "b041bd0930b42e26",
        "type": "template",
        "z": "645478ab1138fd33",
        "g": "30dd8f4e4a961d46",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "fcd114f75c18ca9a"
            ]
        ]
    },
    {
        "id": "88c8645165323767",
        "type": "link out",
        "z": "645478ab1138fd33",
        "g": "30dd8f4e4a961d46",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 475,
        "y": 80,
        "wires": []
    },
    {
        "id": "fcd114f75c18ca9a",
        "type": "template",
        "z": "645478ab1138fd33",
        "g": "30dd8f4e4a961d46",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "88c8645165323767"
            ]
        ]
    },
    {
        "id": "16bf3029dc11f50b",
        "type": "template",
        "z": "b13ca13c.9328e",
        "g": "37c7c59a61d38b32",
        "name": "icon",
        "field": "notify.icon",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "",
        "output": "str",
        "x": 1850,
        "y": 360,
        "wires": [
            [
                "1c8dfa7ab499ce29"
            ]
        ]
    },
    {
        "id": "8bd6ce7359e6fe2f",
        "type": "template",
        "z": "b13ca13c.9328e",
        "g": "37c7c59a61d38b32",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Beveiliging",
        "output": "str",
        "x": 1850,
        "y": 280,
        "wires": [
            [
                "1c8dfa7ab499ce29"
            ]
        ]
    },
    {
        "id": "48cae6c1e3fb0c75",
        "type": "link out",
        "z": "b13ca13c.9328e",
        "g": "37c7c59a61d38b32",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "c76d311bb4b6991b",
            "d1753081ba6b4004"
        ],
        "x": 2115,
        "y": 320,
        "wires": []
    },
    {
        "id": "1c8dfa7ab499ce29",
        "type": "join",
        "z": "b13ca13c.9328e",
        "g": "37c7c59a61d38b32",
        "name": "",
        "mode": "custom",
        "build": "merged",
        "property": "notify",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": false,
        "timeout": "",
        "count": "9",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 2030,
        "y": 320,
        "wires": [
            [
                "48cae6c1e3fb0c75"
            ]
        ]
    },
    {
        "id": "3f7e2f446cdb3e90",
        "type": "change",
        "z": "b13ca13c.9328e",
        "g": "37c7c59a61d38b32",
        "name": "action titles",
        "rules": [
            {
                "t": "set",
                "p": "notify.action_1_title",
                "pt": "msg",
                "to": "JA",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "notify.action_2_title",
                "pt": "msg",
                "to": "NEE",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "notify.action_1",
                "pt": "msg",
                "to": "HOME_SECURITY_OFF",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "notify.action_2",
                "pt": "msg",
                "to": "IGNORE",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1870,
        "y": 320,
        "wires": [
            [
                "1c8dfa7ab499ce29"
            ]
        ]
    },
    {
        "id": "66e66f9f5828f878",
        "type": "template",
        "z": "b13ca13c.9328e",
        "g": "37c7c59a61d38b32",
        "name": "id",
        "field": "notify.notification_id",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "home_security",
        "output": "str",
        "x": 1850,
        "y": 400,
        "wires": [
            [
                "1c8dfa7ab499ce29"
            ]
        ]
    },
    {
        "id": "dab28de38f3a6629",
        "type": "template",
        "z": "b13ca13c.9328e",
        "g": "1b05fecd5ed3289b",
        "name": "icon",
        "field": "notify.icon",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "",
        "output": "str",
        "x": 1850,
        "y": 580,
        "wires": [
            [
                "47c9e5d66b827b3c"
            ]
        ]
    },
    {
        "id": "ab8c69e6298f0ad4",
        "type": "template",
        "z": "b13ca13c.9328e",
        "g": "1b05fecd5ed3289b",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Beveiliging",
        "output": "str",
        "x": 1850,
        "y": 540,
        "wires": [
            [
                "47c9e5d66b827b3c"
            ]
        ]
    },
    {
        "id": "ac254d4235d71700",
        "type": "link out",
        "z": "b13ca13c.9328e",
        "g": "1b05fecd5ed3289b",
        "name": "link_out_notify_2",
        "mode": "link",
        "links": [
            "c13b2b4d87067c17",
            "c4660dc11fb0e5b8"
        ],
        "x": 2115,
        "y": 580,
        "wires": []
    },
    {
        "id": "47c9e5d66b827b3c",
        "type": "join",
        "z": "b13ca13c.9328e",
        "g": "1b05fecd5ed3289b",
        "name": "",
        "mode": "custom",
        "build": "merged",
        "property": "notify",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": false,
        "timeout": "",
        "count": "5",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 2030,
        "y": 580,
        "wires": [
            [
                "ac254d4235d71700"
            ]
        ]
    },
    {
        "id": "52d10ab03d478bae",
        "type": "template",
        "z": "b13ca13c.9328e",
        "g": "1b05fecd5ed3289b",
        "name": "id",
        "field": "notify.notification_id",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "",
        "output": "str",
        "x": 1850,
        "y": 620,
        "wires": [
            [
                "47c9e5d66b827b3c"
            ]
        ]
    },
    {
        "id": "322d16b061f4e108",
        "type": "template",
        "z": "b13ca13c.9328e",
        "g": "1b05fecd5ed3289b",
        "name": "channel",
        "field": "notify.channel",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Warning",
        "output": "str",
        "x": 1860,
        "y": 660,
        "wires": [
            [
                "47c9e5d66b827b3c"
            ]
        ]
    },
    {
        "id": "5922c1dac60ed4ec",
        "type": "template",
        "z": "b13ca13c.9328e",
        "g": "37c7c59a61d38b32",
        "name": "channel",
        "field": "notify.channel",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Warning",
        "output": "str",
        "x": 1860,
        "y": 440,
        "wires": [
            [
                "1c8dfa7ab499ce29"
            ]
        ]
    },
    {
        "id": "9b797c1b.4dc83",
        "type": "switch",
        "z": "b13ca13c.9328e",
        "name": "on/off",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "on",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "off",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 270,
        "y": 200,
        "wires": [
            [
                "e3f16390.e04ac"
            ],
            []
        ]
    },
    {
        "id": "d60f34c7.e15c08",
        "type": "comment",
        "z": "b13ca13c.9328e",
        "name": "home security",
        "info": "",
        "x": 90,
        "y": 20,
        "wires": []
    },
    {
        "id": "5bee85e2.5958fc",
        "type": "template",
        "z": "b13ca13c.9328e",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Het alarm gaat af! Beveiliging uitschakelen?",
        "output": "str",
        "x": 1600,
        "y": 240,
        "wires": [
            [
                "3ad564319a62aa0f"
            ]
        ]
    },
    {
        "id": "f717f95f.430aa8",
        "type": "switch",
        "z": "b13ca13c.9328e",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "on",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "off",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 270,
        "y": 380,
        "wires": [
            [
                "50a28070.5f3b8"
            ],
            [
                "50a28070.5f3b8",
                "2f8f5ff2.f712d",
                "7a028f41.56997"
            ]
        ]
    },
    {
        "id": "40140a3.8383df4",
        "type": "template",
        "z": "b13ca13c.9328e",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "De {{data.new_state.attributes.friendly_name}} is geopend met beveiliging aan. Beveiliging uitschakelen?",
        "output": "str",
        "x": 1600,
        "y": 320,
        "wires": [
            [
                "3ad564319a62aa0f"
            ]
        ]
    },
    {
        "id": "e3f16390.e04ac",
        "type": "change",
        "z": "b13ca13c.9328e",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "Huis beveiliging",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 410,
        "y": 200,
        "wires": [
            [
                "5930459.94035bc"
            ]
        ]
    },
    {
        "id": "a9b6866b3f96e444",
        "type": "comment",
        "z": "b13ca13c.9328e",
        "name": "listen to action notification answer event ",
        "info": "",
        "x": 190,
        "y": 700,
        "wires": []
    },
    {
        "id": "85c14e5d7384e6c6",
        "type": "template",
        "z": "b13ca13c.9328e",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Het alarm gaat af! Schakel beveiliging uit in Home Assistant.",
        "output": "str",
        "x": 1600,
        "y": 280,
        "wires": [
            [
                "3a0c4f886a8c4e54"
            ]
        ]
    },
    {
        "id": "668b5737b0f584a7",
        "type": "template",
        "z": "b13ca13c.9328e",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "De {{data.new_state.attributes.friendly_name}} is geopend met beveiliging aan, schakel beveiliging uit in Home Assistant.",
        "output": "str",
        "x": 1600,
        "y": 360,
        "wires": [
            [
                "3a0c4f886a8c4e54"
            ]
        ]
    },
    {
        "id": "1e0c9024.40fd9",
        "type": "api-call-service",
        "z": "b13ca13c.9328e",
        "name": "turn on alarm",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "input_boolean.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_boolean.alarm"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "input_boolean",
        "service": "turn_on",
        "x": 1610,
        "y": 180,
        "wires": [
            []
        ]
    },
    {
        "id": "3e130ee2.3c60c2",
        "type": "api-call-service",
        "z": "b13ca13c.9328e",
        "name": "cancel home security timer",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "timer.cancel",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "timer.home_security"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "data"
            }
        ],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "timer",
        "service": "cancel",
        "x": 740,
        "y": 380,
        "wires": [
            []
        ]
    },
    {
        "id": "2f8f5ff2.f712d",
        "type": "api-call-service",
        "z": "b13ca13c.9328e",
        "name": "turn off alarm",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "input_boolean.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_boolean.alarm"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "input_boolean",
        "service": "turn_off",
        "x": 430,
        "y": 440,
        "wires": [
            []
        ]
    },
    {
        "id": "4a56a5d0.e5ef1c",
        "type": "api-call-service",
        "z": "b13ca13c.9328e",
        "name": "start alarm_countdown timer",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "timer.start",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "timer.alarm_countdown"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "timer",
        "service": "start",
        "x": 860,
        "y": 200,
        "wires": [
            []
        ]
    },
    {
        "id": "b02d4bae2805d336",
        "type": "api-call-service",
        "z": "b13ca13c.9328e",
        "name": "turn off home security",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "input_boolean.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_boolean.home_security"
        ],
        "labelId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "input_boolean",
        "service": "turn_off",
        "x": 320,
        "y": 740,
        "wires": [
            []
        ]
    },
    {
        "id": "7a028f41.56997",
        "type": "api-call-service",
        "z": "b13ca13c.9328e",
        "name": "cancel alarm countdown timer",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "timer.cancel",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "timer.alarm_countdown"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "data"
            }
        ],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "timer",
        "service": "cancel",
        "x": 490,
        "y": 500,
        "wires": [
            []
        ]
    },
    {
        "id": "5930459.94035bc",
        "type": "api-current-state",
        "z": "b13ca13c.9328e",
        "name": "home security is on",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.home_security",
        "state_type": "str",
        "blockInputOverrides": true,
        "outputProperties": [
            {
                "property": "input_boolean.home_security",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 590,
        "y": 200,
        "wires": [
            [
                "4a56a5d0.e5ef1c",
                "1d1ec90f6d5f3048"
            ],
            []
        ]
    },
    {
        "id": "50a28070.5f3b8",
        "type": "api-current-state",
        "z": "b13ca13c.9328e",
        "name": "home security timer is active",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "active",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "timer.home_security",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "timer.security",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 480,
        "y": 380,
        "wires": [
            [
                "3e130ee2.3c60c2"
            ],
            []
        ]
    },
    {
        "id": "2e6f78bf3abd8343",
        "type": "api-current-state",
        "z": "b13ca13c.9328e",
        "name": "home security is on",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.home_security",
        "state_type": "str",
        "blockInputOverrides": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 1390,
        "y": 200,
        "wires": [
            [
                "1e0c9024.40fd9",
                "5bee85e2.5958fc",
                "85c14e5d7384e6c6"
            ],
            []
        ]
    },
    {
        "id": "e3606fa703de9ce3",
        "type": "server-events",
        "z": "b13ca13c.9328e",
        "name": "mobile event listner",
        "server": "4ba92433.2478cc",
        "version": 3,
        "exposeAsEntityConfig": "",
        "eventType": "mobile_app_notification_action",
        "eventData": "{\"action\":\"HOME_SECURITY_OFF\"}",
        "waitForRunning": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "$outputData(\"eventData\").event_type",
                "valueType": "jsonata"
            }
        ],
        "event_type": "",
        "x": 110,
        "y": 740,
        "wires": [
            [
                "b02d4bae2805d336"
            ]
        ]
    },
    {
        "id": "e70a87b9c4e52e05",
        "type": "server-events",
        "z": "b13ca13c.9328e",
        "name": "alarm countdown timer finished",
        "server": "4ba92433.2478cc",
        "version": 3,
        "exposeAsEntityConfig": "",
        "eventType": "timer.finished",
        "eventData": "{\"entity_id\":\"timer.alarm_countdown\"}",
        "waitForRunning": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "$outputData(\"eventData\").event_type",
                "valueType": "jsonata"
            }
        ],
        "x": 1150,
        "y": 200,
        "wires": [
            [
                "2e6f78bf3abd8343"
            ]
        ]
    },
    {
        "id": "24ab3051.7c08e",
        "type": "server-state-changed",
        "z": "b13ca13c.9328e",
        "name": "state backdoor",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 1,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "binary_sensor.backdoor"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": false,
        "stateType": "str",
        "ifState": "",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 100,
        "y": 260,
        "wires": [
            [
                "9b797c1b.4dc83"
            ]
        ]
    },
    {
        "id": "b2a6a7bd.0318b8",
        "type": "server-state-changed",
        "z": "b13ca13c.9328e",
        "name": "state front door",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 1,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "binary_sensor.frontdoor"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": false,
        "stateType": "str",
        "ifState": "",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 100,
        "y": 200,
        "wires": [
            [
                "9b797c1b.4dc83"
            ]
        ]
    },
    {
        "id": "218b9cc3.1e7df4",
        "type": "server-state-changed",
        "z": "b13ca13c.9328e",
        "name": "state home security",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 1,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "input_boolean.home_security"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": false,
        "stateType": "str",
        "ifState": "",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 110,
        "y": 380,
        "wires": [
            [
                "f717f95f.430aa8"
            ]
        ]
    },
    {
        "id": "14ba38184c7546c9",
        "type": "catch",
        "z": "b13ca13c.9328e",
        "g": "5818abbf91245841",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "827b55ddfe680440"
            ]
        ]
    },
    {
        "id": "827b55ddfe680440",
        "type": "template",
        "z": "b13ca13c.9328e",
        "g": "5818abbf91245841",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "072a523a6fd161e6"
            ]
        ]
    },
    {
        "id": "200857993ae893c3",
        "type": "link out",
        "z": "b13ca13c.9328e",
        "g": "5818abbf91245841",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 475,
        "y": 80,
        "wires": []
    },
    {
        "id": "072a523a6fd161e6",
        "type": "template",
        "z": "b13ca13c.9328e",
        "g": "5818abbf91245841",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "200857993ae893c3"
            ]
        ]
    },
    {
        "id": "e986602efbf956a6",
        "type": "template",
        "z": "2fdf3d9bec5f1748",
        "g": "0490826048e616a0",
        "name": "notification channel",
        "field": "notify.channel",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Warning",
        "output": "str",
        "x": 1350,
        "y": 360,
        "wires": [
            [
                "f513a1a6c1ad56d9"
            ]
        ]
    },
    {
        "id": "dedcddec2131fd4e",
        "type": "template",
        "z": "2fdf3d9bec5f1748",
        "g": "0490826048e616a0",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Beweging in de keuken gedetecteerd!",
        "output": "str",
        "x": 1320,
        "y": 320,
        "wires": [
            [
                "f513a1a6c1ad56d9"
            ]
        ]
    },
    {
        "id": "335c7c4596657191",
        "type": "link out",
        "z": "2fdf3d9bec5f1748",
        "g": "0490826048e616a0",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "8ed3b0974336e55b"
        ],
        "x": 1555,
        "y": 220,
        "wires": []
    },
    {
        "id": "2137fd353b4905ee",
        "type": "template",
        "z": "2fdf3d9bec5f1748",
        "g": "0490826048e616a0",
        "name": "notification id",
        "field": "notify.notification_id",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "kitchen_alarm",
        "output": "str",
        "x": 1330,
        "y": 280,
        "wires": [
            [
                "f513a1a6c1ad56d9"
            ]
        ]
    },
    {
        "id": "f513a1a6c1ad56d9",
        "type": "join",
        "z": "2fdf3d9bec5f1748",
        "g": "0490826048e616a0",
        "name": "",
        "mode": "custom",
        "build": "merged",
        "property": "notify",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "useparts": true,
        "accumulate": false,
        "timeout": "",
        "count": "5",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 1470,
        "y": 220,
        "wires": [
            [
                "335c7c4596657191"
            ]
        ]
    },
    {
        "id": "28d7678ffbc9ea54",
        "type": "template",
        "z": "2fdf3d9bec5f1748",
        "g": "0490826048e616a0",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Alarm",
        "output": "str",
        "x": 1310,
        "y": 200,
        "wires": [
            [
                "f513a1a6c1ad56d9"
            ]
        ]
    },
    {
        "id": "6e679db82914212d",
        "type": "template",
        "z": "2fdf3d9bec5f1748",
        "g": "0490826048e616a0",
        "name": "icon",
        "field": "notify.icon",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "",
        "output": "str",
        "x": 1310,
        "y": 240,
        "wires": [
            [
                "f513a1a6c1ad56d9"
            ]
        ]
    },
    {
        "id": "769359a8fd5e96e4",
        "type": "comment",
        "z": "2fdf3d9bec5f1748",
        "name": "Kitchen motion detection flow",
        "info": "",
        "x": 140,
        "y": 20,
        "wires": []
    },
    {
        "id": "703bd25addecc618",
        "type": "change",
        "z": "2fdf3d9bec5f1748",
        "name": "set msg.alarm on",
        "rules": [
            {
                "t": "set",
                "p": "alarm",
                "pt": "msg",
                "to": "on",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1010,
        "y": 180,
        "wires": [
            [
                "411c3c903ef0bd56",
                "509313ec35867636"
            ]
        ]
    },
    {
        "id": "609e3ac6425b0cac",
        "type": "change",
        "z": "2fdf3d9bec5f1748",
        "name": "set msg.alarm off",
        "rules": [
            {
                "t": "set",
                "p": "alarm",
                "pt": "msg",
                "to": "off",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1010,
        "y": 220,
        "wires": [
            [
                "411c3c903ef0bd56"
            ]
        ]
    },
    {
        "id": "411c3c903ef0bd56",
        "type": "link out",
        "z": "2fdf3d9bec5f1748",
        "name": "link_out_light_dynamics_1",
        "mode": "link",
        "links": [
            "5d17a23a9ac5fe01"
        ],
        "x": 1205,
        "y": 460,
        "wires": []
    },
    {
        "id": "96e5fecc3b401af6",
        "type": "api-current-state",
        "z": "2fdf3d9bec5f1748",
        "name": "home security is on",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.home_security",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 370,
        "y": 180,
        "wires": [
            [
                "7b68d77ebd125cba"
            ],
            []
        ]
    },
    {
        "id": "7b68d77ebd125cba",
        "type": "api-current-state",
        "z": "2fdf3d9bec5f1748",
        "name": "nobody is home",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "not_home",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "group.persons",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 560,
        "y": 180,
        "wires": [
            [
                "b654879d08aad928"
            ],
            []
        ]
    },
    {
        "id": "b654879d08aad928",
        "type": "api-current-state",
        "z": "2fdf3d9bec5f1748",
        "name": "guest mode is off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.guest",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 750,
        "y": 180,
        "wires": [
            [
                "703bd25addecc618"
            ],
            []
        ]
    },
    {
        "id": "3a6a5555b220835e",
        "type": "server-state-changed",
        "z": "2fdf3d9bec5f1748",
        "name": "wall tablet motion sensor",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "binary_sensor.wall_tablet"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": false,
        "stateType": "str",
        "ifState": "on",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 130,
        "y": 180,
        "wires": [
            [
                "96e5fecc3b401af6"
            ],
            [
                "3564b4f51c2e9f2b"
            ]
        ]
    },
    {
        "id": "e49b1a71f5484e62",
        "type": "catch",
        "z": "2fdf3d9bec5f1748",
        "g": "8e49d14f6c55b86d",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "370797ef44bacff0"
            ]
        ]
    },
    {
        "id": "370797ef44bacff0",
        "type": "template",
        "z": "2fdf3d9bec5f1748",
        "g": "8e49d14f6c55b86d",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "796c20cfef0a4084"
            ]
        ]
    },
    {
        "id": "d6b4445ad7f5062a",
        "type": "link out",
        "z": "2fdf3d9bec5f1748",
        "g": "8e49d14f6c55b86d",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 475,
        "y": 80,
        "wires": []
    },
    {
        "id": "796c20cfef0a4084",
        "type": "template",
        "z": "2fdf3d9bec5f1748",
        "g": "8e49d14f6c55b86d",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "d6b4445ad7f5062a"
            ]
        ]
    },
    {
        "id": "8ca7529cee95086c",
        "type": "template",
        "z": "cde79c08.e4f488",
        "g": "60a8ffbec987c377",
        "name": "notification channel",
        "field": "notify.channel",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Warning",
        "output": "str",
        "x": 990,
        "y": 400,
        "wires": [
            [
                "9a02e08c1760e584"
            ]
        ]
    },
    {
        "id": "af6a4d51c1e99b4e",
        "type": "template",
        "z": "cde79c08.e4f488",
        "g": "60a8ffbec987c377",
        "name": "icon",
        "field": "notify.icon",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "",
        "output": "str",
        "x": 950,
        "y": 320,
        "wires": [
            [
                "9a02e08c1760e584"
            ]
        ]
    },
    {
        "id": "8bda876328e49e67",
        "type": "template",
        "z": "cde79c08.e4f488",
        "g": "60a8ffbec987c377",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Alarm",
        "output": "str",
        "x": 950,
        "y": 280,
        "wires": [
            [
                "9a02e08c1760e584"
            ]
        ]
    },
    {
        "id": "fdba7cd037a9da5a",
        "type": "link out",
        "z": "cde79c08.e4f488",
        "g": "60a8ffbec987c377",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "8ed3b0974336e55b",
            "aeee8468f3d1b7ad",
            "c4660dc11fb0e5b8"
        ],
        "x": 1205,
        "y": 300,
        "wires": []
    },
    {
        "id": "9a02e08c1760e584",
        "type": "join",
        "z": "cde79c08.e4f488",
        "g": "60a8ffbec987c377",
        "name": "",
        "mode": "custom",
        "build": "merged",
        "property": "notify",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": false,
        "timeout": "",
        "count": "5",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 1110,
        "y": 300,
        "wires": [
            [
                "fdba7cd037a9da5a"
            ]
        ]
    },
    {
        "id": "c7b88c5f533c105b",
        "type": "template",
        "z": "cde79c08.e4f488",
        "g": "60a8ffbec987c377",
        "name": "notification id",
        "field": "notify.notification_id",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "firealarm",
        "output": "str",
        "x": 970,
        "y": 360,
        "wires": [
            [
                "9a02e08c1760e584"
            ]
        ]
    },
    {
        "id": "dc93ddfe.5bd4a",
        "type": "comment",
        "z": "cde79c08.e4f488",
        "name": "notify when a smoke or co alarm goes on",
        "info": "notify when a message appears in pfsense",
        "x": 180,
        "y": 20,
        "wires": []
    },
    {
        "id": "3fdbb752.798ec8",
        "type": "template",
        "z": "cde79c08.e4f488",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "{{test_message}}Er is rook gedecteerd in de {{location}}!",
        "output": "str",
        "x": 660,
        "y": 420,
        "wires": [
            [
                "8f9a86a6.9ca938"
            ]
        ]
    },
    {
        "id": "acaf455.81dc638",
        "type": "change",
        "z": "cde79c08.e4f488",
        "name": "set msg.alarm on",
        "rules": [
            {
                "t": "set",
                "p": "alarm",
                "pt": "msg",
                "to": "on",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 990,
        "y": 520,
        "wires": [
            [
                "e426c9cc0865f723"
            ]
        ]
    },
    {
        "id": "7cdcd90a.9cd33",
        "type": "template",
        "z": "cde79c08.e4f488",
        "name": "location livingroom",
        "field": "location",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "woonkamer",
        "output": "str",
        "x": 430,
        "y": 380,
        "wires": [
            [
                "3fdbb752.798ec8"
            ]
        ]
    },
    {
        "id": "3f622d19.96609a",
        "type": "template",
        "z": "cde79c08.e4f488",
        "name": "location upstairs",
        "field": "location",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "hal boven",
        "output": "str",
        "x": 420,
        "y": 420,
        "wires": [
            [
                "3fdbb752.798ec8"
            ]
        ]
    },
    {
        "id": "c5e700b.742ef",
        "type": "template",
        "z": "cde79c08.e4f488",
        "name": "location basement",
        "field": "location",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "kelder",
        "output": "str",
        "x": 430,
        "y": 460,
        "wires": [
            [
                "3fdbb752.798ec8"
            ]
        ]
    },
    {
        "id": "8f9a86a6.9ca938",
        "type": "switch",
        "z": "cde79c08.e4f488",
        "name": "on / off",
        "property": "alarm_state",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "on",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "off",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 790,
        "y": 520,
        "wires": [
            [
                "acaf455.81dc638",
                "ef17b4eb0dc0871b"
            ],
            [
                "56c87bdc.b016ac"
            ]
        ]
    },
    {
        "id": "56c87bdc.b016ac",
        "type": "change",
        "z": "cde79c08.e4f488",
        "name": "set msg.alarm off",
        "rules": [
            {
                "t": "set",
                "p": "alarm",
                "pt": "msg",
                "to": "off",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 990,
        "y": 560,
        "wires": [
            [
                "e426c9cc0865f723"
            ]
        ]
    },
    {
        "id": "2174c321b4d32ca8",
        "type": "template",
        "z": "cde79c08.e4f488",
        "name": "location livingroom",
        "field": "location",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "woonkamer",
        "output": "str",
        "x": 430,
        "y": 200,
        "wires": [
            [
                "3c51dd96d91e1bc6"
            ]
        ]
    },
    {
        "id": "091db6919a07bcbc",
        "type": "template",
        "z": "cde79c08.e4f488",
        "name": "location upstairs",
        "field": "location",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "hal boven",
        "output": "str",
        "x": 420,
        "y": 240,
        "wires": [
            [
                "3c51dd96d91e1bc6"
            ]
        ]
    },
    {
        "id": "05b4a765aa5d138e",
        "type": "template",
        "z": "cde79c08.e4f488",
        "name": "location basement",
        "field": "location",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "kelder",
        "output": "str",
        "x": 430,
        "y": 280,
        "wires": [
            [
                "3c51dd96d91e1bc6"
            ]
        ]
    },
    {
        "id": "3c51dd96d91e1bc6",
        "type": "template",
        "z": "cde79c08.e4f488",
        "name": "test message",
        "field": "test_message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Dit is een test.",
        "output": "str",
        "x": 670,
        "y": 260,
        "wires": [
            [
                "3fdbb752.798ec8"
            ]
        ]
    },
    {
        "id": "f7bea18edd3df74d",
        "type": "template",
        "z": "cde79c08.e4f488",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "{{test_message}}Er is koolmonoxide gedecteerd in de {{location}}, open ramen en deuren!",
        "output": "str",
        "x": 660,
        "y": 600,
        "wires": [
            [
                "8f9a86a6.9ca938"
            ]
        ]
    },
    {
        "id": "7796933fbf4a81d9",
        "type": "template",
        "z": "cde79c08.e4f488",
        "name": "location livingroom",
        "field": "location",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "woonkamer",
        "output": "str",
        "x": 430,
        "y": 560,
        "wires": [
            [
                "f7bea18edd3df74d"
            ]
        ]
    },
    {
        "id": "e158e20d0b4d314e",
        "type": "template",
        "z": "cde79c08.e4f488",
        "name": "location upstairs",
        "field": "location",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "hal boven",
        "output": "str",
        "x": 420,
        "y": 600,
        "wires": [
            [
                "f7bea18edd3df74d"
            ]
        ]
    },
    {
        "id": "44c54d3a1158ddbd",
        "type": "template",
        "z": "cde79c08.e4f488",
        "name": "location basement",
        "field": "location",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "kelder",
        "output": "str",
        "x": 430,
        "y": 640,
        "wires": [
            [
                "f7bea18edd3df74d"
            ]
        ]
    },
    {
        "id": "e426c9cc0865f723",
        "type": "link out",
        "z": "cde79c08.e4f488",
        "name": "link_out_light_dynamics_1",
        "mode": "link",
        "links": [
            "43cbfb522e72cbe5"
        ],
        "x": 1125,
        "y": 540,
        "wires": []
    },
    {
        "id": "743eb0e6.61b368",
        "type": "server-state-changed",
        "z": "cde79c08.e4f488",
        "name": "smoke co alarm test livingroom",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 1,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "binary_sensor.firtsalert_living_room_smoke_alarm_test"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": false,
        "stateType": "str",
        "ifState": "",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "alarm_state",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 150,
        "y": 200,
        "wires": [
            [
                "2174c321b4d32ca8"
            ]
        ]
    },
    {
        "id": "bc9788a0.2fc028",
        "type": "server-state-changed",
        "z": "cde79c08.e4f488",
        "name": "smoke detected livingroom",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 1,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "binary_sensor.firtsalert_living_room_smoke_detected"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": false,
        "stateType": "str",
        "ifState": "",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "alarm_state",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 130,
        "y": 380,
        "wires": [
            [
                "7cdcd90a.9cd33"
            ]
        ]
    },
    {
        "id": "fd7b8a4d.52e6c8",
        "type": "server-state-changed",
        "z": "cde79c08.e4f488",
        "name": "smoke detected upstairs",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 1,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "binary_sensor.firstalert_hallway_upstairs_smoke_detected"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": false,
        "stateType": "str",
        "ifState": "",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "alarm_state",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 130,
        "y": 420,
        "wires": [
            [
                "3f622d19.96609a"
            ]
        ]
    },
    {
        "id": "d75a3b89.b17828",
        "type": "server-state-changed",
        "z": "cde79c08.e4f488",
        "name": "smoke detected basement",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 1,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "binary_sensor.smartalert_basement_smoke_detected"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": false,
        "stateType": "str",
        "ifState": "",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "alarm_state",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 130,
        "y": 460,
        "wires": [
            [
                "c5e700b.742ef"
            ]
        ]
    },
    {
        "id": "04d283125bc58145",
        "type": "server-state-changed",
        "z": "cde79c08.e4f488",
        "name": "smoke co alarm test hallway upstairs",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 1,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "binary_sensor.firstalert_hallway_upstairs_smoke_alarm_test"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": false,
        "stateType": "str",
        "ifState": "",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "alarm_state",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 160,
        "y": 240,
        "wires": [
            [
                "091db6919a07bcbc"
            ]
        ]
    },
    {
        "id": "0e7fa473b99890f7",
        "type": "server-state-changed",
        "z": "cde79c08.e4f488",
        "name": "smoke co alarm test ",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 1,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "binary_sensor.smartalert_basement_smoke_alarm_test"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": false,
        "stateType": "str",
        "ifState": "",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "alarm_state",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 110,
        "y": 280,
        "wires": [
            [
                "05b4a765aa5d138e"
            ]
        ]
    },
    {
        "id": "462204bb44d52283",
        "type": "server-state-changed",
        "z": "cde79c08.e4f488",
        "name": "co detected livingroom",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 1,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "binary_sensor.firtsalert_living_room_carbon_monoxide_detected"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": false,
        "stateType": "str",
        "ifState": "",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "alarm_state",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 120,
        "y": 560,
        "wires": [
            [
                "7796933fbf4a81d9"
            ]
        ]
    },
    {
        "id": "fb4d6bcec28c0e8c",
        "type": "server-state-changed",
        "z": "cde79c08.e4f488",
        "name": "co detected upstairs",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 1,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "binary_sensor.firstalert_hallway_upstairs_carbon_monoxide_detected"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": false,
        "stateType": "str",
        "ifState": "",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "alarm_state",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 110,
        "y": 600,
        "wires": [
            [
                "e158e20d0b4d314e"
            ]
        ]
    },
    {
        "id": "22ebafc77a56459e",
        "type": "server-state-changed",
        "z": "cde79c08.e4f488",
        "name": "co detected basement",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 1,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "binary_sensor.smartalert_basement_carbon_monoxide_detected"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": false,
        "stateType": "str",
        "ifState": "",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "alarm_state",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 120,
        "y": 640,
        "wires": [
            [
                "44c54d3a1158ddbd"
            ]
        ]
    },
    {
        "id": "7f6be1a38957af4c",
        "type": "catch",
        "z": "cde79c08.e4f488",
        "g": "cb7954a7aa2cae2b",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "f1521b7d71efee12"
            ]
        ]
    },
    {
        "id": "f1521b7d71efee12",
        "type": "template",
        "z": "cde79c08.e4f488",
        "g": "cb7954a7aa2cae2b",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "880bc0b589727b10"
            ]
        ]
    },
    {
        "id": "301e5101402d9cd1",
        "type": "link out",
        "z": "cde79c08.e4f488",
        "g": "cb7954a7aa2cae2b",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 475,
        "y": 80,
        "wires": []
    },
    {
        "id": "880bc0b589727b10",
        "type": "template",
        "z": "cde79c08.e4f488",
        "g": "cb7954a7aa2cae2b",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "301e5101402d9cd1"
            ]
        ]
    },
    {
        "id": "7f181c3a969cf13c",
        "type": "join",
        "z": "46d98b35c2eee05b",
        "name": "",
        "mode": "custom",
        "build": "array",
        "property": "",
        "propertyType": "full",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "useparts": true,
        "accumulate": false,
        "timeout": "",
        "count": "2",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 690,
        "y": 160,
        "wires": [
            [
                "ef67c1284ddb8eed"
            ]
        ]
    },
    {
        "id": "ef67c1284ddb8eed",
        "type": "function",
        "z": "46d98b35c2eee05b",
        "name": "calculation",
        "func": "// Sum two values\nmsg.payload = (parseFloat(msg.returned) + -parseFloat(msg.delivered)) * 1000;\n\nreturn msg;",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 830,
        "y": 160,
        "wires": [
            [
                "99a64ef46dadb061"
            ]
        ]
    },
    {
        "id": "8dc59865117f6040",
        "type": "inject",
        "z": "46d98b35c2eee05b",
        "name": "",
        "props": [],
        "repeat": "1",
        "crontab": "",
        "once": true,
        "onceDelay": "1",
        "topic": "",
        "x": 90,
        "y": 160,
        "wires": [
            [
                "6fc7768f0e0e7113",
                "ba77f8da98851350"
            ]
        ]
    },
    {
        "id": "fc249a2f095e860f",
        "type": "comment",
        "z": "46d98b35c2eee05b",
        "name": "energy sensor that show how many energy I deliver back or using from net. ",
        "info": "",
        "x": 280,
        "y": 20,
        "wires": []
    },
    {
        "id": "63df13e036af1a07",
        "type": "comment",
        "z": "46d98b35c2eee05b",
        "name": "energy sensor that shows energy usage",
        "info": "",
        "x": 170,
        "y": 280,
        "wires": []
    },
    {
        "id": "accd30b231cf2bf4",
        "type": "inject",
        "z": "46d98b35c2eee05b",
        "name": "",
        "props": [],
        "repeat": "1",
        "crontab": "",
        "once": true,
        "onceDelay": "1",
        "topic": "",
        "x": 90,
        "y": 320,
        "wires": [
            [
                "b30974b6c0fc163e",
                "a35d2dff9d2a1f7c",
                "a00ba324f973e2a1"
            ]
        ]
    },
    {
        "id": "275467bcb9c26880",
        "type": "join",
        "z": "46d98b35c2eee05b",
        "name": "",
        "mode": "custom",
        "build": "array",
        "property": "",
        "propertyType": "full",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": false,
        "timeout": "",
        "count": "3",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 690,
        "y": 320,
        "wires": [
            [
                "82b9234d2e343295"
            ]
        ]
    },
    {
        "id": "82b9234d2e343295",
        "type": "function",
        "z": "46d98b35c2eee05b",
        "name": "calculation",
        "func": "// Sum two values\nmsg.payload = (((parseFloat(msg.returned) - parseFloat(msg.delivered)) - parseFloat(msg.producing) / 1000) * 1000).toFixed(0);\nreturn msg;",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 830,
        "y": 320,
        "wires": [
            [
                "05165754289e75f1"
            ]
        ]
    },
    {
        "id": "ba77f8da98851350",
        "type": "api-current-state",
        "z": "46d98b35c2eee05b",
        "name": "state currently returned",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 1,
        "halt_if": "",
        "halt_if_type": "num",
        "halt_if_compare": "is",
        "entity_id": "sensor.dsmr_reading_electricity_currently_returned",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "returned",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 290,
        "y": 220,
        "wires": [
            [
                "7f181c3a969cf13c"
            ]
        ]
    },
    {
        "id": "6fc7768f0e0e7113",
        "type": "api-current-state",
        "z": "46d98b35c2eee05b",
        "name": "state currently delivered",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 1,
        "halt_if": "",
        "halt_if_type": "num",
        "halt_if_compare": "is",
        "entity_id": "sensor.dsmr_reading_electricity_currently_delivered",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "delivered",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 290,
        "y": 160,
        "wires": [
            [
                "7f181c3a969cf13c"
            ]
        ]
    },
    {
        "id": "a35d2dff9d2a1f7c",
        "type": "api-current-state",
        "z": "46d98b35c2eee05b",
        "name": "state currently returned",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 1,
        "halt_if": "",
        "halt_if_type": "num",
        "halt_if_compare": "is",
        "entity_id": "sensor.dsmr_reading_electricity_currently_returned",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "returned",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 290,
        "y": 380,
        "wires": [
            [
                "275467bcb9c26880"
            ]
        ]
    },
    {
        "id": "b30974b6c0fc163e",
        "type": "api-current-state",
        "z": "46d98b35c2eee05b",
        "name": "state currently delivered",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 1,
        "halt_if": "",
        "halt_if_type": "num",
        "halt_if_compare": "is",
        "entity_id": "sensor.dsmr_reading_electricity_currently_delivered",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "delivered",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 290,
        "y": 320,
        "wires": [
            [
                "275467bcb9c26880"
            ]
        ]
    },
    {
        "id": "a00ba324f973e2a1",
        "type": "api-current-state",
        "z": "46d98b35c2eee05b",
        "name": "state currently producing",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 1,
        "halt_if": "",
        "halt_if_type": "num",
        "halt_if_compare": "is",
        "entity_id": "sensor.solaredge_modbus_ac_power",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "producing",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 290,
        "y": 440,
        "wires": [
            [
                "275467bcb9c26880"
            ]
        ]
    },
    {
        "id": "99a64ef46dadb061",
        "type": "ha-sensor",
        "z": "46d98b35c2eee05b",
        "name": "custom_energy",
        "entityConfig": "7befa0b16196877c",
        "version": 0,
        "state": "payload",
        "stateType": "msg",
        "attributes": [],
        "inputOverride": "allow",
        "outputProperties": [],
        "x": 1000,
        "y": 160,
        "wires": [
            []
        ]
    },
    {
        "id": "05165754289e75f1",
        "type": "ha-sensor",
        "z": "46d98b35c2eee05b",
        "name": "custom_energy_usage",
        "entityConfig": "3f4f99b6c043befd",
        "version": 0,
        "state": "payload",
        "stateType": "msg",
        "attributes": [],
        "inputOverride": "allow",
        "outputProperties": [],
        "x": 1020,
        "y": 320,
        "wires": [
            []
        ]
    },
    {
        "id": "68c48f123df0cea6",
        "type": "catch",
        "z": "46d98b35c2eee05b",
        "g": "a5fedb7b1f936a7c",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "0a699ee4ac51e7f9"
            ]
        ]
    },
    {
        "id": "0a699ee4ac51e7f9",
        "type": "template",
        "z": "46d98b35c2eee05b",
        "g": "a5fedb7b1f936a7c",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "73e7561891b5363a"
            ]
        ]
    },
    {
        "id": "a6196b4738721e31",
        "type": "link out",
        "z": "46d98b35c2eee05b",
        "g": "a5fedb7b1f936a7c",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 475,
        "y": 80,
        "wires": []
    },
    {
        "id": "73e7561891b5363a",
        "type": "template",
        "z": "46d98b35c2eee05b",
        "g": "a5fedb7b1f936a7c",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "a6196b4738721e31"
            ]
        ]
    },
    {
        "id": "7b9d796ac83c32bf",
        "type": "join",
        "z": "99c1372046e45da7",
        "g": "b268fa78a872617d",
        "name": "",
        "mode": "custom",
        "build": "merged",
        "property": "notify",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": false,
        "timeout": "",
        "count": "4",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 1630,
        "y": 320,
        "wires": [
            [
                "8c93b438701888a6"
            ]
        ]
    },
    {
        "id": "8c93b438701888a6",
        "type": "link out",
        "z": "99c1372046e45da7",
        "g": "b268fa78a872617d",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "8ed3b0974336e55b",
            "a97f87cfab413716"
        ],
        "x": 1725,
        "y": 320,
        "wires": []
    },
    {
        "id": "781d3a645a5e3130",
        "type": "template",
        "z": "99c1372046e45da7",
        "g": "b268fa78a872617d",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Er is een nieuw zonne-energie dagrecord gemeten vandaag.\\n\\nOud: {{data.state}} {{data.attributes.unit_of_measurement}} op {{data.attributes.date}}\\nNieuw: {{payload.value}} {{data.attributes.unit_of_measurement}} op {{date}}",
        "output": "str",
        "x": 1480,
        "y": 320,
        "wires": [
            [
                "7b9d796ac83c32bf"
            ]
        ]
    },
    {
        "id": "5a8f575633614c07",
        "type": "template",
        "z": "99c1372046e45da7",
        "g": "b268fa78a872617d",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Zonne-energie",
        "output": "str",
        "x": 1470,
        "y": 280,
        "wires": [
            [
                "7b9d796ac83c32bf"
            ]
        ]
    },
    {
        "id": "148de36202032274",
        "type": "template",
        "z": "99c1372046e45da7",
        "g": "b268fa78a872617d",
        "name": "icon",
        "field": "notify.icon",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": ":door:",
        "output": "str",
        "x": 1470,
        "y": 360,
        "wires": [
            [
                "7b9d796ac83c32bf"
            ]
        ]
    },
    {
        "id": "59d4d6719e262bbb",
        "type": "template",
        "z": "99c1372046e45da7",
        "g": "a51faa8090a268f4",
        "name": "secondary information",
        "field": "secondary_information",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Oud: {{data.state}} {{data.attributes.unit_of_measurement}} op {{data.attributes.date}}\nNieuw: {{payload.value}} {{data.attributes.unit_of_measurement}} op {{date}}",
        "output": "str",
        "x": 1480,
        "y": 500,
        "wires": [
            [
                "e8714993e53c2d5e"
            ]
        ]
    },
    {
        "id": "e8714993e53c2d5e",
        "type": "template",
        "z": "99c1372046e45da7",
        "g": "a51faa8090a268f4",
        "name": "primary information",
        "field": "primary_information",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Er is een nieuw zonne-energie dagrecord gemeten vandaag",
        "output": "str",
        "x": 1710,
        "y": 500,
        "wires": [
            [
                "0561341e4ea54205"
            ]
        ]
    },
    {
        "id": "0561341e4ea54205",
        "type": "template",
        "z": "99c1372046e45da7",
        "g": "a51faa8090a268f4",
        "name": "topic",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "garbage",
        "output": "str",
        "x": 1890,
        "y": 500,
        "wires": [
            [
                "29ad6bfc437abec2"
            ]
        ]
    },
    {
        "id": "29ad6bfc437abec2",
        "type": "template",
        "z": "99c1372046e45da7",
        "g": "a51faa8090a268f4",
        "name": "notification_level",
        "field": "notification_level",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "info",
        "output": "str",
        "x": 2050,
        "y": 500,
        "wires": [
            [
                "afc68deb5ab5e4be"
            ]
        ]
    },
    {
        "id": "afc68deb5ab5e4be",
        "type": "link out",
        "z": "99c1372046e45da7",
        "g": "a51faa8090a268f4",
        "name": "notification",
        "mode": "link",
        "links": [
            "60e14e33a793f50d"
        ],
        "x": 2185,
        "y": 500,
        "wires": []
    },
    {
        "id": "451f25b73596ddf8",
        "type": "template",
        "z": "99c1372046e45da7",
        "g": "b268fa78a872617d",
        "name": "notification id",
        "field": "notify.notification_id",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "solar_record",
        "output": "str",
        "x": 1490,
        "y": 400,
        "wires": [
            [
                "7b9d796ac83c32bf"
            ]
        ]
    },
    {
        "id": "a0300d7bafb66f44",
        "type": "comment",
        "z": "99c1372046e45da7",
        "name": "A sensor that stores the value and date when there is a new produced solar power daily record",
        "info": "",
        "x": 340,
        "y": 20,
        "wires": []
    },
    {
        "id": "74cc10441231f8f2",
        "type": "function",
        "z": "99c1372046e45da7",
        "name": "change string into float number",
        "func": "msg.payload = parseFloat(msg.payload);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 350,
        "y": 180,
        "wires": [
            [
                "aab1bbee72f90c90"
            ]
        ]
    },
    {
        "id": "27b51aa55e598e0f",
        "type": "function",
        "z": "99c1372046e45da7",
        "name": "create string kwh payload and date",
        "func": "// Set payload to a 3 decimal number as string\nmsg.payload = parseFloat(msg.payload).toFixed(3);\n\n// Create YYYY-MM-DD value from datetime string\nvar datetime = msg.data.last_updated;\nmsg.date = datetime.split('T')[0];\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1020,
        "y": 180,
        "wires": [
            [
                "3cceba91547a7d4e"
            ]
        ]
    },
    {
        "id": "6a870ac713200910",
        "type": "inject",
        "z": "99c1372046e45da7",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "date",
                "v": "2023-05-26",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "34.080",
        "payloadType": "str",
        "x": 1110,
        "y": 220,
        "wires": [
            [
                "3cceba91547a7d4e"
            ]
        ]
    },
    {
        "id": "122d704723bc1cb0",
        "type": "mqtt out",
        "z": "99c1372046e45da7",
        "name": "",
        "topic": "/homeassistant/solar/ac_solar_record",
        "qos": "1",
        "retain": "true",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "36dee637778341ba",
        "x": 1510,
        "y": 180,
        "wires": []
    },
    {
        "id": "3cceba91547a7d4e",
        "type": "template",
        "z": "99c1372046e45da7",
        "name": "",
        "field": "payload",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "{\n    \"value\": \"{{payload}}\",\n    \"date\": \"{{date}}\"\n}",
        "output": "json",
        "x": 1240,
        "y": 180,
        "wires": [
            [
                "122d704723bc1cb0",
                "9655b1065753069f",
                "59d4d6719e262bbb"
            ]
        ]
    },
    {
        "id": "aab1bbee72f90c90",
        "type": "api-current-state",
        "z": "99c1372046e45da7",
        "name": "highest_ac_solar_day  < solaredge kwh yoday ",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "payload",
        "halt_if_type": "msg",
        "halt_if_compare": "lt",
        "entity_id": "sensor.mqtt_ac_solar_record",
        "state_type": "str",
        "blockInputOverrides": true,
        "outputProperties": [
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 680,
        "y": 180,
        "wires": [
            [
                "27b51aa55e598e0f"
            ],
            []
        ]
    },
    {
        "id": "80dc13087104d323",
        "type": "server-state-changed",
        "z": "99c1372046e45da7",
        "name": "solaredge kwh today",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 1,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "sensor.solaredge_modbus_ac_energy_kwh_today"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": true,
        "stateType": "str",
        "ifState": "",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "10",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": true,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 110,
        "y": 180,
        "wires": [
            [
                "74cc10441231f8f2"
            ]
        ]
    },
    {
        "id": "6dc6a41b28fbcce8",
        "type": "catch",
        "z": "99c1372046e45da7",
        "g": "e30ff84977664050",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "d9437e8ede03988b"
            ]
        ]
    },
    {
        "id": "d9437e8ede03988b",
        "type": "template",
        "z": "99c1372046e45da7",
        "g": "e30ff84977664050",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "b0a930b2bce12ea3"
            ]
        ]
    },
    {
        "id": "6bcc6ca59609f4ee",
        "type": "link out",
        "z": "99c1372046e45da7",
        "g": "e30ff84977664050",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 475,
        "y": 80,
        "wires": []
    },
    {
        "id": "b0a930b2bce12ea3",
        "type": "template",
        "z": "99c1372046e45da7",
        "g": "e30ff84977664050",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "6bcc6ca59609f4ee"
            ]
        ]
    },
    {
        "id": "2eb8824d45a66c4f",
        "type": "template",
        "z": "72ef82b8.9d086c",
        "g": "48945dbb970d3465",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "a88aa9f85b115b03"
            ]
        ]
    },
    {
        "id": "a88aa9f85b115b03",
        "type": "link out",
        "z": "72ef82b8.9d086c",
        "g": "48945dbb970d3465",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 475,
        "y": 80,
        "wires": []
    },
    {
        "id": "d6fdd4c4271165e1",
        "type": "template",
        "z": "72ef82b8.9d086c",
        "g": "48945dbb970d3465",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "2eb8824d45a66c4f"
            ]
        ]
    },
    {
        "id": "95a0ca31cb9f81d2",
        "type": "catch",
        "z": "72ef82b8.9d086c",
        "g": "48945dbb970d3465",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "d6fdd4c4271165e1"
            ]
        ]
    },
    {
        "id": "95286ff3.9f33d",
        "type": "template",
        "z": "72ef82b8.9d086c",
        "g": "677a462e190a4c92",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "De droger is klaar.",
        "output": "str",
        "x": 1390,
        "y": 300,
        "wires": [
            [
                "a91faa17c024af1e"
            ]
        ]
    },
    {
        "id": "f359939883ebec80",
        "type": "template",
        "z": "72ef82b8.9d086c",
        "g": "677a462e190a4c92",
        "name": "icon",
        "field": "notify.icon",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "",
        "output": "str",
        "x": 1380,
        "y": 220,
        "wires": [
            [
                "a91faa17c024af1e"
            ]
        ]
    },
    {
        "id": "70a25e05987238de",
        "type": "template",
        "z": "72ef82b8.9d086c",
        "g": "677a462e190a4c92",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Droger",
        "output": "str",
        "x": 1380,
        "y": 180,
        "wires": [
            [
                "a91faa17c024af1e"
            ]
        ]
    },
    {
        "id": "0993d50e3c03d798",
        "type": "link out",
        "z": "72ef82b8.9d086c",
        "g": "677a462e190a4c92",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "8ed3b0974336e55b",
            "aeee8468f3d1b7ad",
            "c4660dc11fb0e5b8"
        ],
        "x": 1675,
        "y": 240,
        "wires": []
    },
    {
        "id": "a91faa17c024af1e",
        "type": "join",
        "z": "72ef82b8.9d086c",
        "g": "677a462e190a4c92",
        "name": "",
        "mode": "custom",
        "build": "merged",
        "property": "notify",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": false,
        "timeout": "",
        "count": "4",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 1580,
        "y": 240,
        "wires": [
            [
                "0993d50e3c03d798"
            ]
        ]
    },
    {
        "id": "7913c8cedd9b8d45",
        "type": "template",
        "z": "72ef82b8.9d086c",
        "g": "677a462e190a4c92",
        "name": "notification id",
        "field": "notify.notification_id",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "tumble_dryer",
        "output": "str",
        "x": 1400,
        "y": 260,
        "wires": [
            [
                "a91faa17c024af1e"
            ]
        ]
    },
    {
        "id": "6bda6302.ca5bcc",
        "type": "switch",
        "z": "72ef82b8.9d086c",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "gt",
                "v": "310",
                "vt": "num"
            },
            {
                "t": "lte",
                "v": "2",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 490,
        "y": 160,
        "wires": [
            [
                "78d208e5.9e2828"
            ],
            [
                "61c558b2.b38c78"
            ]
        ]
    },
    {
        "id": "4a449402.69359c",
        "type": "change",
        "z": "72ef82b8.9d086c",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "on",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 820,
        "y": 160,
        "wires": [
            [
                "f2f5e3d5cd8dec8d"
            ]
        ]
    },
    {
        "id": "401de4c3.c5e84c",
        "type": "change",
        "z": "72ef82b8.9d086c",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "off",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 820,
        "y": 220,
        "wires": [
            [
                "f2f5e3d5cd8dec8d"
            ]
        ]
    },
    {
        "id": "e78c18ee.1eb558",
        "type": "switch",
        "z": "72ef82b8.9d086c",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "off",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1150,
        "y": 160,
        "wires": [
            [
                "df3bd9cee59e687a"
            ]
        ]
    },
    {
        "id": "e0083fb4.5a45",
        "type": "comment",
        "z": "72ef82b8.9d086c",
        "name": "Set thumble dryer binary sensor on or off based on power measurements",
        "info": "Set thumble dryer binary sensor on or off based on power measurements`",
        "x": 280,
        "y": 20,
        "wires": []
    },
    {
        "id": "78d208e5.9e2828",
        "type": "api-current-state",
        "z": "72ef82b8.9d086c",
        "name": "state is not on",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is_not",
        "entity_id": "binary_sensor.tumble_dryer",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 640,
        "y": 160,
        "wires": [
            [
                "4a449402.69359c"
            ],
            []
        ]
    },
    {
        "id": "61c558b2.b38c78",
        "type": "api-current-state",
        "z": "72ef82b8.9d086c",
        "name": "state is not off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is_not",
        "entity_id": "binary_sensor.tumble_dryer",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 640,
        "y": 220,
        "wires": [
            [
                "401de4c3.c5e84c"
            ],
            []
        ]
    },
    {
        "id": "90a01313.ddff9",
        "type": "trigger-state",
        "z": "72ef82b8.9d086c",
        "name": "state tumble dryer watt",
        "server": "4ba92433.2478cc",
        "version": 5,
        "inputs": 1,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "sensor.shellyplug_tumble_dryer_power"
            ],
            "substring": [],
            "regex": []
        },
        "debugEnabled": false,
        "constraints": [],
        "customOutputs": [],
        "outputInitially": false,
        "stateType": "num",
        "enableInput": true,
        "exposeToHomeAssistant": false,
        "haConfig": [
            {
                "property": "name",
                "value": ""
            },
            {
                "property": "icon",
                "value": ""
            }
        ],
        "x": 120,
        "y": 160,
        "wires": [
            [
                "bcdcd79d.345708"
            ],
            []
        ]
    },
    {
        "id": "f2f5e3d5cd8dec8d",
        "type": "ha-binary-sensor",
        "z": "72ef82b8.9d086c",
        "name": "tumble_dryer",
        "entityConfig": "2c5f48cef312ec68",
        "version": 0,
        "state": "payload",
        "stateType": "msg",
        "attributes": [],
        "inputOverride": "allow",
        "outputProperties": [],
        "x": 1010,
        "y": 160,
        "wires": [
            [
                "e78c18ee.1eb558"
            ]
        ]
    },
    {
        "id": "bcdcd79d.345708",
        "type": "stoptimer",
        "z": "72ef82b8.9d086c",
        "duration": "15",
        "units": "Second",
        "payloadtype": "num",
        "payloadval": "0",
        "name": "",
        "x": 330,
        "y": 160,
        "wires": [
            [
                "6bda6302.ca5bcc"
            ],
            []
        ]
    },
    {
        "id": "0174447baafb1dab",
        "type": "template",
        "z": "c23003c7.1c978",
        "g": "f2123713074fa557",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "aa6339118c6cf238"
            ]
        ]
    },
    {
        "id": "aa6339118c6cf238",
        "type": "link out",
        "z": "c23003c7.1c978",
        "g": "f2123713074fa557",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 475,
        "y": 80,
        "wires": []
    },
    {
        "id": "06bc5fe464e9132d",
        "type": "template",
        "z": "c23003c7.1c978",
        "g": "f2123713074fa557",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "0174447baafb1dab"
            ]
        ]
    },
    {
        "id": "3eba4ba84e7b67ae",
        "type": "catch",
        "z": "c23003c7.1c978",
        "g": "f2123713074fa557",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "06bc5fe464e9132d"
            ]
        ]
    },
    {
        "id": "96e077260be2f7fb",
        "type": "template",
        "z": "c23003c7.1c978",
        "g": "283f88d61789c306",
        "name": "icon",
        "field": "notify.icon",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "",
        "output": "str",
        "x": 1990,
        "y": 180,
        "wires": [
            [
                "beedc605a0a3cbac"
            ]
        ]
    },
    {
        "id": "d93bd58ac5ac0363",
        "type": "template",
        "z": "c23003c7.1c978",
        "g": "283f88d61789c306",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Wasmachine",
        "output": "str",
        "x": 1990,
        "y": 140,
        "wires": [
            [
                "beedc605a0a3cbac"
            ]
        ]
    },
    {
        "id": "1e0f934a3493b12f",
        "type": "link out",
        "z": "c23003c7.1c978",
        "g": "283f88d61789c306",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "8ed3b0974336e55b",
            "aeee8468f3d1b7ad",
            "c4660dc11fb0e5b8"
        ],
        "x": 2285,
        "y": 200,
        "wires": []
    },
    {
        "id": "beedc605a0a3cbac",
        "type": "join",
        "z": "c23003c7.1c978",
        "g": "283f88d61789c306",
        "name": "",
        "mode": "custom",
        "build": "merged",
        "property": "notify",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": false,
        "timeout": "",
        "count": "4",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 2190,
        "y": 200,
        "wires": [
            [
                "1e0f934a3493b12f"
            ]
        ]
    },
    {
        "id": "61f9d42e4c070321",
        "type": "template",
        "z": "c23003c7.1c978",
        "g": "283f88d61789c306",
        "name": "notification id",
        "field": "notify.notification_id",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "washing_machine",
        "output": "str",
        "x": 2010,
        "y": 220,
        "wires": [
            [
                "beedc605a0a3cbac"
            ]
        ]
    },
    {
        "id": "96679db36a4a3636",
        "type": "template",
        "z": "c23003c7.1c978",
        "g": "283f88d61789c306",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "De wasmachine is klaar.",
        "output": "str",
        "x": 2000,
        "y": 260,
        "wires": [
            [
                "beedc605a0a3cbac"
            ]
        ]
    },
    {
        "id": "3e4cd67e.efae1a",
        "type": "switch",
        "z": "c23003c7.1c978",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "gt",
                "v": "15",
                "vt": "num"
            },
            {
                "t": "lte",
                "v": "3.9",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 550,
        "y": 180,
        "wires": [
            [
                "487d5ed4.e5e61"
            ],
            [
                "f052ae0fcfc5b3e8"
            ]
        ]
    },
    {
        "id": "8de0025c.f9ce2",
        "type": "comment",
        "z": "c23003c7.1c978",
        "name": "Set washing machine binary sensor on or off based on power measurements",
        "info": "",
        "x": 290,
        "y": 20,
        "wires": []
    },
    {
        "id": "4bbf608.80d0ca",
        "type": "change",
        "z": "c23003c7.1c978",
        "name": "payload on",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "on",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1270,
        "y": 160,
        "wires": [
            [
                "84dfbc214d4e3a8d"
            ]
        ]
    },
    {
        "id": "26d18854.3c6808",
        "type": "change",
        "z": "c23003c7.1c978",
        "name": "payload off",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "off",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1270,
        "y": 260,
        "wires": [
            [
                "84dfbc214d4e3a8d"
            ]
        ]
    },
    {
        "id": "48fe7380.0c049c",
        "type": "switch",
        "z": "c23003c7.1c978",
        "name": "pass if payload is off",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "off",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1720,
        "y": 160,
        "wires": [
            [
                "2191e2bfc331009c"
            ]
        ]
    },
    {
        "id": "487d5ed4.e5e61",
        "type": "api-current-state",
        "z": "c23003c7.1c978",
        "name": "state is off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "binary_sensor.washing_machine",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 710,
        "y": 160,
        "wires": [
            [
                "4bbf608.80d0ca"
            ],
            [
                "e0ef5bfc28c69231"
            ]
        ]
    },
    {
        "id": "bf29d7a3.4b42e8",
        "type": "api-current-state",
        "z": "c23003c7.1c978",
        "name": "state is not off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is_not",
        "entity_id": "binary_sensor.washing_machine",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 1100,
        "y": 260,
        "wires": [
            [
                "26d18854.3c6808"
            ],
            []
        ]
    },
    {
        "id": "9def52c1.f5b5a",
        "type": "trigger-state",
        "z": "c23003c7.1c978",
        "name": "state washing machine watt",
        "server": "4ba92433.2478cc",
        "version": 5,
        "inputs": 1,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "sensor.shellyplug_washing_machine_power"
            ],
            "substring": [],
            "regex": []
        },
        "debugEnabled": false,
        "constraints": [],
        "customOutputs": [],
        "outputInitially": false,
        "stateType": "num",
        "enableInput": true,
        "exposeToHomeAssistant": false,
        "haConfig": [
            {
                "property": "name",
                "value": ""
            },
            {
                "property": "icon",
                "value": ""
            }
        ],
        "x": 140,
        "y": 160,
        "wires": [
            [
                "ae2c2b92527841d1"
            ],
            []
        ]
    },
    {
        "id": "84dfbc214d4e3a8d",
        "type": "ha-binary-sensor",
        "z": "c23003c7.1c978",
        "name": "sensor washing machine",
        "entityConfig": "bdbe52c.932a5b",
        "version": 0,
        "state": "payload",
        "stateType": "msg",
        "attributes": [],
        "inputOverride": "allow",
        "outputProperties": [],
        "x": 1490,
        "y": 160,
        "wires": [
            [
                "48fe7380.0c049c"
            ]
        ]
    },
    {
        "id": "f052ae0fcfc5b3e8",
        "type": "traffic",
        "z": "c23003c7.1c978",
        "name": "",
        "property_allow": "payload",
        "filter_allow": "pass",
        "ignore_case_allow": false,
        "negate_allow": false,
        "send_allow": false,
        "property_stop": "payload",
        "filter_stop": "deny",
        "ignore_case_stop": false,
        "negate_stop": false,
        "send_stop": false,
        "default_start": false,
        "differ": false,
        "x": 710,
        "y": 260,
        "wires": [
            [
                "bf29d7a3.4b42e8"
            ]
        ]
    },
    {
        "id": "e0ef5bfc28c69231",
        "type": "trigger",
        "z": "c23003c7.1c978",
        "name": "",
        "op1": "deny",
        "op2": "pass",
        "op1type": "str",
        "op2type": "str",
        "duration": "20",
        "extend": false,
        "overrideDelay": false,
        "units": "s",
        "reset": "",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 910,
        "y": 200,
        "wires": [
            [
                "f052ae0fcfc5b3e8"
            ]
        ]
    },
    {
        "id": "c02ad5d6c8ebd0cf",
        "type": "inject",
        "z": "c23003c7.1c978",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "20",
        "payloadType": "num",
        "x": 210,
        "y": 220,
        "wires": [
            [
                "3e4cd67e.efae1a"
            ]
        ]
    },
    {
        "id": "db9900ad5f008a46",
        "type": "inject",
        "z": "c23003c7.1c978",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "1",
        "payloadType": "num",
        "x": 210,
        "y": 260,
        "wires": [
            [
                "3e4cd67e.efae1a"
            ]
        ]
    },
    {
        "id": "ae2c2b92527841d1",
        "type": "stoptimer",
        "z": "c23003c7.1c978",
        "duration": "10",
        "units": "Second",
        "payloadtype": "num",
        "payloadval": "0",
        "name": "",
        "x": 370,
        "y": 160,
        "wires": [
            [
                "3e4cd67e.efae1a"
            ],
            []
        ]
    },
    {
        "id": "9d44f246159d8d55",
        "type": "template",
        "z": "51ad1e79edd47f04",
        "g": "954efb6e818259f4",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "31afe4007c8c4380"
            ]
        ]
    },
    {
        "id": "31afe4007c8c4380",
        "type": "link out",
        "z": "51ad1e79edd47f04",
        "g": "954efb6e818259f4",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 475,
        "y": 80,
        "wires": []
    },
    {
        "id": "7d9dd51684fea32b",
        "type": "template",
        "z": "51ad1e79edd47f04",
        "g": "954efb6e818259f4",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "9d44f246159d8d55"
            ]
        ]
    },
    {
        "id": "89f81c01fd297b99",
        "type": "catch",
        "z": "51ad1e79edd47f04",
        "g": "954efb6e818259f4",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "7d9dd51684fea32b"
            ]
        ]
    },
    {
        "id": "d475de4d462cdd95",
        "type": "http request",
        "z": "51ad1e79edd47f04",
        "name": "http request to weeronline.nl",
        "method": "GET",
        "ret": "txt",
        "paytoqs": "ignore",
        "url": "https://www.weeronline.nl/weerbericht-nederland",
        "tls": "",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "",
        "senderr": false,
        "headers": [],
        "x": 460,
        "y": 160,
        "wires": [
            [
                "8c6ea330522a9b56"
            ]
        ]
    },
    {
        "id": "8c6ea330522a9b56",
        "type": "html",
        "z": "51ad1e79edd47f04",
        "name": "",
        "property": "payload",
        "outproperty": "messages",
        "tag": "p,h2",
        "ret": "text",
        "as": "single",
        "x": 650,
        "y": 160,
        "wires": [
            [
                "e067f2c286459268"
            ]
        ]
    },
    {
        "id": "6a944de957019b5d",
        "type": "comment",
        "z": "51ad1e79edd47f04",
        "name": "scrape weeronline.nl and put text in a custom sensor",
        "info": "",
        "x": 210,
        "y": 20,
        "wires": []
    },
    {
        "id": "e067f2c286459268",
        "type": "function",
        "z": "51ad1e79edd47f04",
        "name": "combine text en titles",
        "func": "// The provided JSON array\nlet jsonArray = msg.messages\n\n// Function to count words\n/**\n* @param {string} s\n*/\nfunction countWords(s) {\n    return s.split(/\\s+/).length;\n}\n\n// Processing the JSON array\nlet resultArray = [];\nlet title = null;\nlet text = \"\";\n\nfor (let i = 0; i < jsonArray.length; i++) {\n    let item = jsonArray[i];\n    if (countWords(item) < 10) {\n        if (title) {\n            resultArray.push(title);\n            if (text) {\n                resultArray.push(text.trim());\n                text = \"\";\n            }\n        }\n        title = item;\n    } else {\n        text += item + \" \";\n    }\n}\n\n// If there is a dangling title or text\nif (title) {\n    resultArray.push(title);\n    if (text) {\n        resultArray.push(text.trim());\n    }\n}\n\nmsg.messages = resultArray;\nreturn msg;\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 820,
        "y": 160,
        "wires": [
            [
                "515e9f714ecc6ca1"
            ]
        ]
    },
    {
        "id": "515e9f714ecc6ca1",
        "type": "function",
        "z": "51ad1e79edd47f04",
        "name": "create short message",
        "func": "var text = msg.messages[1];\nvar maxLength = 157;\nvar suffix = \"...\";\n\nif (text.length > maxLength) {\n    msg.messages_short = text.substring(0, maxLength - suffix.length) + suffix;\n} else {\n    msg.messages_short = text;\n}\n\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1040,
        "y": 160,
        "wires": [
            [
                "8c926842f5902705"
            ]
        ]
    },
    {
        "id": "79caca1b2ef5e576",
        "type": "cronplus",
        "z": "51ad1e79edd47f04",
        "name": "",
        "outputField": "payload",
        "timeZone": "",
        "storeName": "",
        "commandResponseMsgOutput": "output1",
        "defaultLocation": "",
        "defaultLocationType": "default",
        "outputs": 1,
        "options": [
            {
                "name": "schedule1",
                "topic": "topic1",
                "payloadType": "default",
                "payload": "",
                "expressionType": "cron",
                "expression": "0 */15 * * * *",
                "location": "",
                "offset": "0",
                "solarType": "all",
                "solarEvents": "sunrise,sunset"
            }
        ],
        "x": 100,
        "y": 160,
        "wires": [
            [
                "7a932d0e4a844f60"
            ]
        ]
    },
    {
        "id": "8c926842f5902705",
        "type": "ha-sensor",
        "z": "51ad1e79edd47f04",
        "name": "custom_weather_description_01",
        "entityConfig": "dd558d37ebd87d72",
        "version": 0,
        "state": "responseUrl",
        "stateType": "msg",
        "attributes": [
            {
                "property": "header_01",
                "value": "messages[0]",
                "valueType": "msg"
            },
            {
                "property": "msg_01",
                "value": "messages[1]",
                "valueType": "msg"
            },
            {
                "property": "header_02",
                "value": "messages[2]",
                "valueType": "msg"
            },
            {
                "property": "msg_02",
                "value": "messages[3]",
                "valueType": "msg"
            },
            {
                "property": "header_03",
                "value": "messages[4]",
                "valueType": "msg"
            },
            {
                "property": "msg_03",
                "value": "messages[5]",
                "valueType": "msg"
            },
            {
                "property": "header_04",
                "value": "messages[6]",
                "valueType": "msg"
            },
            {
                "property": "msg_04",
                "value": "messages[7]",
                "valueType": "msg"
            },
            {
                "property": "header_05",
                "value": "messages[8]",
                "valueType": "msg"
            },
            {
                "property": "msg_05",
                "value": "messages[9]",
                "valueType": "msg"
            },
            {
                "property": "time",
                "value": "mytime",
                "valueType": "msg"
            },
            {
                "property": "msg_01_short",
                "value": "messages_short",
                "valueType": "msg"
            }
        ],
        "inputOverride": "allow",
        "outputProperties": [],
        "x": 1290,
        "y": 160,
        "wires": [
            []
        ]
    },
    {
        "id": "7a932d0e4a844f60",
        "type": "simpletime",
        "z": "51ad1e79edd47f04",
        "name": "",
        "mydate": false,
        "myymd": false,
        "myyear": false,
        "mymonth": false,
        "mymonthn": false,
        "mymonthf": false,
        "mydom": false,
        "mydoy": false,
        "myday": false,
        "mydayf": false,
        "myhourpm": false,
        "myhour": false,
        "mytime": true,
        "mytimes": false,
        "myminute": false,
        "myminutes": false,
        "mysecond": false,
        "mymillis": false,
        "myepoch": false,
        "myrawdate": false,
        "mypm": false,
        "x": 250,
        "y": 160,
        "wires": [
            [
                "d475de4d462cdd95"
            ]
        ]
    },
    {
        "id": "e2179ba6a2c951f5",
        "type": "catch",
        "z": "4a94729fe3d3c081",
        "g": "ec39be6249e7e485",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "eeaaf1e6d4c5ea3a"
            ]
        ]
    },
    {
        "id": "eeaaf1e6d4c5ea3a",
        "type": "template",
        "z": "4a94729fe3d3c081",
        "g": "ec39be6249e7e485",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "fd804489979c3abc"
            ]
        ]
    },
    {
        "id": "13f2b7ca42c4eca2",
        "type": "link out",
        "z": "4a94729fe3d3c081",
        "g": "ec39be6249e7e485",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 475,
        "y": 80,
        "wires": []
    },
    {
        "id": "fd804489979c3abc",
        "type": "template",
        "z": "4a94729fe3d3c081",
        "g": "ec39be6249e7e485",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "13f2b7ca42c4eca2"
            ]
        ]
    },
    {
        "id": "662e76370490dc0d",
        "type": "comment",
        "z": "4a94729fe3d3c081",
        "name": "Converts energy returned Kw to Watt",
        "info": "",
        "x": 160,
        "y": 20,
        "wires": []
    },
    {
        "id": "88264dd1471d41ef",
        "type": "server-state-changed",
        "z": "4a94729fe3d3c081",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 1,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "sensor.dsmr_reading_electricity_currently_returned"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": true,
        "stateType": "str",
        "ifState": "",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": false,
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 260,
        "y": 160,
        "wires": [
            [
                "24e4ae1eb1bf31d2"
            ]
        ]
    },
    {
        "id": "24e4ae1eb1bf31d2",
        "type": "function",
        "z": "4a94729fe3d3c081",
        "name": "Kw to Watt",
        "func": "msg.payload = msg.payload * 1000\n\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 590,
        "y": 160,
        "wires": [
            [
                "036eac9f38483b4b"
            ]
        ]
    },
    {
        "id": "036eac9f38483b4b",
        "type": "ha-sensor",
        "z": "4a94729fe3d3c081",
        "name": "custom_energy_returned_watt",
        "entityConfig": "8db70a2720a60b47",
        "version": 0,
        "state": "payload",
        "stateType": "msg",
        "attributes": [],
        "inputOverride": "allow",
        "outputProperties": [],
        "x": 810,
        "y": 160,
        "wires": [
            []
        ]
    },
    {
        "id": "8953f6790989fa4a",
        "type": "comment",
        "z": "5c92a1135257c28d",
        "name": "Send notification when a door is open while no one is home",
        "info": "",
        "x": 230,
        "y": 20,
        "wires": []
    },
    {
        "id": "2067a42351603d62",
        "type": "server-state-changed",
        "z": "5c92a1135257c28d",
        "name": "persons not home",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "group.persons"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": false,
        "stateType": "str",
        "ifState": "not_home",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 110,
        "y": 160,
        "wires": [
            [
                "9ddd513fa28990bb"
            ],
            []
        ]
    },
    {
        "id": "9ddd513fa28990bb",
        "type": "api-current-state",
        "z": "5c92a1135257c28d",
        "name": "guest mode is off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.guest",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 310,
        "y": 160,
        "wires": [
            [
                "37a1fa6891b30901"
            ],
            []
        ]
    },
    {
        "id": "37a1fa6891b30901",
        "type": "ha-get-entities",
        "z": "5c92a1135257c28d",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 1,
        "rules": [
            {
                "condition": "state_object",
                "property": "entity_id",
                "logic": "in_group",
                "value": "group.exterior_doors",
                "valueType": "str"
            },
            {
                "condition": "state_object",
                "property": "state",
                "logic": "is",
                "value": "on",
                "valueType": "str"
            }
        ],
        "outputType": "split",
        "outputEmptyResults": false,
        "outputLocationType": "msg",
        "outputLocation": "payload",
        "outputResultsCount": 1,
        "x": 510,
        "y": 160,
        "wires": [
            [
                "e46f1e0cf547af9a"
            ]
        ]
    },
    {
        "id": "e46f1e0cf547af9a",
        "type": "template",
        "z": "5c92a1135257c28d",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Let op de {{payload.attributes.friendly_name}} staat nog open en niemand is thuis.",
        "output": "str",
        "x": 680,
        "y": 160,
        "wires": [
            [
                "ea1d347257539369"
            ]
        ]
    },
    {
        "id": "a6c263811d9239b5",
        "type": "template",
        "z": "5c92a1135257c28d",
        "g": "9d927f405fd197bc",
        "name": "icon",
        "field": "notify.icon",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "",
        "output": "str",
        "x": 890,
        "y": 140,
        "wires": [
            [
                "4b9a0a6f1713a12a"
            ]
        ]
    },
    {
        "id": "420b0d2cf8014bfe",
        "type": "template",
        "z": "5c92a1135257c28d",
        "g": "9d927f405fd197bc",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Deur",
        "output": "str",
        "x": 890,
        "y": 100,
        "wires": [
            [
                "4b9a0a6f1713a12a"
            ]
        ]
    },
    {
        "id": "7a732e9184d0afcf",
        "type": "link out",
        "z": "5c92a1135257c28d",
        "g": "9d927f405fd197bc",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "8ed3b0974336e55b",
            "a97f87cfab413716",
            "aeee8468f3d1b7ad"
        ],
        "x": 1165,
        "y": 140,
        "wires": []
    },
    {
        "id": "4b9a0a6f1713a12a",
        "type": "join",
        "z": "5c92a1135257c28d",
        "g": "9d927f405fd197bc",
        "name": "",
        "mode": "custom",
        "build": "merged",
        "property": "notify",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "useparts": true,
        "accumulate": false,
        "timeout": "",
        "count": "5",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 1070,
        "y": 140,
        "wires": [
            [
                "7a732e9184d0afcf"
            ]
        ]
    },
    {
        "id": "b553c9f2abb4bdc0",
        "type": "template",
        "z": "5c92a1135257c28d",
        "g": "9d927f405fd197bc",
        "name": "notification id",
        "field": "notify.notification_id",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "deur",
        "output": "str",
        "x": 910,
        "y": 180,
        "wires": [
            [
                "4b9a0a6f1713a12a"
            ]
        ]
    },
    {
        "id": "f8bd1ef936e71fbf",
        "type": "template",
        "z": "5c92a1135257c28d",
        "g": "9d927f405fd197bc",
        "name": "tag",
        "field": "notify.tag",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "deur",
        "output": "str",
        "x": 890,
        "y": 220,
        "wires": [
            [
                "4b9a0a6f1713a12a"
            ]
        ]
    },
    {
        "id": "3685f3d759ad2aa1",
        "type": "catch",
        "z": "5c92a1135257c28d",
        "g": "c9eb921486128606",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "38c87329321ca5f4"
            ]
        ]
    },
    {
        "id": "38c87329321ca5f4",
        "type": "template",
        "z": "5c92a1135257c28d",
        "g": "c9eb921486128606",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "df859aeb022a54e3"
            ]
        ]
    },
    {
        "id": "7b8a53cdff17b707",
        "type": "link out",
        "z": "5c92a1135257c28d",
        "g": "c9eb921486128606",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 475,
        "y": 80,
        "wires": []
    },
    {
        "id": "df859aeb022a54e3",
        "type": "template",
        "z": "5c92a1135257c28d",
        "g": "c9eb921486128606",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "7b8a53cdff17b707"
            ]
        ]
    },
    {
        "id": "469b51b1e98313e4",
        "type": "api-current-state",
        "z": "5c92a1135257c28d",
        "name": "persons not home",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "not_home",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "group.persons",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 310,
        "y": 220,
        "wires": [
            [
                "37a1fa6891b30901"
            ],
            []
        ]
    },
    {
        "id": "0a6ec0937b59c0ab",
        "type": "server-state-changed",
        "z": "5c92a1135257c28d",
        "name": "guest mode is off",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "input_boolean.guest"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": false,
        "stateType": "str",
        "ifState": "off",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 100,
        "y": 220,
        "wires": [
            [
                "469b51b1e98313e4"
            ],
            []
        ]
    },
    {
        "id": "716b959221558033",
        "type": "comment",
        "z": "d9b921e9fd746ad1",
        "name": "scene that send the vacuum to the trash bin",
        "info": "",
        "x": 190,
        "y": 20,
        "wires": []
    },
    {
        "id": "9f18e7092e8b6f9c",
        "type": "catch",
        "z": "d9b921e9fd746ad1",
        "g": "52980cdcae4e3384",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "ee03c06252d3632e"
            ]
        ]
    },
    {
        "id": "ee03c06252d3632e",
        "type": "template",
        "z": "d9b921e9fd746ad1",
        "g": "52980cdcae4e3384",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "9b9ad619917072e8"
            ]
        ]
    },
    {
        "id": "c9f30fc70f2be4fd",
        "type": "link out",
        "z": "d9b921e9fd746ad1",
        "g": "52980cdcae4e3384",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 475,
        "y": 80,
        "wires": []
    },
    {
        "id": "9b9ad619917072e8",
        "type": "template",
        "z": "d9b921e9fd746ad1",
        "g": "52980cdcae4e3384",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "c9f30fc70f2be4fd"
            ]
        ]
    },
    {
        "id": "093ac1f894c6070c",
        "type": "cronplus",
        "z": "d9b921e9fd746ad1",
        "name": "",
        "outputField": "payload",
        "timeZone": "",
        "storeName": "",
        "commandResponseMsgOutput": "output1",
        "defaultLocation": "",
        "defaultLocationType": "default",
        "outputs": 1,
        "options": [
            {
                "name": "schedule1",
                "topic": "topic1",
                "payloadType": "default",
                "payload": "",
                "expressionType": "cron",
                "expression": "0 0 7 * * 1 *",
                "location": "",
                "offset": "0",
                "solarType": "all",
                "solarEvents": "sunrise,sunset"
            }
        ],
        "x": 120,
        "y": 160,
        "wires": [
            [
                "429ec9116b7e06ae"
            ]
        ]
    },
    {
        "id": "429ec9116b7e06ae",
        "type": "api-call-service",
        "z": "d9b921e9fd746ad1",
        "name": "send vacuum to target location",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "vacuum.send_command",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "vacuum.roborock_s6_pure"
        ],
        "labelId": [],
        "data": "{\"command\":\"app_goto_target\",\"params\":[20433,24523]}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": true,
        "domain": "vacuum",
        "service": "send_command",
        "x": 450,
        "y": 160,
        "wires": [
            []
        ]
    },
    {
        "id": "b954c9a8cdc40178",
        "type": "comment",
        "z": "c4112ff844284323",
        "name": "scene that turns off the shelly plug for Nvidia Shield Pro",
        "info": "",
        "x": 220,
        "y": 20,
        "wires": []
    },
    {
        "id": "8cd6a97d8921b370",
        "type": "catch",
        "z": "c4112ff844284323",
        "g": "a6cae9b8e727f32b",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "f03accf0e6b5ffe8"
            ]
        ]
    },
    {
        "id": "f03accf0e6b5ffe8",
        "type": "template",
        "z": "c4112ff844284323",
        "g": "a6cae9b8e727f32b",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "13b122195c61c45f"
            ]
        ]
    },
    {
        "id": "46a0b57223aa4c17",
        "type": "link out",
        "z": "c4112ff844284323",
        "g": "a6cae9b8e727f32b",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 475,
        "y": 80,
        "wires": []
    },
    {
        "id": "13b122195c61c45f",
        "type": "template",
        "z": "c4112ff844284323",
        "g": "a6cae9b8e727f32b",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "46a0b57223aa4c17"
            ]
        ]
    },
    {
        "id": "efe2ea2c57c95996",
        "type": "link in",
        "z": "c4112ff844284323",
        "name": "scene_turn_off_shelly_shield",
        "links": [],
        "x": 265,
        "y": 160,
        "wires": [
            [
                "2753dacc1aaf740b"
            ]
        ]
    },
    {
        "id": "2753dacc1aaf740b",
        "type": "api-call-service",
        "z": "c4112ff844284323",
        "name": "turn off shelly plug shield",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "switch.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "switch.shellyplugplus_shield_switch_0"
        ],
        "labelId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": true,
        "domain": "switch",
        "service": "turn_off",
        "x": 410,
        "y": 160,
        "wires": [
            []
        ]
    },
    {
        "id": "4698c4cea969f786",
        "type": "comment",
        "z": "762cff9aad6b0816",
        "name": "scene that turns on the shelly plug for Nvidia Shield Pro",
        "info": "",
        "x": 220,
        "y": 20,
        "wires": []
    },
    {
        "id": "bdef8bf721295551",
        "type": "link in",
        "z": "762cff9aad6b0816",
        "name": "scene_turn_on_shelly_shield",
        "links": [],
        "x": 265,
        "y": 160,
        "wires": [
            [
                "af6295778eaa0ed3"
            ]
        ]
    },
    {
        "id": "af6295778eaa0ed3",
        "type": "api-call-service",
        "z": "762cff9aad6b0816",
        "name": "turn on shelly plug shield",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "switch.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "switch.shellyplugplus_shield_switch_0"
        ],
        "labelId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": true,
        "domain": "switch",
        "service": "turn_on",
        "x": 410,
        "y": 160,
        "wires": [
            []
        ]
    },
    {
        "id": "ce5d8f5c47d6cd40",
        "type": "catch",
        "z": "762cff9aad6b0816",
        "g": "a8271160dbfdda1f",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "88452990fe88bbc5"
            ]
        ]
    },
    {
        "id": "88452990fe88bbc5",
        "type": "template",
        "z": "762cff9aad6b0816",
        "g": "a8271160dbfdda1f",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "ad72e3183538d9e5"
            ]
        ]
    },
    {
        "id": "6352a2bd0e56f5a8",
        "type": "link out",
        "z": "762cff9aad6b0816",
        "g": "a8271160dbfdda1f",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 475,
        "y": 80,
        "wires": []
    },
    {
        "id": "ad72e3183538d9e5",
        "type": "template",
        "z": "762cff9aad6b0816",
        "g": "a8271160dbfdda1f",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "6352a2bd0e56f5a8"
            ]
        ]
    },
    {
        "id": "0a8bb2d39c86165a",
        "type": "comment",
        "z": "d95708849d31630d",
        "name": "scene that turns on the LG TV device",
        "info": "",
        "x": 170,
        "y": 20,
        "wires": []
    },
    {
        "id": "f5ca5639755bbb40",
        "type": "link in",
        "z": "d95708849d31630d",
        "name": "scene_turn_on_lg_tv",
        "links": [
            "cc95177ff7dd19c7"
        ],
        "x": 265,
        "y": 160,
        "wires": [
            [
                "431f4462805951b1"
            ]
        ]
    },
    {
        "id": "431f4462805951b1",
        "type": "api-call-service",
        "z": "d95708849d31630d",
        "name": "turn on lg tv device",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "wake_on_lan.send_magic_packet",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [],
        "labelId": [],
        "data": "{\"mac\":\"38:8c:50:62:11:4d\",\"broadcast_address\":\"10.0.30.80\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": true,
        "domain": "wake_on_lan",
        "service": "send_magic_packet",
        "x": 390,
        "y": 160,
        "wires": [
            []
        ]
    },
    {
        "id": "3016c23826afe2b3",
        "type": "catch",
        "z": "d95708849d31630d",
        "g": "b928bcab67c7970c",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "46295b436337c8ca"
            ]
        ]
    },
    {
        "id": "46295b436337c8ca",
        "type": "template",
        "z": "d95708849d31630d",
        "g": "b928bcab67c7970c",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "da7468fd0ee36aee"
            ]
        ]
    },
    {
        "id": "5fce516d2b677877",
        "type": "link out",
        "z": "d95708849d31630d",
        "g": "b928bcab67c7970c",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 475,
        "y": 80,
        "wires": []
    },
    {
        "id": "da7468fd0ee36aee",
        "type": "template",
        "z": "d95708849d31630d",
        "g": "b928bcab67c7970c",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "5fce516d2b677877"
            ]
        ]
    },
    {
        "id": "c2fbe205995fff5e",
        "type": "delay",
        "z": "dfcd5e683fabd9c1",
        "name": "",
        "pauseType": "delay",
        "timeout": "1",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "outputs": 1,
        "x": 100,
        "y": 360,
        "wires": [
            [
                "caf09df7b66535df"
            ]
        ]
    },
    {
        "id": "4ef5440e23d2ce7c",
        "type": "delay",
        "z": "dfcd5e683fabd9c1",
        "name": "",
        "pauseType": "delay",
        "timeout": "1",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "outputs": 1,
        "x": 100,
        "y": 400,
        "wires": [
            [
                "2af68ba5e1acbe8e"
            ]
        ]
    },
    {
        "id": "2af68ba5e1acbe8e",
        "type": "api-call-service",
        "z": "dfcd5e683fabd9c1",
        "name": "turn off basement ventilation sw 01",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "switch.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "switch.basement_ventilation_sw_01"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "switch",
        "service": "turn_off",
        "x": 320,
        "y": 400,
        "wires": [
            []
        ]
    },
    {
        "id": "caf09df7b66535df",
        "type": "api-call-service",
        "z": "dfcd5e683fabd9c1",
        "name": "turn off basement ventilation sw 03",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "switch.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "switch.basement_ventilation_sw_03"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "switch",
        "service": "turn_off",
        "x": 320,
        "y": 360,
        "wires": [
            [
                "4ef5440e23d2ce7c"
            ]
        ]
    },
    {
        "id": "b0416f573de3cc22",
        "type": "api-call-service",
        "z": "dfcd5e683fabd9c1",
        "name": "turn off basement ventilation sw 04",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "switch.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "switch.basement_ventilation_sw_04"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "switch",
        "service": "turn_off",
        "x": 320,
        "y": 320,
        "wires": [
            [
                "c2fbe205995fff5e"
            ]
        ]
    },
    {
        "id": "1266ee59d8fe0cea",
        "type": "api-call-service",
        "z": "dfcd5e683fabd9c1",
        "name": "turn on mechanical ventilation position 0",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "input_boolean.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_boolean.mechanical_ventilation_position_0"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "input_boolean",
        "service": "turn_on",
        "x": 680,
        "y": 160,
        "wires": [
            []
        ]
    },
    {
        "id": "5bd14e1dd65a329c",
        "type": "api-call-service",
        "z": "dfcd5e683fabd9c1",
        "name": "turn off mechanical ventilation position 3",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "input_boolean.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_boolean.mechanical_ventilation_position_3"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "input_boolean",
        "service": "turn_off",
        "x": 340,
        "y": 200,
        "wires": [
            []
        ]
    },
    {
        "id": "a97d47035177bd04",
        "type": "api-call-service",
        "z": "dfcd5e683fabd9c1",
        "name": "turn off mechanical ventilation position 2",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "input_boolean.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_boolean.mechanical_ventilation_position_2"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "input_boolean",
        "service": "turn_off",
        "x": 340,
        "y": 240,
        "wires": [
            []
        ]
    },
    {
        "id": "5fb081bddfeb52d5",
        "type": "api-call-service",
        "z": "dfcd5e683fabd9c1",
        "name": "turn off mechanical ventilation position 1",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "input_boolean.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_boolean.mechanical_ventilation_position_1"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "input_boolean",
        "service": "turn_off",
        "x": 340,
        "y": 280,
        "wires": [
            []
        ]
    },
    {
        "id": "52fb49d090987d36",
        "type": "api-current-state",
        "z": "dfcd5e683fabd9c1",
        "name": "state mechanical ventilation position 0 off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.mechanical_ventilation_position_0",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 340,
        "y": 160,
        "wires": [
            [
                "1266ee59d8fe0cea"
            ],
            []
        ]
    },
    {
        "id": "224988e2c9ac6b1f",
        "type": "comment",
        "z": "dfcd5e683fabd9c1",
        "name": "scene that turns off the mechanical ventilation in off, low, mid, high position",
        "info": "",
        "x": 280,
        "y": 20,
        "wires": []
    },
    {
        "id": "493f89bd975298cc",
        "type": "catch",
        "z": "dfcd5e683fabd9c1",
        "g": "cdb88e8901d0ba9b",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "e3d17bf790a14a46"
            ]
        ]
    },
    {
        "id": "e3d17bf790a14a46",
        "type": "template",
        "z": "dfcd5e683fabd9c1",
        "g": "cdb88e8901d0ba9b",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "f4a0915189332d7f"
            ]
        ]
    },
    {
        "id": "0795b985190d2d2c",
        "type": "link out",
        "z": "dfcd5e683fabd9c1",
        "g": "cdb88e8901d0ba9b",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 675,
        "y": 80,
        "wires": []
    },
    {
        "id": "f4a0915189332d7f",
        "type": "template",
        "z": "dfcd5e683fabd9c1",
        "g": "cdb88e8901d0ba9b",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "9c386485dd5af4ca"
            ]
        ]
    },
    {
        "id": "9c386485dd5af4ca",
        "type": "function",
        "z": "dfcd5e683fabd9c1",
        "g": "cdb88e8901d0ba9b",
        "name": "notify.notification_id",
        "func": "msg.notify.notification_id = env.get(\"NR_FLOW_ID\");\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 550,
        "y": 80,
        "wires": [
            [
                "0795b985190d2d2c"
            ]
        ]
    },
    {
        "id": "758a071297551463",
        "type": "link in",
        "z": "dfcd5e683fabd9c1",
        "name": "scene_souterrain_mechanical_ventilation_off",
        "links": [
            "ce6315d9d913f13b",
            "a04f173cc0c31e5f"
        ],
        "x": 105,
        "y": 160,
        "wires": [
            [
                "52fb49d090987d36",
                "5bd14e1dd65a329c",
                "a97d47035177bd04",
                "5fb081bddfeb52d5",
                "b0416f573de3cc22"
            ]
        ]
    },
    {
        "id": "5a0f579446bba30d",
        "type": "link in",
        "z": "dfcd5e683fabd9c1",
        "name": "scene_souterrain_mechanical_ventilation_low",
        "links": [
            "5c4f378f8ceb12fe",
            "3074d7a3808bdec0"
        ],
        "x": 105,
        "y": 460,
        "wires": [
            [
                "d44cb9e64d8da5b2",
                "1a5430ebfdf5e5e5",
                "5cfc828c3c2c1132",
                "69fffac591b13f31",
                "22be6e948dbc9770"
            ]
        ]
    },
    {
        "id": "b2cee72f86df3474",
        "type": "api-call-service",
        "z": "dfcd5e683fabd9c1",
        "name": "turn on basement ventilation sw 01",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "switch.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "switch.basement_ventilation_sw_01"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "switch",
        "service": "turn_on",
        "x": 320,
        "y": 700,
        "wires": [
            []
        ]
    },
    {
        "id": "90edb7e5e6d7ca33",
        "type": "api-call-service",
        "z": "dfcd5e683fabd9c1",
        "name": "turn off basement ventilation sw 03",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "switch.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "switch.basement_ventilation_sw_03"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "switch",
        "service": "turn_off",
        "x": 320,
        "y": 660,
        "wires": [
            [
                "f40f5aec81029140"
            ]
        ]
    },
    {
        "id": "22be6e948dbc9770",
        "type": "api-call-service",
        "z": "dfcd5e683fabd9c1",
        "name": "turn off basement ventilation sw 04",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "switch.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "switch.basement_ventilation_sw_04"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "switch",
        "service": "turn_off",
        "x": 320,
        "y": 620,
        "wires": [
            [
                "da42923feeeb904d"
            ]
        ]
    },
    {
        "id": "3edb8db444c52070",
        "type": "api-call-service",
        "z": "dfcd5e683fabd9c1",
        "name": "turn on mechanical ventilation position 1",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "input_boolean.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_boolean.mechanical_ventilation_position_1"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "input_boolean",
        "service": "turn_on",
        "x": 680,
        "y": 460,
        "wires": [
            []
        ]
    },
    {
        "id": "1a5430ebfdf5e5e5",
        "type": "api-call-service",
        "z": "dfcd5e683fabd9c1",
        "name": "turn off mechanical ventilation position 2",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "input_boolean.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_boolean.mechanical_ventilation_position_2"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "input_boolean",
        "service": "turn_off",
        "x": 340,
        "y": 500,
        "wires": [
            []
        ]
    },
    {
        "id": "5cfc828c3c2c1132",
        "type": "api-call-service",
        "z": "dfcd5e683fabd9c1",
        "name": "turn off mechanical ventilation position 3",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "input_boolean.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_boolean.mechanical_ventilation_position_3"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "input_boolean",
        "service": "turn_off",
        "x": 340,
        "y": 540,
        "wires": [
            []
        ]
    },
    {
        "id": "69fffac591b13f31",
        "type": "api-call-service",
        "z": "dfcd5e683fabd9c1",
        "name": "turn off mechanical ventilation position 0",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "input_boolean.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_boolean.mechanical_ventilation_position_0"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "input_boolean",
        "service": "turn_off",
        "x": 340,
        "y": 580,
        "wires": [
            []
        ]
    },
    {
        "id": "d44cb9e64d8da5b2",
        "type": "api-current-state",
        "z": "dfcd5e683fabd9c1",
        "name": "state mechanical ventilation position 1 off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.mechanical_ventilation_position_1",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 340,
        "y": 460,
        "wires": [
            [
                "3edb8db444c52070"
            ],
            []
        ]
    },
    {
        "id": "da42923feeeb904d",
        "type": "delay",
        "z": "dfcd5e683fabd9c1",
        "name": "",
        "pauseType": "delay",
        "timeout": "1",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "outputs": 1,
        "x": 100,
        "y": 660,
        "wires": [
            [
                "90edb7e5e6d7ca33"
            ]
        ]
    },
    {
        "id": "f40f5aec81029140",
        "type": "delay",
        "z": "dfcd5e683fabd9c1",
        "name": "",
        "pauseType": "delay",
        "timeout": "1",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "outputs": 1,
        "x": 100,
        "y": 700,
        "wires": [
            [
                "b2cee72f86df3474"
            ]
        ]
    },
    {
        "id": "bc20b4d1fe6b75e9",
        "type": "link in",
        "z": "dfcd5e683fabd9c1",
        "name": "scene_souterrain_mechanical_ventilation_mid",
        "links": [
            "05b9c0653cca602c",
            "9516fa80f467b0df"
        ],
        "x": 105,
        "y": 760,
        "wires": [
            [
                "e46718bad3a888aa",
                "e1068b601bd95ae2",
                "b471d619c51b34e5",
                "1358bc601009a68d",
                "17734983e948b06c"
            ]
        ]
    },
    {
        "id": "1be69714fb392eae",
        "type": "delay",
        "z": "dfcd5e683fabd9c1",
        "name": "",
        "pauseType": "delay",
        "timeout": "1",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "outputs": 1,
        "x": 100,
        "y": 1000,
        "wires": [
            [
                "4090bf5a8f90d6ce"
            ]
        ]
    },
    {
        "id": "dc4940b604011969",
        "type": "delay",
        "z": "dfcd5e683fabd9c1",
        "name": "",
        "pauseType": "delay",
        "timeout": "1",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "outputs": 1,
        "x": 100,
        "y": 960,
        "wires": [
            [
                "cad7b311807ff3d7"
            ]
        ]
    },
    {
        "id": "4090bf5a8f90d6ce",
        "type": "api-call-service",
        "z": "dfcd5e683fabd9c1",
        "name": "turn on basement ventilation sw 03",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "switch.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "switch.basement_ventilation_sw_03"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "switch",
        "service": "turn_on",
        "x": 320,
        "y": 1000,
        "wires": [
            []
        ]
    },
    {
        "id": "17734983e948b06c",
        "type": "api-call-service",
        "z": "dfcd5e683fabd9c1",
        "name": "turn off basement ventilation sw 04",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "switch.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "switch.basement_ventilation_sw_04"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "switch",
        "service": "turn_off",
        "x": 320,
        "y": 920,
        "wires": [
            [
                "dc4940b604011969"
            ]
        ]
    },
    {
        "id": "7c5e9554e61e2257",
        "type": "api-call-service",
        "z": "dfcd5e683fabd9c1",
        "name": "turn on mechanical ventilation position 2",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "input_boolean.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_boolean.mechanical_ventilation_position_2"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "input_boolean",
        "service": "turn_on",
        "x": 680,
        "y": 760,
        "wires": [
            []
        ]
    },
    {
        "id": "e1068b601bd95ae2",
        "type": "api-call-service",
        "z": "dfcd5e683fabd9c1",
        "name": "turn off mechanical ventilation position 1",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "input_boolean.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_boolean.mechanical_ventilation_position_1"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "input_boolean",
        "service": "turn_off",
        "x": 340,
        "y": 800,
        "wires": [
            []
        ]
    },
    {
        "id": "b471d619c51b34e5",
        "type": "api-call-service",
        "z": "dfcd5e683fabd9c1",
        "name": "turn off mechanical ventilation position 3",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "input_boolean.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_boolean.mechanical_ventilation_position_3"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "input_boolean",
        "service": "turn_off",
        "x": 340,
        "y": 840,
        "wires": [
            []
        ]
    },
    {
        "id": "1358bc601009a68d",
        "type": "api-call-service",
        "z": "dfcd5e683fabd9c1",
        "name": "turn off mechanical ventilation position 0",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "input_boolean.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_boolean.mechanical_ventilation_position_0"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "input_boolean",
        "service": "turn_off",
        "x": 340,
        "y": 880,
        "wires": [
            []
        ]
    },
    {
        "id": "cad7b311807ff3d7",
        "type": "api-call-service",
        "z": "dfcd5e683fabd9c1",
        "name": "turn on basement ventilation sw 01",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "switch.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "switch.basement_ventilation_sw_01"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "switch",
        "service": "turn_on",
        "x": 320,
        "y": 960,
        "wires": [
            [
                "1be69714fb392eae"
            ]
        ]
    },
    {
        "id": "e46718bad3a888aa",
        "type": "api-current-state",
        "z": "dfcd5e683fabd9c1",
        "name": "state mechanical ventilation position 2 off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.mechanical_ventilation_position_2",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 340,
        "y": 760,
        "wires": [
            [
                "7c5e9554e61e2257"
            ],
            []
        ]
    },
    {
        "id": "82d596336848e366",
        "type": "link in",
        "z": "dfcd5e683fabd9c1",
        "name": "scene_souterrain_mechanical_ventilation_high",
        "links": [
            "8695ac14d1f8e704",
            "c38645a953ed6080"
        ],
        "x": 105,
        "y": 1060,
        "wires": [
            [
                "72a265fce7b8d6ed",
                "2e5e6b341607e51a",
                "80d2979fc979202d",
                "18c8145fd9dbf268",
                "98a2d99da89e6af2"
            ]
        ]
    },
    {
        "id": "89fd57bcad4ed280",
        "type": "delay",
        "z": "dfcd5e683fabd9c1",
        "name": "",
        "pauseType": "delay",
        "timeout": "1",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "outputs": 1,
        "x": 100,
        "y": 1300,
        "wires": [
            [
                "6d0b94543cd3bdcc"
            ]
        ]
    },
    {
        "id": "3d6dacd2f66bdaa0",
        "type": "delay",
        "z": "dfcd5e683fabd9c1",
        "name": "",
        "pauseType": "delay",
        "timeout": "1",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "outputs": 1,
        "x": 100,
        "y": 1260,
        "wires": [
            [
                "7fcdd1637d6f0626"
            ]
        ]
    },
    {
        "id": "7fcdd1637d6f0626",
        "type": "api-call-service",
        "z": "dfcd5e683fabd9c1",
        "name": "turn off basement ventilation sw 03",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "switch.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "switch.basement_ventilation_sw_03"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "switch",
        "service": "turn_off",
        "x": 320,
        "y": 1260,
        "wires": [
            [
                "89fd57bcad4ed280"
            ]
        ]
    },
    {
        "id": "6d0b94543cd3bdcc",
        "type": "api-call-service",
        "z": "dfcd5e683fabd9c1",
        "name": "turn on basement ventilation sw 04",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "switch.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "switch.basement_ventilation_sw_04"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "switch",
        "service": "turn_on",
        "x": 320,
        "y": 1300,
        "wires": [
            []
        ]
    },
    {
        "id": "33ac133378f11c21",
        "type": "api-call-service",
        "z": "dfcd5e683fabd9c1",
        "name": "turn on mechanical ventilation position 3",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "input_boolean.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_boolean.mechanical_ventilation_position_3"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "input_boolean",
        "service": "turn_on",
        "x": 680,
        "y": 1060,
        "wires": [
            []
        ]
    },
    {
        "id": "2e5e6b341607e51a",
        "type": "api-call-service",
        "z": "dfcd5e683fabd9c1",
        "name": "turn off mechanical ventilation position 1",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "input_boolean.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_boolean.mechanical_ventilation_position_1"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "input_boolean",
        "service": "turn_off",
        "x": 340,
        "y": 1100,
        "wires": [
            []
        ]
    },
    {
        "id": "80d2979fc979202d",
        "type": "api-call-service",
        "z": "dfcd5e683fabd9c1",
        "name": "turn off mechanical ventilation position 2",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "input_boolean.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_boolean.mechanical_ventilation_position_2"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "input_boolean",
        "service": "turn_off",
        "x": 340,
        "y": 1140,
        "wires": [
            []
        ]
    },
    {
        "id": "18c8145fd9dbf268",
        "type": "api-call-service",
        "z": "dfcd5e683fabd9c1",
        "name": "turn off mechanical ventilation position 0",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "input_boolean.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_boolean.mechanical_ventilation_position_0"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "input_boolean",
        "service": "turn_off",
        "x": 340,
        "y": 1180,
        "wires": [
            []
        ]
    },
    {
        "id": "98a2d99da89e6af2",
        "type": "api-call-service",
        "z": "dfcd5e683fabd9c1",
        "name": "turn on basement ventilation sw 01",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "switch.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "switch.basement_ventilation_sw_01"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "switch",
        "service": "turn_on",
        "x": 320,
        "y": 1220,
        "wires": [
            [
                "3d6dacd2f66bdaa0"
            ]
        ]
    },
    {
        "id": "72a265fce7b8d6ed",
        "type": "api-current-state",
        "z": "dfcd5e683fabd9c1",
        "name": "state mechanical ventilation position 3 off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.mechanical_ventilation_position_3",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 340,
        "y": 1060,
        "wires": [
            [
                "33ac133378f11c21"
            ],
            []
        ]
    },
    {
        "id": "fdd6cd4fc534d90f",
        "type": "comment",
        "z": "5dd8a5e802404efd",
        "name": "A flow that creates a sensor, if nvidia shield volume is 100% then the binary sensor is on",
        "info": "",
        "x": 320,
        "y": 20,
        "wires": []
    },
    {
        "id": "8531aca21683e5c6",
        "type": "catch",
        "z": "5dd8a5e802404efd",
        "g": "5855298037ce8b13",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "0ec5b580b0301cb9"
            ]
        ]
    },
    {
        "id": "0ec5b580b0301cb9",
        "type": "template",
        "z": "5dd8a5e802404efd",
        "g": "5855298037ce8b13",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "2a8516d99887074c"
            ]
        ]
    },
    {
        "id": "896d42da6f78a4df",
        "type": "link out",
        "z": "5dd8a5e802404efd",
        "g": "5855298037ce8b13",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 675,
        "y": 80,
        "wires": []
    },
    {
        "id": "2a8516d99887074c",
        "type": "template",
        "z": "5dd8a5e802404efd",
        "g": "5855298037ce8b13",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "21d98f7558e1ecf0"
            ]
        ]
    },
    {
        "id": "21d98f7558e1ecf0",
        "type": "function",
        "z": "5dd8a5e802404efd",
        "g": "5855298037ce8b13",
        "name": "notify.notification_id",
        "func": "msg.notify.notification_id = env.get(\"NR_FLOW_ID\");\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 550,
        "y": 80,
        "wires": [
            [
                "896d42da6f78a4df"
            ]
        ]
    },
    {
        "id": "7ca936eb66e9e2d5",
        "type": "ha-binary-sensor",
        "z": "5dd8a5e802404efd",
        "name": "nvidia_shield_volume_maximum",
        "entityConfig": "481b5f550ecd01da",
        "version": 0,
        "state": "payload",
        "stateType": "msg",
        "attributes": [],
        "inputOverride": "allow",
        "outputProperties": [],
        "x": 830,
        "y": 160,
        "wires": [
            []
        ]
    },
    {
        "id": "a3f46fbeb5f59131",
        "type": "server-state-changed",
        "z": "5dd8a5e802404efd",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 1,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "media_player.shield"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": true,
        "stateType": "str",
        "ifState": "",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 160,
        "y": 160,
        "wires": [
            [
                "3a5396be8f9c1286"
            ]
        ]
    },
    {
        "id": "3a5396be8f9c1286",
        "type": "switch",
        "z": "5dd8a5e802404efd",
        "name": "volume",
        "property": "data.new_state.attributes.volume_level",
        "propertyType": "msg",
        "rules": [
            {
                "t": "gte",
                "v": "1",
                "vt": "num"
            },
            {
                "t": "lt",
                "v": "1",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 380,
        "y": 160,
        "wires": [
            [
                "84a90e2a73f04f0b"
            ],
            [
                "8922b34fa1783c92"
            ]
        ]
    },
    {
        "id": "84a90e2a73f04f0b",
        "type": "change",
        "z": "5dd8a5e802404efd",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "on",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 580,
        "y": 160,
        "wires": [
            [
                "7ca936eb66e9e2d5"
            ]
        ]
    },
    {
        "id": "8922b34fa1783c92",
        "type": "change",
        "z": "5dd8a5e802404efd",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "off",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 580,
        "y": 200,
        "wires": [
            [
                "7ca936eb66e9e2d5"
            ]
        ]
    },
    {
        "id": "7e3e4723243d216a",
        "type": "api-call-service",
        "z": "e0e34b3e49b36c0e",
        "name": "set theme light",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "frontend.set_theme",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [],
        "labelId": [],
        "data": "{\"name\":\"google_light_theme\",\"mode\":\"dark\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "frontend",
        "service": "set_theme",
        "x": 320,
        "y": 160,
        "wires": [
            []
        ]
    },
    {
        "id": "8edbcdc648b5d26e",
        "type": "catch",
        "z": "e0e34b3e49b36c0e",
        "g": "e05fc2f16e523b41",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "47e52ab72e9c041c"
            ]
        ]
    },
    {
        "id": "47e52ab72e9c041c",
        "type": "template",
        "z": "e0e34b3e49b36c0e",
        "g": "e05fc2f16e523b41",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "ee907863ab8c5ce0"
            ]
        ]
    },
    {
        "id": "41b174876237d623",
        "type": "link out",
        "z": "e0e34b3e49b36c0e",
        "g": "e05fc2f16e523b41",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 675,
        "y": 80,
        "wires": []
    },
    {
        "id": "ee907863ab8c5ce0",
        "type": "template",
        "z": "e0e34b3e49b36c0e",
        "g": "e05fc2f16e523b41",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "7f2715dc3075a76b"
            ]
        ]
    },
    {
        "id": "7f2715dc3075a76b",
        "type": "function",
        "z": "e0e34b3e49b36c0e",
        "g": "e05fc2f16e523b41",
        "name": "notify.notification_id",
        "func": "msg.notify.notification_id = env.get(\"NR_FLOW_ID\");\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 550,
        "y": 80,
        "wires": [
            [
                "41b174876237d623"
            ]
        ]
    },
    {
        "id": "7e28ee35c3ab6859",
        "type": "server-state-changed",
        "z": "e0e34b3e49b36c0e",
        "name": "outdoor daylight is on",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "binary_sensor.outdoor_daylight"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": false,
        "stateType": "str",
        "ifState": "on",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 120,
        "y": 180,
        "wires": [
            [
                "7e3e4723243d216a"
            ],
            [
                "b28f768263057783"
            ]
        ]
    },
    {
        "id": "b28f768263057783",
        "type": "api-call-service",
        "z": "e0e34b3e49b36c0e",
        "name": "set theme dark",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "frontend.set_theme",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [],
        "labelId": [],
        "data": "{\"name\":\"google_dark_theme\",\"mode\":\"dark\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "frontend",
        "service": "set_theme",
        "x": 320,
        "y": 220,
        "wires": [
            []
        ]
    },
    {
        "id": "4e3d7d7dc062d5f4",
        "type": "comment",
        "z": "1adcdebcdc8e5c39",
        "name": "Set all climate graph input selects to certain input",
        "info": "",
        "x": 200,
        "y": 20,
        "wires": []
    },
    {
        "id": "caa9c954adc5c425",
        "type": "api-call-service",
        "z": "1adcdebcdc8e5c39",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "input_select.select_option",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "{{payload.entity_id}}"
        ],
        "labelId": [],
        "data": "{\"option\":\"{{data.new_state.attributes.friendly_name}}\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "input_select",
        "service": "select_option",
        "x": 630,
        "y": 160,
        "wires": [
            []
        ]
    },
    {
        "id": "a06f052e713de33d",
        "type": "server-state-changed",
        "z": "1adcdebcdc8e5c39",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 1,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [],
            "substring": [],
            "regex": [
                "input_button.climate_graph"
            ]
        },
        "outputInitially": false,
        "stateType": "str",
        "ifState": "",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 180,
        "y": 160,
        "wires": [
            [
                "6c70289470244d20"
            ]
        ]
    },
    {
        "id": "6c70289470244d20",
        "type": "ha-get-entities",
        "z": "1adcdebcdc8e5c39",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 1,
        "rules": [
            {
                "condition": "state_object",
                "property": "entity_id",
                "logic": "is",
                "value": "input_select.climate_graph_*",
                "valueType": "re"
            }
        ],
        "outputType": "split",
        "outputEmptyResults": false,
        "outputLocationType": "msg",
        "outputLocation": "payload",
        "outputResultsCount": 1,
        "x": 430,
        "y": 160,
        "wires": [
            [
                "caa9c954adc5c425"
            ]
        ]
    },
    {
        "id": "13ec4212aa6c7097",
        "type": "catch",
        "z": "1adcdebcdc8e5c39",
        "g": "8ba9bcbdc999fc66",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "2d9839edb5b18080"
            ]
        ]
    },
    {
        "id": "2d9839edb5b18080",
        "type": "template",
        "z": "1adcdebcdc8e5c39",
        "g": "8ba9bcbdc999fc66",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "0df371a631a420f1"
            ]
        ]
    },
    {
        "id": "37d1e62a237418c8",
        "type": "link out",
        "z": "1adcdebcdc8e5c39",
        "g": "8ba9bcbdc999fc66",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 675,
        "y": 80,
        "wires": []
    },
    {
        "id": "0df371a631a420f1",
        "type": "template",
        "z": "1adcdebcdc8e5c39",
        "g": "8ba9bcbdc999fc66",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "9f7cae83c633220f"
            ]
        ]
    },
    {
        "id": "9f7cae83c633220f",
        "type": "function",
        "z": "1adcdebcdc8e5c39",
        "g": "8ba9bcbdc999fc66",
        "name": "notify.notification_id",
        "func": "msg.notify.notification_id = env.get(\"NR_FLOW_ID\");\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 550,
        "y": 80,
        "wires": [
            [
                "37d1e62a237418c8"
            ]
        ]
    },
    {
        "id": "1e7eae419a9ec64f",
        "type": "comment",
        "z": "fd9cd80f14f860fe",
        "g": "cd256ec259a611f4",
        "name": "TV",
        "info": "",
        "x": 790,
        "y": 520,
        "wires": []
    },
    {
        "id": "1f82b6c0e5dbebf0",
        "type": "comment",
        "z": "fd9cd80f14f860fe",
        "g": "d3868dc5f4aa2d65",
        "name": "Uitschakelen",
        "info": "",
        "x": 810,
        "y": 200,
        "wires": []
    },
    {
        "id": "38e2ec5bd89aa669",
        "type": "comment",
        "z": "fd9cd80f14f860fe",
        "g": "fc9a0630f16ecdaf",
        "name": "Radio",
        "info": "",
        "x": 790,
        "y": 800,
        "wires": []
    },
    {
        "id": "f562bc76d4f77c72",
        "type": "template",
        "z": "fd9cd80f14f860fe",
        "g": "3deebaf17197f452",
        "name": "icon",
        "field": "notify.icon",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "",
        "output": "str",
        "x": 1110,
        "y": 1960,
        "wires": [
            [
                "dca8060d69453e87"
            ]
        ]
    },
    {
        "id": "aaefbd870a81bd90",
        "type": "template",
        "z": "fd9cd80f14f860fe",
        "g": "3deebaf17197f452",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Entertainment",
        "output": "str",
        "x": 1110,
        "y": 1880,
        "wires": [
            [
                "dca8060d69453e87"
            ]
        ]
    },
    {
        "id": "2c7cc629bd4dabbf",
        "type": "link out",
        "z": "fd9cd80f14f860fe",
        "g": "3deebaf17197f452",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "c13b2b4d87067c17"
        ],
        "x": 1365,
        "y": 1920,
        "wires": []
    },
    {
        "id": "dca8060d69453e87",
        "type": "join",
        "z": "fd9cd80f14f860fe",
        "g": "3deebaf17197f452",
        "name": "",
        "mode": "custom",
        "build": "merged",
        "property": "notify",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": false,
        "timeout": "",
        "count": "4",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 1270,
        "y": 1920,
        "wires": [
            [
                "2c7cc629bd4dabbf"
            ]
        ]
    },
    {
        "id": "c6c71296e724485a",
        "type": "template",
        "z": "fd9cd80f14f860fe",
        "g": "3deebaf17197f452",
        "name": "notification id",
        "field": "notify.notification_id",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "pause_entertaiment",
        "output": "str",
        "x": 1130,
        "y": 2000,
        "wires": [
            [
                "dca8060d69453e87"
            ]
        ]
    },
    {
        "id": "7c90580485197cda",
        "type": "template",
        "z": "fd9cd80f14f860fe",
        "g": "3deebaf17197f452",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "TV gepauseerd i.v.m. telefoongesprek.",
        "output": "str",
        "x": 1120,
        "y": 1920,
        "wires": [
            [
                "dca8060d69453e87"
            ]
        ]
    },
    {
        "id": "4ed88099e41abb6e",
        "type": "comment",
        "z": "fd9cd80f14f860fe",
        "name": "tv and media entertaiment automations",
        "info": "",
        "x": 170,
        "y": 20,
        "wires": []
    },
    {
        "id": "3a535b1014d0a45b",
        "type": "switch",
        "z": "fd9cd80f14f860fe",
        "name": "entertainment activity",
        "property": "data.new_state.state",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "Uitschakelen",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "TV",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "Radio",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "Muziek",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 4,
        "x": 440,
        "y": 220,
        "wires": [
            [
                "b564e25effcfc627"
            ],
            [
                "61e6d10bbacb84be"
            ],
            [
                "0e86c16e42286a1a"
            ],
            [
                "64a60709294e150e"
            ]
        ]
    },
    {
        "id": "f1ffce13e75d6866",
        "type": "comment",
        "z": "fd9cd80f14f860fe",
        "name": "frontend entertainment activity input select",
        "info": "",
        "x": 200,
        "y": 160,
        "wires": []
    },
    {
        "id": "bf5ba3943578c959",
        "type": "comment",
        "z": "fd9cd80f14f860fe",
        "name": "pause when phone is off hook",
        "info": "",
        "x": 160,
        "y": 1760,
        "wires": []
    },
    {
        "id": "4f9dcb4526aa6e68",
        "type": "switch",
        "z": "fd9cd80f14f860fe",
        "name": "who's phone",
        "property": "data.entity_id",
        "propertyType": "msg",
        "rules": [
            {
                "t": "cont",
                "v": "coen",
                "vt": "str"
            },
            {
                "t": "cont",
                "v": "anne",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 310,
        "y": 1800,
        "wires": [
            [
                "a7ae16757970717f"
            ],
            [
                "951e80123d5d1350"
            ]
        ]
    },
    {
        "id": "8974b3e5cc82c6b9",
        "type": "comment",
        "z": "fd9cd80f14f860fe",
        "name": "select entertainment activity based on powernode content",
        "info": "",
        "x": 250,
        "y": 1460,
        "wires": []
    },
    {
        "id": "d2469e552aa559a3",
        "type": "switch",
        "z": "fd9cd80f14f860fe",
        "name": "",
        "property": "data.new_state.timeSinceChangedMs",
        "propertyType": "msg",
        "rules": [
            {
                "t": "gt",
                "v": "20",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 330,
        "y": 1500,
        "wires": [
            [
                "0a97895675822841"
            ]
        ]
    },
    {
        "id": "cbfb0a5eb7b1a139",
        "type": "switch",
        "z": "fd9cd80f14f860fe",
        "name": "source",
        "property": "data.new_state.attributes.source",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "Spotify",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 730,
        "y": 1500,
        "wires": [
            [
                "44ccff64331a48d4"
            ]
        ]
    },
    {
        "id": "37a61d11bf9ce0ab",
        "type": "switch",
        "z": "fd9cd80f14f860fe",
        "name": "content type",
        "property": "data.new_state.attributes.media_content_type",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "music",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 590,
        "y": 1500,
        "wires": [
            [
                "cbfb0a5eb7b1a139"
            ]
        ]
    },
    {
        "id": "0a97895675822841",
        "type": "rbe",
        "z": "fd9cd80f14f860fe",
        "name": "",
        "func": "rbe",
        "gap": "",
        "start": "",
        "inout": "out",
        "septopics": true,
        "property": "payload",
        "topi": "topic",
        "x": 450,
        "y": 1500,
        "wires": [
            [
                "37a61d11bf9ce0ab"
            ]
        ]
    },
    {
        "id": "494e70afb45368b6",
        "type": "comment",
        "z": "fd9cd80f14f860fe",
        "name": "select entertainment activity based on media player content",
        "info": "",
        "x": 250,
        "y": 1280,
        "wires": []
    },
    {
        "id": "210f99cc3d429b16",
        "type": "switch",
        "z": "fd9cd80f14f860fe",
        "name": "source",
        "property": "data.new_state.attributes.media_content_id",
        "propertyType": "msg",
        "rules": [
            {
                "t": "cont",
                "v": "radio",
                "vt": "str"
            },
            {
                "t": "cont",
                "v": "track",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1030,
        "y": 1340,
        "wires": [
            [
                "6739b21acd1ca7bf"
            ],
            [
                "439e4873d68ce6f4"
            ]
        ]
    },
    {
        "id": "2784788ce65fb972",
        "type": "comment",
        "z": "fd9cd80f14f860fe",
        "name": "input select tv",
        "info": "",
        "x": 110,
        "y": 1580,
        "wires": []
    },
    {
        "id": "9e2a2047fb3d0be1",
        "type": "api-call-service",
        "z": "fd9cd80f14f860fe",
        "g": "fc9a0630f16ecdaf",
        "name": "turn off universal tv",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "media_player.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "media_player.universal_tv"
        ],
        "labelId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "media_player",
        "service": "turn_off",
        "x": 1050,
        "y": 840,
        "wires": [
            []
        ]
    },
    {
        "id": "fa9bc69bfdcf7c2c",
        "type": "api-call-service",
        "z": "fd9cd80f14f860fe",
        "g": "cd256ec259a611f4",
        "name": "stop mediaplayer powernode",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "media_player.media_stop",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "media_player.powernode_2i_ea48"
        ],
        "labelId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "media_player",
        "service": "media_stop",
        "x": 860,
        "y": 620,
        "wires": [
            [
                "54b7f080b2edea10"
            ]
        ]
    },
    {
        "id": "0d2317e40dbcbd17",
        "type": "api-call-service",
        "z": "fd9cd80f14f860fe",
        "g": "d3868dc5f4aa2d65",
        "name": "turn off universal tv",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "media_player.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "media_player.universal_tv"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "media_player",
        "service": "turn_off",
        "x": 970,
        "y": 300,
        "wires": [
            []
        ]
    },
    {
        "id": "18e6577d292535de",
        "type": "api-call-service",
        "z": "fd9cd80f14f860fe",
        "g": "cd256ec259a611f4",
        "name": "play optical input powernode",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "media_player.media_play",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "media_player.powernode_2i_ea48"
        ],
        "labelId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "media_player",
        "service": "media_play",
        "x": 1500,
        "y": 620,
        "wires": [
            []
        ]
    },
    {
        "id": "f47b4545239299ad",
        "type": "api-call-service",
        "z": "fd9cd80f14f860fe",
        "g": "cd256ec259a611f4",
        "name": "turn on universal tv",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "media_player.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "media_player.universal_tv"
        ],
        "labelId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "media_player",
        "service": "turn_on",
        "x": 1030,
        "y": 560,
        "wires": [
            []
        ]
    },
    {
        "id": "54b7f080b2edea10",
        "type": "api-call-service",
        "z": "fd9cd80f14f860fe",
        "g": "cd256ec259a611f4",
        "name": "select source optical input on bluesound powernode",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "media_player.select_source",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "media_player.powernode_2i_ea48"
        ],
        "labelId": [],
        "data": "{\"source\":\"Optical\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "media_player",
        "service": "select_source",
        "x": 1190,
        "y": 620,
        "wires": [
            [
                "18e6577d292535de"
            ]
        ]
    },
    {
        "id": "f06607d23ea600e0",
        "type": "api-call-service",
        "z": "fd9cd80f14f860fe",
        "name": "pause group tv media players",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "media_player.media_pause",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "group.tv_media_players"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "media_player",
        "service": "media_pause",
        "x": 1130,
        "y": 1800,
        "wires": [
            []
        ]
    },
    {
        "id": "44ccff64331a48d4",
        "type": "api-call-service",
        "z": "fd9cd80f14f860fe",
        "name": "select entertainment activity Spotify",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "input_select.select_option",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_select.entertainment_activity"
        ],
        "labelId": [],
        "data": "{\"option\":\"Muziek\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "input_select",
        "service": "select_option",
        "x": 940,
        "y": 1500,
        "wires": [
            []
        ]
    },
    {
        "id": "e6b09e369fa79397",
        "type": "api-call-service",
        "z": "fd9cd80f14f860fe",
        "name": "select entertainment activity Radio",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "input_select.select_option",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_select.entertainment_activity"
        ],
        "labelId": [],
        "data": "{\"option\":\"Radio\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "input_select",
        "service": "select_option",
        "x": 1580,
        "y": 1340,
        "wires": [
            []
        ]
    },
    {
        "id": "207e1edd1118b4af",
        "type": "api-call-service",
        "z": "fd9cd80f14f860fe",
        "name": "select entertainment activity TV",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "input_select.select_option",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_select.entertainment_activity"
        ],
        "labelId": [],
        "data": "{\"option\":\"TV\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "input_select",
        "service": "select_option",
        "x": 970,
        "y": 1620,
        "wires": [
            []
        ]
    },
    {
        "id": "6797374d5c5348f9",
        "type": "api-current-state",
        "z": "fd9cd80f14f860fe",
        "g": "fc9a0630f16ecdaf",
        "name": "universal tv is not off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is_not",
        "entity_id": "media_player.universal_tv",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 840,
        "y": 840,
        "wires": [
            [
                "9e2a2047fb3d0be1"
            ],
            []
        ]
    },
    {
        "id": "1852cb62226e78b0",
        "type": "api-current-state",
        "z": "fd9cd80f14f860fe",
        "g": "cd256ec259a611f4",
        "name": "universal tv is off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "media_player.universal_tv",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 830,
        "y": 560,
        "wires": [
            [
                "f47b4545239299ad"
            ],
            []
        ]
    },
    {
        "id": "a7ae16757970717f",
        "type": "api-current-state",
        "z": "fd9cd80f14f860fe",
        "name": "state person coen is home",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "home",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "person.coen",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 520,
        "y": 1780,
        "wires": [
            [
                "fdca445a404c15cc"
            ],
            []
        ]
    },
    {
        "id": "fdca445a404c15cc",
        "type": "api-current-state",
        "z": "fd9cd80f14f860fe",
        "name": "state media player group tv is playing",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "playing",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "group.tv_media_players",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 810,
        "y": 1800,
        "wires": [
            [
                "f06607d23ea600e0",
                "594222d1e705061c"
            ],
            []
        ]
    },
    {
        "id": "951e80123d5d1350",
        "type": "api-current-state",
        "z": "fd9cd80f14f860fe",
        "name": "state person anne is home",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "home",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "person.anne",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 520,
        "y": 1840,
        "wires": [
            [
                "fdca445a404c15cc"
            ],
            []
        ]
    },
    {
        "id": "0e05b01a3088ebe6",
        "type": "api-current-state",
        "z": "fd9cd80f14f860fe",
        "name": "input select media source livingroom tv",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "Woonkamer TV",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_select.mediaplayer_destination",
        "state_type": "str",
        "blockInputOverrides": true,
        "outputProperties": [],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 810,
        "y": 1340,
        "wires": [
            [
                "210f99cc3d429b16"
            ],
            []
        ]
    },
    {
        "id": "68088e8c9c8a0e54",
        "type": "api-current-state",
        "z": "fd9cd80f14f860fe",
        "name": "input select entertainment activity is not TV",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "TV",
        "halt_if_type": "str",
        "halt_if_compare": "is_not",
        "entity_id": "input_select.entertainment_activity",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 650,
        "y": 1620,
        "wires": [
            [
                "207e1edd1118b4af"
            ],
            []
        ]
    },
    {
        "id": "017deb01f1ac5d06",
        "type": "server-state-changed",
        "z": "fd9cd80f14f860fe",
        "name": "state input select entertainment activity",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 1,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "input_select.entertainment_activity"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": false,
        "stateType": "str",
        "ifState": "",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 170,
        "y": 220,
        "wires": [
            [
                "3a535b1014d0a45b"
            ]
        ]
    },
    {
        "id": "94ebde6817becd16",
        "type": "server-state-changed",
        "z": "fd9cd80f14f860fe",
        "name": "state phone is offhook",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [],
            "substring": [],
            "regex": [
                "^(?!.*battery).*sensor\\.phone_(.*?)_state.*$"
            ]
        },
        "outputInitially": true,
        "stateType": "str",
        "ifState": "offhook",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": true,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 120,
        "y": 1800,
        "wires": [
            [
                "4f9dcb4526aa6e68"
            ],
            []
        ]
    },
    {
        "id": "1f002901ca051fb8",
        "type": "server-state-changed",
        "z": "fd9cd80f14f860fe",
        "name": "state media player powernode",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "media_player.powernode_2i_ea48"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": true,
        "stateType": "str",
        "ifState": "paused",
        "ifStateType": "str",
        "ifStateOperator": "is_not",
        "outputOnlyOnStateChange": false,
        "for": "1",
        "forType": "num",
        "forUnits": "seconds",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 140,
        "y": 1500,
        "wires": [
            [
                "d2469e552aa559a3"
            ],
            []
        ]
    },
    {
        "id": "a39ce2d3dcb2fa52",
        "type": "server-state-changed",
        "z": "fd9cd80f14f860fe",
        "name": "state media player bluesound",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 1,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "media_player.powernode_2i_ea48_music_assistant"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": true,
        "stateType": "str",
        "ifState": "",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": false,
        "for": "",
        "forType": "num",
        "forUnits": "milliseconds",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 140,
        "y": 1340,
        "wires": [
            [
                "e40f3ebc2b772714"
            ]
        ]
    },
    {
        "id": "a8e3dc22f4e3aa9d",
        "type": "server-state-changed",
        "z": "fd9cd80f14f860fe",
        "name": "media player shield status",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "media_player.shield"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": false,
        "stateType": "str",
        "ifState": "idle",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 130,
        "y": 1620,
        "wires": [
            [
                "2c145c15609bd2fb"
            ],
            []
        ]
    },
    {
        "id": "edd4560b8748e246",
        "type": "api-call-service",
        "z": "fd9cd80f14f860fe",
        "g": "d3868dc5f4aa2d65",
        "name": "tv turn off",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "webostv.command",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [],
        "labelId": [],
        "data": "{\"entity_id\":\"media_player.lg_webos_smart_tv\",\"command\":\"system/turnOff\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "webostv",
        "service": "command",
        "x": 1200,
        "y": 360,
        "wires": [
            []
        ]
    },
    {
        "id": "7921cddd0f314705",
        "type": "api-call-service",
        "z": "fd9cd80f14f860fe",
        "g": "d3868dc5f4aa2d65",
        "name": "turn off nvidia shield",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "media_player.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "media_player.shield"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "media_player",
        "service": "turn_off",
        "x": 840,
        "y": 240,
        "wires": [
            []
        ]
    },
    {
        "id": "1d37dadaa58f945a",
        "type": "delay",
        "z": "fd9cd80f14f860fe",
        "g": "d3868dc5f4aa2d65",
        "name": "",
        "pauseType": "delay",
        "timeout": "2",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 800,
        "y": 360,
        "wires": [
            [
                "87169159e7ae701a"
            ]
        ]
    },
    {
        "id": "7bea96d351fd45a5",
        "type": "delay",
        "z": "fd9cd80f14f860fe",
        "g": "d3868dc5f4aa2d65",
        "name": "",
        "pauseType": "delay",
        "timeout": "1",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 800,
        "y": 300,
        "wires": [
            [
                "0d2317e40dbcbd17"
            ]
        ]
    },
    {
        "id": "6739b21acd1ca7bf",
        "type": "api-current-state",
        "z": "fd9cd80f14f860fe",
        "name": "select entertainment activity is not Radio",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "Radio",
        "halt_if_type": "str",
        "halt_if_compare": "is_not",
        "entity_id": "input_select.entertainment_activity",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 1260,
        "y": 1340,
        "wires": [
            [
                "e6b09e369fa79397"
            ],
            []
        ]
    },
    {
        "id": "bf21fecdc989374a",
        "type": "api-call-service",
        "z": "fd9cd80f14f860fe",
        "name": "select entertainment activity Muziek",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "input_select.select_option",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_select.entertainment_activity"
        ],
        "labelId": [],
        "data": "{\"option\":\"Muziek\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "input_select",
        "service": "select_option",
        "x": 1580,
        "y": 1400,
        "wires": [
            []
        ]
    },
    {
        "id": "439e4873d68ce6f4",
        "type": "api-current-state",
        "z": "fd9cd80f14f860fe",
        "name": "select entertainment activity is not Muziek",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "Muziek",
        "halt_if_type": "str",
        "halt_if_compare": "is_not",
        "entity_id": "input_select.entertainment_activity",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 1260,
        "y": 1400,
        "wires": [
            [
                "bf21fecdc989374a"
            ],
            []
        ]
    },
    {
        "id": "3beb8cf879247adb",
        "type": "api-call-service",
        "z": "fd9cd80f14f860fe",
        "g": "fc9a0630f16ecdaf",
        "name": "play media",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "media_player.play_media",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "media_player.powernode_2i_ea48_music_assistant"
        ],
        "labelId": [],
        "data": "{\"media_content_id\":\"library://radio/2\",\"media_content_type\":\"music\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": true,
        "domain": "media_player",
        "service": "play_media",
        "x": 810,
        "y": 900,
        "wires": [
            []
        ]
    },
    {
        "id": "6ab8fdb97d90da1e",
        "type": "comment",
        "z": "fd9cd80f14f860fe",
        "g": "7cc7f95a4ebc61f4",
        "name": "Muziek",
        "info": "",
        "x": 790,
        "y": 1000,
        "wires": []
    },
    {
        "id": "48234362842d5448",
        "type": "api-current-state",
        "z": "fd9cd80f14f860fe",
        "g": "7cc7f95a4ebc61f4",
        "name": "universal tv is not off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is_not",
        "entity_id": "media_player.universal_tv",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 840,
        "y": 1040,
        "wires": [
            [
                "ff8e90b66ff667c9"
            ],
            []
        ]
    },
    {
        "id": "ff8e90b66ff667c9",
        "type": "api-call-service",
        "z": "fd9cd80f14f860fe",
        "g": "7cc7f95a4ebc61f4",
        "name": "turn off universal tv",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "media_player.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "media_player.universal_tv"
        ],
        "labelId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "media_player",
        "service": "turn_off",
        "x": 1050,
        "y": 1040,
        "wires": [
            []
        ]
    },
    {
        "id": "e40f3ebc2b772714",
        "type": "api-current-state",
        "z": "fd9cd80f14f860fe",
        "name": "select entertainment activity is not Uitschakelen",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "Uitschakelen",
        "halt_if_type": "str",
        "halt_if_compare": "is_not",
        "entity_id": "input_select.entertainment_activity",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 460,
        "y": 1340,
        "wires": [
            [
                "0e05b01a3088ebe6"
            ],
            []
        ]
    },
    {
        "id": "cc732df343a1b853",
        "type": "catch",
        "z": "fd9cd80f14f860fe",
        "g": "5a7ee1933ba02ee6",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "baaef0705aa65cd9"
            ]
        ]
    },
    {
        "id": "baaef0705aa65cd9",
        "type": "template",
        "z": "fd9cd80f14f860fe",
        "g": "5a7ee1933ba02ee6",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "771e77e50c8e6c37"
            ]
        ]
    },
    {
        "id": "89630cbc58f61380",
        "type": "link out",
        "z": "fd9cd80f14f860fe",
        "g": "5a7ee1933ba02ee6",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 675,
        "y": 80,
        "wires": []
    },
    {
        "id": "771e77e50c8e6c37",
        "type": "template",
        "z": "fd9cd80f14f860fe",
        "g": "5a7ee1933ba02ee6",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "67d0438a1e015185"
            ]
        ]
    },
    {
        "id": "67d0438a1e015185",
        "type": "function",
        "z": "fd9cd80f14f860fe",
        "g": "5a7ee1933ba02ee6",
        "name": "notify.notification_id",
        "func": "msg.notify.notification_id = env.get(\"NR_FLOW_ID\");\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 550,
        "y": 80,
        "wires": [
            [
                "89630cbc58f61380"
            ]
        ]
    },
    {
        "id": "87169159e7ae701a",
        "type": "api-current-state",
        "z": "fd9cd80f14f860fe",
        "g": "d3868dc5f4aa2d65",
        "name": "lg webos smart tv is not off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is_not",
        "entity_id": "media_player.lg_webos_smart_tv",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 1000,
        "y": 360,
        "wires": [
            [
                "edd4560b8748e246"
            ],
            []
        ]
    },
    {
        "id": "2c145c15609bd2fb",
        "type": "switch",
        "z": "fd9cd80f14f860fe",
        "name": "content type is video",
        "property": "data.new_state.attributes.media_content_type",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "video",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 360,
        "y": 1620,
        "wires": [
            [
                "68088e8c9c8a0e54"
            ]
        ]
    },
    {
        "id": "cc95177ff7dd19c7",
        "type": "link out",
        "z": "fd9cd80f14f860fe",
        "g": "cd256ec259a611f4",
        "name": "link_out_tv_turn_on",
        "mode": "link",
        "links": [
            "dec99c0ab95cf46a",
            "f5ca5639755bbb40"
        ],
        "x": 755,
        "y": 680,
        "wires": []
    },
    {
        "id": "f9e486866e6d65f1",
        "type": "api-call-service",
        "z": "fd9cd80f14f860fe",
        "g": "d3868dc5f4aa2d65",
        "name": "stop bluesound powernode",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "media_player.media_stop",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "media_player.powernode_2i_ea48",
            "media_player.powernode_2i_ea48_music_assistant"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "media_player",
        "service": "media_stop",
        "x": 860,
        "y": 420,
        "wires": [
            []
        ]
    },
    {
        "id": "230e59e20b2e25d8",
        "type": "ha-sentence",
        "z": "5b957aaa34cab814",
        "name": "change device volume",
        "server": "4ba92433.2478cc",
        "version": 2,
        "inputs": 0,
        "outputs": 1,
        "exposeAsEntityConfig": "",
        "mode": "trigger",
        "sentences": [
            "turn [the] {device} volume {volume_direction} with {volume} [percent]",
            "(set|change) {device} volume to {volume} [percent]",
            "turn [the] {device} volume {volume_direction}",
            "turn {volume_direction} [the] {device} volume",
            "turn {volume_direction} [the] {device}"
        ],
        "response": "",
        "responseType": "str",
        "triggerResponse": "",
        "triggerResponseType": "dynamic",
        "responseTimeout": 1000,
        "outputProperties": [
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            },
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "results"
            }
        ],
        "x": 140,
        "y": 540,
        "wires": [
            [
                "415cd44ddc7b18c5"
            ]
        ]
    },
    {
        "id": "415cd44ddc7b18c5",
        "type": "switch",
        "z": "5b957aaa34cab814",
        "name": "device",
        "property": "payload.entities.device.value",
        "propertyType": "msg",
        "rules": [
            {
                "t": "regex",
                "v": "tv",
                "vt": "str",
                "case": true
            },
            {
                "t": "regex",
                "v": "music",
                "vt": "str",
                "case": true
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 310,
        "y": 540,
        "wires": [
            [
                "bd9d99e5c6eb1b54"
            ],
            [
                "b813b74193ab27fc"
            ]
        ]
    },
    {
        "id": "bd9d99e5c6eb1b54",
        "type": "api-current-state",
        "z": "5b957aaa34cab814",
        "name": "shield state",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 1,
        "halt_if": "",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "media_player.android_tv_shield_lan_stamx_nl",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "media_player_shield_state",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "media_player_shield_data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 470,
        "y": 480,
        "wires": [
            [
                "f5b5f685345544c7"
            ]
        ]
    },
    {
        "id": "bf7bbf6679459fb7",
        "type": "switch",
        "z": "5b957aaa34cab814",
        "name": "shield is on / off",
        "property": "media_player_shield_state",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "off",
                "vt": "str"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1200,
        "y": 520,
        "wires": [
            [
                "a44e085350d02097"
            ],
            [
                "f90ea1aecb8b0ef4"
            ]
        ]
    },
    {
        "id": "a44e085350d02097",
        "type": "template",
        "z": "5b957aaa34cab814",
        "name": "response",
        "field": "payload.response",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Can't change the {{media_player_shield_data.attributes.friendly_name}} volume, the device is {{media_player_shield_state}}.",
        "output": "str",
        "x": 1400,
        "y": 440,
        "wires": [
            [
                "03cabd6d8889f1ad"
            ]
        ]
    },
    {
        "id": "baefe1afbb082442",
        "type": "catch",
        "z": "5b957aaa34cab814",
        "g": "f75da396da61e265",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "09922b4a1abc6861"
            ]
        ]
    },
    {
        "id": "09922b4a1abc6861",
        "type": "template",
        "z": "5b957aaa34cab814",
        "g": "f75da396da61e265",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "4375bd61cef9b591"
            ]
        ]
    },
    {
        "id": "2978274f7f9728d8",
        "type": "link out",
        "z": "5b957aaa34cab814",
        "g": "f75da396da61e265",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 675,
        "y": 80,
        "wires": []
    },
    {
        "id": "4375bd61cef9b591",
        "type": "template",
        "z": "5b957aaa34cab814",
        "g": "f75da396da61e265",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "778f51a4da22adf6"
            ]
        ]
    },
    {
        "id": "778f51a4da22adf6",
        "type": "function",
        "z": "5b957aaa34cab814",
        "g": "f75da396da61e265",
        "name": "notify.notification_id",
        "func": "msg.notify.notification_id = env.get(\"NR_FLOW_ID\");\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 550,
        "y": 80,
        "wires": [
            [
                "2978274f7f9728d8"
            ]
        ]
    },
    {
        "id": "5bbdf7bfad596ed8",
        "type": "comment",
        "z": "5b957aaa34cab814",
        "name": "change volume of media device based on assist input",
        "info": "",
        "x": 220,
        "y": 20,
        "wires": []
    },
    {
        "id": "1cc091482e12a183",
        "type": "template",
        "z": "5b957aaa34cab814",
        "name": "response",
        "field": "payload.response",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "{{media_player_powernode_data.attributes.friendly_name}} volume changed to {{target_volume_level_percent}}%",
        "output": "str",
        "x": 2880,
        "y": 700,
        "wires": [
            [
                "3622510742842b73"
            ]
        ]
    },
    {
        "id": "f90ea1aecb8b0ef4",
        "type": "switch",
        "z": "5b957aaa34cab814",
        "name": "volume percent",
        "property": "payload.entities.volume.value",
        "propertyType": "msg",
        "rules": [
            {
                "t": "null"
            },
            {
                "t": "empty"
            },
            {
                "t": "btwn",
                "v": "0",
                "vt": "num",
                "v2": "100",
                "v2t": "num"
            },
            {
                "t": "gt",
                "v": "100",
                "vt": "num"
            },
            {
                "t": "lt",
                "v": "0",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 5,
        "x": 1420,
        "y": 760,
        "wires": [
            [
                "2f4e9a16fc8c451d"
            ],
            [
                "2f4e9a16fc8c451d"
            ],
            [
                "97cec346a1ed7d0f"
            ],
            [
                "aed1eedec1168622"
            ],
            [
                "aed1eedec1168622"
            ]
        ]
    },
    {
        "id": "ba2f429814c2cc9c",
        "type": "switch",
        "z": "5b957aaa34cab814",
        "name": "up or down",
        "property": "payload.entities.volume_direction.value",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "up",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "down",
                "vt": "str"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 3,
        "x": 2150,
        "y": 720,
        "wires": [
            [
                "abc282949e4958ec"
            ],
            [
                "a7d53181d5a29e92"
            ],
            [
                "580d9e68cfd52773",
                "43a2b35489b92f3b"
            ]
        ]
    },
    {
        "id": "f5b5f685345544c7",
        "type": "api-current-state",
        "z": "5b957aaa34cab814",
        "name": "powernode state",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 1,
        "halt_if": "",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "media_player.powernode_2i_ea48",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "media_player_powernode_state",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "media_player_powernode_data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 650,
        "y": 520,
        "wires": [
            [
                "bf7bbf6679459fb7"
            ]
        ]
    },
    {
        "id": "97cec346a1ed7d0f",
        "type": "switch",
        "z": "5b957aaa34cab814",
        "name": "shield current volume",
        "property": "media_player_shield_data.attributes.volume_level",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            },
            {
                "t": "lt",
                "v": "1",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1880,
        "y": 760,
        "wires": [
            [
                "ba2f429814c2cc9c"
            ],
            [
                "62139640f62bf2ba"
            ]
        ]
    },
    {
        "id": "62139640f62bf2ba",
        "type": "switch",
        "z": "5b957aaa34cab814",
        "name": "up or down",
        "property": "payload.entities.volume_direction.value",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "up",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "down",
                "vt": "str"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 3,
        "x": 2150,
        "y": 960,
        "wires": [
            [
                "04615f8b33a40e00"
            ],
            [
                "7f8b9e836271ea5e"
            ],
            [
                "580d9e68cfd52773",
                "43a2b35489b92f3b"
            ]
        ]
    },
    {
        "id": "04615f8b33a40e00",
        "type": "function",
        "z": "5b957aaa34cab814",
        "name": "target volume level",
        "func": "var input_volume = msg.payload.entities.volume.value / 100;\nvar current_volume = msg.media_player_shield_data.attributes.volume_level;\n\nmsg.target_volume_level = current_volume + input_volume;\n\n\nif (msg.target_volume_level > 1) {\n    msg.rest_volume = msg.target_volume_level - 1;\n    msg.target_volume_level = 1;\n} else {\n    msg.rest_volume = 0;\n}\n\nmsg.target_volume_level_percent = Math.floor(msg.target_volume_level * 100);\n\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2470,
        "y": 920,
        "wires": [
            [
                "ca0d9a7b39ac9cae"
            ]
        ]
    },
    {
        "id": "5e40e2790c85b0a9",
        "type": "switch",
        "z": "5b957aaa34cab814",
        "name": "",
        "property": "rest_volume",
        "propertyType": "msg",
        "rules": [
            {
                "t": "gt",
                "v": "0",
                "vt": "num"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 2830,
        "y": 920,
        "wires": [
            [
                "c0cf0c8e360ea04f"
            ],
            [
                "e95f296a2aae130c"
            ]
        ]
    },
    {
        "id": "c0cf0c8e360ea04f",
        "type": "function",
        "z": "5b957aaa34cab814",
        "name": "target volume level",
        "func": "var current_volume = msg.media_player_powernode_data.attributes.volume_level;\nvar input_volume = msg.rest_volume;\n\nmsg.target_volume_level = current_volume + input_volume;\n\nif (msg.target_volume_level > 1) {\n    msg.target_volume_level = 1;\n}\n\nmsg.target_volume_level_percent = Math.floor(msg.target_volume_level * 100);\n\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2990,
        "y": 900,
        "wires": [
            [
                "52d42868eef47f07"
            ]
        ]
    },
    {
        "id": "18389521989b5a81",
        "type": "api-call-service",
        "z": "5b957aaa34cab814",
        "name": "shield set volume",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "media_player.volume_set",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "{{media_player_shield_data.entity_id}}"
        ],
        "labelId": [],
        "data": "{\"volume_level\":\"{{target_volume_level}}\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": true,
        "domain": "media_player",
        "service": "volume_set",
        "x": 170,
        "y": 220,
        "wires": [
            [
                "6bde885e917887ee"
            ]
        ]
    },
    {
        "id": "67a954faf44b9aff",
        "type": "link in",
        "z": "5b957aaa34cab814",
        "name": "shield_set_volume",
        "links": [],
        "x": 45,
        "y": 220,
        "wires": [
            [
                "18389521989b5a81"
            ]
        ]
    },
    {
        "id": "ca0d9a7b39ac9cae",
        "type": "link call",
        "z": "5b957aaa34cab814",
        "name": "",
        "links": [
            "67a954faf44b9aff"
        ],
        "linkType": "static",
        "timeout": "30",
        "x": 2670,
        "y": 920,
        "wires": [
            [
                "5e40e2790c85b0a9",
                "ddc989e286721b31"
            ]
        ]
    },
    {
        "id": "6bde885e917887ee",
        "type": "link out",
        "z": "5b957aaa34cab814",
        "name": "shield_set_volume",
        "mode": "return",
        "links": [],
        "x": 315,
        "y": 220,
        "wires": []
    },
    {
        "id": "3353a55466a9284a",
        "type": "api-call-service",
        "z": "5b957aaa34cab814",
        "name": "powernode set volume",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "media_player.volume_set",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "{{media_player_powernode_data.entity_id}}"
        ],
        "labelId": [],
        "data": "{\"volume_level\":\"{{target_volume_level}}\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": true,
        "domain": "media_player",
        "service": "volume_set",
        "x": 180,
        "y": 280,
        "wires": [
            [
                "a54209a46e13e9db"
            ]
        ]
    },
    {
        "id": "99890ac5ed83af4a",
        "type": "link in",
        "z": "5b957aaa34cab814",
        "name": "powernode_set_volume",
        "links": [],
        "x": 45,
        "y": 280,
        "wires": [
            [
                "3353a55466a9284a"
            ]
        ]
    },
    {
        "id": "a54209a46e13e9db",
        "type": "link out",
        "z": "5b957aaa34cab814",
        "name": "powernode_set_volume",
        "mode": "return",
        "links": [],
        "x": 315,
        "y": 280,
        "wires": []
    },
    {
        "id": "52d42868eef47f07",
        "type": "link call",
        "z": "5b957aaa34cab814",
        "name": "",
        "links": [
            "99890ac5ed83af4a"
        ],
        "linkType": "static",
        "timeout": "30",
        "x": 3210,
        "y": 900,
        "wires": [
            [
                "b39e0c721c3d884d"
            ]
        ]
    },
    {
        "id": "e95f296a2aae130c",
        "type": "template",
        "z": "5b957aaa34cab814",
        "name": "response",
        "field": "payload.response",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "{{media_player_shield_data.attributes.friendly_name}} volume changed to {{target_volume_level_percent}}%",
        "output": "str",
        "x": 2960,
        "y": 960,
        "wires": [
            [
                "cbbf7d8ee92873fd"
            ]
        ]
    },
    {
        "id": "b39e0c721c3d884d",
        "type": "template",
        "z": "5b957aaa34cab814",
        "name": "response",
        "field": "payload.response",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "{{media_player_shield_data.attributes.friendly_name}} volume changed to 100% and {{media_player_powernode_data.attributes.friendly_name}} to {{target_volume_level_percent}}%",
        "output": "str",
        "x": 3380,
        "y": 640,
        "wires": [
            [
                "2a79884feefef294"
            ]
        ]
    },
    {
        "id": "4360d72b424baeb7",
        "type": "ha-sentence",
        "z": "5b957aaa34cab814",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 2,
        "inputs": 1,
        "outputs": 1,
        "exposeAsEntityConfig": "",
        "mode": "response",
        "sentences": [],
        "response": "payload",
        "responseType": "msg",
        "triggerResponse": "",
        "triggerResponseType": "fixed",
        "responseTimeout": 1000,
        "outputProperties": [],
        "x": 140,
        "y": 340,
        "wires": [
            [
                "b7d3a3449d4059d4",
                "e9f6b335f785d057"
            ]
        ]
    },
    {
        "id": "e9d1e328277a73b0",
        "type": "link in",
        "z": "5b957aaa34cab814",
        "name": "sentence_response",
        "links": [],
        "x": 45,
        "y": 340,
        "wires": [
            [
                "4360d72b424baeb7"
            ]
        ]
    },
    {
        "id": "b7d3a3449d4059d4",
        "type": "link out",
        "z": "5b957aaa34cab814",
        "name": "sentence_response",
        "mode": "return",
        "links": [],
        "x": 315,
        "y": 340,
        "wires": []
    },
    {
        "id": "79fc568576af4be8",
        "type": "link call",
        "z": "5b957aaa34cab814",
        "name": "",
        "links": [
            "e9d1e328277a73b0"
        ],
        "linkType": "static",
        "timeout": "30",
        "x": 1790,
        "y": 860,
        "wires": [
            []
        ]
    },
    {
        "id": "aed1eedec1168622",
        "type": "template",
        "z": "5b957aaa34cab814",
        "name": "response",
        "field": "payload.response",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Can't change the volume to {{payload.entities.volume.value}}%, please choose a percentage between the 0% and 100%..",
        "output": "str",
        "x": 1620,
        "y": 860,
        "wires": [
            [
                "79fc568576af4be8"
            ]
        ]
    },
    {
        "id": "e9f6b335f785d057",
        "type": "debug",
        "z": "5b957aaa34cab814",
        "name": "sentence_response",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 390,
        "y": 380,
        "wires": []
    },
    {
        "id": "03cabd6d8889f1ad",
        "type": "link call",
        "z": "5b957aaa34cab814",
        "name": "",
        "links": [
            "e9d1e328277a73b0"
        ],
        "linkType": "static",
        "timeout": "30",
        "x": 1570,
        "y": 440,
        "wires": [
            []
        ]
    },
    {
        "id": "cbbf7d8ee92873fd",
        "type": "link call",
        "z": "5b957aaa34cab814",
        "name": "",
        "links": [
            "e9d1e328277a73b0"
        ],
        "linkType": "static",
        "timeout": "30",
        "x": 3130,
        "y": 960,
        "wires": [
            []
        ]
    },
    {
        "id": "2a79884feefef294",
        "type": "link call",
        "z": "5b957aaa34cab814",
        "name": "",
        "links": [
            "e9d1e328277a73b0"
        ],
        "linkType": "static",
        "timeout": "30",
        "x": 3550,
        "y": 640,
        "wires": [
            []
        ]
    },
    {
        "id": "3622510742842b73",
        "type": "link call",
        "z": "5b957aaa34cab814",
        "name": "",
        "links": [
            "e9d1e328277a73b0"
        ],
        "linkType": "static",
        "timeout": "30",
        "x": 3050,
        "y": 700,
        "wires": [
            []
        ]
    },
    {
        "id": "7f8b9e836271ea5e",
        "type": "function",
        "z": "5b957aaa34cab814",
        "name": "target volume level",
        "func": "var input_volume = msg.payload.entities.volume.value / 100;\nvar current_volume = msg.media_player_shield_data.attributes.volume_level;\n\nmsg.target_volume_level = current_volume - input_volume;\n\n\nif (msg.target_volume_level < 0) {\n    msg.target_volume_level = 0;\n}\n\nmsg.target_volume_level_percent = Math.floor(msg.target_volume_level * 100);\n\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2470,
        "y": 960,
        "wires": [
            [
                "197d9fee1713658d"
            ]
        ]
    },
    {
        "id": "197d9fee1713658d",
        "type": "link call",
        "z": "5b957aaa34cab814",
        "name": "",
        "links": [
            "67a954faf44b9aff"
        ],
        "linkType": "static",
        "timeout": "30",
        "x": 2670,
        "y": 960,
        "wires": [
            [
                "e95f296a2aae130c"
            ]
        ]
    },
    {
        "id": "a7d53181d5a29e92",
        "type": "function",
        "z": "5b957aaa34cab814",
        "name": "target volume level",
        "func": "var input_volume = msg.payload.entities.volume.value / 100;\nvar current_volume = msg.media_player_shield_data.attributes.volume_level;\n\nmsg.target_volume_level = current_volume - input_volume;\n\n\nif (msg.target_volume_level < 0) {\n    msg.target_volume_level = 0;\n}\n\nmsg.target_volume_level_percent = Math.floor(msg.target_volume_level * 100);\n\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2470,
        "y": 740,
        "wires": [
            [
                "ab8c71549b9cde83"
            ]
        ]
    },
    {
        "id": "ab8c71549b9cde83",
        "type": "link call",
        "z": "5b957aaa34cab814",
        "name": "",
        "links": [
            "67a954faf44b9aff"
        ],
        "linkType": "static",
        "timeout": "30",
        "x": 2670,
        "y": 740,
        "wires": [
            [
                "e95f296a2aae130c"
            ]
        ]
    },
    {
        "id": "abc282949e4958ec",
        "type": "function",
        "z": "5b957aaa34cab814",
        "name": "target volume level",
        "func": "var current_volume = msg.media_player_powernode_data.attributes.volume_level;\nvar input_volume = msg.payload.entities.volume.value / 100;\n\nmsg.target_volume_level = current_volume + input_volume;\n\nif (msg.target_volume_level > 1) {\n    msg.target_volume_level = 1;\n}\n\nmsg.target_volume_level_percent = Math.floor(msg.target_volume_level * 100);\n\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2470,
        "y": 700,
        "wires": [
            [
                "895f5223a029d493"
            ]
        ]
    },
    {
        "id": "895f5223a029d493",
        "type": "link call",
        "z": "5b957aaa34cab814",
        "name": "",
        "links": [
            "99890ac5ed83af4a"
        ],
        "linkType": "static",
        "timeout": "30",
        "x": 2690,
        "y": 700,
        "wires": [
            [
                "1cc091482e12a183"
            ]
        ]
    },
    {
        "id": "580d9e68cfd52773",
        "type": "function",
        "z": "5b957aaa34cab814",
        "name": "target volume level",
        "func": "msg.target_volume_level = 1;\n\nmsg.target_volume_level_percent = Math.floor(msg.target_volume_level * 100);\n\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2470,
        "y": 820,
        "wires": [
            [
                "f80d23c219b768eb"
            ]
        ]
    },
    {
        "id": "f80d23c219b768eb",
        "type": "link call",
        "z": "5b957aaa34cab814",
        "name": "",
        "links": [
            "67a954faf44b9aff"
        ],
        "linkType": "static",
        "timeout": "30",
        "x": 2670,
        "y": 820,
        "wires": [
            []
        ]
    },
    {
        "id": "43a2b35489b92f3b",
        "type": "function",
        "z": "5b957aaa34cab814",
        "name": "target volume level",
        "func": "msg.target_volume_level = msg.payload.entities.volume.value / 100;\n\nif (msg.target_volume_level > 1) {\n    msg.target_volume_level = 1;\n}\n\nmsg.target_volume_level_percent = Math.floor(msg.target_volume_level * 100);\n\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2470,
        "y": 780,
        "wires": [
            [
                "f92e8c26e09fb0bc"
            ]
        ]
    },
    {
        "id": "f92e8c26e09fb0bc",
        "type": "link call",
        "z": "5b957aaa34cab814",
        "name": "",
        "links": [
            "99890ac5ed83af4a"
        ],
        "linkType": "static",
        "timeout": "30",
        "x": 2690,
        "y": 780,
        "wires": [
            [
                "d80cc8362bbf44ee"
            ]
        ]
    },
    {
        "id": "d80cc8362bbf44ee",
        "type": "template",
        "z": "5b957aaa34cab814",
        "name": "response",
        "field": "payload.response",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "{{media_player_powernode_data.attributes.friendly_name}} volume changed to {{target_volume_level_percent}}%",
        "output": "str",
        "x": 2880,
        "y": 780,
        "wires": [
            [
                "9cb7224bb686e632"
            ]
        ]
    },
    {
        "id": "9cb7224bb686e632",
        "type": "link call",
        "z": "5b957aaa34cab814",
        "name": "",
        "links": [
            "e9d1e328277a73b0"
        ],
        "linkType": "static",
        "timeout": "30",
        "x": 3050,
        "y": 780,
        "wires": [
            []
        ]
    },
    {
        "id": "2f4e9a16fc8c451d",
        "type": "change",
        "z": "5b957aaa34cab814",
        "name": "set default volume",
        "rules": [
            {
                "t": "set",
                "p": "payload.entities.volume.value",
                "pt": "msg",
                "to": "default_volume_step",
                "tot": "flow"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1650,
        "y": 700,
        "wires": [
            [
                "97cec346a1ed7d0f"
            ]
        ]
    },
    {
        "id": "ddc989e286721b31",
        "type": "debug",
        "z": "5b957aaa34cab814",
        "name": "debug 2",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 3020,
        "y": 840,
        "wires": []
    },
    {
        "id": "b71c3d46d8016e11",
        "type": "debug",
        "z": "5b957aaa34cab814",
        "name": "debug 3",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 900,
        "y": 1080,
        "wires": []
    },
    {
        "id": "a4a9f6515fb44ffc",
        "type": "api-current-state",
        "z": "5b957aaa34cab814",
        "name": "powernode state",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 1,
        "halt_if": "",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "media_player.powernode_2i_ea48",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "media_player_powernode_state",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "media_player_powernode_data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 170,
        "y": 160,
        "wires": [
            [
                "a26fad241511f789"
            ]
        ]
    },
    {
        "id": "10dab05f641a6c95",
        "type": "link in",
        "z": "5b957aaa34cab814",
        "name": "powernode state",
        "links": [],
        "x": 45,
        "y": 160,
        "wires": [
            [
                "a4a9f6515fb44ffc"
            ]
        ]
    },
    {
        "id": "a26fad241511f789",
        "type": "link out",
        "z": "5b957aaa34cab814",
        "name": "link out 1",
        "mode": "return",
        "links": [],
        "x": 315,
        "y": 160,
        "wires": []
    },
    {
        "id": "616c56a1e0f87df9",
        "type": "link call",
        "z": "5b957aaa34cab814",
        "name": "",
        "links": [
            "10dab05f641a6c95"
        ],
        "linkType": "static",
        "timeout": "30",
        "x": 330,
        "y": 1100,
        "wires": [
            [
                "470f5f8640ef9adb"
            ]
        ]
    },
    {
        "id": "1ca7da9e3a9b981e",
        "type": "switch",
        "z": "5b957aaa34cab814",
        "name": "content type",
        "property": "media_player_powernode_data.attributes.media_content_type",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "music",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 2150,
        "y": 660,
        "wires": [
            []
        ]
    },
    {
        "id": "470f5f8640ef9adb",
        "type": "switch",
        "z": "5b957aaa34cab814",
        "name": "powernode is playing",
        "property": "media_player_powernode_state",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "playing",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 540,
        "y": 1100,
        "wires": [
            [
                "5bdf91ac2987e22d"
            ]
        ]
    },
    {
        "id": "7ccec6eef56bb4ef",
        "type": "switch",
        "z": "5b957aaa34cab814",
        "name": "up or down",
        "property": "payload.entities.volume_direction.value",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "up",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "down",
                "vt": "str"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 3,
        "x": 2150,
        "y": 1120,
        "wires": [
            [],
            [],
            []
        ]
    },
    {
        "id": "2d3b8bbd42bc685b",
        "type": "function",
        "z": "5b957aaa34cab814",
        "name": "target volume level",
        "func": "var input_volume = msg.payload.entities.volume.value / 100;\nvar current_volume = msg.media_player_shield_data.attributes.volume_level;\n\nmsg.target_volume_level = current_volume - input_volume;\n\n\nif (msg.target_volume_level < 0) {\n    msg.target_volume_level = 0;\n}\n\nmsg.target_volume_level_percent = Math.floor(msg.target_volume_level * 100);\n\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2530,
        "y": 1120,
        "wires": [
            [
                "41aa11f96b1cedff"
            ]
        ]
    },
    {
        "id": "41aa11f96b1cedff",
        "type": "link call",
        "z": "5b957aaa34cab814",
        "name": "",
        "links": [
            "67a954faf44b9aff"
        ],
        "linkType": "static",
        "timeout": "30",
        "x": 2730,
        "y": 1120,
        "wires": [
            []
        ]
    },
    {
        "id": "5bdf91ac2987e22d",
        "type": "switch",
        "z": "5b957aaa34cab814",
        "name": "content type",
        "property": "media_player_powernode_data.attributes.media_content_type",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "music",
                "vt": "str"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 730,
        "y": 1100,
        "wires": [
            [
                "b71c3d46d8016e11"
            ],
            []
        ]
    },
    {
        "id": "724cbd8ed3ae18e8",
        "type": "ha-sentence",
        "z": "5b957aaa34cab814",
        "name": "change volume",
        "server": "4ba92433.2478cc",
        "version": 2,
        "inputs": 0,
        "outputs": 1,
        "exposeAsEntityConfig": "",
        "mode": "trigger",
        "sentences": [
            "turn {volume_direction} [the] volume"
        ],
        "response": "",
        "responseType": "str",
        "triggerResponse": "",
        "triggerResponseType": "dynamic",
        "responseTimeout": 1000,
        "outputProperties": [
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            },
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "results"
            }
        ],
        "x": 120,
        "y": 1100,
        "wires": [
            [
                "616c56a1e0f87df9"
            ]
        ]
    },
    {
        "id": "95038b18668a5c83",
        "type": "change",
        "z": "5b957aaa34cab814",
        "name": "set default volume",
        "rules": [
            {
                "t": "set",
                "p": "payload.entities.volume.value",
                "pt": "msg",
                "to": "4",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 950,
        "y": 1160,
        "wires": [
            []
        ]
    },
    {
        "id": "3fd6469d3be38b16",
        "type": "function",
        "z": "5b957aaa34cab814",
        "name": "default volume step on start",
        "func": "\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "// Code added here will be run once\n// whenever the node is started.\nflow.set(\"default_volume_step\", 4);",
        "finalize": "",
        "libs": [],
        "x": 160,
        "y": 440,
        "wires": [
            []
        ]
    },
    {
        "id": "39c74b61f3530174",
        "type": "comment",
        "z": "2b23c32f6263f8c7",
        "name": "change volume of media device based on assist input",
        "info": "",
        "x": 220,
        "y": 20,
        "wires": []
    },
    {
        "id": "ed43e3427066937c",
        "type": "catch",
        "z": "2b23c32f6263f8c7",
        "g": "4dc458809c7f0b0e",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "78507d1220da1132"
            ]
        ]
    },
    {
        "id": "78507d1220da1132",
        "type": "template",
        "z": "2b23c32f6263f8c7",
        "g": "4dc458809c7f0b0e",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "b412897abc463b37"
            ]
        ]
    },
    {
        "id": "bf8e5653c2636930",
        "type": "link out",
        "z": "2b23c32f6263f8c7",
        "g": "4dc458809c7f0b0e",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 675,
        "y": 80,
        "wires": []
    },
    {
        "id": "b412897abc463b37",
        "type": "template",
        "z": "2b23c32f6263f8c7",
        "g": "4dc458809c7f0b0e",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "5a30badee0ae6770"
            ]
        ]
    },
    {
        "id": "5a30badee0ae6770",
        "type": "function",
        "z": "2b23c32f6263f8c7",
        "g": "4dc458809c7f0b0e",
        "name": "notify.notification_id",
        "func": "msg.notify.notification_id = env.get(\"NR_FLOW_ID\");\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 550,
        "y": 80,
        "wires": [
            [
                "bf8e5653c2636930"
            ]
        ]
    },
    {
        "id": "a51189f8f249bbae",
        "type": "ha-sentence",
        "z": "2b23c32f6263f8c7",
        "name": "turn device on",
        "server": "4ba92433.2478cc",
        "version": 2,
        "inputs": 0,
        "outputs": 1,
        "exposeAsEntityConfig": "",
        "mode": "trigger",
        "sentences": [
            "turn on [the] {device}",
            "turn [the] {device} on"
        ],
        "response": "",
        "responseType": "str",
        "triggerResponse": "",
        "triggerResponseType": "dynamic",
        "responseTimeout": 1000,
        "outputProperties": [
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            },
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "results"
            }
        ],
        "x": 90,
        "y": 200,
        "wires": [
            [
                "2281c26605810126"
            ]
        ]
    },
    {
        "id": "f781dfa7e27179fb",
        "type": "api-call-service",
        "z": "2b23c32f6263f8c7",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "input_select.select_option",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_select.entertainment_activity"
        ],
        "labelId": [],
        "data": "{\"option\":\"{{select}}\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "input_select",
        "service": "select_option",
        "x": 670,
        "y": 200,
        "wires": [
            [
                "29eb5d857a83037f"
            ]
        ]
    },
    {
        "id": "c299956ca39475ed",
        "type": "function",
        "z": "2b23c32f6263f8c7",
        "name": "device regex",
        "func": "let device = String(msg.payload.entities.device.value).trim().toLowerCase();\n\nconst replacements = {\n    TV: \"tv|dv|television\",\n    Radio: \"radio\",\n    Muziek: \"music\"\n};\n\nfor (const [key, pattern] of Object.entries(replacements)) {\n    const regex = new RegExp(pattern, \"gi\");\n    if (regex.test(device)) {\n        msg.select = key;\n        break;\n    }\n}\n\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 470,
        "y": 200,
        "wires": [
            [
                "f781dfa7e27179fb"
            ]
        ]
    },
    {
        "id": "f8f2ca217e22bb4e",
        "type": "debug",
        "z": "2b23c32f6263f8c7",
        "name": "sentence_response",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 470,
        "y": 820,
        "wires": []
    },
    {
        "id": "29eb5d857a83037f",
        "type": "template",
        "z": "2b23c32f6263f8c7",
        "name": "response",
        "field": "payload.response",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "{{payload.entities.device.value}} has been turned {{desired_device_state}}",
        "output": "str",
        "x": 860,
        "y": 200,
        "wires": [
            [
                "540b1f77bf097316"
            ]
        ]
    },
    {
        "id": "2281c26605810126",
        "type": "change",
        "z": "2b23c32f6263f8c7",
        "name": "desired device state",
        "rules": [
            {
                "t": "set",
                "p": "desired_device_state",
                "pt": "msg",
                "to": "on",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 280,
        "y": 200,
        "wires": [
            [
                "c299956ca39475ed"
            ]
        ]
    },
    {
        "id": "6cd9595be1d393d8",
        "type": "api-call-service",
        "z": "2b23c32f6263f8c7",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "conversation.process",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [],
        "labelId": [],
        "data": "{\"text\":\"{{text}}\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": true,
        "domain": "conversation",
        "service": "process",
        "x": 380,
        "y": 600,
        "wires": [
            []
        ]
    },
    {
        "id": "2d54cb39a79e5002",
        "type": "inject",
        "z": "2b23c32f6263f8c7",
        "name": "turn the tv volume down",
        "props": [
            {
                "p": "text",
                "v": "turn on the tv",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 160,
        "y": 600,
        "wires": [
            [
                "6cd9595be1d393d8"
            ]
        ]
    },
    {
        "id": "d35ef2ba6c8fe0f5",
        "type": "ha-sentence",
        "z": "2b23c32f6263f8c7",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 2,
        "inputs": 1,
        "outputs": 1,
        "exposeAsEntityConfig": "",
        "mode": "response",
        "sentences": [],
        "response": "payload",
        "responseType": "msg",
        "triggerResponse": "",
        "triggerResponseType": "fixed",
        "responseTimeout": 1000,
        "outputProperties": [],
        "x": 140,
        "y": 360,
        "wires": [
            [
                "5465c681685de8e9",
                "96efa0cf39336657"
            ]
        ]
    },
    {
        "id": "83dc0762c99fb524",
        "type": "link in",
        "z": "2b23c32f6263f8c7",
        "name": "sentence_response",
        "links": [],
        "x": 45,
        "y": 360,
        "wires": [
            [
                "d35ef2ba6c8fe0f5"
            ]
        ]
    },
    {
        "id": "5465c681685de8e9",
        "type": "link out",
        "z": "2b23c32f6263f8c7",
        "name": "sentence_response",
        "mode": "return",
        "links": [],
        "x": 255,
        "y": 360,
        "wires": []
    },
    {
        "id": "96efa0cf39336657",
        "type": "debug",
        "z": "2b23c32f6263f8c7",
        "name": "sentence_response",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 330,
        "y": 420,
        "wires": []
    },
    {
        "id": "540b1f77bf097316",
        "type": "link call",
        "z": "2b23c32f6263f8c7",
        "name": "",
        "links": [
            "e9d1e328277a73b0"
        ],
        "linkType": "static",
        "timeout": "30",
        "x": 1030,
        "y": 200,
        "wires": [
            []
        ]
    },
    {
        "id": "2a804e94931f7201",
        "type": "comment",
        "z": "39f5e6336137f4b2",
        "name": "turn off tvscreen when nothing is playing and turn back on when mediaplayer start playing",
        "info": "",
        "x": 330,
        "y": 20,
        "wires": []
    },
    {
        "id": "b17acb7df0bb2bd2",
        "type": "switch",
        "z": "39f5e6336137f4b2",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "playing",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "paused",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 310,
        "y": 180,
        "wires": [
            [
                "d9540c933a60aec7",
                "9bfa5f87424a529d"
            ],
            [
                "f8003d1746659317"
            ]
        ]
    },
    {
        "id": "d9540c933a60aec7",
        "type": "change",
        "z": "39f5e6336137f4b2",
        "name": "set payload stop",
        "rules": [
            {
                "t": "set",
                "p": "reset",
                "pt": "msg",
                "to": "",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 600,
        "y": 200,
        "wires": [
            [
                "4539dbe872caf169",
                "19b08832ac41fe31"
            ]
        ]
    },
    {
        "id": "19b08832ac41fe31",
        "type": "delay",
        "z": "39f5e6336137f4b2",
        "name": "",
        "pauseType": "delay",
        "timeout": "10",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 780,
        "y": 260,
        "wires": [
            [
                "382a831c1568641b",
                "b3f587190264a6a8"
            ]
        ]
    },
    {
        "id": "382a831c1568641b",
        "type": "delay",
        "z": "39f5e6336137f4b2",
        "name": "",
        "pauseType": "delay",
        "timeout": "10",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 980,
        "y": 260,
        "wires": [
            [
                "058b6bfd406a2ad0"
            ]
        ]
    },
    {
        "id": "a9227561e7f66936",
        "type": "api-call-service",
        "z": "39f5e6336137f4b2",
        "name": "notify tv",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "notify.lg_webos_smart_tv",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [],
        "labelId": [],
        "data": "{\"message\":\"TV scherm gaat over 10 seconde automatisch op zwart. \",\"title\":\"TV scherm\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "turn_off",
                "valueType": "str"
            }
        ],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "notify",
        "service": "lg_webos_smart_tv",
        "x": 1380,
        "y": 320,
        "wires": [
            []
        ]
    },
    {
        "id": "a50b36c508ee1125",
        "type": "server-state-changed",
        "z": "39f5e6336137f4b2",
        "d": true,
        "name": "universal tv is not playing",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 1,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "media_player.universal_tv"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": true,
        "stateType": "str",
        "ifState": "",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": false,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 130,
        "y": 180,
        "wires": [
            [
                "b17acb7df0bb2bd2"
            ]
        ]
    },
    {
        "id": "710a9c0fa290ab6f",
        "type": "server-state-changed",
        "z": "39f5e6336137f4b2",
        "d": true,
        "name": "mediaplayer shield is idle",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 1,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "media_player.shield"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": true,
        "stateType": "str",
        "ifState": "",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": false,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 130,
        "y": 300,
        "wires": [
            [
                "b822a9f31018d2a0"
            ]
        ]
    },
    {
        "id": "b822a9f31018d2a0",
        "type": "switch",
        "z": "39f5e6336137f4b2",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "idle",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 310,
        "y": 300,
        "wires": [
            [
                "a325b77f020cd697"
            ]
        ]
    },
    {
        "id": "a325b77f020cd697",
        "type": "switch",
        "z": "39f5e6336137f4b2",
        "name": "",
        "property": "data.new_state.attributes.app_name",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "NLZIET",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 430,
        "y": 300,
        "wires": [
            [
                "f8003d1746659317"
            ]
        ]
    },
    {
        "id": "9bfa5f87424a529d",
        "type": "link out",
        "z": "39f5e6336137f4b2",
        "name": "link_out_tv_screen_turn_on",
        "mode": "link",
        "links": [
            "dec99c0ab95cf46a"
        ],
        "x": 535,
        "y": 160,
        "wires": []
    },
    {
        "id": "058b6bfd406a2ad0",
        "type": "link out",
        "z": "39f5e6336137f4b2",
        "name": "link_out_tv_screen_turn_off",
        "mode": "link",
        "links": [
            "1e4e8287439e54f1"
        ],
        "x": 1075,
        "y": 260,
        "wires": []
    },
    {
        "id": "cc8c7cf17f533749",
        "type": "catch",
        "z": "39f5e6336137f4b2",
        "g": "6245ab7a28a04b83",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "4cb0e008330fe098"
            ]
        ]
    },
    {
        "id": "4cb0e008330fe098",
        "type": "template",
        "z": "39f5e6336137f4b2",
        "g": "6245ab7a28a04b83",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "46f9be0e7684a83d"
            ]
        ]
    },
    {
        "id": "cb2996d878c5e0c7",
        "type": "link out",
        "z": "39f5e6336137f4b2",
        "g": "6245ab7a28a04b83",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 675,
        "y": 80,
        "wires": []
    },
    {
        "id": "46f9be0e7684a83d",
        "type": "template",
        "z": "39f5e6336137f4b2",
        "g": "6245ab7a28a04b83",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "08c782125ac91445"
            ]
        ]
    },
    {
        "id": "08c782125ac91445",
        "type": "function",
        "z": "39f5e6336137f4b2",
        "g": "6245ab7a28a04b83",
        "name": "notify.notification_id",
        "func": "msg.notify.notification_id = env.get(\"NR_FLOW_ID\");\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 550,
        "y": 80,
        "wires": [
            [
                "cb2996d878c5e0c7"
            ]
        ]
    },
    {
        "id": "54e3e2b794b71880",
        "type": "switch",
        "z": "39f5e6336137f4b2",
        "name": "active",
        "property": "state[\"media_player.lg_webos_smart_tv\"].state",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "Active",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1250,
        "y": 320,
        "wires": [
            [
                "a9227561e7f66936"
            ]
        ]
    },
    {
        "id": "18cdd9064f4a7ab9",
        "type": "api-call-service",
        "z": "39f5e6336137f4b2",
        "name": "current tv state",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "webostv.command",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [],
        "labelId": [],
        "data": "{\"entity_id\":\"media_player.lg_webos_smart_tv\",\"command\":\"com.webos.service.tvpower/power/getPowerState\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [
            {
                "property": "state",
                "propertyType": "msg",
                "value": "",
                "valueType": "results"
            }
        ],
        "queue": "none",
        "blockInputOverrides": true,
        "domain": "webostv",
        "service": "command",
        "x": 1100,
        "y": 320,
        "wires": [
            [
                "54e3e2b794b71880"
            ]
        ]
    },
    {
        "id": "b3f587190264a6a8",
        "type": "api-current-state",
        "z": "39f5e6336137f4b2",
        "name": "tv is on",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is_not",
        "entity_id": "media_player.lg_webos_smart_tv",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 940,
        "y": 320,
        "wires": [
            [
                "18cdd9064f4a7ab9"
            ],
            []
        ]
    },
    {
        "id": "e8630ecd17b5f84e",
        "type": "api-call-service",
        "z": "39f5e6336137f4b2",
        "g": "1c08d4761f28031d",
        "name": "input select entertainment_activity uitschakelen",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "input_select.select_option",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_select.entertainment_activity"
        ],
        "labelId": [],
        "data": "{\"option\":\"Uitschakelen\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "input_select",
        "service": "select_option",
        "x": 920,
        "y": 1300,
        "wires": [
            []
        ]
    },
    {
        "id": "e8f0a3086500e186",
        "type": "api-current-state",
        "z": "39f5e6336137f4b2",
        "g": "1c08d4761f28031d",
        "name": "input select entertainment_activity is not uitschakelen",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "Uitschakelen",
        "halt_if_type": "str",
        "halt_if_compare": "is_not",
        "entity_id": "input_select.entertainment_activity",
        "state_type": "str",
        "blockInputOverrides": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 520,
        "y": 1300,
        "wires": [
            [
                "e8630ecd17b5f84e"
            ],
            []
        ]
    },
    {
        "id": "429ad6ab342d378c",
        "type": "subflow:9ea6eabfb34d96e0",
        "z": "39f5e6336137f4b2",
        "g": "1c08d4761f28031d",
        "name": "",
        "x": 170,
        "y": 1300,
        "wires": [
            [
                "e8f0a3086500e186"
            ]
        ]
    },
    {
        "id": "d9c15091d0933aa1",
        "type": "comment",
        "z": "39f5e6336137f4b2",
        "g": "1c08d4761f28031d",
        "name": "set input select entertainment to Uitschakelen when house gets onuccupied or sleepmode gets turned on",
        "info": "",
        "x": 390,
        "y": 1240,
        "wires": []
    },
    {
        "id": "0419c1d8f3124b5e",
        "type": "link in",
        "z": "39f5e6336137f4b2",
        "g": "1c08d4761f28031d",
        "name": "set input select entertaiment to Uitschakelen",
        "links": [
            "e6b9ff42fde3ea4e"
        ],
        "x": 285,
        "y": 1340,
        "wires": [
            [
                "e8f0a3086500e186"
            ]
        ]
    },
    {
        "id": "6a77eb9d04cca958",
        "type": "api-current-state",
        "z": "39f5e6336137f4b2",
        "g": "71c35719c7add5f8",
        "name": "universal tv is playing",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "playing",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "media_player.universal_tv",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 420,
        "y": 760,
        "wires": [
            [
                "485b2638b3e54f1b"
            ],
            []
        ]
    },
    {
        "id": "485b2638b3e54f1b",
        "type": "api-call-service",
        "z": "39f5e6336137f4b2",
        "g": "71c35719c7add5f8",
        "name": "pause universal tv media player",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "media_player.media_pause",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "media_player.universal_tv"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "media_player",
        "service": "media_pause",
        "x": 670,
        "y": 760,
        "wires": [
            []
        ]
    },
    {
        "id": "29ef6b63d1ee8e04",
        "type": "link in",
        "z": "39f5e6336137f4b2",
        "g": "71c35719c7add5f8",
        "name": "pause universal tv mediaplayer",
        "links": [
            "3bafb9626527259f"
        ],
        "x": 285,
        "y": 760,
        "wires": [
            [
                "6a77eb9d04cca958"
            ]
        ]
    },
    {
        "id": "3724f1550b7ce891",
        "type": "api-call-service",
        "z": "39f5e6336137f4b2",
        "g": "767cfafe4de72d92",
        "name": "turn off tv hardware",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "webostv.command",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [],
        "labelId": [],
        "data": "{\"entity_id\":\"media_player.lg_webos_smart_tv\",\"command\":\"system/turnOff\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "webostv",
        "service": "command",
        "x": 470,
        "y": 960,
        "wires": [
            [
                "69b6c54a1cabe45b"
            ]
        ]
    },
    {
        "id": "38a89a2645866f0c",
        "type": "api-call-service",
        "z": "39f5e6336137f4b2",
        "g": "767cfafe4de72d92",
        "name": "turn on universal tv",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "media_player.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "media_player.universal_tv"
        ],
        "labelId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "media_player",
        "service": "turn_on",
        "x": 470,
        "y": 900,
        "wires": [
            []
        ]
    },
    {
        "id": "69b6c54a1cabe45b",
        "type": "api-call-service",
        "z": "39f5e6336137f4b2",
        "g": "767cfafe4de72d92",
        "name": "turn off universal tv",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "media_player.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "media_player.universal_tv"
        ],
        "labelId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "media_player",
        "service": "turn_off",
        "x": 670,
        "y": 960,
        "wires": [
            []
        ]
    },
    {
        "id": "fff03108c5f1ce08",
        "type": "api-current-state",
        "z": "39f5e6336137f4b2",
        "g": "767cfafe4de72d92",
        "name": "universal tv is off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "media_player.universal_tv",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 250,
        "y": 900,
        "wires": [
            [
                "38a89a2645866f0c"
            ],
            [
                "3724f1550b7ce891"
            ]
        ]
    },
    {
        "id": "9b76c1a2318387ea",
        "type": "ha-button",
        "z": "39f5e6336137f4b2",
        "g": "767cfafe4de72d92",
        "name": "",
        "version": 0,
        "debugenabled": false,
        "outputs": 1,
        "entityConfig": "334728918669134a",
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "x": 90,
        "y": 900,
        "wires": [
            [
                "fff03108c5f1ce08"
            ]
        ]
    },
    {
        "id": "46c67d7449c54584",
        "type": "comment",
        "z": "39f5e6336137f4b2",
        "g": "767cfafe4de72d92",
        "name": "tv_device button to toggle the tv on/off",
        "info": "",
        "x": 190,
        "y": 860,
        "wires": []
    },
    {
        "id": "30bb603d2ee43acf",
        "type": "comment",
        "z": "39f5e6336137f4b2",
        "g": "71c35719c7add5f8",
        "name": "pause the tv universal mediaplayer",
        "info": "",
        "x": 180,
        "y": 720,
        "wires": []
    },
    {
        "id": "4a35bcbba9fd8659",
        "type": "change",
        "z": "39f5e6336137f4b2",
        "g": "8621fb6c01d429c7",
        "name": "off",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "off",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 330,
        "y": 1100,
        "wires": [
            [
                "dec82ecde28afe10"
            ]
        ]
    },
    {
        "id": "cc3caee8d4e6c43d",
        "type": "change",
        "z": "39f5e6336137f4b2",
        "g": "8621fb6c01d429c7",
        "name": "on",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "on",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 330,
        "y": 1140,
        "wires": [
            [
                "dec82ecde28afe10"
            ]
        ]
    },
    {
        "id": "3ad861c67030f3f1",
        "type": "server-state-changed",
        "z": "39f5e6336137f4b2",
        "g": "8621fb6c01d429c7",
        "name": "lg tv mediaplayer is off",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "media_player.universal_tv"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": true,
        "stateType": "str",
        "ifState": "off",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": false,
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": true,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 140,
        "y": 1100,
        "wires": [
            [
                "4a35bcbba9fd8659"
            ],
            [
                "cc3caee8d4e6c43d"
            ]
        ]
    },
    {
        "id": "dec82ecde28afe10",
        "type": "ha-binary-sensor",
        "z": "39f5e6336137f4b2",
        "g": "8621fb6c01d429c7",
        "name": "tv_device",
        "entityConfig": "03547137a16812fd",
        "version": 0,
        "state": "payload",
        "stateType": "msg",
        "attributes": [],
        "inputOverride": "allow",
        "outputProperties": [],
        "x": 480,
        "y": 1100,
        "wires": [
            []
        ]
    },
    {
        "id": "7301e33204b88290",
        "type": "comment",
        "z": "39f5e6336137f4b2",
        "g": "8621fb6c01d429c7",
        "name": "tv_device binary sensor to save tv state",
        "info": "",
        "x": 190,
        "y": 1060,
        "wires": []
    },
    {
        "id": "e6674374ecfdefa0",
        "type": "comment",
        "z": "39f5e6336137f4b2",
        "g": "13c66868b5eefa83",
        "name": "turn off tv screen to save energy and to prevent pixel burn in",
        "info": "",
        "x": 260,
        "y": 420,
        "wires": []
    },
    {
        "id": "75b84d8bf5e2faeb",
        "type": "api-call-service",
        "z": "39f5e6336137f4b2",
        "g": "13c66868b5eefa83",
        "name": "tvscreen turn on",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "webostv.command",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [],
        "labelId": [],
        "data": "{\"entity_id\":\"media_player.lg_webos_smart_tv\",\"command\":\"com.webos.service.tvpower/power/turnOnScreen\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "webostv",
        "service": "command",
        "x": 860,
        "y": 480,
        "wires": [
            []
        ]
    },
    {
        "id": "7ee0608b0362347d",
        "type": "api-call-service",
        "z": "39f5e6336137f4b2",
        "g": "13c66868b5eefa83",
        "name": "current tv state",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "webostv.command",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [],
        "labelId": [],
        "data": "{\"entity_id\":\"media_player.lg_webos_smart_tv\",\"command\":\"com.webos.service.tvpower/power/getPowerState\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [
            {
                "property": "state",
                "propertyType": "msg",
                "value": "",
                "valueType": "results"
            }
        ],
        "queue": "none",
        "blockInputOverrides": true,
        "domain": "webostv",
        "service": "command",
        "x": 560,
        "y": 480,
        "wires": [
            [
                "3905cfef0361c276"
            ]
        ]
    },
    {
        "id": "3905cfef0361c276",
        "type": "switch",
        "z": "39f5e6336137f4b2",
        "g": "13c66868b5eefa83",
        "name": "",
        "property": "state[\"media_player.lg_webos_smart_tv\"].state",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "Screen Off",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 710,
        "y": 480,
        "wires": [
            [
                "75b84d8bf5e2faeb"
            ]
        ]
    },
    {
        "id": "dec99c0ab95cf46a",
        "type": "link in",
        "z": "39f5e6336137f4b2",
        "g": "13c66868b5eefa83",
        "name": "on",
        "links": [
            "9bfa5f87424a529d",
            "cc95177ff7dd19c7"
        ],
        "x": 285,
        "y": 480,
        "wires": [
            [
                "c63b94a1bcddb5f9"
            ]
        ]
    },
    {
        "id": "1e4e8287439e54f1",
        "type": "link in",
        "z": "39f5e6336137f4b2",
        "g": "13c66868b5eefa83",
        "name": "off",
        "links": [
            "058b6bfd406a2ad0"
        ],
        "x": 285,
        "y": 540,
        "wires": [
            [
                "462935c54d978b2f"
            ]
        ]
    },
    {
        "id": "daac1efc716c9aa2",
        "type": "api-call-service",
        "z": "39f5e6336137f4b2",
        "g": "13c66868b5eefa83",
        "name": "current tv state",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "webostv.command",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [],
        "labelId": [],
        "data": "{\"entity_id\":\"media_player.lg_webos_smart_tv\",\"command\":\"com.webos.service.tvpower/power/getPowerState\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [
            {
                "property": "state",
                "propertyType": "msg",
                "value": "",
                "valueType": "results"
            }
        ],
        "queue": "none",
        "blockInputOverrides": true,
        "domain": "webostv",
        "service": "command",
        "x": 560,
        "y": 540,
        "wires": [
            [
                "9dd84bc036be6c85"
            ]
        ]
    },
    {
        "id": "9dd84bc036be6c85",
        "type": "switch",
        "z": "39f5e6336137f4b2",
        "g": "13c66868b5eefa83",
        "name": "",
        "property": "state[\"media_player.lg_webos_smart_tv\"].state",
        "propertyType": "msg",
        "rules": [
            {
                "t": "neq",
                "v": "Screen Off",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 710,
        "y": 540,
        "wires": [
            [
                "c054e6f474b4191e"
            ]
        ]
    },
    {
        "id": "c054e6f474b4191e",
        "type": "api-call-service",
        "z": "39f5e6336137f4b2",
        "g": "13c66868b5eefa83",
        "name": "tvscreen turn off",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "webostv.command",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [],
        "labelId": [],
        "data": "{\"entity_id\":\"media_player.lg_webos_smart_tv\",\"command\":\"com.webos.service.tvpower/power/turnOffScreen\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "webostv",
        "service": "command",
        "x": 860,
        "y": 540,
        "wires": [
            []
        ]
    },
    {
        "id": "c63b94a1bcddb5f9",
        "type": "api-current-state",
        "z": "39f5e6336137f4b2",
        "g": "13c66868b5eefa83",
        "name": "tv is on",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "media_player.lg_webos_smart_tv",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 400,
        "y": 480,
        "wires": [
            [
                "7ee0608b0362347d"
            ],
            []
        ]
    },
    {
        "id": "462935c54d978b2f",
        "type": "api-current-state",
        "z": "39f5e6336137f4b2",
        "g": "13c66868b5eefa83",
        "name": "tv is on",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "media_player.lg_webos_smart_tv",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 400,
        "y": 540,
        "wires": [
            [
                "daac1efc716c9aa2"
            ],
            []
        ]
    },
    {
        "id": "d42cee1b019d7e42",
        "type": "ha-button",
        "z": "39f5e6336137f4b2",
        "g": "13c66868b5eefa83",
        "name": "tv screen toggle button",
        "version": 0,
        "debugenabled": false,
        "outputs": 1,
        "entityConfig": "129d3d14acdc46a3",
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "x": 140,
        "y": 620,
        "wires": [
            [
                "c63b94a1bcddb5f9",
                "462935c54d978b2f"
            ]
        ]
    },
    {
        "id": "6e79bc1726b0ef67",
        "type": "catch",
        "z": "94466ab2e543aa2f",
        "g": "d682f69e7ce22c8f",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 60,
        "wires": [
            [
                "5b124ad54f888554"
            ]
        ]
    },
    {
        "id": "5b124ad54f888554",
        "type": "template",
        "z": "94466ab2e543aa2f",
        "g": "d682f69e7ce22c8f",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 60,
        "wires": [
            [
                "d401844673ba904e"
            ]
        ]
    },
    {
        "id": "651e1d1bfb037f1b",
        "type": "link out",
        "z": "94466ab2e543aa2f",
        "g": "d682f69e7ce22c8f",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 675,
        "y": 60,
        "wires": []
    },
    {
        "id": "d401844673ba904e",
        "type": "template",
        "z": "94466ab2e543aa2f",
        "g": "d682f69e7ce22c8f",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 60,
        "wires": [
            [
                "2262f2a2e5fc42b1"
            ]
        ]
    },
    {
        "id": "2262f2a2e5fc42b1",
        "type": "function",
        "z": "94466ab2e543aa2f",
        "g": "d682f69e7ce22c8f",
        "name": "notify.notification_id",
        "func": "msg.notify.notification_id = env.get(\"NR_FLOW_ID\");\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 550,
        "y": 60,
        "wires": [
            [
                "651e1d1bfb037f1b"
            ]
        ]
    },
    {
        "id": "38359ee3075d7265",
        "type": "switch",
        "z": "94466ab2e543aa2f",
        "g": "ec2f567862ba39b8",
        "name": "click type channel 2",
        "property": "payload.event.click_type",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "single",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "double",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "triple",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "long",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "single_long",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "long_single",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 6,
        "x": 630,
        "y": 520,
        "wires": [
            [
                "c7889bf53b45acd0"
            ],
            [
                "b683652c36e89d93"
            ],
            [
                "12623d2f9eb2f4d2"
            ],
            [
                "0a529779203ff3d6"
            ],
            [
                "257a3fc6c1e0caff"
            ],
            [
                "434c2e9a25561bbe"
            ]
        ]
    },
    {
        "id": "114df27610bf61b8",
        "type": "switch",
        "z": "94466ab2e543aa2f",
        "g": "ec2f567862ba39b8",
        "name": "click type channel 1",
        "property": "payload.event.click_type",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "single",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "double",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "triple",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "long",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "single_long",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "long_single",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 6,
        "x": 630,
        "y": 280,
        "wires": [
            [
                "b55a1b1c2ee46b70"
            ],
            [
                "2d71a81ca51a22dc"
            ],
            [
                "80f341496b680f21"
            ],
            [
                "02001e33ab1a7769"
            ],
            [
                "92a5fdf9411f1451"
            ],
            [
                "db0951fa1bf62652"
            ]
        ]
    },
    {
        "id": "5de4c93f0f01b4d6",
        "type": "switch",
        "z": "94466ab2e543aa2f",
        "g": "ec2f567862ba39b8",
        "name": "channel 1 or 2",
        "property": "payload.event.channel",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "2",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 420,
        "y": 400,
        "wires": [
            [
                "114df27610bf61b8"
            ],
            [
                "38359ee3075d7265"
            ]
        ]
    },
    {
        "id": "0260edcb14ed697c",
        "type": "server-events",
        "z": "94466ab2e543aa2f",
        "g": "ec2f567862ba39b8",
        "name": "shellyi3 livingroom click events",
        "server": "4ba92433.2478cc",
        "version": 3,
        "exposeAsEntityConfig": "",
        "eventType": "shelly.click",
        "eventData": "{\"device\":\"shellyix3-68C63AFAA400\"}",
        "waitForRunning": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "$outputData(\"eventData\").event_type",
                "valueType": "jsonata"
            }
        ],
        "event_type": "",
        "x": 190,
        "y": 400,
        "wires": [
            [
                "5de4c93f0f01b4d6"
            ]
        ]
    },
    {
        "id": "2d71a81ca51a22dc",
        "type": "link out",
        "z": "94466ab2e543aa2f",
        "g": "ec2f567862ba39b8",
        "name": "channel 1 double",
        "mode": "link",
        "links": [
            "321f94ddeb0d231e"
        ],
        "x": 835,
        "y": 220,
        "wires": []
    },
    {
        "id": "b55a1b1c2ee46b70",
        "type": "link out",
        "z": "94466ab2e543aa2f",
        "g": "ec2f567862ba39b8",
        "name": "channel 1 single",
        "mode": "link",
        "links": [
            "24f07e9dc4f73d1e"
        ],
        "x": 835,
        "y": 180,
        "wires": []
    },
    {
        "id": "80f341496b680f21",
        "type": "link out",
        "z": "94466ab2e543aa2f",
        "g": "ec2f567862ba39b8",
        "name": "channel 1 triple",
        "mode": "link",
        "links": [],
        "x": 835,
        "y": 260,
        "wires": []
    },
    {
        "id": "02001e33ab1a7769",
        "type": "link out",
        "z": "94466ab2e543aa2f",
        "g": "ec2f567862ba39b8",
        "name": "channel 1 long",
        "mode": "link",
        "links": [],
        "x": 835,
        "y": 300,
        "wires": []
    },
    {
        "id": "92a5fdf9411f1451",
        "type": "link out",
        "z": "94466ab2e543aa2f",
        "g": "ec2f567862ba39b8",
        "name": "channel 1 single + long",
        "mode": "link",
        "links": [],
        "x": 835,
        "y": 340,
        "wires": []
    },
    {
        "id": "db0951fa1bf62652",
        "type": "link out",
        "z": "94466ab2e543aa2f",
        "g": "ec2f567862ba39b8",
        "name": "channel 1 long + single",
        "mode": "link",
        "links": [],
        "x": 835,
        "y": 380,
        "wires": []
    },
    {
        "id": "b683652c36e89d93",
        "type": "link out",
        "z": "94466ab2e543aa2f",
        "g": "ec2f567862ba39b8",
        "name": "channel 2 double",
        "mode": "link",
        "links": [
            "669938235d33a02d"
        ],
        "x": 835,
        "y": 460,
        "wires": []
    },
    {
        "id": "c7889bf53b45acd0",
        "type": "link out",
        "z": "94466ab2e543aa2f",
        "g": "ec2f567862ba39b8",
        "name": "channel 2 single",
        "mode": "link",
        "links": [
            "f27f06b74e5f3830"
        ],
        "x": 835,
        "y": 420,
        "wires": []
    },
    {
        "id": "12623d2f9eb2f4d2",
        "type": "link out",
        "z": "94466ab2e543aa2f",
        "g": "ec2f567862ba39b8",
        "name": "channel 2 triple",
        "mode": "link",
        "links": [],
        "x": 835,
        "y": 500,
        "wires": []
    },
    {
        "id": "0a529779203ff3d6",
        "type": "link out",
        "z": "94466ab2e543aa2f",
        "g": "ec2f567862ba39b8",
        "name": "channel 2 long",
        "mode": "link",
        "links": [],
        "x": 835,
        "y": 540,
        "wires": []
    },
    {
        "id": "257a3fc6c1e0caff",
        "type": "link out",
        "z": "94466ab2e543aa2f",
        "g": "ec2f567862ba39b8",
        "name": "channel 2 single + long",
        "mode": "link",
        "links": [
            "2352748556d6fb89"
        ],
        "x": 835,
        "y": 580,
        "wires": []
    },
    {
        "id": "434c2e9a25561bbe",
        "type": "link out",
        "z": "94466ab2e543aa2f",
        "g": "ec2f567862ba39b8",
        "name": "channel 2 long + single",
        "mode": "link",
        "links": [],
        "x": 835,
        "y": 620,
        "wires": []
    },
    {
        "id": "bcb591880f5b770b",
        "type": "comment",
        "z": "94466ab2e543aa2f",
        "g": "ec2f567862ba39b8",
        "name": "shelly i3 actions channel 1 is the right button channel 2 is the left button",
        "info": "[shellyi3.lan.stamx.nl](http://shellyi3.lan.stamx.nl)",
        "x": 290,
        "y": 180,
        "wires": []
    },
    {
        "id": "e74a05e1304af39d",
        "type": "api-call-service",
        "z": "94466ab2e543aa2f",
        "g": "3fb93bcbbbabba08",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "climate.set_temperature",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "climate.living_room"
        ],
        "labelId": [],
        "data": "{\"temperature\":\"{{target_temp}}\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": true,
        "domain": "climate",
        "service": "set_temperature",
        "x": 870,
        "y": 760,
        "wires": [
            []
        ]
    },
    {
        "id": "0f11c9fe3c952101",
        "type": "comment",
        "z": "94466ab2e543aa2f",
        "g": "3fb93bcbbbabba08",
        "name": "set thermostats to 16 degree celcius when nobody is home or sleepmode has turned on",
        "info": "",
        "x": 340,
        "y": 720,
        "wires": []
    },
    {
        "id": "6803085629891ea7",
        "type": "template",
        "z": "94466ab2e543aa2f",
        "g": "3fb93bcbbbabba08",
        "name": "target temp",
        "field": "target_temp",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "16",
        "output": "str",
        "x": 670,
        "y": 760,
        "wires": [
            [
                "e74a05e1304af39d"
            ]
        ]
    },
    {
        "id": "1ddf1eb78ab3cf78",
        "type": "link in",
        "z": "94466ab2e543aa2f",
        "g": "3fb93bcbbbabba08",
        "name": "set away temperature tado thermostats",
        "links": [
            "e6b9ff42fde3ea4e"
        ],
        "x": 545,
        "y": 800,
        "wires": [
            [
                "6803085629891ea7"
            ]
        ]
    },
    {
        "id": "c70694fda8b31d8a",
        "type": "subflow:9ea6eabfb34d96e0",
        "z": "94466ab2e543aa2f",
        "g": "3fb93bcbbbabba08",
        "name": "",
        "x": 430,
        "y": 760,
        "wires": [
            [
                "6803085629891ea7"
            ]
        ]
    },
    {
        "id": "083baee4c7ebbc54",
        "type": "server-state-changed",
        "z": "94466ab2e543aa2f",
        "g": "e164c80e56d45732",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 1,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "sensor.living_room_heating"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": true,
        "stateType": "num",
        "ifState": "",
        "ifStateType": "num",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 200,
        "y": 940,
        "wires": [
            [
                "eff6de7e08e846f7"
            ]
        ]
    },
    {
        "id": "eff6de7e08e846f7",
        "type": "switch",
        "z": "94466ab2e543aa2f",
        "g": "e164c80e56d45732",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            },
            {
                "t": "gte",
                "v": "1",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 430,
        "y": 940,
        "wires": [
            [
                "b543e6f17b4d4a1b"
            ],
            [
                "0229302b9d68cb4e"
            ]
        ]
    },
    {
        "id": "0229302b9d68cb4e",
        "type": "link out",
        "z": "94466ab2e543aa2f",
        "g": "e164c80e56d45732",
        "name": "heating power >= 1 (on)",
        "mode": "link",
        "links": [
            "c3a4b207319d8610"
        ],
        "x": 535,
        "y": 980,
        "wires": []
    },
    {
        "id": "b543e6f17b4d4a1b",
        "type": "link out",
        "z": "94466ab2e543aa2f",
        "g": "e164c80e56d45732",
        "name": "heating power = 0 (off)",
        "mode": "link",
        "links": [
            "765822175b8ceb64"
        ],
        "x": 535,
        "y": 940,
        "wires": []
    },
    {
        "id": "a468e8e3b92bbb22",
        "type": "comment",
        "z": "94466ab2e543aa2f",
        "g": "e164c80e56d45732",
        "name": "turn on or off cv boiler heating when heating power state change",
        "info": "",
        "x": 270,
        "y": 900,
        "wires": []
    },
    {
        "id": "2127f9679d74bffa",
        "type": "api-call-service",
        "z": "94466ab2e543aa2f",
        "d": true,
        "g": "ebd96689a07f730e",
        "name": "turn on light christmas tree",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "light.christmas_tree"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "light",
        "service": "turn_on",
        "x": 760,
        "y": 1820,
        "wires": [
            []
        ]
    },
    {
        "id": "d244c71c8ebb21ec",
        "type": "api-current-state",
        "z": "94466ab2e543aa2f",
        "d": true,
        "g": "ebd96689a07f730e",
        "name": "state christmas tree light off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "light.christmas_tree",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 500,
        "y": 1820,
        "wires": [
            [
                "2127f9679d74bffa"
            ],
            []
        ]
    },
    {
        "id": "00d86418429f8cbc",
        "type": "subflow:ad57f56dd92dd9d6",
        "z": "94466ab2e543aa2f",
        "g": "ebd96689a07f730e",
        "name": "",
        "x": 190,
        "y": 1820,
        "wires": [
            [
                "d244c71c8ebb21ec"
            ],
            [],
            [],
            [],
            []
        ]
    },
    {
        "id": "bf14ecf8f5bb3f7e",
        "type": "comment",
        "z": "94466ab2e543aa2f",
        "g": "ebd96689a07f730e",
        "name": "turn on or off christmas tree light",
        "info": "",
        "x": 190,
        "y": 1720,
        "wires": []
    },
    {
        "id": "7b5673b20cc32ea8",
        "type": "api-current-state",
        "z": "94466ab2e543aa2f",
        "d": true,
        "g": "ebd96689a07f730e",
        "name": "state christmas tree light on",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "light.christmas_tree",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 500,
        "y": 1780,
        "wires": [
            [
                "74a8772920457cd4"
            ],
            []
        ]
    },
    {
        "id": "74a8772920457cd4",
        "type": "api-call-service",
        "z": "94466ab2e543aa2f",
        "d": true,
        "g": "ebd96689a07f730e",
        "name": "turn off light christmas tree",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "light.christmas_tree"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "light",
        "service": "turn_off",
        "x": 760,
        "y": 1780,
        "wires": [
            []
        ]
    },
    {
        "id": "321f94ddeb0d231e",
        "type": "link in",
        "z": "94466ab2e543aa2f",
        "g": "ebd96689a07f730e",
        "name": "toggle christmas tree light",
        "links": [
            "2d71a81ca51a22dc"
        ],
        "x": 315,
        "y": 1760,
        "wires": [
            [
                "d244c71c8ebb21ec",
                "7b5673b20cc32ea8"
            ]
        ]
    },
    {
        "id": "1c9555d76592af83",
        "type": "api-call-service",
        "z": "94466ab2e543aa2f",
        "g": "a2cb8e43bd2538c0",
        "name": "light turn on 22 pct brightness",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "light.shellydimmer_living_room"
        ],
        "labelId": [],
        "data": "{\"brightness_pct\":22}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": true,
        "domain": "light",
        "service": "turn_on",
        "x": 1380,
        "y": 1980,
        "wires": [
            []
        ]
    },
    {
        "id": "1cc104eb3c21317e",
        "type": "api-current-state",
        "z": "94466ab2e543aa2f",
        "g": "a2cb8e43bd2538c0",
        "name": "sleepmode is off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.sleep_mode",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 710,
        "y": 1980,
        "wires": [
            [
                "b7171475ccc7e603"
            ],
            []
        ]
    },
    {
        "id": "7b0e600c08b2a818",
        "type": "comment",
        "z": "94466ab2e543aa2f",
        "g": "a2cb8e43bd2538c0",
        "name": "turn on living room lights when it is dark outside and the tv is on",
        "info": "",
        "x": 290,
        "y": 1940,
        "wires": []
    },
    {
        "id": "4304bcd236041ea3",
        "type": "inject",
        "z": "94466ab2e543aa2f",
        "g": "fc8d50709b443310",
        "name": "daily 06:15",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "15 06 * * *",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "on",
        "payloadType": "str",
        "x": 130,
        "y": 1120,
        "wires": [
            [
                "0997fbf22873b143"
            ]
        ]
    },
    {
        "id": "3d5d61c5d4f51138",
        "type": "comment",
        "z": "94466ab2e543aa2f",
        "g": "fc8d50709b443310",
        "name": "set default volume level of the wall tablet at 06:15",
        "info": "",
        "x": 220,
        "y": 1080,
        "wires": []
    },
    {
        "id": "0997fbf22873b143",
        "type": "api-call-service",
        "z": "94466ab2e543aa2f",
        "g": "fc8d50709b443310",
        "name": "set volume level wall tablet",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "media_player.volume_set",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "media_player.galaxy_tab_a8"
        ],
        "labelId": [],
        "data": "{\"volume_level\":0.75}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": true,
        "domain": "media_player",
        "service": "volume_set",
        "x": 340,
        "y": 1120,
        "wires": [
            []
        ]
    },
    {
        "id": "dd157891d647b031",
        "type": "comment",
        "z": "94466ab2e543aa2f",
        "g": "5f2ad5af5a457a7f",
        "name": "turn wall tablet screen on ",
        "info": "",
        "x": 150,
        "y": 1220,
        "wires": []
    },
    {
        "id": "6876d349911cfb92",
        "type": "subflow:ad57f56dd92dd9d6",
        "z": "94466ab2e543aa2f",
        "g": "5f2ad5af5a457a7f",
        "name": "",
        "x": 170,
        "y": 1280,
        "wires": [
            [
                "e54c75524f86d1e2"
            ],
            [],
            [],
            [
                "e54c75524f86d1e2"
            ],
            [
                "e54c75524f86d1e2"
            ]
        ]
    },
    {
        "id": "bd841cbf320510d2",
        "type": "link in",
        "z": "94466ab2e543aa2f",
        "g": "5f2ad5af5a457a7f",
        "name": "turn on wall tablet screen",
        "links": [
            "3bafb9626527259f",
            "578f9487e5b636d9",
            "8eeed77d329cda19",
            "e6b9ff42fde3ea4e",
            "598c87450fe46556",
            "3126533b3e0ad552",
            "df677727bba187cf"
        ],
        "x": 285,
        "y": 1380,
        "wires": [
            [
                "e54c75524f86d1e2"
            ]
        ]
    },
    {
        "id": "f27f06b74e5f3830",
        "type": "link in",
        "z": "94466ab2e543aa2f",
        "g": "7ca4c50fed9d5e2f",
        "name": "scene_load_start_url_galaxy_tab_a8",
        "links": [
            "c7889bf53b45acd0"
        ],
        "x": 245,
        "y": 1540,
        "wires": [
            [
                "13fdf8af8b362196"
            ]
        ]
    },
    {
        "id": "13fdf8af8b362196",
        "type": "api-current-state",
        "z": "94466ab2e543aa2f",
        "g": "7ca4c50fed9d5e2f",
        "name": "current galaxy tab a8 kiosk url",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 1,
        "halt_if": "",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "sensor.galaxy_tab_a8_current_page",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 410,
        "y": 1540,
        "wires": [
            [
                "0ac90869fbbde856"
            ]
        ]
    },
    {
        "id": "0ac90869fbbde856",
        "type": "switch",
        "z": "94466ab2e543aa2f",
        "g": "7ca4c50fed9d5e2f",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "cont",
                "v": "music-assistant",
                "vt": "str"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 610,
        "y": 1540,
        "wires": [
            [
                "30dcae507fef5930"
            ],
            [
                "3247c995547acec0"
            ]
        ]
    },
    {
        "id": "3247c995547acec0",
        "type": "api-call-service",
        "z": "94466ab2e543aa2f",
        "g": "7ca4c50fed9d5e2f",
        "name": "load music-assistant url",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "fully_kiosk.load_url",
        "floorId": [],
        "areaId": [],
        "deviceId": [
            "36fbed78e4e0f51c87776ebf7e560850"
        ],
        "entityId": [],
        "labelId": [],
        "data": "{\"url\":\"https://music-assistant.lan.stamx.nl\"}",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": true,
        "domain": "fully_kiosk",
        "service": "load_url",
        "x": 810,
        "y": 1600,
        "wires": [
            []
        ]
    },
    {
        "id": "30dcae507fef5930",
        "type": "api-call-service",
        "z": "94466ab2e543aa2f",
        "g": "7ca4c50fed9d5e2f",
        "name": "load start url galaxy tab a8",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "button.press",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "button.galaxy_tab_a8_load_start_url"
        ],
        "labelId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": true,
        "domain": "button",
        "service": "press",
        "x": 820,
        "y": 1540,
        "wires": [
            []
        ]
    },
    {
        "id": "a2a543d32872ce0d",
        "type": "comment",
        "z": "94466ab2e543aa2f",
        "g": "7ca4c50fed9d5e2f",
        "name": "toggle url in kiosk browser on wall tablet",
        "info": "",
        "x": 190,
        "y": 1500,
        "wires": []
    },
    {
        "id": "13cf75d97fbf793b",
        "type": "link in",
        "z": "94466ab2e543aa2f",
        "g": "a2cb8e43bd2538c0",
        "name": "turn on living room lights",
        "links": [
            "4a93ba39b988072a"
        ],
        "x": 305,
        "y": 1980,
        "wires": [
            [
                "9d3440869e61a51f"
            ]
        ]
    },
    {
        "id": "a47145bc0ca39416",
        "type": "subflow:ad57f56dd92dd9d6",
        "z": "94466ab2e543aa2f",
        "g": "a2cb8e43bd2538c0",
        "name": "",
        "x": 190,
        "y": 2100,
        "wires": [
            [
                "65c1beb3af49864c"
            ],
            [],
            [],
            [],
            []
        ]
    },
    {
        "id": "b7171475ccc7e603",
        "type": "api-current-state",
        "z": "94466ab2e543aa2f",
        "g": "a2cb8e43bd2538c0",
        "name": "daylight is off (dark)",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "binary_sensor.outdoor_daylight",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 910,
        "y": 1980,
        "wires": [
            [
                "14e7742560be87fb"
            ],
            []
        ]
    },
    {
        "id": "a8797e5acf899cbf",
        "type": "comment",
        "z": "94466ab2e543aa2f",
        "g": "97cc1a527f72ed4e",
        "name": "turn off living room lights when sleepmode turns on or the house is unoccupied",
        "info": "",
        "x": 330,
        "y": 2220,
        "wires": []
    },
    {
        "id": "4c4dc018f2002187",
        "type": "subflow:9ea6eabfb34d96e0",
        "z": "94466ab2e543aa2f",
        "g": "97cc1a527f72ed4e",
        "name": "",
        "x": 190,
        "y": 2260,
        "wires": [
            [
                "6c8db471867be131"
            ]
        ]
    },
    {
        "id": "6c8db471867be131",
        "type": "api-call-service",
        "z": "94466ab2e543aa2f",
        "g": "97cc1a527f72ed4e",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.turn_off",
        "floorId": [],
        "areaId": [
            "living_room"
        ],
        "deviceId": [],
        "entityId": [],
        "labelId": [],
        "data": "{\"transition\":5000}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": true,
        "domain": "light",
        "service": "turn_off",
        "x": 410,
        "y": 2260,
        "wires": [
            []
        ]
    },
    {
        "id": "0d887755bfdcf551",
        "type": "link in",
        "z": "94466ab2e543aa2f",
        "g": "97cc1a527f72ed4e",
        "name": "turn off living room lights",
        "links": [
            "e6b9ff42fde3ea4e"
        ],
        "x": 305,
        "y": 2300,
        "wires": [
            [
                "6c8db471867be131"
            ]
        ]
    },
    {
        "id": "e54c75524f86d1e2",
        "type": "delay",
        "z": "94466ab2e543aa2f",
        "g": "5f2ad5af5a457a7f",
        "name": "",
        "pauseType": "rate",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "10",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": true,
        "allowrate": false,
        "outputs": 1,
        "x": 460,
        "y": 1280,
        "wires": [
            [
                "5bf331b82522798e"
            ]
        ]
    },
    {
        "id": "5bf331b82522798e",
        "type": "api-call-service",
        "z": "94466ab2e543aa2f",
        "g": "5f2ad5af5a457a7f",
        "name": "turn on wall tablet screen",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "switch.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "switch.galaxy_tab_a8_screen"
        ],
        "labelId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "switch",
        "service": "turn_on",
        "x": 670,
        "y": 1280,
        "wires": [
            []
        ]
    },
    {
        "id": "9d3440869e61a51f",
        "type": "api-current-state",
        "z": "94466ab2e543aa2f",
        "g": "a2cb8e43bd2538c0",
        "name": "input select activity is tv",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "TV",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_select.entertainment_activity",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 490,
        "y": 1980,
        "wires": [
            [
                "1cc104eb3c21317e"
            ],
            []
        ]
    },
    {
        "id": "14e7742560be87fb",
        "type": "api-current-state",
        "z": "94466ab2e543aa2f",
        "g": "a2cb8e43bd2538c0",
        "name": "living room light is off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "light.shellydimmer_living_room",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 1130,
        "y": 1980,
        "wires": [
            [
                "1c9555d76592af83"
            ],
            []
        ]
    },
    {
        "id": "4b8679c14972be23",
        "type": "comment",
        "z": "94466ab2e543aa2f",
        "g": "a2cb8e43bd2538c0",
        "name": "turn on living room lights when house is getting ocuppied and light is off",
        "info": "",
        "x": 310,
        "y": 2040,
        "wires": []
    },
    {
        "id": "5430d71930b64448",
        "type": "delay",
        "z": "94466ab2e543aa2f",
        "g": "394e0231a1e3d873",
        "name": "random delay",
        "pauseType": "random",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "2",
        "randomLast": "20",
        "randomUnits": "minutes",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 920,
        "y": 2440,
        "wires": [
            [
                "113b4aa51efc55a3"
            ]
        ]
    },
    {
        "id": "fded5d70d3c53f4f",
        "type": "api-call-service",
        "z": "94466ab2e543aa2f",
        "g": "394e0231a1e3d873",
        "name": "turn on light",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "{{payload.entity_id}}"
        ],
        "labelId": [],
        "data": "{\"brightness_pct\":\"{{dimlevel}}\",\"transition\":5000}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "light",
        "service": "turn_on",
        "x": 670,
        "y": 2440,
        "wires": [
            [
                "5430d71930b64448"
            ]
        ]
    },
    {
        "id": "113b4aa51efc55a3",
        "type": "api-call-service",
        "z": "94466ab2e543aa2f",
        "g": "394e0231a1e3d873",
        "name": "turn off light",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "{{payload.entity_id}}"
        ],
        "labelId": [],
        "data": "{\"transition\":5000}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "light",
        "service": "turn_off",
        "x": 1090,
        "y": 2440,
        "wires": [
            []
        ]
    },
    {
        "id": "b3faeb3c1fda8af0",
        "type": "ha-get-entities",
        "z": "94466ab2e543aa2f",
        "g": "394e0231a1e3d873",
        "name": "pick a random light that is off",
        "server": "4ba92433.2478cc",
        "version": 1,
        "rules": [
            {
                "condition": "state_object",
                "property": "entity_id",
                "logic": "starts_with",
                "value": "light.",
                "valueType": "str"
            },
            {
                "condition": "state_object",
                "property": "state",
                "logic": "is",
                "value": "off",
                "valueType": "str"
            },
            {
                "condition": "area_registry",
                "property": "area_id",
                "logic": "is",
                "value": "living_room",
                "valueType": "str"
            }
        ],
        "outputType": "random",
        "outputEmptyResults": false,
        "outputLocationType": "msg",
        "outputLocation": "payload",
        "outputResultsCount": 1,
        "x": 460,
        "y": 2440,
        "wires": [
            [
                "fded5d70d3c53f4f"
            ]
        ]
    },
    {
        "id": "50300c7b5295e417",
        "type": "link in",
        "z": "94466ab2e543aa2f",
        "g": "394e0231a1e3d873",
        "name": "pick a random light for vacation simulation",
        "links": [
            "e8424879dc4b6a54"
        ],
        "x": 305,
        "y": 2440,
        "wires": [
            [
                "b3faeb3c1fda8af0"
            ]
        ]
    },
    {
        "id": "5f1e344a10e50e14",
        "type": "comment",
        "z": "94466ab2e543aa2f",
        "g": "394e0231a1e3d873",
        "name": "turn on a random light that was off and turn it randomly off",
        "info": "",
        "x": 270,
        "y": 2400,
        "wires": []
    },
    {
        "id": "5083713d92884af5",
        "type": "comment",
        "z": "b789af61b07fd59c",
        "name": "automation for the bathroom fan",
        "info": "",
        "x": 150,
        "y": 140,
        "wires": []
    },
    {
        "id": "20d250abf978875d",
        "type": "function",
        "z": "b789af61b07fd59c",
        "name": "new value minus old value",
        "func": "msg.payload = msg.data.new_state.state - msg.data.old_state.state\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 680,
        "y": 180,
        "wires": [
            [
                "c10f9a1337eae308"
            ]
        ]
    },
    {
        "id": "c10f9a1337eae308",
        "type": "switch",
        "z": "b789af61b07fd59c",
        "name": "difference more than x",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "gte",
                "v": "4",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 920,
        "y": 180,
        "wires": [
            [
                "ea45996befe2ce2f"
            ]
        ]
    },
    {
        "id": "6f96ea795821bb8c",
        "type": "change",
        "z": "b789af61b07fd59c",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "old_state_humidity",
                "pt": "flow",
                "to": "data.old_state.state",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1600,
        "y": 240,
        "wires": [
            []
        ]
    },
    {
        "id": "51a08433e179053d",
        "type": "comment",
        "z": "b789af61b07fd59c",
        "name": "turn off the bathroom fan when the old humidity value is reached",
        "info": "",
        "x": 790,
        "y": 380,
        "wires": []
    },
    {
        "id": "8264e80bac391a9f",
        "type": "comment",
        "z": "b789af61b07fd59c",
        "name": "turn off the bathroom fan after x minutes",
        "info": "",
        "x": 710,
        "y": 280,
        "wires": []
    },
    {
        "id": "5ca94e44c50beb93",
        "type": "switch",
        "z": "b789af61b07fd59c",
        "name": "old value >= new value",
        "property": "old_state_humidity",
        "propertyType": "flow",
        "rules": [
            {
                "t": "gte",
                "v": "data.new_state.state",
                "vt": "msg"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 660,
        "y": 420,
        "wires": [
            [
                "c23b685b2cf96cfa"
            ]
        ]
    },
    {
        "id": "c23b685b2cf96cfa",
        "type": "switch",
        "z": "b789af61b07fd59c",
        "name": "humidity is below 70%",
        "property": "data.new_state.state",
        "propertyType": "msg",
        "rules": [
            {
                "t": "lt",
                "v": "70",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 880,
        "y": 420,
        "wires": [
            [
                "ad857eb6de4b8534"
            ]
        ]
    },
    {
        "id": "fde5ddc2314e8af1",
        "type": "template",
        "z": "b789af61b07fd59c",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "De badkamerventilator is uitgeschakeld, na 120 minuten is de oude luchtvochtigheid van voor het douchen niet bereikt maar is wel gezakt onder de 65%. De luchtvochtigheid is {{state.state}}%.",
        "output": "str",
        "x": 1120,
        "y": 320,
        "wires": [
            [
                "aebb66d797591caa"
            ]
        ]
    },
    {
        "id": "ad857eb6de4b8534",
        "type": "template",
        "z": "b789af61b07fd59c",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "De badkamerventilator is uitgeschakeld, de luchtvochtigheid heeft de oude waarde ({{data.new_state.state}}%) van voor het douchen bereikt.",
        "output": "str",
        "x": 1120,
        "y": 420,
        "wires": [
            [
                "aebb66d797591caa"
            ]
        ]
    },
    {
        "id": "a2c935f4fd902fbe",
        "type": "template",
        "z": "b789af61b07fd59c",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "De badkamer ventilatie is ingeschakeld, de luchtvochtigheid is gestegen van {{data.old_state.state}}% naar {{data.new_state.state}}%.",
        "output": "str",
        "x": 1760,
        "y": 180,
        "wires": [
            [
                "e778d71ea6d1e452"
            ]
        ]
    },
    {
        "id": "cf2786624a95506a",
        "type": "comment",
        "z": "b789af61b07fd59c",
        "name": "fan position frontend",
        "info": "",
        "x": 110,
        "y": 480,
        "wires": []
    },
    {
        "id": "2576dd0afe32b4d7",
        "type": "switch",
        "z": "b789af61b07fd59c",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "Aan",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "Uit",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "Autonoom",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 3,
        "x": 290,
        "y": 520,
        "wires": [
            [
                "2c2c7fe0a602bfcb"
            ],
            [
                "2d9a50d284fa7deb"
            ],
            [
                "9627fb96db58a338"
            ]
        ]
    },
    {
        "id": "40ea77755cde65a6",
        "type": "api-call-service",
        "z": "b789af61b07fd59c",
        "name": "turn on bathroom fan",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "switch.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "switch.shelly1pm_bathroom_fan_switch_0"
        ],
        "labelId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "switch",
        "service": "turn_on",
        "x": 1580,
        "y": 180,
        "wires": [
            [
                "a2c935f4fd902fbe",
                "5da9fc1c3df25314"
            ]
        ]
    },
    {
        "id": "689a68918e7abd68",
        "type": "api-call-service",
        "z": "b789af61b07fd59c",
        "name": "turn off bathroom fan",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "switch.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "switch.shelly1pm_bathroom_fan_switch_0"
        ],
        "labelId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "switch",
        "service": "turn_off",
        "x": 1580,
        "y": 360,
        "wires": [
            [
                "e778d71ea6d1e452"
            ]
        ]
    },
    {
        "id": "37a07f7bf4f0682a",
        "type": "api-call-service",
        "z": "b789af61b07fd59c",
        "name": "turn on fan",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "fan.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "fan.shelly1pm_bathroom_fan_switch_0"
        ],
        "labelId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "fan",
        "service": "turn_on",
        "x": 730,
        "y": 520,
        "wires": [
            []
        ]
    },
    {
        "id": "2c2c7fe0a602bfcb",
        "type": "api-call-service",
        "z": "b789af61b07fd59c",
        "name": "turn off fan autonomous",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "input_boolean.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_boolean.mechanical_ventilation_bathroom_autonomous"
        ],
        "labelId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "input_boolean",
        "service": "turn_off",
        "x": 490,
        "y": 520,
        "wires": [
            [
                "37a07f7bf4f0682a"
            ]
        ]
    },
    {
        "id": "a12cef4a38fcbbee",
        "type": "api-call-service",
        "z": "b789af61b07fd59c",
        "name": "turn off fan",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "fan.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "fan.shelly1pm_bathroom_fan_switch_0"
        ],
        "labelId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "fan",
        "service": "turn_off",
        "x": 730,
        "y": 580,
        "wires": [
            []
        ]
    },
    {
        "id": "2d9a50d284fa7deb",
        "type": "api-call-service",
        "z": "b789af61b07fd59c",
        "name": "turn off fan autonomous",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "input_boolean.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_boolean.mechanical_ventilation_bathroom_autonomous"
        ],
        "labelId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "input_boolean",
        "service": "turn_off",
        "x": 490,
        "y": 580,
        "wires": [
            [
                "a12cef4a38fcbbee"
            ]
        ]
    },
    {
        "id": "9627fb96db58a338",
        "type": "api-call-service",
        "z": "b789af61b07fd59c",
        "name": "turn on fan autonomous",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "input_boolean.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_boolean.mechanical_ventilation_bathroom_autonomous"
        ],
        "labelId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "input_boolean",
        "service": "turn_on",
        "x": 490,
        "y": 640,
        "wires": [
            [
                "a12cef4a38fcbbee"
            ]
        ]
    },
    {
        "id": "ea45996befe2ce2f",
        "type": "api-current-state",
        "z": "b789af61b07fd59c",
        "name": "bathroom fan is not on",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is_not",
        "entity_id": "switch.shelly1pm_bathroom_fan_switch_0",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 1340,
        "y": 180,
        "wires": [
            [
                "40ea77755cde65a6",
                "6f96ea795821bb8c"
            ],
            []
        ]
    },
    {
        "id": "aebb66d797591caa",
        "type": "api-current-state",
        "z": "b789af61b07fd59c",
        "name": "bathroom fan is not off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is_not",
        "entity_id": "switch.shelly1pm_bathroom_fan_switch_0",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 1340,
        "y": 360,
        "wires": [
            [
                "689a68918e7abd68"
            ],
            []
        ]
    },
    {
        "id": "c628400690c72f1b",
        "type": "api-current-state",
        "z": "b789af61b07fd59c",
        "name": "bathroom fan autonomous is on",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.mechanical_ventilation_bathroom_autonomous",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 350,
        "y": 180,
        "wires": [
            [
                "20d250abf978875d",
                "5ca94e44c50beb93"
            ],
            []
        ]
    },
    {
        "id": "2c3743d064c9c121",
        "type": "server-state-changed",
        "z": "b789af61b07fd59c",
        "name": "bathroom humidity",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 1,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "sensor.bathroom_sensors_humidity"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": true,
        "stateType": "str",
        "ifState": "",
        "ifStateType": "num",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 110,
        "y": 180,
        "wires": [
            [
                "c628400690c72f1b"
            ]
        ]
    },
    {
        "id": "85a7fb7e752e934f",
        "type": "server-state-changed",
        "z": "b789af61b07fd59c",
        "name": "input select fan position",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 1,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "input_select.mechanical_ventilation_bathroom_position"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": false,
        "stateType": "str",
        "ifState": "",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 120,
        "y": 520,
        "wires": [
            [
                "2576dd0afe32b4d7"
            ]
        ]
    },
    {
        "id": "380d6c499a997119",
        "type": "ha-wait-until",
        "z": "b789af61b07fd59c",
        "name": "wait until humidity is below 65%",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "entities": {
            "entity": [
                "sensor.bathroom_sensors_humidity"
            ],
            "substring": [],
            "regex": []
        },
        "property": "state",
        "comparator": "lt",
        "value": "65",
        "valueType": "num",
        "timeout": "2",
        "timeoutType": "num",
        "timeoutUnits": "hours",
        "checkCurrentState": true,
        "blockInputOverrides": true,
        "outputProperties": [
            {
                "property": "state",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "entityLocation": "data",
        "entityLocationType": "none",
        "x": 910,
        "y": 320,
        "wires": [
            [
                "fde5ddc2314e8af1"
            ],
            [
                "c69f3809062f5c13"
            ]
        ]
    },
    {
        "id": "5da9fc1c3df25314",
        "type": "api-call-service",
        "z": "b789af61b07fd59c",
        "name": "start timer",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "timer.start",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "timer.bathroom_mechanical_ventilation"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": true,
        "domain": "timer",
        "service": "start",
        "x": 1760,
        "y": 120,
        "wires": [
            []
        ]
    },
    {
        "id": "ddcf8348b6c8472e",
        "type": "server-events",
        "z": "b789af61b07fd59c",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 3,
        "exposeAsEntityConfig": "",
        "eventType": "timer.finished",
        "eventData": "{\"entity_id\":\"timer.bathroom_mechanical_ventilation\"}",
        "waitForRunning": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "$outputData(\"eventData\").event_type",
                "valueType": "jsonata"
            }
        ],
        "x": 660,
        "y": 320,
        "wires": [
            [
                "380d6c499a997119"
            ]
        ]
    },
    {
        "id": "33c6c50f418f4a4e",
        "type": "server-state-changed",
        "z": "b789af61b07fd59c",
        "name": "bathroom fan is off",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "fan.shelly1pm_bathroom_fan_switch_0"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": true,
        "stateType": "str",
        "ifState": "off",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 110,
        "y": 740,
        "wires": [
            [
                "a491d515c847fcd9"
            ],
            []
        ]
    },
    {
        "id": "a491d515c847fcd9",
        "type": "api-call-service",
        "z": "b789af61b07fd59c",
        "name": "stop timer",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "timer.cancel",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "timer.bathroom_mechanical_ventilation"
        ],
        "labelId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": true,
        "domain": "timer",
        "service": "cancel",
        "x": 280,
        "y": 740,
        "wires": [
            []
        ]
    },
    {
        "id": "753a58a11a72906c",
        "type": "template",
        "z": "b789af61b07fd59c",
        "g": "3ca230ff2becd832",
        "name": "icon",
        "field": "notify.icon",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "",
        "output": "str",
        "x": 1990,
        "y": 240,
        "wires": [
            [
                "6ca39787321a747a"
            ]
        ]
    },
    {
        "id": "f777d58a9431acab",
        "type": "template",
        "z": "b789af61b07fd59c",
        "g": "3ca230ff2becd832",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Ventilatie",
        "output": "str",
        "x": 1990,
        "y": 200,
        "wires": [
            [
                "6ca39787321a747a"
            ]
        ]
    },
    {
        "id": "6ca39787321a747a",
        "type": "join",
        "z": "b789af61b07fd59c",
        "g": "3ca230ff2becd832",
        "name": "",
        "mode": "custom",
        "build": "merged",
        "property": "notify",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "useparts": true,
        "accumulate": false,
        "timeout": "",
        "count": "5",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 2170,
        "y": 260,
        "wires": [
            [
                "8e10f7084a1fb496"
            ]
        ]
    },
    {
        "id": "62e6e0b8f41df173",
        "type": "template",
        "z": "b789af61b07fd59c",
        "g": "3ca230ff2becd832",
        "name": "notification id",
        "field": "notify.notification_id",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "bathroom_fan",
        "output": "str",
        "x": 2010,
        "y": 280,
        "wires": [
            [
                "6ca39787321a747a"
            ]
        ]
    },
    {
        "id": "8e10f7084a1fb496",
        "type": "link out",
        "z": "b789af61b07fd59c",
        "g": "3ca230ff2becd832",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "8ed3b0974336e55b"
        ],
        "x": 2255,
        "y": 260,
        "wires": []
    },
    {
        "id": "9ba2576829f3e51e",
        "type": "template",
        "z": "b789af61b07fd59c",
        "g": "3ca230ff2becd832",
        "name": "tag",
        "field": "notify.tag",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "mechanical_ventilation_bathroom",
        "output": "str",
        "x": 1990,
        "y": 320,
        "wires": [
            [
                "6ca39787321a747a"
            ]
        ]
    },
    {
        "id": "9056928bc0dcd9af",
        "type": "catch",
        "z": "b789af61b07fd59c",
        "g": "68a98f78122e5e71",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 60,
        "wires": [
            [
                "e71eb3bfe6e72aaa"
            ]
        ]
    },
    {
        "id": "e71eb3bfe6e72aaa",
        "type": "template",
        "z": "b789af61b07fd59c",
        "g": "68a98f78122e5e71",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 60,
        "wires": [
            [
                "1eb8a6661fe76878"
            ]
        ]
    },
    {
        "id": "653fcb40d1a25093",
        "type": "link out",
        "z": "b789af61b07fd59c",
        "g": "68a98f78122e5e71",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 675,
        "y": 60,
        "wires": []
    },
    {
        "id": "1eb8a6661fe76878",
        "type": "template",
        "z": "b789af61b07fd59c",
        "g": "68a98f78122e5e71",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 60,
        "wires": [
            [
                "c2ba99719a3d4eef"
            ]
        ]
    },
    {
        "id": "c2ba99719a3d4eef",
        "type": "function",
        "z": "b789af61b07fd59c",
        "g": "68a98f78122e5e71",
        "name": "notify.notification_id",
        "func": "msg.notify.notification_id = env.get(\"NR_FLOW_ID\");\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 550,
        "y": 60,
        "wires": [
            [
                "653fcb40d1a25093"
            ]
        ]
    },
    {
        "id": "81d19ed8c237c99c",
        "type": "comment",
        "z": "b789af61b07fd59c",
        "g": "55b8dfe8a7320db6",
        "name": "set fan to autonomous when sleepmode turned on",
        "info": "",
        "x": 230,
        "y": 840,
        "wires": []
    },
    {
        "id": "c21a54a5e245afa3",
        "type": "link in",
        "z": "b789af61b07fd59c",
        "g": "55b8dfe8a7320db6",
        "name": "set bathroom fan to autonomous",
        "links": [
            "e6b9ff42fde3ea4e"
        ],
        "x": 285,
        "y": 880,
        "wires": [
            [
                "c99f01433fb63140"
            ]
        ]
    },
    {
        "id": "c99f01433fb63140",
        "type": "api-call-service",
        "z": "b789af61b07fd59c",
        "g": "55b8dfe8a7320db6",
        "name": "turn on fan autonomous",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "input_boolean.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_boolean.mechanical_ventilation_bathroom_autonomous"
        ],
        "labelId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "input_boolean",
        "service": "turn_on",
        "x": 430,
        "y": 880,
        "wires": [
            []
        ]
    },
    {
        "id": "c40e35b36f867a24",
        "type": "delay",
        "z": "b789af61b07fd59c",
        "g": "efc093c90e8d9b40",
        "name": "random delay",
        "pauseType": "random",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "2",
        "randomLast": "20",
        "randomUnits": "minutes",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 900,
        "y": 1020,
        "wires": [
            [
                "1d4668e0de5ac3bb"
            ]
        ]
    },
    {
        "id": "6006bdd38b3e73a5",
        "type": "api-call-service",
        "z": "b789af61b07fd59c",
        "g": "efc093c90e8d9b40",
        "name": "turn on light",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "{{payload.entity_id}}"
        ],
        "labelId": [],
        "data": "{\"brightness_pct\":\"{{dimlevel}}\",\"transition\":5000}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "light",
        "service": "turn_on",
        "x": 650,
        "y": 1020,
        "wires": [
            [
                "c40e35b36f867a24"
            ]
        ]
    },
    {
        "id": "1d4668e0de5ac3bb",
        "type": "api-call-service",
        "z": "b789af61b07fd59c",
        "g": "efc093c90e8d9b40",
        "name": "turn off light",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "{{payload.entity_id}}"
        ],
        "labelId": [],
        "data": "{\"transition\":5000}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "light",
        "service": "turn_off",
        "x": 1070,
        "y": 1020,
        "wires": [
            []
        ]
    },
    {
        "id": "4b7164e2d32fae53",
        "type": "ha-get-entities",
        "z": "b789af61b07fd59c",
        "g": "efc093c90e8d9b40",
        "name": "pick a random light that is off",
        "server": "4ba92433.2478cc",
        "version": 1,
        "rules": [
            {
                "condition": "state_object",
                "property": "entity_id",
                "logic": "starts_with",
                "value": "light.",
                "valueType": "str"
            },
            {
                "condition": "state_object",
                "property": "state",
                "logic": "is",
                "value": "off",
                "valueType": "str"
            },
            {
                "condition": "area_registry",
                "property": "area_id",
                "logic": "is",
                "value": "bathroom",
                "valueType": "str"
            }
        ],
        "outputType": "random",
        "outputEmptyResults": false,
        "outputLocationType": "msg",
        "outputLocation": "payload",
        "outputResultsCount": 1,
        "x": 440,
        "y": 1020,
        "wires": [
            [
                "6006bdd38b3e73a5"
            ]
        ]
    },
    {
        "id": "616a3afaca8e38f3",
        "type": "link in",
        "z": "b789af61b07fd59c",
        "g": "efc093c90e8d9b40",
        "name": "pick a random light for vacation simulation",
        "links": [
            "573afd1fc7526fc5"
        ],
        "x": 285,
        "y": 1020,
        "wires": [
            [
                "4b7164e2d32fae53"
            ]
        ]
    },
    {
        "id": "ba96167f850bd0e5",
        "type": "comment",
        "z": "b789af61b07fd59c",
        "g": "efc093c90e8d9b40",
        "name": "turn on a random light that was off and turn it randomly off",
        "info": "",
        "x": 250,
        "y": 980,
        "wires": []
    },
    {
        "id": "c69f3809062f5c13",
        "type": "template",
        "z": "b789af61b07fd59c",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "De badkamerventilator is uitgeschakeld, na 4 uur is de oude luchtvochtigheid van voor het douchen niet bereikt en ook niet gezakt onder de 65%. De luchtvochtigheid is {{state.state}}%.",
        "output": "str",
        "x": 1120,
        "y": 360,
        "wires": [
            [
                "aebb66d797591caa"
            ]
        ]
    },
    {
        "id": "6ae82e1d8e8cdfd3",
        "type": "catch",
        "z": "be92da6a5a4a4550",
        "g": "b4a745c397f4ec50",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 60,
        "wires": [
            [
                "a0dc458416ced4dc"
            ]
        ]
    },
    {
        "id": "a0dc458416ced4dc",
        "type": "template",
        "z": "be92da6a5a4a4550",
        "g": "b4a745c397f4ec50",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 60,
        "wires": [
            [
                "74642a407960188e"
            ]
        ]
    },
    {
        "id": "ccda14a2b42b3ef8",
        "type": "link out",
        "z": "be92da6a5a4a4550",
        "g": "b4a745c397f4ec50",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 675,
        "y": 60,
        "wires": []
    },
    {
        "id": "74642a407960188e",
        "type": "template",
        "z": "be92da6a5a4a4550",
        "g": "b4a745c397f4ec50",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 60,
        "wires": [
            [
                "1a792f0ad22fac62"
            ]
        ]
    },
    {
        "id": "1a792f0ad22fac62",
        "type": "function",
        "z": "be92da6a5a4a4550",
        "g": "b4a745c397f4ec50",
        "name": "notify.notification_id",
        "func": "msg.notify.notification_id = env.get(\"NR_FLOW_ID\");\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 550,
        "y": 60,
        "wires": [
            [
                "ccda14a2b42b3ef8"
            ]
        ]
    },
    {
        "id": "0b73d8b3b42f4385",
        "type": "server-state-changed",
        "z": "be92da6a5a4a4550",
        "g": "3ea4060fc2b3fa5d",
        "name": "backdoor is open",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "binary_sensor.backdoor"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": false,
        "stateType": "str",
        "ifState": "on",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": false,
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            }
        ],
        "x": 120,
        "y": 360,
        "wires": [
            [
                "598c87450fe46556"
            ],
            []
        ]
    },
    {
        "id": "a4f11cd63b9d1c1c",
        "type": "comment",
        "z": "be92da6a5a4a4550",
        "g": "3ea4060fc2b3fa5d",
        "name": "trigger from backdoor",
        "info": "",
        "x": 140,
        "y": 320,
        "wires": []
    },
    {
        "id": "598c87450fe46556",
        "type": "link out",
        "z": "be92da6a5a4a4550",
        "g": "3ea4060fc2b3fa5d",
        "name": "backdoor open",
        "mode": "link",
        "links": [
            "684440651deb45dc",
            "a66118ea5be1ff8c",
            "b978613dcfb6a202",
            "bd841cbf320510d2"
        ],
        "x": 255,
        "y": 360,
        "wires": []
    },
    {
        "id": "9b6c2afddf16ea91",
        "type": "server-state-changed",
        "z": "be92da6a5a4a4550",
        "g": "40ba22ed83c37e84",
        "name": "outdoor daylight is on",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "binary_sensor.outdoor_daylight"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": false,
        "stateType": "str",
        "ifState": "on",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 140,
        "y": 200,
        "wires": [
            [
                "31fda56ec62032b8"
            ],
            [
                "4a93ba39b988072a"
            ]
        ]
    },
    {
        "id": "3a9bf30a0fb33784",
        "type": "comment",
        "z": "be92da6a5a4a4550",
        "g": "40ba22ed83c37e84",
        "name": "trigger from daylight entity",
        "info": "",
        "x": 150,
        "y": 160,
        "wires": []
    },
    {
        "id": "5c56266b.e63438",
        "type": "change",
        "z": "be92da6a5a4a4550",
        "g": "d543568c3cc7aa23",
        "name": "off",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "off",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1270,
        "y": 680,
        "wires": [
            [
                "714f8f70.75ec6"
            ]
        ]
    },
    {
        "id": "818ba5a9.204658",
        "type": "change",
        "z": "be92da6a5a4a4550",
        "g": "d543568c3cc7aa23",
        "name": "on",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "on",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1270,
        "y": 720,
        "wires": [
            [
                "714f8f70.75ec6"
            ]
        ]
    },
    {
        "id": "714f8f70.75ec6",
        "type": "rbe",
        "z": "be92da6a5a4a4550",
        "g": "d543568c3cc7aa23",
        "name": "",
        "func": "rbe",
        "gap": "",
        "start": "",
        "inout": "out",
        "septopics": true,
        "property": "payload",
        "topi": "topic",
        "x": 1410,
        "y": 680,
        "wires": [
            [
                "607a179b.d377f8"
            ]
        ]
    },
    {
        "id": "9970a078522f1484",
        "type": "switch",
        "z": "be92da6a5a4a4550",
        "g": "d543568c3cc7aa23",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "lte",
                "v": "2.5",
                "vt": "str"
            },
            {
                "t": "gt",
                "v": "4.5",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 330,
        "y": 700,
        "wires": [
            [
                "3392d6cf5e1cb20b"
            ],
            [
                "a378d97aa6be5e49"
            ]
        ]
    },
    {
        "id": "extract-timestamp",
        "type": "function",
        "z": "be92da6a5a4a4550",
        "g": "d543568c3cc7aa23",
        "name": "convert dusk time to epoch",
        "func": "// Your timestamp\nlet timestamp = msg.sunData.new_state.attributes.next_dusk;\n\n// Convert to a JavaScript Date object\nlet date = new Date(timestamp);\n\n// Get the epoch time in milliseconds\nlet epochTime = date.getTime();\n\n// Convert to seconds (optional)\nlet epochTimeInSeconds = Math.floor(epochTime / 1000);\n\n// Output the epoch time\nmsg.dusk_time = epochTimeInSeconds;\nreturn msg;",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 780,
        "y": 840,
        "wires": [
            [
                "eac48a5b9f81b614"
            ]
        ]
    },
    {
        "id": "delay-node",
        "type": "delay",
        "z": "be92da6a5a4a4550",
        "g": "d543568c3cc7aa23",
        "name": "delay until target time",
        "pauseType": "delayv",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 1080,
        "y": 920,
        "wires": [
            [
                "5c56266b.e63438"
            ]
        ]
    },
    {
        "id": "eac48a5b9f81b614",
        "type": "function",
        "z": "be92da6a5a4a4550",
        "g": "d543568c3cc7aa23",
        "name": "current time in epoch",
        "func": "// Get the current time as a Date object\nlet now = new Date();\n\n// Get the current epoch time in milliseconds\nlet epochTime = now.getTime();\n\n// Convert to seconds (optional)\nlet epochTimeInSeconds = Math.floor(epochTime / 1000);\n\n// Output the epoch time\nmsg.current_time = epochTimeInSeconds;\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 760,
        "y": 880,
        "wires": [
            [
                "4526454deceed49b"
            ]
        ]
    },
    {
        "id": "4526454deceed49b",
        "type": "function",
        "z": "be92da6a5a4a4550",
        "g": "d543568c3cc7aa23",
        "name": "dusk time minus current time for delay",
        "func": "let delay_seconds = msg.dusk_time - msg.current_time\nmsg.delay = delay_seconds * 1000 //Miliseconds\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 810,
        "y": 920,
        "wires": [
            [
                "delay-node"
            ]
        ]
    },
    {
        "id": "d995b37fc6ae461d",
        "type": "switch",
        "z": "be92da6a5a4a4550",
        "g": "d543568c3cc7aa23",
        "name": "above_horizon / below_horizon",
        "property": "sun",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "above_horizon",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "below_horizon",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 790,
        "y": 800,
        "wires": [
            [
                "818ba5a9.204658"
            ],
            [
                "extract-timestamp"
            ]
        ]
    },
    {
        "id": "b5382c6f0181713a",
        "type": "switch",
        "z": "be92da6a5a4a4550",
        "g": "d543568c3cc7aa23",
        "name": "unknown / unavailable",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "unknown",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "unavailable",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 520,
        "y": 800,
        "wires": [
            [
                "d995b37fc6ae461d"
            ],
            [
                "d995b37fc6ae461d"
            ]
        ]
    },
    {
        "id": "e39c63aed1fd0e02",
        "type": "comment",
        "z": "be92da6a5a4a4550",
        "g": "d543568c3cc7aa23",
        "name": "use sun as fallback",
        "info": "",
        "x": 130,
        "y": 760,
        "wires": []
    },
    {
        "id": "17f88310915585a7",
        "type": "api-current-state",
        "z": "be92da6a5a4a4550",
        "g": "d543568c3cc7aa23",
        "name": "weather station illuminance",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 1,
        "halt_if": "",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "sensor.weather_station_illuminance",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 280,
        "y": 800,
        "wires": [
            [
                "b5382c6f0181713a"
            ]
        ]
    },
    {
        "id": "49bcf8fe.de1de8",
        "type": "server-state-changed",
        "z": "be92da6a5a4a4550",
        "g": "d543568c3cc7aa23",
        "name": "illuminance weather station",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 1,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "sensor.weather_station_illuminance"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": true,
        "stateType": "num",
        "ifState": "",
        "ifStateType": "num",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": false,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": true,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 150,
        "y": 700,
        "wires": [
            [
                "9970a078522f1484"
            ]
        ]
    },
    {
        "id": "6c14527497f34f34",
        "type": "server-state-changed",
        "z": "be92da6a5a4a4550",
        "g": "d543568c3cc7aa23",
        "name": "sun",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 1,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "sun.sun"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": true,
        "stateType": "str",
        "ifState": "",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": false,
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "sun",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "sunData",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            }
        ],
        "x": 90,
        "y": 800,
        "wires": [
            [
                "17f88310915585a7"
            ]
        ]
    },
    {
        "id": "607a179b.d377f8",
        "type": "stoptimer",
        "z": "be92da6a5a4a4550",
        "g": "d543568c3cc7aa23",
        "duration": "2",
        "units": "Second",
        "payloadtype": "str",
        "payloadval": "reset",
        "name": "",
        "x": 1560,
        "y": 680,
        "wires": [
            [
                "99bd7176238143ec"
            ],
            []
        ]
    },
    {
        "id": "99bd7176238143ec",
        "type": "ha-binary-sensor",
        "z": "be92da6a5a4a4550",
        "g": "d543568c3cc7aa23",
        "name": "set state daylight entity",
        "entityConfig": "5051592a.7844e8",
        "version": 0,
        "state": "payload",
        "stateType": "msg",
        "attributes": [],
        "inputOverride": "allow",
        "outputProperties": [],
        "x": 1760,
        "y": 680,
        "wires": [
            []
        ]
    },
    {
        "id": "15b291f3af638db3",
        "type": "comment",
        "z": "be92da6a5a4a4550",
        "g": "d543568c3cc7aa23",
        "name": "custom sensor light_outside determined based on the amount of illumincance from the weather station sensor",
        "info": "",
        "x": 410,
        "y": 660,
        "wires": []
    },
    {
        "id": "31fda56ec62032b8",
        "type": "link out",
        "z": "be92da6a5a4a4550",
        "g": "40ba22ed83c37e84",
        "name": "daylight is on (light)",
        "mode": "link",
        "links": [
            "72ae4172893b2bb9",
            "c43613425ba3c1da",
            "dde87eef542d7ef4",
            "250aeb21b537919a",
            "61c36fb38acb7466"
        ],
        "x": 305,
        "y": 180,
        "wires": []
    },
    {
        "id": "4a93ba39b988072a",
        "type": "link out",
        "z": "be92da6a5a4a4550",
        "g": "40ba22ed83c37e84",
        "name": "daylight is off (dark)",
        "mode": "link",
        "links": [
            "94cfa3499dc876e4",
            "961409bc2d9b8a1b",
            "13cf75d97fbf793b",
            "61c36fb38acb7466"
        ],
        "x": 305,
        "y": 220,
        "wires": []
    },
    {
        "id": "82bfbcfce5f11f0e",
        "type": "comment",
        "z": "be92da6a5a4a4550",
        "g": "59d661e86ca6893c",
        "name": "send a notification with a snapshot when a person is detected on the camera",
        "info": "",
        "x": 310,
        "y": 1060,
        "wires": []
    },
    {
        "id": "e85513dffc371372",
        "type": "api-call-service",
        "z": "be92da6a5a4a4550",
        "g": "59d661e86ca6893c",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [],
        "labelId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "notify",
        "service": "mobile_app_phone_coen",
        "x": 1180,
        "y": 1240,
        "wires": [
            []
        ]
    },
    {
        "id": "32de281a8b95e108",
        "type": "api-current-state",
        "z": "be92da6a5a4a4550",
        "g": "59d661e86ca6893c",
        "name": "anne is not home",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "not_home",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "person.anne",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 980,
        "y": 1180,
        "wires": [
            [
                "e85513dffc371372"
            ],
            []
        ]
    },
    {
        "id": "27e5eb134304a4fe",
        "type": "time-range-switch",
        "z": "be92da6a5a4a4550",
        "g": "59d661e86ca6893c",
        "name": "",
        "lat": "",
        "lon": "",
        "startTime": "08:30",
        "endTime": "17:30",
        "startOffset": 0,
        "endOffset": 0,
        "x": 800,
        "y": 1180,
        "wires": [
            [
                "32de281a8b95e108"
            ],
            []
        ]
    },
    {
        "id": "da7c6256f3b28b92",
        "type": "api-current-state",
        "z": "be92da6a5a4a4550",
        "g": "59d661e86ca6893c",
        "name": "guest mode is off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.guest",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 420,
        "y": 1120,
        "wires": [
            [
                "dcf7add8eddca3bc",
                "476a3a9380b339ab"
            ],
            []
        ]
    },
    {
        "id": "dcf7add8eddca3bc",
        "type": "api-current-state",
        "z": "be92da6a5a4a4550",
        "g": "59d661e86ca6893c",
        "name": "persons not home",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "not_home",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "group.persons",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 640,
        "y": 1120,
        "wires": [
            [
                "8d98ecd84b9c5e5e"
            ],
            []
        ]
    },
    {
        "id": "476a3a9380b339ab",
        "type": "api-current-state",
        "z": "be92da6a5a4a4550",
        "g": "59d661e86ca6893c",
        "name": "workday is on",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "binary_sensor.workday_sensor",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 630,
        "y": 1180,
        "wires": [
            [
                "27e5eb134304a4fe"
            ],
            []
        ]
    },
    {
        "id": "65c53ee626b1657c",
        "type": "api-current-state",
        "z": "be92da6a5a4a4550",
        "g": "59d661e86ca6893c",
        "name": "security is on",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.home_security",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 400,
        "y": 1240,
        "wires": [
            [
                "e85513dffc371372"
            ],
            []
        ]
    },
    {
        "id": "3e50b939a785ec1a",
        "type": "function",
        "z": "be92da6a5a4a4550",
        "g": "59d661e86ca6893c",
        "name": "create service call",
        "func": "msg.payload = {\n    \"action\": \"notify.mobile_app_phone_coen\",\n    \"data\": {\n        \"message\": \"Er is een persoon in de achtertuin gedetecteerd\",\n        \"data\": {\n            \"image\": \"https://home-assistant.stamx.nl/api/frigate/notifications/\" + msg.payload.after.id + \"/thumbnail.jpg?format=android\",\n            \"tag\": msg.payload.after.id,\n            \"when\": msg.payload.after.start_time,\n            \"clickAction\": \"/dashboard-mobile/camera\",\n            \"channel\": \"Warning\",\n            \"importance\": \"high\"\n        }\n    }\n};\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 200,
        "y": 1120,
        "wires": [
            [
                "da7c6256f3b28b92",
                "65c53ee626b1657c"
            ]
        ]
    },
    {
        "id": "9d650427959b917c",
        "type": "switch",
        "z": "be92da6a5a4a4550",
        "g": "5bdc240c2b2bc863",
        "name": "person",
        "property": "payload.after.label",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "person",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 250,
        "y": 540,
        "wires": [
            [
                "5b4f483c44f552ef"
            ]
        ]
    },
    {
        "id": "5b4f483c44f552ef",
        "type": "switch",
        "z": "be92da6a5a4a4550",
        "g": "5bdc240c2b2bc863",
        "name": "camera",
        "property": "payload.after.camera",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "backyard",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 380,
        "y": 540,
        "wires": [
            [
                "3126533b3e0ad552"
            ]
        ]
    },
    {
        "id": "8cc341bcc6d31481",
        "type": "mqtt in",
        "z": "be92da6a5a4a4550",
        "g": "5bdc240c2b2bc863",
        "name": "",
        "topic": "frigate/events",
        "qos": "2",
        "datatype": "auto-detect",
        "broker": "36dee637778341ba",
        "nl": false,
        "rap": true,
        "rh": 0,
        "inputs": 0,
        "x": 110,
        "y": 540,
        "wires": [
            [
                "9d650427959b917c"
            ]
        ]
    },
    {
        "id": "5f6ac2329e171e37",
        "type": "comment",
        "z": "be92da6a5a4a4550",
        "g": "5bdc240c2b2bc863",
        "name": "trigger person is detected on camera",
        "info": "",
        "x": 180,
        "y": 500,
        "wires": []
    },
    {
        "id": "3126533b3e0ad552",
        "type": "link out",
        "z": "be92da6a5a4a4550",
        "g": "5bdc240c2b2bc863",
        "name": "person is detected on camera",
        "mode": "link",
        "links": [
            "9e13177c030bc585",
            "bd841cbf320510d2",
            "a66118ea5be1ff8c",
            "684440651deb45dc",
            "61c36fb38acb7466"
        ],
        "x": 475,
        "y": 540,
        "wires": []
    },
    {
        "id": "9e13177c030bc585",
        "type": "link in",
        "z": "be92da6a5a4a4550",
        "g": "59d661e86ca6893c",
        "name": "send notification with person snapshot from camera",
        "links": [
            "3126533b3e0ad552"
        ],
        "x": 75,
        "y": 1120,
        "wires": [
            [
                "3e50b939a785ec1a"
            ]
        ]
    },
    {
        "id": "11d07e1ce12cf396",
        "type": "comment",
        "z": "be92da6a5a4a4550",
        "g": "06128c088dfec6f7",
        "name": "turn off the backyard lights triggerd at 06:30 and wait until it is light outside if it isn't allready",
        "info": "",
        "x": 370,
        "y": 1680,
        "wires": []
    },
    {
        "id": "53359b9775a11894",
        "type": "ha-wait-until",
        "z": "be92da6a5a4a4550",
        "g": "06128c088dfec6f7",
        "name": "wait until it is light outside",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 1,
        "entities": {
            "entity": [
                "binary_sensor.outdoor_daylight"
            ],
            "substring": [],
            "regex": []
        },
        "property": "state",
        "comparator": "is",
        "value": "on",
        "valueType": "str",
        "timeout": "0",
        "timeoutType": "num",
        "timeoutUnits": "seconds",
        "checkCurrentState": true,
        "blockInputOverrides": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "entityLocation": "data",
        "entityLocationType": "none",
        "x": 350,
        "y": 1720,
        "wires": [
            [
                "ff98fd154ff308d4"
            ]
        ]
    },
    {
        "id": "c969e321154219c2",
        "type": "inject",
        "z": "be92da6a5a4a4550",
        "g": "06128c088dfec6f7",
        "name": "daily 06:30",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "30 06 * * *",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "on",
        "payloadType": "str",
        "x": 150,
        "y": 1720,
        "wires": [
            [
                "53359b9775a11894"
            ]
        ]
    },
    {
        "id": "ff98fd154ff308d4",
        "type": "api-call-service",
        "z": "be92da6a5a4a4550",
        "g": "06128c088dfec6f7",
        "name": "turn off backyard lights",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.turn_off",
        "floorId": [],
        "areaId": [
            "backyard"
        ],
        "deviceId": [],
        "entityId": [],
        "labelId": [],
        "data": "{\"transition\":5000}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": true,
        "domain": "light",
        "service": "turn_off",
        "x": 580,
        "y": 1720,
        "wires": [
            []
        ]
    },
    {
        "id": "f7c6fa154b77f448",
        "type": "comment",
        "z": "be92da6a5a4a4550",
        "g": "a593b47760f06197",
        "name": "turn on the barn light when backyard motion sensor is on and it is dark and turn the barn light back off when motion sensor is clear",
        "info": "",
        "x": 490,
        "y": 1820,
        "wires": []
    },
    {
        "id": "0854f23ba4b218d4",
        "type": "api-current-state",
        "z": "be92da6a5a4a4550",
        "g": "a593b47760f06197",
        "name": "daylight is off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "binary_sensor.outdoor_daylight",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 530,
        "y": 1860,
        "wires": [
            [
                "7a46fd82aea23e0b"
            ],
            []
        ]
    },
    {
        "id": "8c244203c4fcc324",
        "type": "switch",
        "z": "be92da6a5a4a4550",
        "g": "a593b47760f06197",
        "name": "light status was off",
        "property": "barn_light_status",
        "propertyType": "flow",
        "rules": [
            {
                "t": "eq",
                "v": "off",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 550,
        "y": 1920,
        "wires": [
            [
                "a2ab0b36bff28352"
            ]
        ]
    },
    {
        "id": "475a7054bc21bea5",
        "type": "change",
        "z": "be92da6a5a4a4550",
        "g": "a593b47760f06197",
        "name": "delete light status",
        "rules": [
            {
                "t": "delete",
                "p": "barn_light_status",
                "pt": "flow"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 910,
        "y": 1920,
        "wires": [
            []
        ]
    },
    {
        "id": "43484d443737f795",
        "type": "server-state-changed",
        "z": "be92da6a5a4a4550",
        "g": "a593b47760f06197",
        "name": "motion backyard is on",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 1,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "binary_sensor.backyard_motion_sensor_01_motion"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": true,
        "stateType": "str",
        "ifState": "",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 160,
        "y": 1860,
        "wires": [
            [
                "e806d21eb8f08d6d"
            ]
        ]
    },
    {
        "id": "e806d21eb8f08d6d",
        "type": "switch",
        "z": "be92da6a5a4a4550",
        "g": "a593b47760f06197",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "on",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "off",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 350,
        "y": 1860,
        "wires": [
            [
                "0854f23ba4b218d4"
            ],
            [
                "8c244203c4fcc324"
            ]
        ]
    },
    {
        "id": "a72140918ec09ace",
        "type": "api-call-service",
        "z": "be92da6a5a4a4550",
        "g": "a593b47760f06197",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "light.shelly1_barn_door"
        ],
        "labelId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": true,
        "domain": "light",
        "service": "turn_on",
        "x": 870,
        "y": 1860,
        "wires": [
            []
        ]
    },
    {
        "id": "7a46fd82aea23e0b",
        "type": "api-current-state",
        "z": "be92da6a5a4a4550",
        "g": "a593b47760f06197",
        "name": "save light state",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 1,
        "halt_if": "",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "light.shelly1_barn_door",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "barn_light_status",
                "propertyType": "flow",
                "value": "",
                "valueType": "entityState"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 700,
        "y": 1860,
        "wires": [
            [
                "a72140918ec09ace"
            ]
        ]
    },
    {
        "id": "a2ab0b36bff28352",
        "type": "api-call-service",
        "z": "be92da6a5a4a4550",
        "g": "a593b47760f06197",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "light.shelly1_barn_door"
        ],
        "labelId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": true,
        "domain": "light",
        "service": "turn_off",
        "x": 730,
        "y": 1920,
        "wires": [
            [
                "475a7054bc21bea5"
            ]
        ]
    },
    {
        "id": "464f8451e6ab7032",
        "type": "comment",
        "z": "be92da6a5a4a4550",
        "g": "f0957af5d63aa2ef",
        "name": "turn on backyard lights when backdoor gets opened or closed or a person is detected on security camera",
        "info": "",
        "x": 410,
        "y": 2020,
        "wires": []
    },
    {
        "id": "a727e094b621802b",
        "type": "function",
        "z": "be92da6a5a4a4550",
        "g": "f0957af5d63aa2ef",
        "name": "store light brightness",
        "func": "var object = \"history.\" + msg.payload.entity_id + \".attributes\"\nvar brightness = object + \".brightness\"\nvar state = object + \".state\"\nflow.set(brightness, msg.payload.attributes.brightness)\nflow.set(state, msg.payload.state)\nreturn msg",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1360,
        "y": 2060,
        "wires": [
            [
                "a3ae06cea3533c9e"
            ]
        ]
    },
    {
        "id": "21b6b0650f225c58",
        "type": "split",
        "z": "be92da6a5a4a4550",
        "g": "f0957af5d63aa2ef",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "property": "payload",
        "x": 2190,
        "y": 2060,
        "wires": [
            [
                "299cb5105b54df95"
            ]
        ]
    },
    {
        "id": "ea107d7400acc08e",
        "type": "change",
        "z": "be92da6a5a4a4550",
        "g": "f0957af5d63aa2ef",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "history.light",
                "tot": "flow"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2040,
        "y": 2060,
        "wires": [
            [
                "21b6b0650f225c58"
            ]
        ]
    },
    {
        "id": "299cb5105b54df95",
        "type": "switch",
        "z": "be92da6a5a4a4550",
        "g": "f0957af5d63aa2ef",
        "name": "",
        "property": "payload.attributes.state",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "on",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "off",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 2310,
        "y": 2060,
        "wires": [
            [
                "fd7b8cd952413c94"
            ],
            [
                "9b3b7854d7fb2552"
            ]
        ]
    },
    {
        "id": "156ea82d6417f2cb",
        "type": "switch",
        "z": "be92da6a5a4a4550",
        "g": "f0957af5d63aa2ef",
        "name": "flow not active",
        "property": "backdoor_active",
        "propertyType": "flow",
        "rules": [
            {
                "t": "neq",
                "v": "true",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 800,
        "y": 2060,
        "wires": [
            [
                "6683611e217c5793"
            ]
        ]
    },
    {
        "id": "c2fe4fd0486fe8e5",
        "type": "change",
        "z": "be92da6a5a4a4550",
        "g": "f0957af5d63aa2ef",
        "name": "set flow active to false",
        "rules": [
            {
                "t": "set",
                "p": "backdoor_active",
                "pt": "flow",
                "to": "false",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2060,
        "y": 2120,
        "wires": [
            []
        ]
    },
    {
        "id": "ad5243b43c41460c",
        "type": "change",
        "z": "be92da6a5a4a4550",
        "g": "f0957af5d63aa2ef",
        "name": "set flow active to true",
        "rules": [
            {
                "t": "set",
                "p": "backdoor_active",
                "pt": "flow",
                "to": "true",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1800,
        "y": 2120,
        "wires": [
            []
        ]
    },
    {
        "id": "a3ae06cea3533c9e",
        "type": "api-call-service",
        "z": "be92da6a5a4a4550",
        "g": "f0957af5d63aa2ef",
        "name": "turn up brightness",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "{{payload.entity_id}}"
        ],
        "labelId": [],
        "data": "{\"brightness_pct\":\"65\",\"transition\":5000}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "all",
        "blockInputOverrides": false,
        "domain": "light",
        "service": "turn_on",
        "x": 1570,
        "y": 2060,
        "wires": [
            [
                "389934c4dc2f2efc",
                "ad5243b43c41460c"
            ]
        ]
    },
    {
        "id": "fd7b8cd952413c94",
        "type": "api-call-service",
        "z": "be92da6a5a4a4550",
        "g": "f0957af5d63aa2ef",
        "name": "restore light on state",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "light.{{parts.key}}"
        ],
        "labelId": [],
        "data": "{\"brightness\":\"{{payload.attributes.brightness}}\",\"transition\":5000}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "light",
        "service": "turn_on",
        "x": 2480,
        "y": 2060,
        "wires": [
            []
        ]
    },
    {
        "id": "9b3b7854d7fb2552",
        "type": "api-call-service",
        "z": "be92da6a5a4a4550",
        "g": "f0957af5d63aa2ef",
        "name": "restore light off state",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "light.{{parts.key}}"
        ],
        "labelId": [],
        "data": "{\"transition\":5000}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "light",
        "service": "turn_off",
        "x": 2480,
        "y": 2120,
        "wires": [
            []
        ]
    },
    {
        "id": "6683611e217c5793",
        "type": "api-current-state",
        "z": "be92da6a5a4a4550",
        "g": "f0957af5d63aa2ef",
        "name": "is dark outside",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "binary_sensor.outdoor_daylight",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 980,
        "y": 2060,
        "wires": [
            [
                "95707c8d48358de7",
                "9c11f087d1eed1b8"
            ],
            []
        ]
    },
    {
        "id": "9c11f087d1eed1b8",
        "type": "ha-get-entities",
        "z": "be92da6a5a4a4550",
        "g": "f0957af5d63aa2ef",
        "name": "get lights",
        "server": "4ba92433.2478cc",
        "version": 1,
        "rules": [
            {
                "property": "entity_id",
                "logic": "is",
                "value": "light.shellydimmer_backyard_string_l",
                "valueType": "str",
                "condition": "state_object"
            }
        ],
        "outputType": "split",
        "outputEmptyResults": false,
        "outputLocationType": "msg",
        "outputLocation": "payload",
        "outputResultsCount": 1,
        "x": 1160,
        "y": 2120,
        "wires": [
            [
                "a727e094b621802b"
            ]
        ]
    },
    {
        "id": "95707c8d48358de7",
        "type": "ha-get-entities",
        "z": "be92da6a5a4a4550",
        "g": "f0957af5d63aa2ef",
        "name": "get lights",
        "server": "4ba92433.2478cc",
        "version": 1,
        "rules": [
            {
                "property": "entity_id",
                "logic": "is",
                "value": "light.shellydimmer_barn_hanging_lam",
                "valueType": "str",
                "condition": "state_object"
            }
        ],
        "outputType": "split",
        "outputEmptyResults": false,
        "outputLocationType": "msg",
        "outputLocation": "payload",
        "outputResultsCount": 1,
        "x": 1160,
        "y": 2060,
        "wires": [
            [
                "a727e094b621802b"
            ]
        ]
    },
    {
        "id": "389934c4dc2f2efc",
        "type": "stoptimer",
        "z": "be92da6a5a4a4550",
        "g": "f0957af5d63aa2ef",
        "duration": "2",
        "units": "Minute",
        "payloadtype": "num",
        "payloadval": "0",
        "name": "",
        "x": 1780,
        "y": 2060,
        "wires": [
            [
                "ea107d7400acc08e",
                "c2fe4fd0486fe8e5"
            ],
            []
        ]
    },
    {
        "id": "a2584957f2e04865",
        "type": "api-current-state",
        "z": "be92da6a5a4a4550",
        "g": "f0957af5d63aa2ef",
        "name": "automation light motion backyard is on",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.automation_light_motion_backyard_enabled",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 550,
        "y": 2060,
        "wires": [
            [
                "156ea82d6417f2cb"
            ],
            []
        ]
    },
    {
        "id": "a66118ea5be1ff8c",
        "type": "link in",
        "z": "be92da6a5a4a4550",
        "g": "f0957af5d63aa2ef",
        "name": "turn on/off backyard lights dynamicly ",
        "links": [
            "3126533b3e0ad552",
            "598c87450fe46556"
        ],
        "x": 345,
        "y": 2060,
        "wires": [
            [
                "a2584957f2e04865"
            ]
        ]
    },
    {
        "id": "0a9d24a7e3ddf454",
        "type": "comment",
        "z": "be92da6a5a4a4550",
        "g": "aab1906238bddb1a",
        "name": "toggle backyard light trigger by shellyi3 button push from living room",
        "info": "",
        "x": 300,
        "y": 2220,
        "wires": []
    },
    {
        "id": "24f07e9dc4f73d1e",
        "type": "link in",
        "z": "be92da6a5a4a4550",
        "g": "aab1906238bddb1a",
        "name": "scene_light_toggle_string_backyard",
        "links": [
            "b55a1b1c2ee46b70"
        ],
        "x": 255,
        "y": 2280,
        "wires": [
            [
                "e1d97f0452ca6682"
            ]
        ]
    },
    {
        "id": "e1d97f0452ca6682",
        "type": "api-call-service",
        "z": "be92da6a5a4a4550",
        "g": "aab1906238bddb1a",
        "name": "toggle light backyard string",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.toggle",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "light.shellydimmer_backyard_string_l"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "light",
        "service": "toggle",
        "x": 420,
        "y": 2280,
        "wires": [
            []
        ]
    },
    {
        "id": "2352748556d6fb89",
        "type": "link in",
        "z": "be92da6a5a4a4550",
        "g": "4004851064bcddcd",
        "name": "scene_light_toggle_pendant_lamp_barndoor",
        "links": [
            "257a3fc6c1e0caff"
        ],
        "x": 255,
        "y": 2440,
        "wires": [
            [
                "9e6bf64138ee43fa"
            ]
        ]
    },
    {
        "id": "9e6bf64138ee43fa",
        "type": "api-call-service",
        "z": "be92da6a5a4a4550",
        "g": "4004851064bcddcd",
        "name": "toggle light pendant lamp barndoor in the backyard",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.toggle",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "light.shelly1_barn_door"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "light",
        "service": "toggle",
        "x": 490,
        "y": 2440,
        "wires": [
            []
        ]
    },
    {
        "id": "e526a056cd7494db",
        "type": "comment",
        "z": "be92da6a5a4a4550",
        "g": "4004851064bcddcd",
        "name": "toggle light pendant lamp barndoor in the backyard by shellyi3 button push from living room",
        "info": "",
        "x": 370,
        "y": 2380,
        "wires": []
    },
    {
        "id": "9c3ec377bfc2931f",
        "type": "api-call-service",
        "z": "be92da6a5a4a4550",
        "g": "085abb2595ddc9eb",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.turn_off",
        "floorId": [],
        "areaId": [
            "backyard"
        ],
        "deviceId": [],
        "entityId": [],
        "labelId": [],
        "data": "{\"transition\":5000}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": true,
        "domain": "light",
        "service": "turn_off",
        "x": 350,
        "y": 2580,
        "wires": [
            []
        ]
    },
    {
        "id": "7115d2155b40634a",
        "type": "comment",
        "z": "be92da6a5a4a4550",
        "g": "085abb2595ddc9eb",
        "name": "turn off all backyard lights when daylight is on",
        "info": "",
        "x": 230,
        "y": 2540,
        "wires": []
    },
    {
        "id": "dde87eef542d7ef4",
        "type": "link in",
        "z": "be92da6a5a4a4550",
        "g": "085abb2595ddc9eb",
        "name": "turn off all backyard lights",
        "links": [
            "31fda56ec62032b8"
        ],
        "x": 245,
        "y": 2580,
        "wires": [
            [
                "9c3ec377bfc2931f"
            ]
        ]
    },
    {
        "id": "a27132ae5fc26d23",
        "type": "api-current-state",
        "z": "be92da6a5a4a4550",
        "g": "aa5158e947d2ab5c",
        "name": "state persons home",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "home",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "group.persons",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 850,
        "y": 2720,
        "wires": [
            [
                "e637b15d3d21c45d"
            ],
            []
        ]
    },
    {
        "id": "d74218a87e76e862",
        "type": "api-current-state",
        "z": "be92da6a5a4a4550",
        "g": "aa5158e947d2ab5c",
        "name": "state guest on",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.guest",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 840,
        "y": 2780,
        "wires": [
            [
                "e637b15d3d21c45d"
            ],
            []
        ]
    },
    {
        "id": "f38fe22a1698047b",
        "type": "api-call-service",
        "z": "be92da6a5a4a4550",
        "g": "aa5158e947d2ab5c",
        "name": "backyard string light turn on 25 pct brightness",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "light.shellydimmer_backyard_string_l"
        ],
        "labelId": [],
        "data": "{\"brightness_pct\":25}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": true,
        "domain": "light",
        "service": "turn_on",
        "x": 1390,
        "y": 2720,
        "wires": [
            []
        ]
    },
    {
        "id": "7e55f50c12d97759",
        "type": "api-current-state",
        "z": "be92da6a5a4a4550",
        "g": "aa5158e947d2ab5c",
        "name": "sleepmode is off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.sleep_mode",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 440,
        "y": 2720,
        "wires": [
            [
                "719f3dd468939e86"
            ],
            []
        ]
    },
    {
        "id": "b9235e8435499db2",
        "type": "comment",
        "z": "be92da6a5a4a4550",
        "g": "aa5158e947d2ab5c",
        "name": "Turn backyard string light on when it is dark outside, sleepmode is off and a person or guest is home",
        "info": "",
        "x": 400,
        "y": 2680,
        "wires": []
    },
    {
        "id": "961409bc2d9b8a1b",
        "type": "link in",
        "z": "be92da6a5a4a4550",
        "g": "aa5158e947d2ab5c",
        "name": "turn on backyard light string",
        "links": [
            "4a93ba39b988072a"
        ],
        "x": 305,
        "y": 2720,
        "wires": [
            [
                "7e55f50c12d97759"
            ]
        ]
    },
    {
        "id": "1c957e317538e84e",
        "type": "subflow:ad57f56dd92dd9d6",
        "z": "be92da6a5a4a4550",
        "g": "aa5158e947d2ab5c",
        "name": "",
        "x": 190,
        "y": 2780,
        "wires": [
            [
                "7e55f50c12d97759"
            ],
            [],
            [],
            [],
            []
        ]
    },
    {
        "id": "719f3dd468939e86",
        "type": "api-current-state",
        "z": "be92da6a5a4a4550",
        "g": "aa5158e947d2ab5c",
        "name": "daylight is off (dark)",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "binary_sensor.outdoor_daylight",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 630,
        "y": 2720,
        "wires": [
            [
                "d74218a87e76e862",
                "a27132ae5fc26d23"
            ],
            []
        ]
    },
    {
        "id": "6d9b9920a96b0169",
        "type": "comment",
        "z": "be92da6a5a4a4550",
        "g": "8a8d75e6f669a78a",
        "name": "turn off lights when sleepmode turns on or the house is unoccupied",
        "info": "",
        "x": 300,
        "y": 2880,
        "wires": []
    },
    {
        "id": "f64399ba24b32ef4",
        "type": "subflow:9ea6eabfb34d96e0",
        "z": "be92da6a5a4a4550",
        "g": "8a8d75e6f669a78a",
        "name": "",
        "x": 190,
        "y": 2920,
        "wires": [
            [
                "44ab129f97435dd9"
            ]
        ]
    },
    {
        "id": "44ab129f97435dd9",
        "type": "api-call-service",
        "z": "be92da6a5a4a4550",
        "g": "8a8d75e6f669a78a",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.turn_off",
        "floorId": [],
        "areaId": [
            "backyard"
        ],
        "deviceId": [],
        "entityId": [],
        "labelId": [],
        "data": "{\"transition\":5000}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": true,
        "domain": "light",
        "service": "turn_off",
        "x": 410,
        "y": 2920,
        "wires": [
            []
        ]
    },
    {
        "id": "82b493917e9911f4",
        "type": "link in",
        "z": "be92da6a5a4a4550",
        "g": "8a8d75e6f669a78a",
        "name": "turn off living room lights",
        "links": [
            "e6b9ff42fde3ea4e"
        ],
        "x": 305,
        "y": 2960,
        "wires": [
            [
                "44ab129f97435dd9"
            ]
        ]
    },
    {
        "id": "e637b15d3d21c45d",
        "type": "api-current-state",
        "z": "be92da6a5a4a4550",
        "g": "aa5158e947d2ab5c",
        "name": "backyard light string is off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "light.shellydimmer_backyard_string_l",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 1090,
        "y": 2720,
        "wires": [
            [
                "f38fe22a1698047b"
            ],
            []
        ]
    },
    {
        "id": "363bfc79557494a9",
        "type": "template",
        "z": "be92da6a5a4a4550",
        "g": "b176910a3e711408",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Let op, morgen wordt de {{payload}} container opgehaald.",
        "output": "str",
        "x": 840,
        "y": 1440,
        "wires": [
            [
                "473671da38ba46a2"
            ]
        ]
    },
    {
        "id": "1c2b41acdb40d6e7",
        "type": "api-current-state",
        "z": "be92da6a5a4a4550",
        "g": "b176910a3e711408",
        "name": "state garbage tomorrow",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "Geen",
        "halt_if_type": "str",
        "halt_if_compare": "is_not",
        "entity_id": "sensor.afval_morgen",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 630,
        "y": 1440,
        "wires": [
            [
                "363bfc79557494a9"
            ],
            []
        ]
    },
    {
        "id": "be989daad7f22a86",
        "type": "api-current-state",
        "z": "be92da6a5a4a4550",
        "g": "b176910a3e711408",
        "name": "state garbage today",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "Geen",
        "halt_if_type": "str",
        "halt_if_compare": "is_not",
        "entity_id": "sensor.afval_vandaag",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 620,
        "y": 1500,
        "wires": [
            [
                "363bfc79557494a9"
            ],
            []
        ]
    },
    {
        "id": "3ed0331b7637d838",
        "type": "time-range-switch",
        "z": "be92da6a5a4a4550",
        "g": "b176910a3e711408",
        "name": "",
        "lat": "52.0434",
        "lon": "5.6773",
        "startTime": "05:00",
        "endTime": "00:00",
        "startOffset": 0,
        "endOffset": 0,
        "x": 410,
        "y": 1440,
        "wires": [
            [
                "1c2b41acdb40d6e7"
            ],
            [
                "be989daad7f22a86"
            ]
        ]
    },
    {
        "id": "cbd34de63e64797f",
        "type": "template",
        "z": "be92da6a5a4a4550",
        "g": "e1e18e258b05bc2b",
        "name": "icon",
        "field": "notify.icon",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "",
        "output": "str",
        "x": 1050,
        "y": 1440,
        "wires": [
            [
                "84662e512af252f4"
            ]
        ]
    },
    {
        "id": "56d9d2ebcfbe9269",
        "type": "template",
        "z": "be92da6a5a4a4550",
        "g": "e1e18e258b05bc2b",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Afval",
        "output": "str",
        "x": 1050,
        "y": 1400,
        "wires": [
            [
                "84662e512af252f4"
            ]
        ]
    },
    {
        "id": "e979b5648c1846fb",
        "type": "link out",
        "z": "be92da6a5a4a4550",
        "g": "e1e18e258b05bc2b",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "8ed3b0974336e55b",
            "a97f87cfab413716",
            "aeee8468f3d1b7ad",
            "c4660dc11fb0e5b8"
        ],
        "x": 1305,
        "y": 1420,
        "wires": []
    },
    {
        "id": "84662e512af252f4",
        "type": "join",
        "z": "be92da6a5a4a4550",
        "g": "e1e18e258b05bc2b",
        "name": "",
        "mode": "custom",
        "build": "merged",
        "property": "notify",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": false,
        "timeout": "",
        "count": "4",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 1210,
        "y": 1420,
        "wires": [
            [
                "e979b5648c1846fb"
            ]
        ]
    },
    {
        "id": "e094355f82570254",
        "type": "template",
        "z": "be92da6a5a4a4550",
        "g": "e1e18e258b05bc2b",
        "name": "notification id",
        "field": "notify.notification_id",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "",
        "output": "str",
        "x": 1070,
        "y": 1480,
        "wires": [
            [
                "84662e512af252f4"
            ]
        ]
    },
    {
        "id": "517ccc4fadd46551",
        "type": "link in",
        "z": "be92da6a5a4a4550",
        "g": "b176910a3e711408",
        "name": "send garbage collection container notification",
        "links": [
            "e6b9ff42fde3ea4e"
        ],
        "x": 305,
        "y": 1440,
        "wires": [
            [
                "3ed0331b7637d838"
            ]
        ]
    },
    {
        "id": "2707e8f7b4f2a241",
        "type": "comment",
        "z": "be92da6a5a4a4550",
        "g": "b176910a3e711408",
        "name": "send a garbage collection notification when collection is tomorrow trigger by sleepmode turned on",
        "info": "",
        "x": 370,
        "y": 1400,
        "wires": []
    },
    {
        "id": "fe1e8a4a99247a70",
        "type": "delay",
        "z": "be92da6a5a4a4550",
        "g": "d4032e52fcdeddaf",
        "name": "random delay",
        "pauseType": "random",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "2",
        "randomLast": "20",
        "randomUnits": "minutes",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 920,
        "y": 3100,
        "wires": [
            [
                "3ddb5c48d6d277a9"
            ]
        ]
    },
    {
        "id": "d0b07db3a4e9f4be",
        "type": "api-call-service",
        "z": "be92da6a5a4a4550",
        "g": "d4032e52fcdeddaf",
        "name": "turn on light",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "{{payload.entity_id}}"
        ],
        "labelId": [],
        "data": "{\"brightness_pct\":\"{{dimlevel}}\",\"transition\":5000}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "light",
        "service": "turn_on",
        "x": 670,
        "y": 3100,
        "wires": [
            [
                "fe1e8a4a99247a70"
            ]
        ]
    },
    {
        "id": "3ddb5c48d6d277a9",
        "type": "api-call-service",
        "z": "be92da6a5a4a4550",
        "g": "d4032e52fcdeddaf",
        "name": "turn off light",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "{{payload.entity_id}}"
        ],
        "labelId": [],
        "data": "{\"transition\":5000}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "light",
        "service": "turn_off",
        "x": 1090,
        "y": 3100,
        "wires": [
            []
        ]
    },
    {
        "id": "0eaf928a0ea7b2ab",
        "type": "ha-get-entities",
        "z": "be92da6a5a4a4550",
        "g": "d4032e52fcdeddaf",
        "name": "pick a random light that is off",
        "server": "4ba92433.2478cc",
        "version": 1,
        "rules": [
            {
                "condition": "state_object",
                "property": "entity_id",
                "logic": "starts_with",
                "value": "light.",
                "valueType": "str"
            },
            {
                "condition": "state_object",
                "property": "state",
                "logic": "is",
                "value": "off",
                "valueType": "str"
            },
            {
                "condition": "area_registry",
                "property": "area_id",
                "logic": "is",
                "value": "backyard",
                "valueType": "str"
            }
        ],
        "outputType": "random",
        "outputEmptyResults": false,
        "outputLocationType": "msg",
        "outputLocation": "payload",
        "outputResultsCount": 1,
        "x": 460,
        "y": 3100,
        "wires": [
            [
                "d0b07db3a4e9f4be"
            ]
        ]
    },
    {
        "id": "19fce404c5b90b9e",
        "type": "link in",
        "z": "be92da6a5a4a4550",
        "g": "d4032e52fcdeddaf",
        "name": "pick a random light in the backyard vacation simulation",
        "links": [
            "2d8347e89fc50722"
        ],
        "x": 305,
        "y": 3100,
        "wires": [
            [
                "0eaf928a0ea7b2ab"
            ]
        ]
    },
    {
        "id": "d8b99bf36f16da1d",
        "type": "comment",
        "z": "be92da6a5a4a4550",
        "g": "d4032e52fcdeddaf",
        "name": "turn on a random light that was off and turn it randomly off",
        "info": "",
        "x": 270,
        "y": 3060,
        "wires": []
    },
    {
        "id": "7831e77dd0529d13",
        "type": "catch",
        "z": "a0bf4bfc6f223fe1",
        "g": "adce68bda183382f",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 60,
        "wires": [
            [
                "83d9bffdc90d8024"
            ]
        ]
    },
    {
        "id": "83d9bffdc90d8024",
        "type": "template",
        "z": "a0bf4bfc6f223fe1",
        "g": "adce68bda183382f",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 60,
        "wires": [
            [
                "dc40e9ead4bb5038"
            ]
        ]
    },
    {
        "id": "d0d98b18b43870d8",
        "type": "link out",
        "z": "a0bf4bfc6f223fe1",
        "g": "adce68bda183382f",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 675,
        "y": 60,
        "wires": []
    },
    {
        "id": "dc40e9ead4bb5038",
        "type": "template",
        "z": "a0bf4bfc6f223fe1",
        "g": "adce68bda183382f",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 60,
        "wires": [
            [
                "f36ee4c6622c00cb"
            ]
        ]
    },
    {
        "id": "f36ee4c6622c00cb",
        "type": "function",
        "z": "a0bf4bfc6f223fe1",
        "g": "adce68bda183382f",
        "name": "notify.notification_id",
        "func": "msg.notify.notification_id = env.get(\"NR_FLOW_ID\");\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 550,
        "y": 60,
        "wires": [
            [
                "d0d98b18b43870d8"
            ]
        ]
    },
    {
        "id": "ff13419adeecf367",
        "type": "comment",
        "z": "a0bf4bfc6f223fe1",
        "g": "a571b45e5aa6d340",
        "name": "turn off lights when sleepmode turns on or house is onoccupied",
        "info": "",
        "x": 290,
        "y": 680,
        "wires": []
    },
    {
        "id": "39dfde482d49575a",
        "type": "api-call-service",
        "z": "a0bf4bfc6f223fe1",
        "g": "a571b45e5aa6d340",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.turn_off",
        "floorId": [],
        "areaId": [
            "small_bedroom"
        ],
        "deviceId": [],
        "entityId": [],
        "labelId": [],
        "data": "{\"transition\":5000}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "light",
        "service": "turn_off",
        "x": 410,
        "y": 720,
        "wires": [
            []
        ]
    },
    {
        "id": "abebf9f4938982e1",
        "type": "api-call-service",
        "z": "a0bf4bfc6f223fe1",
        "g": "dd34bb5e6cbcf6c2",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "climate.set_temperature",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "climate.beaus_room"
        ],
        "labelId": [],
        "data": "{\"temperature\":\"{{target_temp}}\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": true,
        "domain": "climate",
        "service": "set_temperature",
        "x": 610,
        "y": 200,
        "wires": [
            []
        ]
    },
    {
        "id": "3a0d294bfe1551ee",
        "type": "comment",
        "z": "a0bf4bfc6f223fe1",
        "g": "dd34bb5e6cbcf6c2",
        "name": "set thermostats to 16 degree celcius when nobody is home or sleepmode has turned on",
        "info": "",
        "x": 340,
        "y": 160,
        "wires": []
    },
    {
        "id": "f27beafcf76d0d51",
        "type": "template",
        "z": "a0bf4bfc6f223fe1",
        "g": "dd34bb5e6cbcf6c2",
        "name": "target temp",
        "field": "target_temp",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "16",
        "output": "str",
        "x": 410,
        "y": 200,
        "wires": [
            [
                "abebf9f4938982e1"
            ]
        ]
    },
    {
        "id": "af0e2bdd4daadbcb",
        "type": "link in",
        "z": "a0bf4bfc6f223fe1",
        "g": "dd34bb5e6cbcf6c2",
        "name": "set away temperature tado thermostats",
        "links": [
            "e6b9ff42fde3ea4e"
        ],
        "x": 285,
        "y": 240,
        "wires": [
            [
                "f27beafcf76d0d51"
            ]
        ]
    },
    {
        "id": "c118e67cdd8fe02f",
        "type": "subflow:9ea6eabfb34d96e0",
        "z": "a0bf4bfc6f223fe1",
        "g": "dd34bb5e6cbcf6c2",
        "name": "",
        "x": 170,
        "y": 200,
        "wires": [
            [
                "f27beafcf76d0d51"
            ]
        ]
    },
    {
        "id": "ef25687487229d7f",
        "type": "server-state-changed",
        "z": "a0bf4bfc6f223fe1",
        "g": "932e245aaec0bda0",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 1,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "sensor.beaus_room_heating"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": true,
        "stateType": "num",
        "ifState": "",
        "ifStateType": "num",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 210,
        "y": 380,
        "wires": [
            [
                "a91f945822c7931e"
            ]
        ]
    },
    {
        "id": "a91f945822c7931e",
        "type": "switch",
        "z": "a0bf4bfc6f223fe1",
        "g": "932e245aaec0bda0",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            },
            {
                "t": "gte",
                "v": "1",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 450,
        "y": 380,
        "wires": [
            [
                "54c6e03327c27850"
            ],
            [
                "7344814cafbbaef4"
            ]
        ]
    },
    {
        "id": "7344814cafbbaef4",
        "type": "link out",
        "z": "a0bf4bfc6f223fe1",
        "g": "932e245aaec0bda0",
        "name": "heating power >= 1 (on)",
        "mode": "link",
        "links": [
            "c3a4b207319d8610"
        ],
        "x": 555,
        "y": 420,
        "wires": []
    },
    {
        "id": "54c6e03327c27850",
        "type": "link out",
        "z": "a0bf4bfc6f223fe1",
        "g": "932e245aaec0bda0",
        "name": "heating power = 0 (off)",
        "mode": "link",
        "links": [
            "765822175b8ceb64"
        ],
        "x": 555,
        "y": 380,
        "wires": []
    },
    {
        "id": "fd865e556f43f177",
        "type": "comment",
        "z": "a0bf4bfc6f223fe1",
        "g": "932e245aaec0bda0",
        "name": "turn on or off cv boiler heating when heating power state change",
        "info": "",
        "x": 270,
        "y": 340,
        "wires": []
    },
    {
        "id": "29cf551555ac3678",
        "type": "switch",
        "z": "a0bf4bfc6f223fe1",
        "g": "21e117b68a0c2840",
        "name": "camera",
        "property": "payload.after.camera",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "baby",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 380,
        "y": 560,
        "wires": [
            [
                "9bd1e275ca1ee67b"
            ]
        ]
    },
    {
        "id": "6a9330512b21aba9",
        "type": "switch",
        "z": "a0bf4bfc6f223fe1",
        "g": "21e117b68a0c2840",
        "name": "person",
        "property": "payload.after.label",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "person",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 250,
        "y": 560,
        "wires": [
            [
                "29cf551555ac3678"
            ]
        ]
    },
    {
        "id": "0fed28adfbe2ed15",
        "type": "mqtt in",
        "z": "a0bf4bfc6f223fe1",
        "g": "21e117b68a0c2840",
        "name": "",
        "topic": "frigate/events",
        "qos": "2",
        "datatype": "auto-detect",
        "broker": "36dee637778341ba",
        "nl": false,
        "rap": true,
        "rh": 0,
        "inputs": 0,
        "x": 110,
        "y": 560,
        "wires": [
            [
                "6a9330512b21aba9"
            ]
        ]
    },
    {
        "id": "3ff35f5d78d3f75c",
        "type": "comment",
        "z": "a0bf4bfc6f223fe1",
        "g": "21e117b68a0c2840",
        "name": "person detection on camera",
        "info": "",
        "x": 160,
        "y": 520,
        "wires": []
    },
    {
        "id": "9bd1e275ca1ee67b",
        "type": "link out",
        "z": "a0bf4bfc6f223fe1",
        "g": "21e117b68a0c2840",
        "name": "person detected on camera",
        "mode": "link",
        "links": [
            "8ead7d07068c9388",
            "61c36fb38acb7466"
        ],
        "x": 475,
        "y": 560,
        "wires": []
    },
    {
        "id": "4a713c76ca8ffd14",
        "type": "link in",
        "z": "a0bf4bfc6f223fe1",
        "g": "a571b45e5aa6d340",
        "name": "turn off lights when sleepmode turns on",
        "links": [
            "e6b9ff42fde3ea4e"
        ],
        "x": 295,
        "y": 720,
        "wires": [
            [
                "39dfde482d49575a"
            ]
        ]
    },
    {
        "id": "c8bb2db6c9a7b339",
        "type": "subflow:9ea6eabfb34d96e0",
        "z": "a0bf4bfc6f223fe1",
        "g": "a571b45e5aa6d340",
        "name": "",
        "x": 190,
        "y": 760,
        "wires": [
            [
                "39dfde482d49575a"
            ]
        ]
    },
    {
        "id": "1376c8b334e205ed",
        "type": "delay",
        "z": "a0bf4bfc6f223fe1",
        "g": "def0086d54aac994",
        "name": "random delay",
        "pauseType": "random",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "2",
        "randomLast": "20",
        "randomUnits": "minutes",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 920,
        "y": 900,
        "wires": [
            [
                "2ab55a09d70bc19b"
            ]
        ]
    },
    {
        "id": "53b1bb3f88ba857d",
        "type": "api-call-service",
        "z": "a0bf4bfc6f223fe1",
        "g": "def0086d54aac994",
        "name": "turn on light",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "{{payload.entity_id}}"
        ],
        "labelId": [],
        "data": "{\"brightness_pct\":\"{{dimlevel}}\",\"transition\":5000}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "light",
        "service": "turn_on",
        "x": 670,
        "y": 900,
        "wires": [
            [
                "1376c8b334e205ed"
            ]
        ]
    },
    {
        "id": "2ab55a09d70bc19b",
        "type": "api-call-service",
        "z": "a0bf4bfc6f223fe1",
        "g": "def0086d54aac994",
        "name": "turn off light",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "{{payload.entity_id}}"
        ],
        "labelId": [],
        "data": "{\"transition\":5000}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "light",
        "service": "turn_off",
        "x": 1090,
        "y": 900,
        "wires": [
            []
        ]
    },
    {
        "id": "9c15e356fe3cbe8e",
        "type": "ha-get-entities",
        "z": "a0bf4bfc6f223fe1",
        "g": "def0086d54aac994",
        "name": "pick a random light that is off",
        "server": "4ba92433.2478cc",
        "version": 1,
        "rules": [
            {
                "condition": "state_object",
                "property": "entity_id",
                "logic": "starts_with",
                "value": "light.",
                "valueType": "str"
            },
            {
                "condition": "state_object",
                "property": "state",
                "logic": "is",
                "value": "off",
                "valueType": "str"
            },
            {
                "condition": "area_registry",
                "property": "area_id",
                "logic": "is",
                "value": "small_bedroom",
                "valueType": "str"
            }
        ],
        "outputType": "random",
        "outputEmptyResults": false,
        "outputLocationType": "msg",
        "outputLocation": "payload",
        "outputResultsCount": 1,
        "x": 460,
        "y": 900,
        "wires": [
            [
                "53b1bb3f88ba857d"
            ]
        ]
    },
    {
        "id": "3f3b0ec569d43650",
        "type": "link in",
        "z": "a0bf4bfc6f223fe1",
        "g": "def0086d54aac994",
        "name": "pick a random light for vacation simulation",
        "links": [
            "817e4e05bbd7960f"
        ],
        "x": 305,
        "y": 900,
        "wires": [
            [
                "9c15e356fe3cbe8e"
            ]
        ]
    },
    {
        "id": "9859f3ea095334b7",
        "type": "comment",
        "z": "a0bf4bfc6f223fe1",
        "g": "def0086d54aac994",
        "name": "turn on a random light that was off and turn it randomly off",
        "info": "",
        "x": 270,
        "y": 860,
        "wires": []
    },
    {
        "id": "174604fe3f8a8bcd",
        "type": "server-state-changed",
        "z": "bf279eb7eda19fd7",
        "g": "e76b862c154037a5",
        "name": "state doorbell button on",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "binary_sensor.smart_doorbell_button"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": false,
        "stateType": "str",
        "ifState": "on",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 140,
        "y": 200,
        "wires": [
            [
                "3bafb9626527259f"
            ],
            []
        ]
    },
    {
        "id": "3bafb9626527259f",
        "type": "link out",
        "z": "bf279eb7eda19fd7",
        "g": "e76b862c154037a5",
        "name": "trigger_doorbell_pressed",
        "mode": "link",
        "links": [
            "29ef6b63d1ee8e04",
            "bd841cbf320510d2",
            "06494fdc0a5d9892"
        ],
        "x": 275,
        "y": 200,
        "wires": []
    },
    {
        "id": "e91b6ee40fc46f0c",
        "type": "catch",
        "z": "bf279eb7eda19fd7",
        "g": "e4b115822136011e",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 60,
        "wires": [
            [
                "c2a1f14195c61ae1"
            ]
        ]
    },
    {
        "id": "c2a1f14195c61ae1",
        "type": "template",
        "z": "bf279eb7eda19fd7",
        "g": "e4b115822136011e",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 60,
        "wires": [
            [
                "665026f9a1c4925c"
            ]
        ]
    },
    {
        "id": "eac587a7da6b3661",
        "type": "link out",
        "z": "bf279eb7eda19fd7",
        "g": "e4b115822136011e",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 675,
        "y": 60,
        "wires": []
    },
    {
        "id": "665026f9a1c4925c",
        "type": "template",
        "z": "bf279eb7eda19fd7",
        "g": "e4b115822136011e",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 60,
        "wires": [
            [
                "8df00b3508493f2c"
            ]
        ]
    },
    {
        "id": "8df00b3508493f2c",
        "type": "function",
        "z": "bf279eb7eda19fd7",
        "g": "e4b115822136011e",
        "name": "notify.notification_id",
        "func": "msg.notify.notification_id = env.get(\"NR_FLOW_ID\");\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 550,
        "y": 60,
        "wires": [
            [
                "eac587a7da6b3661"
            ]
        ]
    },
    {
        "id": "ed0a64b393320467",
        "type": "comment",
        "z": "bf279eb7eda19fd7",
        "g": "e76b862c154037a5",
        "name": "trigger doorbell button press",
        "info": "",
        "x": 160,
        "y": 160,
        "wires": []
    },
    {
        "id": "94995c95d8594567",
        "type": "api-call-service",
        "z": "bf279eb7eda19fd7",
        "g": "4449f91efc0583a7",
        "name": "turn on doorbell active",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "switch.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "switch.smart_doorbell_active"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "switch",
        "service": "turn_on",
        "x": 660,
        "y": 620,
        "wires": [
            []
        ]
    },
    {
        "id": "36cd7ff9968a8857",
        "type": "api-current-state",
        "z": "bf279eb7eda19fd7",
        "g": "4449f91efc0583a7",
        "name": "state doorbell active is off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "switch.smart_doorbell_active",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 430,
        "y": 620,
        "wires": [
            [
                "94995c95d8594567"
            ],
            []
        ]
    },
    {
        "id": "efaf9a399a91cc6a",
        "type": "comment",
        "z": "bf279eb7eda19fd7",
        "g": "4449f91efc0583a7",
        "name": "make doorbell active",
        "info": "",
        "x": 130,
        "y": 580,
        "wires": []
    },
    {
        "id": "eac6d376f26390fe",
        "type": "subflow:9ea6eabfb34d96e0",
        "z": "bf279eb7eda19fd7",
        "g": "4449f91efc0583a7",
        "name": "",
        "x": 170,
        "y": 620,
        "wires": [
            [
                "36cd7ff9968a8857"
            ]
        ]
    },
    {
        "id": "8be71c38e670f610",
        "type": "server-state-changed",
        "z": "bf279eb7eda19fd7",
        "g": "53739d10393c26e2",
        "name": "frontdoor is open",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "binary_sensor.frontdoor"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": false,
        "stateType": "str",
        "ifState": "on",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": false,
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            }
        ],
        "x": 120,
        "y": 340,
        "wires": [
            [
                "578f9487e5b636d9"
            ],
            []
        ]
    },
    {
        "id": "b11e5a0712a8f45c",
        "type": "comment",
        "z": "bf279eb7eda19fd7",
        "g": "53739d10393c26e2",
        "name": "trigger frontdoor",
        "info": "",
        "x": 120,
        "y": 300,
        "wires": []
    },
    {
        "id": "578f9487e5b636d9",
        "type": "link out",
        "z": "bf279eb7eda19fd7",
        "g": "53739d10393c26e2",
        "name": "frontdoor open",
        "mode": "link",
        "links": [
            "684440651deb45dc",
            "b978613dcfb6a202",
            "bd841cbf320510d2",
            "c8074b72183bfa57"
        ],
        "x": 235,
        "y": 340,
        "wires": []
    },
    {
        "id": "6ab4fe8e04f4839f",
        "type": "link in",
        "z": "bf279eb7eda19fd7",
        "g": "4449f91efc0583a7",
        "name": "turn on doorbell active",
        "links": [
            "c07ca02ed810efe8",
            "e6b9ff42fde3ea4e"
        ],
        "x": 285,
        "y": 680,
        "wires": [
            [
                "36cd7ff9968a8857"
            ]
        ]
    },
    {
        "id": "0191b5a7e181f3f2",
        "type": "http request",
        "z": "bf279eb7eda19fd7",
        "g": "b8b2c52ce29b1b66",
        "name": "is-it-dark",
        "method": "POST",
        "ret": "obj",
        "paytoqs": "ignore",
        "url": "http://is-it-dark.home-automation.svc.cluster.local/analyze",
        "tls": "",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "",
        "senderr": false,
        "headers": [],
        "x": 1480,
        "y": 940,
        "wires": [
            [
                "d02b2605ae51ac23"
            ]
        ]
    },
    {
        "id": "633c48d3bee4c03a",
        "type": "function",
        "z": "bf279eb7eda19fd7",
        "g": "b8b2c52ce29b1b66",
        "name": "create json body",
        "func": "msg.body = {\n    \"url\": \"https://home-assistant.stamx.nl/api/frigate/notifications/\" + msg.payload.after.id + \"/thumbnail.jpg?format=android\"\n}\n\n\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1140,
        "y": 940,
        "wires": [
            [
                "c2a7d0ee7636ca8d"
            ]
        ]
    },
    {
        "id": "78e328d45f917a20",
        "type": "time-range-switch",
        "z": "bf279eb7eda19fd7",
        "g": "b8b2c52ce29b1b66",
        "name": "",
        "lat": "",
        "lon": "",
        "startTime": "10:30",
        "endTime": "22:00",
        "startOffset": 0,
        "endOffset": "",
        "x": 430,
        "y": 960,
        "wires": [
            [
                "ef42d8d44fa3d5e9"
            ],
            []
        ]
    },
    {
        "id": "c2a7d0ee7636ca8d",
        "type": "change",
        "z": "bf279eb7eda19fd7",
        "g": "b8b2c52ce29b1b66",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "body",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1320,
        "y": 940,
        "wires": [
            [
                "0191b5a7e181f3f2"
            ]
        ]
    },
    {
        "id": "d02b2605ae51ac23",
        "type": "switch",
        "z": "bf279eb7eda19fd7",
        "g": "b8b2c52ce29b1b66",
        "name": "",
        "property": "payload.is_infrared",
        "propertyType": "msg",
        "rules": [
            {
                "t": "true"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1610,
        "y": 940,
        "wires": [
            [
                "ee06a5486ff3cfbf"
            ]
        ]
    },
    {
        "id": "7ece915ddab6671e",
        "type": "api-current-state",
        "z": "bf279eb7eda19fd7",
        "g": "b8b2c52ce29b1b66",
        "name": "doorbell is on",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "switch.smart_doorbell_active",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 770,
        "y": 960,
        "wires": [
            [
                "f39fa236c5361da4"
            ],
            [
                "e3d6041fbd9d3e9b"
            ]
        ]
    },
    {
        "id": "6043eee441c1f146",
        "type": "http request",
        "z": "bf279eb7eda19fd7",
        "g": "b8b2c52ce29b1b66",
        "name": "is-it-dark",
        "method": "POST",
        "ret": "obj",
        "paytoqs": "ignore",
        "url": "http://is-it-dark.home-automation.svc.cluster.local/analyze",
        "tls": "",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "",
        "senderr": false,
        "headers": [],
        "x": 1480,
        "y": 1000,
        "wires": [
            [
                "7a639c0592294913"
            ]
        ]
    },
    {
        "id": "8f8e3faeb54f8394",
        "type": "function",
        "z": "bf279eb7eda19fd7",
        "g": "b8b2c52ce29b1b66",
        "name": "create json body",
        "func": "msg.body = {\n    \"url\": \"https://home-assistant.stamx.nl/api/frigate/notifications/\" + msg.payload.after.id + \"/thumbnail.jpg?format=android\"\n}\n\n\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1140,
        "y": 1000,
        "wires": [
            [
                "4e8fdb348ee3dbd1"
            ]
        ]
    },
    {
        "id": "4e8fdb348ee3dbd1",
        "type": "change",
        "z": "bf279eb7eda19fd7",
        "g": "b8b2c52ce29b1b66",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "body",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1320,
        "y": 1000,
        "wires": [
            [
                "6043eee441c1f146"
            ]
        ]
    },
    {
        "id": "7a639c0592294913",
        "type": "switch",
        "z": "bf279eb7eda19fd7",
        "g": "b8b2c52ce29b1b66",
        "name": "",
        "property": "payload.is_infrared",
        "propertyType": "msg",
        "rules": [
            {
                "t": "false"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1610,
        "y": 1000,
        "wires": [
            [
                "b025d049cb38b4d4"
            ]
        ]
    },
    {
        "id": "76568807668461a0",
        "type": "link out",
        "z": "bf279eb7eda19fd7",
        "g": "b8b2c52ce29b1b66",
        "name": "link_out_anne_is_home",
        "mode": "link",
        "links": [
            "c76d311bb4b6991b"
        ],
        "x": 2545,
        "y": 940,
        "wires": []
    },
    {
        "id": "f39fa236c5361da4",
        "type": "ha-wait-until",
        "z": "bf279eb7eda19fd7",
        "g": "b8b2c52ce29b1b66",
        "name": "wait until light is off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "entities": {
            "entity": [
                "light.shellydimmer_small_bedroom"
            ],
            "substring": [],
            "regex": []
        },
        "property": "state",
        "comparator": "is_not",
        "value": "on",
        "valueType": "str",
        "timeout": "30",
        "timeoutType": "num",
        "timeoutUnits": "minutes",
        "checkCurrentState": true,
        "blockInputOverrides": true,
        "outputProperties": [],
        "x": 950,
        "y": 940,
        "wires": [
            [
                "633c48d3bee4c03a"
            ],
            []
        ]
    },
    {
        "id": "82a4a31aec7e8bc4",
        "type": "api-current-state",
        "z": "bf279eb7eda19fd7",
        "g": "b8b2c52ce29b1b66",
        "name": "anne is home",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "home",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "person.anne",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 2420,
        "y": 940,
        "wires": [
            [
                "76568807668461a0"
            ],
            []
        ]
    },
    {
        "id": "a38691fbb41a64b9",
        "type": "link out",
        "z": "bf279eb7eda19fd7",
        "g": "b8b2c52ce29b1b66",
        "name": "link_out_coen_is_home",
        "mode": "link",
        "links": [
            "d1753081ba6b4004"
        ],
        "x": 2535,
        "y": 1240,
        "wires": []
    },
    {
        "id": "f83cd17851531b80",
        "type": "api-current-state",
        "z": "bf279eb7eda19fd7",
        "g": "b8b2c52ce29b1b66",
        "name": "coen is home",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "home",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "person.coen",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 2410,
        "y": 1240,
        "wires": [
            [
                "a38691fbb41a64b9"
            ],
            []
        ]
    },
    {
        "id": "ef42d8d44fa3d5e9",
        "type": "api-current-state",
        "z": "bf279eb7eda19fd7",
        "g": "b8b2c52ce29b1b66",
        "name": "sleepmode is off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.sleep_mode",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 600,
        "y": 960,
        "wires": [
            [
                "7ece915ddab6671e"
            ],
            []
        ]
    },
    {
        "id": "ee06a5486ff3cfbf",
        "type": "delay",
        "z": "bf279eb7eda19fd7",
        "g": "b8b2c52ce29b1b66",
        "name": "",
        "pauseType": "rate",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "hour",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": true,
        "allowrate": false,
        "outputs": 1,
        "x": 1750,
        "y": 940,
        "wires": [
            [
                "e77ba69902680e0b"
            ]
        ]
    },
    {
        "id": "b025d049cb38b4d4",
        "type": "delay",
        "z": "bf279eb7eda19fd7",
        "g": "b8b2c52ce29b1b66",
        "name": "",
        "pauseType": "rate",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "hour",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": true,
        "allowrate": false,
        "outputs": 1,
        "x": 1750,
        "y": 1000,
        "wires": [
            [
                "216dba61cca4a879"
            ]
        ]
    },
    {
        "id": "ea9e3f11186f2606",
        "type": "template",
        "z": "bf279eb7eda19fd7",
        "g": "c8891a8ac17ad37f",
        "name": "icon",
        "field": "notify.icon",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "doorbell",
        "output": "str",
        "x": 2010,
        "y": 920,
        "wires": [
            [
                "310daf51d434b8fa"
            ]
        ]
    },
    {
        "id": "dc0afdf8dedd0ac0",
        "type": "template",
        "z": "bf279eb7eda19fd7",
        "g": "c8891a8ac17ad37f",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Deurbel",
        "output": "str",
        "x": 2010,
        "y": 840,
        "wires": [
            [
                "310daf51d434b8fa"
            ]
        ]
    },
    {
        "id": "310daf51d434b8fa",
        "type": "join",
        "z": "bf279eb7eda19fd7",
        "g": "c8891a8ac17ad37f",
        "name": "",
        "mode": "custom",
        "build": "merged",
        "property": "notify",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "useparts": true,
        "accumulate": false,
        "timeout": "",
        "count": "9",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 2230,
        "y": 940,
        "wires": [
            [
                "82a4a31aec7e8bc4",
                "f83cd17851531b80"
            ]
        ]
    },
    {
        "id": "c69b61919d7e7aa6",
        "type": "change",
        "z": "bf279eb7eda19fd7",
        "g": "c8891a8ac17ad37f",
        "name": "action titles",
        "rules": [
            {
                "t": "set",
                "p": "notify.action_1_title",
                "pt": "msg",
                "to": "JA",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "notify.action_2_title",
                "pt": "msg",
                "to": "NEE",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "notify.action_1",
                "pt": "msg",
                "to": "DOORBELL_OFF",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "notify.action_2",
                "pt": "msg",
                "to": "IGNORE",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2030,
        "y": 880,
        "wires": [
            [
                "310daf51d434b8fa"
            ]
        ]
    },
    {
        "id": "440133efbc2eedaf",
        "type": "template",
        "z": "bf279eb7eda19fd7",
        "g": "c8891a8ac17ad37f",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Het lijkt er op dat Beau gaat slapen, wil je het geluid van de deurbel uitschakelen?",
        "output": "str",
        "x": 2020,
        "y": 960,
        "wires": [
            [
                "310daf51d434b8fa"
            ]
        ]
    },
    {
        "id": "df7554ad18fe6c0f",
        "type": "template",
        "z": "bf279eb7eda19fd7",
        "g": "c8891a8ac17ad37f",
        "name": "notification id",
        "field": "notify.notification_id",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "deurbel",
        "output": "str",
        "x": 2030,
        "y": 1000,
        "wires": [
            [
                "310daf51d434b8fa"
            ]
        ]
    },
    {
        "id": "4a2f429585c110e6",
        "type": "template",
        "z": "bf279eb7eda19fd7",
        "g": "c8891a8ac17ad37f",
        "name": "tag",
        "field": "notify.tag",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "deurbel",
        "output": "str",
        "x": 2010,
        "y": 1040,
        "wires": [
            [
                "310daf51d434b8fa"
            ]
        ]
    },
    {
        "id": "123e28cddf1fbf78",
        "type": "template",
        "z": "bf279eb7eda19fd7",
        "g": "cece073f3809811f",
        "name": "icon",
        "field": "notify.icon",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "doorbell",
        "output": "str",
        "x": 2010,
        "y": 1220,
        "wires": [
            [
                "a525b5caf447ba92"
            ]
        ]
    },
    {
        "id": "71cc06e8db17e49f",
        "type": "template",
        "z": "bf279eb7eda19fd7",
        "g": "cece073f3809811f",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Deurbel",
        "output": "str",
        "x": 2010,
        "y": 1140,
        "wires": [
            [
                "a525b5caf447ba92"
            ]
        ]
    },
    {
        "id": "a525b5caf447ba92",
        "type": "join",
        "z": "bf279eb7eda19fd7",
        "g": "cece073f3809811f",
        "name": "",
        "mode": "custom",
        "build": "merged",
        "property": "notify",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "useparts": true,
        "accumulate": false,
        "timeout": "",
        "count": "9",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 2230,
        "y": 1240,
        "wires": [
            [
                "82a4a31aec7e8bc4",
                "f83cd17851531b80"
            ]
        ]
    },
    {
        "id": "c1c6232e70377108",
        "type": "change",
        "z": "bf279eb7eda19fd7",
        "g": "cece073f3809811f",
        "name": "action titles",
        "rules": [
            {
                "t": "set",
                "p": "notify.action_1_title",
                "pt": "msg",
                "to": "JA",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "notify.action_2_title",
                "pt": "msg",
                "to": "NEE",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "notify.action_1",
                "pt": "msg",
                "to": "DOORBELL_ON",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "notify.action_2",
                "pt": "msg",
                "to": "IGNORE",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2030,
        "y": 1180,
        "wires": [
            [
                "a525b5caf447ba92"
            ]
        ]
    },
    {
        "id": "0a9029d0e195510e",
        "type": "template",
        "z": "bf279eb7eda19fd7",
        "g": "cece073f3809811f",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Het lijkt er op dat Beau wakker is, wil je het geluid van de deurbel weer aanzetten?",
        "output": "str",
        "x": 2020,
        "y": 1260,
        "wires": [
            [
                "a525b5caf447ba92"
            ]
        ]
    },
    {
        "id": "6d3057460cedca79",
        "type": "template",
        "z": "bf279eb7eda19fd7",
        "g": "cece073f3809811f",
        "name": "notification id",
        "field": "notify.notification_id",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "deurbel",
        "output": "str",
        "x": 2030,
        "y": 1300,
        "wires": [
            [
                "a525b5caf447ba92"
            ]
        ]
    },
    {
        "id": "9073a07bb4241ea7",
        "type": "template",
        "z": "bf279eb7eda19fd7",
        "g": "cece073f3809811f",
        "name": "tag",
        "field": "notify.tag",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "deurbel",
        "output": "str",
        "x": 2010,
        "y": 1340,
        "wires": [
            [
                "a525b5caf447ba92"
            ]
        ]
    },
    {
        "id": "dbf7a6ece449fcfd",
        "type": "comment",
        "z": "bf279eb7eda19fd7",
        "g": "b8b2c52ce29b1b66",
        "name": "send notification to aks if the doorbell must be turned off or not when child is going to bed",
        "info": "",
        "x": 350,
        "y": 780,
        "wires": []
    },
    {
        "id": "85fbde29204040b6",
        "type": "server-events",
        "z": "bf279eb7eda19fd7",
        "g": "b8b2c52ce29b1b66",
        "name": "mobile event listner",
        "server": "4ba92433.2478cc",
        "version": 3,
        "exposeAsEntityConfig": "",
        "eventType": "mobile_app_notification_action",
        "eventData": "{\"action\":\"DOORBELL_OFF\"}",
        "waitForRunning": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "$outputData(\"eventData\").event_type",
                "valueType": "jsonata"
            }
        ],
        "event_type": "",
        "x": 130,
        "y": 820,
        "wires": [
            [
                "3a2637edf92461f4"
            ]
        ]
    },
    {
        "id": "3a2637edf92461f4",
        "type": "api-call-service",
        "z": "bf279eb7eda19fd7",
        "g": "b8b2c52ce29b1b66",
        "name": "turn off doorbell",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "switch.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "switch.smart_doorbell_active"
        ],
        "labelId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": true,
        "domain": "switch",
        "service": "turn_off",
        "x": 400,
        "y": 820,
        "wires": [
            [
                "9124cbf6fd9b1480"
            ]
        ]
    },
    {
        "id": "347f94b7271ae995",
        "type": "server-events",
        "z": "bf279eb7eda19fd7",
        "g": "b8b2c52ce29b1b66",
        "name": "mobile event listner",
        "server": "4ba92433.2478cc",
        "version": 3,
        "exposeAsEntityConfig": "",
        "eventType": "mobile_app_notification_action",
        "eventData": "{\"action\":\"DOORBELL_ON\"}",
        "waitForRunning": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "$outputData(\"eventData\").event_type",
                "valueType": "jsonata"
            }
        ],
        "event_type": "",
        "x": 130,
        "y": 880,
        "wires": [
            [
                "888d7802d1ad8836"
            ]
        ]
    },
    {
        "id": "888d7802d1ad8836",
        "type": "api-call-service",
        "z": "bf279eb7eda19fd7",
        "g": "b8b2c52ce29b1b66",
        "name": "turn on doorbell",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "switch.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "switch.smart_doorbell_active"
        ],
        "labelId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": true,
        "domain": "switch",
        "service": "turn_on",
        "x": 400,
        "y": 880,
        "wires": [
            [
                "9124cbf6fd9b1480"
            ]
        ]
    },
    {
        "id": "9124cbf6fd9b1480",
        "type": "api-call-service",
        "z": "bf279eb7eda19fd7",
        "g": "b8b2c52ce29b1b66",
        "name": "dismiss notification",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "notify.notify",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [],
        "labelId": [],
        "data": "{\"message\":\"clear_notification\",\"data\":{\"tag\":\"deurbel\"}}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": true,
        "domain": "notify",
        "service": "notify",
        "x": 670,
        "y": 820,
        "wires": [
            []
        ]
    },
    {
        "id": "8ead7d07068c9388",
        "type": "link in",
        "z": "bf279eb7eda19fd7",
        "g": "b8b2c52ce29b1b66",
        "name": "doorbell on/off notification when person is detected",
        "links": [
            "9bd1e275ca1ee67b"
        ],
        "x": 325,
        "y": 960,
        "wires": [
            [
                "78e328d45f917a20"
            ]
        ]
    },
    {
        "id": "1a376a042ef53dd7",
        "type": "switch",
        "z": "bf279eb7eda19fd7",
        "g": "d6e945f724222ae1",
        "name": "person",
        "property": "payload.after.label",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "person",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 250,
        "y": 480,
        "wires": [
            [
                "90e8bf8ad2ceef13"
            ]
        ]
    },
    {
        "id": "90e8bf8ad2ceef13",
        "type": "switch",
        "z": "bf279eb7eda19fd7",
        "g": "d6e945f724222ae1",
        "name": "camera",
        "property": "payload.after.camera",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "frontyard",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 380,
        "y": 480,
        "wires": [
            [
                "df677727bba187cf"
            ]
        ]
    },
    {
        "id": "01579f2b983c2085",
        "type": "mqtt in",
        "z": "bf279eb7eda19fd7",
        "g": "d6e945f724222ae1",
        "name": "",
        "topic": "frigate/events",
        "qos": "2",
        "datatype": "auto-detect",
        "broker": "36dee637778341ba",
        "nl": false,
        "rap": true,
        "rh": 0,
        "inputs": 0,
        "x": 110,
        "y": 480,
        "wires": [
            [
                "1a376a042ef53dd7"
            ]
        ]
    },
    {
        "id": "f04230c20842c648",
        "type": "comment",
        "z": "bf279eb7eda19fd7",
        "g": "d6e945f724222ae1",
        "name": "trigger person is detected on camera",
        "info": "",
        "x": 180,
        "y": 440,
        "wires": []
    },
    {
        "id": "df677727bba187cf",
        "type": "link out",
        "z": "bf279eb7eda19fd7",
        "g": "d6e945f724222ae1",
        "name": "person is detected on camera",
        "mode": "link",
        "links": [
            "bd841cbf320510d2",
            "684440651deb45dc",
            "61c36fb38acb7466"
        ],
        "x": 475,
        "y": 480,
        "wires": []
    },
    {
        "id": "cce74d3ef40e87b1",
        "type": "api-call-service",
        "z": "bf279eb7eda19fd7",
        "g": "7f9ef23a602772d9",
        "name": "turn on light front door",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "light.shelly1_front_door"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "light",
        "service": "turn_on",
        "x": 820,
        "y": 1840,
        "wires": [
            [
                "3ef95b1cdb5a2913"
            ]
        ]
    },
    {
        "id": "b45d3017dda90564",
        "type": "api-call-service",
        "z": "bf279eb7eda19fd7",
        "g": "7f9ef23a602772d9",
        "name": "turn off light front door",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "light.shelly1_front_door"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "light",
        "service": "turn_off",
        "x": 1240,
        "y": 1900,
        "wires": [
            []
        ]
    },
    {
        "id": "9d3f7eb3988d338d",
        "type": "api-current-state",
        "z": "bf279eb7eda19fd7",
        "g": "7f9ef23a602772d9",
        "name": "state outdoor dark",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "binary_sensor.outdoor_daylight",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 390,
        "y": 1840,
        "wires": [
            [
                "a217db3768dae47b"
            ],
            []
        ]
    },
    {
        "id": "a217db3768dae47b",
        "type": "api-current-state",
        "z": "bf279eb7eda19fd7",
        "g": "7f9ef23a602772d9",
        "name": "state light front door off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "light.shelly1_front_door",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 600,
        "y": 1840,
        "wires": [
            [
                "cce74d3ef40e87b1"
            ],
            []
        ]
    },
    {
        "id": "3ef95b1cdb5a2913",
        "type": "stoptimer",
        "z": "bf279eb7eda19fd7",
        "g": "7f9ef23a602772d9",
        "duration": "5",
        "units": "Minute",
        "payloadtype": "num",
        "payloadval": "0",
        "name": "",
        "x": 1020,
        "y": 1840,
        "wires": [
            [
                "b45d3017dda90564"
            ],
            []
        ]
    },
    {
        "id": "27ba53f25166ec12",
        "type": "comment",
        "z": "bf279eb7eda19fd7",
        "g": "7f9ef23a602772d9",
        "name": "Turn on front yard light(s) for 5 minutes long when doorbell was pressed and it is dark outside",
        "info": "",
        "x": 380,
        "y": 1800,
        "wires": []
    },
    {
        "id": "c35e5fe0aaced7dd",
        "type": "comment",
        "z": "bf279eb7eda19fd7",
        "g": "7f9ef23a602772d9",
        "name": "turn off front yard light(s) off when daylight is on",
        "info": "",
        "x": 240,
        "y": 1900,
        "wires": []
    },
    {
        "id": "4445c82d7707780e",
        "type": "ha-wait-until",
        "z": "bf279eb7eda19fd7",
        "g": "fa85d03a7761105c",
        "name": "wait until it is light outside",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 1,
        "entities": {
            "entity": [
                "binary_sensor.outdoor_daylight"
            ],
            "substring": [],
            "regex": []
        },
        "property": "state",
        "comparator": "is",
        "value": "on",
        "valueType": "str",
        "timeout": "0",
        "timeoutType": "num",
        "timeoutUnits": "seconds",
        "checkCurrentState": true,
        "blockInputOverrides": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "entityLocation": "data",
        "entityLocationType": "none",
        "x": 350,
        "y": 1700,
        "wires": [
            [
                "69fbf229b5602151"
            ]
        ]
    },
    {
        "id": "d85abae724239e14",
        "type": "inject",
        "z": "bf279eb7eda19fd7",
        "g": "fa85d03a7761105c",
        "name": "daily 06:30",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "30 06 * * *",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "on",
        "payloadType": "str",
        "x": 150,
        "y": 1700,
        "wires": [
            [
                "4445c82d7707780e"
            ]
        ]
    },
    {
        "id": "69fbf229b5602151",
        "type": "api-call-service",
        "z": "bf279eb7eda19fd7",
        "g": "fa85d03a7761105c",
        "name": "turn off front yard lights",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.turn_off",
        "floorId": [],
        "areaId": [
            "front_yard"
        ],
        "deviceId": [],
        "entityId": [],
        "labelId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": true,
        "domain": "light",
        "service": "turn_off",
        "x": 580,
        "y": 1700,
        "wires": [
            []
        ]
    },
    {
        "id": "00204ba772c079ca",
        "type": "comment",
        "z": "bf279eb7eda19fd7",
        "g": "fa85d03a7761105c",
        "name": "Turn off front yard light(s) when it is light outside from 06:30 hours",
        "info": "",
        "x": 290,
        "y": 1660,
        "wires": []
    },
    {
        "id": "4a81d44956bf7abe",
        "type": "api-call-service",
        "z": "bf279eb7eda19fd7",
        "g": "478d175d0abcb987",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "light.shelly1_front_door"
        ],
        "labelId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": true,
        "domain": "light",
        "service": "turn_on",
        "x": 1230,
        "y": 2080,
        "wires": [
            []
        ]
    },
    {
        "id": "29578d5983787104",
        "type": "api-current-state",
        "z": "bf279eb7eda19fd7",
        "g": "478d175d0abcb987",
        "name": "state guest on",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.guest",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 840,
        "y": 2140,
        "wires": [
            [
                "d72ea6fb7bddcfa1"
            ],
            []
        ]
    },
    {
        "id": "7d01d0262d3b09b0",
        "type": "api-current-state",
        "z": "bf279eb7eda19fd7",
        "g": "478d175d0abcb987",
        "name": "state persons home",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "home",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "group.persons",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 850,
        "y": 2080,
        "wires": [
            [
                "d72ea6fb7bddcfa1"
            ],
            []
        ]
    },
    {
        "id": "44f6e9558f9c5074",
        "type": "api-current-state",
        "z": "bf279eb7eda19fd7",
        "g": "478d175d0abcb987",
        "name": "sleepmode is off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.sleep_mode",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 420,
        "y": 2080,
        "wires": [
            [
                "e7b2bb5d8bf44ab8"
            ],
            []
        ]
    },
    {
        "id": "31b11b57e8d4cb7b",
        "type": "comment",
        "z": "bf279eb7eda19fd7",
        "g": "478d175d0abcb987",
        "name": "turn on front door light on when it is dark outside, sleepmode is off and a person or guest is home",
        "info": "",
        "x": 390,
        "y": 2040,
        "wires": []
    },
    {
        "id": "06494fdc0a5d9892",
        "type": "link in",
        "z": "bf279eb7eda19fd7",
        "g": "7f9ef23a602772d9",
        "name": "turn on frontyard light for 5 minutes",
        "links": [
            "3bafb9626527259f"
        ],
        "x": 265,
        "y": 1840,
        "wires": [
            [
                "9d3f7eb3988d338d"
            ]
        ]
    },
    {
        "id": "c43613425ba3c1da",
        "type": "link in",
        "z": "bf279eb7eda19fd7",
        "g": "7f9ef23a602772d9",
        "name": "turn off frontyard light",
        "links": [
            "31fda56ec62032b8"
        ],
        "x": 265,
        "y": 1940,
        "wires": [
            [
                "84b894521e1025fd"
            ]
        ]
    },
    {
        "id": "94cfa3499dc876e4",
        "type": "link in",
        "z": "bf279eb7eda19fd7",
        "g": "478d175d0abcb987",
        "name": "turn on frontyard light",
        "links": [
            "4a93ba39b988072a"
        ],
        "x": 305,
        "y": 2080,
        "wires": [
            [
                "44f6e9558f9c5074"
            ]
        ]
    },
    {
        "id": "59bdb9f7dc75cb5c",
        "type": "subflow:ad57f56dd92dd9d6",
        "z": "bf279eb7eda19fd7",
        "g": "478d175d0abcb987",
        "name": "",
        "x": 190,
        "y": 2140,
        "wires": [
            [
                "b811292b8f4a055a"
            ],
            [],
            [],
            [],
            []
        ]
    },
    {
        "id": "e7b2bb5d8bf44ab8",
        "type": "api-current-state",
        "z": "bf279eb7eda19fd7",
        "g": "478d175d0abcb987",
        "name": "daylight is off (dark)",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "binary_sensor.outdoor_daylight",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 630,
        "y": 2080,
        "wires": [
            [
                "29578d5983787104",
                "7d01d0262d3b09b0"
            ],
            []
        ]
    },
    {
        "id": "1caa85f5908711f2",
        "type": "comment",
        "z": "bf279eb7eda19fd7",
        "g": "562fbfde97dcdc26",
        "name": "turn off lights when sleepmode turns on or the house is unoccupied",
        "info": "",
        "x": 300,
        "y": 2260,
        "wires": []
    },
    {
        "id": "9104f5eb5e4f58b3",
        "type": "subflow:9ea6eabfb34d96e0",
        "z": "bf279eb7eda19fd7",
        "g": "562fbfde97dcdc26",
        "name": "",
        "x": 190,
        "y": 2300,
        "wires": [
            [
                "427e7beaf1cf05cc"
            ]
        ]
    },
    {
        "id": "427e7beaf1cf05cc",
        "type": "api-call-service",
        "z": "bf279eb7eda19fd7",
        "g": "562fbfde97dcdc26",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.turn_off",
        "floorId": [],
        "areaId": [
            "front_yard"
        ],
        "deviceId": [],
        "entityId": [],
        "labelId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": true,
        "domain": "light",
        "service": "turn_off",
        "x": 410,
        "y": 2300,
        "wires": [
            []
        ]
    },
    {
        "id": "120f47429583e78d",
        "type": "link in",
        "z": "bf279eb7eda19fd7",
        "g": "562fbfde97dcdc26",
        "name": "turn off living room lights",
        "links": [
            "e6b9ff42fde3ea4e"
        ],
        "x": 305,
        "y": 2340,
        "wires": [
            [
                "427e7beaf1cf05cc"
            ]
        ]
    },
    {
        "id": "d72ea6fb7bddcfa1",
        "type": "api-current-state",
        "z": "bf279eb7eda19fd7",
        "g": "478d175d0abcb987",
        "name": "light front door is off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "light.shelly1_front_door",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 1050,
        "y": 2080,
        "wires": [
            [
                "4a81d44956bf7abe"
            ],
            []
        ]
    },
    {
        "id": "e26af8b833a2f7c4",
        "type": "delay",
        "z": "bf279eb7eda19fd7",
        "g": "b893f80d1303467b",
        "name": "random delay",
        "pauseType": "random",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "2",
        "randomLast": "20",
        "randomUnits": "minutes",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 920,
        "y": 2480,
        "wires": [
            [
                "0953197f43a2eae3"
            ]
        ]
    },
    {
        "id": "2c07de935ec0ae13",
        "type": "api-call-service",
        "z": "bf279eb7eda19fd7",
        "g": "b893f80d1303467b",
        "name": "turn on light",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "{{payload.entity_id}}"
        ],
        "labelId": [],
        "data": "{\"brightness_pct\":\"{{dimlevel}}\",\"transition\":5000}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "light",
        "service": "turn_on",
        "x": 670,
        "y": 2480,
        "wires": [
            [
                "e26af8b833a2f7c4"
            ]
        ]
    },
    {
        "id": "0953197f43a2eae3",
        "type": "api-call-service",
        "z": "bf279eb7eda19fd7",
        "g": "b893f80d1303467b",
        "name": "turn off light",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "{{payload.entity_id}}"
        ],
        "labelId": [],
        "data": "{\"transition\":5000}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "light",
        "service": "turn_off",
        "x": 1090,
        "y": 2480,
        "wires": [
            []
        ]
    },
    {
        "id": "5b3614f6404e4b5e",
        "type": "ha-get-entities",
        "z": "bf279eb7eda19fd7",
        "g": "b893f80d1303467b",
        "name": "pick a random light that is off",
        "server": "4ba92433.2478cc",
        "version": 1,
        "rules": [
            {
                "condition": "state_object",
                "property": "entity_id",
                "logic": "starts_with",
                "value": "light.",
                "valueType": "str"
            },
            {
                "condition": "state_object",
                "property": "state",
                "logic": "is",
                "value": "off",
                "valueType": "str"
            },
            {
                "condition": "area_registry",
                "property": "area_id",
                "logic": "is",
                "value": "front_yard",
                "valueType": "str"
            }
        ],
        "outputType": "random",
        "outputEmptyResults": false,
        "outputLocationType": "msg",
        "outputLocation": "payload",
        "outputResultsCount": 1,
        "x": 460,
        "y": 2480,
        "wires": [
            [
                "2c07de935ec0ae13"
            ]
        ]
    },
    {
        "id": "27f9690f59141f3c",
        "type": "link in",
        "z": "bf279eb7eda19fd7",
        "g": "b893f80d1303467b",
        "name": "pick a random light for vacation simulation",
        "links": [
            "af72e61dcd8c596c"
        ],
        "x": 305,
        "y": 2480,
        "wires": [
            [
                "5b3614f6404e4b5e"
            ]
        ]
    },
    {
        "id": "74417dbba5ac7943",
        "type": "comment",
        "z": "bf279eb7eda19fd7",
        "g": "b893f80d1303467b",
        "name": "turn on a random light that was off and turn it randomly off",
        "info": "",
        "x": 270,
        "y": 2440,
        "wires": []
    },
    {
        "id": "db49a00d5adc0cb7",
        "type": "api-call-service",
        "z": "a09ad053d19f1d06",
        "g": "54818585778a7dbf",
        "name": "turn on basement stairs light",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "{{data.entity_id}}"
        ],
        "labelId": [],
        "data": "{\"transition\":5000}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "light",
        "service": "turn_on",
        "x": 1100,
        "y": 580,
        "wires": [
            []
        ]
    },
    {
        "id": "0b64f5a2e27c31f0",
        "type": "api-call-service",
        "z": "a09ad053d19f1d06",
        "g": "54818585778a7dbf",
        "name": "turn off basement stairs light",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "{{data.entity_id}}"
        ],
        "labelId": [],
        "data": "{\"transition\":5000}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "light",
        "service": "turn_off",
        "x": 1100,
        "y": 640,
        "wires": [
            []
        ]
    },
    {
        "id": "19e3c39a7481e04b",
        "type": "api-current-state",
        "z": "a09ad053d19f1d06",
        "g": "54818585778a7dbf",
        "name": "basement stairs light is off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "light.shellydimmer_basement_stairs",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 590,
        "y": 580,
        "wires": [
            [
                "db49a00d5adc0cb7"
            ],
            []
        ]
    },
    {
        "id": "b13ee71e7f09ace4",
        "type": "api-current-state",
        "z": "a09ad053d19f1d06",
        "g": "54818585778a7dbf",
        "name": "basement door is closed",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "binary_sensor.basement_door",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 590,
        "y": 640,
        "wires": [
            [
                "a5689ff4c9a82d8e"
            ],
            [
                "123a8dfe28431656"
            ]
        ]
    },
    {
        "id": "a5689ff4c9a82d8e",
        "type": "api-current-state",
        "z": "a09ad053d19f1d06",
        "g": "54818585778a7dbf",
        "name": "basement stairs light is on",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "light.shellydimmer_basement_stairs",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 850,
        "y": 640,
        "wires": [
            [
                "0b64f5a2e27c31f0"
            ],
            []
        ]
    },
    {
        "id": "ec0a3cf53f08df55",
        "type": "server-state-changed",
        "z": "a09ad053d19f1d06",
        "g": "54818585778a7dbf",
        "name": "basement door is open",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "binary_sensor.basement_door"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": false,
        "stateType": "str",
        "ifState": "on",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": false,
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [],
        "x": 160,
        "y": 580,
        "wires": [
            [
                "19e3c39a7481e04b"
            ],
            [
                "123a8dfe28431656"
            ]
        ]
    },
    {
        "id": "123a8dfe28431656",
        "type": "stoptimer",
        "z": "a09ad053d19f1d06",
        "g": "54818585778a7dbf",
        "duration": "15",
        "units": "Second",
        "payloadtype": "num",
        "payloadval": "0",
        "name": "",
        "x": 370,
        "y": 640,
        "wires": [
            [
                "b13ee71e7f09ace4"
            ],
            []
        ]
    },
    {
        "id": "d9a6fa98ba07c6da",
        "type": "catch",
        "z": "a09ad053d19f1d06",
        "g": "bbcf76f00ce4b0cb",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 60,
        "wires": [
            [
                "a35d4e7ccec0ebe3"
            ]
        ]
    },
    {
        "id": "a35d4e7ccec0ebe3",
        "type": "template",
        "z": "a09ad053d19f1d06",
        "g": "bbcf76f00ce4b0cb",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 60,
        "wires": [
            [
                "0aa18950f4e293e1"
            ]
        ]
    },
    {
        "id": "03465ecf3ac1c82f",
        "type": "link out",
        "z": "a09ad053d19f1d06",
        "g": "bbcf76f00ce4b0cb",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 675,
        "y": 60,
        "wires": []
    },
    {
        "id": "0aa18950f4e293e1",
        "type": "template",
        "z": "a09ad053d19f1d06",
        "g": "bbcf76f00ce4b0cb",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 60,
        "wires": [
            [
                "24257750e969c915"
            ]
        ]
    },
    {
        "id": "24257750e969c915",
        "type": "function",
        "z": "a09ad053d19f1d06",
        "g": "bbcf76f00ce4b0cb",
        "name": "notify.notification_id",
        "func": "msg.notify.notification_id = env.get(\"NR_FLOW_ID\");\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 550,
        "y": 60,
        "wires": [
            [
                "03465ecf3ac1c82f"
            ]
        ]
    },
    {
        "id": "ba9284adcd1f5c35",
        "type": "comment",
        "z": "a09ad053d19f1d06",
        "g": "54818585778a7dbf",
        "name": "turn on soutterain stairs light when door opens",
        "info": "",
        "x": 230,
        "y": 540,
        "wires": []
    },
    {
        "id": "296a39b36660da40",
        "type": "api-call-service",
        "z": "a09ad053d19f1d06",
        "g": "dd7dd198428a74cc",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "climate.set_temperature",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "climate.basement"
        ],
        "labelId": [],
        "data": "{\"temperature\":\"{{target_temp}}\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": true,
        "domain": "climate",
        "service": "set_temperature",
        "x": 870,
        "y": 200,
        "wires": [
            []
        ]
    },
    {
        "id": "8782d8d0142e8a03",
        "type": "comment",
        "z": "a09ad053d19f1d06",
        "g": "dd7dd198428a74cc",
        "name": "set thermostats to 16 degree celcius when nobody is home or sleepmode has turned on",
        "info": "",
        "x": 340,
        "y": 160,
        "wires": []
    },
    {
        "id": "591435a4c731b783",
        "type": "template",
        "z": "a09ad053d19f1d06",
        "g": "dd7dd198428a74cc",
        "name": "target temp",
        "field": "target_temp",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "16",
        "output": "str",
        "x": 670,
        "y": 200,
        "wires": [
            [
                "296a39b36660da40"
            ]
        ]
    },
    {
        "id": "2f6877e917181f4c",
        "type": "link in",
        "z": "a09ad053d19f1d06",
        "g": "dd7dd198428a74cc",
        "name": "set away temperature tado thermostats",
        "links": [
            "e6b9ff42fde3ea4e"
        ],
        "x": 545,
        "y": 240,
        "wires": [
            [
                "591435a4c731b783"
            ]
        ]
    },
    {
        "id": "6dc5949df0a63e91",
        "type": "subflow:9ea6eabfb34d96e0",
        "z": "a09ad053d19f1d06",
        "g": "dd7dd198428a74cc",
        "name": "",
        "x": 430,
        "y": 200,
        "wires": [
            [
                "591435a4c731b783"
            ]
        ]
    },
    {
        "id": "d7ed0e9d803f96f0",
        "type": "server-state-changed",
        "z": "a09ad053d19f1d06",
        "g": "ca17f4bdb6bbee81",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 1,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "sensor.basement_heating"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": true,
        "stateType": "num",
        "ifState": "",
        "ifStateType": "num",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 200,
        "y": 380,
        "wires": [
            [
                "4c279a2dc7049407"
            ]
        ]
    },
    {
        "id": "4c279a2dc7049407",
        "type": "switch",
        "z": "a09ad053d19f1d06",
        "g": "ca17f4bdb6bbee81",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            },
            {
                "t": "gte",
                "v": "1",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 430,
        "y": 380,
        "wires": [
            [
                "e6278ef94ae3424e"
            ],
            [
                "394e21db804f1d42"
            ]
        ]
    },
    {
        "id": "394e21db804f1d42",
        "type": "link out",
        "z": "a09ad053d19f1d06",
        "g": "ca17f4bdb6bbee81",
        "name": "heating power >= 1 (on)",
        "mode": "link",
        "links": [
            "c3a4b207319d8610"
        ],
        "x": 535,
        "y": 420,
        "wires": []
    },
    {
        "id": "e6278ef94ae3424e",
        "type": "link out",
        "z": "a09ad053d19f1d06",
        "g": "ca17f4bdb6bbee81",
        "name": "heating power = 0 (off)",
        "mode": "link",
        "links": [
            "765822175b8ceb64"
        ],
        "x": 535,
        "y": 380,
        "wires": []
    },
    {
        "id": "37e17d2d1eef2013",
        "type": "comment",
        "z": "a09ad053d19f1d06",
        "g": "ca17f4bdb6bbee81",
        "name": "turn on or off cv boiler heating when heating power state change",
        "info": "",
        "x": 270,
        "y": 340,
        "wires": []
    },
    {
        "id": "c81a5908f8ca13b3",
        "type": "comment",
        "z": "a09ad053d19f1d06",
        "g": "154e9175574484d1",
        "name": "turn off lights when sleepmode turns on or the house is unoccupied",
        "info": "",
        "x": 300,
        "y": 740,
        "wires": []
    },
    {
        "id": "1cbe93cd58560dd0",
        "type": "subflow:9ea6eabfb34d96e0",
        "z": "a09ad053d19f1d06",
        "g": "154e9175574484d1",
        "name": "",
        "x": 190,
        "y": 780,
        "wires": [
            [
                "7b714d579d4f8f68"
            ]
        ]
    },
    {
        "id": "7b714d579d4f8f68",
        "type": "api-call-service",
        "z": "a09ad053d19f1d06",
        "g": "154e9175574484d1",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.turn_off",
        "floorId": [],
        "areaId": [
            "basement"
        ],
        "deviceId": [],
        "entityId": [],
        "labelId": [],
        "data": "{\"transition\":5000}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": true,
        "domain": "light",
        "service": "turn_off",
        "x": 410,
        "y": 780,
        "wires": [
            []
        ]
    },
    {
        "id": "fd1316bc77e6a6dd",
        "type": "link in",
        "z": "a09ad053d19f1d06",
        "g": "154e9175574484d1",
        "name": "turn off living room lights",
        "links": [
            "e6b9ff42fde3ea4e"
        ],
        "x": 305,
        "y": 820,
        "wires": [
            [
                "7b714d579d4f8f68"
            ]
        ]
    },
    {
        "id": "e8007db398232ee9",
        "type": "api-call-service",
        "z": "a09ad053d19f1d06",
        "g": "2ed1e18c0abc3114",
        "name": "turn on basement fan autonomous",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "input_boolean.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_boolean.mechanical_ventilation_basement_autonomous"
        ],
        "labelId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "input_boolean",
        "service": "turn_on",
        "x": 440,
        "y": 980,
        "wires": [
            []
        ]
    },
    {
        "id": "8bc384977a98486d",
        "type": "comment",
        "z": "a09ad053d19f1d06",
        "g": "2ed1e18c0abc3114",
        "name": "set fan to autonomous when sleepmode turned on",
        "info": "",
        "x": 230,
        "y": 940,
        "wires": []
    },
    {
        "id": "2eaa2fce52c5ce8a",
        "type": "link in",
        "z": "a09ad053d19f1d06",
        "g": "2ed1e18c0abc3114",
        "name": "set souterrain fan to autonomous",
        "links": [
            "e6b9ff42fde3ea4e"
        ],
        "x": 265,
        "y": 980,
        "wires": [
            [
                "e8007db398232ee9"
            ]
        ]
    },
    {
        "id": "3101d0a1b950e78d",
        "type": "api-call-service",
        "z": "7f39e487c7ab241c",
        "g": "0652dadc1b579cce",
        "name": "turn on cv closet light",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "light.cv_closet"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "light",
        "service": "turn_on",
        "x": 640,
        "y": 980,
        "wires": [
            []
        ]
    },
    {
        "id": "c09b728cb16b154e",
        "type": "api-current-state",
        "z": "7f39e487c7ab241c",
        "g": "0652dadc1b579cce",
        "name": "state cv closet light is off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "light.cv_closet",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 410,
        "y": 980,
        "wires": [
            [
                "3101d0a1b950e78d"
            ],
            []
        ]
    },
    {
        "id": "963294a91f3eb374",
        "type": "comment",
        "z": "7f39e487c7ab241c",
        "g": "0652dadc1b579cce",
        "name": "turn cv closet light on when door gets openend and turn it back off when it get closed",
        "info": "",
        "x": 350,
        "y": 940,
        "wires": []
    },
    {
        "id": "827acf22221b355e",
        "type": "catch",
        "z": "7f39e487c7ab241c",
        "g": "914448f840b9d7b8",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 60,
        "wires": [
            [
                "2b3ce0da818e77aa"
            ]
        ]
    },
    {
        "id": "2b3ce0da818e77aa",
        "type": "template",
        "z": "7f39e487c7ab241c",
        "g": "914448f840b9d7b8",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 60,
        "wires": [
            [
                "a13a7124838954d9"
            ]
        ]
    },
    {
        "id": "2cc9a5595a901b10",
        "type": "link out",
        "z": "7f39e487c7ab241c",
        "g": "914448f840b9d7b8",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 675,
        "y": 60,
        "wires": []
    },
    {
        "id": "a13a7124838954d9",
        "type": "template",
        "z": "7f39e487c7ab241c",
        "g": "914448f840b9d7b8",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 60,
        "wires": [
            [
                "3cabf5fcbc48a7ce"
            ]
        ]
    },
    {
        "id": "3cabf5fcbc48a7ce",
        "type": "function",
        "z": "7f39e487c7ab241c",
        "g": "914448f840b9d7b8",
        "name": "notify.notification_id",
        "func": "msg.notify.notification_id = env.get(\"NR_FLOW_ID\");\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 550,
        "y": 60,
        "wires": [
            [
                "2cc9a5595a901b10"
            ]
        ]
    },
    {
        "id": "16fa6c47d9ddfaf6",
        "type": "server-state-changed",
        "z": "7f39e487c7ab241c",
        "g": "0652dadc1b579cce",
        "name": "cv closet door is open",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "binary_sensor.cv_closet_door"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": true,
        "stateType": "str",
        "ifState": "on",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 160,
        "y": 980,
        "wires": [
            [
                "c09b728cb16b154e"
            ],
            [
                "5fe42cef5b668ff4"
            ]
        ]
    },
    {
        "id": "2e16eb2bec967a72",
        "type": "api-call-service",
        "z": "7f39e487c7ab241c",
        "g": "0652dadc1b579cce",
        "name": "turn off cv closet light",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "light.cv_closet"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "light",
        "service": "turn_off",
        "x": 640,
        "y": 1040,
        "wires": [
            []
        ]
    },
    {
        "id": "5fe42cef5b668ff4",
        "type": "api-current-state",
        "z": "7f39e487c7ab241c",
        "g": "0652dadc1b579cce",
        "name": "state cv closet light is on",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "light.cv_closet",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 410,
        "y": 1040,
        "wires": [
            [
                "2e16eb2bec967a72"
            ],
            []
        ]
    },
    {
        "id": "b945850298e9b3df",
        "type": "api-call-service",
        "z": "7f39e487c7ab241c",
        "g": "f76588705733793c",
        "name": "set cv boiler hvac mode",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "climate.set_hvac_mode",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "climate.opentherm_heating"
        ],
        "labelId": [],
        "data": "{\"hvac_mode\":\"{{hvac_mode}}\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": true,
        "domain": "climate",
        "service": "set_hvac_mode",
        "x": 550,
        "y": 220,
        "wires": [
            []
        ]
    },
    {
        "id": "c3a4b207319d8610",
        "type": "link in",
        "z": "7f39e487c7ab241c",
        "g": "f76588705733793c",
        "name": "set cv boiler to heat",
        "links": [
            "0229302b9d68cb4e",
            "2df01573bdd484ad",
            "394e21db804f1d42",
            "656a4b53d9e67047",
            "7344814cafbbaef4"
        ],
        "x": 265,
        "y": 200,
        "wires": [
            [
                "89af915b11f17913"
            ]
        ]
    },
    {
        "id": "765822175b8ceb64",
        "type": "link in",
        "z": "7f39e487c7ab241c",
        "g": "f76588705733793c",
        "name": "set cv boiler to off",
        "links": [
            "4a5d12f7119e0232",
            "54c6e03327c27850",
            "a82bdd562a8a92ba",
            "b543e6f17b4d4a1b",
            "e6278ef94ae3424e"
        ],
        "x": 265,
        "y": 240,
        "wires": [
            [
                "356e972e170143b6"
            ]
        ]
    },
    {
        "id": "356e972e170143b6",
        "type": "template",
        "z": "7f39e487c7ab241c",
        "g": "f76588705733793c",
        "name": "off",
        "field": "hvac_mode",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "off",
        "output": "str",
        "x": 350,
        "y": 240,
        "wires": [
            [
                "b945850298e9b3df"
            ]
        ]
    },
    {
        "id": "89af915b11f17913",
        "type": "template",
        "z": "7f39e487c7ab241c",
        "g": "f76588705733793c",
        "name": "heat",
        "field": "hvac_mode",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "heat",
        "output": "str",
        "x": 350,
        "y": 200,
        "wires": [
            [
                "b945850298e9b3df"
            ]
        ]
    },
    {
        "id": "05fee56164178038",
        "type": "comment",
        "z": "7f39e487c7ab241c",
        "g": "f76588705733793c",
        "name": "set hvac mode for opentherm cv boiler",
        "info": "",
        "x": 190,
        "y": 160,
        "wires": []
    },
    {
        "id": "a0a9705568837337",
        "type": "api-call-service",
        "z": "7f39e487c7ab241c",
        "g": "1620c7634080d568",
        "name": "turn on domestic hot water",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "climate.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "climate.opentherm_dhw"
        ],
        "labelId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": true,
        "domain": "climate",
        "service": "turn_on",
        "x": 440,
        "y": 400,
        "wires": [
            []
        ]
    },
    {
        "id": "d2f52d8d4e3bc3dd",
        "type": "comment",
        "z": "7f39e487c7ab241c",
        "g": "1620c7634080d568",
        "name": "turn on/off domestic hot water",
        "info": "",
        "x": 160,
        "y": 340,
        "wires": []
    },
    {
        "id": "e8023b446ea2a945",
        "type": "api-call-service",
        "z": "7f39e487c7ab241c",
        "g": "1620c7634080d568",
        "name": "turn off domestic hot water",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "climate.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "climate.opentherm_dhw"
        ],
        "labelId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": true,
        "domain": "climate",
        "service": "turn_off",
        "x": 440,
        "y": 460,
        "wires": [
            []
        ]
    },
    {
        "id": "6c581aeb73119963",
        "type": "subflow:9ea6eabfb34d96e0",
        "z": "7f39e487c7ab241c",
        "g": "1620c7634080d568",
        "name": "",
        "x": 170,
        "y": 460,
        "wires": [
            [
                "e8023b446ea2a945"
            ]
        ]
    },
    {
        "id": "a2f06d2783c7eeed",
        "type": "subflow:ad57f56dd92dd9d6",
        "z": "7f39e487c7ab241c",
        "g": "1620c7634080d568",
        "name": "",
        "x": 170,
        "y": 400,
        "wires": [
            [
                "a0a9705568837337"
            ],
            [],
            [],
            [],
            []
        ]
    },
    {
        "id": "b5e0ecf20c28f1f0",
        "type": "link in",
        "z": "7f39e487c7ab241c",
        "g": "1620c7634080d568",
        "name": "turn off domestic hot water",
        "links": [
            "e6b9ff42fde3ea4e"
        ],
        "x": 285,
        "y": 500,
        "wires": [
            [
                "e8023b446ea2a945"
            ]
        ]
    },
    {
        "id": "24be428cbb777a16",
        "type": "comment",
        "z": "7f39e487c7ab241c",
        "g": "2b86971fcc199b40",
        "name": "turn off lights when sleepmode turns on or the house is unoccupied",
        "info": "",
        "x": 300,
        "y": 1140,
        "wires": []
    },
    {
        "id": "836805d35a52d310",
        "type": "subflow:9ea6eabfb34d96e0",
        "z": "7f39e487c7ab241c",
        "g": "2b86971fcc199b40",
        "name": "",
        "x": 190,
        "y": 1180,
        "wires": [
            [
                "e2ced3815577a09c"
            ]
        ]
    },
    {
        "id": "e2ced3815577a09c",
        "type": "api-call-service",
        "z": "7f39e487c7ab241c",
        "g": "2b86971fcc199b40",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.turn_off",
        "floorId": [],
        "areaId": [
            "basement"
        ],
        "deviceId": [],
        "entityId": [],
        "labelId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": true,
        "domain": "light",
        "service": "turn_off",
        "x": 410,
        "y": 1180,
        "wires": [
            []
        ]
    },
    {
        "id": "8a78024ba282982a",
        "type": "link in",
        "z": "7f39e487c7ab241c",
        "g": "2b86971fcc199b40",
        "name": "turn off living room lights",
        "links": [
            "e6b9ff42fde3ea4e"
        ],
        "x": 305,
        "y": 1220,
        "wires": [
            [
                "e2ced3815577a09c"
            ]
        ]
    },
    {
        "id": "2bcc033320eee7c1",
        "type": "template",
        "z": "7f39e487c7ab241c",
        "g": "02e14c21061265e1",
        "name": "secondary information",
        "field": "secondary_information",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "De omvormer is op {{{myymd}}} om {{{mytime}}} status {{payload}}, {{{data.new_state.attributes.status_description}}}",
        "output": "str",
        "x": 620,
        "y": 640,
        "wires": [
            [
                "117aca7da78c92fe"
            ]
        ]
    },
    {
        "id": "117aca7da78c92fe",
        "type": "template",
        "z": "7f39e487c7ab241c",
        "g": "02e14c21061265e1",
        "name": "primary information",
        "field": "primary_information",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Er is een probleem met de omvormer",
        "output": "str",
        "x": 830,
        "y": 640,
        "wires": [
            [
                "1443017dca2ff4a8"
            ]
        ]
    },
    {
        "id": "178e42db86a628e8",
        "type": "link out",
        "z": "7f39e487c7ab241c",
        "g": "02e14c21061265e1",
        "name": "notification",
        "mode": "link",
        "links": [
            "60e14e33a793f50d"
        ],
        "x": 1725,
        "y": 640,
        "wires": []
    },
    {
        "id": "ffc8288b4ad5eee4",
        "type": "template",
        "z": "7f39e487c7ab241c",
        "g": "02e14c21061265e1",
        "name": "notification_level",
        "field": "notification_level",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "error",
        "output": "str",
        "x": 1150,
        "y": 640,
        "wires": [
            [
                "178e42db86a628e8",
                "9b93ac7b58399751"
            ]
        ]
    },
    {
        "id": "1443017dca2ff4a8",
        "type": "template",
        "z": "7f39e487c7ab241c",
        "g": "02e14c21061265e1",
        "name": "topic",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "garbage",
        "output": "str",
        "x": 990,
        "y": 640,
        "wires": [
            [
                "ffc8288b4ad5eee4"
            ]
        ]
    },
    {
        "id": "7dbf7c37a565252a",
        "type": "switch",
        "z": "7f39e487c7ab241c",
        "g": "02e14c21061265e1",
        "name": "status",
        "property": "data.new_state.state",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "7",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "8",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 3,
        "x": 450,
        "y": 640,
        "wires": [
            [
                "2bcc033320eee7c1"
            ],
            [
                "2bcc033320eee7c1"
            ],
            [
                "2bcc033320eee7c1"
            ]
        ]
    },
    {
        "id": "30c6a811cbe1ee11",
        "type": "server-state-changed",
        "z": "7f39e487c7ab241c",
        "g": "02e14c21061265e1",
        "name": "inverter status code",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 1,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "sensor.solaredge_modbus_status"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": true,
        "stateType": "num",
        "ifState": "",
        "ifStateType": "num",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            }
        ],
        "x": 130,
        "y": 640,
        "wires": [
            [
                "ef4c50873027b4b3"
            ]
        ]
    },
    {
        "id": "ef4c50873027b4b3",
        "type": "simpletime",
        "z": "7f39e487c7ab241c",
        "g": "02e14c21061265e1",
        "name": "",
        "mydate": false,
        "myymd": true,
        "myyear": false,
        "mymonth": false,
        "mymonthn": false,
        "mymonthf": true,
        "mydom": false,
        "mydoy": false,
        "myday": false,
        "mydayf": true,
        "myhourpm": false,
        "myhour": false,
        "mytime": true,
        "mytimes": false,
        "myminute": false,
        "myminutes": false,
        "mysecond": false,
        "mymillis": false,
        "myepoch": false,
        "myrawdate": false,
        "mypm": false,
        "x": 310,
        "y": 640,
        "wires": [
            [
                "7dbf7c37a565252a"
            ]
        ]
    },
    {
        "id": "59327076bed18754",
        "type": "template",
        "z": "7f39e487c7ab241c",
        "g": "392300741f68f312",
        "name": "icon",
        "field": "notify.icon",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "",
        "output": "str",
        "x": 1470,
        "y": 780,
        "wires": [
            [
                "4dd6478ac62b8c2f"
            ]
        ]
    },
    {
        "id": "c6941b34f3402196",
        "type": "template",
        "z": "7f39e487c7ab241c",
        "g": "392300741f68f312",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Zonne-energie",
        "output": "str",
        "x": 1470,
        "y": 700,
        "wires": [
            [
                "4dd6478ac62b8c2f"
            ]
        ]
    },
    {
        "id": "17c484a9c9a917ac",
        "type": "link out",
        "z": "7f39e487c7ab241c",
        "g": "392300741f68f312",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "8ed3b0974336e55b",
            "a97f87cfab413716"
        ],
        "x": 1725,
        "y": 740,
        "wires": []
    },
    {
        "id": "4dd6478ac62b8c2f",
        "type": "join",
        "z": "7f39e487c7ab241c",
        "g": "392300741f68f312",
        "name": "",
        "mode": "custom",
        "build": "merged",
        "property": "notify",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": false,
        "timeout": "",
        "count": "3",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 1630,
        "y": 740,
        "wires": [
            [
                "17c484a9c9a917ac"
            ]
        ]
    },
    {
        "id": "cdbb5b48e71b5866",
        "type": "template",
        "z": "7f39e487c7ab241c",
        "g": "392300741f68f312",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "{{primary_information}}.\\n{{secondary_information}}",
        "output": "str",
        "x": 1480,
        "y": 740,
        "wires": [
            [
                "4dd6478ac62b8c2f"
            ]
        ]
    },
    {
        "id": "6f32d1486f9ebcc4",
        "type": "comment",
        "z": "7f39e487c7ab241c",
        "g": "02e14c21061265e1",
        "name": "send notification when inverter detects a bad status code",
        "info": "",
        "x": 250,
        "y": 600,
        "wires": []
    },
    {
        "id": "34bc897fe72c285a",
        "type": "api-call-service",
        "z": "f32d9f15eade4bba",
        "g": "93bb50aa6cc6f5f6",
        "name": "toggle switch childlock kitchen cabinets",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "switch.toggle",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "switch.childlock_kitchen_switch"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "switch",
        "service": "toggle",
        "x": 470,
        "y": 180,
        "wires": [
            []
        ]
    },
    {
        "id": "44830f60728cb460",
        "type": "catch",
        "z": "f32d9f15eade4bba",
        "g": "43db3a32531961af",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 60,
        "wires": [
            [
                "2db3444e5c29da91"
            ]
        ]
    },
    {
        "id": "2db3444e5c29da91",
        "type": "template",
        "z": "f32d9f15eade4bba",
        "g": "43db3a32531961af",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 60,
        "wires": [
            [
                "c0d88069e22740be"
            ]
        ]
    },
    {
        "id": "e68a4f2c1f36acb9",
        "type": "link out",
        "z": "f32d9f15eade4bba",
        "g": "43db3a32531961af",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 675,
        "y": 60,
        "wires": []
    },
    {
        "id": "c0d88069e22740be",
        "type": "template",
        "z": "f32d9f15eade4bba",
        "g": "43db3a32531961af",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 60,
        "wires": [
            [
                "e847e8dad0dd9ab7"
            ]
        ]
    },
    {
        "id": "e847e8dad0dd9ab7",
        "type": "function",
        "z": "f32d9f15eade4bba",
        "g": "43db3a32531961af",
        "name": "notify.notification_id",
        "func": "msg.notify.notification_id = env.get(\"NR_FLOW_ID\");\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 550,
        "y": 60,
        "wires": [
            [
                "e68a4f2c1f36acb9"
            ]
        ]
    },
    {
        "id": "9bdbb23b40a8c8d6",
        "type": "comment",
        "z": "f32d9f15eade4bba",
        "g": "93bb50aa6cc6f5f6",
        "name": "toggle kitchen cabinets magnatic lock",
        "info": "",
        "x": 190,
        "y": 140,
        "wires": []
    },
    {
        "id": "535a687f3b588b38",
        "type": "api-call-service",
        "z": "f32d9f15eade4bba",
        "g": "db49c07a2c411991",
        "name": "turn off childlock kitchen",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "switch.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "switch.childlock_kitchen_switch"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "switch",
        "service": "turn_off",
        "x": 730,
        "y": 320,
        "wires": [
            []
        ]
    },
    {
        "id": "2d21e3e6cf54e587",
        "type": "api-current-state",
        "z": "f32d9f15eade4bba",
        "g": "db49c07a2c411991",
        "name": "state childlock kitchen is not off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is_not",
        "entity_id": "switch.childlock_kitchen_switch",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 470,
        "y": 320,
        "wires": [
            [
                "535a687f3b588b38"
            ],
            []
        ]
    },
    {
        "id": "669938235d33a02d",
        "type": "link in",
        "z": "f32d9f15eade4bba",
        "g": "93bb50aa6cc6f5f6",
        "name": "toggle kitchen cabinet lock",
        "links": [
            "b683652c36e89d93"
        ],
        "x": 285,
        "y": 180,
        "wires": [
            [
                "34bc897fe72c285a"
            ]
        ]
    },
    {
        "id": "1bcc023985a00dc1",
        "type": "comment",
        "z": "f32d9f15eade4bba",
        "g": "db49c07a2c411991",
        "name": "turn off kitchen cabinet lock",
        "info": "",
        "x": 150,
        "y": 280,
        "wires": []
    },
    {
        "id": "7e4444ae7832e36b",
        "type": "link in",
        "z": "f32d9f15eade4bba",
        "g": "db49c07a2c411991",
        "name": "turn off kitchen cabinet lock",
        "links": [
            "e6b9ff42fde3ea4e"
        ],
        "x": 285,
        "y": 320,
        "wires": [
            [
                "2d21e3e6cf54e587"
            ]
        ]
    },
    {
        "id": "f4a68bb61137474e",
        "type": "time-range-switch",
        "z": "f32d9f15eade4bba",
        "g": "8dd127f90c06ad01",
        "name": "",
        "lat": "",
        "lon": "",
        "startTime": "07:15",
        "endTime": "19:45",
        "startOffset": 0,
        "endOffset": 0,
        "x": 690,
        "y": 560,
        "wires": [
            [
                "511c21a01753fb65",
                "9cbed94c67d1830a"
            ],
            []
        ]
    },
    {
        "id": "511c21a01753fb65",
        "type": "api-current-state",
        "z": "f32d9f15eade4bba",
        "g": "8dd127f90c06ad01",
        "name": "persons home",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "home",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "group.persons",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 940,
        "y": 500,
        "wires": [
            [
                "6d86365f41d6d3bc"
            ],
            []
        ]
    },
    {
        "id": "9cbed94c67d1830a",
        "type": "api-current-state",
        "z": "f32d9f15eade4bba",
        "g": "8dd127f90c06ad01",
        "name": "guest mode on",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.guest",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 940,
        "y": 560,
        "wires": [
            [
                "5a7d11aab9a0407f"
            ],
            []
        ]
    },
    {
        "id": "5a7d11aab9a0407f",
        "type": "api-current-state",
        "z": "f32d9f15eade4bba",
        "g": "8dd127f90c06ad01",
        "name": "vacation mode off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.vacation_mode",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 1130,
        "y": 560,
        "wires": [
            [
                "6d86365f41d6d3bc"
            ],
            []
        ]
    },
    {
        "id": "9249b8634fe6bea6",
        "type": "inject",
        "z": "f32d9f15eade4bba",
        "g": "8dd127f90c06ad01",
        "name": "daily 07:15 'on' payload",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "15 07 * * *",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "on",
        "payloadType": "str",
        "x": 170,
        "y": 500,
        "wires": [
            [
                "4c5c66dcd56c4b83"
            ]
        ]
    },
    {
        "id": "6d86365f41d6d3bc",
        "type": "api-call-service",
        "z": "f32d9f15eade4bba",
        "g": "8dd127f90c06ad01",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "switch.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "switch.shellyplugplus_quooker_switch_0"
        ],
        "labelId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": true,
        "domain": "switch",
        "service": "turn_on",
        "x": 1360,
        "y": 500,
        "wires": [
            []
        ]
    },
    {
        "id": "b74e74ac6f573e00",
        "type": "comment",
        "z": "f32d9f15eade4bba",
        "g": "8dd127f90c06ad01",
        "name": "turn the quooker on",
        "info": "",
        "x": 130,
        "y": 460,
        "wires": []
    },
    {
        "id": "8702d7d99a59239f",
        "type": "server-state-changed",
        "z": "f32d9f15eade4bba",
        "g": "8dd127f90c06ad01",
        "name": "vacation mode",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 1,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "input_boolean.vacation_mode"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": false,
        "stateType": "str",
        "ifState": "",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 120,
        "y": 620,
        "wires": [
            [
                "a6d93dc726aafbb8",
                "3544456219878470"
            ]
        ]
    },
    {
        "id": "3544456219878470",
        "type": "api-current-state",
        "z": "f32d9f15eade4bba",
        "g": "8dd127f90c06ad01",
        "name": "persons is home",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "home",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "group.persons",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 340,
        "y": 680,
        "wires": [
            [
                "56a07c9ca9672de6"
            ],
            []
        ]
    },
    {
        "id": "a6d93dc726aafbb8",
        "type": "api-current-state",
        "z": "f32d9f15eade4bba",
        "g": "8dd127f90c06ad01",
        "name": "guest is on",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.guest",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 330,
        "y": 620,
        "wires": [
            [
                "56a07c9ca9672de6"
            ],
            []
        ]
    },
    {
        "id": "ab02f767bf4c94e7",
        "type": "subflow:ad57f56dd92dd9d6",
        "z": "f32d9f15eade4bba",
        "g": "8dd127f90c06ad01",
        "name": "",
        "x": 170,
        "y": 560,
        "wires": [
            [
                "f4a68bb61137474e"
            ],
            [],
            [],
            [],
            []
        ]
    },
    {
        "id": "c49e5bd8f93bd496",
        "type": "delay",
        "z": "f32d9f15eade4bba",
        "g": "53fb0b4840033e17",
        "name": "",
        "pauseType": "delay",
        "timeout": "20",
        "timeoutUnits": "minutes",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "outputs": 1,
        "x": 830,
        "y": 1480,
        "wires": [
            [
                "9c4864f0ca0d2d96"
            ]
        ]
    },
    {
        "id": "d1324fbb34721b63",
        "type": "api-call-service",
        "z": "f32d9f15eade4bba",
        "g": "53fb0b4840033e17",
        "name": "turn on light kitchen",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "light.shellydimmer_kitchen"
        ],
        "labelId": [],
        "data": "{\"brightness_pct\":45,\"transition\":5000}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "light",
        "service": "turn_on",
        "x": 630,
        "y": 1480,
        "wires": [
            [
                "c49e5bd8f93bd496"
            ]
        ]
    },
    {
        "id": "9c4864f0ca0d2d96",
        "type": "api-call-service",
        "z": "f32d9f15eade4bba",
        "g": "53fb0b4840033e17",
        "name": "turn off light kitchen",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "light.shellydimmer_kitchen"
        ],
        "labelId": [],
        "data": "{\"transition\":5000}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "light",
        "service": "turn_off",
        "x": 1030,
        "y": 1480,
        "wires": [
            []
        ]
    },
    {
        "id": "3dd82a4a5a5f543f",
        "type": "api-current-state",
        "z": "f32d9f15eade4bba",
        "g": "53fb0b4840033e17",
        "name": "state outdoor dark",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "binary_sensor.outdoor_daylight",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 410,
        "y": 1480,
        "wires": [
            [
                "d1324fbb34721b63"
            ],
            [
                "e0259adb4a945229"
            ]
        ]
    },
    {
        "id": "aa8016f7bd2aeddb",
        "type": "comment",
        "z": "f32d9f15eade4bba",
        "g": "53fb0b4840033e17",
        "name": "turn on kitchen light for 20 minutes when sleepmode turns on",
        "info": "",
        "x": 280,
        "y": 1440,
        "wires": []
    },
    {
        "id": "5049d35f7101b540",
        "type": "link in",
        "z": "f32d9f15eade4bba",
        "g": "53fb0b4840033e17",
        "name": "turn on kitchen light for 20 minutes",
        "links": [
            "e6b9ff42fde3ea4e"
        ],
        "x": 285,
        "y": 1480,
        "wires": [
            [
                "3dd82a4a5a5f543f"
            ]
        ]
    },
    {
        "id": "80b45d92a25cc105",
        "type": "api-call-service",
        "z": "f32d9f15eade4bba",
        "g": "eb76734b50bb9cf1",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "switch.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "switch.shellyplugplus_quooker_switch_0"
        ],
        "labelId": [],
        "data": "{\"transition\":5000}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": true,
        "domain": "switch",
        "service": "turn_off",
        "x": 420,
        "y": 820,
        "wires": [
            []
        ]
    },
    {
        "id": "e0b3151a83f336f4",
        "type": "subflow:9ea6eabfb34d96e0",
        "z": "f32d9f15eade4bba",
        "g": "eb76734b50bb9cf1",
        "name": "",
        "x": 170,
        "y": 860,
        "wires": [
            [
                "80b45d92a25cc105"
            ]
        ]
    },
    {
        "id": "4a784feb385d8d36",
        "type": "link in",
        "z": "f32d9f15eade4bba",
        "g": "eb76734b50bb9cf1",
        "name": "turn off the quooker",
        "links": [
            "e6b9ff42fde3ea4e"
        ],
        "x": 285,
        "y": 820,
        "wires": [
            [
                "80b45d92a25cc105"
            ]
        ]
    },
    {
        "id": "1ec9ead4324ca7a1",
        "type": "comment",
        "z": "f32d9f15eade4bba",
        "g": "eb76734b50bb9cf1",
        "name": "turn the quooker off",
        "info": "",
        "x": 130,
        "y": 780,
        "wires": []
    },
    {
        "id": "b5c5c34d9f917783",
        "type": "subflow:9ea6eabfb34d96e0",
        "z": "f32d9f15eade4bba",
        "g": "db49c07a2c411991",
        "name": "",
        "x": 170,
        "y": 360,
        "wires": [
            [
                "2d21e3e6cf54e587"
            ]
        ]
    },
    {
        "id": "36f24fd5.59924",
        "type": "change",
        "z": "f32d9f15eade4bba",
        "g": "d87b969d15636e26",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "on",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 840,
        "y": 1000,
        "wires": [
            [
                "bea742545d56e3a3"
            ]
        ]
    },
    {
        "id": "54b1f381.39c02c",
        "type": "change",
        "z": "f32d9f15eade4bba",
        "g": "d87b969d15636e26",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "off",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 840,
        "y": 1060,
        "wires": [
            [
                "bea742545d56e3a3"
            ]
        ]
    },
    {
        "id": "ef6b748.eeaf388",
        "type": "switch",
        "z": "f32d9f15eade4bba",
        "g": "d87b969d15636e26",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "off",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1170,
        "y": 1000,
        "wires": [
            [
                "ec34cd6ea57b0b7f"
            ]
        ]
    },
    {
        "id": "d0e8efa07152912d",
        "type": "comment",
        "z": "f32d9f15eade4bba",
        "g": "d87b969d15636e26",
        "name": "set dishwasher binary sensor on or off based on power measurements",
        "info": "",
        "x": 290,
        "y": 960,
        "wires": []
    },
    {
        "id": "47f4fb301e391cb8",
        "type": "switch",
        "z": "f32d9f15eade4bba",
        "g": "d87b969d15636e26",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "gt",
                "v": "10",
                "vt": "num"
            },
            {
                "t": "lt",
                "v": "1",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 310,
        "y": 1000,
        "wires": [
            [
                "036d5a464421fc1b"
            ],
            [
                "fee8363c5cb8d124"
            ]
        ]
    },
    {
        "id": "5914d077.55a55",
        "type": "api-current-state",
        "z": "f32d9f15eade4bba",
        "g": "d87b969d15636e26",
        "name": "state is not on",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is_not",
        "entity_id": "binary_sensor.dishwasher",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 660,
        "y": 1000,
        "wires": [
            [
                "36f24fd5.59924"
            ],
            []
        ]
    },
    {
        "id": "ce869786.78dec8",
        "type": "api-current-state",
        "z": "f32d9f15eade4bba",
        "g": "d87b969d15636e26",
        "name": "state is not off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is_not",
        "entity_id": "binary_sensor.dishwasher",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 660,
        "y": 1060,
        "wires": [
            [
                "54b1f381.39c02c"
            ],
            []
        ]
    },
    {
        "id": "95f21a2884f73b9b",
        "type": "server-state-changed",
        "z": "f32d9f15eade4bba",
        "g": "d87b969d15636e26",
        "name": "state dishwasher watt",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 1,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "sensor.shellyplugplus_dishwasher_power"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": true,
        "stateType": "str",
        "ifState": "",
        "ifStateType": "num",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 140,
        "y": 1000,
        "wires": [
            [
                "47f4fb301e391cb8"
            ]
        ]
    },
    {
        "id": "bea742545d56e3a3",
        "type": "ha-binary-sensor",
        "z": "f32d9f15eade4bba",
        "g": "d87b969d15636e26",
        "name": "dishwasher",
        "entityConfig": "4f12e052f2829473",
        "version": 0,
        "state": "payload",
        "stateType": "msg",
        "attributes": [],
        "inputOverride": "allow",
        "outputProperties": [],
        "x": 1030,
        "y": 1000,
        "wires": [
            [
                "ef6b748.eeaf388"
            ]
        ]
    },
    {
        "id": "036d5a464421fc1b",
        "type": "stoptimer",
        "z": "f32d9f15eade4bba",
        "g": "d87b969d15636e26",
        "duration": "5",
        "units": "Minute",
        "payloadtype": "num",
        "payloadval": "0",
        "name": "",
        "x": 480,
        "y": 1000,
        "wires": [
            [
                "5914d077.55a55"
            ],
            []
        ]
    },
    {
        "id": "71f13b6b1744cf6b",
        "type": "template",
        "z": "f32d9f15eade4bba",
        "g": "3bf0bc8959f8a48e",
        "name": "icon",
        "field": "notify.icon",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "",
        "output": "str",
        "x": 1390,
        "y": 1100,
        "wires": [
            [
                "08bca5ce6d389d48"
            ]
        ]
    },
    {
        "id": "64614e79bcb09872",
        "type": "template",
        "z": "f32d9f15eade4bba",
        "g": "3bf0bc8959f8a48e",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Vaatwasser",
        "output": "str",
        "x": 1390,
        "y": 1020,
        "wires": [
            [
                "08bca5ce6d389d48"
            ]
        ]
    },
    {
        "id": "2a35d2abfb0850da",
        "type": "template",
        "z": "f32d9f15eade4bba",
        "g": "3bf0bc8959f8a48e",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "De Vaatwasser is klaar",
        "output": "str",
        "x": 1400,
        "y": 1060,
        "wires": [
            [
                "08bca5ce6d389d48"
            ]
        ]
    },
    {
        "id": "2c0a57bd6ee87009",
        "type": "link out",
        "z": "f32d9f15eade4bba",
        "g": "3bf0bc8959f8a48e",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "8ed3b0974336e55b",
            "a97f87cfab413716"
        ],
        "x": 1685,
        "y": 1060,
        "wires": []
    },
    {
        "id": "08bca5ce6d389d48",
        "type": "join",
        "z": "f32d9f15eade4bba",
        "g": "3bf0bc8959f8a48e",
        "name": "",
        "mode": "custom",
        "build": "merged",
        "property": "notify",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": false,
        "timeout": "",
        "count": "4",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 1590,
        "y": 1060,
        "wires": [
            [
                "2c0a57bd6ee87009"
            ]
        ]
    },
    {
        "id": "80b3c96f004d6f8b",
        "type": "template",
        "z": "f32d9f15eade4bba",
        "g": "3bf0bc8959f8a48e",
        "name": "notification id",
        "field": "notify.notification_id",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "dishwasher",
        "output": "str",
        "x": 1410,
        "y": 1140,
        "wires": [
            [
                "08bca5ce6d389d48"
            ]
        ]
    },
    {
        "id": "0f8cb48ca2cea619",
        "type": "comment",
        "z": "f32d9f15eade4bba",
        "g": "6bd228b1512b87b3",
        "name": "send notification to ask whether the quooker should be turned off or not",
        "info": "",
        "x": 290,
        "y": 1260,
        "wires": []
    },
    {
        "id": "9aeb535c5f1da8ce",
        "type": "api-current-state",
        "z": "f32d9f15eade4bba",
        "g": "6bd228b1512b87b3",
        "name": "quooker is on",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "switch.shellyplugplus_quooker_switch_0",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 380,
        "y": 1300,
        "wires": [
            [
                "7d2e9cbf7edd9b13"
            ],
            []
        ]
    },
    {
        "id": "c3a839ea4abb6038",
        "type": "inject",
        "z": "f32d9f15eade4bba",
        "g": "6bd228b1512b87b3",
        "name": "daily 19:45 'on' payload",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "45 19 * * *",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "on",
        "payloadType": "str",
        "x": 170,
        "y": 1300,
        "wires": [
            [
                "9aeb535c5f1da8ce"
            ]
        ]
    },
    {
        "id": "7d2e9cbf7edd9b13",
        "type": "link out",
        "z": "f32d9f15eade4bba",
        "g": "6bd228b1512b87b3",
        "name": "action notification quooker off",
        "mode": "link",
        "links": [
            "6672bd7f293737f7"
        ],
        "x": 495,
        "y": 1300,
        "wires": []
    },
    {
        "id": "12894abc534397ad",
        "type": "delay",
        "z": "f32d9f15eade4bba",
        "g": "ec9dbbcc9d7d466d",
        "name": "random delay",
        "pauseType": "random",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "2",
        "randomLast": "20",
        "randomUnits": "minutes",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 920,
        "y": 1640,
        "wires": [
            [
                "9d1ae4015da1f119"
            ]
        ]
    },
    {
        "id": "12f8c4bf18db7efd",
        "type": "api-call-service",
        "z": "f32d9f15eade4bba",
        "g": "ec9dbbcc9d7d466d",
        "name": "turn on light",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "{{payload.entity_id}}"
        ],
        "labelId": [],
        "data": "{\"brightness_pct\":\"{{dimlevel}}\",\"transition\":5000}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "light",
        "service": "turn_on",
        "x": 670,
        "y": 1640,
        "wires": [
            [
                "12894abc534397ad"
            ]
        ]
    },
    {
        "id": "9d1ae4015da1f119",
        "type": "api-call-service",
        "z": "f32d9f15eade4bba",
        "g": "ec9dbbcc9d7d466d",
        "name": "turn off light",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "{{payload.entity_id}}"
        ],
        "labelId": [],
        "data": "{\"transition\":5000}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "light",
        "service": "turn_off",
        "x": 1090,
        "y": 1640,
        "wires": [
            []
        ]
    },
    {
        "id": "192bbaed7dca394c",
        "type": "ha-get-entities",
        "z": "f32d9f15eade4bba",
        "g": "ec9dbbcc9d7d466d",
        "name": "pick a random light that is off",
        "server": "4ba92433.2478cc",
        "version": 1,
        "rules": [
            {
                "condition": "state_object",
                "property": "entity_id",
                "logic": "starts_with",
                "value": "light.",
                "valueType": "str"
            },
            {
                "condition": "state_object",
                "property": "state",
                "logic": "is",
                "value": "off",
                "valueType": "str"
            },
            {
                "condition": "area_registry",
                "property": "area_id",
                "logic": "is",
                "value": "front_yard",
                "valueType": "str"
            }
        ],
        "outputType": "random",
        "outputEmptyResults": false,
        "outputLocationType": "msg",
        "outputLocation": "payload",
        "outputResultsCount": 1,
        "x": 460,
        "y": 1640,
        "wires": [
            [
                "12f8c4bf18db7efd"
            ]
        ]
    },
    {
        "id": "6c823cc5114ee3c3",
        "type": "link in",
        "z": "f32d9f15eade4bba",
        "g": "ec9dbbcc9d7d466d",
        "name": "pick a random light for vacation simulation",
        "links": [
            "7654d83ac284bf7e"
        ],
        "x": 305,
        "y": 1640,
        "wires": [
            [
                "192bbaed7dca394c"
            ]
        ]
    },
    {
        "id": "7ce069b5409427c0",
        "type": "comment",
        "z": "f32d9f15eade4bba",
        "g": "ec9dbbcc9d7d466d",
        "name": "turn on a random light that was off and turn it randomly off",
        "info": "",
        "x": 270,
        "y": 1600,
        "wires": []
    },
    {
        "id": "8c10b0e33e6f54b0",
        "type": "catch",
        "z": "9f04872fa1616475",
        "g": "248d4ab2c7068c5e",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 60,
        "wires": [
            [
                "b4defcb9cbcaf45b"
            ]
        ]
    },
    {
        "id": "b4defcb9cbcaf45b",
        "type": "template",
        "z": "9f04872fa1616475",
        "g": "248d4ab2c7068c5e",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 60,
        "wires": [
            [
                "12a3dce49d94867b"
            ]
        ]
    },
    {
        "id": "784ddf5ce5e4965e",
        "type": "link out",
        "z": "9f04872fa1616475",
        "g": "248d4ab2c7068c5e",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 675,
        "y": 60,
        "wires": []
    },
    {
        "id": "12a3dce49d94867b",
        "type": "template",
        "z": "9f04872fa1616475",
        "g": "248d4ab2c7068c5e",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 60,
        "wires": [
            [
                "0778c56b05cb98f7"
            ]
        ]
    },
    {
        "id": "0778c56b05cb98f7",
        "type": "function",
        "z": "9f04872fa1616475",
        "g": "248d4ab2c7068c5e",
        "name": "notify.notification_id",
        "func": "msg.notify.notification_id = env.get(\"NR_FLOW_ID\");\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 550,
        "y": 60,
        "wires": [
            [
                "784ddf5ce5e4965e"
            ]
        ]
    },
    {
        "id": "bc4246a5afc26e74",
        "type": "comment",
        "z": "9f04872fa1616475",
        "g": "e50ceb788d9ee8ba",
        "name": "turn off the lights in the hallway on ground floor when sleepmode turns on",
        "info": "",
        "x": 320,
        "y": 180,
        "wires": []
    },
    {
        "id": "ef6101afc3223eb0",
        "type": "ha-get-entities",
        "z": "9f04872fa1616475",
        "g": "e50ceb788d9ee8ba",
        "name": "lookup excluded sleepmode lights",
        "server": "4ba92433.2478cc",
        "version": 1,
        "rules": [
            {
                "condition": "state_object",
                "property": "entity_id",
                "logic": "in_group",
                "value": "group.sleepmode_excluded_lights",
                "valueType": "str"
            }
        ],
        "outputType": "split",
        "outputEmptyResults": false,
        "outputLocationType": "msg",
        "outputLocation": "excluded_lights",
        "outputResultsCount": 1,
        "x": 840,
        "y": 220,
        "wires": [
            [
                "87f88fb480fe0c1d"
            ]
        ]
    },
    {
        "id": "f8dbc33d27649032",
        "type": "switch",
        "z": "9f04872fa1616475",
        "g": "e50ceb788d9ee8ba",
        "name": "",
        "property": "payload.entity_id",
        "propertyType": "msg",
        "rules": [
            {
                "t": "cont",
                "v": "lights.entity_id",
                "vt": "msg"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1170,
        "y": 220,
        "wires": [
            [],
            [
                "24e1d0ec9f3c8ba8"
            ]
        ],
        "info": "Pass lights that is not in the excluded lights list thru otherwise"
    },
    {
        "id": "88e7115f37e27b64",
        "type": "ha-get-entities",
        "z": "9f04872fa1616475",
        "g": "e50ceb788d9ee8ba",
        "name": "lookup lights on",
        "server": "4ba92433.2478cc",
        "version": 1,
        "rules": [
            {
                "condition": "state_object",
                "property": "entity_id",
                "logic": "starts_with",
                "value": "light.",
                "valueType": "str"
            },
            {
                "condition": "state_object",
                "property": "state",
                "logic": "is",
                "value": "on",
                "valueType": "str"
            },
            {
                "condition": "area_registry",
                "property": "area_id",
                "logic": "is",
                "value": "hallway",
                "valueType": "str"
            }
        ],
        "outputType": "split",
        "outputEmptyResults": false,
        "outputLocationType": "msg",
        "outputLocation": "included_lights",
        "outputResultsCount": 1,
        "x": 400,
        "y": 220,
        "wires": [
            [
                "488f343f397a9b7b"
            ]
        ]
    },
    {
        "id": "87f88fb480fe0c1d",
        "type": "join",
        "z": "9f04872fa1616475",
        "g": "e50ceb788d9ee8ba",
        "name": "",
        "mode": "custom",
        "build": "string",
        "property": "payload.entity_id",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "useparts": true,
        "accumulate": false,
        "timeout": "",
        "count": "",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 1050,
        "y": 220,
        "wires": [
            [
                "f8dbc33d27649032"
            ]
        ]
    },
    {
        "id": "488f343f397a9b7b",
        "type": "change",
        "z": "9f04872fa1616475",
        "g": "e50ceb788d9ee8ba",
        "name": "",
        "rules": [
            {
                "t": "move",
                "p": "payload",
                "pt": "msg",
                "to": "lights",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 590,
        "y": 220,
        "wires": [
            [
                "ef6101afc3223eb0"
            ]
        ]
    },
    {
        "id": "24e1d0ec9f3c8ba8",
        "type": "api-call-service",
        "z": "9f04872fa1616475",
        "g": "e50ceb788d9ee8ba",
        "name": "turn off lights",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "{{lights.entity_id}}"
        ],
        "labelId": [],
        "data": "{\"transition\":5000}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "light",
        "service": "turn_off",
        "x": 1310,
        "y": 220,
        "wires": [
            []
        ]
    },
    {
        "id": "321e851e04014b40",
        "type": "switch",
        "z": "9f04872fa1616475",
        "g": "a15d60e99166423c",
        "name": "person home within 5 minutes or less",
        "property": "payload.timeSinceChangedMs",
        "propertyType": "msg",
        "rules": [
            {
                "t": "lt",
                "v": "300000",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 630,
        "y": 380,
        "wires": [
            [
                "13caec7c465e3901"
            ]
        ]
    },
    {
        "id": "e8d8807edade80c2",
        "type": "api-call-service",
        "z": "9f04872fa1616475",
        "g": "a15d60e99166423c",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "{{data.entity_id}}"
        ],
        "labelId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "light",
        "service": "turn_on",
        "x": 1070,
        "y": 380,
        "wires": [
            []
        ]
    },
    {
        "id": "13caec7c465e3901",
        "type": "api-current-state",
        "z": "9f04872fa1616475",
        "g": "a15d60e99166423c",
        "name": "hallway light is off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "light.shelly1_hallway",
        "state_type": "str",
        "blockInputOverrides": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 890,
        "y": 380,
        "wires": [
            [
                "e8d8807edade80c2"
            ],
            []
        ]
    },
    {
        "id": "c433a054543aadbb",
        "type": "ha-get-entities",
        "z": "9f04872fa1616475",
        "g": "a15d60e99166423c",
        "name": "get persons",
        "server": "4ba92433.2478cc",
        "version": 1,
        "rules": [
            {
                "condition": "state_object",
                "property": "entity_id",
                "logic": "starts_with",
                "value": "person.",
                "valueType": "str"
            }
        ],
        "outputType": "split",
        "outputEmptyResults": false,
        "outputLocationType": "msg",
        "outputLocation": "payload",
        "outputResultsCount": 1,
        "x": 390,
        "y": 380,
        "wires": [
            [
                "321e851e04014b40"
            ]
        ]
    },
    {
        "id": "7ab07fd93d687adf",
        "type": "comment",
        "z": "9f04872fa1616475",
        "g": "a15d60e99166423c",
        "name": "turn on hallway light when the frontdoor opens and the person was not home allready",
        "info": "",
        "x": 350,
        "y": 320,
        "wires": []
    },
    {
        "id": "c8074b72183bfa57",
        "type": "link in",
        "z": "9f04872fa1616475",
        "g": "a15d60e99166423c",
        "name": "link in 1",
        "links": [
            "578f9487e5b636d9"
        ],
        "x": 285,
        "y": 380,
        "wires": [
            [
                "c433a054543aadbb"
            ]
        ]
    },
    {
        "id": "e6107e9fc2706812",
        "type": "link in",
        "z": "9f04872fa1616475",
        "g": "e50ceb788d9ee8ba",
        "name": "turn off hallway ground floor lights",
        "links": [
            "e6b9ff42fde3ea4e"
        ],
        "x": 285,
        "y": 220,
        "wires": [
            [
                "88e7115f37e27b64"
            ]
        ]
    },
    {
        "id": "5f49d5a034ee9b5b",
        "type": "delay",
        "z": "9f04872fa1616475",
        "g": "0beb05e6de323068",
        "name": "random delay",
        "pauseType": "random",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "2",
        "randomLast": "20",
        "randomUnits": "minutes",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 920,
        "y": 520,
        "wires": [
            [
                "f5962ac09ab85cc0"
            ]
        ]
    },
    {
        "id": "f3314b7dd03302ae",
        "type": "api-call-service",
        "z": "9f04872fa1616475",
        "g": "0beb05e6de323068",
        "name": "turn on light",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "{{payload.entity_id}}"
        ],
        "labelId": [],
        "data": "{\"brightness_pct\":\"{{dimlevel}}\",\"transition\":5000}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "light",
        "service": "turn_on",
        "x": 670,
        "y": 520,
        "wires": [
            [
                "5f49d5a034ee9b5b"
            ]
        ]
    },
    {
        "id": "f5962ac09ab85cc0",
        "type": "api-call-service",
        "z": "9f04872fa1616475",
        "g": "0beb05e6de323068",
        "name": "turn off light",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "{{payload.entity_id}}"
        ],
        "labelId": [],
        "data": "{\"transition\":5000}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "light",
        "service": "turn_off",
        "x": 1090,
        "y": 520,
        "wires": [
            []
        ]
    },
    {
        "id": "41ac7f0d3d2a07a2",
        "type": "ha-get-entities",
        "z": "9f04872fa1616475",
        "g": "0beb05e6de323068",
        "name": "pick a random light that is off",
        "server": "4ba92433.2478cc",
        "version": 1,
        "rules": [
            {
                "condition": "state_object",
                "property": "entity_id",
                "logic": "starts_with",
                "value": "light.",
                "valueType": "str"
            },
            {
                "condition": "state_object",
                "property": "state",
                "logic": "is",
                "value": "off",
                "valueType": "str"
            },
            {
                "condition": "area_registry",
                "property": "area_id",
                "logic": "is",
                "value": "hallway",
                "valueType": "str"
            }
        ],
        "outputType": "random",
        "outputEmptyResults": false,
        "outputLocationType": "msg",
        "outputLocation": "payload",
        "outputResultsCount": 1,
        "x": 460,
        "y": 520,
        "wires": [
            [
                "f3314b7dd03302ae"
            ]
        ]
    },
    {
        "id": "de705346f1cf66e6",
        "type": "link in",
        "z": "9f04872fa1616475",
        "g": "0beb05e6de323068",
        "name": "pick a random light for vacation simulation",
        "links": [
            "5a29eb1e4639dec7"
        ],
        "x": 305,
        "y": 520,
        "wires": [
            [
                "41ac7f0d3d2a07a2"
            ]
        ]
    },
    {
        "id": "fb679e02bc04f0b8",
        "type": "comment",
        "z": "9f04872fa1616475",
        "g": "0beb05e6de323068",
        "name": "turn on a random light that was off and turn it randomly off",
        "info": "",
        "x": 270,
        "y": 480,
        "wires": []
    },
    {
        "id": "0de9b0739bb60d99",
        "type": "catch",
        "z": "085c9b619c2f5ad8",
        "g": "b65b9ff17eaef899",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 60,
        "wires": [
            [
                "3f837f513bde36c9"
            ]
        ]
    },
    {
        "id": "3f837f513bde36c9",
        "type": "template",
        "z": "085c9b619c2f5ad8",
        "g": "b65b9ff17eaef899",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 60,
        "wires": [
            [
                "16dda5ed078d390c"
            ]
        ]
    },
    {
        "id": "dc649cae5470eb6f",
        "type": "link out",
        "z": "085c9b619c2f5ad8",
        "g": "b65b9ff17eaef899",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 675,
        "y": 60,
        "wires": []
    },
    {
        "id": "16dda5ed078d390c",
        "type": "template",
        "z": "085c9b619c2f5ad8",
        "g": "b65b9ff17eaef899",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 60,
        "wires": [
            [
                "0a3e14e9ce2510d2"
            ]
        ]
    },
    {
        "id": "0a3e14e9ce2510d2",
        "type": "function",
        "z": "085c9b619c2f5ad8",
        "g": "b65b9ff17eaef899",
        "name": "notify.notification_id",
        "func": "msg.notify.notification_id = env.get(\"NR_FLOW_ID\");\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 550,
        "y": 60,
        "wires": [
            [
                "dc649cae5470eb6f"
            ]
        ]
    },
    {
        "id": "4f2b23c1eb462ceb",
        "type": "comment",
        "z": "085c9b619c2f5ad8",
        "g": "058bdb794f586cf6",
        "name": "turn off hallway second floor lights when sleepmode turns on",
        "info": "",
        "x": 280,
        "y": 180,
        "wires": []
    },
    {
        "id": "b28a59c02b03c88d",
        "type": "ha-get-entities",
        "z": "085c9b619c2f5ad8",
        "g": "058bdb794f586cf6",
        "name": "lookup excluded sleepmode lights",
        "server": "4ba92433.2478cc",
        "version": 1,
        "rules": [
            {
                "condition": "state_object",
                "property": "entity_id",
                "logic": "in_group",
                "value": "group.sleepmode_excluded_lights",
                "valueType": "str"
            }
        ],
        "outputType": "split",
        "outputEmptyResults": false,
        "outputLocationType": "msg",
        "outputLocation": "excluded_lights",
        "outputResultsCount": 1,
        "x": 860,
        "y": 220,
        "wires": [
            [
                "5caf9664074c8107"
            ]
        ]
    },
    {
        "id": "18810d9c3d0e39a3",
        "type": "switch",
        "z": "085c9b619c2f5ad8",
        "g": "058bdb794f586cf6",
        "name": "",
        "property": "payload.entity_id",
        "propertyType": "msg",
        "rules": [
            {
                "t": "cont",
                "v": "lights.entity_id",
                "vt": "msg"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1190,
        "y": 220,
        "wires": [
            [],
            [
                "93cb80ba70bb4482"
            ]
        ],
        "info": "Pass lights that is not in the excluded lights list thru otherwise"
    },
    {
        "id": "d93de777cce3c63b",
        "type": "ha-get-entities",
        "z": "085c9b619c2f5ad8",
        "g": "058bdb794f586cf6",
        "name": "lookup lights on",
        "server": "4ba92433.2478cc",
        "version": 1,
        "rules": [
            {
                "condition": "state_object",
                "property": "entity_id",
                "logic": "starts_with",
                "value": "light.",
                "valueType": "str"
            },
            {
                "condition": "state_object",
                "property": "state",
                "logic": "is",
                "value": "on",
                "valueType": "str"
            },
            {
                "condition": "area_registry",
                "property": "area_id",
                "logic": "is",
                "value": "hallway_upstairs",
                "valueType": "str"
            }
        ],
        "outputType": "split",
        "outputEmptyResults": false,
        "outputLocationType": "msg",
        "outputLocation": "included_lights",
        "outputResultsCount": 1,
        "x": 420,
        "y": 220,
        "wires": [
            [
                "74c06d919ba73b69"
            ]
        ]
    },
    {
        "id": "5caf9664074c8107",
        "type": "join",
        "z": "085c9b619c2f5ad8",
        "g": "058bdb794f586cf6",
        "name": "",
        "mode": "custom",
        "build": "string",
        "property": "payload.entity_id",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "useparts": true,
        "accumulate": false,
        "timeout": "",
        "count": "",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 1070,
        "y": 220,
        "wires": [
            [
                "18810d9c3d0e39a3"
            ]
        ]
    },
    {
        "id": "74c06d919ba73b69",
        "type": "change",
        "z": "085c9b619c2f5ad8",
        "g": "058bdb794f586cf6",
        "name": "",
        "rules": [
            {
                "t": "move",
                "p": "payload",
                "pt": "msg",
                "to": "lights",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 610,
        "y": 220,
        "wires": [
            [
                "b28a59c02b03c88d"
            ]
        ]
    },
    {
        "id": "93cb80ba70bb4482",
        "type": "api-call-service",
        "z": "085c9b619c2f5ad8",
        "g": "058bdb794f586cf6",
        "name": "turn off lights",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "{{lights.entity_id}}"
        ],
        "labelId": [],
        "data": "{\"transition\":5000}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "light",
        "service": "turn_off",
        "x": 1330,
        "y": 220,
        "wires": [
            []
        ]
    },
    {
        "id": "5a32d7dd7b01f6db",
        "type": "link in",
        "z": "085c9b619c2f5ad8",
        "g": "058bdb794f586cf6",
        "name": "turn off hallway lights on the first floor",
        "links": [
            "e6b9ff42fde3ea4e"
        ],
        "x": 305,
        "y": 220,
        "wires": [
            [
                "d93de777cce3c63b"
            ]
        ]
    },
    {
        "id": "16a27d4d61cc58d3",
        "type": "delay",
        "z": "085c9b619c2f5ad8",
        "g": "7dd2aacc1e40f777",
        "name": "random delay",
        "pauseType": "random",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "2",
        "randomLast": "20",
        "randomUnits": "minutes",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 920,
        "y": 360,
        "wires": [
            [
                "927ba4635cea2eba"
            ]
        ]
    },
    {
        "id": "f51632c15aa7dcd2",
        "type": "api-call-service",
        "z": "085c9b619c2f5ad8",
        "g": "7dd2aacc1e40f777",
        "name": "turn on light",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "{{payload.entity_id}}"
        ],
        "labelId": [],
        "data": "{\"brightness_pct\":\"{{dimlevel}}\",\"transition\":5000}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "light",
        "service": "turn_on",
        "x": 670,
        "y": 360,
        "wires": [
            [
                "16a27d4d61cc58d3"
            ]
        ]
    },
    {
        "id": "927ba4635cea2eba",
        "type": "api-call-service",
        "z": "085c9b619c2f5ad8",
        "g": "7dd2aacc1e40f777",
        "name": "turn off light",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "{{payload.entity_id}}"
        ],
        "labelId": [],
        "data": "{\"transition\":5000}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "light",
        "service": "turn_off",
        "x": 1090,
        "y": 360,
        "wires": [
            []
        ]
    },
    {
        "id": "d39e4789013631e4",
        "type": "ha-get-entities",
        "z": "085c9b619c2f5ad8",
        "g": "7dd2aacc1e40f777",
        "name": "pick a random light that is off",
        "server": "4ba92433.2478cc",
        "version": 1,
        "rules": [
            {
                "condition": "state_object",
                "property": "entity_id",
                "logic": "starts_with",
                "value": "light.",
                "valueType": "str"
            },
            {
                "condition": "state_object",
                "property": "state",
                "logic": "is",
                "value": "off",
                "valueType": "str"
            },
            {
                "condition": "area_registry",
                "property": "area_id",
                "logic": "is",
                "value": "hallway_upstairs",
                "valueType": "str"
            }
        ],
        "outputType": "random",
        "outputEmptyResults": false,
        "outputLocationType": "msg",
        "outputLocation": "payload",
        "outputResultsCount": 1,
        "x": 460,
        "y": 360,
        "wires": [
            [
                "f51632c15aa7dcd2"
            ]
        ]
    },
    {
        "id": "8db0025fe57cfee6",
        "type": "link in",
        "z": "085c9b619c2f5ad8",
        "g": "7dd2aacc1e40f777",
        "name": "pick a random light for vacation simulation",
        "links": [
            "688bff2b2883ee47"
        ],
        "x": 305,
        "y": 360,
        "wires": [
            [
                "d39e4789013631e4"
            ]
        ]
    },
    {
        "id": "1ac932109c2068c7",
        "type": "comment",
        "z": "085c9b619c2f5ad8",
        "g": "7dd2aacc1e40f777",
        "name": "turn on a random light that was off and turn it randomly off",
        "info": "",
        "x": 270,
        "y": 320,
        "wires": []
    },
    {
        "id": "b088b44e4525c097",
        "type": "catch",
        "z": "e5dc6f22432398d7",
        "g": "4d7858b75137b4e2",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 60,
        "wires": [
            [
                "551131fd649c020a"
            ]
        ]
    },
    {
        "id": "551131fd649c020a",
        "type": "template",
        "z": "e5dc6f22432398d7",
        "g": "4d7858b75137b4e2",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 60,
        "wires": [
            [
                "d2e29d0bc6c40b73"
            ]
        ]
    },
    {
        "id": "c4352074f6a9380d",
        "type": "link out",
        "z": "e5dc6f22432398d7",
        "g": "4d7858b75137b4e2",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 675,
        "y": 60,
        "wires": []
    },
    {
        "id": "d2e29d0bc6c40b73",
        "type": "template",
        "z": "e5dc6f22432398d7",
        "g": "4d7858b75137b4e2",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 60,
        "wires": [
            [
                "a4f640f2e439cdea"
            ]
        ]
    },
    {
        "id": "a4f640f2e439cdea",
        "type": "function",
        "z": "e5dc6f22432398d7",
        "g": "4d7858b75137b4e2",
        "name": "notify.notification_id",
        "func": "msg.notify.notification_id = env.get(\"NR_FLOW_ID\");\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 550,
        "y": 60,
        "wires": [
            [
                "c4352074f6a9380d"
            ]
        ]
    },
    {
        "id": "94b47dba75122e4e",
        "type": "api-call-service",
        "z": "e5dc6f22432398d7",
        "g": "30d9e03b4dcab1d3",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "climate.set_temperature",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "climate.master_bedroom"
        ],
        "labelId": [],
        "data": "{\"temperature\":\"{{target_temp}}\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": true,
        "domain": "climate",
        "service": "set_temperature",
        "x": 870,
        "y": 200,
        "wires": [
            []
        ]
    },
    {
        "id": "50cb6a6eb3455f6b",
        "type": "comment",
        "z": "e5dc6f22432398d7",
        "g": "30d9e03b4dcab1d3",
        "name": "set thermostats to 16 degree celcius when nobody is home or sleepmode has turned on",
        "info": "",
        "x": 340,
        "y": 160,
        "wires": []
    },
    {
        "id": "4b103d15a3d6c8b1",
        "type": "template",
        "z": "e5dc6f22432398d7",
        "g": "30d9e03b4dcab1d3",
        "name": "target temp",
        "field": "target_temp",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "16",
        "output": "str",
        "x": 670,
        "y": 200,
        "wires": [
            [
                "94b47dba75122e4e"
            ]
        ]
    },
    {
        "id": "f2a735f229818e06",
        "type": "link in",
        "z": "e5dc6f22432398d7",
        "g": "30d9e03b4dcab1d3",
        "name": "set away temperature tado thermostats",
        "links": [
            "e6b9ff42fde3ea4e"
        ],
        "x": 545,
        "y": 240,
        "wires": [
            [
                "4b103d15a3d6c8b1"
            ]
        ]
    },
    {
        "id": "f62ead9b9a58bf16",
        "type": "subflow:9ea6eabfb34d96e0",
        "z": "e5dc6f22432398d7",
        "g": "30d9e03b4dcab1d3",
        "name": "",
        "x": 430,
        "y": 200,
        "wires": [
            [
                "4b103d15a3d6c8b1"
            ]
        ]
    },
    {
        "id": "56b1fbd58fdf0444",
        "type": "server-state-changed",
        "z": "e5dc6f22432398d7",
        "g": "31b375033084536b",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 1,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "sensor.master_bedroom_heating"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": true,
        "stateType": "num",
        "ifState": "",
        "ifStateType": "num",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 220,
        "y": 380,
        "wires": [
            [
                "58c888740da40eda"
            ]
        ]
    },
    {
        "id": "58c888740da40eda",
        "type": "switch",
        "z": "e5dc6f22432398d7",
        "g": "31b375033084536b",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            },
            {
                "t": "gte",
                "v": "1",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 470,
        "y": 380,
        "wires": [
            [
                "a82bdd562a8a92ba"
            ],
            [
                "656a4b53d9e67047"
            ]
        ]
    },
    {
        "id": "656a4b53d9e67047",
        "type": "link out",
        "z": "e5dc6f22432398d7",
        "g": "31b375033084536b",
        "name": "heating power >= 1 (on)",
        "mode": "link",
        "links": [
            "c3a4b207319d8610"
        ],
        "x": 575,
        "y": 420,
        "wires": []
    },
    {
        "id": "a82bdd562a8a92ba",
        "type": "link out",
        "z": "e5dc6f22432398d7",
        "g": "31b375033084536b",
        "name": "heating power = 0 (off)",
        "mode": "link",
        "links": [
            "765822175b8ceb64"
        ],
        "x": 575,
        "y": 380,
        "wires": []
    },
    {
        "id": "e2f65e74ade3b671",
        "type": "comment",
        "z": "e5dc6f22432398d7",
        "g": "31b375033084536b",
        "name": "turn on or off cv boiler heating when heating power state change",
        "info": "",
        "x": 270,
        "y": 340,
        "wires": []
    },
    {
        "id": "ece831bcd7346fd7",
        "type": "delay",
        "z": "e5dc6f22432398d7",
        "g": "8bfc8c8405959d99",
        "name": "random delay",
        "pauseType": "random",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "2",
        "randomLast": "20",
        "randomUnits": "minutes",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 920,
        "y": 580,
        "wires": [
            [
                "d57ce70df622ca92"
            ]
        ]
    },
    {
        "id": "24da7345da1f2387",
        "type": "api-call-service",
        "z": "e5dc6f22432398d7",
        "g": "8bfc8c8405959d99",
        "name": "turn on light",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "{{payload.entity_id}}"
        ],
        "labelId": [],
        "data": "{\"brightness_pct\":\"{{dimlevel}}\",\"transition\":5000}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "light",
        "service": "turn_on",
        "x": 670,
        "y": 580,
        "wires": [
            [
                "ece831bcd7346fd7"
            ]
        ]
    },
    {
        "id": "d57ce70df622ca92",
        "type": "api-call-service",
        "z": "e5dc6f22432398d7",
        "g": "8bfc8c8405959d99",
        "name": "turn off light",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "{{payload.entity_id}}"
        ],
        "labelId": [],
        "data": "{\"transition\":5000}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "light",
        "service": "turn_off",
        "x": 1090,
        "y": 580,
        "wires": [
            []
        ]
    },
    {
        "id": "68b19368c349c326",
        "type": "ha-get-entities",
        "z": "e5dc6f22432398d7",
        "g": "8bfc8c8405959d99",
        "name": "pick a random light that is off",
        "server": "4ba92433.2478cc",
        "version": 1,
        "rules": [
            {
                "condition": "state_object",
                "property": "entity_id",
                "logic": "starts_with",
                "value": "light.",
                "valueType": "str"
            },
            {
                "condition": "state_object",
                "property": "state",
                "logic": "is",
                "value": "off",
                "valueType": "str"
            },
            {
                "condition": "area_registry",
                "property": "area_id",
                "logic": "is",
                "value": "master_bedroom",
                "valueType": "str"
            }
        ],
        "outputType": "random",
        "outputEmptyResults": false,
        "outputLocationType": "msg",
        "outputLocation": "payload",
        "outputResultsCount": 1,
        "x": 460,
        "y": 580,
        "wires": [
            [
                "24da7345da1f2387"
            ]
        ]
    },
    {
        "id": "b3a39fe10aabc206",
        "type": "link in",
        "z": "e5dc6f22432398d7",
        "g": "8bfc8c8405959d99",
        "name": "pick a random light for vacation simulation",
        "links": [
            "d1676ca082b9a9f0"
        ],
        "x": 305,
        "y": 580,
        "wires": [
            [
                "68b19368c349c326"
            ]
        ]
    },
    {
        "id": "c8b51e690f45711c",
        "type": "comment",
        "z": "e5dc6f22432398d7",
        "g": "8bfc8c8405959d99",
        "name": "turn on a random light that was off and turn it randomly off",
        "info": "",
        "x": 270,
        "y": 540,
        "wires": []
    },
    {
        "id": "d357be3dcef4fda7",
        "type": "catch",
        "z": "243935f7eeb0bc81",
        "g": "94eb0b8399251a81",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 60,
        "wires": [
            [
                "27a67028b86e4283"
            ]
        ]
    },
    {
        "id": "27a67028b86e4283",
        "type": "template",
        "z": "243935f7eeb0bc81",
        "g": "94eb0b8399251a81",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 60,
        "wires": [
            [
                "5c37c236740f83bb"
            ]
        ]
    },
    {
        "id": "6e8aad8568d522fa",
        "type": "link out",
        "z": "243935f7eeb0bc81",
        "g": "94eb0b8399251a81",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 675,
        "y": 60,
        "wires": []
    },
    {
        "id": "5c37c236740f83bb",
        "type": "template",
        "z": "243935f7eeb0bc81",
        "g": "94eb0b8399251a81",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 60,
        "wires": [
            [
                "b065c26e521207b1"
            ]
        ]
    },
    {
        "id": "b065c26e521207b1",
        "type": "function",
        "z": "243935f7eeb0bc81",
        "g": "94eb0b8399251a81",
        "name": "notify.notification_id",
        "func": "msg.notify.notification_id = env.get(\"NR_FLOW_ID\");\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 550,
        "y": 60,
        "wires": [
            [
                "6e8aad8568d522fa"
            ]
        ]
    },
    {
        "id": "d9b430d23e3b16c1",
        "type": "comment",
        "z": "243935f7eeb0bc81",
        "g": "d491c3abb1df5844",
        "name": "turn off lights in lise's room when sleepmode turns on",
        "info": "",
        "x": 250,
        "y": 560,
        "wires": []
    },
    {
        "id": "5169a3e5cfd040d0",
        "type": "ha-get-entities",
        "z": "243935f7eeb0bc81",
        "g": "d491c3abb1df5844",
        "name": "lookup excluded sleepmode lights",
        "server": "4ba92433.2478cc",
        "version": 1,
        "rules": [
            {
                "condition": "state_object",
                "property": "entity_id",
                "logic": "in_group",
                "value": "group.sleepmode_excluded_lights",
                "valueType": "str"
            }
        ],
        "outputType": "split",
        "outputEmptyResults": false,
        "outputLocationType": "msg",
        "outputLocation": "excluded_lights",
        "outputResultsCount": 1,
        "x": 840,
        "y": 600,
        "wires": [
            [
                "ff66dacaaf9396be"
            ]
        ]
    },
    {
        "id": "6c91b862b244dfaf",
        "type": "switch",
        "z": "243935f7eeb0bc81",
        "g": "d491c3abb1df5844",
        "name": "",
        "property": "payload.entity_id",
        "propertyType": "msg",
        "rules": [
            {
                "t": "cont",
                "v": "lights.entity_id",
                "vt": "msg"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1170,
        "y": 600,
        "wires": [
            [],
            [
                "20f37fb9eb18e7e8"
            ]
        ],
        "info": "Pass lights that is not in the excluded lights list thru otherwise"
    },
    {
        "id": "f900b62e0fafcb26",
        "type": "ha-get-entities",
        "z": "243935f7eeb0bc81",
        "g": "d491c3abb1df5844",
        "name": "lookup lights on",
        "server": "4ba92433.2478cc",
        "version": 1,
        "rules": [
            {
                "condition": "state_object",
                "property": "entity_id",
                "logic": "starts_with",
                "value": "light.",
                "valueType": "str"
            },
            {
                "condition": "state_object",
                "property": "state",
                "logic": "is",
                "value": "on",
                "valueType": "str"
            },
            {
                "condition": "area_registry",
                "property": "area_id",
                "logic": "is",
                "value": "lises_room",
                "valueType": "str"
            }
        ],
        "outputType": "split",
        "outputEmptyResults": false,
        "outputLocationType": "msg",
        "outputLocation": "included_lights",
        "outputResultsCount": 1,
        "x": 400,
        "y": 600,
        "wires": [
            [
                "9f5195da0a931278"
            ]
        ]
    },
    {
        "id": "ff66dacaaf9396be",
        "type": "join",
        "z": "243935f7eeb0bc81",
        "g": "d491c3abb1df5844",
        "name": "",
        "mode": "custom",
        "build": "string",
        "property": "payload.entity_id",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "useparts": true,
        "accumulate": false,
        "timeout": "",
        "count": "",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 1050,
        "y": 600,
        "wires": [
            [
                "6c91b862b244dfaf"
            ]
        ]
    },
    {
        "id": "9f5195da0a931278",
        "type": "change",
        "z": "243935f7eeb0bc81",
        "g": "d491c3abb1df5844",
        "name": "",
        "rules": [
            {
                "t": "move",
                "p": "payload",
                "pt": "msg",
                "to": "lights",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 590,
        "y": 600,
        "wires": [
            [
                "5169a3e5cfd040d0"
            ]
        ]
    },
    {
        "id": "20f37fb9eb18e7e8",
        "type": "api-call-service",
        "z": "243935f7eeb0bc81",
        "g": "d491c3abb1df5844",
        "name": "turn off lights",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "{{lights.entity_id}}"
        ],
        "labelId": [],
        "data": "{\"transition\":5000}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "light",
        "service": "turn_off",
        "x": 1310,
        "y": 600,
        "wires": [
            []
        ]
    },
    {
        "id": "23b344d4bd248871",
        "type": "link in",
        "z": "243935f7eeb0bc81",
        "g": "d491c3abb1df5844",
        "name": "turn off lights in lise's room",
        "links": [
            "e6b9ff42fde3ea4e"
        ],
        "x": 285,
        "y": 600,
        "wires": [
            [
                "f900b62e0fafcb26"
            ]
        ]
    },
    {
        "id": "4ee5fa5fa64e28db",
        "type": "api-call-service",
        "z": "243935f7eeb0bc81",
        "g": "ca35948a32eaf853",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "climate.set_temperature",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "climate.lises_room"
        ],
        "labelId": [],
        "data": "{\"temperature\":\"{{target_temp}}\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": true,
        "domain": "climate",
        "service": "set_temperature",
        "x": 870,
        "y": 380,
        "wires": [
            []
        ]
    },
    {
        "id": "39a60535aa1f7b2a",
        "type": "comment",
        "z": "243935f7eeb0bc81",
        "g": "ca35948a32eaf853",
        "name": "set thermostats to 16 degree celcius when nobody is home or sleepmode has turned on",
        "info": "",
        "x": 340,
        "y": 340,
        "wires": []
    },
    {
        "id": "62a2b25ed9d9d6bf",
        "type": "template",
        "z": "243935f7eeb0bc81",
        "g": "ca35948a32eaf853",
        "name": "target temp",
        "field": "target_temp",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "16",
        "output": "str",
        "x": 670,
        "y": 380,
        "wires": [
            [
                "4ee5fa5fa64e28db"
            ]
        ]
    },
    {
        "id": "fef971c806c0156d",
        "type": "link in",
        "z": "243935f7eeb0bc81",
        "g": "ca35948a32eaf853",
        "name": "set away temperature tado thermostats",
        "links": [
            "e6b9ff42fde3ea4e"
        ],
        "x": 545,
        "y": 420,
        "wires": [
            [
                "62a2b25ed9d9d6bf"
            ]
        ]
    },
    {
        "id": "2f3fee056865ed93",
        "type": "subflow:9ea6eabfb34d96e0",
        "z": "243935f7eeb0bc81",
        "g": "ca35948a32eaf853",
        "name": "",
        "x": 430,
        "y": 380,
        "wires": [
            [
                "62a2b25ed9d9d6bf"
            ]
        ]
    },
    {
        "id": "b30554bed452a7ce",
        "type": "server-state-changed",
        "z": "243935f7eeb0bc81",
        "g": "be566417ae9ea3df",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 1,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "sensor.lises_room_heating"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": true,
        "stateType": "num",
        "ifState": "",
        "ifStateType": "num",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 200,
        "y": 200,
        "wires": [
            [
                "296459aa78be1302"
            ]
        ]
    },
    {
        "id": "296459aa78be1302",
        "type": "switch",
        "z": "243935f7eeb0bc81",
        "g": "be566417ae9ea3df",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            },
            {
                "t": "gte",
                "v": "1",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 430,
        "y": 200,
        "wires": [
            [
                "4a5d12f7119e0232"
            ],
            [
                "2df01573bdd484ad"
            ]
        ]
    },
    {
        "id": "2df01573bdd484ad",
        "type": "link out",
        "z": "243935f7eeb0bc81",
        "g": "be566417ae9ea3df",
        "name": "heating power >= 1 (on)",
        "mode": "link",
        "links": [
            "c3a4b207319d8610"
        ],
        "x": 535,
        "y": 240,
        "wires": []
    },
    {
        "id": "4a5d12f7119e0232",
        "type": "link out",
        "z": "243935f7eeb0bc81",
        "g": "be566417ae9ea3df",
        "name": "heating power = 0 (off)",
        "mode": "link",
        "links": [
            "765822175b8ceb64"
        ],
        "x": 535,
        "y": 200,
        "wires": []
    },
    {
        "id": "001ac4dc79783f23",
        "type": "comment",
        "z": "243935f7eeb0bc81",
        "g": "be566417ae9ea3df",
        "name": "turn on or off cv boiler heating when heating power state change",
        "info": "",
        "x": 270,
        "y": 160,
        "wires": []
    },
    {
        "id": "e55b97ef416d94ab",
        "type": "delay",
        "z": "243935f7eeb0bc81",
        "g": "755f0cfbe6e1ada2",
        "name": "random delay",
        "pauseType": "random",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "2",
        "randomLast": "20",
        "randomUnits": "minutes",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 920,
        "y": 740,
        "wires": [
            [
                "483a94a88dfcee79"
            ]
        ]
    },
    {
        "id": "a1efdb82eafb510c",
        "type": "api-call-service",
        "z": "243935f7eeb0bc81",
        "g": "755f0cfbe6e1ada2",
        "name": "turn on light",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "{{payload.entity_id}}"
        ],
        "labelId": [],
        "data": "{\"brightness_pct\":\"{{dimlevel}}\",\"transition\":5000}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "light",
        "service": "turn_on",
        "x": 670,
        "y": 740,
        "wires": [
            [
                "e55b97ef416d94ab"
            ]
        ]
    },
    {
        "id": "483a94a88dfcee79",
        "type": "api-call-service",
        "z": "243935f7eeb0bc81",
        "g": "755f0cfbe6e1ada2",
        "name": "turn off light",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "{{payload.entity_id}}"
        ],
        "labelId": [],
        "data": "{\"transition\":5000}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "light",
        "service": "turn_off",
        "x": 1090,
        "y": 740,
        "wires": [
            []
        ]
    },
    {
        "id": "905767a3ed395363",
        "type": "ha-get-entities",
        "z": "243935f7eeb0bc81",
        "g": "755f0cfbe6e1ada2",
        "name": "pick a random light that is off",
        "server": "4ba92433.2478cc",
        "version": 1,
        "rules": [
            {
                "condition": "state_object",
                "property": "entity_id",
                "logic": "starts_with",
                "value": "light.",
                "valueType": "str"
            },
            {
                "condition": "state_object",
                "property": "state",
                "logic": "is",
                "value": "off",
                "valueType": "str"
            },
            {
                "condition": "area_registry",
                "property": "area_id",
                "logic": "is",
                "value": "lises_room",
                "valueType": "str"
            }
        ],
        "outputType": "random",
        "outputEmptyResults": false,
        "outputLocationType": "msg",
        "outputLocation": "payload",
        "outputResultsCount": 1,
        "x": 460,
        "y": 740,
        "wires": [
            [
                "a1efdb82eafb510c"
            ]
        ]
    },
    {
        "id": "68dfbc6804cce853",
        "type": "link in",
        "z": "243935f7eeb0bc81",
        "g": "755f0cfbe6e1ada2",
        "name": "pick a random light for vacation simulation",
        "links": [
            "8b3a1477ad1b4a99"
        ],
        "x": 305,
        "y": 740,
        "wires": [
            [
                "905767a3ed395363"
            ]
        ]
    },
    {
        "id": "703a035d531b109f",
        "type": "comment",
        "z": "243935f7eeb0bc81",
        "g": "755f0cfbe6e1ada2",
        "name": "turn on a random light that was off and turn it randomly off",
        "info": "",
        "x": 270,
        "y": 700,
        "wires": []
    },
    {
        "id": "effdb4f47bd11771",
        "type": "comment",
        "z": "3d30857f5165e137",
        "g": "8484c31ea7272515",
        "name": "turn on toilet fan",
        "info": "notify when a message appears in pfsense",
        "x": 120,
        "y": 300,
        "wires": []
    },
    {
        "id": "25d79c8787fd1812",
        "type": "api-call-service",
        "z": "3d30857f5165e137",
        "g": "8484c31ea7272515",
        "name": "turn on toilet fan",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "fan.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "fan.shelly1pm_toilet_fan_switch_0"
        ],
        "labelId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "fan",
        "service": "turn_on",
        "x": 500,
        "y": 340,
        "wires": [
            []
        ]
    },
    {
        "id": "59e4a09ae6f431cd",
        "type": "api-call-service",
        "z": "3d30857f5165e137",
        "g": "8484c31ea7272515",
        "name": "turn off toilet fan",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "fan.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "fan.shelly1pm_toilet_fan_switch_0"
        ],
        "labelId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "fan",
        "service": "turn_off",
        "x": 1380,
        "y": 340,
        "wires": [
            []
        ]
    },
    {
        "id": "b5dd79a9ecc0d1c8",
        "type": "ha-wait-until",
        "z": "3d30857f5165e137",
        "g": "8484c31ea7272515",
        "name": "wait until toilet light goes off with 10 sec timeout",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "entities": {
            "entity": [
                "light.shelly1pm_toilet_light_switch_0"
            ],
            "substring": [],
            "regex": []
        },
        "property": "state",
        "comparator": "is",
        "value": "off",
        "valueType": "str",
        "timeout": "10",
        "timeoutType": "num",
        "timeoutUnits": "seconds",
        "checkCurrentState": true,
        "blockInputOverrides": true,
        "outputProperties": [],
        "entityLocation": "data",
        "entityLocationType": "none",
        "x": 600,
        "y": 400,
        "wires": [
            [
                "e40aff179bd30a9b"
            ],
            [
                "8a928f6874ea03c8"
            ]
        ]
    },
    {
        "id": "8a928f6874ea03c8",
        "type": "ha-wait-until",
        "z": "3d30857f5165e137",
        "g": "8484c31ea7272515",
        "name": "wait until toilet light goes off ",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "entities": {
            "entity": [
                "light.shelly1pm_toilet_light_switch_0"
            ],
            "substring": [],
            "regex": []
        },
        "property": "state",
        "comparator": "is",
        "value": "off",
        "valueType": "str",
        "timeout": "1",
        "timeoutType": "num",
        "timeoutUnits": "hours",
        "checkCurrentState": true,
        "blockInputOverrides": true,
        "outputProperties": [],
        "entityLocation": "data",
        "entityLocationType": "none",
        "x": 940,
        "y": 440,
        "wires": [
            [
                "6433045b1f3b4f8e"
            ],
            [
                "1bcfdae4fb034efd"
            ]
        ]
    },
    {
        "id": "6433045b1f3b4f8e",
        "type": "stoptimer",
        "z": "3d30857f5165e137",
        "g": "8484c31ea7272515",
        "duration": "20",
        "units": "Minute",
        "payloadtype": "num",
        "payloadval": "0",
        "name": "",
        "x": 1160,
        "y": 380,
        "wires": [
            [
                "59e4a09ae6f431cd"
            ],
            []
        ]
    },
    {
        "id": "0a28fb35b8f92f89",
        "type": "delay",
        "z": "3d30857f5165e137",
        "g": "8484c31ea7272515",
        "name": "",
        "pauseType": "delay",
        "timeout": "10",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 320,
        "y": 340,
        "wires": [
            [
                "25d79c8787fd1812",
                "b5dd79a9ecc0d1c8"
            ]
        ]
    },
    {
        "id": "881c7c6e29dbf984",
        "type": "catch",
        "z": "3d30857f5165e137",
        "g": "647fea0a3ea7e4e4",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 60,
        "wires": [
            [
                "456cca54662124d4"
            ]
        ]
    },
    {
        "id": "456cca54662124d4",
        "type": "template",
        "z": "3d30857f5165e137",
        "g": "647fea0a3ea7e4e4",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 60,
        "wires": [
            [
                "565e353fb713834b"
            ]
        ]
    },
    {
        "id": "ccb7ef12d5532abb",
        "type": "link out",
        "z": "3d30857f5165e137",
        "g": "647fea0a3ea7e4e4",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 675,
        "y": 60,
        "wires": []
    },
    {
        "id": "565e353fb713834b",
        "type": "template",
        "z": "3d30857f5165e137",
        "g": "647fea0a3ea7e4e4",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 60,
        "wires": [
            [
                "4fbf6de64bc19fa8"
            ]
        ]
    },
    {
        "id": "4fbf6de64bc19fa8",
        "type": "function",
        "z": "3d30857f5165e137",
        "g": "647fea0a3ea7e4e4",
        "name": "notify.notification_id",
        "func": "msg.notify.notification_id = env.get(\"NR_FLOW_ID\");\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 550,
        "y": 60,
        "wires": [
            [
                "ccb7ef12d5532abb"
            ]
        ]
    },
    {
        "id": "3b550de91ce4e17e",
        "type": "server-state-changed",
        "z": "3d30857f5165e137",
        "g": "9de4afe79cde1a47",
        "name": "toilet door",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "binary_sensor.toiletdoor"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": false,
        "stateType": "str",
        "ifState": "on",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 100,
        "y": 200,
        "wires": [
            [
                "8eeed77d329cda19"
            ],
            []
        ]
    },
    {
        "id": "ee6a31878d411d3d",
        "type": "comment",
        "z": "3d30857f5165e137",
        "g": "9de4afe79cde1a47",
        "name": "toilet door trigger",
        "info": "",
        "x": 120,
        "y": 160,
        "wires": []
    },
    {
        "id": "8eeed77d329cda19",
        "type": "link out",
        "z": "3d30857f5165e137",
        "g": "9de4afe79cde1a47",
        "name": "toiletdoor open",
        "mode": "link",
        "links": [
            "b978613dcfb6a202",
            "bd841cbf320510d2"
        ],
        "x": 195,
        "y": 200,
        "wires": []
    },
    {
        "id": "a752563ecc453fd5",
        "type": "server-state-changed",
        "z": "3d30857f5165e137",
        "g": "8484c31ea7272515",
        "name": "toilet light turned on",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "light.shelly1pm_toilet_light_switch_0"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": false,
        "stateType": "str",
        "ifState": "on",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "",
        "forType": "num",
        "forUnits": "seconds",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 130,
        "y": 340,
        "wires": [
            [
                "0a28fb35b8f92f89"
            ],
            []
        ]
    },
    {
        "id": "0d2ea417abbfd9a9",
        "type": "inject",
        "z": "584de19021aea4c9",
        "g": "08715fb1375207f2",
        "name": "daily 06:15",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "15 06 * * *",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "on",
        "payloadType": "str",
        "x": 230,
        "y": 200,
        "wires": [
            [
                "33536fb6cb94dc7d",
                "3c72ab291eed2837"
            ]
        ]
    },
    {
        "id": "3c72ab291eed2837",
        "type": "api-current-state",
        "z": "584de19021aea4c9",
        "g": "08715fb1375207f2",
        "name": "state guest on",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.guest",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 480,
        "y": 260,
        "wires": [
            [
                "98e460a4ed0ed121"
            ],
            []
        ]
    },
    {
        "id": "33536fb6cb94dc7d",
        "type": "api-current-state",
        "z": "584de19021aea4c9",
        "g": "08715fb1375207f2",
        "name": "state persons home",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "home",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "group.persons",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 470,
        "y": 200,
        "wires": [
            [
                "98e460a4ed0ed121"
            ],
            []
        ]
    },
    {
        "id": "b39b586bf6ca434d",
        "type": "catch",
        "z": "584de19021aea4c9",
        "g": "4d4e6df3797df6ef",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 60,
        "wires": [
            [
                "ec93c45ae9417e15"
            ]
        ]
    },
    {
        "id": "ec93c45ae9417e15",
        "type": "template",
        "z": "584de19021aea4c9",
        "g": "4d4e6df3797df6ef",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 60,
        "wires": [
            [
                "6304933d3ac6eec0"
            ]
        ]
    },
    {
        "id": "9d553baf555a2986",
        "type": "link out",
        "z": "584de19021aea4c9",
        "g": "4d4e6df3797df6ef",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 675,
        "y": 60,
        "wires": []
    },
    {
        "id": "6304933d3ac6eec0",
        "type": "template",
        "z": "584de19021aea4c9",
        "g": "4d4e6df3797df6ef",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 60,
        "wires": [
            [
                "0dcd14f1512c625d"
            ]
        ]
    },
    {
        "id": "0dcd14f1512c625d",
        "type": "function",
        "z": "584de19021aea4c9",
        "g": "4d4e6df3797df6ef",
        "name": "notify.notification_id",
        "func": "msg.notify.notification_id = env.get(\"NR_FLOW_ID\");\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 550,
        "y": 60,
        "wires": [
            [
                "9d553baf555a2986"
            ]
        ]
    },
    {
        "id": "b52170d79065c5e9",
        "type": "comment",
        "z": "584de19021aea4c9",
        "g": "08715fb1375207f2",
        "name": "turn off home security boolean at 06:15 or when daylight is on or when the house is occupied or when sleepmode gets turned off",
        "info": "",
        "x": 470,
        "y": 160,
        "wires": []
    },
    {
        "id": "72ae4172893b2bb9",
        "type": "link in",
        "z": "584de19021aea4c9",
        "g": "08715fb1375207f2",
        "name": "turn off home security mode",
        "links": [
            "31fda56ec62032b8",
            "c07ca02ed810efe8"
        ],
        "x": 285,
        "y": 280,
        "wires": [
            [
                "33536fb6cb94dc7d",
                "3c72ab291eed2837"
            ]
        ]
    },
    {
        "id": "e70a120b208749ae",
        "type": "subflow:ad57f56dd92dd9d6",
        "z": "584de19021aea4c9",
        "g": "08715fb1375207f2",
        "name": "",
        "x": 170,
        "y": 360,
        "wires": [
            [
                "ce03ab56bedf05fc"
            ],
            [],
            [],
            [
                "ce03ab56bedf05fc"
            ],
            [
                "ce03ab56bedf05fc"
            ]
        ]
    },
    {
        "id": "98e460a4ed0ed121",
        "type": "delay",
        "z": "584de19021aea4c9",
        "g": "08715fb1375207f2",
        "name": "",
        "pauseType": "rate",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": true,
        "allowrate": false,
        "outputs": 1,
        "x": 730,
        "y": 200,
        "wires": [
            [
                "06e3604a68b26be9"
            ]
        ]
    },
    {
        "id": "1da076f55b07dac9",
        "type": "api-call-service",
        "z": "584de19021aea4c9",
        "g": "08715fb1375207f2",
        "name": "turn off home security boolean",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "input_boolean.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_boolean.home_security"
        ],
        "labelId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": true,
        "domain": "input_boolean",
        "service": "turn_off",
        "x": 1150,
        "y": 200,
        "wires": [
            []
        ]
    },
    {
        "id": "130316c644b8cba4",
        "type": "comment",
        "z": "584de19021aea4c9",
        "g": "78c2f5b11bac0b38",
        "name": "turn on home security when house gets onoccupied",
        "info": "",
        "x": 230,
        "y": 480,
        "wires": []
    },
    {
        "id": "4e14b8416d9434e5",
        "type": "subflow:9ea6eabfb34d96e0",
        "z": "584de19021aea4c9",
        "g": "78c2f5b11bac0b38",
        "name": "",
        "x": 170,
        "y": 540,
        "wires": [
            [
                "0e64c3a5f1ef394a"
            ]
        ]
    },
    {
        "id": "06e3604a68b26be9",
        "type": "api-current-state",
        "z": "584de19021aea4c9",
        "g": "08715fb1375207f2",
        "name": "home security is on",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.home_security",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 910,
        "y": 200,
        "wires": [
            [
                "1da076f55b07dac9"
            ],
            []
        ]
    },
    {
        "id": "f0e47efb8914e6b6",
        "type": "api-call-service",
        "z": "584de19021aea4c9",
        "g": "78c2f5b11bac0b38",
        "name": "turn on home security boolean",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "input_boolean.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_boolean.home_security"
        ],
        "labelId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": true,
        "domain": "input_boolean",
        "service": "turn_on",
        "x": 810,
        "y": 540,
        "wires": [
            [
                "e22410d2b950dabb"
            ]
        ]
    },
    {
        "id": "48e1b48ffc1c59d0",
        "type": "api-current-state",
        "z": "584de19021aea4c9",
        "g": "78c2f5b11bac0b38",
        "name": "home security is off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.home_security",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 570,
        "y": 540,
        "wires": [
            [
                "f0e47efb8914e6b6"
            ],
            []
        ]
    },
    {
        "id": "0e64c3a5f1ef394a",
        "type": "delay",
        "z": "584de19021aea4c9",
        "g": "78c2f5b11bac0b38",
        "name": "",
        "pauseType": "rate",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": true,
        "allowrate": false,
        "outputs": 1,
        "x": 390,
        "y": 540,
        "wires": [
            [
                "48e1b48ffc1c59d0"
            ]
        ]
    },
    {
        "id": "e22410d2b950dabb",
        "type": "template",
        "z": "584de19021aea4c9",
        "g": "78c2f5b11bac0b38",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Beveiliging is ingeschakeld ",
        "output": "str",
        "x": 1020,
        "y": 540,
        "wires": [
            [
                "79d81ca9d619b285"
            ]
        ]
    },
    {
        "id": "21c070ce72b68d7d",
        "type": "template",
        "z": "584de19021aea4c9",
        "g": "69027adcba470682",
        "name": "icon",
        "field": "notify.icon",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "",
        "output": "str",
        "x": 1210,
        "y": 560,
        "wires": [
            [
                "1f7f697fc6355767"
            ]
        ]
    },
    {
        "id": "7e2213cba8ed0e58",
        "type": "template",
        "z": "584de19021aea4c9",
        "g": "69027adcba470682",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Beveiliging",
        "output": "str",
        "x": 1210,
        "y": 520,
        "wires": [
            [
                "1f7f697fc6355767"
            ]
        ]
    },
    {
        "id": "7776b1f9419bbd45",
        "type": "link out",
        "z": "584de19021aea4c9",
        "g": "69027adcba470682",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "8ed3b0974336e55b"
        ],
        "x": 1465,
        "y": 540,
        "wires": []
    },
    {
        "id": "1f7f697fc6355767",
        "type": "join",
        "z": "584de19021aea4c9",
        "g": "69027adcba470682",
        "name": "",
        "mode": "custom",
        "build": "merged",
        "property": "notify",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": false,
        "timeout": "",
        "count": "3",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 1330,
        "y": 540,
        "wires": [
            [
                "7776b1f9419bbd45"
            ]
        ]
    },
    {
        "id": "ec72f7b2db4cc37c",
        "type": "api-call-service",
        "z": "584de19021aea4c9",
        "g": "ed9d73ed345d61fb",
        "name": "stop timer security",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "timer.cancel",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "timer.home_security"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "timer",
        "service": "cancel",
        "x": 650,
        "y": 840,
        "wires": [
            []
        ]
    },
    {
        "id": "764ff273496b0193",
        "type": "api-current-state",
        "z": "584de19021aea4c9",
        "g": "ed9d73ed345d61fb",
        "name": "state timer security active",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "active",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "timer.home_security",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "timer.security",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 430,
        "y": 840,
        "wires": [
            [
                "ec72f7b2db4cc37c"
            ],
            []
        ]
    },
    {
        "id": "726d2d1b1b907051",
        "type": "comment",
        "z": "584de19021aea4c9",
        "g": "ed9d73ed345d61fb",
        "name": "stop home security timer when sleepmode turns off when and the timer is still running",
        "info": "",
        "x": 330,
        "y": 800,
        "wires": []
    },
    {
        "id": "62498ddd63d334ac",
        "type": "link in",
        "z": "584de19021aea4c9",
        "g": "ed9d73ed345d61fb",
        "name": "stop home security timer",
        "links": [
            "c07ca02ed810efe8"
        ],
        "x": 275,
        "y": 840,
        "wires": [
            [
                "764ff273496b0193"
            ]
        ]
    },
    {
        "id": "214c71e5dabcaaae",
        "type": "api-call-service",
        "z": "584de19021aea4c9",
        "g": "ed9d73ed345d61fb",
        "name": "turn on home security",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "input_boolean.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_boolean.home_security"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "input_boolean",
        "service": "turn_on",
        "x": 360,
        "y": 940,
        "wires": [
            []
        ]
    },
    {
        "id": "90439c6cd4d95382",
        "type": "comment",
        "z": "584de19021aea4c9",
        "g": "ed9d73ed345d61fb",
        "name": "turn on home securitu boolean when timer send finished event",
        "info": "",
        "x": 260,
        "y": 900,
        "wires": []
    },
    {
        "id": "1ef02d6284775f4a",
        "type": "server-events",
        "z": "584de19021aea4c9",
        "g": "ed9d73ed345d61fb",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 3,
        "exposeAsEntityConfig": "",
        "eventType": "timer.finished",
        "eventData": "{\"entity_id\":\"timer.home_security\"}",
        "waitForRunning": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "$outputData(\"eventData\").event_type",
                "valueType": "jsonata"
            }
        ],
        "x": 140,
        "y": 940,
        "wires": [
            [
                "214c71e5dabcaaae"
            ]
        ]
    },
    {
        "id": "8b5e46426b0a2fba",
        "type": "api-current-state",
        "z": "584de19021aea4c9",
        "g": "ed9d73ed345d61fb",
        "name": "state home security boolean is off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.home_security",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 460,
        "y": 740,
        "wires": [
            [
                "97e49f2803bfd3bd"
            ],
            []
        ]
    },
    {
        "id": "97e49f2803bfd3bd",
        "type": "api-call-service",
        "z": "584de19021aea4c9",
        "g": "ed9d73ed345d61fb",
        "name": "start home security 20 min timer ",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "timer.start",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "timer.home_security"
        ],
        "labelId": [],
        "data": "{\"duration\":\"00:20:00\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "timer",
        "service": "start",
        "x": 750,
        "y": 740,
        "wires": [
            []
        ]
    },
    {
        "id": "79eed535fa1b460d",
        "type": "comment",
        "z": "584de19021aea4c9",
        "g": "ed9d73ed345d61fb",
        "name": "start 20 minute home security timer when sleepmode get turned on",
        "info": "``",
        "x": 280,
        "y": 700,
        "wires": []
    },
    {
        "id": "598fe34c24ec541e",
        "type": "link in",
        "z": "584de19021aea4c9",
        "g": "ed9d73ed345d61fb",
        "name": "start home security timer",
        "links": [
            "e6b9ff42fde3ea4e"
        ],
        "x": 275,
        "y": 740,
        "wires": [
            [
                "8b5e46426b0a2fba"
            ]
        ]
    },
    {
        "id": "90650fd4618583b4",
        "type": "comment",
        "z": "840a747bdf820be0",
        "g": "6668f9729dac8340",
        "name": "home alarm boolean turned on",
        "info": "",
        "x": 170,
        "y": 160,
        "wires": []
    },
    {
        "id": "5874beb71c3c9523",
        "type": "link out",
        "z": "840a747bdf820be0",
        "g": "6668f9729dac8340",
        "name": "link_out_light_dynamics_1",
        "mode": "link",
        "links": [
            "43cbfb522e72cbe5"
        ],
        "x": 195,
        "y": 200,
        "wires": []
    },
    {
        "id": "e19d09cced81d589",
        "type": "server-state-changed",
        "z": "840a747bdf820be0",
        "g": "6668f9729dac8340",
        "name": "alarm is on",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 1,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "input_boolean.alarm"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": false,
        "stateType": "str",
        "ifState": "",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": true,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "alarm",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            }
        ],
        "x": 100,
        "y": 200,
        "wires": [
            [
                "5874beb71c3c9523"
            ]
        ]
    },
    {
        "id": "fec9fa7b765aea54",
        "type": "catch",
        "z": "840a747bdf820be0",
        "g": "8046d6765d8c4979",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 60,
        "wires": [
            [
                "59e10914bf8112d2"
            ]
        ]
    },
    {
        "id": "59e10914bf8112d2",
        "type": "template",
        "z": "840a747bdf820be0",
        "g": "8046d6765d8c4979",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 60,
        "wires": [
            [
                "885ec72ae79d6b60"
            ]
        ]
    },
    {
        "id": "1cdb96d7083434cf",
        "type": "link out",
        "z": "840a747bdf820be0",
        "g": "8046d6765d8c4979",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 675,
        "y": 60,
        "wires": []
    },
    {
        "id": "885ec72ae79d6b60",
        "type": "template",
        "z": "840a747bdf820be0",
        "g": "8046d6765d8c4979",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 60,
        "wires": [
            [
                "a695b2e904a12b43"
            ]
        ]
    },
    {
        "id": "a695b2e904a12b43",
        "type": "function",
        "z": "840a747bdf820be0",
        "g": "8046d6765d8c4979",
        "name": "notify.notification_id",
        "func": "msg.notify.notification_id = env.get(\"NR_FLOW_ID\");\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 550,
        "y": 60,
        "wires": [
            [
                "1cdb96d7083434cf"
            ]
        ]
    },
    {
        "id": "5b60f50f0c536814",
        "type": "inject",
        "z": "13a255ebdd1ff73b",
        "g": "cab9eeaa205362d4",
        "name": "daily 06:15",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "15 06 * * *",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "on",
        "payloadType": "str",
        "x": 230,
        "y": 200,
        "wires": [
            [
                "144998ab4397337d",
                "ab8d50df95263bdb"
            ]
        ]
    },
    {
        "id": "a47dc9c70d1b7cac",
        "type": "comment",
        "z": "13a255ebdd1ff73b",
        "g": "cab9eeaa205362d4",
        "name": "turn off sleepmode at 06:15 in the morning or when daylight is on",
        "info": "",
        "x": 290,
        "y": 160,
        "wires": []
    },
    {
        "id": "ab8d50df95263bdb",
        "type": "api-current-state",
        "z": "13a255ebdd1ff73b",
        "g": "cab9eeaa205362d4",
        "name": "state guest on",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.guest",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 480,
        "y": 260,
        "wires": [
            [
                "411acab1235f04c0"
            ],
            []
        ]
    },
    {
        "id": "144998ab4397337d",
        "type": "api-current-state",
        "z": "13a255ebdd1ff73b",
        "g": "cab9eeaa205362d4",
        "name": "state persons home",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "home",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "group.persons",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 490,
        "y": 200,
        "wires": [
            [
                "411acab1235f04c0"
            ],
            []
        ]
    },
    {
        "id": "122bd35233daa183",
        "type": "api-call-service",
        "z": "13a255ebdd1ff73b",
        "g": "cab9eeaa205362d4",
        "name": "turn off sleepmode",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "input_boolean.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_boolean.sleep_mode"
        ],
        "labelId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": true,
        "domain": "input_boolean",
        "service": "turn_off",
        "x": 1070,
        "y": 200,
        "wires": [
            []
        ]
    },
    {
        "id": "2ba9517a860a47ee",
        "type": "catch",
        "z": "13a255ebdd1ff73b",
        "g": "b42667cc42459750",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 60,
        "wires": [
            [
                "d24f6768d16e9d4a"
            ]
        ]
    },
    {
        "id": "d24f6768d16e9d4a",
        "type": "template",
        "z": "13a255ebdd1ff73b",
        "g": "b42667cc42459750",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 60,
        "wires": [
            [
                "619ec42f4a819c58"
            ]
        ]
    },
    {
        "id": "c2b55a3f0ee96b43",
        "type": "link out",
        "z": "13a255ebdd1ff73b",
        "g": "b42667cc42459750",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 675,
        "y": 60,
        "wires": []
    },
    {
        "id": "619ec42f4a819c58",
        "type": "template",
        "z": "13a255ebdd1ff73b",
        "g": "b42667cc42459750",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 60,
        "wires": [
            [
                "ee92d8798fbf4b64"
            ]
        ]
    },
    {
        "id": "ee92d8798fbf4b64",
        "type": "function",
        "z": "13a255ebdd1ff73b",
        "g": "b42667cc42459750",
        "name": "notify.notification_id",
        "func": "msg.notify.notification_id = env.get(\"NR_FLOW_ID\");\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 550,
        "y": 60,
        "wires": [
            [
                "c2b55a3f0ee96b43"
            ]
        ]
    },
    {
        "id": "b636215d02b0f07a",
        "type": "server-state-changed",
        "z": "13a255ebdd1ff73b",
        "g": "9a36b394a8edfcb7",
        "name": "sleepmode is on",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "input_boolean.sleep_mode"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": false,
        "stateType": "str",
        "ifState": "on",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": false,
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 120,
        "y": 620,
        "wires": [
            [
                "e6b9ff42fde3ea4e"
            ],
            [
                "c07ca02ed810efe8"
            ]
        ]
    },
    {
        "id": "d072b374f00acb38",
        "type": "comment",
        "z": "13a255ebdd1ff73b",
        "g": "9a36b394a8edfcb7",
        "name": "trigger sleepmode is on",
        "info": "",
        "x": 140,
        "y": 560,
        "wires": []
    },
    {
        "id": "e6b9ff42fde3ea4e",
        "type": "link out",
        "z": "13a255ebdd1ff73b",
        "g": "9a36b394a8edfcb7",
        "name": "sleepmode turned on",
        "mode": "link",
        "links": [
            "bd841cbf320510d2",
            "e6107e9fc2706812",
            "5a32d7dd7b01f6db",
            "23b344d4bd248871",
            "6ab4fe8e04f4839f",
            "5049d35f7101b540",
            "7e4444ae7832e36b",
            "1ddf1eb78ab3cf78",
            "af0e2bdd4daadbcb",
            "2f6877e917181f4c",
            "fef971c806c0156d",
            "f2a735f229818e06",
            "b5e0ecf20c28f1f0",
            "4a784feb385d8d36",
            "4a713c76ca8ffd14",
            "0d887755bfdcf551",
            "82b493917e9911f4",
            "120f47429583e78d",
            "fd1316bc77e6a6dd",
            "8a78024ba282982a",
            "2eaa2fce52c5ce8a",
            "c21a54a5e245afa3",
            "0419c1d8f3124b5e",
            "517ccc4fadd46551",
            "85bbe6fa44141370",
            "598fe34c24ec541e"
        ],
        "x": 265,
        "y": 600,
        "wires": []
    },
    {
        "id": "c07ca02ed810efe8",
        "type": "link out",
        "z": "13a255ebdd1ff73b",
        "g": "9a36b394a8edfcb7",
        "name": "sleepmode turned off",
        "mode": "link",
        "links": [
            "6ab4fe8e04f4839f",
            "62498ddd63d334ac",
            "72ae4172893b2bb9"
        ],
        "x": 265,
        "y": 640,
        "wires": []
    },
    {
        "id": "411acab1235f04c0",
        "type": "api-current-state",
        "z": "13a255ebdd1ff73b",
        "g": "cab9eeaa205362d4",
        "name": "sleepmode is on",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.sleep_mode",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 700,
        "y": 200,
        "wires": [
            [
                "b71280bffd062919"
            ],
            []
        ]
    },
    {
        "id": "250aeb21b537919a",
        "type": "link in",
        "z": "13a255ebdd1ff73b",
        "g": "cab9eeaa205362d4",
        "name": "turn off sleepmode",
        "links": [
            "31fda56ec62032b8"
        ],
        "x": 285,
        "y": 260,
        "wires": [
            [
                "144998ab4397337d",
                "ab8d50df95263bdb"
            ]
        ]
    },
    {
        "id": "b1e9ceda84ca6c84",
        "type": "subflow:ad57f56dd92dd9d6",
        "z": "13a255ebdd1ff73b",
        "g": "cab9eeaa205362d4",
        "name": "",
        "x": 170,
        "y": 340,
        "wires": [
            [
                "547adbcf6d9c7157"
            ],
            [],
            [],
            [
                "547adbcf6d9c7157"
            ],
            [
                "547adbcf6d9c7157"
            ]
        ]
    },
    {
        "id": "b71280bffd062919",
        "type": "delay",
        "z": "13a255ebdd1ff73b",
        "g": "cab9eeaa205362d4",
        "name": "",
        "pauseType": "rate",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": true,
        "allowrate": false,
        "outputs": 1,
        "x": 890,
        "y": 200,
        "wires": [
            [
                "122bd35233daa183"
            ]
        ]
    },
    {
        "id": "289eb5762afd854e",
        "type": "switch",
        "z": "e98ae3c9db1bd6c3",
        "g": "34613206506f1a39",
        "name": "state is home",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "home",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 270,
        "y": 380,
        "wires": [
            [
                "2da11a2951cd690b"
            ]
        ]
    },
    {
        "id": "cd178e3895118ed9",
        "type": "comment",
        "z": "e98ae3c9db1bd6c3",
        "g": "34613206506f1a39",
        "name": "turn off vacation mode when someone comes home",
        "info": "",
        "x": 230,
        "y": 340,
        "wires": []
    },
    {
        "id": "d3f51e45d96152b6",
        "type": "comment",
        "z": "e98ae3c9db1bd6c3",
        "g": "4b5255d3994ce0e7",
        "name": "if all persons are away from home for at least 20 hours, ask whether vacation mode should be activated.",
        "info": "",
        "x": 390,
        "y": 160,
        "wires": []
    },
    {
        "id": "8319e5e91e71a1ed",
        "type": "comment",
        "z": "e98ae3c9db1bd6c3",
        "g": "7a8d3a38b4738118",
        "name": "send a message to a random area to turn on a light, restart the timer with a new duration if the vacation mode is still on",
        "info": "",
        "x": 440,
        "y": 480,
        "wires": []
    },
    {
        "id": "fb8451f100d9bf63",
        "type": "api-call-service",
        "z": "e98ae3c9db1bd6c3",
        "g": "34613206506f1a39",
        "name": "turn off vacation mode",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "input_boolean.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_boolean.vacation_mode"
        ],
        "labelId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "input_boolean",
        "service": "turn_off",
        "x": 680,
        "y": 380,
        "wires": [
            []
        ]
    },
    {
        "id": "2da11a2951cd690b",
        "type": "api-current-state",
        "z": "e98ae3c9db1bd6c3",
        "g": "34613206506f1a39",
        "name": "vacation mode is on",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.vacation_mode",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 460,
        "y": 380,
        "wires": [
            [
                "fb8451f100d9bf63"
            ],
            []
        ]
    },
    {
        "id": "03b925349d92a20d",
        "type": "server-state-changed",
        "z": "e98ae3c9db1bd6c3",
        "g": "34613206506f1a39",
        "name": "state persons",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 1,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "group.persons"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": true,
        "stateType": "str",
        "ifState": "",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": true,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 110,
        "y": 380,
        "wires": [
            [
                "289eb5762afd854e"
            ]
        ]
    },
    {
        "id": "b53dc3ab1408794a",
        "type": "link out",
        "z": "e98ae3c9db1bd6c3",
        "g": "4b5255d3994ce0e7",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "edbceb117f04f41e"
        ],
        "x": 595,
        "y": 240,
        "wires": []
    },
    {
        "id": "8fccda12ea75bc0d",
        "type": "api-current-state",
        "z": "e98ae3c9db1bd6c3",
        "g": "4b5255d3994ce0e7",
        "name": "persons not home for 20 hours",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "home",
        "halt_if_type": "str",
        "halt_if_compare": "is_not",
        "entity_id": "group.persons",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "20",
        "forType": "num",
        "forUnits": "hours",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 430,
        "y": 240,
        "wires": [
            [
                "b53dc3ab1408794a"
            ],
            []
        ]
    },
    {
        "id": "61c36fb38acb7466",
        "type": "link in",
        "z": "e98ae3c9db1bd6c3",
        "g": "4b5255d3994ce0e7",
        "name": "persons not home for 20 hours",
        "links": [
            "3126533b3e0ad552",
            "31fda56ec62032b8",
            "4a93ba39b988072a",
            "9bd1e275ca1ee67b",
            "df677727bba187cf"
        ],
        "x": 265,
        "y": 240,
        "wires": [
            [
                "8fccda12ea75bc0d"
            ]
        ]
    },
    {
        "id": "0f7704d1c7528acc",
        "type": "catch",
        "z": "e98ae3c9db1bd6c3",
        "g": "95801612b48436ea",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 60,
        "wires": [
            [
                "7e874d7b25e6aa2b"
            ]
        ]
    },
    {
        "id": "7e874d7b25e6aa2b",
        "type": "template",
        "z": "e98ae3c9db1bd6c3",
        "g": "95801612b48436ea",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 60,
        "wires": [
            [
                "4bfb0e7b8c5074c7"
            ]
        ]
    },
    {
        "id": "85da6e2bed894b4c",
        "type": "link out",
        "z": "e98ae3c9db1bd6c3",
        "g": "95801612b48436ea",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 675,
        "y": 60,
        "wires": []
    },
    {
        "id": "4bfb0e7b8c5074c7",
        "type": "template",
        "z": "e98ae3c9db1bd6c3",
        "g": "95801612b48436ea",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 60,
        "wires": [
            [
                "9465c383be3e41a7"
            ]
        ]
    },
    {
        "id": "9465c383be3e41a7",
        "type": "function",
        "z": "e98ae3c9db1bd6c3",
        "g": "95801612b48436ea",
        "name": "notify.notification_id",
        "func": "msg.notify.notification_id = env.get(\"NR_FLOW_ID\");\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 550,
        "y": 60,
        "wires": [
            [
                "85da6e2bed894b4c"
            ]
        ]
    },
    {
        "id": "76d0d50d23efdb9f",
        "type": "server-state-changed",
        "z": "e98ae3c9db1bd6c3",
        "g": "7a8d3a38b4738118",
        "name": "vacation mode is on",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "input_boolean.vacation_mode"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": true,
        "stateType": "str",
        "ifState": "on",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 130,
        "y": 580,
        "wires": [
            [
                "7a9e907a7ff3787f"
            ],
            [
                "9176120838cc8707"
            ]
        ]
    },
    {
        "id": "6ff6fee5f298ad50",
        "type": "api-call-service",
        "z": "e98ae3c9db1bd6c3",
        "g": "7a8d3a38b4738118",
        "name": "start timer",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "timer.start",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "timer.next_vacation_light"
        ],
        "labelId": [],
        "data": "{\"duration\":\"00:{{duration_minutes}}:00\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": true,
        "domain": "timer",
        "service": "start",
        "x": 760,
        "y": 580,
        "wires": [
            []
        ]
    },
    {
        "id": "7a9e907a7ff3787f",
        "type": "random",
        "z": "e98ae3c9db1bd6c3",
        "g": "7a8d3a38b4738118",
        "name": "random duration",
        "low": "2",
        "high": "20",
        "inte": "true",
        "property": "duration_minutes",
        "x": 580,
        "y": 580,
        "wires": [
            [
                "6ff6fee5f298ad50"
            ]
        ]
    },
    {
        "id": "92120879d1b3b14f",
        "type": "server-events",
        "z": "e98ae3c9db1bd6c3",
        "g": "7a8d3a38b4738118",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 3,
        "exposeAsEntityConfig": "",
        "eventType": "timer.finished",
        "eventData": "{\"entity_id\":\"timer.next_vacation_light\"}",
        "waitForRunning": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "$outputData(\"eventData\").event_type",
                "valueType": "jsonata"
            }
        ],
        "x": 140,
        "y": 520,
        "wires": [
            [
                "9b8b9d11f21cdd45"
            ]
        ]
    },
    {
        "id": "9b8b9d11f21cdd45",
        "type": "api-current-state",
        "z": "e98ae3c9db1bd6c3",
        "g": "7a8d3a38b4738118",
        "name": "vacation mode is on",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.vacation_mode",
        "state_type": "str",
        "blockInputOverrides": true,
        "outputProperties": [],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 360,
        "y": 520,
        "wires": [
            [
                "7a9e907a7ff3787f",
                "a6d92e69438bab12"
            ],
            []
        ]
    },
    {
        "id": "25e30f9bf7474722",
        "type": "api-call-service",
        "z": "e98ae3c9db1bd6c3",
        "g": "7a8d3a38b4738118",
        "name": "cancel timer",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "timer.cancel",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "timer.next_vacation_light"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": true,
        "domain": "timer",
        "service": "cancel",
        "x": 770,
        "y": 640,
        "wires": [
            []
        ]
    },
    {
        "id": "1241d27c510cc4db",
        "type": "random",
        "z": "e98ae3c9db1bd6c3",
        "g": "7a8d3a38b4738118",
        "name": "random dim level",
        "low": "20",
        "high": "50",
        "inte": "true",
        "property": "dimlevel",
        "x": 770,
        "y": 520,
        "wires": [
            [
                "00441b952563eaf6"
            ]
        ]
    },
    {
        "id": "00441b952563eaf6",
        "type": "random",
        "z": "e98ae3c9db1bd6c3",
        "g": "7a8d3a38b4738118",
        "name": "random area as integer",
        "low": "1",
        "high": "10",
        "inte": "true",
        "property": "area",
        "x": 990,
        "y": 520,
        "wires": [
            [
                "27701ac42ba72789"
            ]
        ]
    },
    {
        "id": "27701ac42ba72789",
        "type": "switch",
        "z": "e98ae3c9db1bd6c3",
        "g": "7a8d3a38b4738118",
        "name": "area",
        "property": "area",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "2",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "3",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "4",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "5",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "6",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "7",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "8",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "9",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "10",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 10,
        "x": 1170,
        "y": 580,
        "wires": [
            [
                "2d8347e89fc50722"
            ],
            [
                "af72e61dcd8c596c"
            ],
            [
                "5a29eb1e4639dec7"
            ],
            [
                "7654d83ac284bf7e"
            ],
            [
                "d1676ca082b9a9f0"
            ],
            [
                "e8424879dc4b6a54"
            ],
            [
                "573afd1fc7526fc5"
            ],
            [
                "817e4e05bbd7960f"
            ],
            [
                "688bff2b2883ee47"
            ],
            [
                "8b3a1477ad1b4a99"
            ]
        ]
    },
    {
        "id": "a6d92e69438bab12",
        "type": "api-current-state",
        "z": "e98ae3c9db1bd6c3",
        "g": "7a8d3a38b4738118",
        "name": "outdoor is dark",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "binary_sensor.outdoor_daylight",
        "state_type": "str",
        "blockInputOverrides": true,
        "outputProperties": [],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 580,
        "y": 520,
        "wires": [
            [
                "1241d27c510cc4db"
            ],
            []
        ]
    },
    {
        "id": "e8424879dc4b6a54",
        "type": "link out",
        "z": "e98ae3c9db1bd6c3",
        "g": "7a8d3a38b4738118",
        "name": "random trigger for the living room",
        "mode": "link",
        "links": [
            "50300c7b5295e417"
        ],
        "x": 1295,
        "y": 720,
        "wires": []
    },
    {
        "id": "573afd1fc7526fc5",
        "type": "link out",
        "z": "e98ae3c9db1bd6c3",
        "g": "7a8d3a38b4738118",
        "name": "random trigger for the bathroom",
        "mode": "link",
        "links": [
            "616a3afaca8e38f3"
        ],
        "x": 1295,
        "y": 760,
        "wires": []
    },
    {
        "id": "817e4e05bbd7960f",
        "type": "link out",
        "z": "e98ae3c9db1bd6c3",
        "g": "7a8d3a38b4738118",
        "name": "random trigger for beau's room",
        "mode": "link",
        "links": [
            "3f3b0ec569d43650"
        ],
        "x": 1295,
        "y": 800,
        "wires": []
    },
    {
        "id": "688bff2b2883ee47",
        "type": "link out",
        "z": "e98ae3c9db1bd6c3",
        "g": "7a8d3a38b4738118",
        "name": "random trigger for the hallway first floor",
        "mode": "link",
        "links": [
            "8db0025fe57cfee6"
        ],
        "x": 1295,
        "y": 840,
        "wires": []
    },
    {
        "id": "2d8347e89fc50722",
        "type": "link out",
        "z": "e98ae3c9db1bd6c3",
        "g": "7a8d3a38b4738118",
        "name": "random trigger for backyard",
        "mode": "link",
        "links": [
            "19fce404c5b90b9e"
        ],
        "x": 1295,
        "y": 520,
        "wires": []
    },
    {
        "id": "af72e61dcd8c596c",
        "type": "link out",
        "z": "e98ae3c9db1bd6c3",
        "g": "7a8d3a38b4738118",
        "name": "random trigger for front yard",
        "mode": "link",
        "links": [
            "27f9690f59141f3c"
        ],
        "x": 1295,
        "y": 560,
        "wires": []
    },
    {
        "id": "5a29eb1e4639dec7",
        "type": "link out",
        "z": "e98ae3c9db1bd6c3",
        "g": "7a8d3a38b4738118",
        "name": "random trigger for hallway ground floor",
        "mode": "link",
        "links": [
            "de705346f1cf66e6"
        ],
        "x": 1295,
        "y": 600,
        "wires": []
    },
    {
        "id": "7654d83ac284bf7e",
        "type": "link out",
        "z": "e98ae3c9db1bd6c3",
        "g": "7a8d3a38b4738118",
        "name": "random trigger for the kitchen",
        "mode": "link",
        "links": [
            "6c823cc5114ee3c3"
        ],
        "x": 1295,
        "y": 640,
        "wires": []
    },
    {
        "id": "8b3a1477ad1b4a99",
        "type": "link out",
        "z": "e98ae3c9db1bd6c3",
        "g": "7a8d3a38b4738118",
        "name": "random trigger for lise's room",
        "mode": "link",
        "links": [
            "68dfbc6804cce853"
        ],
        "x": 1295,
        "y": 880,
        "wires": []
    },
    {
        "id": "d1676ca082b9a9f0",
        "type": "link out",
        "z": "e98ae3c9db1bd6c3",
        "g": "7a8d3a38b4738118",
        "name": "random trigger for the master bedroom",
        "mode": "link",
        "links": [
            "b3a39fe10aabc206"
        ],
        "x": 1295,
        "y": 680,
        "wires": []
    },
    {
        "id": "31399773f075b869",
        "type": "server-events",
        "z": "82d5958c73f37c26",
        "g": "fa8b2c549c6198d2",
        "name": "sms recieved",
        "server": "4ba92433.2478cc",
        "version": 3,
        "exposeAsEntityConfig": "",
        "eventType": "sms_recieved",
        "eventData": "",
        "waitForRunning": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "$outputData(\"eventData\").event_type",
                "valueType": "jsonata"
            }
        ],
        "x": 110,
        "y": 260,
        "wires": [
            [
                "4d395d18c0756d47"
            ]
        ]
    },
    {
        "id": "322398b813ae0542",
        "type": "comment",
        "z": "82d5958c73f37c26",
        "g": "fa8b2c549c6198d2",
        "name": "flow the start when a event sms_recieved has been recieved",
        "info": "",
        "x": 260,
        "y": 160,
        "wires": []
    },
    {
        "id": "782dad59eecce1f6",
        "type": "template",
        "z": "82d5958c73f37c26",
        "g": "fa8b2c549c6198d2",
        "name": "icon",
        "field": "notify.icon",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "",
        "output": "str",
        "x": 410,
        "y": 300,
        "wires": [
            [
                "c4b9a270ac6b6551"
            ]
        ]
    },
    {
        "id": "f7b6a832a5096712",
        "type": "template",
        "z": "82d5958c73f37c26",
        "g": "fa8b2c549c6198d2",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "SMS Forwarder",
        "output": "str",
        "x": 410,
        "y": 220,
        "wires": [
            [
                "c4b9a270ac6b6551"
            ]
        ]
    },
    {
        "id": "2e9e2b02c8f4b00b",
        "type": "link out",
        "z": "82d5958c73f37c26",
        "g": "fa8b2c549c6198d2",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "8ed3b0974336e55b",
            "aeee8468f3d1b7ad"
        ],
        "x": 665,
        "y": 260,
        "wires": []
    },
    {
        "id": "c4b9a270ac6b6551",
        "type": "join",
        "z": "82d5958c73f37c26",
        "g": "fa8b2c549c6198d2",
        "name": "",
        "mode": "custom",
        "build": "merged",
        "property": "notify",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "useparts": true,
        "accumulate": false,
        "timeout": "",
        "count": "3",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 570,
        "y": 260,
        "wires": [
            [
                "2e9e2b02c8f4b00b"
            ]
        ]
    },
    {
        "id": "2babd23a398c74fd",
        "type": "template",
        "z": "82d5958c73f37c26",
        "g": "fa8b2c549c6198d2",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Afzender: {{payload.event.from}} \\nBericht: {{{payload.event.message}}}",
        "output": "str",
        "x": 420,
        "y": 260,
        "wires": [
            [
                "c4b9a270ac6b6551"
            ]
        ]
    },
    {
        "id": "e35cad4b3ef71457",
        "type": "catch",
        "z": "82d5958c73f37c26",
        "g": "2fca1ec79ef4fd0f",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 60,
        "wires": [
            [
                "dc11ed7224c9e212"
            ]
        ]
    },
    {
        "id": "dc11ed7224c9e212",
        "type": "template",
        "z": "82d5958c73f37c26",
        "g": "2fca1ec79ef4fd0f",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 60,
        "wires": [
            [
                "df5953f730ed98e5"
            ]
        ]
    },
    {
        "id": "01715f74afb788fa",
        "type": "link out",
        "z": "82d5958c73f37c26",
        "g": "2fca1ec79ef4fd0f",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 675,
        "y": 60,
        "wires": []
    },
    {
        "id": "df5953f730ed98e5",
        "type": "template",
        "z": "82d5958c73f37c26",
        "g": "2fca1ec79ef4fd0f",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 60,
        "wires": [
            [
                "6417fbf071ec5c3b"
            ]
        ]
    },
    {
        "id": "6417fbf071ec5c3b",
        "type": "function",
        "z": "82d5958c73f37c26",
        "g": "2fca1ec79ef4fd0f",
        "name": "notify.notification_id",
        "func": "msg.notify.notification_id = env.get(\"NR_FLOW_ID\");\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 550,
        "y": 60,
        "wires": [
            [
                "01715f74afb788fa"
            ]
        ]
    },
    {
        "id": "1e22588bbe63c367",
        "type": "comment",
        "z": "d9b05fe971d5c1b1",
        "g": "0198e4fba1900d12",
        "name": "turn on guest mode when a calendar item in Lise or Beau contain the words \"past op\"",
        "info": "",
        "x": 330,
        "y": 160,
        "wires": []
    },
    {
        "id": "d2c560378b1b926b",
        "type": "server-state-changed",
        "z": "d9b05fe971d5c1b1",
        "g": "0198e4fba1900d12",
        "name": "calendar event beau",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "calendar.beau"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": true,
        "stateType": "str",
        "ifState": "on",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 130,
        "y": 200,
        "wires": [
            [
                "af07bfce63f231bf"
            ],
            []
        ]
    },
    {
        "id": "daacb8ae6b24ed5b",
        "type": "server-state-changed",
        "z": "d9b05fe971d5c1b1",
        "g": "0198e4fba1900d12",
        "name": "calendar event lise",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "calendar.lise"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": true,
        "stateType": "str",
        "ifState": "on",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 130,
        "y": 260,
        "wires": [
            [
                "af07bfce63f231bf"
            ],
            []
        ]
    },
    {
        "id": "85f675ee7a30451c",
        "type": "catch",
        "z": "d9b05fe971d5c1b1",
        "g": "fe14b17143d5f305",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 60,
        "wires": [
            [
                "3551969ed0c1e37a"
            ]
        ]
    },
    {
        "id": "3551969ed0c1e37a",
        "type": "template",
        "z": "d9b05fe971d5c1b1",
        "g": "fe14b17143d5f305",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 60,
        "wires": [
            [
                "6149bb5f8eb1e0d7"
            ]
        ]
    },
    {
        "id": "337ef9e6426bf90b",
        "type": "link out",
        "z": "d9b05fe971d5c1b1",
        "g": "fe14b17143d5f305",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 675,
        "y": 60,
        "wires": []
    },
    {
        "id": "6149bb5f8eb1e0d7",
        "type": "template",
        "z": "d9b05fe971d5c1b1",
        "g": "fe14b17143d5f305",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 60,
        "wires": [
            [
                "418ebf3d342bb9b0"
            ]
        ]
    },
    {
        "id": "418ebf3d342bb9b0",
        "type": "function",
        "z": "d9b05fe971d5c1b1",
        "g": "fe14b17143d5f305",
        "name": "notify.notification_id",
        "func": "msg.notify.notification_id = env.get(\"NR_FLOW_ID\");\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 550,
        "y": 60,
        "wires": [
            [
                "337ef9e6426bf90b"
            ]
        ]
    },
    {
        "id": "af07bfce63f231bf",
        "type": "switch",
        "z": "d9b05fe971d5c1b1",
        "g": "0198e4fba1900d12",
        "name": "",
        "property": "data.new_state.attributes.message",
        "propertyType": "msg",
        "rules": [
            {
                "t": "cont",
                "v": "past op",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 330,
        "y": 200,
        "wires": [
            [
                "c0ee902736073bfc"
            ]
        ]
    },
    {
        "id": "42e276a02c8ae048",
        "type": "api-call-service",
        "z": "d9b05fe971d5c1b1",
        "g": "0198e4fba1900d12",
        "name": "turn on guest mode",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "input_boolean.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_boolean.guest"
        ],
        "labelId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "input_boolean",
        "service": "turn_on",
        "x": 690,
        "y": 200,
        "wires": [
            []
        ]
    },
    {
        "id": "c0ee902736073bfc",
        "type": "api-current-state",
        "z": "d9b05fe971d5c1b1",
        "g": "0198e4fba1900d12",
        "name": "guest mode is off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.guest",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 490,
        "y": 200,
        "wires": [
            [
                "42e276a02c8ae048"
            ],
            []
        ]
    },
    {
        "id": "42ddeb921e7ac3ac",
        "type": "comment",
        "z": "2a2d89771193fb8b",
        "g": "2eb792ab3efd8194",
        "name": "request location update send to mobile device",
        "info": "",
        "x": 210,
        "y": 160,
        "wires": []
    },
    {
        "id": "249f5902cd409334",
        "type": "api-call-service",
        "z": "2a2d89771193fb8b",
        "g": "2eb792ab3efd8194",
        "name": "notify phone coen",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "notify.mobile_app_phone_coen",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [],
        "labelId": [],
        "data": "{\"message\":\"request_location_update\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "notify",
        "service": "mobile_app_phone_coen",
        "x": 550,
        "y": 200,
        "wires": [
            []
        ]
    },
    {
        "id": "21f329f381fe5581",
        "type": "api-call-service",
        "z": "2a2d89771193fb8b",
        "g": "2eb792ab3efd8194",
        "name": "notify phone anne",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "notify.mobile_app_phone_anne",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [],
        "labelId": [],
        "data": "{\"message\":\"request_location_update\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "notify",
        "service": "mobile_app_phone_anne",
        "x": 550,
        "y": 280,
        "wires": [
            []
        ]
    },
    {
        "id": "6a6520d601185044",
        "type": "catch",
        "z": "2a2d89771193fb8b",
        "g": "71b5f1ba66875171",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 60,
        "wires": [
            [
                "9153c3f34ed4cf4e"
            ]
        ]
    },
    {
        "id": "9153c3f34ed4cf4e",
        "type": "template",
        "z": "2a2d89771193fb8b",
        "g": "71b5f1ba66875171",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 60,
        "wires": [
            [
                "e178716be34b9468"
            ]
        ]
    },
    {
        "id": "ef7470dc94a80ccd",
        "type": "link out",
        "z": "2a2d89771193fb8b",
        "g": "71b5f1ba66875171",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 675,
        "y": 60,
        "wires": []
    },
    {
        "id": "e178716be34b9468",
        "type": "template",
        "z": "2a2d89771193fb8b",
        "g": "71b5f1ba66875171",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 60,
        "wires": [
            [
                "695b74bc6c83ff92"
            ]
        ]
    },
    {
        "id": "695b74bc6c83ff92",
        "type": "function",
        "z": "2a2d89771193fb8b",
        "g": "71b5f1ba66875171",
        "name": "notify.notification_id",
        "func": "msg.notify.notification_id = env.get(\"NR_FLOW_ID\");\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 550,
        "y": 60,
        "wires": [
            [
                "ef7470dc94a80ccd"
            ]
        ]
    },
    {
        "id": "684440651deb45dc",
        "type": "link in",
        "z": "2a2d89771193fb8b",
        "g": "2eb792ab3efd8194",
        "name": "location request to mobile app",
        "links": [
            "3126533b3e0ad552",
            "578f9487e5b636d9",
            "598c87450fe46556",
            "df677727bba187cf"
        ],
        "x": 235,
        "y": 240,
        "wires": [
            [
                "31e88dec2dcdce08",
                "f95baa64b54391a1"
            ]
        ]
    },
    {
        "id": "31e88dec2dcdce08",
        "type": "delay",
        "z": "2a2d89771193fb8b",
        "g": "2eb792ab3efd8194",
        "name": "",
        "pauseType": "rate",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "minute",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": true,
        "allowrate": false,
        "outputs": 1,
        "x": 370,
        "y": 280,
        "wires": [
            [
                "21f329f381fe5581"
            ]
        ]
    },
    {
        "id": "f95baa64b54391a1",
        "type": "delay",
        "z": "2a2d89771193fb8b",
        "g": "2eb792ab3efd8194",
        "name": "",
        "pauseType": "rate",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "minute",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": true,
        "allowrate": false,
        "outputs": 1,
        "x": 370,
        "y": 200,
        "wires": [
            [
                "249f5902cd409334"
            ]
        ]
    },
    {
        "id": "c20492a470484001",
        "type": "api-call-service",
        "z": "e4381ced98d2a929",
        "g": "7fc6e972a09b862f",
        "name": "start speedtest",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "homeassistant.update_entity",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [],
        "labelId": [],
        "data": "{\"entity_id\":\"sensor.speedtest_download\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "homeassistant",
        "service": "update_entity",
        "x": 420,
        "y": 200,
        "wires": [
            []
        ]
    },
    {
        "id": "f5d785923268c13f",
        "type": "catch",
        "z": "e4381ced98d2a929",
        "g": "56531804b48cab17",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 60,
        "wires": [
            [
                "c8a51450da8a51bb"
            ]
        ]
    },
    {
        "id": "c8a51450da8a51bb",
        "type": "template",
        "z": "e4381ced98d2a929",
        "g": "56531804b48cab17",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 60,
        "wires": [
            [
                "0b923bc1720b32a5"
            ]
        ]
    },
    {
        "id": "72c4b873d76d1aea",
        "type": "link out",
        "z": "e4381ced98d2a929",
        "g": "56531804b48cab17",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 675,
        "y": 60,
        "wires": []
    },
    {
        "id": "0b923bc1720b32a5",
        "type": "template",
        "z": "e4381ced98d2a929",
        "g": "56531804b48cab17",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 60,
        "wires": [
            [
                "8278f950c516cf97"
            ]
        ]
    },
    {
        "id": "8278f950c516cf97",
        "type": "function",
        "z": "e4381ced98d2a929",
        "g": "56531804b48cab17",
        "name": "notify.notification_id",
        "func": "msg.notify.notification_id = env.get(\"NR_FLOW_ID\");\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 550,
        "y": 60,
        "wires": [
            [
                "72c4b873d76d1aea"
            ]
        ]
    },
    {
        "id": "b83170a341a414c1",
        "type": "comment",
        "z": "e4381ced98d2a929",
        "g": "7fc6e972a09b862f",
        "name": "start internet speedtest when sleepmode gets turned on",
        "info": "",
        "x": 240,
        "y": 160,
        "wires": []
    },
    {
        "id": "85bbe6fa44141370",
        "type": "link in",
        "z": "e4381ced98d2a929",
        "g": "7fc6e972a09b862f",
        "name": "trigger internet speedtest",
        "links": [
            "e6b9ff42fde3ea4e"
        ],
        "x": 305,
        "y": 200,
        "wires": [
            [
                "c20492a470484001"
            ]
        ]
    },
    {
        "id": "f5e288cdc71f88f3",
        "type": "function",
        "z": "edbbe41e31b072c6",
        "name": "action guest mode notification",
        "func": "msg.notify = {\n    message: msg.notify.message || \"Standaard melding\",\n    title: \"Gastmodus\",\n    icon: \"\",\n    action_1_title: \"JA\",\n    action_2_title: \"NEE\",\n    action_1: \"GUEST_MODE_ON\",\n    action_2: \"IGNORE\",\n    notification_id: msg.notification_id || \"guest_mode\",\n    tag: msg.tag || \"guest_mode\"\n};\n\nreturn msg;\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 990,
        "y": 180,
        "wires": [
            [
                "a8bd2d2619b0c41d"
            ]
        ]
    },
    {
        "id": "655e0730464a0cca",
        "type": "comment",
        "z": "edbbe41e31b072c6",
        "name": "action notification to ask if guest mode should be turned on or not when a door gets opened",
        "info": "",
        "x": 550,
        "y": 140,
        "wires": []
    },
    {
        "id": "b978613dcfb6a202",
        "type": "link in",
        "z": "edbbe41e31b072c6",
        "name": "guest mode action",
        "links": [
            "598c87450fe46556",
            "578f9487e5b636d9",
            "8eeed77d329cda19"
        ],
        "x": 265,
        "y": 180,
        "wires": [
            [
                "7c8fbdcd82eafc37"
            ]
        ]
    },
    {
        "id": "a8bd2d2619b0c41d",
        "type": "delay",
        "z": "edbbe41e31b072c6",
        "name": "",
        "pauseType": "rate",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "5",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": true,
        "allowrate": false,
        "outputs": 1,
        "x": 1240,
        "y": 180,
        "wires": [
            [
                "ed350a42f045c5e8"
            ]
        ]
    },
    {
        "id": "7c8fbdcd82eafc37",
        "type": "api-current-state",
        "z": "edbbe41e31b072c6",
        "name": "guest mode is off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.guest",
        "state_type": "str",
        "blockInputOverrides": true,
        "outputProperties": [],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 390,
        "y": 180,
        "wires": [
            [
                "36bc78ac430dab00"
            ],
            []
        ]
    },
    {
        "id": "81771dfd5d9c3019",
        "type": "template",
        "z": "edbbe41e31b072c6",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "De {{data.new_state.attributes.friendly_name}} is geopend en gastmodus is uitgeschakeld. Wil je gastmodus inschakelen?",
        "output": "str",
        "x": 780,
        "y": 180,
        "wires": [
            [
                "f5e288cdc71f88f3"
            ]
        ]
    },
    {
        "id": "36bc78ac430dab00",
        "type": "api-current-state",
        "z": "edbbe41e31b072c6",
        "name": "persons is not home",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "home",
        "halt_if_type": "str",
        "halt_if_compare": "is_not",
        "entity_id": "group.persons",
        "state_type": "str",
        "blockInputOverrides": true,
        "outputProperties": [],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 600,
        "y": 180,
        "wires": [
            [
                "81771dfd5d9c3019"
            ],
            []
        ]
    },
    {
        "id": "84892d93159e82cc",
        "type": "function",
        "z": "edbbe41e31b072c6",
        "name": "action vacation mode notification",
        "func": "msg.notify = {\n    message: msg.notify.message || \"Standaard melding\",\n    title: \"Vakantiemodus\",\n    icon: \"\",\n    action_1_title: \"JA\",\n    action_2_title: \"NEE\",\n    action_1: \"VACATION_MODE_ON\",\n    action_2: \"IGNORE\",\n    notification_id: msg.notification_id || \"vacation_mode\",\n    tag: msg.tag || \"vacation_mode\"\n};\n\nreturn msg;\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 990,
        "y": 280,
        "wires": [
            [
                "de6ae834ddd5738a"
            ]
        ]
    },
    {
        "id": "715c6e65ec38dcae",
        "type": "template",
        "z": "edbbe41e31b072c6",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Er is niemand thuis, wil je vakantiemodus aanzetten?",
        "output": "str",
        "x": 780,
        "y": 280,
        "wires": [
            [
                "84892d93159e82cc"
            ]
        ]
    },
    {
        "id": "de6ae834ddd5738a",
        "type": "delay",
        "z": "edbbe41e31b072c6",
        "name": "",
        "pauseType": "rate",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "hour",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": true,
        "allowrate": false,
        "outputs": 1,
        "x": 1230,
        "y": 280,
        "wires": [
            [
                "d82ba61d448bc614"
            ]
        ]
    },
    {
        "id": "5907dd74d0386ad8",
        "type": "comment",
        "z": "edbbe41e31b072c6",
        "name": "action notification to ask if vacation mode should be turned on or not when a door gets opened",
        "info": "",
        "x": 560,
        "y": 240,
        "wires": []
    },
    {
        "id": "edbceb117f04f41e",
        "type": "link in",
        "z": "edbbe41e31b072c6",
        "name": "vacation mode action",
        "links": [
            "b53dc3ab1408794a"
        ],
        "x": 265,
        "y": 280,
        "wires": [
            [
                "7f8a5bbec56c9729"
            ]
        ]
    },
    {
        "id": "7f8a5bbec56c9729",
        "type": "api-current-state",
        "z": "edbbe41e31b072c6",
        "name": "vacation mode is off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.vacation_mode",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 600,
        "y": 280,
        "wires": [
            [
                "715c6e65ec38dcae"
            ],
            []
        ]
    },
    {
        "id": "ed350a42f045c5e8",
        "type": "link out",
        "z": "edbbe41e31b072c6",
        "name": "guest mode action",
        "mode": "link",
        "links": [
            "d1753081ba6b4004"
        ],
        "x": 1555,
        "y": 180,
        "wires": []
    },
    {
        "id": "d82ba61d448bc614",
        "type": "link out",
        "z": "edbbe41e31b072c6",
        "name": "vacation mode action",
        "mode": "link",
        "links": [
            "d1753081ba6b4004"
        ],
        "x": 1555,
        "y": 280,
        "wires": []
    },
    {
        "id": "adacec4577ff7088",
        "type": "catch",
        "z": "edbbe41e31b072c6",
        "g": "a6ca3985b352649b",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 60,
        "wires": [
            [
                "9211742604c64ed7"
            ]
        ]
    },
    {
        "id": "9211742604c64ed7",
        "type": "template",
        "z": "edbbe41e31b072c6",
        "g": "a6ca3985b352649b",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 60,
        "wires": [
            [
                "fed5d1f7e3e6acce"
            ]
        ]
    },
    {
        "id": "9d9757e80ab98a8d",
        "type": "link out",
        "z": "edbbe41e31b072c6",
        "g": "a6ca3985b352649b",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 675,
        "y": 60,
        "wires": []
    },
    {
        "id": "fed5d1f7e3e6acce",
        "type": "template",
        "z": "edbbe41e31b072c6",
        "g": "a6ca3985b352649b",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 60,
        "wires": [
            [
                "a99e73465d70830d"
            ]
        ]
    },
    {
        "id": "a99e73465d70830d",
        "type": "function",
        "z": "edbbe41e31b072c6",
        "g": "a6ca3985b352649b",
        "name": "notify.notification_id",
        "func": "msg.notify.notification_id = env.get(\"NR_FLOW_ID\");\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 550,
        "y": 60,
        "wires": [
            [
                "9d9757e80ab98a8d"
            ]
        ]
    },
    {
        "id": "881433243b508852",
        "type": "comment",
        "z": "edbbe41e31b072c6",
        "name": "action notification to ask whether the quooker should be turned off or not",
        "info": "",
        "x": 490,
        "y": 320,
        "wires": []
    },
    {
        "id": "293862b3a629f535",
        "type": "link out",
        "z": "edbbe41e31b072c6",
        "name": "link_out_anne_is_home",
        "mode": "link",
        "links": [
            "c76d311bb4b6991b"
        ],
        "x": 1555,
        "y": 340,
        "wires": []
    },
    {
        "id": "4c0c4f7a04828adb",
        "type": "api-current-state",
        "z": "edbbe41e31b072c6",
        "name": "anne is home",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "home",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "person.anne",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 1440,
        "y": 340,
        "wires": [
            [
                "293862b3a629f535"
            ],
            []
        ]
    },
    {
        "id": "84292d6fdeba6212",
        "type": "link out",
        "z": "edbbe41e31b072c6",
        "name": "link_out_coen_is_home",
        "mode": "link",
        "links": [
            "d1753081ba6b4004"
        ],
        "x": 1555,
        "y": 400,
        "wires": []
    },
    {
        "id": "1e2e667d2ca5d8db",
        "type": "api-current-state",
        "z": "edbbe41e31b072c6",
        "name": "coen is home",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "home",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "person.coen",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 1430,
        "y": 400,
        "wires": [
            [
                "84292d6fdeba6212"
            ],
            []
        ]
    },
    {
        "id": "4e649357cacf0e36",
        "type": "function",
        "z": "edbbe41e31b072c6",
        "name": "action turn of quooker notification",
        "func": "msg.notify = {\n    message: msg.notify.message || \"Standaard melding\",\n    title: \"Energie besparingstip\",\n    icon: \"\",\n    action_1_title: \"JA\",\n    action_2_title: \"NEE\",\n    action_1: \"QUOOKER_OFF\",\n    action_2: \"IGNORE\",\n    notification_id: msg.notification_id || \"quooker\",\n    tag: msg.tag || \"quooker\"\n};\n\nreturn msg;\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1000,
        "y": 360,
        "wires": [
            [
                "187caca6b2f9616f"
            ]
        ]
    },
    {
        "id": "187caca6b2f9616f",
        "type": "delay",
        "z": "edbbe41e31b072c6",
        "name": "",
        "pauseType": "rate",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "30",
        "rateUnits": "minute",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": true,
        "allowrate": false,
        "outputs": 1,
        "x": 1240,
        "y": 360,
        "wires": [
            [
                "4c0c4f7a04828adb",
                "1e2e667d2ca5d8db"
            ]
        ]
    },
    {
        "id": "6672bd7f293737f7",
        "type": "link in",
        "z": "edbbe41e31b072c6",
        "name": "quooker off action",
        "links": [
            "7d2e9cbf7edd9b13"
        ],
        "x": 265,
        "y": 360,
        "wires": [
            [
                "2ade38bf7448ea59"
            ]
        ]
    },
    {
        "id": "2ade38bf7448ea59",
        "type": "template",
        "z": "edbbe41e31b072c6",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Wil je de Quooker uitschakelen om onnodig stroomverbruik te voorkomen? Deze wordt morgenochtend weer automatisch ingeschakeld.",
        "output": "str",
        "x": 780,
        "y": 360,
        "wires": [
            [
                "4e649357cacf0e36"
            ]
        ]
    },
    {
        "id": "3675d2d1160c6b61",
        "type": "api-call-service",
        "z": "3611a09f77ab1873",
        "name": "notify two actions coen",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "notify.mobile_app_phone_coen",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [],
        "labelId": [],
        "data": "{\"message\":\"{{notify.message}}\",\"title\":\"{{notify.title}}\",\"data\":{\"tag\":\"{{notify.tag}}\",\"actions\":[{\"action\":\"{{notify.action_1}}\",\"title\":\"{{notify.action_1_title}}\",\"icon\":\"{{notify.icon}}\"},{\"action\":\"{{notify.action_2}}\",\"title\":\"{{notify.action_2_title}}\",\"icon\":\"{{notify.icon}}\"}]}}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "notify",
        "service": "mobile_app_phone_coen",
        "x": 440,
        "y": 200,
        "wires": [
            []
        ]
    },
    {
        "id": "d1753081ba6b4004",
        "type": "link in",
        "z": "3611a09f77ab1873",
        "name": "notify_two_actions_coen",
        "links": [
            "0af5a06e405527e9",
            "48cae6c1e3fb0c75",
            "84292d6fdeba6212",
            "a38691fbb41a64b9",
            "d7f92782a71d3837",
            "d82ba61d448bc614",
            "ed350a42f045c5e8"
        ],
        "x": 295,
        "y": 200,
        "wires": [
            [
                "3675d2d1160c6b61"
            ]
        ]
    },
    {
        "id": "4fcaf3396f8becf4",
        "type": "catch",
        "z": "3611a09f77ab1873",
        "g": "523697d9c61e3978",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 60,
        "wires": [
            [
                "da4f62d21506a22b"
            ]
        ]
    },
    {
        "id": "da4f62d21506a22b",
        "type": "template",
        "z": "3611a09f77ab1873",
        "g": "523697d9c61e3978",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 60,
        "wires": [
            [
                "a09b9cc0605aa974"
            ]
        ]
    },
    {
        "id": "bb7462e22b7f56fd",
        "type": "link out",
        "z": "3611a09f77ab1873",
        "g": "523697d9c61e3978",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 675,
        "y": 60,
        "wires": []
    },
    {
        "id": "a09b9cc0605aa974",
        "type": "template",
        "z": "3611a09f77ab1873",
        "g": "523697d9c61e3978",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 60,
        "wires": [
            [
                "05e6562cb4e7cfb4"
            ]
        ]
    },
    {
        "id": "05e6562cb4e7cfb4",
        "type": "function",
        "z": "3611a09f77ab1873",
        "g": "523697d9c61e3978",
        "name": "notify.notification_id",
        "func": "msg.notify.notification_id = env.get(\"NR_FLOW_ID\");\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 550,
        "y": 60,
        "wires": [
            [
                "bb7462e22b7f56fd"
            ]
        ]
    },
    {
        "id": "c76d311bb4b6991b",
        "type": "link in",
        "z": "3611a09f77ab1873",
        "name": "notify_two_actions_anne",
        "links": [
            "0af5a06e405527e9",
            "293862b3a629f535",
            "76568807668461a0"
        ],
        "x": 295,
        "y": 280,
        "wires": [
            [
                "7e56e31c0145c7b4"
            ]
        ]
    },
    {
        "id": "7e56e31c0145c7b4",
        "type": "api-call-service",
        "z": "3611a09f77ab1873",
        "name": "notify two actions anne",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "notify.mobile_app_phone_anne",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [],
        "labelId": [],
        "data": "{\"message\":\"{{notify.message}}\",\"title\":\"{{notify.title}}\",\"data\":{\"tag\":\"{{notify.tag}}\",\"actions\":[{\"action\":\"{{notify.action_1}}\",\"title\":\"{{notify.action_1_title}}\",\"icon\":\"{{notify.icon}}\"},{\"action\":\"{{notify.action_2}}\",\"title\":\"{{notify.action_2_title}}\",\"icon\":\"{{notify.icon}}\"}]}}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "notify",
        "service": "mobile_app_phone_anne",
        "x": 440,
        "y": 280,
        "wires": [
            []
        ]
    },
    {
        "id": "55630dad7aa4b97a",
        "type": "server-events",
        "z": "e44f5d834fa24670",
        "g": "a7eea6f134e259bd",
        "name": "GUEST_MODE_ON",
        "server": "4ba92433.2478cc",
        "version": 3,
        "exposeAsEntityConfig": "",
        "eventType": "mobile_app_notification_action",
        "eventData": "{\"action\":\"GUEST_MODE_ON\"}",
        "waitForRunning": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "$outputData(\"eventData\").event_type",
                "valueType": "jsonata"
            }
        ],
        "event_type": "",
        "x": 130,
        "y": 200,
        "wires": [
            [
                "94856ca3c5e83f43"
            ]
        ]
    },
    {
        "id": "5d74377194336786",
        "type": "catch",
        "z": "e44f5d834fa24670",
        "g": "5ea1109d92a3532a",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 60,
        "wires": [
            [
                "74f02e0422cfcfd4"
            ]
        ]
    },
    {
        "id": "74f02e0422cfcfd4",
        "type": "template",
        "z": "e44f5d834fa24670",
        "g": "5ea1109d92a3532a",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 60,
        "wires": [
            [
                "5871553313960848"
            ]
        ]
    },
    {
        "id": "fc1469a9f0ef1aee",
        "type": "link out",
        "z": "e44f5d834fa24670",
        "g": "5ea1109d92a3532a",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 675,
        "y": 60,
        "wires": []
    },
    {
        "id": "5871553313960848",
        "type": "template",
        "z": "e44f5d834fa24670",
        "g": "5ea1109d92a3532a",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 60,
        "wires": [
            [
                "8718042f6e666b71"
            ]
        ]
    },
    {
        "id": "8718042f6e666b71",
        "type": "function",
        "z": "e44f5d834fa24670",
        "g": "5ea1109d92a3532a",
        "name": "notify.notification_id",
        "func": "msg.notify.notification_id = env.get(\"NR_FLOW_ID\");\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 550,
        "y": 60,
        "wires": [
            [
                "fc1469a9f0ef1aee"
            ]
        ]
    },
    {
        "id": "c2d33a6abfd24923",
        "type": "api-call-service",
        "z": "e44f5d834fa24670",
        "g": "a7eea6f134e259bd",
        "name": "turn on guest mode",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "input_boolean.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_boolean.guest"
        ],
        "labelId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "input_boolean",
        "service": "turn_on",
        "x": 570,
        "y": 200,
        "wires": [
            [
                "30f166f1cb52d612"
            ]
        ]
    },
    {
        "id": "94856ca3c5e83f43",
        "type": "api-current-state",
        "z": "e44f5d834fa24670",
        "g": "a7eea6f134e259bd",
        "name": "guest mode is off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.guest",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 350,
        "y": 200,
        "wires": [
            [
                "c2d33a6abfd24923"
            ],
            []
        ]
    },
    {
        "id": "87a6a1a7d3bea607",
        "type": "comment",
        "z": "e44f5d834fa24670",
        "g": "a7eea6f134e259bd",
        "name": "turn on guest mode",
        "info": "",
        "x": 130,
        "y": 160,
        "wires": []
    },
    {
        "id": "319e2f002dcdb37f",
        "type": "comment",
        "z": "e44f5d834fa24670",
        "g": "03c7e5a9a6a831c2",
        "name": "turn on vacation mode",
        "info": "",
        "x": 140,
        "y": 300,
        "wires": []
    },
    {
        "id": "f047140113012c45",
        "type": "api-call-service",
        "z": "e44f5d834fa24670",
        "g": "03c7e5a9a6a831c2",
        "name": "turn on vacation mode",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "input_boolean.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_boolean.vacation_mode"
        ],
        "labelId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "input_boolean",
        "service": "turn_on",
        "x": 580,
        "y": 340,
        "wires": [
            [
                "a6ac4a5af938a30a"
            ]
        ]
    },
    {
        "id": "79ce4db3aa0b5c53",
        "type": "server-events",
        "z": "e44f5d834fa24670",
        "g": "03c7e5a9a6a831c2",
        "name": "VACATION_MODE_ON",
        "server": "4ba92433.2478cc",
        "version": 3,
        "exposeAsEntityConfig": "",
        "eventType": "mobile_app_notification_action",
        "eventData": "{\"action\":\"VACATION_MODE_ON\"}",
        "waitForRunning": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "$outputData(\"eventData\").event_type",
                "valueType": "jsonata"
            }
        ],
        "event_type": "",
        "x": 140,
        "y": 340,
        "wires": [
            [
                "aaad5728532f4c48"
            ]
        ]
    },
    {
        "id": "aaad5728532f4c48",
        "type": "api-current-state",
        "z": "e44f5d834fa24670",
        "g": "03c7e5a9a6a831c2",
        "name": "vacation mode is off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.vacation_mode",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 360,
        "y": 340,
        "wires": [
            [
                "f047140113012c45"
            ],
            []
        ]
    },
    {
        "id": "32c186a71c916633",
        "type": "server-events",
        "z": "e44f5d834fa24670",
        "g": "dbb11ccb7d0a280a",
        "name": "QUOOKER_OFF",
        "server": "4ba92433.2478cc",
        "version": 3,
        "exposeAsEntityConfig": "",
        "eventType": "mobile_app_notification_action",
        "eventData": "{\"action\":\"QUOOKER_OFF\"}",
        "waitForRunning": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "$outputData(\"eventData\").event_type",
                "valueType": "jsonata"
            }
        ],
        "event_type": "",
        "x": 120,
        "y": 480,
        "wires": [
            [
                "b56d7a548ed41339"
            ]
        ]
    },
    {
        "id": "d328e5faf80e8773",
        "type": "api-call-service",
        "z": "e44f5d834fa24670",
        "g": "dbb11ccb7d0a280a",
        "name": "turn off quooker",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "switch.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "switch.shellyplugplus_quooker_switch_0"
        ],
        "labelId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": true,
        "domain": "switch",
        "service": "turn_off",
        "x": 560,
        "y": 480,
        "wires": [
            [
                "36390687f97440d5"
            ]
        ]
    },
    {
        "id": "36390687f97440d5",
        "type": "api-call-service",
        "z": "e44f5d834fa24670",
        "g": "dbb11ccb7d0a280a",
        "name": "dismiss notification",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "notify.notify",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [],
        "labelId": [],
        "data": "{\"message\":\"clear_notification\",\"data\":{\"tag\":\"quooker\"}}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": true,
        "domain": "notify",
        "service": "notify",
        "x": 790,
        "y": 480,
        "wires": [
            []
        ]
    },
    {
        "id": "eb466e32fc34ebfc",
        "type": "comment",
        "z": "e44f5d834fa24670",
        "g": "dbb11ccb7d0a280a",
        "name": "turn off the kitchen quooker",
        "info": "",
        "x": 150,
        "y": 440,
        "wires": []
    },
    {
        "id": "a6ac4a5af938a30a",
        "type": "api-call-service",
        "z": "e44f5d834fa24670",
        "g": "03c7e5a9a6a831c2",
        "name": "dismiss notification",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "notify.notify",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [],
        "labelId": [],
        "data": "{\"message\":\"clear_notification\",\"data\":{\"tag\":\"vacation_mode\"}}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": true,
        "domain": "notify",
        "service": "notify",
        "x": 790,
        "y": 340,
        "wires": [
            []
        ]
    },
    {
        "id": "30f166f1cb52d612",
        "type": "api-call-service",
        "z": "e44f5d834fa24670",
        "g": "a7eea6f134e259bd",
        "name": "dismiss notification",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "notify.notify",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [],
        "labelId": [],
        "data": "{\"message\":\"clear_notification\",\"data\":{\"tag\":\"guest_mode\"}}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": true,
        "domain": "notify",
        "service": "notify",
        "x": 790,
        "y": 200,
        "wires": [
            []
        ]
    },
    {
        "id": "b56d7a548ed41339",
        "type": "api-current-state",
        "z": "e44f5d834fa24670",
        "g": "dbb11ccb7d0a280a",
        "name": "quooker is on",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "switch.shellyplugplus_quooker_switch_0",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 340,
        "y": 480,
        "wires": [
            [
                "d328e5faf80e8773"
            ],
            []
        ]
    }
]