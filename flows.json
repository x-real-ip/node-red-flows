[
    {
        "id": "8ed2665ffd683f46",
        "type": "tab",
        "label": "trigger_(DOMAIN)_(ACTION)_(LOCATION)/(DEVICE)",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "3381c3542ff0a657",
        "type": "tab",
        "label": "trigger_binary_sensor_outdoor_daylight",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "8354fbe183c2498c",
        "type": "tab",
        "label": "trigger_time",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "8b9f28f75c6a8cea",
        "type": "tab",
        "label": "trigger_binary_sensor_door_back",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "61fe51405ced1ae2",
        "type": "tab",
        "label": "trigger_binary_sensor_door_cv_closet",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "4d2cddfcdca52366",
        "type": "tab",
        "label": "trigger_binary_sensor_door_souterrain_stairs",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "e833a3b26c88a678",
        "type": "tab",
        "label": "trigger_binary_sensor_door_front",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "2c0a0237d23a4cfc",
        "type": "tab",
        "label": "trigger_binary_sensor_door_toilet",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "747e156c11e4e604",
        "type": "tab",
        "label": "trigger_group_door_exterior",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "7d395cb2e18af794",
        "type": "tab",
        "label": "trigger_input_boolean_sleepmode",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "f180ab88.925788",
        "type": "tab",
        "label": "trigger_shelly_click_events_i3_living_room",
        "disabled": false,
        "info": ""
    },
    {
        "id": "24d64ac8238cc218",
        "type": "tab",
        "label": "trigger_shelly_click_events_all",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "e44f5d834fa24670",
        "type": "tab",
        "label": "trigger_mobile_app_notification_action_guest_mode_on",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "741e20498a115a13",
        "type": "tab",
        "label": "trigger_binary_sensor_on_backyard_camera_motion_detection",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "15d9dd454d41196a",
        "type": "tab",
        "label": "trigger_binary_sensor_off_backyard_camera_motion_detection",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "cdd584db6ae40aa4",
        "type": "tab",
        "label": "trigger_binary_sensor_on_backyard_motion_detection",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "a35bbaebece87ae0",
        "type": "tab",
        "label": "trigger_binary_sensor_off_backyard_motion_detection",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "7a63032b7cac43cf",
        "type": "tab",
        "label": "trigger_binary_sensor_on_doorbell_pressed",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "960ed9c324a9682d",
        "type": "tab",
        "label": "trigger_home_unoccupied",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "12beaeea5e53e349",
        "type": "tab",
        "label": "trigger_home_occupied",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "d9b05fe971d5c1b1",
        "type": "tab",
        "label": "trigger_calendar_event_on_babysitter",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "e846a5a705a12fe6",
        "type": "tab",
        "label": "trigger_camera_person_detection",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "a7a34028d045deee",
        "type": "tab",
        "label": "notification_action_turn_on_guest_mode",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "4e909abe.0b62e4",
        "type": "tab",
        "label": "automation_mechanical_ventilation_basement",
        "disabled": false,
        "info": ""
    },
    {
        "id": "b4963274903ed2a9",
        "type": "tab",
        "label": "automation_mechanical_ventilation_bathroom",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "3d30857f5165e137",
        "type": "tab",
        "label": "automation_mechanical_ventilation_toilet",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "e98ae3c9db1bd6c3",
        "type": "tab",
        "label": "automation_vacation_mode",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "55da1471.fda0fc",
        "type": "tab",
        "label": "automation_vacuum_cleaner",
        "disabled": false,
        "info": ""
    },
    {
        "id": "29a2e1dd05ecbf80",
        "type": "tab",
        "label": "automation_vacuum_room_cleaning",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "03ed0365a1543556",
        "type": "tab",
        "label": "automation_wall_tablet_charge",
        "disabled": true,
        "info": "",
        "env": []
    },
    {
        "id": "39bdcb9ed819fc87",
        "type": "tab",
        "label": "automation_weather_code_translation",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "acd9bd0c60806bd8",
        "type": "tab",
        "label": "automation_turn_off_toilet_light",
        "disabled": true,
        "info": "",
        "env": []
    },
    {
        "id": "a4fbdd1c0456c1af",
        "type": "tab",
        "label": "entertainment_tv_device_buttonpress",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "67a16d037f1a73fc",
        "type": "tab",
        "label": "entertainment_tv_device_sensor",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "2c496b90815e2d15",
        "type": "tab",
        "label": "entertainment_tvscreen_device_buttonpress",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "b1c954404ea39706",
        "type": "tab",
        "label": "entertainment_tvscreen_device_sensor",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "2863cbc8bee70856",
        "type": "tab",
        "label": "light_dynamics_basement",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "8ca9fd35c2a2b1c4",
        "type": "tab",
        "label": "light_dynamics_hallway",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "9a7094e42d673dc4",
        "type": "tab",
        "label": "light_dynamics_on_and_restore",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "b1a9214c.4c71c",
        "type": "tab",
        "label": "notification_basement_window",
        "disabled": false,
        "info": ""
    },
    {
        "id": "65351372f52f2e2d",
        "type": "tab",
        "label": "notification_doorbell",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "72f3a564e626ff9a",
        "type": "tab",
        "label": "notification_garbage_collection",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "98a989e.d6bca78",
        "type": "tab",
        "label": "notification_gas_consumption",
        "disabled": false,
        "info": ""
    },
    {
        "id": "42b354a7f0284779",
        "type": "tab",
        "label": "notification_inverter",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "b4aa7b8dbc1c80dc",
        "type": "tab",
        "label": "notification_knmi",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "343515a5528e14f0",
        "type": "tab",
        "label": "notification_main",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "d5421f8d.f7208",
        "type": "tab",
        "label": "notification_open_windows_firstfloor_house_cooling_down",
        "disabled": false,
        "info": ""
    },
    {
        "id": "75537afd17de5117",
        "type": "tab",
        "label": "notification_picnic",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "535c98d1d92579b6",
        "type": "tab",
        "label": "notification_sensors",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "1dfb7e055134adc8",
        "type": "tab",
        "label": "notification_sensors_count",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "b1b994b3d43d6aad",
        "type": "tab",
        "label": "notification_stookalert",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "a8d8484165225699",
        "type": "tab",
        "label": "notification_update_entity",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "8d2de69b4c0fd2b9",
        "type": "tab",
        "label": "notification_vacuum",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "ce5dca27239daba8",
        "type": "tab",
        "label": "notification_vacuum_s55_low_battery",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "1a02f7122bccea54",
        "type": "tab",
        "label": "notification_vacuum_s6_low_battery",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "7186425fdfc90c19",
        "type": "tab",
        "label": "notification_water_consumption",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "c0da8379.b0dd3",
        "type": "tab",
        "label": "scene_home_entering",
        "disabled": false,
        "info": ""
    },
    {
        "id": "8aa6edec.5a013",
        "type": "tab",
        "label": "scene_home_leaving",
        "disabled": false,
        "info": ""
    },
    {
        "id": "eb1939ba1b7e9b73",
        "type": "tab",
        "label": "scene_off_mode",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "e4381ced98d2a929",
        "type": "tab",
        "label": "scene_sleepmode",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "645478ab1138fd33",
        "type": "tab",
        "label": "security_backyard",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "b13ca13c.9328e",
        "type": "tab",
        "label": "security_house",
        "disabled": false,
        "info": ""
    },
    {
        "id": "2fdf3d9bec5f1748",
        "type": "tab",
        "label": "security_kitchen",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "cde79c08.e4f488",
        "type": "tab",
        "label": "security_smoke_co",
        "disabled": false,
        "info": ""
    },
    {
        "id": "b30206160f4c3c3b",
        "type": "tab",
        "label": "sensor_backyard_entrance_person_detected",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "2437e768.8e34d8",
        "type": "tab",
        "label": "sensor_dishwasher",
        "disabled": false,
        "info": ""
    },
    {
        "id": "46d98b35c2eee05b",
        "type": "tab",
        "label": "sensor_energy_custom",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "99c1372046e45da7",
        "type": "tab",
        "label": "sensor_energy_solar_record.",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "4dd07a1d.6e53e4",
        "type": "tab",
        "label": "sensor_light_dark_outside",
        "disabled": false,
        "info": ""
    },
    {
        "id": "72ef82b8.9d086c",
        "type": "tab",
        "label": "sensor_thumble_dryer",
        "disabled": false,
        "info": ""
    },
    {
        "id": "c23003c7.1c978",
        "type": "tab",
        "label": "sensor_washing_machine",
        "disabled": false,
        "info": ""
    },
    {
        "id": "51ad1e79edd47f04",
        "type": "tab",
        "label": "sensor_weather_descriptions",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "4a94729fe3d3c081",
        "type": "tab",
        "label": "sensor_energy_returned_watts",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "f561ea7fc21ca9ae",
        "type": "tab",
        "label": "scene_turn_off_sleepmode_excluded_lights",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "078d23a542369ebe",
        "type": "tab",
        "label": "scene_media_player_turn_on/off_screen_tv_living_room",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "5c92a1135257c28d",
        "type": "tab",
        "label": "notification_doors_open_nobody_home",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "fb7b362cbc47e439",
        "type": "tab",
        "label": "notification_backyard_person_detection",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "3637eeb0.d96232",
        "type": "tab",
        "label": "scene_light_turn_on_frontdoor_for_5_minutes",
        "disabled": false,
        "info": ""
    },
    {
        "id": "d9b921e9fd746ad1",
        "type": "tab",
        "label": "scene_vacuum_send_to_trash_bin",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "2a2d89771193fb8b",
        "type": "tab",
        "label": "scene_notify_request_location_update",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "38e25502d65ef451",
        "type": "tab",
        "label": "scene_climate_set_to_auto_mode",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "f5e87f41e348afa5",
        "type": "tab",
        "label": "scene_switch_turn_on_guest_mode",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "75dcbba8aec48c92",
        "type": "tab",
        "label": "scene_switch_turn_on_doorbell_chime",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "c4112ff844284323",
        "type": "tab",
        "label": "scene_switch_turn_off_shelly_shield",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "762cff9aad6b0816",
        "type": "tab",
        "label": "scene_switch_turn_on_shelly_shield",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "d95708849d31630d",
        "type": "tab",
        "label": "scene_switch_turn_on_lg_tv_living_room",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "a498f22679d943d0",
        "type": "tab",
        "label": "scene_mediaplayer_pause_tv_living_room",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "787906290c7e8747",
        "type": "tab",
        "label": "scene_mediaplayer_set_volume_level_wall_tablet",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "dfcd5e683fabd9c1",
        "type": "tab",
        "label": "scene_fan_positions_souterrain",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "e03c0cf1695985b6",
        "type": "tab",
        "label": "scene_light_toggle_christmas_tree",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "47b63ba557f23f16",
        "type": "tab",
        "label": "scene_light_toggle_string_backyard",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "7aa254e451cc25d5",
        "type": "tab",
        "label": "scene_light_toggle_pendant_lamp_barndoor",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "67d790ac195b8d6f",
        "type": "tab",
        "label": "scene_light_turn_on_christmas_tree",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "7f39e487c7ab241c",
        "type": "tab",
        "label": "scene_light_turn_on_cv_closet",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "3db3c53990065a2a",
        "type": "tab",
        "label": "scene_light_turn_off_cv_closet",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "f69bb4ce2fe1eeaf",
        "type": "tab",
        "label": "scene_load_url_music_assistant_galaxy_tab_a8",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "96fc7ebe3f190a37",
        "type": "tab",
        "label": "scene_load_start_url_galaxy_tab_a8",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "46d393bea5a350c5",
        "type": "tab",
        "label": "scene_switch_turn_on_wall_tablet_screen",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "b879bcee774e2ee3",
        "type": "tab",
        "label": "scene_input_boolean_toggle_sleepmode",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "fc5bb64f7b55c7a9",
        "type": "tab",
        "label": "scene_switch_toggle_childlock_kitchen_cabinets",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "5dd8a5e802404efd",
        "type": "tab",
        "label": "sensor_shield_volume_boolean",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "63d17f8cdd49c797",
        "type": "tab",
        "label": "_automation_toggle_start_url_and_music_assistant_url_galaxy_tab_a8",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "4b48188ca7b303d7",
        "type": "tab",
        "label": "_automation_light_dynamics_backyard",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "b82f262707b1b627",
        "type": "tab",
        "label": "_automation_morning_routine",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "e0e34b3e49b36c0e",
        "type": "tab",
        "label": "_automation_light_outdoor",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "3087db0b32ceb4d4",
        "type": "tab",
        "label": "_automation_dark_outdoor",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "71f3d7905a503d5c",
        "type": "tab",
        "label": "_automation_light_barn_door",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "a01f4b2ba7273751",
        "type": "tab",
        "label": "_automation_quooker",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "1adcdebcdc8e5c39",
        "type": "tab",
        "label": "_automation_climate_graph_input_select_all",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "d7c35c04cc0c5b68",
        "type": "tab",
        "label": "_automation_high_voltage",
        "disabled": true,
        "info": "",
        "env": []
    },
    {
        "id": "fd9cd80f14f860fe",
        "type": "tab",
        "label": "_automation_entertainment_activity",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "5b957aaa34cab814",
        "type": "tab",
        "label": "_automation_assist_media_player_volume",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "2b23c32f6263f8c7",
        "type": "tab",
        "label": "_automation_assist_entertainment",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "01dec174361a0c54",
        "type": "tab",
        "label": "_automation_boiler_cv",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "39f5e6336137f4b2",
        "type": "tab",
        "label": "_automation_entertainment_tvscreen_auto_turn_on-off",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "a073f9861eebac1b",
        "type": "tab",
        "label": "_automation_switch_turn_off_doorbell_beau_asleep",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "dbca868556b8a1c3",
        "type": "subflow",
        "name": "light_turn_off",
        "info": "",
        "category": "",
        "in": [
            {
                "x": 40,
                "y": 100,
                "wires": [
                    {
                        "id": "4fc807c1aa8ac249"
                    }
                ]
            }
        ],
        "out": [
            {
                "x": 840,
                "y": 100,
                "wires": [
                    {
                        "id": "85ad055bece6e921",
                        "port": 0
                    }
                ]
            }
        ],
        "env": [],
        "meta": {},
        "color": "#FFCC66",
        "icon": "font-awesome/fa-lightbulb-o",
        "status": {
            "x": 840,
            "y": 20,
            "wires": [
                {
                    "id": "7179cc0241c949f8",
                    "port": 0
                },
                {
                    "id": "85ad055bece6e921",
                    "port": 0
                }
            ]
        }
    },
    {
        "id": "9035787f55f7c373",
        "type": "subflow",
        "name": "light_turn_on",
        "info": "",
        "category": "",
        "in": [
            {
                "x": 40,
                "y": 100,
                "wires": [
                    {
                        "id": "cef7ce0816e6b806"
                    }
                ]
            }
        ],
        "out": [
            {
                "x": 800,
                "y": 100,
                "wires": [
                    {
                        "id": "6a00bd184208d22b",
                        "port": 0
                    }
                ]
            }
        ],
        "env": [],
        "meta": {},
        "color": "#FFCC66",
        "inputLabels": [
            "entity array"
        ],
        "icon": "font-awesome/fa-lightbulb-o",
        "status": {
            "x": 800,
            "y": 40,
            "wires": [
                {
                    "id": "6a00bd184208d22b",
                    "port": 0
                }
            ]
        }
    },
    {
        "id": "29e8244a8f81a1d5",
        "type": "subflow",
        "name": "input_boolean_turn_off",
        "info": "",
        "category": "",
        "in": [
            {
                "x": 40,
                "y": 100,
                "wires": [
                    {
                        "id": "36811f18655880bc"
                    }
                ]
            }
        ],
        "out": [
            {
                "x": 720,
                "y": 100,
                "wires": [
                    {
                        "id": "40dd5e94d3019598",
                        "port": 0
                    }
                ]
            }
        ],
        "env": [],
        "meta": {},
        "color": "#C0DEED",
        "icon": "font-awesome/fa-toggle-off",
        "status": {
            "x": 720,
            "y": 40,
            "wires": [
                {
                    "id": "2cb2dcd72aa55d0d",
                    "port": 0
                },
                {
                    "id": "2cb2dcd72aa55d0d",
                    "port": 1
                },
                {
                    "id": "40dd5e94d3019598",
                    "port": 0
                }
            ]
        }
    },
    {
        "id": "e6c596114f269c76",
        "type": "subflow",
        "name": "input_boolean_turn_on",
        "info": "",
        "category": "",
        "in": [
            {
                "x": 40,
                "y": 100,
                "wires": [
                    {
                        "id": "342b7174407f675c"
                    }
                ]
            }
        ],
        "out": [
            {
                "x": 700,
                "y": 100,
                "wires": [
                    {
                        "id": "3ba6957505b73905",
                        "port": 0
                    }
                ]
            }
        ],
        "env": [],
        "meta": {},
        "color": "#C0DEED",
        "icon": "font-awesome/fa-toggle-off",
        "status": {
            "x": 700,
            "y": 40,
            "wires": [
                {
                    "id": "d51c7daf87b4791c",
                    "port": 0
                },
                {
                    "id": "d51c7daf87b4791c",
                    "port": 1
                },
                {
                    "id": "3ba6957505b73905",
                    "port": 0
                }
            ]
        }
    },
    {
        "id": "9b6778c2f37a86dd",
        "type": "subflow",
        "name": "switch_turn_on",
        "info": "",
        "category": "",
        "in": [
            {
                "x": 60,
                "y": 80,
                "wires": [
                    {
                        "id": "601a0cd3404ed688"
                    }
                ]
            }
        ],
        "out": [
            {
                "x": 740,
                "y": 120,
                "wires": [
                    {
                        "id": "bc5f13230556c942",
                        "port": 0
                    }
                ]
            }
        ],
        "env": [],
        "meta": {},
        "color": "#C0DEED",
        "icon": "font-awesome/fa-toggle-off",
        "status": {
            "x": 620,
            "y": 40,
            "wires": [
                {
                    "id": "770957f84dd0f6b4",
                    "port": 0
                },
                {
                    "id": "770957f84dd0f6b4",
                    "port": 1
                },
                {
                    "id": "bc5f13230556c942",
                    "port": 0
                }
            ]
        }
    },
    {
        "id": "b2cf9c405297cba6",
        "type": "subflow",
        "name": "switch_turn_off",
        "info": "",
        "category": "",
        "in": [
            {
                "x": 50,
                "y": 30,
                "wires": [
                    {
                        "id": "3bdf29f85e95586b"
                    }
                ]
            }
        ],
        "out": [
            {
                "x": 740,
                "y": 140,
                "wires": [
                    {
                        "id": "ce2d4327ea1cd45d",
                        "port": 0
                    }
                ]
            }
        ],
        "env": [],
        "meta": {},
        "color": "#C0DEED",
        "icon": "font-awesome/fa-toggle-off",
        "status": {
            "x": 740,
            "y": 80,
            "wires": [
                {
                    "id": "d1335bc9d95125e6",
                    "port": 0
                },
                {
                    "id": "d1335bc9d95125e6",
                    "port": 1
                },
                {
                    "id": "ce2d4327ea1cd45d",
                    "port": 0
                }
            ]
        }
    },
    {
        "id": "b7026e569408bfbd",
        "type": "group",
        "z": "a7a34028d045deee",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "bed74da982aa647e",
            "3749b4ab1a0ba7cf",
            "6c4b4ca33c32a0f7",
            "cd802d99b317e8c3"
        ],
        "x": 14,
        "y": 39,
        "w": 502,
        "h": 82
    },
    {
        "id": "022e7feb1e4ea3ae",
        "type": "group",
        "z": "a7a34028d045deee",
        "name": "notify two actions",
        "style": {
            "label": true
        },
        "nodes": [
            "3564790484706ae2",
            "d5d46cfd65fffc12",
            "ba0bdc1db6e4e011",
            "a3cf07381c3dba65",
            "f7038caa7a76e6f3",
            "88a668a5509178e0",
            "b2e6817cd694ba28"
        ],
        "x": 1254,
        "y": 139,
        "w": 442,
        "h": 202
    },
    {
        "id": "f7435f5ad02d3f79",
        "type": "group",
        "z": "4e909abe.0b62e4",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "e231947e3513d81f",
            "e4c83565e32c77fc",
            "0556160e41cbd509",
            "f9b4b865266e96f0"
        ],
        "x": 14,
        "y": 39,
        "w": 502,
        "h": 82
    },
    {
        "id": "0a1a2a6df765a339",
        "type": "group",
        "z": "4e909abe.0b62e4",
        "name": "notify",
        "style": {
            "label": true
        },
        "nodes": [
            "febf6f9eab6e868d",
            "6502d163268904d4",
            "ac04035c1896218b",
            "a1c0156c06d58e91",
            "d6d0b5735ad8f20a",
            "399184be7531eb78",
            "67db220bfc8a732a",
            "71e07fd77d2a4430"
        ],
        "x": 1894,
        "y": 599,
        "w": 462,
        "h": 242
    },
    {
        "id": "70b9d3433e540010",
        "type": "group",
        "z": "b4963274903ed2a9",
        "name": "notify",
        "style": {
            "label": true
        },
        "nodes": [
            "40cce72d78ddf2ba",
            "ddcda02e8d44e679",
            "017eba9ce6de6486",
            "c6f3f4b2b46ffb4e",
            "976de9be5916cb4b",
            "b36f1d0dfd83653c",
            "01112a435413374c",
            "728c75b797b416a5"
        ],
        "x": 1854,
        "y": 139,
        "w": 422,
        "h": 242
    },
    {
        "id": "bd6a21379a46d377",
        "type": "group",
        "z": "e98ae3c9db1bd6c3",
        "name": "notify two actions",
        "style": {
            "label": true
        },
        "nodes": [
            "994e86eeb88c5f08",
            "65114fbadc1625ff",
            "b53dc3ab1408794a",
            "dc2683f08bbcdd2e",
            "36246e33e6162b5a",
            "c6805d02b9eb3b45",
            "e3fe28933ad4f9bd"
        ],
        "x": 674,
        "y": 139,
        "w": 442,
        "h": 202
    },
    {
        "id": "faf17088fd1a6b16",
        "type": "group",
        "z": "55da1471.fda0fc",
        "name": "notify",
        "style": {
            "label": true
        },
        "nodes": [
            "c8bc013c45f3ae72",
            "035b931bd0cea26e",
            "57488cc36dcd2d00",
            "051f31139e799468",
            "07d3b997feaf3f7b",
            "8205d58f610c05d0"
        ],
        "x": 1834,
        "y": 779,
        "w": 472,
        "h": 162
    },
    {
        "id": "deb17c414e79ec63",
        "type": "group",
        "z": "55da1471.fda0fc",
        "name": "notify",
        "style": {
            "label": true
        },
        "nodes": [
            "f60ecb3be0ebc2af",
            "dec04d7f3b819fb2",
            "c5f04c8242157305",
            "ba409d3499824364",
            "60b0a5eab5b0a9d6",
            "0fa8b59e2735c07d"
        ],
        "x": 1834,
        "y": 379,
        "w": 472,
        "h": 162
    },
    {
        "id": "33fea7faee8e1f82",
        "type": "group",
        "z": "55da1471.fda0fc",
        "name": "notify two actions",
        "style": {
            "label": true
        },
        "nodes": [
            "8f3e39fd9d879f86",
            "d5ae8df68946471a",
            "d7f92782a71d3837",
            "b5cc0d26cf3e7ab2",
            "237a19020921825d",
            "09d4cdb039e852de",
            "0e83125ead481334"
        ],
        "x": 1834,
        "y": 559,
        "w": 472,
        "h": 202
    },
    {
        "id": "959cc8d22399a3c9",
        "type": "group",
        "z": "39bdcb9ed819fc87",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "259d9bad9d37b072",
            "ab5ff3a4a505c122",
            "008e4e3d5eb1c73a",
            "d4d19ad1bc94c25a"
        ],
        "x": 14,
        "y": 39,
        "w": 502,
        "h": 82
    },
    {
        "id": "56142a1519568ef8",
        "type": "group",
        "z": "2c496b90815e2d15",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "b6bfca82eda04627",
            "a095e55bdff6b447",
            "ddf56ac7c76174e3",
            "5bb7a42d4f9af661"
        ],
        "x": 14,
        "y": 39,
        "w": 502,
        "h": 82
    },
    {
        "id": "50d4aab3fb8401c4",
        "type": "group",
        "z": "b1c954404ea39706",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "cf20999f86ef9f29",
            "96744f1f4c81f4f5",
            "85efbfe86edb2e91",
            "384856183bc9a3dc"
        ],
        "x": 14,
        "y": 39,
        "w": 502,
        "h": 82
    },
    {
        "id": "6b44c062cbc05f0a",
        "type": "group",
        "z": "b1a9214c.4c71c",
        "name": "notify",
        "style": {
            "label": true
        },
        "nodes": [
            "db7934b4b14446da",
            "232a01493b9307b0",
            "73e546f49b2e02e1",
            "11d068d3ad86d2dd",
            "97afb37521efba77",
            "a22e2a028512634f"
        ],
        "x": 1734,
        "y": 199,
        "w": 412,
        "h": 162
    },
    {
        "id": "dbf117e9be1363d0",
        "type": "group",
        "z": "65351372f52f2e2d",
        "name": "notify",
        "style": {
            "label": true
        },
        "nodes": [
            "4fcc37584fdaacfc",
            "f62f4165d866a393",
            "f118397ef51d377e",
            "f46aad79d4615dbf",
            "ca3c70923fa7cd35",
            "96104ca744a9942d",
            "187e38cbc867548d"
        ],
        "x": 1614,
        "y": 379,
        "w": 412,
        "h": 202
    },
    {
        "id": "f259c1d245c5a0a4",
        "type": "group",
        "z": "65351372f52f2e2d",
        "name": "notify",
        "style": {
            "label": true
        },
        "nodes": [
            "41bff044d8ff0723",
            "8d49d5b0a77fe3fa",
            "e188c5d43cc22d55",
            "cfbc58f0de8fb24f",
            "685ac1f9d97aa2a9",
            "f6739c6be49dd463",
            "887d3f0b3fca1ef1"
        ],
        "x": 1614,
        "y": 159,
        "w": 412,
        "h": 202
    },
    {
        "id": "a36a86d8bb45f3d4",
        "type": "group",
        "z": "65351372f52f2e2d",
        "name": "notify tts",
        "style": {
            "label": true
        },
        "nodes": [
            "96c864b13b1ed44d",
            "6a5f068bc90a5bea",
            "7528bd2fef1d9090",
            "4cab768ec3304d77",
            "7bb3b10a5f621765",
            "504241c3de9c1592",
            "dfc54bd82a16e190"
        ],
        "x": 1614,
        "y": 599,
        "w": 412,
        "h": 202
    },
    {
        "id": "3b89d483d3628b14",
        "type": "group",
        "z": "72f3a564e626ff9a",
        "name": "notify two actions",
        "style": {
            "label": true
        },
        "nodes": [
            "3a3b8fdb9d6f4ab0",
            "dcc306682fd0ffa8",
            "0af5a06e405527e9",
            "d0d3f913b8c035f3",
            "b1b1be8e46f91cca",
            "dd3030c9ae0f7a07",
            "46d50645e39da463",
            "ebcb50cdabc72f91"
        ],
        "x": 1154,
        "y": 239,
        "w": 442,
        "h": 242
    },
    {
        "id": "7b3e33afc7e5d51f",
        "type": "group",
        "z": "98a989e.d6bca78",
        "name": "notify",
        "style": {
            "label": true
        },
        "nodes": [
            "253b2fc1dbf20ad4",
            "bdce8718917c4dcb",
            "b9f5925e88c3b14b",
            "5db5047bb3f69eb7",
            "4fc08434e069652b",
            "496caddb.5ba724",
            "fdc4c2eef34c0a15"
        ],
        "x": 854,
        "y": 179,
        "w": 452,
        "h": 202
    },
    {
        "id": "392300741f68f312",
        "type": "group",
        "z": "42b354a7f0284779",
        "name": "notify",
        "style": {
            "label": true
        },
        "nodes": [
            "59327076bed18754",
            "c6941b34f3402196",
            "17c484a9c9a917ac",
            "4dd6478ac62b8c2f",
            "9b93ac7b58399751",
            "cdbb5b48e71b5866"
        ],
        "x": 1294,
        "y": 239,
        "w": 452,
        "h": 162
    },
    {
        "id": "a438a5fafa2b7f02",
        "type": "group",
        "z": "343515a5528e14f0",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "42073f55aa389f5d",
            "f095a3312890d656",
            "ce9dcc40d72369f4",
            "8cc9f9d0eb2ee196"
        ],
        "x": 14,
        "y": 39,
        "w": 502,
        "h": 82
    },
    {
        "id": "f236f0a913f70054",
        "type": "group",
        "z": "d5421f8d.f7208",
        "name": "notify",
        "style": {
            "label": true
        },
        "nodes": [
            "0db5f8033b5c9adf",
            "4b276bf7ef0c3217",
            "ef18c5c2564a7e77",
            "6858101eee61155a",
            "eaec84df6f30a9ec",
            "1414f6788bc8c787"
        ],
        "x": 1934,
        "y": 79,
        "w": 472,
        "h": 162
    },
    {
        "id": "ef69ec82c772cad9",
        "type": "group",
        "z": "75537afd17de5117",
        "name": "notify",
        "style": {
            "label": true
        },
        "nodes": [
            "644d8e4f0164cfb2",
            "4b6f2391d1d4dfb7",
            "c32738f7b2c8ece5",
            "64fb1dffb9145f24",
            "5cb88a741e06d0c9",
            "56e8236b1fb323bc"
        ],
        "x": 1694,
        "y": 419,
        "w": 402,
        "h": 162
    },
    {
        "id": "9d6561fb99238a4d",
        "type": "group",
        "z": "b1b994b3d43d6aad",
        "name": "notify",
        "style": {
            "label": true
        },
        "nodes": [
            "5273660ff2a42a63",
            "194df75621104155",
            "c6bc1abd0ea4d3e7",
            "6cdaa7e9c55994da",
            "a087dd5873c41eaf",
            "48b102061eef4776",
            "ad8e3a3f408efd86"
        ],
        "x": 1154,
        "y": 219,
        "w": 452,
        "h": 202
    },
    {
        "id": "537179d37e7389e5",
        "type": "group",
        "z": "a8d8484165225699",
        "name": "notify",
        "style": {
            "label": true
        },
        "nodes": [
            "2e707984219ae3a9",
            "e142bb411f990e05",
            "58ce3486fc8107bd",
            "deeacc0728909577",
            "f55e9b8b5462e4d2",
            "daef6aa88b93b329",
            "e16a49a555dc3139"
        ],
        "x": 1194,
        "y": 239,
        "w": 452,
        "h": 202
    },
    {
        "id": "bb1cc6878bf6f696",
        "type": "group",
        "z": "8d2de69b4c0fd2b9",
        "name": "notify",
        "style": {
            "label": true
        },
        "nodes": [
            "db50c5b6f4f302b4",
            "c0d0c36d39f527e2",
            "372e878f27b4b2b2",
            "344ad3f982a92730",
            "ece5442438bb7aa1",
            "b560dfc6f3c2aec1"
        ],
        "x": 1294,
        "y": 159,
        "w": 472,
        "h": 162
    },
    {
        "id": "b4f3f9f25b585f85",
        "type": "group",
        "z": "ce5dca27239daba8",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "2e9dbc5a5fc615fc",
            "b437f9f1e8b5ebf7",
            "f9b220def47837e4",
            "2a1761aff5d63d7a"
        ],
        "x": 14,
        "y": 39,
        "w": 502,
        "h": 82
    },
    {
        "id": "751efbb5afdedf48",
        "type": "group",
        "z": "1a02f7122bccea54",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "70c953492b9eb40c",
            "505a577898a56012",
            "17e4e7721adc09a1",
            "fec97058470f8f5e"
        ],
        "x": 14,
        "y": 39,
        "w": 502,
        "h": 82
    },
    {
        "id": "3bd669c9a971e4a2",
        "type": "group",
        "z": "7186425fdfc90c19",
        "name": "notify",
        "style": {
            "label": true
        },
        "nodes": [
            "8ee8100ab8bdc7e6",
            "90b19d7c300c5383",
            "4369851a7e1e9308",
            "80393a5cbd64c280",
            "159c508f956eb430",
            "76b2b2fcd5922030",
            "44cfcac399640661"
        ],
        "x": 994,
        "y": 139,
        "w": 452,
        "h": 202
    },
    {
        "id": "47af9932f18884cc",
        "type": "group",
        "z": "c0da8379.b0dd3",
        "name": "notify",
        "style": {
            "label": true
        },
        "nodes": [
            "4d43c0c59596c396",
            "7063678cde99b775",
            "5e72b91e3ad4066d",
            "52f21d3060c57706",
            "71156279d6ca8920"
        ],
        "x": 1954,
        "y": 319,
        "w": 412,
        "h": 162
    },
    {
        "id": "983d668963ae42e9",
        "type": "group",
        "z": "8aa6edec.5a013",
        "name": "notify",
        "style": {
            "label": true
        },
        "nodes": [
            "d2800bc161fa3196",
            "fbc0aa717b3e43c7",
            "9cbf9ef4fcbbe61e",
            "8d1a89d3e903f2bc",
            "37841e86c6ea5231"
        ],
        "x": 1754,
        "y": 579,
        "w": 392,
        "h": 122
    },
    {
        "id": "9c946ef945c199e5",
        "type": "group",
        "z": "8aa6edec.5a013",
        "name": "notify",
        "style": {
            "label": true
        },
        "nodes": [
            "60a9200995b666e2",
            "254201c717321a67",
            "37c73ac2e71d9a61",
            "f7c20be07a75c04e",
            "662879feb30cc5fa"
        ],
        "x": 1754,
        "y": 159,
        "w": 412,
        "h": 162
    },
    {
        "id": "14187342a7b09482",
        "type": "group",
        "z": "8aa6edec.5a013",
        "name": "notify",
        "style": {
            "label": true
        },
        "nodes": [
            "19cfd22b49a2e356",
            "8aa74b4cb48558f8",
            "3bdaf73ce37b7397",
            "d512fe1ba0adbf42",
            "83e460c17170065f",
            "1b8772493fd3aa94",
            "c8db6380b138fd4e"
        ],
        "x": 1754,
        "y": 359,
        "w": 412,
        "h": 202
    },
    {
        "id": "725af18957967e99",
        "type": "group",
        "z": "eb1939ba1b7e9b73",
        "name": "notify",
        "style": {
            "label": true
        },
        "nodes": [
            "72ef2fc0d180fcea",
            "343f37d7fe9484fd",
            "30a8a878728a6a2b",
            "8a1366db3f33e113",
            "0fd94c312d822e91"
        ],
        "x": 1174,
        "y": 259,
        "w": 392,
        "h": 122
    },
    {
        "id": "12e8b8acaeaeb3fa",
        "type": "group",
        "z": "e4381ced98d2a929",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "c20492a470484001",
            "5d3c3503fee346db",
            "c527f80ad015aec2",
            "dbd19cce541f73bc",
            "0ccbc5bbe180df8e",
            "1583a7af300c58e0",
            "6f6fc24f15222254",
            "9c4864f0ca0d2d96",
            "c49e5bd8f93bd496",
            "d1324fbb34721b63",
            "3dd82a4a5a5f543f",
            "2db276d509393d03",
            "cdc4fcc574f8d36a",
            "bd90d247a95feb9d",
            "3a5ac0b1670fd20b",
            "29aa2542eb146ebc",
            "15feab4d9dbd9466",
            "a6f1e7fa85069234",
            "32fb1b9bd5a1bd08",
            "7d9091cf95ea29fe",
            "06036de6a31877d8",
            "7fe4b7424297ac0b",
            "e0259adb4a945229",
            "38276d0327ca72c0",
            "2d21e3e6cf54e587",
            "535a687f3b588b38",
            "c5e53f10fcec2a55",
            "17d6d6ba47815c69",
            "2f3981a6369226a2"
        ],
        "x": 514,
        "y": 239,
        "w": 1278,
        "h": 882
    },
    {
        "id": "1fb2b225cc711d77",
        "type": "group",
        "z": "e4381ced98d2a929",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "ec72f7b2db4cc37c",
            "764ff273496b0193",
            "ab4badbb40ac3f96",
            "28d474865ab8bbeb",
            "3392b339fb5fe297",
            "3fd3c31faf84dc25",
            "f69361468483265d"
        ],
        "x": 514,
        "y": 1299,
        "w": 692,
        "h": 202
    },
    {
        "id": "13b1135f0e749c31",
        "type": "group",
        "z": "e4381ced98d2a929",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "f9ccc0bad1f19231",
            "8ee38710dd301911"
        ],
        "x": 514,
        "y": 1159,
        "w": 532,
        "h": 82
    },
    {
        "id": "f2952a0e7861984f",
        "type": "group",
        "z": "645478ab1138fd33",
        "name": "notify",
        "style": {
            "label": true
        },
        "nodes": [
            "2e62b582b5ace0b2",
            "6011ff5a330d5f46",
            "b151676bc37a1e90",
            "be68c8baf380f74e",
            "dfebcb371c6d37c4",
            "b41a40c1e135e55c",
            "ed20a5d29a5eb136",
            "29504140078fb34c"
        ],
        "x": 794,
        "y": 159,
        "w": 422,
        "h": 242
    },
    {
        "id": "37c7c59a61d38b32",
        "type": "group",
        "z": "b13ca13c.9328e",
        "name": "notify two actions",
        "style": {
            "label": true
        },
        "nodes": [
            "16bf3029dc11f50b",
            "8bd6ce7359e6fe2f",
            "48cae6c1e3fb0c75",
            "1c8dfa7ab499ce29",
            "3ad564319a62aa0f",
            "3f7e2f446cdb3e90",
            "66e66f9f5828f878",
            "5922c1dac60ed4ec"
        ],
        "x": 1734,
        "y": 239,
        "w": 422,
        "h": 242
    },
    {
        "id": "1b05fecd5ed3289b",
        "type": "group",
        "z": "b13ca13c.9328e",
        "name": "notify",
        "style": {
            "label": true
        },
        "nodes": [
            "dab28de38f3a6629",
            "ab8c69e6298f0ad4",
            "ac254d4235d71700",
            "47c9e5d66b827b3c",
            "3a0c4f886a8c4e54",
            "52d10ab03d478bae",
            "322d16b061f4e108"
        ],
        "x": 1734,
        "y": 499,
        "w": 422,
        "h": 202
    },
    {
        "id": "0490826048e616a0",
        "type": "group",
        "z": "2fdf3d9bec5f1748",
        "name": "notify",
        "style": {
            "label": true
        },
        "nodes": [
            "6e679db82914212d",
            "28d7678ffbc9ea54",
            "f513a1a6c1ad56d9",
            "509313ec35867636",
            "2137fd353b4905ee",
            "335c7c4596657191",
            "dedcddec2131fd4e",
            "e986602efbf956a6"
        ],
        "x": 1174,
        "y": 159,
        "w": 422,
        "h": 242
    },
    {
        "id": "60a8ffbec987c377",
        "type": "group",
        "z": "cde79c08.e4f488",
        "name": "notify",
        "style": {
            "label": true
        },
        "nodes": [
            "af6a4d51c1e99b4e",
            "8bda876328e49e67",
            "fdba7cd037a9da5a",
            "9a02e08c1760e584",
            "ef17b4eb0dc0871b",
            "c7b88c5f533c105b",
            "8ca7529cee95086c"
        ],
        "x": 814,
        "y": 239,
        "w": 432,
        "h": 202
    },
    {
        "id": "b81d6a2bc88d5cab",
        "type": "group",
        "z": "2437e768.8e34d8",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "b921556ff12ab156",
            "1f556a76d7e6f50a",
            "5173344f2bf9202f",
            "5da220473ea9a36e"
        ],
        "x": 14,
        "y": 39,
        "w": 502,
        "h": 82
    },
    {
        "id": "3bf0bc8959f8a48e",
        "type": "group",
        "z": "2437e768.8e34d8",
        "name": "notify",
        "style": {
            "label": true
        },
        "nodes": [
            "71f13b6b1744cf6b",
            "64614e79bcb09872",
            "2a35d2abfb0850da",
            "2c0a57bd6ee87009",
            "08bca5ce6d389d48",
            "ec34cd6ea57b0b7f",
            "80b3c96f004d6f8b"
        ],
        "x": 1234,
        "y": 139,
        "w": 472,
        "h": 202
    },
    {
        "id": "b268fa78a872617d",
        "type": "group",
        "z": "99c1372046e45da7",
        "name": "notify",
        "style": {
            "label": true
        },
        "nodes": [
            "148de36202032274",
            "5a8f575633614c07",
            "781d3a645a5e3130",
            "8c93b438701888a6",
            "7b9d796ac83c32bf",
            "9655b1065753069f",
            "451f25b73596ddf8"
        ],
        "x": 1354,
        "y": 239,
        "w": 412,
        "h": 202
    },
    {
        "id": "a51faa8090a268f4",
        "type": "group",
        "z": "99c1372046e45da7",
        "name": "notification_sensors",
        "style": {
            "label": true
        },
        "nodes": [
            "59d4d6719e262bbb",
            "e8714993e53c2d5e",
            "0561341e4ea54205",
            "29ad6bfc437abec2",
            "afc68deb5ab5e4be"
        ],
        "x": 1354,
        "y": 459,
        "w": 872,
        "h": 82
    },
    {
        "id": "cf9f14c80d528160",
        "type": "group",
        "z": "4dd07a1d.6e53e4",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "04c29ec7a7bb3e19",
            "351e6909c12b36ab",
            "6031ed8d02da2add",
            "f0e25a858eae0278"
        ],
        "x": 14,
        "y": 39,
        "w": 502,
        "h": 82
    },
    {
        "id": "48945dbb970d3465",
        "type": "group",
        "z": "72ef82b8.9d086c",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "95a0ca31cb9f81d2",
            "d6fdd4c4271165e1",
            "a88aa9f85b115b03",
            "2eb8824d45a66c4f"
        ],
        "x": 14,
        "y": 39,
        "w": 502,
        "h": 82
    },
    {
        "id": "677a462e190a4c92",
        "type": "group",
        "z": "72ef82b8.9d086c",
        "name": "notify",
        "style": {
            "label": true
        },
        "nodes": [
            "f359939883ebec80",
            "70a25e05987238de",
            "0993d50e3c03d798",
            "a91faa17c024af1e",
            "df3bd9cee59e687a",
            "7913c8cedd9b8d45",
            "95286ff3.9f33d"
        ],
        "x": 1244,
        "y": 139,
        "w": 472,
        "h": 202
    },
    {
        "id": "f2123713074fa557",
        "type": "group",
        "z": "c23003c7.1c978",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "3eba4ba84e7b67ae",
            "06bc5fe464e9132d",
            "aa6339118c6cf238",
            "0174447baafb1dab"
        ],
        "x": 14,
        "y": 39,
        "w": 502,
        "h": 82
    },
    {
        "id": "283f88d61789c306",
        "type": "group",
        "z": "c23003c7.1c978",
        "name": "notify",
        "style": {
            "label": true
        },
        "nodes": [
            "96e077260be2f7fb",
            "d93bd58ac5ac0363",
            "1e0f934a3493b12f",
            "beedc605a0a3cbac",
            "2191e2bfc331009c",
            "61f9d42e4c070321",
            "96679db36a4a3636"
        ],
        "x": 1854,
        "y": 99,
        "w": 472,
        "h": 202
    },
    {
        "id": "954efb6e818259f4",
        "type": "group",
        "z": "51ad1e79edd47f04",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "89f81c01fd297b99",
            "7d9dd51684fea32b",
            "31afe4007c8c4380",
            "9d44f246159d8d55"
        ],
        "x": 14,
        "y": 39,
        "w": 502,
        "h": 82
    },
    {
        "id": "0b8b5d79d80701d3",
        "type": "group",
        "z": "b4963274903ed2a9",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "a8fcbc81b74ad4f3",
            "52b890d221e51d99",
            "f18c57903881ea97",
            "a63decc27ac1e186"
        ],
        "x": 14,
        "y": 39,
        "w": 502,
        "h": 82
    },
    {
        "id": "ec39be6249e7e485",
        "type": "group",
        "z": "4a94729fe3d3c081",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "e2179ba6a2c951f5",
            "eeaaf1e6d4c5ea3a",
            "13f2b7ca42c4eca2",
            "fd804489979c3abc"
        ],
        "x": 14,
        "y": 39,
        "w": 502,
        "h": 82
    },
    {
        "id": "0b07577dad51457c",
        "type": "group",
        "z": "4e909abe.0b62e4",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "7b52e1a6.51c84",
            "dcb087f1.7dab78",
            "8e51a253.d8dde",
            "c83efd35.f7a48",
            "cb035d1b.0d3f9",
            "ce6315d9d913f13b",
            "5c4f378f8ceb12fe",
            "05b9c0653cca602c",
            "8695ac14d1f8e704"
        ],
        "x": 274,
        "y": 1319,
        "w": 442,
        "h": 302
    },
    {
        "id": "fe3d60102d671872",
        "type": "group",
        "z": "4e909abe.0b62e4",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "55ffc090.d9b5b",
            "9e8a7cf7.88d51",
            "5fba04f5.3847ac",
            "cbdc5416.0cbcd8",
            "91b0640c.1b4d68",
            "46d491e1.18c83",
            "7fcc0134.64917",
            "f5c03471.585f88",
            "fce79366.4dc17",
            "9c749cb3.fd1b8",
            "f348457a7db9ec8d"
        ],
        "x": 274,
        "y": 999,
        "w": 982,
        "h": 302
    },
    {
        "id": "031e4f7e9e7c26c2",
        "type": "group",
        "z": "4e909abe.0b62e4",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "54696fbd78ed3819",
            "4a4e04ddf8350706",
            "cb917aa518896f3a",
            "dfffac879d63354b",
            "6756525186f8169e",
            "9788a503135ae44e",
            "16000567cbeaf3df",
            "57486f510a59fd65",
            "60bfbb8510eb0ddf",
            "fec6bd8d1440b36a",
            "3bbc2d79dae1d733",
            "9073f4d6575f634e"
        ],
        "x": 274,
        "y": 1639,
        "w": 1252,
        "h": 362
    },
    {
        "id": "075f4d9b063c9dbd",
        "type": "group",
        "z": "2a2d89771193fb8b",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "a852520ede8524df",
            "c066170d3d0fe3c7",
            "71c8efae8c1d420b",
            "3a79dff06163c162"
        ],
        "x": 14,
        "y": 39,
        "w": 502,
        "h": 82
    },
    {
        "id": "790b21b9d3f0df95",
        "type": "group",
        "z": "3d30857f5165e137",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "ce38a20b6edb30fe",
            "859d7340dcad2e19",
            "8b8c16211a8b72d6",
            "1eda23dd9f8e2572"
        ],
        "x": 14,
        "y": 39,
        "w": 502,
        "h": 82
    },
    {
        "id": "5eb2a483b2644796",
        "type": "group",
        "z": "e98ae3c9db1bd6c3",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "e2aad0c5c8a8a6c8",
            "92ae0a959b86c0cc",
            "4d9e677df669290b",
            "2ba2b814332015f0"
        ],
        "x": 14,
        "y": 39,
        "w": 502,
        "h": 82
    },
    {
        "id": "7a6662144d2d489c",
        "type": "group",
        "z": "55da1471.fda0fc",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "144ebe3499c86989",
            "dbd017147d154790",
            "4d1450df9aae47f1",
            "74b269c1337cbb9d"
        ],
        "x": 14,
        "y": 39,
        "w": 502,
        "h": 82
    },
    {
        "id": "7c9dc6f46ee8eaaf",
        "type": "group",
        "z": "29a2e1dd05ecbf80",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "ed749a88cd5bd834",
            "89d0c5bcdd39fd4c",
            "b7a8e5cc57ee6ca0",
            "e33e1e962d57e077"
        ],
        "x": 14,
        "y": 39,
        "w": 502,
        "h": 82
    },
    {
        "id": "53dc0a23c8426878",
        "type": "group",
        "z": "03ed0365a1543556",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "874b60377e719fde",
            "387845d9698cbe12",
            "7bf74cbdd5a69c4a",
            "dfa305742a8fe0b2"
        ],
        "x": 14,
        "y": 39,
        "w": 502,
        "h": 82
    },
    {
        "id": "0c4c4d997dc4f3b1",
        "type": "group",
        "z": "a4fbdd1c0456c1af",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "289e69cd264b93eb",
            "2fc22cb558c3300b",
            "f6679763cd60d5c2",
            "c5d9fdd7bfb1fbb3"
        ],
        "x": 14,
        "y": 39,
        "w": 502,
        "h": 82
    },
    {
        "id": "6c139f7e45d57ce6",
        "type": "group",
        "z": "67a16d037f1a73fc",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "f51ddf7aa1887856",
            "94668c7094bf409b",
            "0e36b13934d068e7",
            "aaf28e71155281d1"
        ],
        "x": 14,
        "y": 39,
        "w": 502,
        "h": 82
    },
    {
        "id": "f76361b9ab8df196",
        "type": "group",
        "z": "2863cbc8bee70856",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "9be6d18fa9149c14",
            "67abbaaabd24e85e",
            "d1ac9e9826f44523",
            "18db9b1d71ff195a"
        ],
        "x": 14,
        "y": 39,
        "w": 502,
        "h": 82
    },
    {
        "id": "89cbff0dec5ca2a9",
        "type": "group",
        "z": "8ca9fd35c2a2b1c4",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "d2e946cf3e720d46",
            "0fac954b5d2732b2",
            "4ccec2f982a522c0",
            "c8725231b1ec6142"
        ],
        "x": 14,
        "y": 39,
        "w": 502,
        "h": 82
    },
    {
        "id": "bad5045815fdb13b",
        "type": "group",
        "z": "9a7094e42d673dc4",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "355581f2d8e477de",
            "4ea67a000286b4d8",
            "c653974d1dff1810",
            "db2e26ad5747e0a6"
        ],
        "x": 14,
        "y": 39,
        "w": 502,
        "h": 82
    },
    {
        "id": "6fc99fe3fa43961b",
        "type": "group",
        "z": "b1a9214c.4c71c",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "aedbcf84c1295abd",
            "e75e88b2739b898a",
            "c026370f826e5d5f",
            "c027d4c52c4a61b2"
        ],
        "x": 14,
        "y": 39,
        "w": 502,
        "h": 82
    },
    {
        "id": "04562c8514c07d74",
        "type": "group",
        "z": "65351372f52f2e2d",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "b66a38e04739bfdd",
            "b983fbc0f8c8da2f",
            "7bdad445330a11b6",
            "c73573d7e9bdaf0f"
        ],
        "x": 14,
        "y": 39,
        "w": 502,
        "h": 82
    },
    {
        "id": "00e1921baeb8bd5e",
        "type": "group",
        "z": "72f3a564e626ff9a",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "bfe7a87449e07220",
            "b6142c43c8cd2aa3",
            "14c8565d2e050386",
            "887509b8f00c0fa0"
        ],
        "x": 14,
        "y": 39,
        "w": 502,
        "h": 82
    },
    {
        "id": "9a6a0422b6ecafd9",
        "type": "group",
        "z": "98a989e.d6bca78",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "4b522fb422cd4d3b",
            "135edde980b196c2",
            "b6683e8825a4f684",
            "858d29207573b2c5"
        ],
        "x": 14,
        "y": 39,
        "w": 502,
        "h": 82
    },
    {
        "id": "486186084273434f",
        "type": "group",
        "z": "42b354a7f0284779",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "67307ba4e3d3f9b3",
            "b7beb6e187e61cdc",
            "7fef303d15d03ef1",
            "611dd015489e682f"
        ],
        "x": 14,
        "y": 39,
        "w": 502,
        "h": 82
    },
    {
        "id": "e14729bbb68696bb",
        "type": "group",
        "z": "b4aa7b8dbc1c80dc",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "59261a1cba9f1c9d",
            "dc708d13b5623029",
            "db1e6a0372a267e5",
            "b4e30499c0f38241"
        ],
        "x": 34,
        "y": 19,
        "w": 502,
        "h": 82
    },
    {
        "id": "65b23193509b810d",
        "type": "group",
        "z": "d5421f8d.f7208",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "5966ae391638c2e2",
            "afca751308698d24",
            "588232826fe1cb16",
            "996b414e0e42417f"
        ],
        "x": 34,
        "y": 39,
        "w": 502,
        "h": 82
    },
    {
        "id": "8b3123563ca26288",
        "type": "group",
        "z": "75537afd17de5117",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "08e87e585225cf76",
            "850de025f821d110",
            "a1d22443632b6c95",
            "34627360e59b2422"
        ],
        "x": 14,
        "y": 39,
        "w": 502,
        "h": 82
    },
    {
        "id": "54fbd89aeb283eab",
        "type": "group",
        "z": "535c98d1d92579b6",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "d361893bd7868273",
            "d50a3b33f5ac5fbe",
            "dac0d4dda81abc95",
            "3a705fecfc60ec68"
        ],
        "x": 14,
        "y": 39,
        "w": 502,
        "h": 82
    },
    {
        "id": "28814c2324702a49",
        "type": "group",
        "z": "1dfb7e055134adc8",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "230055356a2e27e3",
            "c6c55fc30c7db0f1",
            "c84220140a8c71a3",
            "d9db1905747d0301"
        ],
        "x": 14,
        "y": 39,
        "w": 457,
        "h": 82
    },
    {
        "id": "7371831af6e7c577",
        "type": "group",
        "z": "b1b994b3d43d6aad",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "ad160909a47f0ea8",
            "ce1eb14a06a13ce4",
            "bf3806a421c7b15a",
            "da4b749474868319"
        ],
        "x": 14,
        "y": 39,
        "w": 502,
        "h": 82
    },
    {
        "id": "0330186b9fdcf4ee",
        "type": "group",
        "z": "a8d8484165225699",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "925cbc802add6b04",
            "d365bf9676fe5435",
            "fcbba10709360bf0",
            "5f99051ae7b91aed"
        ],
        "x": 14,
        "y": 39,
        "w": 502,
        "h": 82
    },
    {
        "id": "c55c738b848ff4e2",
        "type": "group",
        "z": "8d2de69b4c0fd2b9",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "a6bc5cbea3cc0781",
            "a0144416b570fb26",
            "80e833d182f30872",
            "51536b69c791a38f"
        ],
        "x": 14,
        "y": 19,
        "w": 502,
        "h": 82
    },
    {
        "id": "8a3e724b9367b490",
        "type": "group",
        "z": "7186425fdfc90c19",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "b8768bd6ae8b8f1b",
            "fde4c3a371beff5a",
            "388c6c30bcb85720",
            "0870fa9736ccd6a3"
        ],
        "x": 14,
        "y": 39,
        "w": 457,
        "h": 82
    },
    {
        "id": "e72d1d528dd56224",
        "type": "group",
        "z": "3087db0b32ceb4d4",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "5b4b9a106796749a",
            "219fb66a34f6d5fc",
            "b8f35a173d514067",
            "dae13c944f704b59"
        ],
        "x": 14,
        "y": 39,
        "w": 502,
        "h": 82
    },
    {
        "id": "11883cc6242c876f",
        "type": "group",
        "z": "c0da8379.b0dd3",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "fc483e26e8ef8d67",
            "7c52ea5308a77607",
            "195545448e386e6c",
            "8f721f7cb577cb3e"
        ],
        "x": 14,
        "y": 39,
        "w": 502,
        "h": 82
    },
    {
        "id": "185f2dd7a860d19b",
        "type": "group",
        "z": "8aa6edec.5a013",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "951976c3a53b79b8",
            "02dc0d1b6f03c379",
            "2c08acee77a89d06",
            "f114dc5a554e6188"
        ],
        "x": 14,
        "y": 39,
        "w": 502,
        "h": 82
    },
    {
        "id": "e53baf256d3f1848",
        "type": "group",
        "z": "eb1939ba1b7e9b73",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "a935ec34e1de18c2",
            "f52934b833197f89",
            "43dbea1142f618eb",
            "d6e392af72ad7b29"
        ],
        "x": 14,
        "y": 19,
        "w": 502,
        "h": 82
    },
    {
        "id": "1a8cd9cbdf0175d6",
        "type": "group",
        "z": "e4381ced98d2a929",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "ecf36f7ae5c5534a",
            "5680e1adc867d8fa",
            "89d180847c2436b6",
            "533d62fb78e93dcf"
        ],
        "x": 14,
        "y": 39,
        "w": 502,
        "h": 82
    },
    {
        "id": "30dd8f4e4a961d46",
        "type": "group",
        "z": "645478ab1138fd33",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "584b6ef4305b94bf",
            "b041bd0930b42e26",
            "88c8645165323767",
            "fcd114f75c18ca9a"
        ],
        "x": 14,
        "y": 39,
        "w": 502,
        "h": 82
    },
    {
        "id": "5818abbf91245841",
        "type": "group",
        "z": "b13ca13c.9328e",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "14ba38184c7546c9",
            "827b55ddfe680440",
            "200857993ae893c3",
            "072a523a6fd161e6"
        ],
        "x": 14,
        "y": 39,
        "w": 502,
        "h": 82
    },
    {
        "id": "8e49d14f6c55b86d",
        "type": "group",
        "z": "2fdf3d9bec5f1748",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "e49b1a71f5484e62",
            "370797ef44bacff0",
            "d6b4445ad7f5062a",
            "796c20cfef0a4084"
        ],
        "x": 14,
        "y": 39,
        "w": 502,
        "h": 82
    },
    {
        "id": "cb7954a7aa2cae2b",
        "type": "group",
        "z": "cde79c08.e4f488",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "7f6be1a38957af4c",
            "f1521b7d71efee12",
            "301e5101402d9cd1",
            "880bc0b589727b10"
        ],
        "x": 14,
        "y": 39,
        "w": 502,
        "h": 82
    },
    {
        "id": "689e3786766ccaab",
        "type": "group",
        "z": "b30206160f4c3c3b",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "5047eb1f31122238",
            "a94d9ca1c834ea4a",
            "fc2c3ebd96e14cc3",
            "40282b434e104e9b"
        ],
        "x": 14,
        "y": 39,
        "w": 502,
        "h": 82
    },
    {
        "id": "a5fedb7b1f936a7c",
        "type": "group",
        "z": "46d98b35c2eee05b",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "68c48f123df0cea6",
            "0a699ee4ac51e7f9",
            "a6196b4738721e31",
            "73e7561891b5363a"
        ],
        "x": 14,
        "y": 39,
        "w": 502,
        "h": 82
    },
    {
        "id": "e30ff84977664050",
        "type": "group",
        "z": "99c1372046e45da7",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "6dc6a41b28fbcce8",
            "d9437e8ede03988b",
            "6bcc6ca59609f4ee",
            "b0a930b2bce12ea3"
        ],
        "x": 14,
        "y": 39,
        "w": 502,
        "h": 82
    },
    {
        "id": "9d927f405fd197bc",
        "type": "group",
        "z": "5c92a1135257c28d",
        "name": "notify",
        "style": {
            "label": true
        },
        "nodes": [
            "a6c263811d9239b5",
            "420b0d2cf8014bfe",
            "7a732e9184d0afcf",
            "4b9a0a6f1713a12a",
            "ea1d347257539369",
            "b553c9f2abb4bdc0",
            "f8bd1ef936e71fbf"
        ],
        "x": 774,
        "y": 59,
        "w": 432,
        "h": 202
    },
    {
        "id": "cd256ec259a611f4",
        "type": "group",
        "z": "fd9cd80f14f860fe",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "f47b4545239299ad",
            "54b7f080b2edea10",
            "1e7eae419a9ec64f",
            "18e6577d292535de",
            "61e6d10bbacb84be",
            "fa9bc69bfdcf7c2c",
            "1852cb62226e78b0",
            "cc95177ff7dd19c7"
        ],
        "x": 634,
        "y": 479,
        "w": 1012,
        "h": 242
    },
    {
        "id": "d3868dc5f4aa2d65",
        "type": "group",
        "z": "fd9cd80f14f860fe",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "f9e486866e6d65f1",
            "1f82b6c0e5dbebf0",
            "0d2317e40dbcbd17",
            "b564e25effcfc627",
            "edd4560b8748e246",
            "7921cddd0f314705",
            "1d37dadaa58f945a",
            "7bea96d351fd45a5",
            "87169159e7ae701a"
        ],
        "x": 634,
        "y": 159,
        "w": 652,
        "h": 302
    },
    {
        "id": "fc9a0630f16ecdaf",
        "type": "group",
        "z": "fd9cd80f14f860fe",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "38e2ec5bd89aa669",
            "0e86c16e42286a1a",
            "6797374d5c5348f9",
            "9e2a2047fb3d0be1",
            "3beb8cf879247adb"
        ],
        "x": 634,
        "y": 759,
        "w": 532,
        "h": 182
    },
    {
        "id": "3deebaf17197f452",
        "type": "group",
        "z": "fd9cd80f14f860fe",
        "name": "notify",
        "style": {
            "label": true
        },
        "nodes": [
            "f562bc76d4f77c72",
            "aaefbd870a81bd90",
            "2c7cc629bd4dabbf",
            "dca8060d69453e87",
            "594222d1e705061c",
            "c6c71296e724485a",
            "7c90580485197cda"
        ],
        "x": 994,
        "y": 1839,
        "w": 412,
        "h": 202
    },
    {
        "id": "c9eb921486128606",
        "type": "group",
        "z": "5c92a1135257c28d",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "3685f3d759ad2aa1",
            "38c87329321ca5f4",
            "7b8a53cdff17b707",
            "df859aeb022a54e3"
        ],
        "x": 14,
        "y": 39,
        "w": 502,
        "h": 82
    },
    {
        "id": "eceb4d513b2ed0a7",
        "type": "group",
        "z": "fb7b362cbc47e439",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "218274abd301e16a",
            "54b23fbb217cce7a",
            "3bacd8ed5d0dccd2",
            "f2eeb4cd5981b12d"
        ],
        "x": 14,
        "y": 39,
        "w": 502,
        "h": 82
    },
    {
        "id": "0c2e33b261c4cf11",
        "type": "group",
        "z": "f5e87f41e348afa5",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "40b36b069112494c",
            "4fd19d102fa4c95a",
            "0666b6f65b4515cb",
            "6f6033d75ad786d8"
        ],
        "x": 14,
        "y": 39,
        "w": 502,
        "h": 82
    },
    {
        "id": "c79d2a2e6bd96fce",
        "type": "group",
        "z": "75dcbba8aec48c92",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "48a202fd30defc64",
            "8a880a89870fd474",
            "44f5433a0f7d8e6c",
            "df8ba459c8692b8a"
        ],
        "x": 14,
        "y": 39,
        "w": 502,
        "h": 82
    },
    {
        "id": "b69895a9db022a47",
        "type": "group",
        "z": "a498f22679d943d0",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "5c0b91114ad853a6",
            "57555a1f94c04fc3",
            "83742449c3349fd4",
            "8ba3f19d6ce65bec"
        ],
        "x": 14,
        "y": 39,
        "w": 502,
        "h": 82
    },
    {
        "id": "52980cdcae4e3384",
        "type": "group",
        "z": "d9b921e9fd746ad1",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "9f18e7092e8b6f9c",
            "ee03c06252d3632e",
            "c9f30fc70f2be4fd",
            "9b9ad619917072e8"
        ],
        "x": 14,
        "y": 39,
        "w": 502,
        "h": 82
    },
    {
        "id": "5638a5eb59070a64",
        "type": "group",
        "z": "38e25502d65ef451",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "f728117825efb964",
            "629ec08766fb7019",
            "3f111153aba96e14",
            "0693776fea84564e"
        ],
        "x": 14,
        "y": 39,
        "w": 502,
        "h": 82
    },
    {
        "id": "a6cae9b8e727f32b",
        "type": "group",
        "z": "c4112ff844284323",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "8cd6a97d8921b370",
            "f03accf0e6b5ffe8",
            "46a0b57223aa4c17",
            "13b122195c61c45f"
        ],
        "x": 14,
        "y": 39,
        "w": 502,
        "h": 82
    },
    {
        "id": "a8271160dbfdda1f",
        "type": "group",
        "z": "762cff9aad6b0816",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "ce5d8f5c47d6cd40",
            "88452990fe88bbc5",
            "6352a2bd0e56f5a8",
            "ad72e3183538d9e5"
        ],
        "x": 14,
        "y": 39,
        "w": 502,
        "h": 82
    },
    {
        "id": "b928bcab67c7970c",
        "type": "group",
        "z": "d95708849d31630d",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "3016c23826afe2b3",
            "46295b436337c8ca",
            "5fce516d2b677877",
            "da7468fd0ee36aee"
        ],
        "x": 14,
        "y": 39,
        "w": 502,
        "h": 82
    },
    {
        "id": "0a76fbe2d5c4a8d7",
        "type": "group",
        "z": "acd9bd0c60806bd8",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "7b608bc9a37ee5c2",
            "b6ffd20beaf691b9",
            "5d396ef39d0c5fee",
            "1c3d282713ad9eb9"
        ],
        "x": 14,
        "y": 39,
        "w": 502,
        "h": 82
    },
    {
        "id": "93528e3d0837cda6",
        "type": "group",
        "z": "787906290c7e8747",
        "name": "",
        "style": {
            "fill": "#ffbfbf",
            "label": true
        },
        "nodes": [
            "bff955f92d99e171",
            "f1bb4b17cac31567",
            "81b4855d39d56cd1",
            "1bcfae4bb6691b5b",
            "0aab0773f57ae19d"
        ],
        "x": 14,
        "y": 39,
        "w": 702,
        "h": 82
    },
    {
        "id": "cdb88e8901d0ba9b",
        "type": "group",
        "z": "dfcd5e683fabd9c1",
        "name": "",
        "style": {
            "fill": "#ffbfbf",
            "label": true
        },
        "nodes": [
            "493f89bd975298cc",
            "e3d17bf790a14a46",
            "0795b985190d2d2c",
            "f4a0915189332d7f",
            "9c386485dd5af4ca"
        ],
        "x": 14,
        "y": 39,
        "w": 702,
        "h": 82
    },
    {
        "id": "7976afd80fac6372",
        "type": "group",
        "z": "67d790ac195b8d6f",
        "name": "",
        "style": {
            "fill": "#ffbfbf",
            "label": true
        },
        "nodes": [
            "4a4a30b80b65f981",
            "ebb227b95918cd2a",
            "b44fdf201dc1042b",
            "e6e632bc348f3e5f",
            "c2fdadbba6f66618"
        ],
        "x": 14,
        "y": 39,
        "w": 702,
        "h": 82
    },
    {
        "id": "5c3bcb9c208b7f8a",
        "type": "group",
        "z": "e03c0cf1695985b6",
        "name": "",
        "style": {
            "fill": "#ffbfbf",
            "label": true
        },
        "nodes": [
            "c74f2d04d91995d9",
            "efe69a8c52982bb3",
            "a61ab9714b972c32",
            "e801dd4648191302",
            "38b62ec58f34ace3"
        ],
        "x": 14,
        "y": 39,
        "w": 702,
        "h": 82
    },
    {
        "id": "856a03ca8c40be53",
        "type": "group",
        "z": "f180ab88.925788",
        "name": "",
        "style": {
            "fill": "#ffbfbf",
            "label": true
        },
        "nodes": [
            "e9849ecfa4b1b223",
            "2e192ca65c40fdf2",
            "5c48f5a474f36d1d",
            "bb1efc45e87c3009",
            "e0085e0c4d73cf18"
        ],
        "x": 14,
        "y": 39,
        "w": 702,
        "h": 82
    },
    {
        "id": "84c87d1646acb18e",
        "type": "group",
        "z": "47b63ba557f23f16",
        "name": "",
        "style": {
            "fill": "#ffbfbf",
            "label": true
        },
        "nodes": [
            "445ec05f35d546b0",
            "38ca183be394ec2b",
            "1a2e5276e0c64409",
            "c53147b5dc77759b",
            "7c3cf61ae05f31c4"
        ],
        "x": 14,
        "y": 39,
        "w": 702,
        "h": 82
    },
    {
        "id": "af928c62e3f15dd4",
        "type": "group",
        "z": "b879bcee774e2ee3",
        "name": "",
        "style": {
            "fill": "#ffbfbf",
            "label": true
        },
        "nodes": [
            "3925fa53437952d3",
            "1e0ea09d17d4804f",
            "ccaa2e4d1e8fac02",
            "58a44fb2b0c132fd",
            "fbba069b7f0f769f"
        ],
        "x": 14,
        "y": 39,
        "w": 702,
        "h": 82
    },
    {
        "id": "e7c4dc7d195c1704",
        "type": "group",
        "z": "7aa254e451cc25d5",
        "name": "",
        "style": {
            "fill": "#ffbfbf",
            "label": true
        },
        "nodes": [
            "4466e3edd526ad11",
            "e37e9d45f355051e",
            "7c96c2b4a740b8d9",
            "1d1d028ff0eff669",
            "16ae843dcb5beebf"
        ],
        "x": 14,
        "y": 39,
        "w": 702,
        "h": 82
    },
    {
        "id": "73ed7f7e6147fcd5",
        "type": "group",
        "z": "fc5bb64f7b55c7a9",
        "name": "",
        "style": {
            "fill": "#ffbfbf",
            "label": true
        },
        "nodes": [
            "915c4a2d8e1cadbf",
            "7f12555c8dc50f9a",
            "8dc5b9441d7691f4",
            "4f95dba6baa77b0c",
            "0aaeef20607107fc"
        ],
        "x": 14,
        "y": 39,
        "w": 702,
        "h": 82
    },
    {
        "id": "345fab730ad4be03",
        "type": "group",
        "z": "3381c3542ff0a657",
        "name": "",
        "style": {
            "fill": "#ffbfbf",
            "label": true
        },
        "nodes": [
            "088833473f12c981",
            "e8beeb55e4489280",
            "8842079ec33b9292",
            "fa6bc3f7ba0f1635",
            "cec70e8579ddfefb"
        ],
        "x": 14,
        "y": 39,
        "w": 702,
        "h": 82
    },
    {
        "id": "ef6d9d74e19c7dcb",
        "type": "group",
        "z": "61fe51405ced1ae2",
        "name": "",
        "style": {
            "fill": "#ffbfbf",
            "label": true
        },
        "nodes": [
            "485192b0a089110d",
            "8f6d071835380719",
            "7c4b35996788d27a",
            "12d014102c4ceef4",
            "7a95888ca93b3e25"
        ],
        "x": 14,
        "y": 39,
        "w": 702,
        "h": 82
    },
    {
        "id": "c00c37e66abb36fe",
        "type": "group",
        "z": "8b9f28f75c6a8cea",
        "name": "",
        "style": {
            "fill": "#ffbfbf",
            "label": true
        },
        "nodes": [
            "4219cd52faf5a08a",
            "5e08431142959249",
            "5b762936738edfdd",
            "b75ac1280559f7d1",
            "8bfe117ab18df378"
        ],
        "x": 14,
        "y": 39,
        "w": 702,
        "h": 82
    },
    {
        "id": "b6dfc0bf72492b1f",
        "type": "group",
        "z": "2c0a0237d23a4cfc",
        "name": "",
        "style": {
            "fill": "#ffbfbf",
            "label": true
        },
        "nodes": [
            "f2b477ef172328b0",
            "9d4af43bbe2efe93",
            "b22594e14cb77d78",
            "d5a7fd2f2ed5fbb5",
            "ea5ccdb741a79235"
        ],
        "x": 14,
        "y": 39,
        "w": 702,
        "h": 82
    },
    {
        "id": "d16ed82ee33cc071",
        "type": "group",
        "z": "747e156c11e4e604",
        "name": "",
        "style": {
            "fill": "#ffbfbf",
            "label": true
        },
        "nodes": [
            "d383aa6cb59b67da",
            "b831c9ec12bf2052",
            "f139889b01bdf5a2",
            "abd4db3e82b04690",
            "c2189ac7fcae8364"
        ],
        "x": 14,
        "y": 39,
        "w": 702,
        "h": 82
    },
    {
        "id": "fdd26443cde39b78",
        "type": "group",
        "z": "24d64ac8238cc218",
        "name": "",
        "style": {
            "fill": "#ffbfbf",
            "label": true
        },
        "nodes": [
            "e0f701897e269878",
            "200b415486f93771",
            "4cf32f7adb47eff0",
            "68fb8d532cb4aee3",
            "c44eacff028f5aba"
        ],
        "x": 14,
        "y": 39,
        "w": 702,
        "h": 82
    },
    {
        "id": "914448f840b9d7b8",
        "type": "group",
        "z": "7f39e487c7ab241c",
        "name": "",
        "style": {
            "fill": "#ffbfbf",
            "label": true
        },
        "nodes": [
            "827acf22221b355e",
            "2b3ce0da818e77aa",
            "2cc9a5595a901b10",
            "a13a7124838954d9",
            "3cabf5fcbc48a7ce"
        ],
        "x": 14,
        "y": 39,
        "w": 702,
        "h": 82
    },
    {
        "id": "7e4fbd75802ee453",
        "type": "group",
        "z": "3db3c53990065a2a",
        "name": "",
        "style": {
            "fill": "#ffbfbf",
            "label": true
        },
        "nodes": [
            "e2d08291d7c90abc",
            "206a37ce3dac1b95",
            "4282a6b65307c7ac",
            "eb5692702d6f996b",
            "369dbbaa8b05528d"
        ],
        "x": 4,
        "y": 39,
        "w": 702,
        "h": 82
    },
    {
        "id": "ed134efd86ec204c",
        "type": "group",
        "z": "f69bb4ce2fe1eeaf",
        "name": "",
        "style": {
            "fill": "#ffbfbf",
            "label": true
        },
        "nodes": [
            "7a7ba577e8bec4ba",
            "e835d811a137582a",
            "51785525fba44afb",
            "6c91fe3b6a82452d",
            "ae1794d63f7dcfb5"
        ],
        "x": 14,
        "y": 39,
        "w": 702,
        "h": 82
    },
    {
        "id": "b3ced2cc94270d7f",
        "type": "group",
        "z": "96fc7ebe3f190a37",
        "name": "",
        "style": {
            "fill": "#ffbfbf",
            "label": true
        },
        "nodes": [
            "fbca2a38b24cf3c2",
            "8054def37f6d0580",
            "0973f7291fb9895a",
            "33ef1341527dc761",
            "4a61d392e95df63f"
        ],
        "x": 14,
        "y": 39,
        "w": 702,
        "h": 82
    },
    {
        "id": "694769de591fade7",
        "type": "group",
        "z": "63d17f8cdd49c797",
        "name": "",
        "style": {
            "fill": "#ffbfbf",
            "label": true
        },
        "nodes": [
            "64d65bfae1806746",
            "b96d486fc4d77383",
            "d485b3827efdeceb",
            "76d1def5af33cc97",
            "e5c9012fa7520167"
        ],
        "x": 14,
        "y": 39,
        "w": 702,
        "h": 82
    },
    {
        "id": "7cc7f95a4ebc61f4",
        "type": "group",
        "z": "fd9cd80f14f860fe",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "6ab8fdb97d90da1e",
            "64a60709294e150e",
            "48234362842d5448",
            "ff8e90b66ff667c9"
        ],
        "x": 634,
        "y": 959,
        "w": 532,
        "h": 122
    },
    {
        "id": "2924aab99c2ed4a8",
        "type": "group",
        "z": "46d393bea5a350c5",
        "name": "",
        "style": {
            "fill": "#ffbfbf",
            "label": true
        },
        "nodes": [
            "d41788e28d505807",
            "e7fe9a45cfee5616",
            "f05e12b3b22ef591",
            "443ec80ec6930320",
            "3eb99480b2b38a18"
        ],
        "x": 14,
        "y": 39,
        "w": 702,
        "h": 82
    },
    {
        "id": "05013c7bba87d57d",
        "type": "group",
        "z": "e833a3b26c88a678",
        "name": "",
        "style": {
            "fill": "#ffbfbf",
            "label": true
        },
        "nodes": [
            "7bddc01eb2b2dc71",
            "ed6dfe3308c87257",
            "1d6ce03328f9690f",
            "4debad7bb0f92461",
            "5f9f4a0a7acb6c75"
        ],
        "x": 14,
        "y": 39,
        "w": 702,
        "h": 82
    },
    {
        "id": "3de36a4b9cef2100",
        "type": "group",
        "z": "cdd584db6ae40aa4",
        "name": "",
        "style": {
            "fill": "#ffbfbf",
            "label": true
        },
        "nodes": [
            "493859cbdce91a0f",
            "ef084a732929883c",
            "8d97537e168f6959",
            "d79871d0e99a286d",
            "df41e46ae6382312"
        ],
        "x": 14,
        "y": 39,
        "w": 702,
        "h": 82
    },
    {
        "id": "3a46b10e3f054875",
        "type": "group",
        "z": "8354fbe183c2498c",
        "name": "",
        "style": {
            "fill": "#ffbfbf",
            "label": true
        },
        "nodes": [
            "889e8c1a42d836db",
            "bfe558f3fdc05ea9",
            "15a37feb9ef6c8b1",
            "5cd15ddccc5e9dbe",
            "f12be5541f6f04f3"
        ],
        "x": 14,
        "y": 39,
        "w": 702,
        "h": 82
    },
    {
        "id": "78af34cebfba7860",
        "type": "group",
        "z": "7d395cb2e18af794",
        "name": "",
        "style": {
            "fill": "#ffbfbf",
            "label": true
        },
        "nodes": [
            "6b599d241f05669f",
            "6932eaba0f9d0774",
            "a9d21ff83ec7dd05",
            "7502b01580bc634c",
            "785b224bdb4be1a2"
        ],
        "x": 14,
        "y": 39,
        "w": 702,
        "h": 82
    },
    {
        "id": "f40cb6ad9ae25c00",
        "type": "group",
        "z": "a35bbaebece87ae0",
        "name": "",
        "style": {
            "fill": "#ffbfbf",
            "label": true
        },
        "nodes": [
            "53e23f4e704721c4",
            "47593d02c4418ea6",
            "ae18a50ca56dd8c9",
            "fc8a8ef6ccc4eb91",
            "08c7cfd509a7b06e"
        ],
        "x": 14,
        "y": 39,
        "w": 702,
        "h": 82
    },
    {
        "id": "5ea1109d92a3532a",
        "type": "group",
        "z": "e44f5d834fa24670",
        "name": "",
        "style": {
            "fill": "#ffbfbf",
            "label": true
        },
        "nodes": [
            "5d74377194336786",
            "74f02e0422cfcfd4",
            "fc1469a9f0ef1aee",
            "5871553313960848",
            "8718042f6e666b71"
        ],
        "x": 14,
        "y": 39,
        "w": 702,
        "h": 82
    },
    {
        "id": "fa7a3c1eb5189817",
        "type": "group",
        "z": "7a63032b7cac43cf",
        "name": "",
        "style": {
            "fill": "#ffbfbf",
            "label": true
        },
        "nodes": [
            "33cbbdb2b95eddfa",
            "c5d79851d7e650a9",
            "6492496b6c244a0a",
            "ccc101824609d6c2",
            "efbb887319190cfa"
        ],
        "x": 14,
        "y": 39,
        "w": 702,
        "h": 82
    },
    {
        "id": "96a30a514c2022b6",
        "type": "group",
        "z": "960ed9c324a9682d",
        "name": "",
        "style": {
            "fill": "#ffbfbf",
            "label": true
        },
        "nodes": [
            "91f378b835c7acc2",
            "e3319fdb7c350111",
            "817c712943a09895",
            "125aa9d047c9a9e3",
            "347815bfb9dbf880"
        ],
        "x": 14,
        "y": 39,
        "w": 702,
        "h": 82
    },
    {
        "id": "92c3caaed7efbdcb",
        "type": "group",
        "z": "12beaeea5e53e349",
        "name": "",
        "style": {
            "fill": "#ffbfbf",
            "label": true
        },
        "nodes": [
            "3465dfd111e3db73",
            "0723b391675d23af",
            "cebdada8cc9dfca0",
            "60d68140038b2ecd",
            "54820cdfee33ced1"
        ],
        "x": 14,
        "y": 39,
        "w": 702,
        "h": 82
    },
    {
        "id": "fe14b17143d5f305",
        "type": "group",
        "z": "d9b05fe971d5c1b1",
        "name": "",
        "style": {
            "fill": "#ffbfbf",
            "label": true
        },
        "nodes": [
            "85f675ee7a30451c",
            "3551969ed0c1e37a",
            "337ef9e6426bf90b",
            "6149bb5f8eb1e0d7",
            "418ebf3d342bb9b0"
        ],
        "x": 14,
        "y": 39,
        "w": 702,
        "h": 82
    },
    {
        "id": "4ce87500d3890f8a",
        "type": "group",
        "z": "e846a5a705a12fe6",
        "name": "",
        "style": {
            "fill": "#ffbfbf",
            "label": true
        },
        "nodes": [
            "c0724e7244d5fbd2",
            "881ffeb75a261839",
            "051599aa11f46bbb",
            "20d5b4937d6b4583",
            "60df7e7759296e48"
        ],
        "x": 14,
        "y": 39,
        "w": 702,
        "h": 82
    },
    {
        "id": "45db1c86fb9c6351",
        "type": "group",
        "z": "741e20498a115a13",
        "name": "",
        "style": {
            "fill": "#ffbfbf",
            "label": true
        },
        "nodes": [
            "648ec3945c934e88",
            "938c934f5c0df05a",
            "7be6ddefd2c50f1d",
            "4aa8325c53455f15",
            "d6115662eab6e655"
        ],
        "x": 14,
        "y": 39,
        "w": 702,
        "h": 82
    },
    {
        "id": "ccaef991e75b355a",
        "type": "group",
        "z": "15d9dd454d41196a",
        "name": "",
        "style": {
            "fill": "#ffbfbf",
            "label": true
        },
        "nodes": [
            "19e4e3fe0ac8f16a",
            "7710fba67638c910",
            "f8a107142b870a71",
            "3b8b3f582bfbfca4",
            "511a6f82f3f4e141"
        ],
        "x": 14,
        "y": 39,
        "w": 702,
        "h": 82
    },
    {
        "id": "2a78e02fa18bb1d1",
        "type": "group",
        "z": "71f3d7905a503d5c",
        "name": "",
        "style": {
            "fill": "#ffbfbf",
            "label": true
        },
        "nodes": [
            "3ff6ad22a7381722",
            "4851c318d4cac51f",
            "b4e1ba1ac658efda",
            "1f889fccd74a0c5c",
            "d174aad240e54dcd"
        ],
        "x": 14,
        "y": 39,
        "w": 702,
        "h": 82
    },
    {
        "id": "18afb910f106dcb2",
        "type": "group",
        "z": "b82f262707b1b627",
        "name": "",
        "style": {
            "fill": "#ffbfbf",
            "label": true
        },
        "nodes": [
            "d958de33a2111631",
            "221f050710b81e51",
            "1a3ee582d393170a",
            "7148e9063fdd902c",
            "210f8d4ab7687813"
        ],
        "x": 14,
        "y": 39,
        "w": 702,
        "h": 82
    },
    {
        "id": "b79ee88e5b5f1418",
        "type": "group",
        "z": "4b48188ca7b303d7",
        "name": "",
        "style": {
            "fill": "#ffbfbf",
            "label": true
        },
        "nodes": [
            "75c507ce2ee1d241",
            "67d55472242eeb4e",
            "53e3d4a22ecb2506",
            "2d1e21dd9951b3a4",
            "abe412ddd3ad085d"
        ],
        "x": 14,
        "y": 39,
        "w": 702,
        "h": 82
    },
    {
        "id": "c5bc30ae131c7d21",
        "type": "group",
        "z": "a01f4b2ba7273751",
        "name": "",
        "style": {
            "fill": "#ffbfbf",
            "label": true
        },
        "nodes": [
            "7a590bd22b1c5c26",
            "389ff21a6e956dc8",
            "6f50710eaad2ce90",
            "d9bb3006c5735715",
            "57a9c99855471ad9"
        ],
        "x": 14,
        "y": 39,
        "w": 702,
        "h": 82
    },
    {
        "id": "8ba9bcbdc999fc66",
        "type": "group",
        "z": "1adcdebcdc8e5c39",
        "name": "",
        "style": {
            "fill": "#ffbfbf",
            "label": true
        },
        "nodes": [
            "13ec4212aa6c7097",
            "2d9839edb5b18080",
            "37d1e62a237418c8",
            "0df371a631a420f1",
            "9f7cae83c633220f"
        ],
        "x": 14,
        "y": 39,
        "w": 702,
        "h": 82
    },
    {
        "id": "d0679e18bb94f3cd",
        "type": "group",
        "z": "d7c35c04cc0c5b68",
        "name": "",
        "style": {
            "fill": "#ffbfbf",
            "label": true
        },
        "nodes": [
            "b3a46f3a9531e7f6",
            "36dfbbee00890f8a",
            "2ef8f7faa613d338",
            "de2e3f71619ee3b7",
            "2aa17f75447c7b5c"
        ],
        "x": 14,
        "y": 39,
        "w": 702,
        "h": 82
    },
    {
        "id": "55ca281093ad92a9",
        "type": "group",
        "z": "4d2cddfcdca52366",
        "name": "",
        "style": {
            "fill": "#ffbfbf",
            "label": true
        },
        "nodes": [
            "a8a2b32ca6f20b5f",
            "9e8c2682695ea28d",
            "9d9837e29130d1e3",
            "baa74badb5578046",
            "47e3ac0bf7f2a7f8"
        ],
        "x": 14,
        "y": 39,
        "w": 702,
        "h": 82
    },
    {
        "id": "5855298037ce8b13",
        "type": "group",
        "z": "5dd8a5e802404efd",
        "name": "",
        "style": {
            "fill": "#ffbfbf",
            "label": true
        },
        "nodes": [
            "8531aca21683e5c6",
            "0ec5b580b0301cb9",
            "896d42da6f78a4df",
            "2a8516d99887074c",
            "21d98f7558e1ecf0"
        ],
        "x": 14,
        "y": 39,
        "w": 702,
        "h": 82
    },
    {
        "id": "e05fc2f16e523b41",
        "type": "group",
        "z": "e0e34b3e49b36c0e",
        "name": "",
        "style": {
            "fill": "#ffbfbf",
            "label": true
        },
        "nodes": [
            "8edbcdc648b5d26e",
            "47e52ab72e9c041c",
            "41b174876237d623",
            "ee907863ab8c5ce0",
            "7f2715dc3075a76b"
        ],
        "x": 14,
        "y": 39,
        "w": 702,
        "h": 82
    },
    {
        "id": "5a7ee1933ba02ee6",
        "type": "group",
        "z": "fd9cd80f14f860fe",
        "name": "",
        "style": {
            "fill": "#ffbfbf",
            "label": true
        },
        "nodes": [
            "cc732df343a1b853",
            "baaef0705aa65cd9",
            "89630cbc58f61380",
            "771e77e50c8e6c37",
            "67d0438a1e015185"
        ],
        "x": 14,
        "y": 39,
        "w": 702,
        "h": 82
    },
    {
        "id": "f75da396da61e265",
        "type": "group",
        "z": "5b957aaa34cab814",
        "name": "",
        "style": {
            "fill": "#ffbfbf",
            "label": true
        },
        "nodes": [
            "baefe1afbb082442",
            "09922b4a1abc6861",
            "2978274f7f9728d8",
            "4375bd61cef9b591",
            "778f51a4da22adf6"
        ],
        "x": 14,
        "y": 39,
        "w": 702,
        "h": 82
    },
    {
        "id": "4dc458809c7f0b0e",
        "type": "group",
        "z": "2b23c32f6263f8c7",
        "name": "",
        "style": {
            "fill": "#ffbfbf",
            "label": true
        },
        "nodes": [
            "ed43e3427066937c",
            "78507d1220da1132",
            "bf8e5653c2636930",
            "b412897abc463b37",
            "5a30badee0ae6770"
        ],
        "x": 14,
        "y": 39,
        "w": 702,
        "h": 82
    },
    {
        "id": "d8e4618a284435bc",
        "type": "group",
        "z": "01dec174361a0c54",
        "name": "",
        "style": {
            "fill": "#ffbfbf",
            "label": true
        },
        "nodes": [
            "4e80fd042d5c2730",
            "c98431489ff47e90",
            "8df1b970e4dafbf8",
            "4da8b555635de201",
            "76d24d4d17d75f86"
        ],
        "x": 14,
        "y": 39,
        "w": 702,
        "h": 82
    },
    {
        "id": "44cefb5f26188041",
        "type": "group",
        "z": "078d23a542369ebe",
        "name": "",
        "style": {
            "fill": "#ffbfbf",
            "label": true
        },
        "nodes": [
            "d317e6cc7959e416",
            "88c1a811021d7eea",
            "561b7fd51536b6e7",
            "dde28f1596230670",
            "d5bc790570bccf86"
        ],
        "x": 14,
        "y": 39,
        "w": 702,
        "h": 82
    },
    {
        "id": "6245ab7a28a04b83",
        "type": "group",
        "z": "39f5e6336137f4b2",
        "name": "",
        "style": {
            "fill": "#ffbfbf",
            "label": true
        },
        "nodes": [
            "cc8c7cf17f533749",
            "4cb0e008330fe098",
            "cb2996d878c5e0c7",
            "46f9be0e7684a83d",
            "08c782125ac91445"
        ],
        "x": 14,
        "y": 39,
        "w": 702,
        "h": 82
    },
    {
        "id": "e371174ff03ebd07",
        "type": "group",
        "z": "a073f9861eebac1b",
        "name": "",
        "style": {
            "fill": "#ffbfbf",
            "label": true
        },
        "nodes": [
            "e47da0c339747945",
            "807853c3ad8de6d5",
            "df998c0aabd0f79a",
            "9e7376e7d1ee5322",
            "e08e97165685b032"
        ],
        "x": 14,
        "y": 39,
        "w": 702,
        "h": 82
    },
    {
        "id": "203153789ca11182",
        "type": "group",
        "z": "3637eeb0.d96232",
        "name": "",
        "style": {
            "fill": "#ffbfbf",
            "label": true
        },
        "nodes": [
            "ee5cb67ca8cb7ff2",
            "f35249f69b6f1f4f",
            "f0fea4cb11f37357",
            "ebd6ce588c2f72ea",
            "4dc5988e63dde477"
        ],
        "x": 14,
        "y": 39,
        "w": 702,
        "h": 82
    },
    {
        "id": "5fb2d93489fc335c",
        "type": "group",
        "z": "a073f9861eebac1b",
        "name": "notify two actions",
        "style": {
            "label": true
        },
        "nodes": [
            "28ddcb9fe3dea17c",
            "65ead3b4b322f45e",
            "fa10be5c6afdbd10",
            "70621108112580c3",
            "7d1696747fc1b9b8",
            "c48e92d23dd5455a",
            "e09d093683c71b6d"
        ],
        "x": 1734,
        "y": 179,
        "w": 392,
        "h": 242
    },
    {
        "id": "fe64cb4fec53d328",
        "type": "group",
        "z": "a073f9861eebac1b",
        "name": "notify two actions",
        "style": {
            "label": true
        },
        "nodes": [
            "5b0ed20f9ac639e1",
            "bc2225a0df38d467",
            "8a53691e5c608172",
            "bf77f797164619b0",
            "486061fb4214f811",
            "18d17ebdbbe62765",
            "4348cc8838e3749a"
        ],
        "x": 1734,
        "y": 439,
        "w": 392,
        "h": 242
    },
    {
        "id": "edf4b2b59a0f294c",
        "type": "group",
        "z": "a073f9861eebac1b",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "23dafcfaf20bc605",
            "8dd47ccef92d46f6",
            "5d4508f2fd99222d",
            "a9941198e8915b61"
        ],
        "x": 14,
        "y": 179,
        "w": 492,
        "h": 142
    },
    {
        "id": "bd90d247a95feb9d",
        "type": "group",
        "z": "e4381ced98d2a929",
        "g": "12e8b8acaeaeb3fa",
        "name": "notify",
        "style": {
            "label": true
        },
        "nodes": [
            "ad62962b589ed07d",
            "cae0f9255059d5ce",
            "f5a1c4dd087e0795",
            "c1f0224f374a67a6",
            "ce2746e7cd66f603",
            "13dd6df8c5e31625"
        ],
        "x": 1334,
        "y": 459,
        "w": 432,
        "h": 162
    },
    {
        "id": "7fe4b7424297ac0b",
        "type": "group",
        "z": "e4381ced98d2a929",
        "g": "12e8b8acaeaeb3fa",
        "name": "notify",
        "style": {
            "label": true
        },
        "nodes": [
            "37cd1950eaba0494",
            "8516fb393b7286e1",
            "17afd1b13fd231be",
            "d4a37aed996e885f",
            "0e425dc836ddc52f"
        ],
        "x": 1334,
        "y": 699,
        "w": 392,
        "h": 122
    },
    {
        "id": "f7038caa7a76e6f3",
        "type": "junction",
        "z": "a7a34028d045deee",
        "g": "022e7feb1e4ea3ae",
        "x": 1280,
        "y": 220,
        "wires": [
            [
                "d5d46cfd65fffc12",
                "3564790484706ae2",
                "88a668a5509178e0",
                "b2e6817cd694ba28"
            ]
        ]
    },
    {
        "id": "c6f3f4b2b46ffb4e",
        "type": "junction",
        "z": "b4963274903ed2a9",
        "g": "70b9d3433e540010",
        "x": 1880,
        "y": 180,
        "wires": [
            [
                "ddcda02e8d44e679",
                "40cce72d78ddf2ba",
                "976de9be5916cb4b",
                "01112a435413374c",
                "728c75b797b416a5"
            ]
        ]
    },
    {
        "id": "36246e33e6162b5a",
        "type": "junction",
        "z": "e98ae3c9db1bd6c3",
        "g": "bd6a21379a46d377",
        "x": 700,
        "y": 220,
        "wires": [
            [
                "65114fbadc1625ff",
                "994e86eeb88c5f08",
                "c6805d02b9eb3b45",
                "e3fe28933ad4f9bd"
            ]
        ]
    },
    {
        "id": "07d3b997feaf3f7b",
        "type": "junction",
        "z": "55da1471.fda0fc",
        "g": "faf17088fd1a6b16",
        "x": 1860,
        "y": 840,
        "wires": [
            [
                "035b931bd0cea26e",
                "c8bc013c45f3ae72",
                "8205d58f610c05d0"
            ]
        ]
    },
    {
        "id": "60b0a5eab5b0a9d6",
        "type": "junction",
        "z": "55da1471.fda0fc",
        "g": "deb17c414e79ec63",
        "x": 1860,
        "y": 440,
        "wires": [
            [
                "dec04d7f3b819fb2",
                "f60ecb3be0ebc2af",
                "0fa8b59e2735c07d"
            ]
        ]
    },
    {
        "id": "237a19020921825d",
        "type": "junction",
        "z": "55da1471.fda0fc",
        "g": "33fea7faee8e1f82",
        "x": 1860,
        "y": 640,
        "wires": [
            [
                "d5ae8df68946471a",
                "8f3e39fd9d879f86",
                "09d4cdb039e852de",
                "0e83125ead481334"
            ]
        ]
    },
    {
        "id": "97afb37521efba77",
        "type": "junction",
        "z": "b1a9214c.4c71c",
        "g": "6b44c062cbc05f0a",
        "x": 1760,
        "y": 280,
        "wires": [
            [
                "232a01493b9307b0",
                "db7934b4b14446da",
                "a22e2a028512634f"
            ]
        ]
    },
    {
        "id": "ca3c70923fa7cd35",
        "type": "junction",
        "z": "65351372f52f2e2d",
        "g": "dbf117e9be1363d0",
        "x": 1640,
        "y": 480,
        "wires": [
            [
                "f62f4165d866a393",
                "4fcc37584fdaacfc",
                "96104ca744a9942d",
                "187e38cbc867548d"
            ]
        ]
    },
    {
        "id": "685ac1f9d97aa2a9",
        "type": "junction",
        "z": "65351372f52f2e2d",
        "g": "f259c1d245c5a0a4",
        "x": 1640,
        "y": 260,
        "wires": [
            [
                "8d49d5b0a77fe3fa",
                "41bff044d8ff0723",
                "f6739c6be49dd463",
                "887d3f0b3fca1ef1"
            ]
        ]
    },
    {
        "id": "7bb3b10a5f621765",
        "type": "junction",
        "z": "65351372f52f2e2d",
        "g": "a36a86d8bb45f3d4",
        "x": 1640,
        "y": 680,
        "wires": [
            [
                "6a5f068bc90a5bea",
                "96c864b13b1ed44d",
                "504241c3de9c1592",
                "dfc54bd82a16e190"
            ]
        ]
    },
    {
        "id": "b1b1be8e46f91cca",
        "type": "junction",
        "z": "72f3a564e626ff9a",
        "g": "3b89d483d3628b14",
        "x": 1180,
        "y": 320,
        "wires": [
            [
                "dcc306682fd0ffa8",
                "3a3b8fdb9d6f4ab0",
                "dd3030c9ae0f7a07",
                "46d50645e39da463",
                "ebcb50cdabc72f91"
            ]
        ]
    },
    {
        "id": "4fc08434e069652b",
        "type": "junction",
        "z": "98a989e.d6bca78",
        "g": "7b3e33afc7e5d51f",
        "x": 880,
        "y": 260,
        "wires": [
            [
                "bdce8718917c4dcb",
                "253b2fc1dbf20ad4",
                "496caddb.5ba724",
                "fdc4c2eef34c0a15"
            ]
        ]
    },
    {
        "id": "9b93ac7b58399751",
        "type": "junction",
        "z": "42b354a7f0284779",
        "g": "392300741f68f312",
        "x": 1320,
        "y": 320,
        "wires": [
            [
                "c6941b34f3402196",
                "59327076bed18754",
                "cdbb5b48e71b5866"
            ]
        ]
    },
    {
        "id": "eaec84df6f30a9ec",
        "type": "junction",
        "z": "d5421f8d.f7208",
        "g": "f236f0a913f70054",
        "x": 1960,
        "y": 160,
        "wires": [
            [
                "4b276bf7ef0c3217",
                "0db5f8033b5c9adf",
                "1414f6788bc8c787"
            ]
        ]
    },
    {
        "id": "5cb88a741e06d0c9",
        "type": "junction",
        "z": "75537afd17de5117",
        "g": "ef69ec82c772cad9",
        "x": 1720,
        "y": 500,
        "wires": [
            [
                "4b6f2391d1d4dfb7",
                "644d8e4f0164cfb2",
                "56e8236b1fb323bc"
            ]
        ]
    },
    {
        "id": "a087dd5873c41eaf",
        "type": "junction",
        "z": "b1b994b3d43d6aad",
        "g": "9d6561fb99238a4d",
        "x": 1180,
        "y": 300,
        "wires": [
            [
                "194df75621104155",
                "5273660ff2a42a63",
                "48b102061eef4776",
                "ad8e3a3f408efd86"
            ]
        ]
    },
    {
        "id": "f55e9b8b5462e4d2",
        "type": "junction",
        "z": "a8d8484165225699",
        "g": "537179d37e7389e5",
        "x": 1220,
        "y": 320,
        "wires": [
            [
                "e142bb411f990e05",
                "2e707984219ae3a9",
                "daef6aa88b93b329",
                "e16a49a555dc3139"
            ]
        ]
    },
    {
        "id": "ece5442438bb7aa1",
        "type": "junction",
        "z": "8d2de69b4c0fd2b9",
        "g": "bb1cc6878bf6f696",
        "x": 1320,
        "y": 220,
        "wires": [
            [
                "c0d0c36d39f527e2",
                "db50c5b6f4f302b4",
                "b560dfc6f3c2aec1"
            ]
        ]
    },
    {
        "id": "159c508f956eb430",
        "type": "junction",
        "z": "7186425fdfc90c19",
        "g": "3bd669c9a971e4a2",
        "x": 1020,
        "y": 220,
        "wires": [
            [
                "90b19d7c300c5383",
                "8ee8100ab8bdc7e6",
                "76b2b2fcd5922030",
                "44cfcac399640661"
            ]
        ]
    },
    {
        "id": "71156279d6ca8920",
        "type": "junction",
        "z": "c0da8379.b0dd3",
        "g": "47af9932f18884cc",
        "x": 1980,
        "y": 400,
        "wires": [
            [
                "7063678cde99b775",
                "4d43c0c59596c396"
            ]
        ]
    },
    {
        "id": "37841e86c6ea5231",
        "type": "junction",
        "z": "8aa6edec.5a013",
        "g": "983d668963ae42e9",
        "x": 1780,
        "y": 640,
        "wires": [
            [
                "fbc0aa717b3e43c7",
                "d2800bc161fa3196"
            ]
        ]
    },
    {
        "id": "662879feb30cc5fa",
        "type": "junction",
        "z": "8aa6edec.5a013",
        "g": "9c946ef945c199e5",
        "x": 1780,
        "y": 240,
        "wires": [
            [
                "254201c717321a67",
                "60a9200995b666e2"
            ]
        ]
    },
    {
        "id": "83e460c17170065f",
        "type": "junction",
        "z": "8aa6edec.5a013",
        "g": "14187342a7b09482",
        "x": 1780,
        "y": 440,
        "wires": [
            [
                "8aa74b4cb48558f8",
                "19cfd22b49a2e356",
                "1b8772493fd3aa94",
                "c8db6380b138fd4e"
            ]
        ]
    },
    {
        "id": "0fd94c312d822e91",
        "type": "junction",
        "z": "eb1939ba1b7e9b73",
        "g": "725af18957967e99",
        "x": 1200,
        "y": 320,
        "wires": [
            [
                "343f37d7fe9484fd",
                "72ef2fc0d180fcea"
            ]
        ]
    },
    {
        "id": "ce2746e7cd66f603",
        "type": "junction",
        "z": "e4381ced98d2a929",
        "g": "bd90d247a95feb9d",
        "x": 1360,
        "y": 540,
        "wires": [
            [
                "cae0f9255059d5ce",
                "ad62962b589ed07d",
                "13dd6df8c5e31625"
            ]
        ]
    },
    {
        "id": "2db276d509393d03",
        "type": "junction",
        "z": "e4381ced98d2a929",
        "g": "12e8b8acaeaeb3fa",
        "x": 1120,
        "y": 380,
        "wires": [
            [
                "9c4864f0ca0d2d96"
            ]
        ]
    },
    {
        "id": "0e425dc836ddc52f",
        "type": "junction",
        "z": "e4381ced98d2a929",
        "g": "7fe4b7424297ac0b",
        "x": 1360,
        "y": 760,
        "wires": [
            [
                "8516fb393b7286e1",
                "37cd1950eaba0494"
            ]
        ]
    },
    {
        "id": "e0259adb4a945229",
        "type": "junction",
        "z": "e4381ced98d2a929",
        "g": "12e8b8acaeaeb3fa",
        "x": 760,
        "y": 380,
        "wires": [
            [
                "2db276d509393d03"
            ]
        ]
    },
    {
        "id": "be68c8baf380f74e",
        "type": "junction",
        "z": "645478ab1138fd33",
        "g": "f2952a0e7861984f",
        "x": 820,
        "y": 200,
        "wires": [
            [
                "6011ff5a330d5f46",
                "2e62b582b5ace0b2",
                "dfebcb371c6d37c4",
                "ed20a5d29a5eb136",
                "29504140078fb34c"
            ]
        ]
    },
    {
        "id": "3ad564319a62aa0f",
        "type": "junction",
        "z": "b13ca13c.9328e",
        "g": "37c7c59a61d38b32",
        "x": 1760,
        "y": 320,
        "wires": [
            [
                "8bd6ce7359e6fe2f",
                "16bf3029dc11f50b",
                "3f7e2f446cdb3e90",
                "66e66f9f5828f878",
                "5922c1dac60ed4ec"
            ]
        ]
    },
    {
        "id": "3a0c4f886a8c4e54",
        "type": "junction",
        "z": "b13ca13c.9328e",
        "g": "1b05fecd5ed3289b",
        "x": 1760,
        "y": 560,
        "wires": [
            [
                "ab8c69e6298f0ad4",
                "dab28de38f3a6629",
                "52d10ab03d478bae",
                "322d16b061f4e108"
            ]
        ]
    },
    {
        "id": "509313ec35867636",
        "type": "junction",
        "z": "2fdf3d9bec5f1748",
        "g": "0490826048e616a0",
        "x": 1200,
        "y": 200,
        "wires": [
            [
                "28d7678ffbc9ea54",
                "6e679db82914212d",
                "2137fd353b4905ee",
                "dedcddec2131fd4e",
                "e986602efbf956a6"
            ]
        ]
    },
    {
        "id": "ef17b4eb0dc0871b",
        "type": "junction",
        "z": "cde79c08.e4f488",
        "g": "60a8ffbec987c377",
        "x": 840,
        "y": 300,
        "wires": [
            [
                "8bda876328e49e67",
                "af6a4d51c1e99b4e",
                "c7b88c5f533c105b",
                "8ca7529cee95086c"
            ]
        ]
    },
    {
        "id": "ec34cd6ea57b0b7f",
        "type": "junction",
        "z": "2437e768.8e34d8",
        "g": "3bf0bc8959f8a48e",
        "x": 1260,
        "y": 200,
        "wires": [
            [
                "64614e79bcb09872",
                "2a35d2abfb0850da",
                "71f13b6b1744cf6b",
                "80b3c96f004d6f8b"
            ]
        ]
    },
    {
        "id": "9655b1065753069f",
        "type": "junction",
        "z": "99c1372046e45da7",
        "g": "b268fa78a872617d",
        "x": 1380,
        "y": 320,
        "wires": [
            [
                "5a8f575633614c07",
                "781d3a645a5e3130",
                "148de36202032274",
                "451f25b73596ddf8"
            ]
        ]
    },
    {
        "id": "df3bd9cee59e687a",
        "type": "junction",
        "z": "72ef82b8.9d086c",
        "g": "677a462e190a4c92",
        "x": 1270,
        "y": 200,
        "wires": [
            [
                "70a25e05987238de",
                "f359939883ebec80",
                "7913c8cedd9b8d45",
                "95286ff3.9f33d"
            ]
        ]
    },
    {
        "id": "2191e2bfc331009c",
        "type": "junction",
        "z": "c23003c7.1c978",
        "g": "283f88d61789c306",
        "x": 1880,
        "y": 160,
        "wires": [
            [
                "d93bd58ac5ac0363",
                "96e077260be2f7fb",
                "61f9d42e4c070321",
                "96679db36a4a3636"
            ]
        ]
    },
    {
        "id": "fd9636d9d6afe3b7",
        "type": "junction",
        "z": "d7c35c04cc0c5b68",
        "x": 380,
        "y": 280,
        "wires": [
            [
                "916f461a6f7da6d3"
            ]
        ]
    },
    {
        "id": "1bcfdae4fb034efd",
        "type": "junction",
        "z": "3d30857f5165e137",
        "x": 1140,
        "y": 260,
        "wires": [
            [
                "59e4a09ae6f431cd"
            ]
        ]
    },
    {
        "id": "e40aff179bd30a9b",
        "type": "junction",
        "z": "3d30857f5165e137",
        "x": 1140,
        "y": 180,
        "wires": [
            [
                "59e4a09ae6f431cd"
            ]
        ]
    },
    {
        "id": "252893d959f094a0",
        "type": "junction",
        "z": "55da1471.fda0fc",
        "x": 660,
        "y": 400,
        "wires": [
            [
                "1351cb3a.cc7995"
            ]
        ]
    },
    {
        "id": "4539dbe872caf169",
        "type": "junction",
        "z": "39f5e6336137f4b2",
        "x": 860,
        "y": 200,
        "wires": [
            [
                "382a831c1568641b"
            ]
        ]
    },
    {
        "id": "f8003d1746659317",
        "type": "junction",
        "z": "39f5e6336137f4b2",
        "x": 520,
        "y": 260,
        "wires": [
            [
                "19b08832ac41fe31"
            ]
        ]
    },
    {
        "id": "1d17d4994d0cc1e1",
        "type": "junction",
        "z": "2c496b90815e2d15",
        "x": 260,
        "y": 200,
        "wires": [
            [
                "62bc4f4208a1c07d"
            ]
        ]
    },
    {
        "id": "a5e476b7342dd2fc",
        "type": "junction",
        "z": "9a7094e42d673dc4",
        "x": 1120,
        "y": 380,
        "wires": [
            [
                "53a47bf861d4d73c"
            ]
        ]
    },
    {
        "id": "1ff52cc50bb2b980",
        "type": "junction",
        "z": "65351372f52f2e2d",
        "x": 600,
        "y": 240,
        "wires": [
            [
                "926a03f5dc689826"
            ]
        ]
    },
    {
        "id": "1389cd751a19cef8",
        "type": "junction",
        "z": "65351372f52f2e2d",
        "x": 280,
        "y": 200,
        "wires": [
            [
                "2be495a83d512501"
            ]
        ]
    },
    {
        "id": "5de4f38ec4c4075f",
        "type": "junction",
        "z": "65351372f52f2e2d",
        "x": 280,
        "y": 240,
        "wires": [
            [
                "1ff52cc50bb2b980"
            ]
        ]
    },
    {
        "id": "223d859dcac9107a",
        "type": "junction",
        "z": "72f3a564e626ff9a",
        "x": 780,
        "y": 440,
        "wires": [
            [
                "6a481279c5298533"
            ]
        ]
    },
    {
        "id": "4b77d397e442cac9",
        "type": "junction",
        "z": "72f3a564e626ff9a",
        "x": 940,
        "y": 260,
        "wires": [
            [
                "b1b1be8e46f91cca"
            ]
        ]
    },
    {
        "id": "50241184111a2c70",
        "type": "junction",
        "z": "535c98d1d92579b6",
        "x": 200,
        "y": 320,
        "wires": [
            [
                "4f661232083706f4"
            ]
        ]
    },
    {
        "id": "301e94d904b9a128",
        "type": "junction",
        "z": "535c98d1d92579b6",
        "x": 760,
        "y": 600,
        "wires": [
            [
                "318426830832aad5"
            ]
        ]
    },
    {
        "id": "4a33ba091890f26c",
        "type": "junction",
        "z": "535c98d1d92579b6",
        "x": 760,
        "y": 360,
        "wires": [
            [
                "4f661232083706f4"
            ]
        ]
    },
    {
        "id": "b9e7aa8885c6c8ee",
        "type": "junction",
        "z": "535c98d1d92579b6",
        "x": 760,
        "y": 840,
        "wires": [
            [
                "f772e0315cdeaa39"
            ]
        ]
    },
    {
        "id": "d562f0f246daa67a",
        "type": "junction",
        "z": "535c98d1d92579b6",
        "x": 200,
        "y": 560,
        "wires": [
            [
                "318426830832aad5"
            ]
        ]
    },
    {
        "id": "deabe55a2db7bf66",
        "type": "junction",
        "z": "535c98d1d92579b6",
        "x": 200,
        "y": 800,
        "wires": [
            [
                "f772e0315cdeaa39"
            ]
        ]
    },
    {
        "id": "a2dc9d42a693dafb",
        "type": "junction",
        "z": "8aa6edec.5a013",
        "x": 820,
        "y": 180,
        "wires": [
            [
                "f3398caf62b1ef7a",
                "8d40faa88a9cd112",
                "b932464b99aa9267",
                "cdc07b973642084c",
                "028331e655414c16",
                "c6e7d8401b56fd33",
                "761222e7fa67a904",
                "5498c2d3d62ed8ba"
            ]
        ]
    },
    {
        "id": "8e4b5e877883b3e0",
        "type": "junction",
        "z": "e4381ced98d2a929",
        "x": 380,
        "y": 1300,
        "wires": [
            [
                "764ff273496b0193",
                "ab4badbb40ac3f96",
                "8ee38710dd301911"
            ]
        ]
    },
    {
        "id": "df097f62ee343e6b",
        "type": "junction",
        "z": "e4381ced98d2a929",
        "x": 380,
        "y": 200,
        "wires": [
            [
                "3dd82a4a5a5f543f",
                "1583a7af300c58e0",
                "cdc4fcc574f8d36a",
                "c20492a470484001",
                "8ee38710dd301911",
                "3a5ac0b1670fd20b",
                "29aa2542eb146ebc",
                "7d9091cf95ea29fe",
                "2d21e3e6cf54e587",
                "c5e53f10fcec2a55",
                "17d6d6ba47815c69",
                "2f3981a6369226a2"
            ]
        ]
    },
    {
        "id": "abca9d489cb39d05",
        "type": "junction",
        "z": "645478ab1138fd33",
        "x": 320,
        "y": 220,
        "wires": [
            [
                "56c442aec754c164"
            ]
        ]
    },
    {
        "id": "15e791691fffba6e",
        "type": "junction",
        "z": "b13ca13c.9328e",
        "x": 1480,
        "y": 280,
        "wires": [
            [
                "40140a3.8383df4",
                "668b5737b0f584a7"
            ]
        ]
    },
    {
        "id": "1d1ec90f6d5f3048",
        "type": "junction",
        "z": "b13ca13c.9328e",
        "x": 740,
        "y": 280,
        "wires": [
            [
                "15e791691fffba6e"
            ]
        ]
    },
    {
        "id": "3564b4f51c2e9f2b",
        "type": "junction",
        "z": "2fdf3d9bec5f1748",
        "x": 280,
        "y": 220,
        "wires": [
            [
                "609e3ac6425b0cac"
            ]
        ]
    },
    {
        "id": "fee8363c5cb8d124",
        "type": "junction",
        "z": "2437e768.8e34d8",
        "x": 380,
        "y": 220,
        "wires": [
            [
                "ce869786.78dec8"
            ]
        ]
    },
    {
        "id": "a378d97aa6be5e49",
        "type": "junction",
        "z": "4dd07a1d.6e53e4",
        "x": 400,
        "y": 180,
        "wires": [
            [
                "818ba5a9.204658"
            ]
        ]
    },
    {
        "id": "3392d6cf5e1cb20b",
        "type": "junction",
        "z": "4dd07a1d.6e53e4",
        "x": 400,
        "y": 140,
        "wires": [
            [
                "5c56266b.e63438"
            ]
        ]
    },
    {
        "id": "ea1d347257539369",
        "type": "junction",
        "z": "5c92a1135257c28d",
        "g": "9d927f405fd197bc",
        "x": 800,
        "y": 160,
        "wires": [
            [
                "420b0d2cf8014bfe",
                "a6c263811d9239b5",
                "b553c9f2abb4bdc0",
                "f8bd1ef936e71fbf"
            ]
        ]
    },
    {
        "id": "0e86c16e42286a1a",
        "type": "junction",
        "z": "fd9cd80f14f860fe",
        "g": "fc9a0630f16ecdaf",
        "x": 660,
        "y": 840,
        "wires": [
            [
                "6797374d5c5348f9",
                "3beb8cf879247adb"
            ]
        ]
    },
    {
        "id": "61e6d10bbacb84be",
        "type": "junction",
        "z": "fd9cd80f14f860fe",
        "g": "cd256ec259a611f4",
        "x": 660,
        "y": 560,
        "wires": [
            [
                "fa9bc69bfdcf7c2c",
                "1852cb62226e78b0",
                "cc95177ff7dd19c7"
            ]
        ]
    },
    {
        "id": "b564e25effcfc627",
        "type": "junction",
        "z": "fd9cd80f14f860fe",
        "g": "d3868dc5f4aa2d65",
        "x": 660,
        "y": 240,
        "wires": [
            [
                "f9e486866e6d65f1",
                "7921cddd0f314705",
                "7bea96d351fd45a5",
                "1d37dadaa58f945a"
            ]
        ]
    },
    {
        "id": "594222d1e705061c",
        "type": "junction",
        "z": "fd9cd80f14f860fe",
        "g": "3deebaf17197f452",
        "x": 1020,
        "y": 1920,
        "wires": [
            [
                "aaefbd870a81bd90",
                "f562bc76d4f77c72",
                "c6c71296e724485a",
                "7c90580485197cda"
            ]
        ]
    },
    {
        "id": "610847102bcc29a9",
        "type": "junction",
        "z": "fb7b362cbc47e439",
        "x": 1740,
        "y": 160,
        "wires": [
            [
                "0253bf8368a2a006"
            ]
        ]
    },
    {
        "id": "7c04372257e43f46",
        "type": "junction",
        "z": "acd9bd0c60806bd8",
        "x": 1160,
        "y": 300,
        "wires": [
            [
                "1c4e69306cc62b99",
                "b88bddd3f35e4973",
                "39db305949939e6d"
            ]
        ]
    },
    {
        "id": "a92fff4f506cc380",
        "type": "junction",
        "z": "acd9bd0c60806bd8",
        "x": 880,
        "y": 300,
        "wires": [
            [
                "055af5f916f4a558",
                "7c04372257e43f46",
                "097e5206678e0eed",
                "707b4d06d170119e"
            ]
        ]
    },
    {
        "id": "b88bddd3f35e4973",
        "type": "junction",
        "z": "acd9bd0c60806bd8",
        "x": 1420,
        "y": 300,
        "wires": [
            [
                "cf3c768bfd44bb20"
            ]
        ]
    },
    {
        "id": "27620b0ca83e1401",
        "type": "junction",
        "z": "acd9bd0c60806bd8",
        "x": 1160,
        "y": 340,
        "wires": [
            [
                "ad2dec9c67f2a738"
            ]
        ]
    },
    {
        "id": "ad2dec9c67f2a738",
        "type": "junction",
        "z": "acd9bd0c60806bd8",
        "x": 1420,
        "y": 340,
        "wires": [
            [
                "b88bddd3f35e4973"
            ]
        ]
    },
    {
        "id": "097e5206678e0eed",
        "type": "junction",
        "z": "acd9bd0c60806bd8",
        "x": 880,
        "y": 340,
        "wires": [
            [
                "27620b0ca83e1401"
            ]
        ]
    },
    {
        "id": "64a60709294e150e",
        "type": "junction",
        "z": "fd9cd80f14f860fe",
        "g": "7cc7f95a4ebc61f4",
        "x": 660,
        "y": 1040,
        "wires": [
            [
                "48234362842d5448"
            ]
        ]
    },
    {
        "id": "aee73f4c0da532d7",
        "type": "junction",
        "z": "12beaeea5e53e349",
        "x": 540,
        "y": 320,
        "wires": [
            [
                "8b1bdde5406f507b"
            ]
        ]
    },
    {
        "id": "059358a41bed04b5",
        "type": "junction",
        "z": "12beaeea5e53e349",
        "x": 540,
        "y": 260,
        "wires": [
            [
                "8b1bdde5406f507b"
            ]
        ]
    },
    {
        "id": "94c68f1379b292d5",
        "type": "junction",
        "z": "12beaeea5e53e349",
        "x": 540,
        "y": 160,
        "wires": [
            [
                "8b1bdde5406f507b"
            ]
        ]
    },
    {
        "id": "a11307d1398c1a55",
        "type": "junction",
        "z": "12beaeea5e53e349",
        "x": 540,
        "y": 220,
        "wires": [
            [
                "8b1bdde5406f507b"
            ]
        ]
    },
    {
        "id": "b813b74193ab27fc",
        "type": "junction",
        "z": "5b957aaa34cab814",
        "x": 400,
        "y": 520,
        "wires": [
            [
                "f5b5f685345544c7"
            ]
        ]
    },
    {
        "id": "cf3165dc8b9966df",
        "type": "junction",
        "z": "d5421f8d.f7208",
        "x": 1200,
        "y": 200,
        "wires": [
            [
                "7ccb7ced4e8c8a8f"
            ]
        ]
    },
    {
        "id": "70621108112580c3",
        "type": "junction",
        "z": "a073f9861eebac1b",
        "g": "5fb2d93489fc335c",
        "x": 1760,
        "y": 260,
        "wires": [
            [
                "65ead3b4b322f45e",
                "28ddcb9fe3dea17c",
                "7d1696747fc1b9b8",
                "c48e92d23dd5455a",
                "e09d093683c71b6d"
            ]
        ]
    },
    {
        "id": "bf77f797164619b0",
        "type": "junction",
        "z": "a073f9861eebac1b",
        "g": "fe64cb4fec53d328",
        "x": 1760,
        "y": 520,
        "wires": [
            [
                "bc2225a0df38d467",
                "5b0ed20f9ac639e1",
                "486061fb4214f811",
                "18d17ebdbbe62765",
                "4348cc8838e3749a"
            ]
        ]
    },
    {
        "id": "36dee637778341ba",
        "type": "mqtt-broker",
        "name": "",
        "broker": "mqtt.lan.stamx.nl",
        "port": "1883",
        "clientid": "",
        "autoConnect": true,
        "usetls": false,
        "protocolVersion": "4",
        "keepalive": "60",
        "cleansession": true,
        "autoUnsubscribe": true,
        "birthTopic": "",
        "birthQos": "0",
        "birthPayload": "",
        "birthMsg": {},
        "closeTopic": "",
        "closeQos": "0",
        "closePayload": "",
        "closeMsg": {},
        "willTopic": "",
        "willQos": "0",
        "willPayload": "",
        "willMsg": {},
        "userProps": "",
        "sessionExpiry": ""
    },
    {
        "id": "4ba92433.2478cc",
        "type": "server",
        "name": "Home Assistant",
        "version": 5,
        "addon": false,
        "rejectUnauthorizedCerts": false,
        "ha_boolean": "y|yes|true|on|home|open",
        "connectionDelay": true,
        "cacheJson": true,
        "heartbeat": true,
        "heartbeatInterval": "30",
        "areaSelector": "id",
        "deviceSelector": "id",
        "entitySelector": "id",
        "statusSeparator": "at: ",
        "statusYear": "hidden",
        "statusMonth": "short",
        "statusDay": "numeric",
        "statusHourCycle": "h23",
        "statusTimeFormat": "h:m",
        "enableGlobalContextStore": true
    },
    {
        "id": "8db70a2720a60b47",
        "type": "ha-entity-config",
        "server": "4ba92433.2478cc",
        "deviceConfig": "",
        "name": "custom_energy_returned_watt",
        "version": "6",
        "entityType": "sensor",
        "haConfig": [
            {
                "property": "name",
                "value": "custom_energy_returned_watt"
            },
            {
                "property": "icon",
                "value": ""
            },
            {
                "property": "entity_picture",
                "value": ""
            },
            {
                "property": "entity_category",
                "value": ""
            },
            {
                "property": "device_class",
                "value": "power"
            },
            {
                "property": "unit_of_measurement",
                "value": "W"
            },
            {
                "property": "state_class",
                "value": "measurement"
            }
        ],
        "resend": false,
        "debugEnabled": false
    },
    {
        "id": "481b5f550ecd01da",
        "type": "ha-entity-config",
        "server": "4ba92433.2478cc",
        "deviceConfig": "",
        "name": "nvidia_shield_volume_maximum",
        "version": "6",
        "entityType": "binary_sensor",
        "haConfig": [
            {
                "property": "name",
                "value": "nvidia_shield_volume_maximum"
            },
            {
                "property": "icon",
                "value": ""
            },
            {
                "property": "entity_picture",
                "value": ""
            },
            {
                "property": "entity_category",
                "value": ""
            },
            {
                "property": "device_class",
                "value": ""
            }
        ],
        "resend": false,
        "debugEnabled": false
    },
    {
        "id": "7befa0b16196877c",
        "type": "ha-entity-config",
        "server": "4ba92433.2478cc",
        "deviceConfig": "",
        "name": "custom_energy",
        "version": "6",
        "entityType": "sensor",
        "haConfig": [
            {
                "property": "name",
                "value": "custom_energy"
            },
            {
                "property": "icon",
                "value": ""
            },
            {
                "property": "entity_category",
                "value": ""
            },
            {
                "property": "entity_picture",
                "value": ""
            },
            {
                "property": "device_class",
                "value": "energy"
            },
            {
                "property": "unit_of_measurement",
                "value": "Wh"
            },
            {
                "property": "state_class",
                "value": ""
            }
        ],
        "resend": true,
        "debugEnabled": false
    },
    {
        "id": "334728918669134a",
        "type": "ha-entity-config",
        "server": "4ba92433.2478cc",
        "deviceConfig": "",
        "name": "tv_device",
        "version": "6",
        "entityType": "button",
        "haConfig": [
            {
                "property": "name",
                "value": "tv_device"
            },
            {
                "property": "icon",
                "value": ""
            },
            {
                "property": "entity_category",
                "value": ""
            },
            {
                "property": "entity_picture",
                "value": ""
            },
            {
                "property": "device_class",
                "value": ""
            }
        ],
        "resend": false,
        "debugEnabled": false
    },
    {
        "id": "bdbe52c.932a5b",
        "type": "ha-entity-config",
        "server": "4ba92433.2478cc",
        "deviceConfig": "",
        "name": "washing_machine",
        "version": "6",
        "entityType": "binary_sensor",
        "haConfig": [
            {
                "property": "name",
                "value": "washing_machine"
            },
            {
                "property": "icon",
                "value": "mdi:washing-machine"
            },
            {
                "property": "entity_category",
                "value": ""
            },
            {
                "property": "entity_picture",
                "value": ""
            },
            {
                "property": "device_class",
                "value": ""
            }
        ],
        "resend": true,
        "debugEnabled": false
    },
    {
        "id": "5051592a.7844e8",
        "type": "ha-entity-config",
        "server": "4ba92433.2478cc",
        "deviceConfig": "",
        "name": "outdoor_daylight",
        "version": "6",
        "entityType": "binary_sensor",
        "haConfig": [
            {
                "property": "name",
                "value": "outdoor_daylight"
            },
            {
                "property": "icon",
                "value": ""
            },
            {
                "property": "entity_picture",
                "value": ""
            },
            {
                "property": "entity_category",
                "value": ""
            },
            {
                "property": "device_class",
                "value": "light"
            }
        ],
        "resend": true,
        "debugEnabled": false
    },
    {
        "id": "2c5f48cef312ec68",
        "type": "ha-entity-config",
        "server": "4ba92433.2478cc",
        "deviceConfig": "",
        "name": "tumble_dryer",
        "version": "6",
        "entityType": "binary_sensor",
        "haConfig": [
            {
                "property": "name",
                "value": "tumble_dryer"
            },
            {
                "property": "icon",
                "value": ""
            },
            {
                "property": "entity_category",
                "value": ""
            },
            {
                "property": "entity_picture",
                "value": ""
            },
            {
                "property": "device_class",
                "value": ""
            }
        ],
        "resend": true,
        "debugEnabled": false
    },
    {
        "id": "4f12e052f2829473",
        "type": "ha-entity-config",
        "server": "4ba92433.2478cc",
        "deviceConfig": "",
        "name": "dishwasher",
        "version": "6",
        "entityType": "binary_sensor",
        "haConfig": [
            {
                "property": "name",
                "value": "dishwasher"
            },
            {
                "property": "icon",
                "value": ""
            },
            {
                "property": "entity_category",
                "value": ""
            },
            {
                "property": "entity_picture",
                "value": ""
            },
            {
                "property": "device_class",
                "value": ""
            }
        ],
        "resend": true,
        "debugEnabled": false
    },
    {
        "id": "39f868aa97a1088e",
        "type": "ha-entity-config",
        "server": "4ba92433.2478cc",
        "deviceConfig": "",
        "name": "automation_electric_heater_high_voltage",
        "version": "6",
        "entityType": "switch",
        "haConfig": [
            {
                "property": "name",
                "value": "automation_electric_heater_high_voltage"
            },
            {
                "property": "icon",
                "value": ""
            },
            {
                "property": "entity_picture",
                "value": ""
            },
            {
                "property": "entity_category",
                "value": ""
            },
            {
                "property": "device_class",
                "value": ""
            }
        ],
        "resend": false,
        "debugEnabled": false
    },
    {
        "id": "60731eead34cfb6b",
        "type": "ha-entity-config",
        "server": "4ba92433.2478cc",
        "deviceConfig": "",
        "name": "weather_code_translated",
        "version": "6",
        "entityType": "sensor",
        "haConfig": [
            {
                "property": "name",
                "value": "weather_code_translated"
            },
            {
                "property": "icon",
                "value": ""
            },
            {
                "property": "entity_picture",
                "value": ""
            },
            {
                "property": "entity_category",
                "value": ""
            },
            {
                "property": "device_class",
                "value": ""
            },
            {
                "property": "unit_of_measurement",
                "value": ""
            },
            {
                "property": "state_class",
                "value": ""
            }
        ],
        "resend": false,
        "debugEnabled": false
    },
    {
        "id": "03547137a16812fd",
        "type": "ha-entity-config",
        "server": "4ba92433.2478cc",
        "deviceConfig": "",
        "name": "tv_device",
        "version": "6",
        "entityType": "binary_sensor",
        "haConfig": [
            {
                "property": "name",
                "value": "tv_device"
            },
            {
                "property": "icon",
                "value": ""
            },
            {
                "property": "entity_category",
                "value": ""
            },
            {
                "property": "entity_picture",
                "value": ""
            },
            {
                "property": "device_class",
                "value": ""
            }
        ],
        "resend": false,
        "debugEnabled": false
    },
    {
        "id": "8cfcbd4314535fdb",
        "type": "ha-entity-config",
        "server": "4ba92433.2478cc",
        "deviceConfig": "",
        "name": "tv_screen_toggle",
        "version": "6",
        "entityType": "button",
        "haConfig": [
            {
                "property": "name",
                "value": "Beeldscherm"
            },
            {
                "property": "icon",
                "value": ""
            },
            {
                "property": "entity_category",
                "value": ""
            },
            {
                "property": "entity_picture",
                "value": ""
            },
            {
                "property": "device_class",
                "value": ""
            }
        ],
        "resend": false,
        "debugEnabled": false
    },
    {
        "id": "bb28b274f3ceaae8",
        "type": "ha-entity-config",
        "server": "4ba92433.2478cc",
        "deviceConfig": "",
        "name": "tvscreen_device",
        "version": "6",
        "entityType": "binary_sensor",
        "haConfig": [
            {
                "property": "name",
                "value": "tvscreen_device"
            },
            {
                "property": "icon",
                "value": ""
            },
            {
                "property": "entity_category",
                "value": ""
            },
            {
                "property": "entity_picture",
                "value": ""
            },
            {
                "property": "device_class",
                "value": ""
            }
        ],
        "resend": false,
        "debugEnabled": false
    },
    {
        "id": "61b96249023198be",
        "type": "ha-entity-config",
        "server": "4ba92433.2478cc",
        "deviceConfig": "",
        "name": "notification_level_info_turn_off",
        "version": "6",
        "entityType": "button",
        "haConfig": [
            {
                "property": "name",
                "value": "notification_level_info_turn_off"
            },
            {
                "property": "icon",
                "value": ""
            },
            {
                "property": "entity_picture",
                "value": ""
            },
            {
                "property": "entity_category",
                "value": ""
            },
            {
                "property": "device_class",
                "value": ""
            }
        ],
        "resend": false,
        "debugEnabled": false
    },
    {
        "id": "ce2ff010477149a7",
        "type": "ha-entity-config",
        "server": "4ba92433.2478cc",
        "deviceConfig": "",
        "name": "notification_level_warning_turn_off",
        "version": "6",
        "entityType": "button",
        "haConfig": [
            {
                "property": "name",
                "value": "notification_level_warning_turn_off"
            },
            {
                "property": "icon",
                "value": ""
            },
            {
                "property": "entity_picture",
                "value": ""
            },
            {
                "property": "entity_category",
                "value": ""
            },
            {
                "property": "device_class",
                "value": ""
            }
        ],
        "resend": false,
        "debugEnabled": false
    },
    {
        "id": "fed106bf198ad2ea",
        "type": "ha-entity-config",
        "server": "4ba92433.2478cc",
        "deviceConfig": "",
        "name": "notification_level_warning",
        "version": "6",
        "entityType": "binary_sensor",
        "haConfig": [
            {
                "property": "name",
                "value": "notification_level_warning"
            },
            {
                "property": "icon",
                "value": ""
            },
            {
                "property": "entity_picture",
                "value": ""
            },
            {
                "property": "entity_category",
                "value": ""
            },
            {
                "property": "device_class",
                "value": ""
            }
        ],
        "resend": true,
        "debugEnabled": false
    },
    {
        "id": "287aaae77d488c09",
        "type": "ha-entity-config",
        "server": "4ba92433.2478cc",
        "deviceConfig": "",
        "name": "notification_level_error_turn_off",
        "version": "6",
        "entityType": "button",
        "haConfig": [
            {
                "property": "name",
                "value": "notification_level_error_turn_off"
            },
            {
                "property": "icon",
                "value": ""
            },
            {
                "property": "entity_picture",
                "value": ""
            },
            {
                "property": "entity_category",
                "value": ""
            },
            {
                "property": "device_class",
                "value": ""
            }
        ],
        "resend": false,
        "debugEnabled": false
    },
    {
        "id": "d2b97f89ed6763e5",
        "type": "ha-entity-config",
        "server": "4ba92433.2478cc",
        "deviceConfig": "",
        "name": "notification_level_error",
        "version": "6",
        "entityType": "binary_sensor",
        "haConfig": [
            {
                "property": "name",
                "value": "notification_level_error"
            },
            {
                "property": "icon",
                "value": ""
            },
            {
                "property": "entity_picture",
                "value": ""
            },
            {
                "property": "entity_category",
                "value": ""
            },
            {
                "property": "device_class",
                "value": ""
            }
        ],
        "resend": true,
        "debugEnabled": false
    },
    {
        "id": "cab73c1a38f001be",
        "type": "ha-entity-config",
        "server": "4ba92433.2478cc",
        "deviceConfig": "",
        "name": "notification_level_info",
        "version": "6",
        "entityType": "binary_sensor",
        "haConfig": [
            {
                "property": "name",
                "value": "notification_level_info"
            },
            {
                "property": "icon",
                "value": ""
            },
            {
                "property": "entity_picture",
                "value": ""
            },
            {
                "property": "entity_category",
                "value": ""
            },
            {
                "property": "device_class",
                "value": ""
            }
        ],
        "resend": true,
        "debugEnabled": false
    },
    {
        "id": "3cbf2c3454c3795d",
        "type": "ha-entity-config",
        "server": "4ba92433.2478cc",
        "deviceConfig": "",
        "name": "notification_level_clear_all",
        "version": "6",
        "entityType": "button",
        "haConfig": [
            {
                "property": "name",
                "value": "notification_level_clear_all"
            },
            {
                "property": "icon",
                "value": ""
            },
            {
                "property": "entity_picture",
                "value": ""
            },
            {
                "property": "entity_category",
                "value": ""
            },
            {
                "property": "device_class",
                "value": ""
            }
        ],
        "resend": false,
        "debugEnabled": false
    },
    {
        "id": "df0e222b4bf2971f",
        "type": "ha-entity-config",
        "server": "4ba92433.2478cc",
        "deviceConfig": "",
        "name": "notification_on_counter",
        "version": "6",
        "entityType": "sensor",
        "haConfig": [
            {
                "property": "name",
                "value": "notification_on_counter"
            },
            {
                "property": "icon",
                "value": ""
            },
            {
                "property": "entity_picture",
                "value": ""
            },
            {
                "property": "entity_category",
                "value": ""
            },
            {
                "property": "device_class",
                "value": ""
            },
            {
                "property": "unit_of_measurement",
                "value": ""
            },
            {
                "property": "state_class",
                "value": "total"
            }
        ],
        "resend": true,
        "debugEnabled": false
    },
    {
        "id": "b91508ea44734193",
        "type": "ha-entity-config",
        "server": "4ba92433.2478cc",
        "deviceConfig": "",
        "name": "custom_backyard_person_occupancy",
        "version": "6",
        "entityType": "binary_sensor",
        "haConfig": [
            {
                "property": "name",
                "value": "custom_backyard_person_occupancy"
            },
            {
                "property": "icon",
                "value": ""
            },
            {
                "property": "entity_picture",
                "value": ""
            },
            {
                "property": "entity_category",
                "value": ""
            },
            {
                "property": "device_class",
                "value": "motion"
            }
        ],
        "resend": false,
        "debugEnabled": false
    },
    {
        "id": "3f4f99b6c043befd",
        "type": "ha-entity-config",
        "server": "4ba92433.2478cc",
        "deviceConfig": "",
        "name": "custom_energy_usage",
        "version": "6",
        "entityType": "sensor",
        "haConfig": [
            {
                "property": "name",
                "value": "custom_energy_usage"
            },
            {
                "property": "icon",
                "value": ""
            },
            {
                "property": "entity_category",
                "value": ""
            },
            {
                "property": "entity_picture",
                "value": ""
            },
            {
                "property": "device_class",
                "value": ""
            },
            {
                "property": "unit_of_measurement",
                "value": ""
            },
            {
                "property": "state_class",
                "value": ""
            }
        ],
        "resend": false,
        "debugEnabled": false
    },
    {
        "id": "d536c618bffe48c4",
        "type": "ha-entity-config",
        "server": "4ba92433.2478cc",
        "deviceConfig": "",
        "name": "custom_voltage_difference",
        "version": "6",
        "entityType": "sensor",
        "haConfig": [
            {
                "property": "name",
                "value": "custom_voltage_difference"
            },
            {
                "property": "icon",
                "value": ""
            },
            {
                "property": "entity_picture",
                "value": ""
            },
            {
                "property": "entity_category",
                "value": ""
            },
            {
                "property": "device_class",
                "value": "voltage"
            },
            {
                "property": "unit_of_measurement",
                "value": "V"
            },
            {
                "property": "state_class",
                "value": ""
            }
        ],
        "resend": false,
        "debugEnabled": false
    },
    {
        "id": "dd558d37ebd87d72",
        "type": "ha-entity-config",
        "server": "4ba92433.2478cc",
        "deviceConfig": "",
        "name": "custom_weather_description_01",
        "version": "6",
        "entityType": "sensor",
        "haConfig": [
            {
                "property": "name",
                "value": "custom_weather_description_01"
            },
            {
                "property": "icon",
                "value": ""
            },
            {
                "property": "entity_picture",
                "value": ""
            },
            {
                "property": "entity_category",
                "value": ""
            },
            {
                "property": "device_class",
                "value": ""
            },
            {
                "property": "unit_of_measurement",
                "value": ""
            },
            {
                "property": "state_class",
                "value": ""
            }
        ],
        "resend": false,
        "debugEnabled": false
    },
    {
        "id": "fcb1f1df3e876534",
        "type": "ha-entity-config",
        "server": "4ba92433.2478cc",
        "deviceConfig": "",
        "name": "open_windows_first_floor",
        "version": 6,
        "entityType": "binary_sensor",
        "haConfig": [
            {
                "property": "name",
                "value": "open_windows_first_floor"
            },
            {
                "property": "icon",
                "value": ""
            },
            {
                "property": "entity_picture",
                "value": ""
            },
            {
                "property": "entity_category",
                "value": ""
            },
            {
                "property": "device_class",
                "value": "window"
            }
        ],
        "resend": false,
        "debugEnabled": false
    },
    {
        "id": "85ad055bece6e921",
        "type": "api-call-service",
        "z": "dbca868556b8a1c3",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "{{entity.name}}"
        ],
        "labelId": [],
        "data": "{\"transition\":\"{{entity.transition}}\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": true,
        "domain": "light",
        "service": "turn_off",
        "x": 710,
        "y": 100,
        "wires": [
            []
        ]
    },
    {
        "id": "7179cc0241c949f8",
        "type": "api-current-state",
        "z": "dbca868556b8a1c3",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "{{entity.name}}",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 320,
        "y": 100,
        "wires": [
            [
                "ef74653edff72a02"
            ],
            []
        ]
    },
    {
        "id": "4fc807c1aa8ac249",
        "type": "split",
        "z": "dbca868556b8a1c3",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "property": "entity",
        "x": 130,
        "y": 100,
        "wires": [
            [
                "7179cc0241c949f8"
            ]
        ]
    },
    {
        "id": "ef74653edff72a02",
        "type": "function",
        "z": "dbca868556b8a1c3",
        "name": "transition default",
        "func": "msg.entity.transition = msg.entity.transition ?? 5000;\n\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 540,
        "y": 100,
        "wires": [
            [
                "85ad055bece6e921"
            ]
        ]
    },
    {
        "id": "6a00bd184208d22b",
        "type": "api-call-service",
        "z": "9035787f55f7c373",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "{{entity.name}}"
        ],
        "labelId": [],
        "data": "{\"transition\":\"{{entity.transition}}\",\"brightness_pct\":\"{{entity.brightness_pct}}\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": true,
        "domain": "light",
        "service": "turn_on",
        "x": 670,
        "y": 100,
        "wires": [
            []
        ]
    },
    {
        "id": "0ea81274aa8988db",
        "type": "api-current-state",
        "z": "9035787f55f7c373",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "{{entity.name}}",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 320,
        "y": 100,
        "wires": [
            [
                "b7e5d5330f5b3d3f"
            ],
            []
        ]
    },
    {
        "id": "cef7ce0816e6b806",
        "type": "split",
        "z": "9035787f55f7c373",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "property": "entity",
        "x": 130,
        "y": 100,
        "wires": [
            [
                "0ea81274aa8988db"
            ]
        ]
    },
    {
        "id": "b7e5d5330f5b3d3f",
        "type": "function",
        "z": "9035787f55f7c373",
        "name": "defaults",
        "func": "msg.entity.transition = msg.entity.transition ?? 5000;\nmsg.entity.brightness_pct = msg.entity.brightness_pct ?? 100;\n\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 520,
        "y": 100,
        "wires": [
            [
                "6a00bd184208d22b"
            ]
        ]
    },
    {
        "id": "40dd5e94d3019598",
        "type": "api-call-service",
        "z": "29e8244a8f81a1d5",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "input_boolean.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "{{entity.name}}"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": true,
        "domain": "input_boolean",
        "service": "turn_off",
        "x": 560,
        "y": 100,
        "wires": [
            []
        ]
    },
    {
        "id": "2cb2dcd72aa55d0d",
        "type": "api-current-state",
        "z": "29e8244a8f81a1d5",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "{{entity.name}}",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 320,
        "y": 100,
        "wires": [
            [
                "40dd5e94d3019598"
            ],
            []
        ]
    },
    {
        "id": "36811f18655880bc",
        "type": "split",
        "z": "29e8244a8f81a1d5",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "property": "entity",
        "x": 130,
        "y": 100,
        "wires": [
            [
                "2cb2dcd72aa55d0d"
            ]
        ]
    },
    {
        "id": "3ba6957505b73905",
        "type": "api-call-service",
        "z": "e6c596114f269c76",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "input_boolean.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "{{entity.name}}"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": true,
        "domain": "input_boolean",
        "service": "turn_on",
        "x": 560,
        "y": 100,
        "wires": [
            []
        ]
    },
    {
        "id": "d51c7daf87b4791c",
        "type": "api-current-state",
        "z": "e6c596114f269c76",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "{{entity.name}}",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 320,
        "y": 100,
        "wires": [
            [
                "3ba6957505b73905"
            ],
            []
        ]
    },
    {
        "id": "342b7174407f675c",
        "type": "split",
        "z": "e6c596114f269c76",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "property": "entity",
        "x": 130,
        "y": 100,
        "wires": [
            [
                "d51c7daf87b4791c"
            ]
        ]
    },
    {
        "id": "601a0cd3404ed688",
        "type": "split",
        "z": "9b6778c2f37a86dd",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "property": "entity",
        "x": 150,
        "y": 80,
        "wires": [
            [
                "770957f84dd0f6b4"
            ]
        ]
    },
    {
        "id": "770957f84dd0f6b4",
        "type": "api-current-state",
        "z": "9b6778c2f37a86dd",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "{{entity.name}}",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 340,
        "y": 80,
        "wires": [
            [
                "bc5f13230556c942"
            ],
            []
        ]
    },
    {
        "id": "bc5f13230556c942",
        "type": "api-call-service",
        "z": "9b6778c2f37a86dd",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "switch.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "{{entity.name}}"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": true,
        "domain": "switch",
        "service": "turn_on",
        "x": 580,
        "y": 120,
        "wires": [
            []
        ]
    },
    {
        "id": "3bdf29f85e95586b",
        "type": "split",
        "z": "b2cf9c405297cba6",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "property": "entity",
        "x": 170,
        "y": 100,
        "wires": [
            [
                "d1335bc9d95125e6"
            ]
        ]
    },
    {
        "id": "d1335bc9d95125e6",
        "type": "api-current-state",
        "z": "b2cf9c405297cba6",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "{{entity.name}}",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 360,
        "y": 100,
        "wires": [
            [
                "ce2d4327ea1cd45d"
            ],
            []
        ]
    },
    {
        "id": "ce2d4327ea1cd45d",
        "type": "api-call-service",
        "z": "b2cf9c405297cba6",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "switch.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "{{entity.name}}"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": true,
        "domain": "switch",
        "service": "turn_off",
        "x": 600,
        "y": 140,
        "wires": [
            []
        ]
    },
    {
        "id": "5f3c95659f1072ef",
        "type": "comment",
        "z": "3381c3542ff0a657",
        "name": "Trigger when binary sensor light outdoor is off (dark)",
        "info": "",
        "x": 210,
        "y": 20,
        "wires": []
    },
    {
        "id": "088833473f12c981",
        "type": "catch",
        "z": "3381c3542ff0a657",
        "g": "345fab730ad4be03",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "e8beeb55e4489280"
            ]
        ]
    },
    {
        "id": "e8beeb55e4489280",
        "type": "template",
        "z": "3381c3542ff0a657",
        "g": "345fab730ad4be03",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "fa6bc3f7ba0f1635"
            ]
        ]
    },
    {
        "id": "8842079ec33b9292",
        "type": "link out",
        "z": "3381c3542ff0a657",
        "g": "345fab730ad4be03",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 675,
        "y": 80,
        "wires": []
    },
    {
        "id": "fa6bc3f7ba0f1635",
        "type": "template",
        "z": "3381c3542ff0a657",
        "g": "345fab730ad4be03",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "cec70e8579ddfefb"
            ]
        ]
    },
    {
        "id": "cec70e8579ddfefb",
        "type": "function",
        "z": "3381c3542ff0a657",
        "g": "345fab730ad4be03",
        "name": "notify.notification_id",
        "func": "msg.notify.notification_id = env.get(\"NR_FLOW_ID\");\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 550,
        "y": 80,
        "wires": [
            [
                "8842079ec33b9292"
            ]
        ]
    },
    {
        "id": "02882c5ab22822b4",
        "type": "server-state-changed",
        "z": "3381c3542ff0a657",
        "name": "outdoor daylight is on",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "binary_sensor.outdoor_daylight"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": false,
        "stateType": "str",
        "ifState": "on",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 120,
        "y": 180,
        "wires": [
            [
                "2021a3dcd50cad13"
            ],
            [
                "752c49c8fe14edb9"
            ]
        ]
    },
    {
        "id": "2021a3dcd50cad13",
        "type": "link out",
        "z": "3381c3542ff0a657",
        "name": "on",
        "mode": "link",
        "links": [
            "2272a67f712f8390"
        ],
        "x": 265,
        "y": 160,
        "wires": []
    },
    {
        "id": "752c49c8fe14edb9",
        "type": "link out",
        "z": "3381c3542ff0a657",
        "name": "off",
        "mode": "link",
        "links": [
            "6cd38171160cb9af"
        ],
        "x": 265,
        "y": 200,
        "wires": []
    },
    {
        "id": "bdfefffc744e0562",
        "type": "inject",
        "z": "8354fbe183c2498c",
        "name": "daily 06:30 'on' payload ",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "30 06 * * *",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "on",
        "payloadType": "str",
        "x": 150,
        "y": 180,
        "wires": [
            [
                "c62f6b0d1b183091"
            ]
        ]
    },
    {
        "id": "e539d4ab432ab4d4",
        "type": "comment",
        "z": "8354fbe183c2498c",
        "name": "Trigger that starts every morning at 06:30",
        "info": "",
        "x": 180,
        "y": 20,
        "wires": []
    },
    {
        "id": "c62f6b0d1b183091",
        "type": "link out",
        "z": "8354fbe183c2498c",
        "name": "daily 06:30",
        "mode": "link",
        "links": [
            "39aaf6c417d6275b",
            "6a7fa5b6d018ae01",
            "884e16f8a8840441"
        ],
        "x": 295,
        "y": 180,
        "wires": []
    },
    {
        "id": "889e8c1a42d836db",
        "type": "catch",
        "z": "8354fbe183c2498c",
        "g": "3a46b10e3f054875",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "bfe558f3fdc05ea9"
            ]
        ]
    },
    {
        "id": "bfe558f3fdc05ea9",
        "type": "template",
        "z": "8354fbe183c2498c",
        "g": "3a46b10e3f054875",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "5cd15ddccc5e9dbe"
            ]
        ]
    },
    {
        "id": "15a37feb9ef6c8b1",
        "type": "link out",
        "z": "8354fbe183c2498c",
        "g": "3a46b10e3f054875",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 675,
        "y": 80,
        "wires": []
    },
    {
        "id": "5cd15ddccc5e9dbe",
        "type": "template",
        "z": "8354fbe183c2498c",
        "g": "3a46b10e3f054875",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "f12be5541f6f04f3"
            ]
        ]
    },
    {
        "id": "f12be5541f6f04f3",
        "type": "function",
        "z": "8354fbe183c2498c",
        "g": "3a46b10e3f054875",
        "name": "notify.notification_id",
        "func": "msg.notify.notification_id = env.get(\"NR_FLOW_ID\");\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 550,
        "y": 80,
        "wires": [
            [
                "15a37feb9ef6c8b1"
            ]
        ]
    },
    {
        "id": "9249b8634fe6bea6",
        "type": "inject",
        "z": "8354fbe183c2498c",
        "name": "daily 07:15 'on' payload",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "15 07 * * *",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "on",
        "payloadType": "str",
        "x": 150,
        "y": 220,
        "wires": [
            [
                "820baad82a3ea43b"
            ]
        ]
    },
    {
        "id": "88aeba2e118acedc",
        "type": "inject",
        "z": "8354fbe183c2498c",
        "name": "daily 19:45 'on' payload",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "45 19 * * *",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "on",
        "payloadType": "str",
        "x": 150,
        "y": 260,
        "wires": [
            [
                "cdedeb5dc320e53a"
            ]
        ]
    },
    {
        "id": "820baad82a3ea43b",
        "type": "link out",
        "z": "8354fbe183c2498c",
        "name": "daily 07:15",
        "mode": "link",
        "links": [
            "bb477f7b2c78f471"
        ],
        "x": 295,
        "y": 220,
        "wires": []
    },
    {
        "id": "cdedeb5dc320e53a",
        "type": "link out",
        "z": "8354fbe183c2498c",
        "name": "daily 19:45",
        "mode": "link",
        "links": [],
        "x": 295,
        "y": 260,
        "wires": []
    },
    {
        "id": "8640aa8957753e8d",
        "type": "server-state-changed",
        "z": "8b9f28f75c6a8cea",
        "name": "backdoor state",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "binary_sensor.backdoor"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": false,
        "stateType": "str",
        "ifState": "on",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 100,
        "y": 180,
        "wires": [
            [
                "fe840a38fa8d493b"
            ],
            [
                "bda7b83568b348de"
            ]
        ]
    },
    {
        "id": "586613cd92a7c70f",
        "type": "comment",
        "z": "8b9f28f75c6a8cea",
        "name": "trigger when the backdoor getting opened or closed",
        "info": "",
        "x": 210,
        "y": 20,
        "wires": []
    },
    {
        "id": "fe840a38fa8d493b",
        "type": "link out",
        "z": "8b9f28f75c6a8cea",
        "name": "on",
        "mode": "link",
        "links": [
            "9767891df003f1fd"
        ],
        "x": 245,
        "y": 160,
        "wires": []
    },
    {
        "id": "4219cd52faf5a08a",
        "type": "catch",
        "z": "8b9f28f75c6a8cea",
        "g": "c00c37e66abb36fe",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "5e08431142959249"
            ]
        ]
    },
    {
        "id": "5e08431142959249",
        "type": "template",
        "z": "8b9f28f75c6a8cea",
        "g": "c00c37e66abb36fe",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "b75ac1280559f7d1"
            ]
        ]
    },
    {
        "id": "5b762936738edfdd",
        "type": "link out",
        "z": "8b9f28f75c6a8cea",
        "g": "c00c37e66abb36fe",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 675,
        "y": 80,
        "wires": []
    },
    {
        "id": "b75ac1280559f7d1",
        "type": "template",
        "z": "8b9f28f75c6a8cea",
        "g": "c00c37e66abb36fe",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "8bfe117ab18df378"
            ]
        ]
    },
    {
        "id": "8bfe117ab18df378",
        "type": "function",
        "z": "8b9f28f75c6a8cea",
        "g": "c00c37e66abb36fe",
        "name": "notify.notification_id",
        "func": "msg.notify.notification_id = env.get(\"NR_FLOW_ID\");\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 550,
        "y": 80,
        "wires": [
            [
                "5b762936738edfdd"
            ]
        ]
    },
    {
        "id": "bda7b83568b348de",
        "type": "link out",
        "z": "8b9f28f75c6a8cea",
        "name": "off",
        "mode": "link",
        "links": [
            "9767891df003f1fd"
        ],
        "x": 245,
        "y": 200,
        "wires": []
    },
    {
        "id": "76bbe826f8d070a7",
        "type": "server-state-changed",
        "z": "61fe51405ced1ae2",
        "name": "cv closet door is open",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "binary_sensor.cv_closet_door"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": true,
        "stateType": "str",
        "ifState": "on",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 120,
        "y": 180,
        "wires": [
            [
                "6f5f636ad6f12469"
            ],
            [
                "aead7be4acdfe160"
            ]
        ]
    },
    {
        "id": "b0460f3840edeb90",
        "type": "comment",
        "z": "61fe51405ced1ae2",
        "name": "trigger when the cv closet door getting opened",
        "info": "",
        "x": 190,
        "y": 20,
        "wires": []
    },
    {
        "id": "6f5f636ad6f12469",
        "type": "link out",
        "z": "61fe51405ced1ae2",
        "name": "on",
        "mode": "link",
        "links": [
            "09841c5a793ba657"
        ],
        "x": 255,
        "y": 160,
        "wires": []
    },
    {
        "id": "485192b0a089110d",
        "type": "catch",
        "z": "61fe51405ced1ae2",
        "g": "ef6d9d74e19c7dcb",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "8f6d071835380719"
            ]
        ]
    },
    {
        "id": "8f6d071835380719",
        "type": "template",
        "z": "61fe51405ced1ae2",
        "g": "ef6d9d74e19c7dcb",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "12d014102c4ceef4"
            ]
        ]
    },
    {
        "id": "7c4b35996788d27a",
        "type": "link out",
        "z": "61fe51405ced1ae2",
        "g": "ef6d9d74e19c7dcb",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 675,
        "y": 80,
        "wires": []
    },
    {
        "id": "12d014102c4ceef4",
        "type": "template",
        "z": "61fe51405ced1ae2",
        "g": "ef6d9d74e19c7dcb",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "7a95888ca93b3e25"
            ]
        ]
    },
    {
        "id": "7a95888ca93b3e25",
        "type": "function",
        "z": "61fe51405ced1ae2",
        "g": "ef6d9d74e19c7dcb",
        "name": "notify.notification_id",
        "func": "msg.notify.notification_id = env.get(\"NR_FLOW_ID\");\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 550,
        "y": 80,
        "wires": [
            [
                "7c4b35996788d27a"
            ]
        ]
    },
    {
        "id": "aead7be4acdfe160",
        "type": "link out",
        "z": "61fe51405ced1ae2",
        "name": "off",
        "mode": "link",
        "links": [
            "1611654305d0e2d3"
        ],
        "x": 255,
        "y": 200,
        "wires": []
    },
    {
        "id": "d181f762e346c192",
        "type": "server-state-changed",
        "z": "4d2cddfcdca52366",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "binary_sensor.basement_door"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": false,
        "stateType": "str",
        "ifState": "on",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 190,
        "y": 180,
        "wires": [
            [
                "6694b9456cb1387e"
            ],
            [
                "6eaef346abe7c1e3"
            ]
        ]
    },
    {
        "id": "da169dc757d3cf0c",
        "type": "comment",
        "z": "4d2cddfcdca52366",
        "name": "trigger when the souterrain is getting openend or closed",
        "info": "",
        "x": 220,
        "y": 20,
        "wires": []
    },
    {
        "id": "6694b9456cb1387e",
        "type": "link out",
        "z": "4d2cddfcdca52366",
        "name": "on",
        "mode": "link",
        "links": [],
        "x": 405,
        "y": 160,
        "wires": []
    },
    {
        "id": "6eaef346abe7c1e3",
        "type": "link out",
        "z": "4d2cddfcdca52366",
        "name": "off",
        "mode": "link",
        "links": [],
        "x": 405,
        "y": 200,
        "wires": []
    },
    {
        "id": "a8a2b32ca6f20b5f",
        "type": "catch",
        "z": "4d2cddfcdca52366",
        "g": "55ca281093ad92a9",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "9e8c2682695ea28d"
            ]
        ]
    },
    {
        "id": "9e8c2682695ea28d",
        "type": "template",
        "z": "4d2cddfcdca52366",
        "g": "55ca281093ad92a9",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "baa74badb5578046"
            ]
        ]
    },
    {
        "id": "9d9837e29130d1e3",
        "type": "link out",
        "z": "4d2cddfcdca52366",
        "g": "55ca281093ad92a9",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 675,
        "y": 80,
        "wires": []
    },
    {
        "id": "baa74badb5578046",
        "type": "template",
        "z": "4d2cddfcdca52366",
        "g": "55ca281093ad92a9",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "47e3ac0bf7f2a7f8"
            ]
        ]
    },
    {
        "id": "47e3ac0bf7f2a7f8",
        "type": "function",
        "z": "4d2cddfcdca52366",
        "g": "55ca281093ad92a9",
        "name": "notify.notification_id",
        "func": "msg.notify.notification_id = env.get(\"NR_FLOW_ID\");\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 550,
        "y": 80,
        "wires": [
            [
                "9d9837e29130d1e3"
            ]
        ]
    },
    {
        "id": "7f3e2b96adc7b9f6",
        "type": "server-state-changed",
        "z": "e833a3b26c88a678",
        "name": "frontdoor state",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "binary_sensor.frontdoor"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": true,
        "stateType": "str",
        "ifState": "on",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 90,
        "y": 180,
        "wires": [
            [
                "b777b741a59eeb0c"
            ],
            [
                "2c4d5864f0f3c421"
            ]
        ]
    },
    {
        "id": "3d5d1fd20eac4a14",
        "type": "comment",
        "z": "e833a3b26c88a678",
        "name": "trigger when the frontdoor getting opened or closed",
        "info": "",
        "x": 210,
        "y": 20,
        "wires": []
    },
    {
        "id": "b777b741a59eeb0c",
        "type": "link out",
        "z": "e833a3b26c88a678",
        "name": "on",
        "mode": "link",
        "links": [],
        "x": 195,
        "y": 160,
        "wires": []
    },
    {
        "id": "7bddc01eb2b2dc71",
        "type": "catch",
        "z": "e833a3b26c88a678",
        "g": "05013c7bba87d57d",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "ed6dfe3308c87257"
            ]
        ]
    },
    {
        "id": "ed6dfe3308c87257",
        "type": "template",
        "z": "e833a3b26c88a678",
        "g": "05013c7bba87d57d",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "4debad7bb0f92461"
            ]
        ]
    },
    {
        "id": "1d6ce03328f9690f",
        "type": "link out",
        "z": "e833a3b26c88a678",
        "g": "05013c7bba87d57d",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 675,
        "y": 80,
        "wires": []
    },
    {
        "id": "4debad7bb0f92461",
        "type": "template",
        "z": "e833a3b26c88a678",
        "g": "05013c7bba87d57d",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "5f9f4a0a7acb6c75"
            ]
        ]
    },
    {
        "id": "5f9f4a0a7acb6c75",
        "type": "function",
        "z": "e833a3b26c88a678",
        "g": "05013c7bba87d57d",
        "name": "notify.notification_id",
        "func": "msg.notify.notification_id = env.get(\"NR_FLOW_ID\");\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 550,
        "y": 80,
        "wires": [
            [
                "1d6ce03328f9690f"
            ]
        ]
    },
    {
        "id": "2c4d5864f0f3c421",
        "type": "link out",
        "z": "e833a3b26c88a678",
        "name": "off",
        "mode": "link",
        "links": [],
        "x": 195,
        "y": 200,
        "wires": []
    },
    {
        "id": "63655874b548a549",
        "type": "comment",
        "z": "2c0a0237d23a4cfc",
        "name": "Trigger when the toilet door opens",
        "info": "",
        "x": 160,
        "y": 20,
        "wires": []
    },
    {
        "id": "65eb981057e33d17",
        "type": "server-state-changed",
        "z": "2c0a0237d23a4cfc",
        "name": "toilet door open",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "binary_sensor.toiletdoor"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": true,
        "stateType": "str",
        "ifState": "on",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 100,
        "y": 180,
        "wires": [
            [
                "1695184d5eee7b6e"
            ],
            [
                "38c035fa7b223e26"
            ]
        ]
    },
    {
        "id": "1695184d5eee7b6e",
        "type": "link out",
        "z": "2c0a0237d23a4cfc",
        "name": "on",
        "mode": "link",
        "links": [
            "27fe2d902f93785f"
        ],
        "x": 235,
        "y": 160,
        "wires": []
    },
    {
        "id": "38c035fa7b223e26",
        "type": "link out",
        "z": "2c0a0237d23a4cfc",
        "name": "off",
        "mode": "link",
        "links": [],
        "x": 235,
        "y": 200,
        "wires": []
    },
    {
        "id": "f2b477ef172328b0",
        "type": "catch",
        "z": "2c0a0237d23a4cfc",
        "g": "b6dfc0bf72492b1f",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "9d4af43bbe2efe93"
            ]
        ]
    },
    {
        "id": "9d4af43bbe2efe93",
        "type": "template",
        "z": "2c0a0237d23a4cfc",
        "g": "b6dfc0bf72492b1f",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "d5a7fd2f2ed5fbb5"
            ]
        ]
    },
    {
        "id": "b22594e14cb77d78",
        "type": "link out",
        "z": "2c0a0237d23a4cfc",
        "g": "b6dfc0bf72492b1f",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 675,
        "y": 80,
        "wires": []
    },
    {
        "id": "d5a7fd2f2ed5fbb5",
        "type": "template",
        "z": "2c0a0237d23a4cfc",
        "g": "b6dfc0bf72492b1f",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "ea5ccdb741a79235"
            ]
        ]
    },
    {
        "id": "ea5ccdb741a79235",
        "type": "function",
        "z": "2c0a0237d23a4cfc",
        "g": "b6dfc0bf72492b1f",
        "name": "notify.notification_id",
        "func": "msg.notify.notification_id = env.get(\"NR_FLOW_ID\");\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 550,
        "y": 80,
        "wires": [
            [
                "b22594e14cb77d78"
            ]
        ]
    },
    {
        "id": "03510cfeb8e1fc1f",
        "type": "comment",
        "z": "747e156c11e4e604",
        "name": "trigger when a door opens or closes",
        "info": "",
        "x": 160,
        "y": 20,
        "wires": []
    },
    {
        "id": "2f36bf18d2eef10a",
        "type": "server-state-changed",
        "z": "747e156c11e4e604",
        "name": "on",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "group.exterior_doors"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": false,
        "stateType": "str",
        "ifState": "on",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 70,
        "y": 180,
        "wires": [
            [
                "13f87cfee713f150"
            ],
            [
                "4498748a826c47e0"
            ]
        ]
    },
    {
        "id": "13f87cfee713f150",
        "type": "link out",
        "z": "747e156c11e4e604",
        "name": "trigger_exterior_doors_opens_or_closes",
        "mode": "link",
        "links": [
            "0f4705c752f90b8b",
            "236aff92bc909f96",
            "27fe2d902f93785f"
        ],
        "x": 185,
        "y": 160,
        "wires": []
    },
    {
        "id": "d383aa6cb59b67da",
        "type": "catch",
        "z": "747e156c11e4e604",
        "g": "d16ed82ee33cc071",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "b831c9ec12bf2052"
            ]
        ]
    },
    {
        "id": "b831c9ec12bf2052",
        "type": "template",
        "z": "747e156c11e4e604",
        "g": "d16ed82ee33cc071",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "abd4db3e82b04690"
            ]
        ]
    },
    {
        "id": "f139889b01bdf5a2",
        "type": "link out",
        "z": "747e156c11e4e604",
        "g": "d16ed82ee33cc071",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 675,
        "y": 80,
        "wires": []
    },
    {
        "id": "abd4db3e82b04690",
        "type": "template",
        "z": "747e156c11e4e604",
        "g": "d16ed82ee33cc071",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "c2189ac7fcae8364"
            ]
        ]
    },
    {
        "id": "c2189ac7fcae8364",
        "type": "function",
        "z": "747e156c11e4e604",
        "g": "d16ed82ee33cc071",
        "name": "notify.notification_id",
        "func": "msg.notify.notification_id = env.get(\"NR_FLOW_ID\");\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 550,
        "y": 80,
        "wires": [
            [
                "f139889b01bdf5a2"
            ]
        ]
    },
    {
        "id": "4498748a826c47e0",
        "type": "link out",
        "z": "747e156c11e4e604",
        "name": "off",
        "mode": "link",
        "links": [],
        "x": 185,
        "y": 200,
        "wires": []
    },
    {
        "id": "d115ddbf30d567b1",
        "type": "comment",
        "z": "7d395cb2e18af794",
        "name": "trigger when sleepmode is turned on",
        "info": "",
        "x": 160,
        "y": 20,
        "wires": []
    },
    {
        "id": "6b599d241f05669f",
        "type": "catch",
        "z": "7d395cb2e18af794",
        "g": "78af34cebfba7860",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "6932eaba0f9d0774"
            ]
        ]
    },
    {
        "id": "6932eaba0f9d0774",
        "type": "template",
        "z": "7d395cb2e18af794",
        "g": "78af34cebfba7860",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "7502b01580bc634c"
            ]
        ]
    },
    {
        "id": "a9d21ff83ec7dd05",
        "type": "link out",
        "z": "7d395cb2e18af794",
        "g": "78af34cebfba7860",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 675,
        "y": 80,
        "wires": []
    },
    {
        "id": "7502b01580bc634c",
        "type": "template",
        "z": "7d395cb2e18af794",
        "g": "78af34cebfba7860",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "785b224bdb4be1a2"
            ]
        ]
    },
    {
        "id": "785b224bdb4be1a2",
        "type": "function",
        "z": "7d395cb2e18af794",
        "g": "78af34cebfba7860",
        "name": "notify.notification_id",
        "func": "msg.notify.notification_id = env.get(\"NR_FLOW_ID\");\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 550,
        "y": 80,
        "wires": [
            [
                "a9d21ff83ec7dd05"
            ]
        ]
    },
    {
        "id": "1a4303630e77c086",
        "type": "server-state-changed",
        "z": "7d395cb2e18af794",
        "name": "sleep mode is on",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "input_boolean.sleep_mode"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": false,
        "stateType": "str",
        "ifState": "on",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": false,
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 100,
        "y": 200,
        "wires": [
            [
                "45b585ed12457e30"
            ],
            [
                "898371f3329931b5"
            ]
        ]
    },
    {
        "id": "45b585ed12457e30",
        "type": "link out",
        "z": "7d395cb2e18af794",
        "name": "on",
        "mode": "link",
        "links": [
            "27fe2d902f93785f",
            "707021d35a2513df",
            "9dbb2d10b801b67d"
        ],
        "x": 215,
        "y": 180,
        "wires": []
    },
    {
        "id": "898371f3329931b5",
        "type": "link out",
        "z": "7d395cb2e18af794",
        "name": "off",
        "mode": "link",
        "links": [],
        "x": 215,
        "y": 220,
        "wires": []
    },
    {
        "id": "38359ee3075d7265",
        "type": "switch",
        "z": "f180ab88.925788",
        "name": "click type channel 2",
        "property": "payload.event.click_type",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "single",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "double",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "triple",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "long",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "single_long",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "long_single",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 6,
        "x": 590,
        "y": 500,
        "wires": [
            [
                "c7889bf53b45acd0"
            ],
            [
                "b683652c36e89d93"
            ],
            [
                "12623d2f9eb2f4d2"
            ],
            [
                "0a529779203ff3d6"
            ],
            [
                "257a3fc6c1e0caff"
            ],
            [
                "434c2e9a25561bbe"
            ]
        ]
    },
    {
        "id": "114df27610bf61b8",
        "type": "switch",
        "z": "f180ab88.925788",
        "name": "click type channel 1",
        "property": "payload.event.click_type",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "single",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "double",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "triple",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "long",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "single_long",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "long_single",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 6,
        "x": 590,
        "y": 260,
        "wires": [
            [
                "b55a1b1c2ee46b70"
            ],
            [
                "2d71a81ca51a22dc"
            ],
            [
                "80f341496b680f21"
            ],
            [
                "02001e33ab1a7769"
            ],
            [
                "92a5fdf9411f1451"
            ],
            [
                "db0951fa1bf62652"
            ]
        ]
    },
    {
        "id": "61e7530204f85e25",
        "type": "comment",
        "z": "f180ab88.925788",
        "name": "shelly i3 actions channel 1 is the right button channel 2 is the left button",
        "info": "[shellyi3.lan.stamx.nl](http://shellyi3.lan.stamx.nl)",
        "x": 270,
        "y": 20,
        "wires": []
    },
    {
        "id": "5de4c93f0f01b4d6",
        "type": "switch",
        "z": "f180ab88.925788",
        "name": "channel 1 or 2",
        "property": "payload.event.channel",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "2",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 380,
        "y": 380,
        "wires": [
            [
                "114df27610bf61b8"
            ],
            [
                "38359ee3075d7265"
            ]
        ]
    },
    {
        "id": "0260edcb14ed697c",
        "type": "server-events",
        "z": "f180ab88.925788",
        "name": "shellyi3 livingroom click events",
        "server": "4ba92433.2478cc",
        "version": 3,
        "exposeAsEntityConfig": "",
        "eventType": "shelly.click",
        "eventData": "{\"device\":\"shellyix3-68C63AFAA400\"}",
        "waitForRunning": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "$outputData(\"eventData\").event_type",
                "valueType": "jsonata"
            }
        ],
        "event_type": "",
        "x": 150,
        "y": 380,
        "wires": [
            [
                "5de4c93f0f01b4d6"
            ]
        ]
    },
    {
        "id": "2d71a81ca51a22dc",
        "type": "link out",
        "z": "f180ab88.925788",
        "name": "channel 1 double",
        "mode": "link",
        "links": [
            "d4b14165869e4146"
        ],
        "x": 795,
        "y": 200,
        "wires": []
    },
    {
        "id": "e9849ecfa4b1b223",
        "type": "catch",
        "z": "f180ab88.925788",
        "g": "856a03ca8c40be53",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "2e192ca65c40fdf2"
            ]
        ]
    },
    {
        "id": "2e192ca65c40fdf2",
        "type": "template",
        "z": "f180ab88.925788",
        "g": "856a03ca8c40be53",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "bb1efc45e87c3009"
            ]
        ]
    },
    {
        "id": "5c48f5a474f36d1d",
        "type": "link out",
        "z": "f180ab88.925788",
        "g": "856a03ca8c40be53",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 675,
        "y": 80,
        "wires": []
    },
    {
        "id": "bb1efc45e87c3009",
        "type": "template",
        "z": "f180ab88.925788",
        "g": "856a03ca8c40be53",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "e0085e0c4d73cf18"
            ]
        ]
    },
    {
        "id": "e0085e0c4d73cf18",
        "type": "function",
        "z": "f180ab88.925788",
        "g": "856a03ca8c40be53",
        "name": "notify.notification_id",
        "func": "msg.notify.notification_id = env.get(\"NR_FLOW_ID\");\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 550,
        "y": 80,
        "wires": [
            [
                "5c48f5a474f36d1d"
            ]
        ]
    },
    {
        "id": "b55a1b1c2ee46b70",
        "type": "link out",
        "z": "f180ab88.925788",
        "name": "channel 1 single",
        "mode": "link",
        "links": [
            "24f07e9dc4f73d1e"
        ],
        "x": 795,
        "y": 160,
        "wires": []
    },
    {
        "id": "80f341496b680f21",
        "type": "link out",
        "z": "f180ab88.925788",
        "name": "channel 1 triple",
        "mode": "link",
        "links": [
            "b37563cd651c8bfa"
        ],
        "x": 795,
        "y": 240,
        "wires": []
    },
    {
        "id": "02001e33ab1a7769",
        "type": "link out",
        "z": "f180ab88.925788",
        "name": "channel 1 long",
        "mode": "link",
        "links": [],
        "x": 795,
        "y": 280,
        "wires": []
    },
    {
        "id": "92a5fdf9411f1451",
        "type": "link out",
        "z": "f180ab88.925788",
        "name": "channel 1 single + long",
        "mode": "link",
        "links": [],
        "x": 795,
        "y": 320,
        "wires": []
    },
    {
        "id": "db0951fa1bf62652",
        "type": "link out",
        "z": "f180ab88.925788",
        "name": "channel 1 long + single",
        "mode": "link",
        "links": [],
        "x": 795,
        "y": 360,
        "wires": []
    },
    {
        "id": "b683652c36e89d93",
        "type": "link out",
        "z": "f180ab88.925788",
        "name": "channel 2 double",
        "mode": "link",
        "links": [
            "798ee087ef13ebd8"
        ],
        "x": 795,
        "y": 440,
        "wires": []
    },
    {
        "id": "c7889bf53b45acd0",
        "type": "link out",
        "z": "f180ab88.925788",
        "name": "channel 2 single",
        "mode": "link",
        "links": [
            "f27f06b74e5f3830"
        ],
        "x": 795,
        "y": 400,
        "wires": []
    },
    {
        "id": "12623d2f9eb2f4d2",
        "type": "link out",
        "z": "f180ab88.925788",
        "name": "channel 2 triple",
        "mode": "link",
        "links": [
            "51f8fd5354fac718"
        ],
        "x": 795,
        "y": 480,
        "wires": []
    },
    {
        "id": "0a529779203ff3d6",
        "type": "link out",
        "z": "f180ab88.925788",
        "name": "channel 2 long",
        "mode": "link",
        "links": [],
        "x": 795,
        "y": 520,
        "wires": []
    },
    {
        "id": "257a3fc6c1e0caff",
        "type": "link out",
        "z": "f180ab88.925788",
        "name": "channel 2 single + long",
        "mode": "link",
        "links": [
            "2352748556d6fb89"
        ],
        "x": 795,
        "y": 560,
        "wires": []
    },
    {
        "id": "434c2e9a25561bbe",
        "type": "link out",
        "z": "f180ab88.925788",
        "name": "channel 2 long + single",
        "mode": "link",
        "links": [],
        "x": 795,
        "y": 600,
        "wires": []
    },
    {
        "id": "de83998fee8c6179",
        "type": "server-events",
        "z": "24d64ac8238cc218",
        "name": "listen to shelly click events",
        "server": "4ba92433.2478cc",
        "version": 3,
        "exposeAsEntityConfig": "",
        "eventType": "shelly.click",
        "eventData": "",
        "waitForRunning": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "$outputData(\"eventData\").event_type",
                "valueType": "jsonata"
            }
        ],
        "event_type": "",
        "x": 130,
        "y": 160,
        "wires": [
            [
                "4923944268d57366"
            ]
        ]
    },
    {
        "id": "54a5f6b99a8b454f",
        "type": "comment",
        "z": "24d64ac8238cc218",
        "name": "trigger when a shelly click event is detected",
        "info": "",
        "x": 180,
        "y": 20,
        "wires": []
    },
    {
        "id": "4923944268d57366",
        "type": "link out",
        "z": "24d64ac8238cc218",
        "name": "trigger_shelly_click_events",
        "mode": "link",
        "links": [
            "15ae1a06ef742220"
        ],
        "x": 275,
        "y": 160,
        "wires": []
    },
    {
        "id": "e0f701897e269878",
        "type": "catch",
        "z": "24d64ac8238cc218",
        "g": "fdd26443cde39b78",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "200b415486f93771"
            ]
        ]
    },
    {
        "id": "200b415486f93771",
        "type": "template",
        "z": "24d64ac8238cc218",
        "g": "fdd26443cde39b78",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "68fb8d532cb4aee3"
            ]
        ]
    },
    {
        "id": "4cf32f7adb47eff0",
        "type": "link out",
        "z": "24d64ac8238cc218",
        "g": "fdd26443cde39b78",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 675,
        "y": 80,
        "wires": []
    },
    {
        "id": "68fb8d532cb4aee3",
        "type": "template",
        "z": "24d64ac8238cc218",
        "g": "fdd26443cde39b78",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "c44eacff028f5aba"
            ]
        ]
    },
    {
        "id": "c44eacff028f5aba",
        "type": "function",
        "z": "24d64ac8238cc218",
        "g": "fdd26443cde39b78",
        "name": "notify.notification_id",
        "func": "msg.notify.notification_id = env.get(\"NR_FLOW_ID\");\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 550,
        "y": 80,
        "wires": [
            [
                "4cf32f7adb47eff0"
            ]
        ]
    },
    {
        "id": "55630dad7aa4b97a",
        "type": "server-events",
        "z": "e44f5d834fa24670",
        "name": "mobile event listner guest mode on",
        "server": "4ba92433.2478cc",
        "version": 3,
        "exposeAsEntityConfig": "",
        "eventType": "mobile_app_notification_action",
        "eventData": "{\"action\":\"GUEST_MODE_ON\"}",
        "waitForRunning": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "$outputData(\"eventData\").event_type",
                "valueType": "jsonata"
            }
        ],
        "event_type": "",
        "x": 160,
        "y": 160,
        "wires": [
            [
                "f3bf4b7d7123292b"
            ]
        ]
    },
    {
        "id": "f3bf4b7d7123292b",
        "type": "link out",
        "z": "e44f5d834fa24670",
        "name": "link out 2",
        "mode": "link",
        "links": [
            "0adb679d772d8e29"
        ],
        "x": 335,
        "y": 160,
        "wires": []
    },
    {
        "id": "37b90611378a715c",
        "type": "comment",
        "z": "e44f5d834fa24670",
        "name": "trigger when mobile event listner has data {\"action\":\"GUEST_MODE_ON\"}",
        "info": "",
        "x": 280,
        "y": 20,
        "wires": []
    },
    {
        "id": "5d74377194336786",
        "type": "catch",
        "z": "e44f5d834fa24670",
        "g": "5ea1109d92a3532a",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "74f02e0422cfcfd4"
            ]
        ]
    },
    {
        "id": "74f02e0422cfcfd4",
        "type": "template",
        "z": "e44f5d834fa24670",
        "g": "5ea1109d92a3532a",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "5871553313960848"
            ]
        ]
    },
    {
        "id": "fc1469a9f0ef1aee",
        "type": "link out",
        "z": "e44f5d834fa24670",
        "g": "5ea1109d92a3532a",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 675,
        "y": 80,
        "wires": []
    },
    {
        "id": "5871553313960848",
        "type": "template",
        "z": "e44f5d834fa24670",
        "g": "5ea1109d92a3532a",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "8718042f6e666b71"
            ]
        ]
    },
    {
        "id": "8718042f6e666b71",
        "type": "function",
        "z": "e44f5d834fa24670",
        "g": "5ea1109d92a3532a",
        "name": "notify.notification_id",
        "func": "msg.notify.notification_id = env.get(\"NR_FLOW_ID\");\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 550,
        "y": 80,
        "wires": [
            [
                "fc1469a9f0ef1aee"
            ]
        ]
    },
    {
        "id": "aac94681187185d0",
        "type": "server-state-changed",
        "z": "741e20498a115a13",
        "name": "motion backyard camera is on",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "binary_sensor.backyard_motion"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": false,
        "stateType": "str",
        "ifState": "on",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 140,
        "y": 160,
        "wires": [
            [
                "7d49a4dcf33e6531"
            ],
            []
        ]
    },
    {
        "id": "adee8677ca1a69fb",
        "type": "comment",
        "z": "741e20498a115a13",
        "name": "trigger when motion on the backyard camera is detected",
        "info": "",
        "x": 220,
        "y": 20,
        "wires": []
    },
    {
        "id": "7d49a4dcf33e6531",
        "type": "link out",
        "z": "741e20498a115a13",
        "name": "trigger_binary_sensor_on_backyard_camera_motion_detection",
        "mode": "link",
        "links": [
            "27fe2d902f93785f"
        ],
        "x": 295,
        "y": 160,
        "wires": []
    },
    {
        "id": "648ec3945c934e88",
        "type": "catch",
        "z": "741e20498a115a13",
        "g": "45db1c86fb9c6351",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "938c934f5c0df05a"
            ]
        ]
    },
    {
        "id": "938c934f5c0df05a",
        "type": "template",
        "z": "741e20498a115a13",
        "g": "45db1c86fb9c6351",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "4aa8325c53455f15"
            ]
        ]
    },
    {
        "id": "7be6ddefd2c50f1d",
        "type": "link out",
        "z": "741e20498a115a13",
        "g": "45db1c86fb9c6351",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 675,
        "y": 80,
        "wires": []
    },
    {
        "id": "4aa8325c53455f15",
        "type": "template",
        "z": "741e20498a115a13",
        "g": "45db1c86fb9c6351",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "d6115662eab6e655"
            ]
        ]
    },
    {
        "id": "d6115662eab6e655",
        "type": "function",
        "z": "741e20498a115a13",
        "g": "45db1c86fb9c6351",
        "name": "notify.notification_id",
        "func": "msg.notify.notification_id = env.get(\"NR_FLOW_ID\");\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 550,
        "y": 80,
        "wires": [
            [
                "7be6ddefd2c50f1d"
            ]
        ]
    },
    {
        "id": "3c875dfa512fa362",
        "type": "server-state-changed",
        "z": "15d9dd454d41196a",
        "name": "motion backyard camera is off",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "binary_sensor.backyard_motion"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": false,
        "stateType": "str",
        "ifState": "off",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 140,
        "y": 160,
        "wires": [
            [
                "ca2f8a76d5122943"
            ],
            []
        ]
    },
    {
        "id": "f67d9c9203df2484",
        "type": "comment",
        "z": "15d9dd454d41196a",
        "name": "trigger when backyard camera motion detection is off",
        "info": "",
        "x": 210,
        "y": 20,
        "wires": []
    },
    {
        "id": "ca2f8a76d5122943",
        "type": "link out",
        "z": "15d9dd454d41196a",
        "name": "trigger_binary_sensor_off_backyard_camera_motion_detection",
        "mode": "link",
        "links": [
            "27fe2d902f93785f"
        ],
        "x": 295,
        "y": 160,
        "wires": []
    },
    {
        "id": "19e4e3fe0ac8f16a",
        "type": "catch",
        "z": "15d9dd454d41196a",
        "g": "ccaef991e75b355a",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "7710fba67638c910"
            ]
        ]
    },
    {
        "id": "7710fba67638c910",
        "type": "template",
        "z": "15d9dd454d41196a",
        "g": "ccaef991e75b355a",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "3b8b3f582bfbfca4"
            ]
        ]
    },
    {
        "id": "f8a107142b870a71",
        "type": "link out",
        "z": "15d9dd454d41196a",
        "g": "ccaef991e75b355a",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 675,
        "y": 80,
        "wires": []
    },
    {
        "id": "3b8b3f582bfbfca4",
        "type": "template",
        "z": "15d9dd454d41196a",
        "g": "ccaef991e75b355a",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "511a6f82f3f4e141"
            ]
        ]
    },
    {
        "id": "511a6f82f3f4e141",
        "type": "function",
        "z": "15d9dd454d41196a",
        "g": "ccaef991e75b355a",
        "name": "notify.notification_id",
        "func": "msg.notify.notification_id = env.get(\"NR_FLOW_ID\");\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 550,
        "y": 80,
        "wires": [
            [
                "f8a107142b870a71"
            ]
        ]
    },
    {
        "id": "719dd5a9ede2d948",
        "type": "comment",
        "z": "cdd584db6ae40aa4",
        "name": "trigger when motion in the backyard is detected",
        "info": "",
        "x": 200,
        "y": 20,
        "wires": []
    },
    {
        "id": "b8e3f2eef759d8e7",
        "type": "link out",
        "z": "cdd584db6ae40aa4",
        "name": "trigger_binary_sensor_on_backyard_motion_detection",
        "mode": "link",
        "links": [
            "27fe2d902f93785f",
            "54fb650bc5875c9c"
        ],
        "x": 255,
        "y": 160,
        "wires": []
    },
    {
        "id": "493859cbdce91a0f",
        "type": "catch",
        "z": "cdd584db6ae40aa4",
        "g": "3de36a4b9cef2100",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "ef084a732929883c"
            ]
        ]
    },
    {
        "id": "ef084a732929883c",
        "type": "template",
        "z": "cdd584db6ae40aa4",
        "g": "3de36a4b9cef2100",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "d79871d0e99a286d"
            ]
        ]
    },
    {
        "id": "8d97537e168f6959",
        "type": "link out",
        "z": "cdd584db6ae40aa4",
        "g": "3de36a4b9cef2100",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 675,
        "y": 80,
        "wires": []
    },
    {
        "id": "d79871d0e99a286d",
        "type": "template",
        "z": "cdd584db6ae40aa4",
        "g": "3de36a4b9cef2100",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "df41e46ae6382312"
            ]
        ]
    },
    {
        "id": "df41e46ae6382312",
        "type": "function",
        "z": "cdd584db6ae40aa4",
        "g": "3de36a4b9cef2100",
        "name": "notify.notification_id",
        "func": "msg.notify.notification_id = env.get(\"NR_FLOW_ID\");\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 550,
        "y": 80,
        "wires": [
            [
                "8d97537e168f6959"
            ]
        ]
    },
    {
        "id": "b0ba38a001d4e83f",
        "type": "server-state-changed",
        "z": "cdd584db6ae40aa4",
        "name": "motion backyard is on",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "binary_sensor.backyard_motion_sensor_01_motion"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": false,
        "stateType": "str",
        "ifState": "on",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 120,
        "y": 160,
        "wires": [
            [
                "b8e3f2eef759d8e7"
            ],
            []
        ]
    },
    {
        "id": "94bd401cac7362cd",
        "type": "comment",
        "z": "a35bbaebece87ae0",
        "name": "trigger when no more motion in the backyard is detected",
        "info": "",
        "x": 220,
        "y": 20,
        "wires": []
    },
    {
        "id": "942f634de2659469",
        "type": "server-state-changed",
        "z": "a35bbaebece87ae0",
        "name": "motion backyard is off",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "binary_sensor.backyard_motion_sensor_01_motion"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": true,
        "stateType": "str",
        "ifState": "off",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 120,
        "y": 160,
        "wires": [
            [
                "bbdf915f13a37607"
            ],
            []
        ]
    },
    {
        "id": "53e23f4e704721c4",
        "type": "catch",
        "z": "a35bbaebece87ae0",
        "g": "f40cb6ad9ae25c00",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "47593d02c4418ea6"
            ]
        ]
    },
    {
        "id": "47593d02c4418ea6",
        "type": "template",
        "z": "a35bbaebece87ae0",
        "g": "f40cb6ad9ae25c00",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "fc8a8ef6ccc4eb91"
            ]
        ]
    },
    {
        "id": "ae18a50ca56dd8c9",
        "type": "link out",
        "z": "a35bbaebece87ae0",
        "g": "f40cb6ad9ae25c00",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 675,
        "y": 80,
        "wires": []
    },
    {
        "id": "fc8a8ef6ccc4eb91",
        "type": "template",
        "z": "a35bbaebece87ae0",
        "g": "f40cb6ad9ae25c00",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "08c7cfd509a7b06e"
            ]
        ]
    },
    {
        "id": "08c7cfd509a7b06e",
        "type": "function",
        "z": "a35bbaebece87ae0",
        "g": "f40cb6ad9ae25c00",
        "name": "notify.notification_id",
        "func": "msg.notify.notification_id = env.get(\"NR_FLOW_ID\");\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 550,
        "y": 80,
        "wires": [
            [
                "ae18a50ca56dd8c9"
            ]
        ]
    },
    {
        "id": "bbdf915f13a37607",
        "type": "link out",
        "z": "a35bbaebece87ae0",
        "name": "trigger_binary_sensor_off_backyard_motion_detection",
        "mode": "link",
        "links": [
            "cec8b547afe26ad7"
        ],
        "x": 255,
        "y": 160,
        "wires": []
    },
    {
        "id": "c9ed705836af47bb",
        "type": "comment",
        "z": "7a63032b7cac43cf",
        "name": "trigger when the doorbell button is pressed",
        "info": "",
        "x": 180,
        "y": 20,
        "wires": []
    },
    {
        "id": "174604fe3f8a8bcd",
        "type": "server-state-changed",
        "z": "7a63032b7cac43cf",
        "name": "state doorbell button on",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "binary_sensor.smart_doorbell_button"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": false,
        "stateType": "str",
        "ifState": "on",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 120,
        "y": 160,
        "wires": [
            [
                "3bafb9626527259f"
            ],
            []
        ]
    },
    {
        "id": "3bafb9626527259f",
        "type": "link out",
        "z": "7a63032b7cac43cf",
        "name": "trigger_doorbell_pressed",
        "mode": "link",
        "links": [
            "29ef6b63d1ee8e04",
            "9505c871fbc9e9b8"
        ],
        "x": 255,
        "y": 160,
        "wires": []
    },
    {
        "id": "33cbbdb2b95eddfa",
        "type": "catch",
        "z": "7a63032b7cac43cf",
        "g": "fa7a3c1eb5189817",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "c5d79851d7e650a9"
            ]
        ]
    },
    {
        "id": "c5d79851d7e650a9",
        "type": "template",
        "z": "7a63032b7cac43cf",
        "g": "fa7a3c1eb5189817",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "ccc101824609d6c2"
            ]
        ]
    },
    {
        "id": "6492496b6c244a0a",
        "type": "link out",
        "z": "7a63032b7cac43cf",
        "g": "fa7a3c1eb5189817",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 675,
        "y": 80,
        "wires": []
    },
    {
        "id": "ccc101824609d6c2",
        "type": "template",
        "z": "7a63032b7cac43cf",
        "g": "fa7a3c1eb5189817",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "efbb887319190cfa"
            ]
        ]
    },
    {
        "id": "efbb887319190cfa",
        "type": "function",
        "z": "7a63032b7cac43cf",
        "g": "fa7a3c1eb5189817",
        "name": "notify.notification_id",
        "func": "msg.notify.notification_id = env.get(\"NR_FLOW_ID\");\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 550,
        "y": 80,
        "wires": [
            [
                "6492496b6c244a0a"
            ]
        ]
    },
    {
        "id": "c839a731325b5f56",
        "type": "server-state-changed",
        "z": "960ed9c324a9682d",
        "name": "state persons home",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "group.persons"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": false,
        "stateType": "str",
        "ifState": "not_home",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 110,
        "y": 160,
        "wires": [
            [
                "0a18bbcbd9c3cd6e"
            ],
            []
        ]
    },
    {
        "id": "2ce4492a38d5131f",
        "type": "comment",
        "z": "960ed9c324a9682d",
        "name": "trigger when last person have left home or guest mode turned off",
        "info": "",
        "x": 250,
        "y": 20,
        "wires": []
    },
    {
        "id": "13611d939983a048",
        "type": "server-state-changed",
        "z": "960ed9c324a9682d",
        "name": "state guest",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "input_boolean.guest"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": false,
        "stateType": "str",
        "ifState": "off",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 80,
        "y": 220,
        "wires": [
            [
                "8457dd663492ca8d"
            ],
            []
        ]
    },
    {
        "id": "dad8fc7416653229",
        "type": "link out",
        "z": "960ed9c324a9682d",
        "name": "trigger_home_unoccupied",
        "mode": "link",
        "links": [
            "d12914930d09e92c",
            "707021d35a2513df"
        ],
        "x": 495,
        "y": 160,
        "wires": []
    },
    {
        "id": "0a18bbcbd9c3cd6e",
        "type": "api-current-state",
        "z": "960ed9c324a9682d",
        "name": "guest is off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.guest",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 330,
        "y": 160,
        "wires": [
            [
                "dad8fc7416653229"
            ],
            []
        ]
    },
    {
        "id": "8457dd663492ca8d",
        "type": "api-current-state",
        "z": "960ed9c324a9682d",
        "name": "persons is not home",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "not_home",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "group.persons",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 360,
        "y": 220,
        "wires": [
            [
                "dad8fc7416653229"
            ],
            []
        ]
    },
    {
        "id": "07f9079090a2fa11",
        "type": "server-state-changed",
        "z": "960ed9c324a9682d",
        "name": "vacation mode",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 1,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "input_boolean.vacation_mode"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": false,
        "stateType": "str",
        "ifState": "",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 100,
        "y": 280,
        "wires": [
            [
                "0a18bbcbd9c3cd6e",
                "8457dd663492ca8d"
            ]
        ]
    },
    {
        "id": "91f378b835c7acc2",
        "type": "catch",
        "z": "960ed9c324a9682d",
        "g": "96a30a514c2022b6",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "e3319fdb7c350111"
            ]
        ]
    },
    {
        "id": "e3319fdb7c350111",
        "type": "template",
        "z": "960ed9c324a9682d",
        "g": "96a30a514c2022b6",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "125aa9d047c9a9e3"
            ]
        ]
    },
    {
        "id": "817c712943a09895",
        "type": "link out",
        "z": "960ed9c324a9682d",
        "g": "96a30a514c2022b6",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 675,
        "y": 80,
        "wires": []
    },
    {
        "id": "125aa9d047c9a9e3",
        "type": "template",
        "z": "960ed9c324a9682d",
        "g": "96a30a514c2022b6",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "347815bfb9dbf880"
            ]
        ]
    },
    {
        "id": "347815bfb9dbf880",
        "type": "function",
        "z": "960ed9c324a9682d",
        "g": "96a30a514c2022b6",
        "name": "notify.notification_id",
        "func": "msg.notify.notification_id = env.get(\"NR_FLOW_ID\");\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 550,
        "y": 80,
        "wires": [
            [
                "817c712943a09895"
            ]
        ]
    },
    {
        "id": "4aae8060dce8db6a",
        "type": "server-state-changed",
        "z": "12beaeea5e53e349",
        "name": "state persons home",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "group.persons"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": false,
        "stateType": "str",
        "ifState": "home",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 110,
        "y": 160,
        "wires": [
            [
                "94c68f1379b292d5"
            ],
            []
        ]
    },
    {
        "id": "2e95145b213aff97",
        "type": "comment",
        "z": "12beaeea5e53e349",
        "name": "trigger when a person or persons are home or guest mode",
        "info": "",
        "x": 230,
        "y": 20,
        "wires": []
    },
    {
        "id": "e0e3382abbd19287",
        "type": "server-state-changed",
        "z": "12beaeea5e53e349",
        "name": "state guest",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "input_boolean.guest"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": false,
        "stateType": "str",
        "ifState": "on",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 80,
        "y": 220,
        "wires": [
            [
                "a11307d1398c1a55"
            ],
            []
        ]
    },
    {
        "id": "8b1bdde5406f507b",
        "type": "link out",
        "z": "12beaeea5e53e349",
        "name": "trigger_home_occupied",
        "mode": "link",
        "links": [
            "27fe2d902f93785f",
            "a48b07bbb39ac14e"
        ],
        "x": 635,
        "y": 220,
        "wires": []
    },
    {
        "id": "2ac49fdc8e2a24c8",
        "type": "server-state-changed",
        "z": "12beaeea5e53e349",
        "name": "vacation mode",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 1,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "input_boolean.vacation_mode"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": false,
        "stateType": "str",
        "ifState": "",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 100,
        "y": 300,
        "wires": [
            [
                "13c4015f5c406ece",
                "edc3bf6451d1af22"
            ]
        ]
    },
    {
        "id": "edc3bf6451d1af22",
        "type": "api-current-state",
        "z": "12beaeea5e53e349",
        "name": "persons is home",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "home",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "group.persons",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 320,
        "y": 320,
        "wires": [
            [
                "aee73f4c0da532d7"
            ],
            []
        ]
    },
    {
        "id": "13c4015f5c406ece",
        "type": "api-current-state",
        "z": "12beaeea5e53e349",
        "name": "guest is on",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.guest",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 310,
        "y": 260,
        "wires": [
            [
                "059358a41bed04b5"
            ],
            []
        ]
    },
    {
        "id": "3465dfd111e3db73",
        "type": "catch",
        "z": "12beaeea5e53e349",
        "g": "92c3caaed7efbdcb",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "0723b391675d23af"
            ]
        ]
    },
    {
        "id": "0723b391675d23af",
        "type": "template",
        "z": "12beaeea5e53e349",
        "g": "92c3caaed7efbdcb",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "60d68140038b2ecd"
            ]
        ]
    },
    {
        "id": "cebdada8cc9dfca0",
        "type": "link out",
        "z": "12beaeea5e53e349",
        "g": "92c3caaed7efbdcb",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 675,
        "y": 80,
        "wires": []
    },
    {
        "id": "60d68140038b2ecd",
        "type": "template",
        "z": "12beaeea5e53e349",
        "g": "92c3caaed7efbdcb",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "54820cdfee33ced1"
            ]
        ]
    },
    {
        "id": "54820cdfee33ced1",
        "type": "function",
        "z": "12beaeea5e53e349",
        "g": "92c3caaed7efbdcb",
        "name": "notify.notification_id",
        "func": "msg.notify.notification_id = env.get(\"NR_FLOW_ID\");\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 550,
        "y": 80,
        "wires": [
            [
                "cebdada8cc9dfca0"
            ]
        ]
    },
    {
        "id": "1e22588bbe63c367",
        "type": "comment",
        "z": "d9b05fe971d5c1b1",
        "name": "trigger when an event is found in babysitter calendar",
        "info": "",
        "x": 210,
        "y": 20,
        "wires": []
    },
    {
        "id": "d2c560378b1b926b",
        "type": "server-state-changed",
        "z": "d9b05fe971d5c1b1",
        "name": "babysitter calendar event ",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "calendar.lise_babysitter"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": true,
        "stateType": "str",
        "ifState": "on",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 130,
        "y": 160,
        "wires": [
            [
                "e787939d2bae52df"
            ],
            []
        ]
    },
    {
        "id": "daacb8ae6b24ed5b",
        "type": "server-state-changed",
        "z": "d9b05fe971d5c1b1",
        "name": "babysitter calendar event ",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "calendar.beau_babysitter"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": true,
        "stateType": "str",
        "ifState": "on",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 130,
        "y": 220,
        "wires": [
            [
                "e787939d2bae52df"
            ],
            []
        ]
    },
    {
        "id": "e787939d2bae52df",
        "type": "link out",
        "z": "d9b05fe971d5c1b1",
        "name": "trigger_calendar_babysitter",
        "mode": "link",
        "links": [
            "0adb679d772d8e29"
        ],
        "x": 295,
        "y": 160,
        "wires": []
    },
    {
        "id": "85f675ee7a30451c",
        "type": "catch",
        "z": "d9b05fe971d5c1b1",
        "g": "fe14b17143d5f305",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "3551969ed0c1e37a"
            ]
        ]
    },
    {
        "id": "3551969ed0c1e37a",
        "type": "template",
        "z": "d9b05fe971d5c1b1",
        "g": "fe14b17143d5f305",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "6149bb5f8eb1e0d7"
            ]
        ]
    },
    {
        "id": "337ef9e6426bf90b",
        "type": "link out",
        "z": "d9b05fe971d5c1b1",
        "g": "fe14b17143d5f305",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 675,
        "y": 80,
        "wires": []
    },
    {
        "id": "6149bb5f8eb1e0d7",
        "type": "template",
        "z": "d9b05fe971d5c1b1",
        "g": "fe14b17143d5f305",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "418ebf3d342bb9b0"
            ]
        ]
    },
    {
        "id": "418ebf3d342bb9b0",
        "type": "function",
        "z": "d9b05fe971d5c1b1",
        "g": "fe14b17143d5f305",
        "name": "notify.notification_id",
        "func": "msg.notify.notification_id = env.get(\"NR_FLOW_ID\");\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 550,
        "y": 80,
        "wires": [
            [
                "337ef9e6426bf90b"
            ]
        ]
    },
    {
        "id": "9b81c86e034b8b9b",
        "type": "comment",
        "z": "e846a5a705a12fe6",
        "name": "trigger when the backyard camera detects a person",
        "info": "",
        "x": 210,
        "y": 20,
        "wires": []
    },
    {
        "id": "5f14e4bebca3d9f2",
        "type": "mqtt in",
        "z": "e846a5a705a12fe6",
        "name": "",
        "topic": "frigate/events",
        "qos": "2",
        "datatype": "auto-detect",
        "broker": "36dee637778341ba",
        "nl": false,
        "rap": true,
        "rh": 0,
        "inputs": 0,
        "x": 90,
        "y": 160,
        "wires": [
            [
                "941f22c8bd2b41ff",
                "3d6e7af397ddd611"
            ]
        ]
    },
    {
        "id": "941f22c8bd2b41ff",
        "type": "switch",
        "z": "e846a5a705a12fe6",
        "name": "backyard",
        "property": "payload.after.camera",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "backyard",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 240,
        "y": 160,
        "wires": [
            [
                "6abf9d5f9b0bf10d"
            ]
        ]
    },
    {
        "id": "6abf9d5f9b0bf10d",
        "type": "switch",
        "z": "e846a5a705a12fe6",
        "name": "person",
        "property": "payload.after.label",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "person",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 370,
        "y": 160,
        "wires": [
            [
                "56356fe965332f8d"
            ]
        ]
    },
    {
        "id": "56356fe965332f8d",
        "type": "link out",
        "z": "e846a5a705a12fe6",
        "name": "backyard",
        "mode": "link",
        "links": [
            "4bcb30df9a681943",
            "9767891df003f1fd"
        ],
        "x": 455,
        "y": 160,
        "wires": []
    },
    {
        "id": "c0724e7244d5fbd2",
        "type": "catch",
        "z": "e846a5a705a12fe6",
        "g": "4ce87500d3890f8a",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "881ffeb75a261839"
            ]
        ]
    },
    {
        "id": "881ffeb75a261839",
        "type": "template",
        "z": "e846a5a705a12fe6",
        "g": "4ce87500d3890f8a",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "20d5b4937d6b4583"
            ]
        ]
    },
    {
        "id": "051599aa11f46bbb",
        "type": "link out",
        "z": "e846a5a705a12fe6",
        "g": "4ce87500d3890f8a",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 675,
        "y": 80,
        "wires": []
    },
    {
        "id": "20d5b4937d6b4583",
        "type": "template",
        "z": "e846a5a705a12fe6",
        "g": "4ce87500d3890f8a",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "60df7e7759296e48"
            ]
        ]
    },
    {
        "id": "60df7e7759296e48",
        "type": "function",
        "z": "e846a5a705a12fe6",
        "g": "4ce87500d3890f8a",
        "name": "notify.notification_id",
        "func": "msg.notify.notification_id = env.get(\"NR_FLOW_ID\");\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 550,
        "y": 80,
        "wires": [
            [
                "051599aa11f46bbb"
            ]
        ]
    },
    {
        "id": "3d6e7af397ddd611",
        "type": "switch",
        "z": "e846a5a705a12fe6",
        "name": "baby",
        "property": "payload.after.camera",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "baby",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 230,
        "y": 220,
        "wires": [
            [
                "2ef9866dabfae05b"
            ]
        ]
    },
    {
        "id": "2ef9866dabfae05b",
        "type": "switch",
        "z": "e846a5a705a12fe6",
        "name": "person",
        "property": "payload.after.label",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "person",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 370,
        "y": 220,
        "wires": [
            [
                "d43d88240c721b6f"
            ]
        ]
    },
    {
        "id": "d43d88240c721b6f",
        "type": "link out",
        "z": "e846a5a705a12fe6",
        "name": "baby",
        "mode": "link",
        "links": [
            "3edf4e7a417d9810"
        ],
        "x": 455,
        "y": 220,
        "wires": []
    },
    {
        "id": "cd802d99b317e8c3",
        "type": "template",
        "z": "a7a34028d045deee",
        "g": "b7026e569408bfbd",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "6c4b4ca33c32a0f7"
            ]
        ]
    },
    {
        "id": "6c4b4ca33c32a0f7",
        "type": "link out",
        "z": "a7a34028d045deee",
        "g": "b7026e569408bfbd",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 475,
        "y": 80,
        "wires": []
    },
    {
        "id": "3749b4ab1a0ba7cf",
        "type": "template",
        "z": "a7a34028d045deee",
        "g": "b7026e569408bfbd",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "cd802d99b317e8c3"
            ]
        ]
    },
    {
        "id": "bed74da982aa647e",
        "type": "catch",
        "z": "a7a34028d045deee",
        "g": "b7026e569408bfbd",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "3749b4ab1a0ba7cf"
            ]
        ]
    },
    {
        "id": "3564790484706ae2",
        "type": "template",
        "z": "a7a34028d045deee",
        "g": "022e7feb1e4ea3ae",
        "name": "icon",
        "field": "notify.icon",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "",
        "output": "str",
        "x": 1370,
        "y": 260,
        "wires": [
            [
                "a3cf07381c3dba65"
            ]
        ]
    },
    {
        "id": "d5d46cfd65fffc12",
        "type": "template",
        "z": "a7a34028d045deee",
        "g": "022e7feb1e4ea3ae",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Gastmodus",
        "output": "str",
        "x": 1370,
        "y": 180,
        "wires": [
            [
                "a3cf07381c3dba65"
            ]
        ]
    },
    {
        "id": "ba0bdc1db6e4e011",
        "type": "link out",
        "z": "a7a34028d045deee",
        "g": "022e7feb1e4ea3ae",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "c76d311bb4b6991b",
            "d1753081ba6b4004"
        ],
        "x": 1655,
        "y": 220,
        "wires": []
    },
    {
        "id": "a3cf07381c3dba65",
        "type": "join",
        "z": "a7a34028d045deee",
        "g": "022e7feb1e4ea3ae",
        "name": "",
        "mode": "custom",
        "build": "merged",
        "property": "notify",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "useparts": true,
        "accumulate": false,
        "timeout": "",
        "count": "8",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 1570,
        "y": 220,
        "wires": [
            [
                "ba0bdc1db6e4e011"
            ]
        ]
    },
    {
        "id": "88a668a5509178e0",
        "type": "change",
        "z": "a7a34028d045deee",
        "g": "022e7feb1e4ea3ae",
        "name": "action titles",
        "rules": [
            {
                "t": "set",
                "p": "notify.action_1_title",
                "pt": "msg",
                "to": "JA",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "notify.action_2_title",
                "pt": "msg",
                "to": "NEE",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "notify.action_1",
                "pt": "msg",
                "to": "GUEST_MODE_ON",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "notify.action_2",
                "pt": "msg",
                "to": "IGNORE",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1390,
        "y": 220,
        "wires": [
            [
                "a3cf07381c3dba65"
            ]
        ]
    },
    {
        "id": "b2e6817cd694ba28",
        "type": "template",
        "z": "a7a34028d045deee",
        "g": "022e7feb1e4ea3ae",
        "name": "notification id",
        "field": "notify.notification_id",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "guest_mode",
        "output": "str",
        "x": 1390,
        "y": 300,
        "wires": [
            [
                "a3cf07381c3dba65"
            ]
        ]
    },
    {
        "id": "880a3593d9f19b8c",
        "type": "comment",
        "z": "a7a34028d045deee",
        "name": "send notification to ask if guest mode should be turned on",
        "info": "",
        "x": 230,
        "y": 20,
        "wires": []
    },
    {
        "id": "88e2c415c85c433e",
        "type": "switch",
        "z": "a7a34028d045deee",
        "name": "door is open",
        "property": "data.new_state.state",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "on",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 870,
        "y": 160,
        "wires": [
            [
                "1ec3bf6ac9ee7791"
            ]
        ]
    },
    {
        "id": "1ec3bf6ac9ee7791",
        "type": "change",
        "z": "a7a34028d045deee",
        "name": "set topic",
        "rules": [
            {
                "t": "change",
                "p": "topic",
                "pt": "msg",
                "from": "binary_sensor.backdoor",
                "fromt": "str",
                "to": "achterdeur",
                "tot": "str"
            },
            {
                "t": "change",
                "p": "topic",
                "pt": "msg",
                "from": "binary_sensor.frontdoor",
                "fromt": "str",
                "to": "voordeur",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1020,
        "y": 160,
        "wires": [
            [
                "b02f456b71574261"
            ]
        ]
    },
    {
        "id": "b02f456b71574261",
        "type": "template",
        "z": "a7a34028d045deee",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "De {{topic}} is geopend en gastmodus is uitgeschakeld. Wil je gastmodus inschakelen?",
        "output": "str",
        "x": 1160,
        "y": 160,
        "wires": [
            [
                "f7038caa7a76e6f3"
            ]
        ]
    },
    {
        "id": "6f1338fff56e9176",
        "type": "template",
        "z": "a7a34028d045deee",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Er lijkt iemand in huis te zijn omdat er lampen zijn in- of uitgeschakeld.\\nDe gastmodus is uitgeschakeld, wil je de gastmodus inschakelen?",
        "output": "str",
        "x": 1160,
        "y": 220,
        "wires": [
            [
                "f7038caa7a76e6f3"
            ]
        ]
    },
    {
        "id": "39691718b80b4105",
        "type": "api-current-state",
        "z": "a7a34028d045deee",
        "name": "guest mode is off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.guest",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 430,
        "y": 160,
        "wires": [
            [
                "4c5e48409ce3be8d"
            ],
            []
        ]
    },
    {
        "id": "4c5e48409ce3be8d",
        "type": "api-current-state",
        "z": "a7a34028d045deee",
        "name": "group persons is not home",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "home",
        "halt_if_type": "str",
        "halt_if_compare": "is_not",
        "entity_id": "group.persons",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 660,
        "y": 160,
        "wires": [
            [
                "88e2c415c85c433e"
            ],
            []
        ]
    },
    {
        "id": "072df3e380eea942",
        "type": "api-current-state",
        "z": "a7a34028d045deee",
        "name": "group persons is not home",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "not_home",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "group.persons",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 660,
        "y": 220,
        "wires": [
            [
                "6f1338fff56e9176"
            ],
            []
        ]
    },
    {
        "id": "59a9a1e67b92890a",
        "type": "api-current-state",
        "z": "a7a34028d045deee",
        "name": "guest mode is off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.guest",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 430,
        "y": 220,
        "wires": [
            [
                "072df3e380eea942"
            ],
            []
        ]
    },
    {
        "id": "15ae1a06ef742220",
        "type": "link in",
        "z": "a7a34028d045deee",
        "name": "notification_action_turn_on_guest_mode_2",
        "links": [
            "4923944268d57366"
        ],
        "x": 305,
        "y": 220,
        "wires": [
            [
                "59a9a1e67b92890a"
            ]
        ]
    },
    {
        "id": "236aff92bc909f96",
        "type": "link in",
        "z": "a7a34028d045deee",
        "name": "notification_action_turn_on_guest_mode_1",
        "links": [
            "13f87cfee713f150"
        ],
        "x": 305,
        "y": 160,
        "wires": [
            []
        ]
    },
    {
        "id": "f9b4b865266e96f0",
        "type": "template",
        "z": "4e909abe.0b62e4",
        "g": "f7435f5ad02d3f79",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "0556160e41cbd509"
            ]
        ]
    },
    {
        "id": "0556160e41cbd509",
        "type": "link out",
        "z": "4e909abe.0b62e4",
        "g": "f7435f5ad02d3f79",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 475,
        "y": 80,
        "wires": []
    },
    {
        "id": "e4c83565e32c77fc",
        "type": "template",
        "z": "4e909abe.0b62e4",
        "g": "f7435f5ad02d3f79",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "f9b4b865266e96f0"
            ]
        ]
    },
    {
        "id": "e231947e3513d81f",
        "type": "catch",
        "z": "4e909abe.0b62e4",
        "g": "f7435f5ad02d3f79",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "e4c83565e32c77fc"
            ]
        ]
    },
    {
        "id": "d6d0b5735ad8f20a",
        "type": "template",
        "z": "4e909abe.0b62e4",
        "g": "0a1a2a6df765a339",
        "name": "notification id",
        "field": "notify.notification_id",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "mechanical_ventilation",
        "output": "str",
        "x": 2070,
        "y": 720,
        "wires": [
            [
                "a1c0156c06d58e91"
            ]
        ]
    },
    {
        "id": "febf6f9eab6e868d",
        "type": "template",
        "z": "4e909abe.0b62e4",
        "g": "0a1a2a6df765a339",
        "name": "icon",
        "field": "notify.icon",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "",
        "output": "str",
        "x": 2050,
        "y": 680,
        "wires": [
            [
                "a1c0156c06d58e91"
            ]
        ]
    },
    {
        "id": "6502d163268904d4",
        "type": "template",
        "z": "4e909abe.0b62e4",
        "g": "0a1a2a6df765a339",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Mechanische ventilatie",
        "output": "str",
        "x": 2050,
        "y": 640,
        "wires": [
            [
                "a1c0156c06d58e91"
            ]
        ]
    },
    {
        "id": "ac04035c1896218b",
        "type": "link out",
        "z": "4e909abe.0b62e4",
        "g": "0a1a2a6df765a339",
        "name": "link_out_notify_3",
        "mode": "link",
        "links": [
            "8ed3b0974336e55b",
            "a97f87cfab413716"
        ],
        "x": 2315,
        "y": 640,
        "wires": []
    },
    {
        "id": "a1c0156c06d58e91",
        "type": "join",
        "z": "4e909abe.0b62e4",
        "g": "0a1a2a6df765a339",
        "name": "",
        "mode": "custom",
        "build": "merged",
        "property": "notify",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "useparts": true,
        "accumulate": false,
        "timeout": "",
        "count": "6",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 2230,
        "y": 640,
        "wires": [
            [
                "ac04035c1896218b"
            ]
        ]
    },
    {
        "id": "399184be7531eb78",
        "type": "template",
        "z": "4e909abe.0b62e4",
        "g": "0a1a2a6df765a339",
        "name": "tag",
        "field": "notify.tag",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "mechanical_ventilation_basement",
        "output": "str",
        "x": 2050,
        "y": 760,
        "wires": [
            [
                "a1c0156c06d58e91"
            ]
        ]
    },
    {
        "id": "67db220bfc8a732a",
        "type": "template",
        "z": "4e909abe.0b62e4",
        "g": "0a1a2a6df765a339",
        "name": "click action",
        "field": "notify.clickAction",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "/dashboard-mobile/climate",
        "output": "str",
        "x": 2070,
        "y": 800,
        "wires": [
            [
                "a1c0156c06d58e91"
            ]
        ]
    },
    {
        "id": "71ae7bb3.7f9984",
        "type": "comment",
        "z": "4e909abe.0b62e4",
        "name": "MECHANICAL VENTILATION POSITION 0",
        "info": "",
        "x": 460,
        "y": 160,
        "wires": []
    },
    {
        "id": "75db2fdc.c1e22",
        "type": "inject",
        "z": "4e909abe.0b62e4",
        "name": "start_flow",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "900",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "start_flow",
        "payloadType": "str",
        "x": 130,
        "y": 160,
        "wires": [
            [
                "eaba4c18.04007",
                "4e1d6c0e.bd6b44"
            ]
        ]
    },
    {
        "id": "55ffc090.d9b5b",
        "type": "comment",
        "z": "4e909abe.0b62e4",
        "g": "fe3d60102d671872",
        "name": "MECHANICAL VENTILATION POSITION MANUAL",
        "info": "",
        "x": 490,
        "y": 1040,
        "wires": []
    },
    {
        "id": "9e8a7cf7.88d51",
        "type": "template",
        "z": "4e909abe.0b62e4",
        "g": "fe3d60102d671872",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "De laagste stand van de mechanische ventilatie is handmatig ingeschakeld.",
        "output": "str",
        "x": 720,
        "y": 1080,
        "wires": [
            [
                "46d491e1.18c83"
            ]
        ]
    },
    {
        "id": "5fba04f5.3847ac",
        "type": "template",
        "z": "4e909abe.0b62e4",
        "g": "fe3d60102d671872",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "De middelste stand van de mechanische ventilatie is handmatig ingeschakeld.",
        "output": "str",
        "x": 720,
        "y": 1140,
        "wires": [
            [
                "46d491e1.18c83"
            ]
        ]
    },
    {
        "id": "cbdc5416.0cbcd8",
        "type": "template",
        "z": "4e909abe.0b62e4",
        "g": "fe3d60102d671872",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "De hoge stand van de mechanische ventilatie is handmatig ingeschakeld.",
        "output": "str",
        "x": 720,
        "y": 1200,
        "wires": [
            [
                "46d491e1.18c83"
            ]
        ]
    },
    {
        "id": "91b0640c.1b4d68",
        "type": "template",
        "z": "4e909abe.0b62e4",
        "g": "fe3d60102d671872",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Mechanische Ventilatie is handmatig uitgeschakeld.",
        "output": "str",
        "x": 720,
        "y": 1260,
        "wires": [
            [
                "46d491e1.18c83"
            ]
        ]
    },
    {
        "id": "7b52e1a6.51c84",
        "type": "comment",
        "z": "4e909abe.0b62e4",
        "g": "0b07577dad51457c",
        "name": "INPUT BOOLEAN MECHANICAL VENTILATION",
        "info": "",
        "x": 480,
        "y": 1360,
        "wires": []
    },
    {
        "id": "f58250ec.e0fa1",
        "type": "template",
        "z": "4e909abe.0b62e4",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Stand laag is ingeschakeld. De temperatuur buiten is {{{sensor.buienradar_temperature}}} {{data.attributes.unit_of_measurement}}",
        "output": "str",
        "x": 1800,
        "y": 320,
        "wires": [
            []
        ]
    },
    {
        "id": "46fd77b05f226788",
        "type": "comment",
        "z": "4e909abe.0b62e4",
        "name": "basement ventilation",
        "info": "",
        "x": 110,
        "y": 20,
        "wires": []
    },
    {
        "id": "a104a83026f8fd84",
        "type": "template",
        "z": "4e909abe.0b62e4",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Mechanische ventilatie is uitgeschakeld, lucht van boven condenseert mogelijk tegen de koudste oppervlakte in de kelder.\\nDe temperatuur van het koudste oppervlakte in de kelder is: {{sensor.basement_wall_temperature_offset}} ℃ \\nHet dauwpunt van de lucht in de woonkamer is: {{sensor.living_room_thermal_comfort_dew_point}} ℃",
        "output": "str",
        "x": 1260,
        "y": 200,
        "wires": [
            [
                "476cfb88.13ea74"
            ]
        ]
    },
    {
        "id": "466f23cc5674fa22",
        "type": "template",
        "z": "4e909abe.0b62e4",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Mechanische ventilatie is uitgeschakeld, de verwarming in de kelder staat aan. \\nKelder Heating Power is {{payload}}%",
        "output": "str",
        "x": 1260,
        "y": 260,
        "wires": [
            [
                "476cfb88.13ea74"
            ]
        ]
    },
    {
        "id": "a443801a148e31b6",
        "type": "function",
        "z": "4e909abe.0b62e4",
        "name": "round to two decimals",
        "func": "msg.sensor.living_room_thermal_comfort_dew_point = msg.sensor.living_room_thermal_comfort_dew_point.toFixed(2);\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1080,
        "y": 200,
        "wires": [
            [
                "a104a83026f8fd84"
            ]
        ]
    },
    {
        "id": "54696fbd78ed3819",
        "type": "comment",
        "z": "4e909abe.0b62e4",
        "g": "031e4f7e9e7c26c2",
        "name": "MECHANICAL VENTILATION POSITION MANUAL FRONTEND",
        "info": "",
        "x": 530,
        "y": 1680,
        "wires": []
    },
    {
        "id": "4a4e04ddf8350706",
        "type": "switch",
        "z": "4e909abe.0b62e4",
        "g": "031e4f7e9e7c26c2",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "Uit",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "Laag",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "Midden",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "Hoog",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "Autonoom",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 5,
        "x": 690,
        "y": 1740,
        "wires": [
            [
                "6756525186f8169e"
            ],
            [
                "9788a503135ae44e"
            ],
            [
                "cb917aa518896f3a"
            ],
            [
                "16000567cbeaf3df"
            ],
            [
                "dfffac879d63354b"
            ]
        ]
    },
    {
        "id": "cb917aa518896f3a",
        "type": "api-call-service",
        "z": "4e909abe.0b62e4",
        "g": "031e4f7e9e7c26c2",
        "name": "turn off mechanical ventilation autonomous",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "input_boolean.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_boolean.mechanical_ventilation_basement_autonomous"
        ],
        "labelId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "input_boolean",
        "service": "turn_off",
        "x": 990,
        "y": 1840,
        "wires": [
            [
                "fec6bd8d1440b36a"
            ]
        ]
    },
    {
        "id": "dfffac879d63354b",
        "type": "api-call-service",
        "z": "4e909abe.0b62e4",
        "g": "031e4f7e9e7c26c2",
        "name": "turn on mechanical ventilation autonomous",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "input_boolean.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_boolean.mechanical_ventilation_basement_autonomous"
        ],
        "labelId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "input_boolean",
        "service": "turn_on",
        "x": 990,
        "y": 1960,
        "wires": [
            []
        ]
    },
    {
        "id": "6756525186f8169e",
        "type": "api-call-service",
        "z": "4e909abe.0b62e4",
        "g": "031e4f7e9e7c26c2",
        "name": "turn off mechanical ventilation autonomous",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "input_boolean.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_boolean.mechanical_ventilation_basement_autonomous"
        ],
        "labelId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "input_boolean",
        "service": "turn_off",
        "x": 990,
        "y": 1720,
        "wires": [
            [
                "57486f510a59fd65"
            ]
        ]
    },
    {
        "id": "9788a503135ae44e",
        "type": "api-call-service",
        "z": "4e909abe.0b62e4",
        "g": "031e4f7e9e7c26c2",
        "name": "turn off mechanical ventilation autonomous",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "input_boolean.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_boolean.mechanical_ventilation_basement_autonomous"
        ],
        "labelId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "input_boolean",
        "service": "turn_off",
        "x": 990,
        "y": 1780,
        "wires": [
            [
                "60bfbb8510eb0ddf"
            ]
        ]
    },
    {
        "id": "16000567cbeaf3df",
        "type": "api-call-service",
        "z": "4e909abe.0b62e4",
        "g": "031e4f7e9e7c26c2",
        "name": "turn off mechanical ventilation autonomous",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "input_boolean.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_boolean.mechanical_ventilation_basement_autonomous"
        ],
        "labelId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "input_boolean",
        "service": "turn_off",
        "x": 990,
        "y": 1900,
        "wires": [
            [
                "3bbc2d79dae1d733"
            ]
        ]
    },
    {
        "id": "57486f510a59fd65",
        "type": "api-call-service",
        "z": "4e909abe.0b62e4",
        "g": "031e4f7e9e7c26c2",
        "name": "turn on mechanical ventilation position 0",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "input_boolean.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_boolean.mechanical_ventilation_position_0"
        ],
        "labelId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "input_boolean",
        "service": "turn_on",
        "x": 1340,
        "y": 1720,
        "wires": [
            []
        ]
    },
    {
        "id": "60bfbb8510eb0ddf",
        "type": "api-call-service",
        "z": "4e909abe.0b62e4",
        "g": "031e4f7e9e7c26c2",
        "name": "turn on mechanical ventilation position 1",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "input_boolean.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_boolean.mechanical_ventilation_position_1"
        ],
        "labelId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "input_boolean",
        "service": "turn_on",
        "x": 1340,
        "y": 1780,
        "wires": [
            []
        ]
    },
    {
        "id": "fec6bd8d1440b36a",
        "type": "api-call-service",
        "z": "4e909abe.0b62e4",
        "g": "031e4f7e9e7c26c2",
        "name": "turn on mechanical ventilation position 2",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "input_boolean.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_boolean.mechanical_ventilation_position_2"
        ],
        "labelId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "input_boolean",
        "service": "turn_on",
        "x": 1340,
        "y": 1840,
        "wires": [
            []
        ]
    },
    {
        "id": "3bbc2d79dae1d733",
        "type": "api-call-service",
        "z": "4e909abe.0b62e4",
        "g": "031e4f7e9e7c26c2",
        "name": "turn on mechanical ventilation position 3",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "input_boolean.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_boolean.mechanical_ventilation_position_3"
        ],
        "labelId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "input_boolean",
        "service": "turn_on",
        "x": 1340,
        "y": 1900,
        "wires": [
            []
        ]
    },
    {
        "id": "cbe4be0.ad6c74",
        "type": "api-current-state",
        "z": "4e909abe.0b62e4",
        "name": "state wall temperature basement < dewpoint living room",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "sensor.living_room_thermal_comfort_dew_point",
        "halt_if_type": "msg",
        "halt_if_compare": "lt",
        "entity_id": "sensor.basement_wall_temperature_offset",
        "state_type": "num",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "sensor.basement_wall_temperature_offset",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 750,
        "y": 200,
        "wires": [
            [
                "a443801a148e31b6"
            ],
            []
        ]
    },
    {
        "id": "bfdcba16.625018",
        "type": "api-current-state",
        "z": "4e909abe.0b62e4",
        "name": "state ventilation position 1 off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.mechanical_ventilation_position_1",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "input_boolean.mechanical_ventilation_position_1",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 900,
        "y": 580,
        "wires": [
            [
                "3074d7a3808bdec0",
                "955d17f64b59495b"
            ],
            []
        ]
    },
    {
        "id": "e07362ff.ad189",
        "type": "api-current-state",
        "z": "4e909abe.0b62e4",
        "name": "temperature outdoor <= 5",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "5",
        "halt_if_type": "num",
        "halt_if_compare": "lte",
        "entity_id": "sensor.weather_station_temperature",
        "state_type": "num",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "sensor.buienradar_temperature",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 430,
        "y": 820,
        "wires": [
            [
                "66c60aad52f358c9"
            ],
            [
                "5ce9303e.d40b8"
            ]
        ]
    },
    {
        "id": "13e032a.2acbbcd",
        "type": "api-current-state",
        "z": "4e909abe.0b62e4",
        "name": "heating power basement <= 0%",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "0",
        "halt_if_type": "num",
        "halt_if_compare": "lte",
        "entity_id": "sensor.basement_heating",
        "state_type": "num",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "sensor.basement_heating",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 630,
        "y": 360,
        "wires": [
            [
                "8bd822f09fed1461"
            ],
            []
        ]
    },
    {
        "id": "eaba4c18.04007",
        "type": "api-current-state",
        "z": "4e909abe.0b62e4",
        "name": "state dewpoint living room ",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 1,
        "halt_if": "",
        "halt_if_type": "num",
        "halt_if_compare": "is",
        "entity_id": "sensor.living_room_thermal_comfort_dew_point",
        "state_type": "num",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "sensor.living_room_thermal_comfort_dew_point",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 410,
        "y": 200,
        "wires": [
            [
                "cbe4be0.ad6c74"
            ]
        ]
    },
    {
        "id": "46771664.f639e8",
        "type": "api-current-state",
        "z": "4e909abe.0b62e4",
        "name": "state ventilation position 2 off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.mechanical_ventilation_position_2",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "input_boolean.mechanical_ventilation_position_2",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 900,
        "y": 720,
        "wires": [
            [
                "955d17f64b59495b",
                "9516fa80f467b0df"
            ],
            []
        ]
    },
    {
        "id": "476cfb88.13ea74",
        "type": "api-current-state",
        "z": "4e909abe.0b62e4",
        "name": "state ventilation position 0 off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.mechanical_ventilation_position_0",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "input_boolean.mechanische_ventilatie_stand_uit",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 1480,
        "y": 200,
        "wires": [
            [
                "d38a7750.f848b8"
            ],
            []
        ]
    },
    {
        "id": "d38a7750.f848b8",
        "type": "api-current-state",
        "z": "4e909abe.0b62e4",
        "name": "state mechanical ventilation autonomous on",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.mechanical_ventilation_basement_autonomous",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "input_boolean.mechanische_ventilatie_autonoom",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 1790,
        "y": 200,
        "wires": [
            [
                "a04f173cc0c31e5f",
                "ac8eb8a0e6387131"
            ],
            []
        ]
    },
    {
        "id": "46d491e1.18c83",
        "type": "api-current-state",
        "z": "4e909abe.0b62e4",
        "g": "fe3d60102d671872",
        "name": "state mechanical ventilation autonomous off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.mechanical_ventilation_basement_autonomous",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "input_boolean.mechanische_ventilatie_autonoom",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 1010,
        "y": 1080,
        "wires": [
            [
                "f348457a7db9ec8d"
            ],
            []
        ]
    },
    {
        "id": "4e1d6c0e.bd6b44",
        "type": "api-current-state",
        "z": "4e909abe.0b62e4",
        "name": "autonomous is on",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.mechanical_ventilation_basement_autonomous",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "input_boolean.mechanische_ventilatie_autonoom",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 390,
        "y": 360,
        "wires": [
            [
                "13e032a.2acbbcd"
            ],
            []
        ]
    },
    {
        "id": "a0fea0e8.d9a66",
        "type": "server-state-changed",
        "z": "4e909abe.0b62e4",
        "name": "state heating power basement  > 5",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "sensor.basement_heating"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": true,
        "stateType": "num",
        "ifState": "5",
        "ifStateType": "num",
        "ifStateOperator": "gt",
        "outputOnlyOnStateChange": true,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 440,
        "y": 260,
        "wires": [
            [
                "466f23cc5674fa22"
            ],
            []
        ]
    },
    {
        "id": "defe3bd3.cdc4d8",
        "type": "server-state-changed",
        "z": "4e909abe.0b62e4",
        "name": "state group person",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 1,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "group.persons"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": true,
        "stateType": "str",
        "ifState": "",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 110,
        "y": 200,
        "wires": [
            [
                "eaba4c18.04007",
                "4e1d6c0e.bd6b44"
            ]
        ]
    },
    {
        "id": "4146f6c2.d77108",
        "type": "server-state-changed",
        "z": "4e909abe.0b62e4",
        "name": "state guest",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 1,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "input_boolean.guest"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": true,
        "stateType": "str",
        "ifState": "",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 140,
        "y": 260,
        "wires": [
            [
                "eaba4c18.04007",
                "4e1d6c0e.bd6b44"
            ]
        ]
    },
    {
        "id": "7fcc0134.64917",
        "type": "server-state-changed",
        "z": "4e909abe.0b62e4",
        "g": "fe3d60102d671872",
        "name": "state mechanical ventilation position 1 on",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "input_boolean.mechanical_ventilation_position_1"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": true,
        "stateType": "str",
        "ifState": "on",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 460,
        "y": 1080,
        "wires": [
            [
                "9e8a7cf7.88d51"
            ],
            []
        ]
    },
    {
        "id": "1a262b04.0f6c75",
        "type": "server-state-changed",
        "z": "4e909abe.0b62e4",
        "name": "state autonomous",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 1,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "input_boolean.mechanical_ventilation_basement_autonomous"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": true,
        "stateType": "str",
        "ifState": "",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 110,
        "y": 320,
        "wires": [
            [
                "eaba4c18.04007",
                "4e1d6c0e.bd6b44"
            ]
        ]
    },
    {
        "id": "f5c03471.585f88",
        "type": "server-state-changed",
        "z": "4e909abe.0b62e4",
        "g": "fe3d60102d671872",
        "name": "state mechanical ventilation position 2 on",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "input_boolean.mechanical_ventilation_position_2"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": true,
        "stateType": "str",
        "ifState": "on",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 460,
        "y": 1140,
        "wires": [
            [
                "5fba04f5.3847ac"
            ],
            []
        ]
    },
    {
        "id": "fce79366.4dc17",
        "type": "server-state-changed",
        "z": "4e909abe.0b62e4",
        "g": "fe3d60102d671872",
        "name": "state mechanical ventilation position 3 on",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "input_boolean.mechanical_ventilation_position_3"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": true,
        "stateType": "str",
        "ifState": "on",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 460,
        "y": 1200,
        "wires": [
            [
                "cbdc5416.0cbcd8"
            ],
            []
        ]
    },
    {
        "id": "9c749cb3.fd1b8",
        "type": "server-state-changed",
        "z": "4e909abe.0b62e4",
        "g": "fe3d60102d671872",
        "name": "state mechanical ventilation position 0 on",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "input_boolean.mechanical_ventilation_position_0"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": true,
        "stateType": "str",
        "ifState": "on",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 460,
        "y": 1260,
        "wires": [
            [
                "91b0640c.1b4d68"
            ],
            []
        ]
    },
    {
        "id": "dcb087f1.7dab78",
        "type": "server-state-changed",
        "z": "4e909abe.0b62e4",
        "g": "0b07577dad51457c",
        "name": "state mechanical ventilation position 0 on",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "input_boolean.mechanical_ventilation_position_0"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": false,
        "stateType": "str",
        "ifState": "on",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 460,
        "y": 1400,
        "wires": [
            [
                "ce6315d9d913f13b"
            ],
            []
        ]
    },
    {
        "id": "8e51a253.d8dde",
        "type": "server-state-changed",
        "z": "4e909abe.0b62e4",
        "g": "0b07577dad51457c",
        "name": "state mechanical ventilation position 1 on",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "input_boolean.mechanical_ventilation_position_1"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": false,
        "stateType": "str",
        "ifState": "on",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 460,
        "y": 1460,
        "wires": [
            [
                "5c4f378f8ceb12fe"
            ],
            []
        ]
    },
    {
        "id": "c83efd35.f7a48",
        "type": "server-state-changed",
        "z": "4e909abe.0b62e4",
        "g": "0b07577dad51457c",
        "name": "state mechanical ventilation position 2 on",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "input_boolean.mechanical_ventilation_position_2"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": false,
        "stateType": "str",
        "ifState": "on",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 460,
        "y": 1520,
        "wires": [
            [
                "05b9c0653cca602c"
            ],
            []
        ]
    },
    {
        "id": "cb035d1b.0d3f9",
        "type": "server-state-changed",
        "z": "4e909abe.0b62e4",
        "g": "0b07577dad51457c",
        "name": "state mechanical ventilation position 3 on",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "input_boolean.mechanical_ventilation_position_3"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": false,
        "stateType": "str",
        "ifState": "on",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 460,
        "y": 1580,
        "wires": [
            [
                "8695ac14d1f8e704"
            ],
            []
        ]
    },
    {
        "id": "9073f4d6575f634e",
        "type": "server-state-changed",
        "z": "4e909abe.0b62e4",
        "g": "031e4f7e9e7c26c2",
        "name": "input select mechenical ventialtion position",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 1,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "input_select.mechanical_ventilation_position"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": false,
        "stateType": "str",
        "ifState": "",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 460,
        "y": 1720,
        "wires": [
            [
                "4a4e04ddf8350706"
            ]
        ]
    },
    {
        "id": "8bd822f09fed1461",
        "type": "api-current-state",
        "z": "4e909abe.0b62e4",
        "name": "ah basement",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 1,
        "halt_if": "",
        "halt_if_type": "num",
        "halt_if_compare": "is",
        "entity_id": "sensor.basement_thermal_comfort_absolute_humidity",
        "state_type": "num",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "sensor.basement_thermal_comfort_absolute_humidity",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 850,
        "y": 360,
        "wires": [
            [
                "5c061fb5ace8d130"
            ]
        ]
    },
    {
        "id": "5c061fb5ace8d130",
        "type": "api-current-state",
        "z": "4e909abe.0b62e4",
        "name": "ah outdoor > ah basement",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "sensor.basement_thermal_comfort_absolute_humidity",
        "halt_if_type": "msg",
        "halt_if_compare": "gt",
        "entity_id": "sensor.outdoor_thermal_comfort_absolute_humidity",
        "state_type": "num",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "sensor.outdoor_thermal_comfort_absolute_humidity",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 420,
        "y": 460,
        "wires": [
            [
                "6f1eba702c95483a"
            ],
            [
                "0a547d31ef1d15c3"
            ]
        ]
    },
    {
        "id": "4b24c6f.ecf9538",
        "type": "template",
        "z": "4e909abe.0b62e4",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Stand laag is ingeschakeld. De absolute luchtvochtigheid in de souterrain is {{sensor.basement_humidity}} {{data.attributes.unit_of_measurement}}",
        "output": "str",
        "x": 1800,
        "y": 360,
        "wires": [
            []
        ]
    },
    {
        "id": "0861797165ba2006",
        "type": "api-current-state",
        "z": "4e909abe.0b62e4",
        "name": "rh basement < 60%",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "60",
        "halt_if_type": "num",
        "halt_if_compare": "lt",
        "entity_id": "sensor.basement_humidity",
        "state_type": "num",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "sensor.basement_humidity",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 450,
        "y": 760,
        "wires": [
            [
                "c7b58913.752ad8"
            ],
            [
                "e07362ff.ad189"
            ]
        ]
    },
    {
        "id": "b5d8b43d.943a18",
        "type": "api-current-state",
        "z": "4e909abe.0b62e4",
        "name": "state ventilation position 3 off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.mechanical_ventilation_position_3",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "input_boolean.mechanical_ventilation_position_3",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 900,
        "y": 900,
        "wires": [
            [
                "955d17f64b59495b",
                "c38645a953ed6080"
            ],
            []
        ]
    },
    {
        "id": "71e07fd77d2a4430",
        "type": "link in",
        "z": "4e909abe.0b62e4",
        "g": "0a1a2a6df765a339",
        "name": "link_in_1",
        "links": [
            "955d17f64b59495b",
            "ac8eb8a0e6387131",
            "f348457a7db9ec8d"
        ],
        "x": 1935,
        "y": 640,
        "wires": [
            [
                "6502d163268904d4",
                "febf6f9eab6e868d",
                "d6d0b5735ad8f20a",
                "399184be7531eb78",
                "67db220bfc8a732a"
            ]
        ]
    },
    {
        "id": "955d17f64b59495b",
        "type": "link out",
        "z": "4e909abe.0b62e4",
        "name": "link_out_notify_2",
        "mode": "link",
        "links": [
            "71e07fd77d2a4430"
        ],
        "x": 1165,
        "y": 520,
        "wires": []
    },
    {
        "id": "ac8eb8a0e6387131",
        "type": "link out",
        "z": "4e909abe.0b62e4",
        "name": "link_out_notify_4",
        "mode": "link",
        "links": [
            "71e07fd77d2a4430"
        ],
        "x": 2015,
        "y": 200,
        "wires": []
    },
    {
        "id": "f348457a7db9ec8d",
        "type": "link out",
        "z": "4e909abe.0b62e4",
        "g": "fe3d60102d671872",
        "name": "link_out_notify_2",
        "mode": "link",
        "links": [
            "71e07fd77d2a4430"
        ],
        "x": 1215,
        "y": 1080,
        "wires": []
    },
    {
        "id": "f1a1d029766aa4e3",
        "type": "api-current-state",
        "z": "4e909abe.0b62e4",
        "name": "barometer is rain",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "Rain",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "sensor.buienradar_barometer",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 450,
        "y": 700,
        "wires": [
            [
                "aa4bd88087bb3c75"
            ],
            [
                "0861797165ba2006"
            ]
        ]
    },
    {
        "id": "0cebcecc7266486e",
        "type": "api-current-state",
        "z": "4e909abe.0b62e4",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "pouring",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "weather.knmi_home",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 400,
        "y": 640,
        "wires": [
            [
                "aa4bd88087bb3c75"
            ],
            [
                "f1a1d029766aa4e3"
            ]
        ]
    },
    {
        "id": "6f1eba702c95483a",
        "type": "template",
        "z": "4e909abe.0b62e4",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "De laagste stand is automatisch ingeschakeld. Buiten is de absolute luchtvochtigheid hoger dan in de souterrain.",
        "output": "str",
        "x": 680,
        "y": 540,
        "wires": [
            [
                "bfdcba16.625018"
            ]
        ]
    },
    {
        "id": "aa4bd88087bb3c75",
        "type": "template",
        "z": "4e909abe.0b62e4",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "De laagste stand is automatisch ingeschakeld i.v.m. de regen.",
        "output": "str",
        "x": 680,
        "y": 620,
        "wires": [
            [
                "bfdcba16.625018"
            ]
        ]
    },
    {
        "id": "c7b58913.752ad8",
        "type": "template",
        "z": "4e909abe.0b62e4",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "De middelste stand is automatisch ingeschakeld. De luchtvochtigheid is {{sensor.basement_humidity}}%.",
        "output": "str",
        "x": 680,
        "y": 700,
        "wires": [
            [
                "46771664.f639e8"
            ]
        ]
    },
    {
        "id": "5ce9303e.d40b8",
        "type": "template",
        "z": "4e909abe.0b62e4",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "De hoogste stand is automatisch ingeschakeld.",
        "output": "str",
        "x": 680,
        "y": 900,
        "wires": [
            [
                "b5d8b43d.943a18"
            ]
        ]
    },
    {
        "id": "66c60aad52f358c9",
        "type": "template",
        "z": "4e909abe.0b62e4",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "De middelste stand is automatisch ingeschakeld. Buiten is het onder de 5 graden celcius.",
        "output": "str",
        "x": 680,
        "y": 740,
        "wires": [
            [
                "46771664.f639e8"
            ]
        ]
    },
    {
        "id": "0a547d31ef1d15c3",
        "type": "api-current-state",
        "z": "4e909abe.0b62e4",
        "name": "thermostat living room is heat",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "heat",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "climate.living_room",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 420,
        "y": 520,
        "wires": [
            [
                "8bd10319762b29f3"
            ],
            [
                "85ae6ea3879f4c7f"
            ]
        ]
    },
    {
        "id": "8bd10319762b29f3",
        "type": "template",
        "z": "4e909abe.0b62e4",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "De laagste stand is automatisch ingeschakeld, de verwarming in de woonkamer staat aan.",
        "output": "str",
        "x": 680,
        "y": 580,
        "wires": [
            [
                "bfdcba16.625018"
            ]
        ]
    },
    {
        "id": "85ae6ea3879f4c7f",
        "type": "api-current-state",
        "z": "4e909abe.0b62e4",
        "name": "heating power living room",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "0",
        "halt_if_type": "num",
        "halt_if_compare": "gt",
        "entity_id": "sensor.living_room_heating",
        "state_type": "num",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 430,
        "y": 580,
        "wires": [
            [
                "8bd10319762b29f3"
            ],
            [
                "0cebcecc7266486e"
            ]
        ]
    },
    {
        "id": "ce6315d9d913f13b",
        "type": "link out",
        "z": "4e909abe.0b62e4",
        "g": "0b07577dad51457c",
        "name": "link out 4",
        "mode": "link",
        "links": [
            "758a071297551463"
        ],
        "x": 675,
        "y": 1400,
        "wires": []
    },
    {
        "id": "5c4f378f8ceb12fe",
        "type": "link out",
        "z": "4e909abe.0b62e4",
        "g": "0b07577dad51457c",
        "name": "link out 5",
        "mode": "link",
        "links": [
            "5a0f579446bba30d"
        ],
        "x": 675,
        "y": 1460,
        "wires": []
    },
    {
        "id": "05b9c0653cca602c",
        "type": "link out",
        "z": "4e909abe.0b62e4",
        "g": "0b07577dad51457c",
        "name": "link out 6",
        "mode": "link",
        "links": [
            "bc20b4d1fe6b75e9"
        ],
        "x": 675,
        "y": 1520,
        "wires": []
    },
    {
        "id": "8695ac14d1f8e704",
        "type": "link out",
        "z": "4e909abe.0b62e4",
        "g": "0b07577dad51457c",
        "name": "link out 7",
        "mode": "link",
        "links": [
            "82d596336848e366"
        ],
        "x": 675,
        "y": 1580,
        "wires": []
    },
    {
        "id": "3074d7a3808bdec0",
        "type": "link out",
        "z": "4e909abe.0b62e4",
        "name": "link out 8",
        "mode": "link",
        "links": [
            "5a0f579446bba30d"
        ],
        "x": 1165,
        "y": 580,
        "wires": []
    },
    {
        "id": "9516fa80f467b0df",
        "type": "link out",
        "z": "4e909abe.0b62e4",
        "name": "link out 9",
        "mode": "link",
        "links": [
            "bc20b4d1fe6b75e9"
        ],
        "x": 1165,
        "y": 720,
        "wires": []
    },
    {
        "id": "c38645a953ed6080",
        "type": "link out",
        "z": "4e909abe.0b62e4",
        "name": "link out 10",
        "mode": "link",
        "links": [
            "82d596336848e366"
        ],
        "x": 1165,
        "y": 900,
        "wires": []
    },
    {
        "id": "a04f173cc0c31e5f",
        "type": "link out",
        "z": "4e909abe.0b62e4",
        "name": "link out 11",
        "mode": "link",
        "links": [
            "758a071297551463"
        ],
        "x": 2015,
        "y": 160,
        "wires": []
    },
    {
        "id": "728c75b797b416a5",
        "type": "template",
        "z": "b4963274903ed2a9",
        "g": "70b9d3433e540010",
        "name": "tag",
        "field": "notify.tag",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "mechanical_ventilation_bathroom",
        "output": "str",
        "x": 1990,
        "y": 340,
        "wires": [
            [
                "017eba9ce6de6486"
            ]
        ]
    },
    {
        "id": "40cce72d78ddf2ba",
        "type": "template",
        "z": "b4963274903ed2a9",
        "g": "70b9d3433e540010",
        "name": "icon",
        "field": "notify.icon",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "",
        "output": "str",
        "x": 1990,
        "y": 220,
        "wires": [
            [
                "017eba9ce6de6486"
            ]
        ]
    },
    {
        "id": "ddcda02e8d44e679",
        "type": "template",
        "z": "b4963274903ed2a9",
        "g": "70b9d3433e540010",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Ventilatie",
        "output": "str",
        "x": 1990,
        "y": 180,
        "wires": [
            [
                "017eba9ce6de6486"
            ]
        ]
    },
    {
        "id": "017eba9ce6de6486",
        "type": "join",
        "z": "b4963274903ed2a9",
        "g": "70b9d3433e540010",
        "name": "",
        "mode": "custom",
        "build": "merged",
        "property": "notify",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "useparts": true,
        "accumulate": false,
        "timeout": "",
        "count": "6",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 2150,
        "y": 200,
        "wires": [
            [
                "b36f1d0dfd83653c"
            ]
        ]
    },
    {
        "id": "976de9be5916cb4b",
        "type": "template",
        "z": "b4963274903ed2a9",
        "g": "70b9d3433e540010",
        "name": "notification id",
        "field": "notify.notification_id",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "bathroom_fan",
        "output": "str",
        "x": 2010,
        "y": 260,
        "wires": [
            [
                "017eba9ce6de6486"
            ]
        ]
    },
    {
        "id": "b36f1d0dfd83653c",
        "type": "link out",
        "z": "b4963274903ed2a9",
        "g": "70b9d3433e540010",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "8ed3b0974336e55b"
        ],
        "x": 2235,
        "y": 200,
        "wires": []
    },
    {
        "id": "01112a435413374c",
        "type": "template",
        "z": "b4963274903ed2a9",
        "g": "70b9d3433e540010",
        "name": "notification channel",
        "field": "notify.channel",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "bathroom_fan",
        "output": "str",
        "x": 2030,
        "y": 300,
        "wires": [
            [
                "017eba9ce6de6486"
            ]
        ]
    },
    {
        "id": "8f7a2ea2f8c67537",
        "type": "comment",
        "z": "b4963274903ed2a9",
        "name": "automation for the bathroom fan",
        "info": "",
        "x": 150,
        "y": 20,
        "wires": []
    },
    {
        "id": "860a72a08f111ab7",
        "type": "function",
        "z": "b4963274903ed2a9",
        "name": "new value minus old value",
        "func": "msg.payload = msg.data.new_state.state - msg.data.old_state.state\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 680,
        "y": 160,
        "wires": [
            [
                "ed8cadbe2f5f5074"
            ]
        ]
    },
    {
        "id": "ed8cadbe2f5f5074",
        "type": "switch",
        "z": "b4963274903ed2a9",
        "name": "difference more than x",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "gte",
                "v": "4",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 920,
        "y": 160,
        "wires": [
            [
                "bbfc944671edd2e3"
            ]
        ]
    },
    {
        "id": "d8a0b2f19f9a0e65",
        "type": "change",
        "z": "b4963274903ed2a9",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "old_state_humidity",
                "pt": "flow",
                "to": "data.old_state.state",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1600,
        "y": 220,
        "wires": [
            []
        ]
    },
    {
        "id": "63a8c616e04072af",
        "type": "comment",
        "z": "b4963274903ed2a9",
        "name": "turn off the bathroom fan when the old humidity value is reached",
        "info": "",
        "x": 790,
        "y": 360,
        "wires": []
    },
    {
        "id": "af15e90fccd8959d",
        "type": "comment",
        "z": "b4963274903ed2a9",
        "name": "turn off the bathroom fan after x minutes",
        "info": "",
        "x": 710,
        "y": 260,
        "wires": []
    },
    {
        "id": "e9c932d56036f13b",
        "type": "switch",
        "z": "b4963274903ed2a9",
        "name": "old value >= new value",
        "property": "old_state_humidity",
        "propertyType": "flow",
        "rules": [
            {
                "t": "gte",
                "v": "data.new_state.state",
                "vt": "msg"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 660,
        "y": 400,
        "wires": [
            [
                "1da06a5e8bc95932"
            ]
        ]
    },
    {
        "id": "1da06a5e8bc95932",
        "type": "switch",
        "z": "b4963274903ed2a9",
        "name": "humidity is below 70%",
        "property": "data.new_state.state",
        "propertyType": "msg",
        "rules": [
            {
                "t": "lt",
                "v": "70",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 880,
        "y": 400,
        "wires": [
            [
                "3c42e6f768e9f4a8"
            ]
        ]
    },
    {
        "id": "48367c24995b7a71",
        "type": "template",
        "z": "b4963274903ed2a9",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "De badkamerventilator is uitgeschakeld, na 120 minuten is de oude luchtvochtigheid van voor het douchen niet bereikt maar is wel gezakt onder de 65%. De luchtvochtigheid is {{state.state}}%.",
        "output": "str",
        "x": 1120,
        "y": 300,
        "wires": [
            [
                "48e88711b7ff8b55"
            ]
        ]
    },
    {
        "id": "3c42e6f768e9f4a8",
        "type": "template",
        "z": "b4963274903ed2a9",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "De badkamerventilator is uitgeschakeld, de luchtvochtigheid heeft de oude waarde ({{data.new_state.state}}%) van voor het douchen bereikt.",
        "output": "str",
        "x": 1120,
        "y": 400,
        "wires": [
            [
                "48e88711b7ff8b55"
            ]
        ]
    },
    {
        "id": "ccf8f8dbf3a2a1a3",
        "type": "template",
        "z": "b4963274903ed2a9",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "De badkamer ventilatie is ingeschakeld, de luchtvochtigheid is gestegen van {{data.old_state.state}}% naar {{data.new_state.state}}%.",
        "output": "str",
        "x": 1760,
        "y": 160,
        "wires": [
            [
                "c6f3f4b2b46ffb4e"
            ]
        ]
    },
    {
        "id": "b0839079b191916a",
        "type": "comment",
        "z": "b4963274903ed2a9",
        "name": "fan position frontend",
        "info": "",
        "x": 110,
        "y": 460,
        "wires": []
    },
    {
        "id": "3037226717dc7a91",
        "type": "switch",
        "z": "b4963274903ed2a9",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "Aan",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "Uit",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "Autonoom",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 3,
        "x": 290,
        "y": 500,
        "wires": [
            [
                "7169704a811f5f12"
            ],
            [
                "780e710a1ee1b22e"
            ],
            [
                "0e8f7ec6b9d58557"
            ]
        ]
    },
    {
        "id": "a8fcbc81b74ad4f3",
        "type": "catch",
        "z": "b4963274903ed2a9",
        "g": "0b8b5d79d80701d3",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "52b890d221e51d99"
            ]
        ]
    },
    {
        "id": "52b890d221e51d99",
        "type": "template",
        "z": "b4963274903ed2a9",
        "g": "0b8b5d79d80701d3",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "a63decc27ac1e186"
            ]
        ]
    },
    {
        "id": "f18c57903881ea97",
        "type": "link out",
        "z": "b4963274903ed2a9",
        "g": "0b8b5d79d80701d3",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 475,
        "y": 80,
        "wires": []
    },
    {
        "id": "a63decc27ac1e186",
        "type": "template",
        "z": "b4963274903ed2a9",
        "g": "0b8b5d79d80701d3",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "f18c57903881ea97"
            ]
        ]
    },
    {
        "id": "76a8a1ea0af30f4a",
        "type": "api-call-service",
        "z": "b4963274903ed2a9",
        "name": "turn on bathroom fan",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "switch.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "switch.shelly1pm_bathroom_fan_switch_0"
        ],
        "labelId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "switch",
        "service": "turn_on",
        "x": 1580,
        "y": 160,
        "wires": [
            [
                "ccf8f8dbf3a2a1a3",
                "7f2ff7067d208110"
            ]
        ]
    },
    {
        "id": "715c5c011eeebe21",
        "type": "api-call-service",
        "z": "b4963274903ed2a9",
        "name": "turn off bathroom fan",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "switch.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "switch.shelly1pm_bathroom_fan_switch_0"
        ],
        "labelId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "switch",
        "service": "turn_off",
        "x": 1580,
        "y": 340,
        "wires": [
            [
                "c6f3f4b2b46ffb4e"
            ]
        ]
    },
    {
        "id": "25e06b253767b85b",
        "type": "api-call-service",
        "z": "b4963274903ed2a9",
        "name": "turn on fan",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "fan.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "fan.shelly1pm_bathroom_fan_switch_0"
        ],
        "labelId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "fan",
        "service": "turn_on",
        "x": 730,
        "y": 500,
        "wires": [
            []
        ]
    },
    {
        "id": "7169704a811f5f12",
        "type": "api-call-service",
        "z": "b4963274903ed2a9",
        "name": "turn off fan autonomous",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "input_boolean.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_boolean.mechanical_ventilation_bathroom_autonomous"
        ],
        "labelId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "input_boolean",
        "service": "turn_off",
        "x": 490,
        "y": 500,
        "wires": [
            [
                "25e06b253767b85b"
            ]
        ]
    },
    {
        "id": "40a633604b4dfe95",
        "type": "api-call-service",
        "z": "b4963274903ed2a9",
        "name": "turn off fan",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "fan.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "fan.shelly1pm_bathroom_fan_switch_0"
        ],
        "labelId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "fan",
        "service": "turn_off",
        "x": 730,
        "y": 560,
        "wires": [
            []
        ]
    },
    {
        "id": "780e710a1ee1b22e",
        "type": "api-call-service",
        "z": "b4963274903ed2a9",
        "name": "turn off fan autonomous",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "input_boolean.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_boolean.mechanical_ventilation_bathroom_autonomous"
        ],
        "labelId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "input_boolean",
        "service": "turn_off",
        "x": 490,
        "y": 560,
        "wires": [
            [
                "40a633604b4dfe95"
            ]
        ]
    },
    {
        "id": "0e8f7ec6b9d58557",
        "type": "api-call-service",
        "z": "b4963274903ed2a9",
        "name": "turn on fan autonomous",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "input_boolean.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_boolean.mechanical_ventilation_bathroom_autonomous"
        ],
        "labelId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "input_boolean",
        "service": "turn_on",
        "x": 490,
        "y": 620,
        "wires": [
            [
                "40a633604b4dfe95"
            ]
        ]
    },
    {
        "id": "bbfc944671edd2e3",
        "type": "api-current-state",
        "z": "b4963274903ed2a9",
        "name": "bathroom fan is not on",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is_not",
        "entity_id": "switch.shelly1pm_bathroom_fan_switch_0",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 1340,
        "y": 160,
        "wires": [
            [
                "76a8a1ea0af30f4a",
                "d8a0b2f19f9a0e65"
            ],
            []
        ]
    },
    {
        "id": "48e88711b7ff8b55",
        "type": "api-current-state",
        "z": "b4963274903ed2a9",
        "name": "bathroom fan is not off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is_not",
        "entity_id": "switch.shelly1pm_bathroom_fan_switch_0",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 1340,
        "y": 340,
        "wires": [
            [
                "715c5c011eeebe21"
            ],
            []
        ]
    },
    {
        "id": "a793a6b052cc2eee",
        "type": "api-current-state",
        "z": "b4963274903ed2a9",
        "name": "bathroom fan autonomous is on",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.mechanical_ventilation_bathroom_autonomous",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 350,
        "y": 160,
        "wires": [
            [
                "860a72a08f111ab7",
                "e9c932d56036f13b"
            ],
            []
        ]
    },
    {
        "id": "90566c9d3cd6bdaa",
        "type": "server-state-changed",
        "z": "b4963274903ed2a9",
        "name": "bathroom humidity",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 1,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "sensor.bathroom_sensors_humidity"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": true,
        "stateType": "str",
        "ifState": "",
        "ifStateType": "num",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 110,
        "y": 160,
        "wires": [
            [
                "a793a6b052cc2eee"
            ]
        ]
    },
    {
        "id": "1d48142c32068673",
        "type": "server-state-changed",
        "z": "b4963274903ed2a9",
        "name": "input select fan position",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 1,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "input_select.mechanical_ventilation_bathroom_position"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": false,
        "stateType": "str",
        "ifState": "",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 120,
        "y": 500,
        "wires": [
            [
                "3037226717dc7a91"
            ]
        ]
    },
    {
        "id": "bad6f63794fa3bfd",
        "type": "ha-wait-until",
        "z": "b4963274903ed2a9",
        "name": "wait until humidity is below 65%",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 1,
        "entities": {
            "entity": [
                "sensor.bathroom_sensors_humidity"
            ],
            "substring": [],
            "regex": []
        },
        "property": "state",
        "comparator": "lt",
        "value": "65",
        "valueType": "num",
        "timeout": "0",
        "timeoutType": "num",
        "timeoutUnits": "seconds",
        "checkCurrentState": true,
        "blockInputOverrides": true,
        "outputProperties": [
            {
                "property": "state",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "entityLocation": "data",
        "entityLocationType": "none",
        "x": 910,
        "y": 300,
        "wires": [
            [
                "48367c24995b7a71"
            ]
        ]
    },
    {
        "id": "7f2ff7067d208110",
        "type": "api-call-service",
        "z": "b4963274903ed2a9",
        "name": "start timer",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "timer.start",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "timer.bathroom_mechanical_ventilation"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": true,
        "domain": "timer",
        "service": "start",
        "x": 1760,
        "y": 100,
        "wires": [
            []
        ]
    },
    {
        "id": "a96659318920e051",
        "type": "server-events",
        "z": "b4963274903ed2a9",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 3,
        "exposeAsEntityConfig": "",
        "eventType": "timer.finished",
        "eventData": "{\"entity_id\":\"timer.bathroom_mechanical_ventilation\"}",
        "waitForRunning": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "$outputData(\"eventData\").event_type",
                "valueType": "jsonata"
            }
        ],
        "x": 660,
        "y": 300,
        "wires": [
            [
                "bad6f63794fa3bfd"
            ]
        ]
    },
    {
        "id": "3df8b741e696a587",
        "type": "inject",
        "z": "b4963274903ed2a9",
        "name": "",
        "props": [
            {
                "p": "data",
                "v": "{\"new_state\":{\"state\":\"10\"},\"old_state\":{\"state\":\"5\"}}",
                "vt": "json"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 200,
        "y": 260,
        "wires": [
            [
                "860a72a08f111ab7"
            ]
        ]
    },
    {
        "id": "56172292528665d3",
        "type": "server-state-changed",
        "z": "b4963274903ed2a9",
        "name": "bathroom fan is off",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "fan.shelly1pm_bathroom_fan_switch_0"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": true,
        "stateType": "str",
        "ifState": "off",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 110,
        "y": 720,
        "wires": [
            [
                "b44de345595c8114"
            ],
            []
        ]
    },
    {
        "id": "b44de345595c8114",
        "type": "api-call-service",
        "z": "b4963274903ed2a9",
        "name": "stop timer",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "timer.cancel",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "timer.bathroom_mechanical_ventilation"
        ],
        "labelId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": true,
        "domain": "timer",
        "service": "cancel",
        "x": 280,
        "y": 720,
        "wires": [
            []
        ]
    },
    {
        "id": "effdb4f47bd11771",
        "type": "comment",
        "z": "3d30857f5165e137",
        "name": "turn on toilet fan",
        "info": "notify when a message appears in pfsense",
        "x": 100,
        "y": 20,
        "wires": []
    },
    {
        "id": "25d79c8787fd1812",
        "type": "api-call-service",
        "z": "3d30857f5165e137",
        "name": "turn on toilet fan",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "fan.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "fan.shelly1pm_toilet_fan_switch_0"
        ],
        "labelId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "fan",
        "service": "turn_on",
        "x": 600,
        "y": 160,
        "wires": [
            []
        ]
    },
    {
        "id": "59e4a09ae6f431cd",
        "type": "api-call-service",
        "z": "3d30857f5165e137",
        "name": "turn off toilet fan",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "fan.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "fan.shelly1pm_toilet_fan_switch_0"
        ],
        "labelId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "fan",
        "service": "turn_off",
        "x": 1260,
        "y": 180,
        "wires": [
            []
        ]
    },
    {
        "id": "a752563ecc453fd5",
        "type": "server-state-changed",
        "z": "3d30857f5165e137",
        "name": "toilet light turned on",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "light.shelly1pm_toilet_light_switch_0"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": false,
        "stateType": "str",
        "ifState": "on",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "",
        "forType": "num",
        "forUnits": "seconds",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 110,
        "y": 160,
        "wires": [
            [
                "0a28fb35b8f92f89"
            ],
            []
        ]
    },
    {
        "id": "b5dd79a9ecc0d1c8",
        "type": "ha-wait-until",
        "z": "3d30857f5165e137",
        "name": "wait until toilet light goes off with 10 sec timeout",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "entities": {
            "entity": [
                "light.shelly1pm_toilet_light_switch_0"
            ],
            "substring": [],
            "regex": []
        },
        "property": "state",
        "comparator": "is",
        "value": "off",
        "valueType": "str",
        "timeout": "10",
        "timeoutType": "num",
        "timeoutUnits": "seconds",
        "checkCurrentState": true,
        "blockInputOverrides": true,
        "outputProperties": [],
        "entityLocation": "data",
        "entityLocationType": "none",
        "x": 500,
        "y": 220,
        "wires": [
            [
                "e40aff179bd30a9b"
            ],
            [
                "8a928f6874ea03c8"
            ]
        ]
    },
    {
        "id": "8a928f6874ea03c8",
        "type": "ha-wait-until",
        "z": "3d30857f5165e137",
        "name": "wait until toilet light goes off ",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "entities": {
            "entity": [
                "light.shelly1pm_toilet_light_switch_0"
            ],
            "substring": [],
            "regex": []
        },
        "property": "state",
        "comparator": "is",
        "value": "off",
        "valueType": "str",
        "timeout": "1",
        "timeoutType": "num",
        "timeoutUnits": "hours",
        "checkCurrentState": true,
        "blockInputOverrides": true,
        "outputProperties": [],
        "entityLocation": "data",
        "entityLocationType": "none",
        "x": 820,
        "y": 260,
        "wires": [
            [
                "6433045b1f3b4f8e"
            ],
            [
                "1bcfdae4fb034efd"
            ]
        ]
    },
    {
        "id": "6433045b1f3b4f8e",
        "type": "stoptimer",
        "z": "3d30857f5165e137",
        "duration": "20",
        "units": "Minute",
        "payloadtype": "num",
        "payloadval": "0",
        "name": "",
        "x": 1060,
        "y": 220,
        "wires": [
            [
                "59e4a09ae6f431cd"
            ],
            []
        ]
    },
    {
        "id": "ce38a20b6edb30fe",
        "type": "catch",
        "z": "3d30857f5165e137",
        "g": "790b21b9d3f0df95",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "859d7340dcad2e19"
            ]
        ]
    },
    {
        "id": "859d7340dcad2e19",
        "type": "template",
        "z": "3d30857f5165e137",
        "g": "790b21b9d3f0df95",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "1eda23dd9f8e2572"
            ]
        ]
    },
    {
        "id": "8b8c16211a8b72d6",
        "type": "link out",
        "z": "3d30857f5165e137",
        "g": "790b21b9d3f0df95",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 475,
        "y": 80,
        "wires": []
    },
    {
        "id": "1eda23dd9f8e2572",
        "type": "template",
        "z": "3d30857f5165e137",
        "g": "790b21b9d3f0df95",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "8b8c16211a8b72d6"
            ]
        ]
    },
    {
        "id": "0a28fb35b8f92f89",
        "type": "delay",
        "z": "3d30857f5165e137",
        "name": "",
        "pauseType": "delay",
        "timeout": "10",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 300,
        "y": 160,
        "wires": [
            [
                "25d79c8787fd1812",
                "b5dd79a9ecc0d1c8"
            ]
        ]
    },
    {
        "id": "e3fe28933ad4f9bd",
        "type": "template",
        "z": "e98ae3c9db1bd6c3",
        "g": "bd6a21379a46d377",
        "name": "notification id",
        "field": "notify.notification_id",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "vacation_mode",
        "output": "str",
        "x": 810,
        "y": 300,
        "wires": [
            [
                "dc2683f08bbcdd2e"
            ]
        ]
    },
    {
        "id": "c6805d02b9eb3b45",
        "type": "change",
        "z": "e98ae3c9db1bd6c3",
        "g": "bd6a21379a46d377",
        "name": "action titles",
        "rules": [
            {
                "t": "set",
                "p": "notify.action_1_title",
                "pt": "msg",
                "to": "JA",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "notify.action_2_title",
                "pt": "msg",
                "to": "NEE",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "notify.action_1",
                "pt": "msg",
                "to": "VACATION_MODE_ON",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "notify.action_2",
                "pt": "msg",
                "to": "IGNORE",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 810,
        "y": 220,
        "wires": [
            [
                "dc2683f08bbcdd2e"
            ]
        ]
    },
    {
        "id": "dc2683f08bbcdd2e",
        "type": "join",
        "z": "e98ae3c9db1bd6c3",
        "g": "bd6a21379a46d377",
        "name": "",
        "mode": "custom",
        "build": "merged",
        "property": "notify",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": false,
        "timeout": "",
        "count": "8",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 990,
        "y": 220,
        "wires": [
            [
                "b53dc3ab1408794a"
            ]
        ]
    },
    {
        "id": "b53dc3ab1408794a",
        "type": "link out",
        "z": "e98ae3c9db1bd6c3",
        "g": "bd6a21379a46d377",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "c76d311bb4b6991b",
            "d1753081ba6b4004"
        ],
        "x": 1075,
        "y": 220,
        "wires": []
    },
    {
        "id": "65114fbadc1625ff",
        "type": "template",
        "z": "e98ae3c9db1bd6c3",
        "g": "bd6a21379a46d377",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Vakantiemodus",
        "output": "str",
        "x": 790,
        "y": 180,
        "wires": [
            [
                "dc2683f08bbcdd2e"
            ]
        ]
    },
    {
        "id": "994e86eeb88c5f08",
        "type": "template",
        "z": "e98ae3c9db1bd6c3",
        "g": "bd6a21379a46d377",
        "name": "icon",
        "field": "notify.icon",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "",
        "output": "str",
        "x": 790,
        "y": 260,
        "wires": [
            [
                "dc2683f08bbcdd2e"
            ]
        ]
    },
    {
        "id": "505fd0b6095e5990",
        "type": "inject",
        "z": "e98ae3c9db1bd6c3",
        "name": "time trigger",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "*/10 16-23 * * *",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 110,
        "y": 500,
        "wires": [
            [
                "4aec915beb25bfb5"
            ]
        ]
    },
    {
        "id": "4fdeb47515a56739",
        "type": "delay",
        "z": "e98ae3c9db1bd6c3",
        "name": "random delay",
        "pauseType": "random",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "5",
        "randomLast": "40",
        "randomUnits": "minutes",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 1380,
        "y": 500,
        "wires": [
            [
                "e2878c3736a9cd88"
            ]
        ]
    },
    {
        "id": "289eb5762afd854e",
        "type": "switch",
        "z": "e98ae3c9db1bd6c3",
        "name": "state is home",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "home",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 250,
        "y": 400,
        "wires": [
            [
                "2da11a2951cd690b"
            ]
        ]
    },
    {
        "id": "cd178e3895118ed9",
        "type": "comment",
        "z": "e98ae3c9db1bd6c3",
        "name": "turn off vacation mode when someone comes home",
        "info": "",
        "x": 230,
        "y": 360,
        "wires": []
    },
    {
        "id": "d3f51e45d96152b6",
        "type": "comment",
        "z": "e98ae3c9db1bd6c3",
        "name": "if person is not home for 1 day ask if the vacation mode has to be turn on",
        "info": "",
        "x": 300,
        "y": 160,
        "wires": []
    },
    {
        "id": "066d59d0dda9cb84",
        "type": "comment",
        "z": "e98ae3c9db1bd6c3",
        "name": "flow for vacation mode",
        "info": "",
        "x": 120,
        "y": 20,
        "wires": []
    },
    {
        "id": "8319e5e91e71a1ed",
        "type": "comment",
        "z": "e98ae3c9db1bd6c3",
        "name": "turn on and off random lights in vacation lights group if vacation mode is on and outdoor is dark",
        "info": "",
        "x": 360,
        "y": 460,
        "wires": []
    },
    {
        "id": "bdeb3f3c3092a9db",
        "type": "delay",
        "z": "e98ae3c9db1bd6c3",
        "name": "random delay",
        "pauseType": "random",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "2",
        "randomLast": "20",
        "randomUnits": "minutes",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 840,
        "y": 500,
        "wires": [
            [
                "68fb6d09797ade29"
            ]
        ]
    },
    {
        "id": "319e2f002dcdb37f",
        "type": "comment",
        "z": "e98ae3c9db1bd6c3",
        "name": "listen to vacation mode on notification answer event ",
        "info": "",
        "x": 230,
        "y": 260,
        "wires": []
    },
    {
        "id": "0b9c6bc899fa2c87",
        "type": "template",
        "z": "e98ae3c9db1bd6c3",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Er is niemand thuis, wil je de vakantiemodus aanzetten?",
        "output": "str",
        "x": 580,
        "y": 200,
        "wires": [
            [
                "36246e33e6162b5a"
            ]
        ]
    },
    {
        "id": "fb8451f100d9bf63",
        "type": "api-call-service",
        "z": "e98ae3c9db1bd6c3",
        "name": "turn off vacation mode",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "input_boolean.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_boolean.vacation_mode"
        ],
        "labelId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "input_boolean",
        "service": "turn_off",
        "x": 660,
        "y": 400,
        "wires": [
            []
        ]
    },
    {
        "id": "b0ab3842efd58c4a",
        "type": "api-call-service",
        "z": "e98ae3c9db1bd6c3",
        "name": "turn on light",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "{{payload.entity_id}}"
        ],
        "labelId": [],
        "data": "{\"brightness_pct\":\"{{dimlevel}}\",\"transition\":5000}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "light",
        "service": "turn_on",
        "x": 1210,
        "y": 500,
        "wires": [
            [
                "4fdeb47515a56739"
            ]
        ]
    },
    {
        "id": "e2878c3736a9cd88",
        "type": "api-call-service",
        "z": "e98ae3c9db1bd6c3",
        "name": "turn off light",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "{{payload.entity_id}}"
        ],
        "labelId": [],
        "data": "{\"transition\":5000}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "light",
        "service": "turn_off",
        "x": 1550,
        "y": 500,
        "wires": [
            []
        ]
    },
    {
        "id": "f047140113012c45",
        "type": "api-call-service",
        "z": "e98ae3c9db1bd6c3",
        "name": "turn on vacation mode",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "input_boolean.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_boolean.vacation_mode"
        ],
        "labelId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "input_boolean",
        "service": "turn_on",
        "x": 440,
        "y": 300,
        "wires": [
            []
        ]
    },
    {
        "id": "4aec915beb25bfb5",
        "type": "api-current-state",
        "z": "e98ae3c9db1bd6c3",
        "name": "vacation mode is on",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.vacation_mode",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 300,
        "y": 500,
        "wires": [
            [
                "52372f03201c1339"
            ],
            []
        ]
    },
    {
        "id": "2da11a2951cd690b",
        "type": "api-current-state",
        "z": "e98ae3c9db1bd6c3",
        "name": "vacation mode is on",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.vacation_mode",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 440,
        "y": 400,
        "wires": [
            [
                "fb8451f100d9bf63"
            ],
            []
        ]
    },
    {
        "id": "52372f03201c1339",
        "type": "api-current-state",
        "z": "e98ae3c9db1bd6c3",
        "name": "outdoor is dark",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "binary_sensor.outdoor_daylight",
        "state_type": "str",
        "blockInputOverrides": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 500,
        "y": 500,
        "wires": [
            [
                "bb6f9be9a8d52d38"
            ],
            []
        ]
    },
    {
        "id": "7f8a5bbec56c9729",
        "type": "api-current-state",
        "z": "e98ae3c9db1bd6c3",
        "name": "vacation mode is off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.vacation_mode",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 400,
        "y": 200,
        "wires": [
            [
                "0b9c6bc899fa2c87"
            ],
            []
        ]
    },
    {
        "id": "79ce4db3aa0b5c53",
        "type": "server-events",
        "z": "e98ae3c9db1bd6c3",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 3,
        "exposeAsEntityConfig": "",
        "eventType": "mobile_app_notification_action",
        "eventData": "{\"action\":\"VACATION_MODE_ON\"}",
        "waitForRunning": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "$outputData(\"eventData\").event_type",
                "valueType": "jsonata"
            }
        ],
        "event_type": "",
        "x": 170,
        "y": 300,
        "wires": [
            [
                "f047140113012c45"
            ]
        ]
    },
    {
        "id": "03b925349d92a20d",
        "type": "server-state-changed",
        "z": "e98ae3c9db1bd6c3",
        "name": "state persons",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 1,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "group.persons"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": true,
        "stateType": "str",
        "ifState": "",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": true,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 90,
        "y": 400,
        "wires": [
            [
                "289eb5762afd854e"
            ]
        ]
    },
    {
        "id": "629cb438e0ae0dfa",
        "type": "server-state-changed",
        "z": "e98ae3c9db1bd6c3",
        "name": "state persons not home for 1 day",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "group.persons"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": true,
        "stateType": "str",
        "ifState": "not_home",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "1",
        "forType": "num",
        "forUnits": "days",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 150,
        "y": 200,
        "wires": [
            [
                "7f8a5bbec56c9729"
            ],
            []
        ]
    },
    {
        "id": "bb6f9be9a8d52d38",
        "type": "ha-get-entities",
        "z": "e98ae3c9db1bd6c3",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 1,
        "rules": [
            {
                "property": "entity_id",
                "logic": "in_group",
                "value": "group.vacation_lights",
                "valueType": "str"
            },
            {
                "property": "state",
                "logic": "is",
                "value": "off",
                "valueType": "str"
            }
        ],
        "outputType": "random",
        "outputEmptyResults": false,
        "outputLocationType": "msg",
        "outputLocation": "payload",
        "outputResultsCount": 1,
        "x": 670,
        "y": 500,
        "wires": [
            [
                "bdeb3f3c3092a9db"
            ]
        ]
    },
    {
        "id": "68fb6d09797ade29",
        "type": "random",
        "z": "e98ae3c9db1bd6c3",
        "name": "random dim level",
        "low": "20",
        "high": "50",
        "inte": "true",
        "property": "dimlevel",
        "x": 1030,
        "y": 500,
        "wires": [
            [
                "b0ab3842efd58c4a"
            ]
        ]
    },
    {
        "id": "e2aad0c5c8a8a6c8",
        "type": "catch",
        "z": "e98ae3c9db1bd6c3",
        "g": "5eb2a483b2644796",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "92ae0a959b86c0cc"
            ]
        ]
    },
    {
        "id": "92ae0a959b86c0cc",
        "type": "template",
        "z": "e98ae3c9db1bd6c3",
        "g": "5eb2a483b2644796",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "2ba2b814332015f0"
            ]
        ]
    },
    {
        "id": "4d9e677df669290b",
        "type": "link out",
        "z": "e98ae3c9db1bd6c3",
        "g": "5eb2a483b2644796",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 475,
        "y": 80,
        "wires": []
    },
    {
        "id": "2ba2b814332015f0",
        "type": "template",
        "z": "e98ae3c9db1bd6c3",
        "g": "5eb2a483b2644796",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "4d9e677df669290b"
            ]
        ]
    },
    {
        "id": "8205d58f610c05d0",
        "type": "template",
        "z": "55da1471.fda0fc",
        "g": "faf17088fd1a6b16",
        "name": "notification id",
        "field": "notify.notification_id",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "vacuum",
        "output": "str",
        "x": 1990,
        "y": 900,
        "wires": [
            [
                "051f31139e799468"
            ]
        ]
    },
    {
        "id": "051f31139e799468",
        "type": "join",
        "z": "55da1471.fda0fc",
        "g": "faf17088fd1a6b16",
        "name": "",
        "mode": "custom",
        "build": "merged",
        "property": "notify",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": false,
        "timeout": "",
        "count": "4",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 2170,
        "y": 860,
        "wires": [
            [
                "57488cc36dcd2d00"
            ]
        ]
    },
    {
        "id": "57488cc36dcd2d00",
        "type": "link out",
        "z": "55da1471.fda0fc",
        "g": "faf17088fd1a6b16",
        "name": "link_out_notify_3",
        "mode": "link",
        "links": [
            "c4660dc11fb0e5b8"
        ],
        "x": 2265,
        "y": 860,
        "wires": []
    },
    {
        "id": "035b931bd0cea26e",
        "type": "template",
        "z": "55da1471.fda0fc",
        "g": "faf17088fd1a6b16",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Stofzuiger",
        "output": "str",
        "x": 1970,
        "y": 820,
        "wires": [
            [
                "051f31139e799468"
            ]
        ]
    },
    {
        "id": "c8bc013c45f3ae72",
        "type": "template",
        "z": "55da1471.fda0fc",
        "g": "faf17088fd1a6b16",
        "name": "icon",
        "field": "notify.icon",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "",
        "output": "str",
        "x": 1970,
        "y": 860,
        "wires": [
            [
                "051f31139e799468"
            ]
        ]
    },
    {
        "id": "0fa8b59e2735c07d",
        "type": "template",
        "z": "55da1471.fda0fc",
        "g": "deb17c414e79ec63",
        "name": "notification id",
        "field": "notify.notification_id",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "vacuum",
        "output": "str",
        "x": 1990,
        "y": 500,
        "wires": [
            [
                "ba409d3499824364"
            ]
        ]
    },
    {
        "id": "ba409d3499824364",
        "type": "join",
        "z": "55da1471.fda0fc",
        "g": "deb17c414e79ec63",
        "name": "",
        "mode": "custom",
        "build": "merged",
        "property": "notify",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": false,
        "timeout": "",
        "count": "4",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 2170,
        "y": 480,
        "wires": [
            [
                "c5f04c8242157305"
            ]
        ]
    },
    {
        "id": "c5f04c8242157305",
        "type": "link out",
        "z": "55da1471.fda0fc",
        "g": "deb17c414e79ec63",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "8ed3b0974336e55b",
            "aeee8468f3d1b7ad"
        ],
        "x": 2265,
        "y": 480,
        "wires": []
    },
    {
        "id": "dec04d7f3b819fb2",
        "type": "template",
        "z": "55da1471.fda0fc",
        "g": "deb17c414e79ec63",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Stofzuiger",
        "output": "str",
        "x": 1970,
        "y": 420,
        "wires": [
            [
                "ba409d3499824364"
            ]
        ]
    },
    {
        "id": "f60ecb3be0ebc2af",
        "type": "template",
        "z": "55da1471.fda0fc",
        "g": "deb17c414e79ec63",
        "name": "icon",
        "field": "notify.icon",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "",
        "output": "str",
        "x": 1970,
        "y": 460,
        "wires": [
            [
                "ba409d3499824364"
            ]
        ]
    },
    {
        "id": "0e83125ead481334",
        "type": "template",
        "z": "55da1471.fda0fc",
        "g": "33fea7faee8e1f82",
        "name": "notification id",
        "field": "notify.notification_id",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "vacuum",
        "output": "str",
        "x": 1970,
        "y": 720,
        "wires": [
            [
                "b5cc0d26cf3e7ab2"
            ]
        ]
    },
    {
        "id": "09d4cdb039e852de",
        "type": "change",
        "z": "55da1471.fda0fc",
        "g": "33fea7faee8e1f82",
        "name": "action titles",
        "rules": [
            {
                "t": "set",
                "p": "notify.action_1_title",
                "pt": "msg",
                "to": "JA",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "notify.action_2_title",
                "pt": "msg",
                "to": "NEE",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "notify.action_1",
                "pt": "msg",
                "to": "IGNORE",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "notify.action_2",
                "pt": "msg",
                "to": "VACUUM_AUTOCLEANING_OFF",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1970,
        "y": 640,
        "wires": [
            [
                "b5cc0d26cf3e7ab2"
            ]
        ]
    },
    {
        "id": "b5cc0d26cf3e7ab2",
        "type": "join",
        "z": "55da1471.fda0fc",
        "g": "33fea7faee8e1f82",
        "name": "",
        "mode": "custom",
        "build": "merged",
        "property": "notify",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": false,
        "timeout": "",
        "count": "8",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 2170,
        "y": 640,
        "wires": [
            [
                "d7f92782a71d3837"
            ]
        ]
    },
    {
        "id": "d7f92782a71d3837",
        "type": "link out",
        "z": "55da1471.fda0fc",
        "g": "33fea7faee8e1f82",
        "name": "link_out_notify_2",
        "mode": "link",
        "links": [
            "c76d311bb4b6991b",
            "d1753081ba6b4004"
        ],
        "x": 2265,
        "y": 640,
        "wires": []
    },
    {
        "id": "d5ae8df68946471a",
        "type": "template",
        "z": "55da1471.fda0fc",
        "g": "33fea7faee8e1f82",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Stofzuiger",
        "output": "str",
        "x": 1950,
        "y": 600,
        "wires": [
            [
                "b5cc0d26cf3e7ab2"
            ]
        ]
    },
    {
        "id": "8f3e39fd9d879f86",
        "type": "template",
        "z": "55da1471.fda0fc",
        "g": "33fea7faee8e1f82",
        "name": "icon",
        "field": "notify.icon",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "",
        "output": "str",
        "x": 1950,
        "y": 680,
        "wires": [
            [
                "b5cc0d26cf3e7ab2"
            ]
        ]
    },
    {
        "id": "c8eb1592.520518",
        "type": "switch",
        "z": "55da1471.fda0fc",
        "name": "on / off ",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "on",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "off",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 330,
        "y": 420,
        "wires": [
            [
                "252893d959f094a0"
            ],
            [
                "87dec77c.9877c8"
            ]
        ]
    },
    {
        "id": "37466c93.d14b84",
        "type": "switch",
        "z": "55da1471.fda0fc",
        "name": "home / ! home",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "home",
                "vt": "str"
            },
            {
                "t": "neq",
                "v": "home",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 320,
        "y": 300,
        "wires": [
            [
                "1351cb3a.cc7995"
            ],
            [
                "6242c868ff3985eb"
            ]
        ]
    },
    {
        "id": "85128ba5.bef108",
        "type": "inject",
        "z": "55da1471.fda0fc",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "00 02 * * *",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "02:00 Payload 'off'",
        "payloadType": "str",
        "x": 110,
        "y": 240,
        "wires": [
            [
                "787efd3b.bd13e4"
            ]
        ]
    },
    {
        "id": "8e7bbae.f382348",
        "type": "comment",
        "z": "55da1471.fda0fc",
        "name": "robot vacuum cleaner",
        "info": "",
        "x": 120,
        "y": 20,
        "wires": []
    },
    {
        "id": "c643d4d4.2baf98",
        "type": "template",
        "z": "55da1471.fda0fc",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Stofzuiger {{data.attributes.friendly_name}} is gestart.",
        "output": "str",
        "x": 1700,
        "y": 420,
        "wires": [
            [
                "60b0a5eab5b0a9d6"
            ]
        ]
    },
    {
        "id": "734801f342d9257e",
        "type": "switch",
        "z": "55da1471.fda0fc",
        "name": "uptime is above 1 min",
        "property": "data.timeSinceChangedMs",
        "propertyType": "msg",
        "rules": [
            {
                "t": "gt",
                "v": "60000",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 640,
        "y": 320,
        "wires": [
            [
                "353d562e.3dd04a"
            ]
        ]
    },
    {
        "id": "035179dc3e7fddad",
        "type": "comment",
        "z": "55da1471.fda0fc",
        "name": "listen to vacuum start clean \"no\" answer event ",
        "info": "",
        "x": 210,
        "y": 800,
        "wires": []
    },
    {
        "id": "5f66a79ec51e1612",
        "type": "comment",
        "z": "55da1471.fda0fc",
        "name": "turn back on auto cleaning at 02:00",
        "info": "",
        "x": 180,
        "y": 200,
        "wires": []
    },
    {
        "id": "86f24a287db20768",
        "type": "template",
        "z": "55da1471.fda0fc",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Moet over 10 minuten de stofzuiger starten?",
        "output": "str",
        "x": 1700,
        "y": 640,
        "wires": [
            [
                "237a19020921825d"
            ]
        ]
    },
    {
        "id": "71847fb30d3084f7",
        "type": "template",
        "z": "55da1471.fda0fc",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Over tien minuten start de stofzuiger.",
        "output": "str",
        "x": 1700,
        "y": 840,
        "wires": [
            [
                "07d3b997feaf3f7b"
            ]
        ]
    },
    {
        "id": "64e882fa1c38e011",
        "type": "template",
        "z": "55da1471.fda0fc",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Stofzuiger {{data.attributes.friendly_name}} kon niet worden gestart.",
        "output": "str",
        "x": 1700,
        "y": 460,
        "wires": [
            [
                "60b0a5eab5b0a9d6"
            ]
        ]
    },
    {
        "id": "787efd3b.bd13e4",
        "type": "api-call-service",
        "z": "55da1471.fda0fc",
        "name": "turn on auto cleaning",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "input_boolean.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_boolean.auto_cleaning"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "input_boolean",
        "service": "turn_on",
        "x": 320,
        "y": 240,
        "wires": [
            []
        ]
    },
    {
        "id": "a52152b0.f593b",
        "type": "api-call-service",
        "z": "55da1471.fda0fc",
        "name": "start vacuum",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "vacuum.start",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "vacuum.roborock_s6_pure"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "vacuum",
        "service": "start",
        "x": 1330,
        "y": 420,
        "wires": [
            [
                "700ffa065a57643e"
            ]
        ]
    },
    {
        "id": "2a9f3bf0.575684",
        "type": "api-call-service",
        "z": "55da1471.fda0fc",
        "name": "return to base",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "vacuum.return_to_base",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "vacuum.roborock_s6_pure"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "vacuum",
        "service": "return_to_base",
        "x": 1360,
        "y": 280,
        "wires": [
            []
        ]
    },
    {
        "id": "a098e71.e0db718",
        "type": "api-call-service",
        "z": "55da1471.fda0fc",
        "name": "turn off auto cleaning",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "input_boolean.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_boolean.auto_cleaning"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "input_boolean",
        "service": "turn_off",
        "x": 700,
        "y": 840,
        "wires": [
            []
        ]
    },
    {
        "id": "65eac4d0c7d4907d",
        "type": "api-call-service",
        "z": "55da1471.fda0fc",
        "name": "start vacuum",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "vacuum.start",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "vacuum.roborock_s55"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "vacuum",
        "service": "start",
        "x": 1330,
        "y": 480,
        "wires": [
            [
                "12b21cf1b9684b45"
            ]
        ]
    },
    {
        "id": "60f6cd3f.56a0f4",
        "type": "api-current-state",
        "z": "55da1471.fda0fc",
        "name": "auto cleaning is on",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.auto_cleaning",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 910,
        "y": 460,
        "wires": [
            [
                "eccced83.41688",
                "564da01f0c297b52"
            ],
            []
        ]
    },
    {
        "id": "1351cb3a.cc7995",
        "type": "api-current-state",
        "z": "55da1471.fda0fc",
        "name": "state is not docked",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "docked",
        "halt_if_type": "str",
        "halt_if_compare": "is_not",
        "entity_id": "vacuum.roborock_s6_pure",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 950,
        "y": 280,
        "wires": [
            [
                "32d50dd7.16e062"
            ],
            []
        ]
    },
    {
        "id": "87dec77c.9877c8",
        "type": "api-current-state",
        "z": "55da1471.fda0fc",
        "name": "state group persons is home",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "home",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "group.persons",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 540,
        "y": 440,
        "wires": [
            [],
            [
                "353d562e.3dd04a"
            ]
        ]
    },
    {
        "id": "353d562e.3dd04a",
        "type": "api-current-state",
        "z": "55da1471.fda0fc",
        "name": "guest is off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.guest",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 930,
        "y": 360,
        "wires": [
            [
                "60f6cd3f.56a0f4"
            ],
            []
        ]
    },
    {
        "id": "eccced83.41688",
        "type": "api-current-state",
        "z": "55da1471.fda0fc",
        "name": "vacuum is not cleaning",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "cleaning",
        "halt_if_type": "str",
        "halt_if_compare": "is_not",
        "entity_id": "vacuum.roborock_s6_pure",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 1140,
        "y": 420,
        "wires": [
            [
                "a52152b0.f593b"
            ],
            []
        ]
    },
    {
        "id": "32d50dd7.16e062",
        "type": "api-current-state",
        "z": "55da1471.fda0fc",
        "name": "state is not returning",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "returning",
        "halt_if_type": "str",
        "halt_if_compare": "is_not",
        "entity_id": "vacuum.roborock_s6_pure",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 1160,
        "y": 280,
        "wires": [
            [
                "2a9f3bf0.575684"
            ],
            []
        ]
    },
    {
        "id": "1c372f1.535d7d1",
        "type": "api-current-state",
        "z": "55da1471.fda0fc",
        "name": "auto cleaning is on",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.auto_cleaning",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 290,
        "y": 580,
        "wires": [
            [
                "c5ad7ab8.30fda8"
            ],
            []
        ]
    },
    {
        "id": "c5ad7ab8.30fda8",
        "type": "api-current-state",
        "z": "55da1471.fda0fc",
        "name": "vacuum is not cleaning",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "cleaning",
        "halt_if_type": "str",
        "halt_if_compare": "is_not",
        "entity_id": "vacuum.roborock_s6_pure",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 500,
        "y": 580,
        "wires": [
            [
                "934221e4.b2d0d",
                "3cf95b5d.b388f4",
                "86f24a287db20768"
            ],
            []
        ]
    },
    {
        "id": "155ef739.0e1de9",
        "type": "api-current-state",
        "z": "55da1471.fda0fc",
        "name": "auto cleaning is on",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.auto_cleaning",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 490,
        "y": 740,
        "wires": [
            [
                "a098e71.e0db718"
            ],
            []
        ]
    },
    {
        "id": "6242c868ff3985eb",
        "type": "api-current-state",
        "z": "55da1471.fda0fc",
        "name": "uptime",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 1,
        "halt_if": "",
        "halt_if_type": "num",
        "halt_if_compare": "is",
        "entity_id": "sensor.uptime",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 470,
        "y": 320,
        "wires": [
            [
                "734801f342d9257e"
            ]
        ]
    },
    {
        "id": "564da01f0c297b52",
        "type": "api-current-state",
        "z": "55da1471.fda0fc",
        "name": "vacuum is not cleaning",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "cleaning",
        "halt_if_type": "str",
        "halt_if_compare": "is_not",
        "entity_id": "vacuum.roborock_s55",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 1140,
        "y": 480,
        "wires": [
            [
                "65eac4d0c7d4907d"
            ],
            []
        ]
    },
    {
        "id": "cbb046587922e1c0",
        "type": "server-events",
        "z": "55da1471.fda0fc",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 3,
        "exposeAsEntityConfig": "",
        "eventType": "mobile_app_notification_action",
        "eventData": "{\"action\":\"VACUUM_AUTOCLEANING_OFF\"}",
        "waitForRunning": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "$outputData(\"eventData\").event_type",
                "valueType": "jsonata"
            }
        ],
        "event_type": "",
        "x": 170,
        "y": 840,
        "wires": [
            [
                "a098e71.e0db718"
            ]
        ]
    },
    {
        "id": "b7cf63f8.77958",
        "type": "server-state-changed",
        "z": "55da1471.fda0fc",
        "name": "state group persons",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 1,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "group.persons"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": false,
        "stateType": "str",
        "ifState": "",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 110,
        "y": 300,
        "wires": [
            [
                "37466c93.d14b84"
            ]
        ]
    },
    {
        "id": "b6290ea8.c1e6f",
        "type": "server-state-changed",
        "z": "55da1471.fda0fc",
        "name": "state guest ",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 1,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "input_boolean.guest"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": false,
        "stateType": "str",
        "ifState": "",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 80,
        "y": 420,
        "wires": [
            [
                "c8eb1592.520518"
            ]
        ]
    },
    {
        "id": "173b8941.c73507",
        "type": "server-state-changed",
        "z": "55da1471.fda0fc",
        "name": "sleep mode is on",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "input_boolean.sleep_mode"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": false,
        "stateType": "str",
        "ifState": "on",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 100,
        "y": 580,
        "wires": [
            [
                "1c372f1.535d7d1"
            ],
            []
        ]
    },
    {
        "id": "1494387d.fca0a8",
        "type": "server-state-changed",
        "z": "55da1471.fda0fc",
        "name": "vacuum state is cleaning",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "vacuum.roborock_s6_pure"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": true,
        "stateType": "str",
        "ifState": "cleaning",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 130,
        "y": 740,
        "wires": [
            [
                "272212f1.26bb6e"
            ],
            []
        ]
    },
    {
        "id": "272212f1.26bb6e",
        "type": "ha-wait-until",
        "z": "55da1471.fda0fc",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "entities": {
            "entity": [
                "vacuum.roborock_s6_pure"
            ],
            "substring": [],
            "regex": []
        },
        "property": "state",
        "comparator": "is",
        "value": "returning",
        "valueType": "str",
        "timeout": "90",
        "timeoutType": "num",
        "timeoutUnits": "minutes",
        "checkCurrentState": true,
        "blockInputOverrides": true,
        "outputProperties": [],
        "x": 320,
        "y": 740,
        "wires": [
            [
                "155ef739.0e1de9"
            ],
            []
        ]
    },
    {
        "id": "700ffa065a57643e",
        "type": "ha-wait-until",
        "z": "55da1471.fda0fc",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "entities": {
            "entity": [
                "vacuum.roborock_s6_pure"
            ],
            "substring": [],
            "regex": []
        },
        "property": "state",
        "comparator": "is",
        "value": "cleaning",
        "valueType": "str",
        "timeout": "2",
        "timeoutType": "num",
        "timeoutUnits": "minutes",
        "checkCurrentState": true,
        "blockInputOverrides": true,
        "outputProperties": [],
        "entityLocation": "data",
        "entityLocationType": "none",
        "x": 1500,
        "y": 420,
        "wires": [
            [
                "c643d4d4.2baf98"
            ],
            [
                "64e882fa1c38e011"
            ]
        ]
    },
    {
        "id": "12b21cf1b9684b45",
        "type": "ha-wait-until",
        "z": "55da1471.fda0fc",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "entities": {
            "entity": [
                "vacuum.roborock_s55"
            ],
            "substring": [],
            "regex": []
        },
        "property": "state",
        "comparator": "is",
        "value": "cleaning",
        "valueType": "str",
        "timeout": "2",
        "timeoutType": "num",
        "timeoutUnits": "minutes",
        "checkCurrentState": true,
        "blockInputOverrides": true,
        "outputProperties": [],
        "entityLocation": "data",
        "entityLocationType": "none",
        "x": 1500,
        "y": 480,
        "wires": [
            [
                "c643d4d4.2baf98"
            ],
            [
                "64e882fa1c38e011"
            ]
        ]
    },
    {
        "id": "934221e4.b2d0d",
        "type": "stoptimer",
        "z": "55da1471.fda0fc",
        "duration": "10",
        "units": "Minute",
        "payloadtype": "num",
        "payloadval": "0",
        "name": "",
        "x": 720,
        "y": 520,
        "wires": [
            [
                "60f6cd3f.56a0f4"
            ],
            []
        ]
    },
    {
        "id": "3cf95b5d.b388f4",
        "type": "stoptimer",
        "z": "55da1471.fda0fc",
        "duration": "4",
        "units": "Second",
        "payloadtype": "num",
        "payloadval": "0",
        "name": "",
        "x": 720,
        "y": 640,
        "wires": [
            [
                "71847fb30d3084f7"
            ],
            []
        ]
    },
    {
        "id": "144ebe3499c86989",
        "type": "catch",
        "z": "55da1471.fda0fc",
        "g": "7a6662144d2d489c",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "dbd017147d154790"
            ]
        ]
    },
    {
        "id": "dbd017147d154790",
        "type": "template",
        "z": "55da1471.fda0fc",
        "g": "7a6662144d2d489c",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "74b269c1337cbb9d"
            ]
        ]
    },
    {
        "id": "4d1450df9aae47f1",
        "type": "link out",
        "z": "55da1471.fda0fc",
        "g": "7a6662144d2d489c",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 475,
        "y": 80,
        "wires": []
    },
    {
        "id": "74b269c1337cbb9d",
        "type": "template",
        "z": "55da1471.fda0fc",
        "g": "7a6662144d2d489c",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "4d1450df9aae47f1"
            ]
        ]
    },
    {
        "id": "af7eaeb691b4b689",
        "type": "change",
        "z": "29a2e1dd05ecbf80",
        "name": "",
        "rules": [
            {
                "t": "change",
                "p": "payload",
                "pt": "msg",
                "from": "input_boolean.vacuum_hall",
                "fromt": "str",
                "to": "16",
                "tot": "num"
            },
            {
                "t": "change",
                "p": "payload",
                "pt": "msg",
                "from": "input_boolean.vacuum_living_room",
                "fromt": "str",
                "to": "17",
                "tot": "num"
            },
            {
                "t": "change",
                "p": "payload",
                "pt": "msg",
                "from": "input_boolean.vacuum_dining_room",
                "fromt": "str",
                "to": "18",
                "tot": "num"
            },
            {
                "t": "change",
                "p": "payload",
                "pt": "msg",
                "from": "input_boolean.vacuum_kitchen",
                "fromt": "str",
                "to": "19",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 660,
        "y": 160,
        "wires": [
            [
                "6fc6228af058839b"
            ]
        ]
    },
    {
        "id": "6fc6228af058839b",
        "type": "join",
        "z": "29a2e1dd05ecbf80",
        "name": "",
        "mode": "auto",
        "build": "object",
        "property": "payload",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": "false",
        "timeout": "",
        "count": "",
        "reduceRight": false,
        "x": 830,
        "y": 160,
        "wires": [
            [
                "458382747fd06019"
            ]
        ]
    },
    {
        "id": "02cc03fa2fa9b1c1",
        "type": "change",
        "z": "29a2e1dd05ecbf80",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "payload.entity_id",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 480,
        "y": 160,
        "wires": [
            [
                "af7eaeb691b4b689",
                "92f37dfc24d886b9"
            ]
        ]
    },
    {
        "id": "458382747fd06019",
        "type": "function",
        "z": "29a2e1dd05ecbf80",
        "name": "create service call",
        "func": "msg.payload = {\n    \"domain\": \"vacuum\",\n    \"service\": \"send_command\",\n    \"target\": {\n        \"entity_id\": \"vacuum.roborock_s6_pure\"\n    },\n    \"data\": {\n        \"command\": \"app_segment_clean\",\n        \"params\": [\n            {\n                \"segments\": msg.payload\n            }\n        ]\n    }\n};\nreturn msg;\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 990,
        "y": 160,
        "wires": [
            [
                "3a3544e58c336443"
            ]
        ]
    },
    {
        "id": "32ee19ec383e0543",
        "type": "comment",
        "z": "29a2e1dd05ecbf80",
        "name": "clean selected rooms",
        "info": "",
        "x": 120,
        "y": 20,
        "wires": []
    },
    {
        "id": "0abec8ca261199bd",
        "type": "function",
        "z": "29a2e1dd05ecbf80",
        "name": "create service call",
        "func": "msg.payload = {\n    \"domain\": \"vacuum\",\n    \"service\": \"send_command\",\n    \"target\": {\n        \"entity_id\": \"vacuum.roborock_s55\"\n    },\n    \"data\": {\n        \"command\": \"app_segment_clean\",\n        \"params\": [\n            {\n                \"segments\": msg.payload\n            }\n        ]\n    }\n};\nreturn msg;\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 990,
        "y": 200,
        "wires": [
            [
                "3a3544e58c336443"
            ]
        ]
    },
    {
        "id": "1b709ceb0d69c831",
        "type": "join",
        "z": "29a2e1dd05ecbf80",
        "name": "",
        "mode": "auto",
        "build": "object",
        "property": "payload",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": "false",
        "timeout": "",
        "count": "",
        "reduceRight": false,
        "x": 830,
        "y": 200,
        "wires": [
            [
                "0abec8ca261199bd"
            ]
        ]
    },
    {
        "id": "92f37dfc24d886b9",
        "type": "change",
        "z": "29a2e1dd05ecbf80",
        "name": "",
        "rules": [
            {
                "t": "change",
                "p": "payload",
                "pt": "msg",
                "from": "input_boolean.vacuum_laundry_room",
                "fromt": "str",
                "to": "16",
                "tot": "num"
            },
            {
                "t": "change",
                "p": "payload",
                "pt": "msg",
                "from": "input_boolean.vacuum_souterrain",
                "fromt": "str",
                "to": "1",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 660,
        "y": 200,
        "wires": [
            [
                "1b709ceb0d69c831"
            ]
        ]
    },
    {
        "id": "3a3544e58c336443",
        "type": "api-call-service",
        "z": "29a2e1dd05ecbf80",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [],
        "labelId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "",
        "service": "",
        "x": 1190,
        "y": 160,
        "wires": [
            [
                "336d51b627dd3548"
            ]
        ]
    },
    {
        "id": "28a3562272f5e8bd",
        "type": "api-call-service",
        "z": "29a2e1dd05ecbf80",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "input_boolean.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "{{payload.entity_id}}"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "input_boolean",
        "service": "turn_off",
        "x": 1680,
        "y": 160,
        "wires": [
            []
        ]
    },
    {
        "id": "72f53719cdbc9455",
        "type": "server-state-changed",
        "z": "29a2e1dd05ecbf80",
        "name": "room cleaning button",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 1,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "input_button.vacuum_start_room_cleaning"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": false,
        "stateType": "str",
        "ifState": "",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 120,
        "y": 160,
        "wires": [
            [
                "a3633aab59b75d5e"
            ]
        ]
    },
    {
        "id": "a3633aab59b75d5e",
        "type": "ha-get-entities",
        "z": "29a2e1dd05ecbf80",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 1,
        "rules": [
            {
                "property": "entity_id",
                "logic": "starts_with",
                "value": "input_boolean.vacuum",
                "valueType": "str"
            },
            {
                "property": "state",
                "logic": "is",
                "value": "on",
                "valueType": "str"
            }
        ],
        "outputType": "split",
        "outputEmptyResults": false,
        "outputLocationType": "msg",
        "outputLocation": "payload",
        "outputResultsCount": 1,
        "x": 310,
        "y": 160,
        "wires": [
            [
                "02cc03fa2fa9b1c1"
            ]
        ]
    },
    {
        "id": "11adb81ae9e6f5e7",
        "type": "ha-get-entities",
        "z": "29a2e1dd05ecbf80",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 1,
        "rules": [
            {
                "property": "entity_id",
                "logic": "starts_with",
                "value": "input_boolean.vacuum",
                "valueType": "str"
            },
            {
                "property": "state",
                "logic": "is",
                "value": "on",
                "valueType": "str"
            }
        ],
        "outputType": "split",
        "outputEmptyResults": false,
        "outputLocationType": "msg",
        "outputLocation": "payload",
        "outputResultsCount": 1,
        "x": 1490,
        "y": 160,
        "wires": [
            [
                "28a3562272f5e8bd"
            ]
        ]
    },
    {
        "id": "336d51b627dd3548",
        "type": "ha-wait-until",
        "z": "29a2e1dd05ecbf80",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 1,
        "entities": {
            "entity": [],
            "substring": [],
            "regex": [
                "^vacuum."
            ]
        },
        "property": "state",
        "comparator": "is",
        "value": "cleaning",
        "valueType": "str",
        "timeout": "0",
        "timeoutType": "num",
        "timeoutUnits": "seconds",
        "checkCurrentState": true,
        "blockInputOverrides": true,
        "outputProperties": [],
        "entityLocation": "data",
        "entityLocationType": "none",
        "x": 1340,
        "y": 160,
        "wires": [
            [
                "11adb81ae9e6f5e7"
            ]
        ]
    },
    {
        "id": "ed749a88cd5bd834",
        "type": "catch",
        "z": "29a2e1dd05ecbf80",
        "g": "7c9dc6f46ee8eaaf",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "89d0c5bcdd39fd4c"
            ]
        ]
    },
    {
        "id": "89d0c5bcdd39fd4c",
        "type": "template",
        "z": "29a2e1dd05ecbf80",
        "g": "7c9dc6f46ee8eaaf",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "e33e1e962d57e077"
            ]
        ]
    },
    {
        "id": "b7a8e5cc57ee6ca0",
        "type": "link out",
        "z": "29a2e1dd05ecbf80",
        "g": "7c9dc6f46ee8eaaf",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 475,
        "y": 80,
        "wires": []
    },
    {
        "id": "e33e1e962d57e077",
        "type": "template",
        "z": "29a2e1dd05ecbf80",
        "g": "7c9dc6f46ee8eaaf",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "b7a8e5cc57ee6ca0"
            ]
        ]
    },
    {
        "id": "1cc93bcf43cdbf60",
        "type": "comment",
        "z": "03ed0365a1543556",
        "name": "Turn on or off tablet charging based on battery level",
        "info": "",
        "x": 210,
        "y": 20,
        "wires": []
    },
    {
        "id": "b9298a615e99a23f",
        "type": "switch",
        "z": "03ed0365a1543556",
        "name": "battery level",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "gte",
                "v": "80",
                "vt": "num"
            },
            {
                "t": "lt",
                "v": "30",
                "vt": "num"
            },
            {
                "t": "lt",
                "v": "20",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "NaN",
                "vt": "str"
            },
            {
                "t": "null"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 5,
        "x": 330,
        "y": 180,
        "wires": [
            [
                "0b118ac6e884fc56"
            ],
            [
                "077067e28d6d59b4"
            ],
            [
                "c55acb1486d56163"
            ],
            [
                "077067e28d6d59b4"
            ],
            [
                "077067e28d6d59b4"
            ]
        ]
    },
    {
        "id": "c55acb1486d56163",
        "type": "template",
        "z": "03ed0365a1543556",
        "name": "message",
        "field": "message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "{{data.new_state.attributes.friendly_name}} is {{payload}}%",
        "output": "str",
        "x": 520,
        "y": 220,
        "wires": [
            [
                "30b5e775d2659181"
            ]
        ]
    },
    {
        "id": "077067e28d6d59b4",
        "type": "api-call-service",
        "z": "03ed0365a1543556",
        "name": "turn on wall tablet charger",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "switch.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "switch.cv_closet_walltablet_charger"
        ],
        "labelId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "switch",
        "service": "turn_on",
        "x": 570,
        "y": 280,
        "wires": [
            []
        ]
    },
    {
        "id": "0b118ac6e884fc56",
        "type": "api-call-service",
        "z": "03ed0365a1543556",
        "name": "turn off wall tablet charger",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "switch.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "switch.cv_closet_walltablet_charger"
        ],
        "labelId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "switch",
        "service": "turn_off",
        "x": 570,
        "y": 160,
        "wires": [
            []
        ]
    },
    {
        "id": "30b5e775d2659181",
        "type": "api-call-service",
        "z": "03ed0365a1543556",
        "name": "slack message",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "notify.theautomation",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [],
        "labelId": [],
        "data": "{\"message\":\"Battery\",\"target\":\"#home-assistant\",\"title\":\"Battery\",\"data\":{\"blocks\":[{\"type\":\"header\",\"text\":{\"type\":\"plain_text\",\"text\":\"Tablet :battery:\"}},{\"type\":\"section\",\"fields\":[{\"type\":\"mrkdwn\",\"text\":\"{{{message}}}\"}]}]}}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "notify",
        "service": "theautomation",
        "x": 680,
        "y": 220,
        "wires": [
            []
        ]
    },
    {
        "id": "13ac101837378eb8",
        "type": "server-state-changed",
        "z": "03ed0365a1543556",
        "name": "wall tablet battery level",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 1,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "sensor.galaxy_tab_a8_battery"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": true,
        "stateType": "num",
        "ifState": "",
        "ifStateType": "num",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": false,
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            }
        ],
        "x": 120,
        "y": 160,
        "wires": [
            [
                "b9298a615e99a23f",
                "3217ced2069523e7"
            ]
        ]
    },
    {
        "id": "3217ced2069523e7",
        "type": "stoptimer",
        "z": "03ed0365a1543556",
        "duration": "1",
        "units": "Hour",
        "payloadtype": "num",
        "payloadval": "0",
        "name": "",
        "x": 330,
        "y": 280,
        "wires": [
            [
                "077067e28d6d59b4"
            ],
            []
        ]
    },
    {
        "id": "874b60377e719fde",
        "type": "catch",
        "z": "03ed0365a1543556",
        "g": "53dc0a23c8426878",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "387845d9698cbe12"
            ]
        ]
    },
    {
        "id": "387845d9698cbe12",
        "type": "template",
        "z": "03ed0365a1543556",
        "g": "53dc0a23c8426878",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "dfa305742a8fe0b2"
            ]
        ]
    },
    {
        "id": "7bf74cbdd5a69c4a",
        "type": "link out",
        "z": "03ed0365a1543556",
        "g": "53dc0a23c8426878",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 475,
        "y": 80,
        "wires": []
    },
    {
        "id": "dfa305742a8fe0b2",
        "type": "template",
        "z": "03ed0365a1543556",
        "g": "53dc0a23c8426878",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "7bf74cbdd5a69c4a"
            ]
        ]
    },
    {
        "id": "d4d19ad1bc94c25a",
        "type": "template",
        "z": "39bdcb9ed819fc87",
        "g": "959cc8d22399a3c9",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "008e4e3d5eb1c73a"
            ]
        ]
    },
    {
        "id": "008e4e3d5eb1c73a",
        "type": "link out",
        "z": "39bdcb9ed819fc87",
        "g": "959cc8d22399a3c9",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 475,
        "y": 80,
        "wires": []
    },
    {
        "id": "ab5ff3a4a505c122",
        "type": "template",
        "z": "39bdcb9ed819fc87",
        "g": "959cc8d22399a3c9",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "d4d19ad1bc94c25a"
            ]
        ]
    },
    {
        "id": "259d9bad9d37b072",
        "type": "catch",
        "z": "39bdcb9ed819fc87",
        "g": "959cc8d22399a3c9",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "ab5ff3a4a505c122"
            ]
        ]
    },
    {
        "id": "6a245f91bfd4669f",
        "type": "comment",
        "z": "39bdcb9ed819fc87",
        "name": "custom sensor that translate weather code dutch to english so the color can be used to set icon color in frontend",
        "info": "",
        "x": 400,
        "y": 20,
        "wires": []
    },
    {
        "id": "4226161bbc5e814e",
        "type": "function",
        "z": "39bdcb9ed819fc87",
        "name": "setup translation request",
        "func": "var text = msg.payload;\nvar source = \"nl\";\nvar target = \"en\";\n\nmsg.url = `https://api.mymemory.translated.net/get?q=${encodeURIComponent(text)}&langpair=${source}|${target}`;\n\nreturn msg;",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 330,
        "y": 160,
        "wires": [
            [
                "60a83f3d93926307"
            ]
        ]
    },
    {
        "id": "60a83f3d93926307",
        "type": "http request",
        "z": "39bdcb9ed819fc87",
        "name": "api call",
        "method": "GET",
        "ret": "obj",
        "paytoqs": "ignore",
        "url": "",
        "tls": "",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "",
        "senderr": false,
        "headers": [],
        "x": 520,
        "y": 160,
        "wires": [
            [
                "e2249f97e8ed5340"
            ]
        ]
    },
    {
        "id": "3783939d485f6ea8",
        "type": "server-state-changed",
        "z": "39bdcb9ed819fc87",
        "name": "knmi weather code",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 1,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "sensor.knmi_weather_code"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": true,
        "stateType": "str",
        "ifState": "",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": false,
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            }
        ],
        "x": 110,
        "y": 160,
        "wires": [
            [
                "4226161bbc5e814e"
            ]
        ]
    },
    {
        "id": "e2249f97e8ed5340",
        "type": "ha-sensor",
        "z": "39bdcb9ed819fc87",
        "name": "weather code translated",
        "entityConfig": "60731eead34cfb6b",
        "version": 0,
        "state": "payload.responseData.translatedText",
        "stateType": "msg",
        "attributes": [],
        "inputOverride": "allow",
        "outputProperties": [],
        "x": 710,
        "y": 160,
        "wires": [
            []
        ]
    },
    {
        "id": "b53ddf5bdebb843d",
        "type": "comment",
        "z": "acd9bd0c60806bd8",
        "name": "automation that turns off the toilet light",
        "info": "",
        "x": 170,
        "y": 20,
        "wires": []
    },
    {
        "id": "7b608bc9a37ee5c2",
        "type": "catch",
        "z": "acd9bd0c60806bd8",
        "g": "0a76fbe2d5c4a8d7",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "b6ffd20beaf691b9"
            ]
        ]
    },
    {
        "id": "b6ffd20beaf691b9",
        "type": "template",
        "z": "acd9bd0c60806bd8",
        "g": "0a76fbe2d5c4a8d7",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "1c3d282713ad9eb9"
            ]
        ]
    },
    {
        "id": "5d396ef39d0c5fee",
        "type": "link out",
        "z": "acd9bd0c60806bd8",
        "g": "0a76fbe2d5c4a8d7",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 475,
        "y": 80,
        "wires": []
    },
    {
        "id": "1c3d282713ad9eb9",
        "type": "template",
        "z": "acd9bd0c60806bd8",
        "g": "0a76fbe2d5c4a8d7",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "5d396ef39d0c5fee"
            ]
        ]
    },
    {
        "id": "1cfb93e7bf15bb7b",
        "type": "server-state-changed",
        "z": "acd9bd0c60806bd8",
        "name": "toilet door opens",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "binary_sensor.toiletdoor"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": false,
        "stateType": "str",
        "ifState": "on",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 100,
        "y": 160,
        "wires": [
            [
                "162a8ae129dc4c49"
            ],
            []
        ]
    },
    {
        "id": "be5d17bb75d048b5",
        "type": "api-call-service",
        "z": "acd9bd0c60806bd8",
        "name": "turn on toilet light",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "light.shelly1pm_toilet_light_switch_0"
        ],
        "labelId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": true,
        "domain": "light",
        "service": "turn_on",
        "x": 470,
        "y": 160,
        "wires": [
            [
                "3bc70aa9f6ea5f61"
            ]
        ]
    },
    {
        "id": "3bc70aa9f6ea5f61",
        "type": "ha-wait-until",
        "z": "acd9bd0c60806bd8",
        "name": "wait until toilet door closes",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "entities": {
            "entity": [
                "binary_sensor.toiletdoor"
            ],
            "substring": [],
            "regex": []
        },
        "property": "state",
        "comparator": "is",
        "value": "off",
        "valueType": "str",
        "timeout": "30",
        "timeoutType": "num",
        "timeoutUnits": "minutes",
        "checkCurrentState": true,
        "blockInputOverrides": true,
        "outputProperties": [],
        "x": 710,
        "y": 160,
        "wires": [
            [
                "055af5f916f4a558",
                "707b4d06d170119e"
            ],
            [
                "b9b8fb4bc7c07cc4"
            ]
        ]
    },
    {
        "id": "055af5f916f4a558",
        "type": "ha-wait-until",
        "z": "acd9bd0c60806bd8",
        "name": "wait until toilet door opens",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "entities": {
            "entity": [
                "binary_sensor.toiletdoor"
            ],
            "substring": [],
            "regex": []
        },
        "property": "state",
        "comparator": "is",
        "value": "on",
        "valueType": "str",
        "timeout": "30",
        "timeoutType": "num",
        "timeoutUnits": "minutes",
        "checkCurrentState": true,
        "blockInputOverrides": true,
        "outputProperties": [],
        "x": 1010,
        "y": 220,
        "wires": [
            [
                "1c4e69306cc62b99"
            ],
            [
                "27620b0ca83e1401"
            ]
        ]
    },
    {
        "id": "1c4e69306cc62b99",
        "type": "ha-wait-until",
        "z": "acd9bd0c60806bd8",
        "name": "wait until water runs",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "entities": {
            "entity": [
                "sensor.watermeter_pulse"
            ],
            "substring": [],
            "regex": []
        },
        "property": "state",
        "comparator": "gt",
        "value": "1",
        "valueType": "num",
        "timeout": "30",
        "timeoutType": "num",
        "timeoutUnits": "minutes",
        "checkCurrentState": true,
        "blockInputOverrides": true,
        "outputProperties": [],
        "x": 1280,
        "y": 220,
        "wires": [
            [
                "cf3c768bfd44bb20"
            ],
            [
                "cf3c768bfd44bb20"
            ]
        ]
    },
    {
        "id": "b9b8fb4bc7c07cc4",
        "type": "change",
        "z": "acd9bd0c60806bd8",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "reset",
                "pt": "msg",
                "to": "on",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 740,
        "y": 300,
        "wires": [
            [
                "a92fff4f506cc380"
            ]
        ]
    },
    {
        "id": "162a8ae129dc4c49",
        "type": "api-current-state",
        "z": "acd9bd0c60806bd8",
        "name": "toilet light is off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "light.shelly1pm_toilet_light_switch_0",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 280,
        "y": 160,
        "wires": [
            [
                "be5d17bb75d048b5"
            ],
            []
        ]
    },
    {
        "id": "707b4d06d170119e",
        "type": "ha-wait-until",
        "z": "acd9bd0c60806bd8",
        "name": "wait until water runs",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "entities": {
            "entity": [
                "sensor.watermeter_pulse"
            ],
            "substring": [],
            "regex": []
        },
        "property": "state",
        "comparator": "gt",
        "value": "1",
        "valueType": "num",
        "timeout": "30",
        "timeoutType": "num",
        "timeoutUnits": "minutes",
        "checkCurrentState": true,
        "blockInputOverrides": true,
        "outputProperties": [],
        "x": 1000,
        "y": 160,
        "wires": [
            [
                "39db305949939e6d"
            ],
            []
        ]
    },
    {
        "id": "39db305949939e6d",
        "type": "ha-wait-until",
        "z": "acd9bd0c60806bd8",
        "name": "wait until toilet door opens",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "entities": {
            "entity": [
                "binary_sensor.toiletdoor"
            ],
            "substring": [],
            "regex": []
        },
        "property": "state",
        "comparator": "is",
        "value": "on",
        "valueType": "str",
        "timeout": "30",
        "timeoutType": "num",
        "timeoutUnits": "minutes",
        "checkCurrentState": true,
        "blockInputOverrides": true,
        "outputProperties": [],
        "x": 1290,
        "y": 160,
        "wires": [
            [
                "cf3c768bfd44bb20"
            ],
            []
        ]
    },
    {
        "id": "3413ca5a56b48fd6",
        "type": "api-call-service",
        "z": "acd9bd0c60806bd8",
        "name": "turn off toilet light",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "light.shelly1pm_toilet_light_switch_0"
        ],
        "labelId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": true,
        "domain": "light",
        "service": "turn_off",
        "x": 1970,
        "y": 160,
        "wires": [
            []
        ]
    },
    {
        "id": "cf3c768bfd44bb20",
        "type": "ha-wait-until",
        "z": "acd9bd0c60806bd8",
        "name": "wait until toilet door closes",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "entities": {
            "entity": [
                "binary_sensor.toiletdoor"
            ],
            "substring": [],
            "regex": []
        },
        "property": "state",
        "comparator": "is",
        "value": "off",
        "valueType": "str",
        "timeout": "30",
        "timeoutType": "num",
        "timeoutUnits": "minutes",
        "checkCurrentState": true,
        "blockInputOverrides": true,
        "outputProperties": [],
        "x": 1570,
        "y": 160,
        "wires": [
            [
                "db61508a1ac01385"
            ],
            []
        ]
    },
    {
        "id": "db61508a1ac01385",
        "type": "api-current-state",
        "z": "acd9bd0c60806bd8",
        "name": "toilet light is on",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "light.shelly1pm_toilet_light_switch_0",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 1780,
        "y": 160,
        "wires": [
            [
                "3413ca5a56b48fd6"
            ],
            []
        ]
    },
    {
        "id": "994b4caf94c3451c",
        "type": "comment",
        "z": "a4fbdd1c0456c1af",
        "name": "button to toggle tv device on/off",
        "info": "",
        "x": 150,
        "y": 20,
        "wires": []
    },
    {
        "id": "3724f1550b7ce891",
        "type": "api-call-service",
        "z": "a4fbdd1c0456c1af",
        "name": "turn off tv",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "webostv.command",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [],
        "labelId": [],
        "data": "{\"entity_id\":\"media_player.lg_webos_smart_tv\",\"command\":\"system/turnOff\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "webostv",
        "service": "command",
        "x": 360,
        "y": 220,
        "wires": [
            [
                "69b6c54a1cabe45b"
            ]
        ]
    },
    {
        "id": "38a89a2645866f0c",
        "type": "api-call-service",
        "z": "a4fbdd1c0456c1af",
        "name": "turn on shield mediaplayer",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "media_player.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "media_player.shield"
        ],
        "labelId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "media_player",
        "service": "turn_on",
        "x": 420,
        "y": 160,
        "wires": [
            []
        ]
    },
    {
        "id": "69b6c54a1cabe45b",
        "type": "api-call-service",
        "z": "a4fbdd1c0456c1af",
        "name": "turn off shield mediaplayer",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "media_player.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "media_player.shield"
        ],
        "labelId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "media_player",
        "service": "turn_off",
        "x": 560,
        "y": 220,
        "wires": [
            []
        ]
    },
    {
        "id": "fff03108c5f1ce08",
        "type": "api-current-state",
        "z": "a4fbdd1c0456c1af",
        "name": "tv state is off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "media_player.lg_webos_smart_tv",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 210,
        "y": 160,
        "wires": [
            [
                "38a89a2645866f0c"
            ],
            [
                "3724f1550b7ce891"
            ]
        ]
    },
    {
        "id": "9b76c1a2318387ea",
        "type": "ha-button",
        "z": "a4fbdd1c0456c1af",
        "name": "",
        "version": 0,
        "debugenabled": false,
        "outputs": 1,
        "entityConfig": "334728918669134a",
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "x": 70,
        "y": 160,
        "wires": [
            [
                "fff03108c5f1ce08"
            ]
        ]
    },
    {
        "id": "289e69cd264b93eb",
        "type": "catch",
        "z": "a4fbdd1c0456c1af",
        "g": "0c4c4d997dc4f3b1",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "2fc22cb558c3300b"
            ]
        ]
    },
    {
        "id": "2fc22cb558c3300b",
        "type": "template",
        "z": "a4fbdd1c0456c1af",
        "g": "0c4c4d997dc4f3b1",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "c5d9fdd7bfb1fbb3"
            ]
        ]
    },
    {
        "id": "f6679763cd60d5c2",
        "type": "link out",
        "z": "a4fbdd1c0456c1af",
        "g": "0c4c4d997dc4f3b1",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 475,
        "y": 80,
        "wires": []
    },
    {
        "id": "c5d9fdd7bfb1fbb3",
        "type": "template",
        "z": "a4fbdd1c0456c1af",
        "g": "0c4c4d997dc4f3b1",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "f6679763cd60d5c2"
            ]
        ]
    },
    {
        "id": "4a35bcbba9fd8659",
        "type": "change",
        "z": "67a16d037f1a73fc",
        "name": "off",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "off",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 310,
        "y": 160,
        "wires": [
            [
                "dec82ecde28afe10"
            ]
        ]
    },
    {
        "id": "1ca6cd4f788d2e7e",
        "type": "comment",
        "z": "67a16d037f1a73fc",
        "name": "turn on or off binary sensor tv device base on power usage or mediaplayer state",
        "info": "",
        "x": 300,
        "y": 20,
        "wires": []
    },
    {
        "id": "cc3caee8d4e6c43d",
        "type": "change",
        "z": "67a16d037f1a73fc",
        "name": "on",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "on",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 310,
        "y": 200,
        "wires": [
            [
                "dec82ecde28afe10"
            ]
        ]
    },
    {
        "id": "3ad861c67030f3f1",
        "type": "server-state-changed",
        "z": "67a16d037f1a73fc",
        "name": "lg tv mediaplayer is off",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "media_player.lg_webos_smart_tv"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": true,
        "stateType": "str",
        "ifState": "off",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": true,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 120,
        "y": 160,
        "wires": [
            [
                "4a35bcbba9fd8659"
            ],
            [
                "cc3caee8d4e6c43d"
            ]
        ]
    },
    {
        "id": "dec82ecde28afe10",
        "type": "ha-binary-sensor",
        "z": "67a16d037f1a73fc",
        "name": "tv_device",
        "entityConfig": "03547137a16812fd",
        "version": 0,
        "state": "payload",
        "stateType": "msg",
        "attributes": [],
        "inputOverride": "allow",
        "outputProperties": [],
        "x": 460,
        "y": 160,
        "wires": [
            []
        ]
    },
    {
        "id": "f51ddf7aa1887856",
        "type": "catch",
        "z": "67a16d037f1a73fc",
        "g": "6c139f7e45d57ce6",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "94668c7094bf409b"
            ]
        ]
    },
    {
        "id": "94668c7094bf409b",
        "type": "template",
        "z": "67a16d037f1a73fc",
        "g": "6c139f7e45d57ce6",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "aaf28e71155281d1"
            ]
        ]
    },
    {
        "id": "0e36b13934d068e7",
        "type": "link out",
        "z": "67a16d037f1a73fc",
        "g": "6c139f7e45d57ce6",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 475,
        "y": 80,
        "wires": []
    },
    {
        "id": "aaf28e71155281d1",
        "type": "template",
        "z": "67a16d037f1a73fc",
        "g": "6c139f7e45d57ce6",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "0e36b13934d068e7"
            ]
        ]
    },
    {
        "id": "5bb7a42d4f9af661",
        "type": "template",
        "z": "2c496b90815e2d15",
        "g": "56142a1519568ef8",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "ddf56ac7c76174e3"
            ]
        ]
    },
    {
        "id": "ddf56ac7c76174e3",
        "type": "link out",
        "z": "2c496b90815e2d15",
        "g": "56142a1519568ef8",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 475,
        "y": 80,
        "wires": []
    },
    {
        "id": "a095e55bdff6b447",
        "type": "template",
        "z": "2c496b90815e2d15",
        "g": "56142a1519568ef8",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "5bb7a42d4f9af661"
            ]
        ]
    },
    {
        "id": "b6bfca82eda04627",
        "type": "catch",
        "z": "2c496b90815e2d15",
        "g": "56142a1519568ef8",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "a095e55bdff6b447"
            ]
        ]
    },
    {
        "id": "d74a8990e320bdd1",
        "type": "change",
        "z": "2c496b90815e2d15",
        "name": "set screen to off",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "Off",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 380,
        "y": 160,
        "wires": [
            [
                "bf0edd39a6bab4fd"
            ]
        ]
    },
    {
        "id": "62bc4f4208a1c07d",
        "type": "change",
        "z": "2c496b90815e2d15",
        "name": "set screen to on",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "On",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 380,
        "y": 200,
        "wires": [
            [
                "bf0edd39a6bab4fd"
            ]
        ]
    },
    {
        "id": "e3fded43b9c078ca",
        "type": "comment",
        "z": "2c496b90815e2d15",
        "name": "button to toggle tvscreen on/off",
        "info": "",
        "x": 150,
        "y": 20,
        "wires": []
    },
    {
        "id": "bf0edd39a6bab4fd",
        "type": "api-call-service",
        "z": "2c496b90815e2d15",
        "name": "tv screen toggle",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "webostv.command",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [],
        "labelId": [],
        "data": "{\"command\":\"com.webos.service.tvpower/power/turn{{topic}}Screen\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "webostv",
        "service": "command",
        "x": 560,
        "y": 160,
        "wires": [
            []
        ]
    },
    {
        "id": "89261028e8c833f2",
        "type": "ha-button",
        "z": "2c496b90815e2d15",
        "name": "tv screen toggle button",
        "version": 0,
        "debugenabled": false,
        "outputs": 1,
        "entityConfig": "8cfcbd4314535fdb",
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "x": 120,
        "y": 160,
        "wires": [
            [
                "d74a8990e320bdd1",
                "1d17d4994d0cc1e1"
            ]
        ]
    },
    {
        "id": "384856183bc9a3dc",
        "type": "template",
        "z": "b1c954404ea39706",
        "g": "50d4aab3fb8401c4",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "85efbfe86edb2e91"
            ]
        ]
    },
    {
        "id": "85efbfe86edb2e91",
        "type": "link out",
        "z": "b1c954404ea39706",
        "g": "50d4aab3fb8401c4",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 475,
        "y": 80,
        "wires": []
    },
    {
        "id": "96744f1f4c81f4f5",
        "type": "template",
        "z": "b1c954404ea39706",
        "g": "50d4aab3fb8401c4",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "384856183bc9a3dc"
            ]
        ]
    },
    {
        "id": "cf20999f86ef9f29",
        "type": "catch",
        "z": "b1c954404ea39706",
        "g": "50d4aab3fb8401c4",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "96744f1f4c81f4f5"
            ]
        ]
    },
    {
        "id": "2a258b8e5d5f02c1",
        "type": "change",
        "z": "b1c954404ea39706",
        "name": "off",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "off",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 370,
        "y": 160,
        "wires": [
            [
                "e03eed5bed2f57e7"
            ]
        ]
    },
    {
        "id": "bb325460c43b1166",
        "type": "change",
        "z": "b1c954404ea39706",
        "name": "on",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "on",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 370,
        "y": 200,
        "wires": [
            [
                "e03eed5bed2f57e7"
            ]
        ]
    },
    {
        "id": "5620508d3ec7e20a",
        "type": "switch",
        "z": "b1c954404ea39706",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "lte",
                "v": "53",
                "vt": "num"
            },
            {
                "t": "gt",
                "v": "53",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 250,
        "y": 160,
        "wires": [
            [
                "2a258b8e5d5f02c1"
            ],
            [
                "bb325460c43b1166"
            ]
        ]
    },
    {
        "id": "bee1f110f6601d1b",
        "type": "comment",
        "z": "b1c954404ea39706",
        "name": "turn on or off binary sensor tvscreen device base on tv power usage",
        "info": "",
        "x": 260,
        "y": 20,
        "wires": []
    },
    {
        "id": "edb38616cd8dda04",
        "type": "server-state-changed",
        "z": "b1c954404ea39706",
        "d": true,
        "name": "tv device power",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 1,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "sensor.shellyplug_tv_power"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": true,
        "stateType": "str",
        "ifState": "",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "0",
        "forType": "num",
        "forUnits": "seconds",
        "ignorePrevStateNull": true,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 100,
        "y": 160,
        "wires": [
            [
                "5620508d3ec7e20a"
            ]
        ]
    },
    {
        "id": "e03eed5bed2f57e7",
        "type": "ha-binary-sensor",
        "z": "b1c954404ea39706",
        "name": "tvscreen_device",
        "entityConfig": "bb28b274f3ceaae8",
        "version": 0,
        "state": "payload",
        "stateType": "msg",
        "attributes": [],
        "inputOverride": "allow",
        "outputProperties": [],
        "x": 520,
        "y": 160,
        "wires": [
            []
        ]
    },
    {
        "id": "63f2e5de506021ab",
        "type": "comment",
        "z": "2863cbc8bee70856",
        "name": "change light based on actions",
        "info": "",
        "x": 140,
        "y": 20,
        "wires": []
    },
    {
        "id": "db49a00d5adc0cb7",
        "type": "api-call-service",
        "z": "2863cbc8bee70856",
        "name": "turn on basement stairs light",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "{{data.entity_id}}"
        ],
        "labelId": [],
        "data": "{\"transition\":5000}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "light",
        "service": "turn_on",
        "x": 1060,
        "y": 180,
        "wires": [
            []
        ]
    },
    {
        "id": "0b64f5a2e27c31f0",
        "type": "api-call-service",
        "z": "2863cbc8bee70856",
        "name": "turn off basement stairs light",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "{{data.entity_id}}"
        ],
        "labelId": [],
        "data": "{\"transition\":5000}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "light",
        "service": "turn_off",
        "x": 1060,
        "y": 240,
        "wires": [
            []
        ]
    },
    {
        "id": "19e3c39a7481e04b",
        "type": "api-current-state",
        "z": "2863cbc8bee70856",
        "name": "basement stairs light is off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "light.shellydimmer_basement_stairs",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 550,
        "y": 180,
        "wires": [
            [
                "db49a00d5adc0cb7"
            ],
            []
        ]
    },
    {
        "id": "b13ee71e7f09ace4",
        "type": "api-current-state",
        "z": "2863cbc8bee70856",
        "name": "basement door is closed",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "binary_sensor.basement_door",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 550,
        "y": 240,
        "wires": [
            [
                "a5689ff4c9a82d8e"
            ],
            [
                "123a8dfe28431656"
            ]
        ]
    },
    {
        "id": "a5689ff4c9a82d8e",
        "type": "api-current-state",
        "z": "2863cbc8bee70856",
        "name": "basement stairs light is on",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "light.shellydimmer_basement_stairs",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 810,
        "y": 240,
        "wires": [
            [
                "0b64f5a2e27c31f0"
            ],
            []
        ]
    },
    {
        "id": "ec0a3cf53f08df55",
        "type": "server-state-changed",
        "z": "2863cbc8bee70856",
        "name": "basement door is open",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "binary_sensor.basement_door"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": true,
        "stateType": "str",
        "ifState": "on",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": false,
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [],
        "x": 120,
        "y": 180,
        "wires": [
            [
                "19e3c39a7481e04b"
            ],
            [
                "123a8dfe28431656"
            ]
        ]
    },
    {
        "id": "123a8dfe28431656",
        "type": "stoptimer",
        "z": "2863cbc8bee70856",
        "duration": "10",
        "units": "Second",
        "payloadtype": "num",
        "payloadval": "0",
        "name": "",
        "x": 330,
        "y": 240,
        "wires": [
            [
                "b13ee71e7f09ace4"
            ],
            []
        ]
    },
    {
        "id": "9be6d18fa9149c14",
        "type": "catch",
        "z": "2863cbc8bee70856",
        "g": "f76361b9ab8df196",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "67abbaaabd24e85e"
            ]
        ]
    },
    {
        "id": "67abbaaabd24e85e",
        "type": "template",
        "z": "2863cbc8bee70856",
        "g": "f76361b9ab8df196",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "18db9b1d71ff195a"
            ]
        ]
    },
    {
        "id": "d1ac9e9826f44523",
        "type": "link out",
        "z": "2863cbc8bee70856",
        "g": "f76361b9ab8df196",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 475,
        "y": 80,
        "wires": []
    },
    {
        "id": "18db9b1d71ff195a",
        "type": "template",
        "z": "2863cbc8bee70856",
        "g": "f76361b9ab8df196",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "d1ac9e9826f44523"
            ]
        ]
    },
    {
        "id": "c00f2020b705a0e3",
        "type": "comment",
        "z": "8ca9fd35c2a2b1c4",
        "name": "change light based on actions",
        "info": "",
        "x": 140,
        "y": 20,
        "wires": []
    },
    {
        "id": "bd42c34cc2179efa",
        "type": "switch",
        "z": "8ca9fd35c2a2b1c4",
        "name": "person home within 5 minutes or less",
        "property": "payload.timeSinceChangedMs",
        "propertyType": "msg",
        "rules": [
            {
                "t": "lt",
                "v": "300000",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 510,
        "y": 160,
        "wires": [
            [
                "840f28a288c032b5"
            ]
        ]
    },
    {
        "id": "764c3d563b0c2861",
        "type": "api-call-service",
        "z": "8ca9fd35c2a2b1c4",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "{{data.entity_id}}"
        ],
        "labelId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "light",
        "service": "turn_on",
        "x": 950,
        "y": 160,
        "wires": [
            []
        ]
    },
    {
        "id": "840f28a288c032b5",
        "type": "api-current-state",
        "z": "8ca9fd35c2a2b1c4",
        "name": "hallway light is off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "light.shelly1_hallway",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 770,
        "y": 160,
        "wires": [
            [
                "764c3d563b0c2861"
            ],
            []
        ]
    },
    {
        "id": "8be71c38e670f610",
        "type": "server-state-changed",
        "z": "8ca9fd35c2a2b1c4",
        "name": "frontdoor is open",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "binary_sensor.frontdoor"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": false,
        "stateType": "str",
        "ifState": "on",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": false,
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [],
        "x": 100,
        "y": 160,
        "wires": [
            [
                "338bf689b3560d92"
            ],
            []
        ]
    },
    {
        "id": "338bf689b3560d92",
        "type": "ha-get-entities",
        "z": "8ca9fd35c2a2b1c4",
        "name": "get persons",
        "server": "4ba92433.2478cc",
        "version": 1,
        "rules": [
            {
                "property": "entity_id",
                "logic": "starts_with",
                "value": "person.",
                "valueType": "str"
            }
        ],
        "outputType": "split",
        "outputEmptyResults": false,
        "outputLocationType": "msg",
        "outputLocation": "payload",
        "outputResultsCount": 1,
        "x": 270,
        "y": 160,
        "wires": [
            [
                "bd42c34cc2179efa"
            ]
        ]
    },
    {
        "id": "d2e946cf3e720d46",
        "type": "catch",
        "z": "8ca9fd35c2a2b1c4",
        "g": "89cbff0dec5ca2a9",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "0fac954b5d2732b2"
            ]
        ]
    },
    {
        "id": "0fac954b5d2732b2",
        "type": "template",
        "z": "8ca9fd35c2a2b1c4",
        "g": "89cbff0dec5ca2a9",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "c8725231b1ec6142"
            ]
        ]
    },
    {
        "id": "4ccec2f982a522c0",
        "type": "link out",
        "z": "8ca9fd35c2a2b1c4",
        "g": "89cbff0dec5ca2a9",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 475,
        "y": 80,
        "wires": []
    },
    {
        "id": "c8725231b1ec6142",
        "type": "template",
        "z": "8ca9fd35c2a2b1c4",
        "g": "89cbff0dec5ca2a9",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "4ccec2f982a522c0"
            ]
        ]
    },
    {
        "id": "6dfa319026ac7058",
        "type": "switch",
        "z": "9a7094e42d673dc4",
        "name": "on / off",
        "property": "payload.state",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "on",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "off",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 790,
        "y": 580,
        "wires": [
            [
                "8954d811f3cec46a"
            ],
            [
                "f75d0ff36a4c5d27"
            ]
        ]
    },
    {
        "id": "387fd151e9a8e19c",
        "type": "delay",
        "z": "9a7094e42d673dc4",
        "name": "",
        "pauseType": "delay",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "outputs": 1,
        "x": 520,
        "y": 680,
        "wires": [
            [
                "4410039256c7c052"
            ]
        ]
    },
    {
        "id": "4410039256c7c052",
        "type": "change",
        "z": "9a7094e42d673dc4",
        "name": "send red to traffic",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "red",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 690,
        "y": 680,
        "wires": [
            [
                "7c96404bfb58afe2"
            ]
        ]
    },
    {
        "id": "48f6f035713adfb1",
        "type": "change",
        "z": "9a7094e42d673dc4",
        "name": "set domain to light",
        "rules": [
            {
                "t": "set",
                "p": "payload.domain",
                "pt": "msg",
                "to": "light",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 350,
        "y": 520,
        "wires": [
            [
                "7c96404bfb58afe2"
            ]
        ]
    },
    {
        "id": "01b577265818a66e",
        "type": "change",
        "z": "9a7094e42d673dc4",
        "name": "send green to traffic",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "green",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 350,
        "y": 560,
        "wires": [
            [
                "7c96404bfb58afe2"
            ]
        ]
    },
    {
        "id": "53a47bf861d4d73c",
        "type": "switch",
        "z": "9a7094e42d673dc4",
        "name": "",
        "property": "alarm",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "on",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "off",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 130,
        "y": 480,
        "wires": [
            [
                "48f6f035713adfb1",
                "46f8ea6b26f11100"
            ],
            [
                "01b577265818a66e"
            ]
        ]
    },
    {
        "id": "a81dfb3ffd051b14",
        "type": "comment",
        "z": "9a7094e42d673dc4",
        "name": "input requirements",
        "info": "msg.alarm = off \nmsg.alarm = on",
        "x": 110,
        "y": 20,
        "wires": []
    },
    {
        "id": "164322a018845856",
        "type": "link in",
        "z": "9a7094e42d673dc4",
        "name": "lights_on_and_restore_backyard",
        "links": [
            "133af224fc73de70"
        ],
        "x": 215,
        "y": 280,
        "wires": [
            [
                "19c45466f31ded4b"
            ]
        ]
    },
    {
        "id": "02aaf4776d07ae0c",
        "type": "split",
        "z": "9a7094e42d673dc4",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 730,
        "y": 280,
        "wires": [
            [
                "8c4d367a03388fe3"
            ]
        ]
    },
    {
        "id": "7b9024d8c1350eb1",
        "type": "change",
        "z": "9a7094e42d673dc4",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "payload.attributes.entity_id",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 580,
        "y": 280,
        "wires": [
            [
                "02aaf4776d07ae0c"
            ]
        ]
    },
    {
        "id": "43cbfb522e72cbe5",
        "type": "link in",
        "z": "9a7094e42d673dc4",
        "name": "lights_on_and_restore_all",
        "links": [
            "5874beb71c3c9523",
            "e426c9cc0865f723"
        ],
        "x": 215,
        "y": 220,
        "wires": [
            [
                "8def04e9d2da1e31"
            ]
        ]
    },
    {
        "id": "5d17a23a9ac5fe01",
        "type": "link in",
        "z": "9a7094e42d673dc4",
        "name": "lights_on_and_restore_kitchen",
        "links": [
            "411c3c903ef0bd56"
        ],
        "x": 215,
        "y": 340,
        "wires": [
            [
                "2b88f3d631cb6beb"
            ]
        ]
    },
    {
        "id": "8954d811f3cec46a",
        "type": "api-call-service",
        "z": "9a7094e42d673dc4",
        "name": "restore light on state",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "{{payload.domain}}.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "{{payload.entity_id}}"
        ],
        "labelId": [],
        "data": "{\"brightness\":\"{{payload.attributes.brightness}}\",\"transition\":5000}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "{{payload",
        "service": "domain}}",
        "x": 960,
        "y": 560,
        "wires": [
            []
        ]
    },
    {
        "id": "f75d0ff36a4c5d27",
        "type": "api-call-service",
        "z": "9a7094e42d673dc4",
        "name": "restore light off state",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "{{payload.domain}}.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "{{payload.entity_id}}"
        ],
        "labelId": [],
        "data": "{\"transition\":5000}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "{{payload",
        "service": "domain}}",
        "x": 960,
        "y": 620,
        "wires": [
            []
        ]
    },
    {
        "id": "46f8ea6b26f11100",
        "type": "api-call-service",
        "z": "9a7094e42d673dc4",
        "name": "turn on light",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [],
        "labelId": [],
        "data": "{\"entity_id\":\"{{payload.entity_id}}\",\"brightness_pct\":100,\"transition\":5000}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "light",
        "service": "turn_on",
        "x": 990,
        "y": 480,
        "wires": [
            []
        ]
    },
    {
        "id": "8def04e9d2da1e31",
        "type": "ha-get-entities",
        "z": "9a7094e42d673dc4",
        "name": "get all lights",
        "server": "4ba92433.2478cc",
        "version": 1,
        "rules": [
            {
                "property": "entity_id",
                "logic": "starts_with",
                "value": "light.shelly",
                "valueType": "str"
            }
        ],
        "outputType": "split",
        "outputEmptyResults": false,
        "outputLocationType": "msg",
        "outputLocation": "payload",
        "outputResultsCount": 1,
        "x": 990,
        "y": 220,
        "wires": [
            [
                "a5e476b7342dd2fc"
            ]
        ]
    },
    {
        "id": "19c45466f31ded4b",
        "type": "ha-get-entities",
        "z": "9a7094e42d673dc4",
        "name": "get backyard lights group",
        "server": "4ba92433.2478cc",
        "version": 1,
        "rules": [
            {
                "property": "entity_id",
                "logic": "starts_with",
                "value": "group.backyard_lights",
                "valueType": "str"
            }
        ],
        "outputType": "split",
        "outputEmptyResults": false,
        "outputLocationType": "msg",
        "outputLocation": "payload",
        "outputResultsCount": 1,
        "x": 360,
        "y": 280,
        "wires": [
            [
                "7b9024d8c1350eb1"
            ]
        ]
    },
    {
        "id": "8c4d367a03388fe3",
        "type": "ha-get-entities",
        "z": "9a7094e42d673dc4",
        "name": "get backyard lights",
        "server": "4ba92433.2478cc",
        "version": 1,
        "rules": [
            {
                "property": "entity_id",
                "logic": "is",
                "value": "payload",
                "valueType": "msg"
            }
        ],
        "outputType": "split",
        "outputEmptyResults": false,
        "outputLocationType": "msg",
        "outputLocation": "payload",
        "outputResultsCount": 1,
        "x": 970,
        "y": 280,
        "wires": [
            [
                "a5e476b7342dd2fc"
            ]
        ]
    },
    {
        "id": "2b88f3d631cb6beb",
        "type": "ha-get-entities",
        "z": "9a7094e42d673dc4",
        "name": "get kitchen light",
        "server": "4ba92433.2478cc",
        "version": 1,
        "rules": [
            {
                "property": "entity_id",
                "logic": "is",
                "value": "light.shellydimmer_kitchen",
                "valueType": "str"
            }
        ],
        "outputType": "split",
        "outputEmptyResults": false,
        "outputLocationType": "msg",
        "outputLocation": "payload",
        "outputResultsCount": 1,
        "x": 980,
        "y": 340,
        "wires": [
            [
                "a5e476b7342dd2fc"
            ]
        ]
    },
    {
        "id": "7c96404bfb58afe2",
        "type": "traffic",
        "z": "9a7094e42d673dc4",
        "name": "traffic",
        "property_allow": "payload",
        "filter_allow": "green",
        "ignore_case_allow": false,
        "negate_allow": false,
        "send_allow": false,
        "property_stop": "payload",
        "filter_stop": "red",
        "ignore_case_stop": false,
        "negate_stop": false,
        "send_stop": false,
        "default_start": false,
        "differ": true,
        "x": 610,
        "y": 580,
        "wires": [
            [
                "387fd151e9a8e19c",
                "6dfa319026ac7058"
            ]
        ]
    },
    {
        "id": "355581f2d8e477de",
        "type": "catch",
        "z": "9a7094e42d673dc4",
        "g": "bad5045815fdb13b",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "4ea67a000286b4d8"
            ]
        ]
    },
    {
        "id": "4ea67a000286b4d8",
        "type": "template",
        "z": "9a7094e42d673dc4",
        "g": "bad5045815fdb13b",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "db2e26ad5747e0a6"
            ]
        ]
    },
    {
        "id": "c653974d1dff1810",
        "type": "link out",
        "z": "9a7094e42d673dc4",
        "g": "bad5045815fdb13b",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 475,
        "y": 80,
        "wires": []
    },
    {
        "id": "db2e26ad5747e0a6",
        "type": "template",
        "z": "9a7094e42d673dc4",
        "g": "bad5045815fdb13b",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "c653974d1dff1810"
            ]
        ]
    },
    {
        "id": "11d068d3ad86d2dd",
        "type": "join",
        "z": "b1a9214c.4c71c",
        "g": "6b44c062cbc05f0a",
        "name": "",
        "mode": "custom",
        "build": "merged",
        "property": "notify",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": false,
        "timeout": "",
        "count": "4",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 2010,
        "y": 280,
        "wires": [
            [
                "73e546f49b2e02e1"
            ]
        ]
    },
    {
        "id": "73e546f49b2e02e1",
        "type": "link out",
        "z": "b1a9214c.4c71c",
        "g": "6b44c062cbc05f0a",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "8ed3b0974336e55b",
            "a97f87cfab413716"
        ],
        "x": 2105,
        "y": 280,
        "wires": []
    },
    {
        "id": "232a01493b9307b0",
        "type": "template",
        "z": "b1a9214c.4c71c",
        "g": "6b44c062cbc05f0a",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Ventilatie",
        "output": "str",
        "x": 1850,
        "y": 240,
        "wires": [
            [
                "11d068d3ad86d2dd"
            ]
        ]
    },
    {
        "id": "db7934b4b14446da",
        "type": "template",
        "z": "b1a9214c.4c71c",
        "g": "6b44c062cbc05f0a",
        "name": "icon",
        "field": "notify.icon",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": ":door:",
        "output": "str",
        "x": 1850,
        "y": 280,
        "wires": [
            [
                "11d068d3ad86d2dd"
            ]
        ]
    },
    {
        "id": "a22e2a028512634f",
        "type": "template",
        "z": "b1a9214c.4c71c",
        "g": "6b44c062cbc05f0a",
        "name": "notification id",
        "field": "notify.notification_id",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "natural_basement_ventilation",
        "output": "str",
        "x": 1870,
        "y": 320,
        "wires": [
            [
                "11d068d3ad86d2dd"
            ]
        ]
    },
    {
        "id": "968aec4f.db7b8",
        "type": "comment",
        "z": "b1a9214c.4c71c",
        "name": "basement window",
        "info": "",
        "x": 110,
        "y": 20,
        "wires": []
    },
    {
        "id": "7adaadb8.c5f204",
        "type": "inject",
        "z": "b1a9214c.4c71c",
        "name": "start_flow",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "900",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "start_flow",
        "payloadType": "str",
        "x": 110,
        "y": 440,
        "wires": [
            [
                "6692dae9.7caa84"
            ]
        ]
    },
    {
        "id": "8bf50cc4.c9593",
        "type": "template",
        "z": "b1a9214c.4c71c",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Sluit de ramen in de kelder het gaat mogelijke regenen.",
        "output": "str",
        "x": 1420,
        "y": 280,
        "wires": [
            [
                "704b917a.b0214",
                "d52f067ae45b546a"
            ]
        ]
    },
    {
        "id": "c431f228.97084",
        "type": "template",
        "z": "b1a9214c.4c71c",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Sluit de ramen in de kelder, dit uur gaat het {{payload}} mm regenen.",
        "output": "str",
        "x": 1420,
        "y": 340,
        "wires": [
            [
                "704b917a.b0214",
                "d52f067ae45b546a"
            ]
        ]
    },
    {
        "id": "8c82a32b.762e7",
        "type": "template",
        "z": "b1a9214c.4c71c",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Sluit de ramen, de verwarming in de kelder staat aan.\\nKelder Heating Power is {{sensor.basement_heating}}%",
        "output": "str",
        "x": 1420,
        "y": 220,
        "wires": [
            [
                "704b917a.b0214",
                "d52f067ae45b546a"
            ]
        ]
    },
    {
        "id": "1991431c.890dcd",
        "type": "template",
        "z": "b1a9214c.4c71c",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Open de ramen in de kelder, buiten is de vochtinhoud lager en de temperatuur hoger. \\n\\nBuiten\\nTemperatuur: {{sensor.buienradar_temperature}} °C\\nAbsolute vochtinhoud: {{sensor.outdoor_thermal_comfort_absolute_humidity}} g/m³\\n\\nKelder\\nTemperatuur: {{sensor.basement_temperature}} °C \\nAbsolute vochtinhoud: {{sensor.basement_thermal_comfort_absolute_humidity}} g/m³",
        "output": "str",
        "x": 1420,
        "y": 780,
        "wires": [
            [
                "d52f067ae45b546a"
            ]
        ]
    },
    {
        "id": "d52f067ae45b546a",
        "type": "rbe",
        "z": "b1a9214c.4c71c",
        "name": "",
        "func": "rbe",
        "gap": "",
        "start": "",
        "inout": "out",
        "septopics": true,
        "property": "payload",
        "topi": "topic",
        "x": 1650,
        "y": 280,
        "wires": [
            [
                "97afb37521efba77"
            ]
        ]
    },
    {
        "id": "b7e01c5b3e5b9bc9",
        "type": "function",
        "z": "b1a9214c.4c71c",
        "name": "round to two decimals",
        "func": "msg.sensor.basement_thermal_comfort_absolute_humidity = msg.sensor.basement_thermal_comfort_absolute_humidity.toFixed(2);\nmsg.sensor.outdoor_thermal_comfort_absolute_humidity = msg.sensor.outdoor_thermal_comfort_absolute_humidity.toFixed(2);\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1240,
        "y": 500,
        "wires": [
            [
                "98a47a1b.d6fcc8"
            ]
        ]
    },
    {
        "id": "d6c27b122483f09e",
        "type": "function",
        "z": "b1a9214c.4c71c",
        "name": "round to two decimals",
        "func": "msg.sensor.basement_thermal_comfort_absolute_humidity = msg.sensor.basement_thermal_comfort_absolute_humidity.toFixed(2);\nmsg.sensor.outdoor_thermal_comfort_absolute_humidity = msg.sensor.outdoor_thermal_comfort_absolute_humidity.toFixed(2);\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1240,
        "y": 780,
        "wires": [
            [
                "1991431c.890dcd"
            ]
        ]
    },
    {
        "id": "98a47a1b.d6fcc8",
        "type": "template",
        "z": "b1a9214c.4c71c",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Sluit de ramen in de kelder, buiten is de vochtinhoud hoger of de temperatuur lager.\\n\\nBuiten: \\nTemperatuur: {{sensor.buienradar_temperature}} °C \\nAbsolute vochtinhoud: {{sensor.outdoor_thermal_comfort_absolute_humidity}} g/m³ \\n\\nKelder\\nTemperatuur: {{sensor.basement_temperature}} °C \\nAbsolute vochtinhoud: {{sensor.basement_thermal_comfort_absolute_humidity}} g/m³",
        "output": "str",
        "x": 1420,
        "y": 500,
        "wires": [
            [
                "704b917a.b0214"
            ]
        ]
    },
    {
        "id": "d4f8c710.220648",
        "type": "api-call-service",
        "z": "b1a9214c.4c71c",
        "name": "turn off basement window",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "input_boolean.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_boolean.basement_window"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "input_boolean",
        "service": "turn_off",
        "x": 1930,
        "y": 500,
        "wires": [
            [
                "d52f067ae45b546a"
            ]
        ]
    },
    {
        "id": "6692dae9.7caa84",
        "type": "api-current-state",
        "z": "b1a9214c.4c71c",
        "name": "state absolute humidity basement",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 1,
        "halt_if": "",
        "halt_if_type": "num",
        "halt_if_compare": "is",
        "entity_id": "sensor.basement_thermal_comfort_absolute_humidity",
        "state_type": "num",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "sensor.basement_thermal_comfort_absolute_humidity",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 500,
        "y": 440,
        "wires": [
            [
                "1c1129d.09d62d6"
            ]
        ]
    },
    {
        "id": "c0684245.6628d",
        "type": "api-current-state",
        "z": "b1a9214c.4c71c",
        "name": "state absolute humidity outdoor > absolute humidity basement",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "sensor.basement_thermal_comfort_absolute_humidity",
        "halt_if_type": "msg",
        "halt_if_compare": "gt",
        "entity_id": "sensor.outdoor_thermal_comfort_absolute_humidity",
        "state_type": "num",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "sensor.outdoor_thermal_comfort_absolute_humidity",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 870,
        "y": 500,
        "wires": [
            [
                "b7e01c5b3e5b9bc9"
            ],
            [
                "fef0521b.1d64e"
            ]
        ]
    },
    {
        "id": "6822779.5aa9588",
        "type": "api-current-state",
        "z": "b1a9214c.4c71c",
        "name": "state temperature outdoor > temperature basement",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "sensor.basement_temperature",
        "halt_if_type": "msg",
        "halt_if_compare": "gt",
        "entity_id": "sensor.buienradar_temperature",
        "state_type": "num",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "sensor.buienradar_temperature",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 550,
        "y": 740,
        "wires": [
            [
                "d6c27b122483f09e"
            ],
            [
                "6f49345.883a1cc"
            ]
        ]
    },
    {
        "id": "b5938ee.f7bec7",
        "type": "api-current-state",
        "z": "b1a9214c.4c71c",
        "name": "Basement Heating Power <= 0%",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "0",
        "halt_if_type": "num",
        "halt_if_compare": "lte",
        "entity_id": "sensor.basement_heating",
        "state_type": "num",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "sensor.basement_heating",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 490,
        "y": 680,
        "wires": [
            [
                "6822779.5aa9588"
            ],
            []
        ]
    },
    {
        "id": "fef0521b.1d64e",
        "type": "api-current-state",
        "z": "b1a9214c.4c71c",
        "name": "state precipitation buienradar <= 0",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "0",
        "halt_if_type": "num",
        "halt_if_compare": "lte",
        "entity_id": "sensor.buienradar_precipitation",
        "state_type": "num",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "sensor.ede_precipitation",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 500,
        "y": 560,
        "wires": [
            [
                "5be90bde.fa4314"
            ],
            []
        ]
    },
    {
        "id": "704b917a.b0214",
        "type": "api-current-state",
        "z": "b1a9214c.4c71c",
        "name": "state basement window on",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.basement_window",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 1680,
        "y": 500,
        "wires": [
            [
                "d4f8c710.220648"
            ],
            []
        ]
    },
    {
        "id": "6f49345.883a1cc",
        "type": "api-current-state",
        "z": "b1a9214c.4c71c",
        "name": "state temperature outdoor > 17",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "17",
        "halt_if_type": "num",
        "halt_if_compare": "gt",
        "entity_id": "sensor.buienradar_temperature",
        "state_type": "num",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "sensor.buienradar_temperature",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 490,
        "y": 800,
        "wires": [
            [
                "d6c27b122483f09e"
            ],
            []
        ]
    },
    {
        "id": "5be90bde.fa4314",
        "type": "api-current-state",
        "z": "b1a9214c.4c71c",
        "name": "state condidtion buienrader not rainy",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "rainy",
        "halt_if_type": "str",
        "halt_if_compare": "is_not",
        "entity_id": "sensor.buienradar_condition",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "sensor.ede_precipitation",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 510,
        "y": 620,
        "wires": [
            [
                "b5938ee.f7bec7"
            ],
            []
        ]
    },
    {
        "id": "1c1129d.09d62d6",
        "type": "api-current-state",
        "z": "b1a9214c.4c71c",
        "name": "state basement temperature",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 1,
        "halt_if": "",
        "halt_if_type": "num",
        "halt_if_compare": "is",
        "entity_id": "sensor.basement_temperature",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "sensor.basement_temperature",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 780,
        "y": 440,
        "wires": [
            [
                "18c2e5bb.4c0cfa"
            ]
        ]
    },
    {
        "id": "18c2e5bb.4c0cfa",
        "type": "api-current-state",
        "z": "b1a9214c.4c71c",
        "name": "state buienradar temperature",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 1,
        "halt_if": "",
        "halt_if_type": "num",
        "halt_if_compare": "is",
        "entity_id": "sensor.buienradar_temperature",
        "state_type": "num",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "sensor.buienradar_temperature",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 480,
        "y": 500,
        "wires": [
            [
                "c0684245.6628d"
            ]
        ]
    },
    {
        "id": "8469a147.10964",
        "type": "server-state-changed",
        "z": "b1a9214c.4c71c",
        "name": "state buienradar precipitation > 0",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "sensor.buienradar_precipitation"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": true,
        "stateType": "num",
        "ifState": "0",
        "ifStateType": "num",
        "ifStateOperator": "gt",
        "outputOnlyOnStateChange": false,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "sensor.buienradar_precipitation",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 150,
        "y": 340,
        "wires": [
            [
                "c431f228.97084"
            ],
            [
                "6692dae9.7caa84"
            ]
        ]
    },
    {
        "id": "f82739ec.0019e8",
        "type": "server-state-changed",
        "z": "b1a9214c.4c71c",
        "name": "state heating power basement > 1%",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "sensor.basement_heating"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": true,
        "stateType": "num",
        "ifState": "1",
        "ifStateType": "num",
        "ifStateOperator": "gt",
        "outputOnlyOnStateChange": true,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "sensor.basement_heating",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 160,
        "y": 220,
        "wires": [
            [
                "8c82a32b.762e7"
            ],
            [
                "6692dae9.7caa84"
            ]
        ]
    },
    {
        "id": "b236d4c0.c39c38",
        "type": "server-state-changed",
        "z": "b1a9214c.4c71c",
        "name": "state buienradar condition rainy",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "sensor.buienradar_condition"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": true,
        "stateType": "str",
        "ifState": "rainy",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": true,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "weather.buienradar",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 150,
        "y": 280,
        "wires": [
            [
                "8bf50cc4.c9593"
            ],
            [
                "6692dae9.7caa84"
            ]
        ]
    },
    {
        "id": "aedbcf84c1295abd",
        "type": "catch",
        "z": "b1a9214c.4c71c",
        "g": "6fc99fe3fa43961b",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "e75e88b2739b898a"
            ]
        ]
    },
    {
        "id": "e75e88b2739b898a",
        "type": "template",
        "z": "b1a9214c.4c71c",
        "g": "6fc99fe3fa43961b",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "c027d4c52c4a61b2"
            ]
        ]
    },
    {
        "id": "c026370f826e5d5f",
        "type": "link out",
        "z": "b1a9214c.4c71c",
        "g": "6fc99fe3fa43961b",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 475,
        "y": 80,
        "wires": []
    },
    {
        "id": "c027d4c52c4a61b2",
        "type": "template",
        "z": "b1a9214c.4c71c",
        "g": "6fc99fe3fa43961b",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "c026370f826e5d5f"
            ]
        ]
    },
    {
        "id": "187e38cbc867548d",
        "type": "template",
        "z": "65351372f52f2e2d",
        "g": "dbf117e9be1363d0",
        "name": "tag",
        "field": "notify.tag",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "doorbell",
        "output": "str",
        "x": 1730,
        "y": 540,
        "wires": [
            [
                "f46aad79d4615dbf"
            ]
        ]
    },
    {
        "id": "96104ca744a9942d",
        "type": "template",
        "z": "65351372f52f2e2d",
        "g": "dbf117e9be1363d0",
        "name": "notification id",
        "field": "notify.notification_id",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "door_openend",
        "output": "str",
        "x": 1750,
        "y": 500,
        "wires": [
            [
                "f46aad79d4615dbf"
            ]
        ]
    },
    {
        "id": "f46aad79d4615dbf",
        "type": "join",
        "z": "65351372f52f2e2d",
        "g": "dbf117e9be1363d0",
        "name": "",
        "mode": "custom",
        "build": "merged",
        "property": "notify",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "useparts": true,
        "accumulate": false,
        "timeout": "",
        "count": "5",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 1890,
        "y": 460,
        "wires": [
            [
                "f118397ef51d377e"
            ]
        ]
    },
    {
        "id": "f118397ef51d377e",
        "type": "link out",
        "z": "65351372f52f2e2d",
        "g": "dbf117e9be1363d0",
        "name": "link_out_notify_2",
        "mode": "link",
        "links": [
            "8ed3b0974336e55b"
        ],
        "x": 1985,
        "y": 460,
        "wires": []
    },
    {
        "id": "f62f4165d866a393",
        "type": "template",
        "z": "65351372f52f2e2d",
        "g": "dbf117e9be1363d0",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Deurbel",
        "output": "str",
        "x": 1730,
        "y": 420,
        "wires": [
            [
                "f46aad79d4615dbf"
            ]
        ]
    },
    {
        "id": "4fcc37584fdaacfc",
        "type": "template",
        "z": "65351372f52f2e2d",
        "g": "dbf117e9be1363d0",
        "name": "icon",
        "field": "notify.icon",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "",
        "output": "str",
        "x": 1730,
        "y": 460,
        "wires": [
            [
                "f46aad79d4615dbf"
            ]
        ]
    },
    {
        "id": "887d3f0b3fca1ef1",
        "type": "template",
        "z": "65351372f52f2e2d",
        "g": "f259c1d245c5a0a4",
        "name": "tag",
        "field": "notify.tag",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "doorbell",
        "output": "str",
        "x": 1730,
        "y": 320,
        "wires": [
            [
                "cfbc58f0de8fb24f"
            ]
        ]
    },
    {
        "id": "f6739c6be49dd463",
        "type": "template",
        "z": "65351372f52f2e2d",
        "g": "f259c1d245c5a0a4",
        "name": "notification id",
        "field": "notify.notification_id",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "doorbell_rings",
        "output": "str",
        "x": 1750,
        "y": 280,
        "wires": [
            [
                "cfbc58f0de8fb24f"
            ]
        ]
    },
    {
        "id": "cfbc58f0de8fb24f",
        "type": "join",
        "z": "65351372f52f2e2d",
        "g": "f259c1d245c5a0a4",
        "name": "",
        "mode": "custom",
        "build": "merged",
        "property": "notify",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "useparts": true,
        "accumulate": false,
        "timeout": "",
        "count": "5",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 1890,
        "y": 240,
        "wires": [
            [
                "e188c5d43cc22d55"
            ]
        ]
    },
    {
        "id": "e188c5d43cc22d55",
        "type": "link out",
        "z": "65351372f52f2e2d",
        "g": "f259c1d245c5a0a4",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "8ed3b0974336e55b",
            "a97f87cfab413716",
            "aeee8468f3d1b7ad",
            "c13b2b4d87067c17"
        ],
        "x": 1985,
        "y": 240,
        "wires": []
    },
    {
        "id": "8d49d5b0a77fe3fa",
        "type": "template",
        "z": "65351372f52f2e2d",
        "g": "f259c1d245c5a0a4",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Deurbel",
        "output": "str",
        "x": 1730,
        "y": 200,
        "wires": [
            [
                "cfbc58f0de8fb24f"
            ]
        ]
    },
    {
        "id": "41bff044d8ff0723",
        "type": "template",
        "z": "65351372f52f2e2d",
        "g": "f259c1d245c5a0a4",
        "name": "icon",
        "field": "notify.icon",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "",
        "output": "str",
        "x": 1730,
        "y": 240,
        "wires": [
            [
                "cfbc58f0de8fb24f"
            ]
        ]
    },
    {
        "id": "dfc54bd82a16e190",
        "type": "template",
        "z": "65351372f52f2e2d",
        "g": "a36a86d8bb45f3d4",
        "name": "tag",
        "field": "notify.tag",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "doorbell",
        "output": "str",
        "x": 1730,
        "y": 760,
        "wires": [
            [
                "4cab768ec3304d77"
            ]
        ]
    },
    {
        "id": "504241c3de9c1592",
        "type": "template",
        "z": "65351372f52f2e2d",
        "g": "a36a86d8bb45f3d4",
        "name": "notification id",
        "field": "notify.notification_id",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "doorbell_rings",
        "output": "str",
        "x": 1750,
        "y": 720,
        "wires": [
            [
                "4cab768ec3304d77"
            ]
        ]
    },
    {
        "id": "4cab768ec3304d77",
        "type": "join",
        "z": "65351372f52f2e2d",
        "g": "a36a86d8bb45f3d4",
        "name": "",
        "mode": "custom",
        "build": "merged",
        "property": "notify",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "useparts": true,
        "accumulate": false,
        "timeout": "",
        "count": "5",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 1890,
        "y": 680,
        "wires": [
            [
                "7528bd2fef1d9090"
            ]
        ]
    },
    {
        "id": "7528bd2fef1d9090",
        "type": "link out",
        "z": "65351372f52f2e2d",
        "g": "a36a86d8bb45f3d4",
        "name": "link_out_notify_3",
        "mode": "link",
        "links": [
            "c4660dc11fb0e5b8"
        ],
        "x": 1985,
        "y": 680,
        "wires": []
    },
    {
        "id": "6a5f068bc90a5bea",
        "type": "template",
        "z": "65351372f52f2e2d",
        "g": "a36a86d8bb45f3d4",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Deurbel",
        "output": "str",
        "x": 1730,
        "y": 640,
        "wires": [
            [
                "4cab768ec3304d77"
            ]
        ]
    },
    {
        "id": "96c864b13b1ed44d",
        "type": "template",
        "z": "65351372f52f2e2d",
        "g": "a36a86d8bb45f3d4",
        "name": "icon",
        "field": "notify.icon",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "",
        "output": "str",
        "x": 1730,
        "y": 680,
        "wires": [
            [
                "4cab768ec3304d77"
            ]
        ]
    },
    {
        "id": "f26a8e6739f171d9",
        "type": "template",
        "z": "65351372f52f2e2d",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Er is aangebeld maar de voordeur is niet open gedaan. ",
        "output": "str",
        "x": 1480,
        "y": 340,
        "wires": [
            [
                "ca3c70923fa7cd35"
            ]
        ]
    },
    {
        "id": "75259b56c62c6dc9",
        "type": "template",
        "z": "65351372f52f2e2d",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Er is aangebeld en de voordeur is open gedaan.",
        "output": "str",
        "x": 1480,
        "y": 300,
        "wires": [
            [
                "ca3c70923fa7cd35"
            ]
        ]
    },
    {
        "id": "324163187704260f",
        "type": "change",
        "z": "65351372f52f2e2d",
        "name": "set payload open",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "open",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 510,
        "y": 320,
        "wires": [
            [
                "926a03f5dc689826"
            ]
        ]
    },
    {
        "id": "ef1caaf0e51df45f",
        "type": "delay",
        "z": "65351372f52f2e2d",
        "name": "",
        "pauseType": "delay",
        "timeout": "7",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "outputs": 1,
        "x": 340,
        "y": 320,
        "wires": [
            [
                "324163187704260f"
            ]
        ]
    },
    {
        "id": "63dd0580fe5a2988",
        "type": "change",
        "z": "65351372f52f2e2d",
        "name": "set payload close",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "close",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 770,
        "y": 300,
        "wires": [
            [
                "926a03f5dc689826"
            ]
        ]
    },
    {
        "id": "5ea0148e32967d9a",
        "type": "template",
        "z": "65351372f52f2e2d",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Er is aangebeld.",
        "output": "str",
        "x": 1480,
        "y": 420,
        "wires": [
            [
                "7bb3b10a5f621765"
            ]
        ]
    },
    {
        "id": "9c072e7c1116b5c5",
        "type": "comment",
        "z": "65351372f52f2e2d",
        "name": "doorbell notification",
        "info": "",
        "x": 110,
        "y": 20,
        "wires": []
    },
    {
        "id": "2be495a83d512501",
        "type": "template",
        "z": "65351372f52f2e2d",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Er is aangebeld",
        "output": "str",
        "x": 1480,
        "y": 200,
        "wires": [
            [
                "685ac1f9d97aa2a9"
            ]
        ]
    },
    {
        "id": "489f51dc5f080ea1",
        "type": "api-current-state",
        "z": "65351372f52f2e2d",
        "name": "state doorbell chime is off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "switch.smart_doorbell_active",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 1050,
        "y": 380,
        "wires": [
            [
                "5ea0148e32967d9a"
            ],
            []
        ]
    },
    {
        "id": "26c54bb35b060ee0",
        "type": "server-state-changed",
        "z": "65351372f52f2e2d",
        "name": "state doorbell button on",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "binary_sensor.smart_doorbell_button"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": false,
        "stateType": "str",
        "ifState": "on",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 120,
        "y": 260,
        "wires": [
            [
                "ef1caaf0e51df45f",
                "1389cd751a19cef8",
                "5de4f38ec4c4075f"
            ],
            []
        ]
    },
    {
        "id": "eb27a8504ea0ba20",
        "type": "ha-wait-until",
        "z": "65351372f52f2e2d",
        "name": "wait until front door is open",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "entities": {
            "entity": [
                "binary_sensor.frontdoor"
            ],
            "substring": [],
            "regex": []
        },
        "property": "state",
        "comparator": "is",
        "value": "on",
        "valueType": "str",
        "timeout": "60",
        "timeoutType": "num",
        "timeoutUnits": "seconds",
        "checkCurrentState": true,
        "blockInputOverrides": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "x": 1060,
        "y": 320,
        "wires": [
            [
                "75259b56c62c6dc9"
            ],
            [
                "f26a8e6739f171d9"
            ]
        ]
    },
    {
        "id": "926a03f5dc689826",
        "type": "traffic",
        "z": "65351372f52f2e2d",
        "name": "traffic light",
        "property_allow": "payload",
        "filter_allow": "open",
        "ignore_case_allow": false,
        "negate_allow": false,
        "send_allow": false,
        "property_stop": "payload",
        "filter_stop": "close",
        "ignore_case_stop": false,
        "negate_stop": false,
        "send_stop": false,
        "default_start": true,
        "differ": false,
        "x": 750,
        "y": 360,
        "wires": [
            [
                "63dd0580fe5a2988",
                "eb27a8504ea0ba20",
                "489f51dc5f080ea1"
            ]
        ]
    },
    {
        "id": "b66a38e04739bfdd",
        "type": "catch",
        "z": "65351372f52f2e2d",
        "g": "04562c8514c07d74",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "b983fbc0f8c8da2f"
            ]
        ]
    },
    {
        "id": "b983fbc0f8c8da2f",
        "type": "template",
        "z": "65351372f52f2e2d",
        "g": "04562c8514c07d74",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "c73573d7e9bdaf0f"
            ]
        ]
    },
    {
        "id": "7bdad445330a11b6",
        "type": "link out",
        "z": "65351372f52f2e2d",
        "g": "04562c8514c07d74",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 475,
        "y": 80,
        "wires": []
    },
    {
        "id": "c73573d7e9bdaf0f",
        "type": "template",
        "z": "65351372f52f2e2d",
        "g": "04562c8514c07d74",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "7bdad445330a11b6"
            ]
        ]
    },
    {
        "id": "7a35e0cb772119f7",
        "type": "inject",
        "z": "65351372f52f2e2d",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "on",
        "payloadType": "str",
        "x": 100,
        "y": 340,
        "wires": [
            [
                "5de4f38ec4c4075f",
                "ef1caaf0e51df45f"
            ]
        ]
    },
    {
        "id": "ebcb50cdabc72f91",
        "type": "template",
        "z": "72f3a564e626ff9a",
        "g": "3b89d483d3628b14",
        "name": "notification id",
        "field": "notify.notification_id",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "garbage",
        "output": "str",
        "x": 1290,
        "y": 440,
        "wires": [
            [
                "d0d3f913b8c035f3"
            ]
        ]
    },
    {
        "id": "46d50645e39da463",
        "type": "template",
        "z": "72f3a564e626ff9a",
        "g": "3b89d483d3628b14",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "{{secondary_information}}.\\nStaat de container al aan de weg?",
        "output": "str",
        "x": 1280,
        "y": 400,
        "wires": [
            [
                "d0d3f913b8c035f3"
            ]
        ]
    },
    {
        "id": "dd3030c9ae0f7a07",
        "type": "change",
        "z": "72f3a564e626ff9a",
        "g": "3b89d483d3628b14",
        "name": "action titles",
        "rules": [
            {
                "t": "set",
                "p": "notify.action_1_title",
                "pt": "msg",
                "to": "JA",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "notify.action_2_title",
                "pt": "msg",
                "to": "NEE",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "notify.action_1",
                "pt": "msg",
                "to": "GARBAGE_ON",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "notify.action_2",
                "pt": "msg",
                "to": "IGNORE",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1290,
        "y": 320,
        "wires": [
            [
                "d0d3f913b8c035f3"
            ]
        ]
    },
    {
        "id": "d0d3f913b8c035f3",
        "type": "join",
        "z": "72f3a564e626ff9a",
        "g": "3b89d483d3628b14",
        "name": "",
        "mode": "custom",
        "build": "merged",
        "property": "notify",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": false,
        "timeout": "",
        "count": "8",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 1470,
        "y": 320,
        "wires": [
            [
                "0af5a06e405527e9"
            ]
        ]
    },
    {
        "id": "0af5a06e405527e9",
        "type": "link out",
        "z": "72f3a564e626ff9a",
        "g": "3b89d483d3628b14",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "c76d311bb4b6991b",
            "d1753081ba6b4004"
        ],
        "x": 1555,
        "y": 320,
        "wires": []
    },
    {
        "id": "dcc306682fd0ffa8",
        "type": "template",
        "z": "72f3a564e626ff9a",
        "g": "3b89d483d3628b14",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Afval",
        "output": "str",
        "x": 1270,
        "y": 280,
        "wires": [
            [
                "d0d3f913b8c035f3"
            ]
        ]
    },
    {
        "id": "3a3b8fdb9d6f4ab0",
        "type": "template",
        "z": "72f3a564e626ff9a",
        "g": "3b89d483d3628b14",
        "name": "icon",
        "field": "notify.icon",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "",
        "output": "str",
        "x": 1270,
        "y": 360,
        "wires": [
            [
                "d0d3f913b8c035f3"
            ]
        ]
    },
    {
        "id": "fc015c3acdd57ee4",
        "type": "template",
        "z": "72f3a564e626ff9a",
        "name": "secondary information",
        "field": "secondary_information",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Morgen {{{data.attributes.date}}} wordt de {{garbage_type}}container opgehaald",
        "output": "str",
        "x": 580,
        "y": 180,
        "wires": [
            [
                "da7f4a15f876a544"
            ]
        ]
    },
    {
        "id": "6d32a564bcd340a4",
        "type": "template",
        "z": "72f3a564e626ff9a",
        "name": "secondary information",
        "field": "secondary_information",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Vandaag wordt de {{garbage_type}} container opgehaald",
        "output": "str",
        "x": 580,
        "y": 220,
        "wires": [
            [
                "da7f4a15f876a544"
            ]
        ]
    },
    {
        "id": "040d71ac086fd35b",
        "type": "template",
        "z": "72f3a564e626ff9a",
        "name": "topic",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "garbage",
        "output": "str",
        "x": 990,
        "y": 180,
        "wires": [
            [
                "b756e7bb43d6f27c"
            ]
        ]
    },
    {
        "id": "da7f4a15f876a544",
        "type": "template",
        "z": "72f3a564e626ff9a",
        "name": "primary information",
        "field": "primary_information",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Let op, de container moet aan de weg",
        "output": "str",
        "x": 810,
        "y": 180,
        "wires": [
            [
                "040d71ac086fd35b",
                "4b77d397e442cac9"
            ]
        ]
    },
    {
        "id": "183a5991d27d2b04",
        "type": "comment",
        "z": "72f3a564e626ff9a",
        "name": "Create a notification for garbage collection",
        "info": "",
        "x": 180,
        "y": 20,
        "wires": []
    },
    {
        "id": "4f602b0ecd3e333e",
        "type": "inject",
        "z": "72f3a564e626ff9a",
        "name": "10:00",
        "props": [],
        "repeat": "",
        "crontab": "00 10 * * *",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 90,
        "y": 180,
        "wires": [
            [
                "25fa43d35440a3f7"
            ]
        ]
    },
    {
        "id": "9fd7a6afaf90435a",
        "type": "link out",
        "z": "72f3a564e626ff9a",
        "name": "notification",
        "mode": "link",
        "links": [
            "60e14e33a793f50d"
        ],
        "x": 1555,
        "y": 180,
        "wires": []
    },
    {
        "id": "b756e7bb43d6f27c",
        "type": "template",
        "z": "72f3a564e626ff9a",
        "name": "notification_level",
        "field": "notification_level",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "info",
        "output": "str",
        "x": 1150,
        "y": 180,
        "wires": [
            [
                "9fd7a6afaf90435a"
            ]
        ]
    },
    {
        "id": "9a7655d23db78d0f",
        "type": "inject",
        "z": "72f3a564e626ff9a",
        "name": "09:00",
        "props": [],
        "repeat": "",
        "crontab": "00 09 * * *",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 90,
        "y": 340,
        "wires": [
            [
                "127897e2532f9639"
            ]
        ]
    },
    {
        "id": "f47656cd06bea150",
        "type": "comment",
        "z": "72f3a564e626ff9a",
        "name": "Turn info notification sensor off if it still shows garbage collection after 09:00 when the collection is today",
        "info": "",
        "x": 390,
        "y": 300,
        "wires": []
    },
    {
        "id": "aa55d6e2d41927bf",
        "type": "switch",
        "z": "72f3a564e626ff9a",
        "name": "contains Vandaag",
        "property": "data.attributes.secondary_information",
        "propertyType": "msg",
        "rules": [
            {
                "t": "cont",
                "v": "Vandaag",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 690,
        "y": 340,
        "wires": [
            [
                "6a481279c5298533"
            ]
        ]
    },
    {
        "id": "3af43016251f4d2a",
        "type": "switch",
        "z": "72f3a564e626ff9a",
        "name": "topic is garbage",
        "property": "data.attributes.topic",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "garbage",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 500,
        "y": 340,
        "wires": [
            [
                "aa55d6e2d41927bf"
            ]
        ]
    },
    {
        "id": "63dd27acb5293428",
        "type": "inject",
        "z": "72f3a564e626ff9a",
        "name": "03:00",
        "props": [],
        "repeat": "",
        "crontab": "00 03 * * *",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 90,
        "y": 240,
        "wires": [
            [
                "faf897ee811f8cf2"
            ]
        ]
    },
    {
        "id": "3bbeb5287f1c9e72",
        "type": "comment",
        "z": "72f3a564e626ff9a",
        "name": "listen to garbage yes action notification answer event ",
        "info": "",
        "x": 230,
        "y": 400,
        "wires": []
    },
    {
        "id": "6a481279c5298533",
        "type": "api-call-service",
        "z": "72f3a564e626ff9a",
        "name": "button press notification info turn off",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "button.press",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "button.notification_level_info_turn_off"
        ],
        "labelId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "button",
        "service": "press",
        "x": 960,
        "y": 340,
        "wires": [
            []
        ]
    },
    {
        "id": "25fa43d35440a3f7",
        "type": "api-current-state",
        "z": "72f3a564e626ff9a",
        "name": "garbage tomorrow",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "Geen",
        "halt_if_type": "str",
        "halt_if_compare": "is_not",
        "entity_id": "sensor.afval_morgen",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "garbage_type",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 270,
        "y": 180,
        "wires": [
            [
                "fc015c3acdd57ee4"
            ],
            []
        ]
    },
    {
        "id": "127897e2532f9639",
        "type": "api-current-state",
        "z": "72f3a564e626ff9a",
        "name": "current state info sensor",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "binary_sensor.notification_level_info",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 290,
        "y": 340,
        "wires": [
            [
                "3af43016251f4d2a"
            ],
            []
        ]
    },
    {
        "id": "faf897ee811f8cf2",
        "type": "api-current-state",
        "z": "72f3a564e626ff9a",
        "name": "garbage today",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "Geen",
        "halt_if_type": "str",
        "halt_if_compare": "is_not",
        "entity_id": "sensor.afval_vandaag",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "garbage_type",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 260,
        "y": 240,
        "wires": [
            [
                "6d32a564bcd340a4"
            ],
            []
        ]
    },
    {
        "id": "5fc3b5118b42d3ec",
        "type": "server-events",
        "z": "72f3a564e626ff9a",
        "name": "mobile event listner",
        "server": "4ba92433.2478cc",
        "version": 3,
        "exposeAsEntityConfig": "",
        "eventType": "mobile_app_notification_action",
        "eventData": "{\"action\":\"GARBAGE_ON\"}",
        "waitForRunning": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "$outputData(\"eventData\").event_type",
                "valueType": "jsonata"
            }
        ],
        "event_type": "",
        "x": 110,
        "y": 440,
        "wires": [
            [
                "223d859dcac9107a"
            ]
        ]
    },
    {
        "id": "bfe7a87449e07220",
        "type": "catch",
        "z": "72f3a564e626ff9a",
        "g": "00e1921baeb8bd5e",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "b6142c43c8cd2aa3"
            ]
        ]
    },
    {
        "id": "b6142c43c8cd2aa3",
        "type": "template",
        "z": "72f3a564e626ff9a",
        "g": "00e1921baeb8bd5e",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "887509b8f00c0fa0"
            ]
        ]
    },
    {
        "id": "14c8565d2e050386",
        "type": "link out",
        "z": "72f3a564e626ff9a",
        "g": "00e1921baeb8bd5e",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 475,
        "y": 80,
        "wires": []
    },
    {
        "id": "887509b8f00c0fa0",
        "type": "template",
        "z": "72f3a564e626ff9a",
        "g": "00e1921baeb8bd5e",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "14c8565d2e050386"
            ]
        ]
    },
    {
        "id": "496caddb.5ba724",
        "type": "template",
        "z": "98a989e.d6bca78",
        "g": "7b3e33afc7e5d51f",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Er is {{payload}}m³ gas gemeten en niemand is aanwezig, controleer of het gas of verwarming is uitgezet.",
        "output": "str",
        "x": 1020,
        "y": 260,
        "wires": [
            [
                "5db5047bb3f69eb7"
            ]
        ]
    },
    {
        "id": "253b2fc1dbf20ad4",
        "type": "template",
        "z": "98a989e.d6bca78",
        "g": "7b3e33afc7e5d51f",
        "name": "icon",
        "field": "notify.icon",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "",
        "output": "str",
        "x": 1010,
        "y": 300,
        "wires": [
            [
                "5db5047bb3f69eb7"
            ]
        ]
    },
    {
        "id": "bdce8718917c4dcb",
        "type": "template",
        "z": "98a989e.d6bca78",
        "g": "7b3e33afc7e5d51f",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Gas",
        "output": "str",
        "x": 1010,
        "y": 220,
        "wires": [
            [
                "5db5047bb3f69eb7"
            ]
        ]
    },
    {
        "id": "b9f5925e88c3b14b",
        "type": "link out",
        "z": "98a989e.d6bca78",
        "g": "7b3e33afc7e5d51f",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "8ed3b0974336e55b"
        ],
        "x": 1265,
        "y": 260,
        "wires": []
    },
    {
        "id": "5db5047bb3f69eb7",
        "type": "join",
        "z": "98a989e.d6bca78",
        "g": "7b3e33afc7e5d51f",
        "name": "",
        "mode": "custom",
        "build": "merged",
        "property": "notify",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": false,
        "timeout": "",
        "count": "4",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 1170,
        "y": 260,
        "wires": [
            [
                "b9f5925e88c3b14b"
            ]
        ]
    },
    {
        "id": "fdc4c2eef34c0a15",
        "type": "template",
        "z": "98a989e.d6bca78",
        "g": "7b3e33afc7e5d51f",
        "name": "notification id",
        "field": "notify.notification_id",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "gas",
        "output": "str",
        "x": 1030,
        "y": 340,
        "wires": [
            [
                "5db5047bb3f69eb7"
            ]
        ]
    },
    {
        "id": "3238627b.1b1f0e",
        "type": "switch",
        "z": "98a989e.d6bca78",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "gt",
                "v": "0",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 250,
        "y": 200,
        "wires": [
            [
                "d99c251f.40c1c8"
            ]
        ]
    },
    {
        "id": "fac5f99c.1b7438",
        "type": "comment",
        "z": "98a989e.d6bca78",
        "name": "gas notification when nobody is in the house",
        "info": "",
        "x": 190,
        "y": 20,
        "wires": []
    },
    {
        "id": "d99c251f.40c1c8",
        "type": "api-current-state",
        "z": "98a989e.d6bca78",
        "name": "group persons is not home for 15 minutes",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "not_home",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "group.persons",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "group.persons",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "15",
        "forType": "num",
        "forUnits": "minutes",
        "x": 480,
        "y": 200,
        "wires": [
            [
                "7da2532c.8f20fc"
            ],
            []
        ]
    },
    {
        "id": "7da2532c.8f20fc",
        "type": "api-current-state",
        "z": "98a989e.d6bca78",
        "name": "guest state is off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.guest",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "gast",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 740,
        "y": 200,
        "wires": [
            [
                "4fc08434e069652b"
            ],
            []
        ]
    },
    {
        "id": "6429429b.d1375c",
        "type": "server-state-changed",
        "z": "98a989e.d6bca78",
        "name": "gas sensor state",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 1,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "sensor.dsmr_consumption_gas_currently_delivered"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": false,
        "stateType": "num",
        "ifState": "",
        "ifStateType": "num",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 100,
        "y": 200,
        "wires": [
            [
                "3238627b.1b1f0e"
            ]
        ]
    },
    {
        "id": "4b522fb422cd4d3b",
        "type": "catch",
        "z": "98a989e.d6bca78",
        "g": "9a6a0422b6ecafd9",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "135edde980b196c2"
            ]
        ]
    },
    {
        "id": "135edde980b196c2",
        "type": "template",
        "z": "98a989e.d6bca78",
        "g": "9a6a0422b6ecafd9",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "858d29207573b2c5"
            ]
        ]
    },
    {
        "id": "b6683e8825a4f684",
        "type": "link out",
        "z": "98a989e.d6bca78",
        "g": "9a6a0422b6ecafd9",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 475,
        "y": 80,
        "wires": []
    },
    {
        "id": "858d29207573b2c5",
        "type": "template",
        "z": "98a989e.d6bca78",
        "g": "9a6a0422b6ecafd9",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "b6683e8825a4f684"
            ]
        ]
    },
    {
        "id": "cdbb5b48e71b5866",
        "type": "template",
        "z": "42b354a7f0284779",
        "g": "392300741f68f312",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "{{primary_information}}.\\n{{secondary_information}}",
        "output": "str",
        "x": 1460,
        "y": 320,
        "wires": [
            [
                "4dd6478ac62b8c2f"
            ]
        ]
    },
    {
        "id": "4dd6478ac62b8c2f",
        "type": "join",
        "z": "42b354a7f0284779",
        "g": "392300741f68f312",
        "name": "",
        "mode": "custom",
        "build": "merged",
        "property": "notify",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": false,
        "timeout": "",
        "count": "3",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 1610,
        "y": 320,
        "wires": [
            [
                "17c484a9c9a917ac"
            ]
        ]
    },
    {
        "id": "17c484a9c9a917ac",
        "type": "link out",
        "z": "42b354a7f0284779",
        "g": "392300741f68f312",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "8ed3b0974336e55b",
            "a97f87cfab413716"
        ],
        "x": 1705,
        "y": 320,
        "wires": []
    },
    {
        "id": "c6941b34f3402196",
        "type": "template",
        "z": "42b354a7f0284779",
        "g": "392300741f68f312",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Zonne-energie",
        "output": "str",
        "x": 1450,
        "y": 280,
        "wires": [
            [
                "4dd6478ac62b8c2f"
            ]
        ]
    },
    {
        "id": "59327076bed18754",
        "type": "template",
        "z": "42b354a7f0284779",
        "g": "392300741f68f312",
        "name": "icon",
        "field": "notify.icon",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "",
        "output": "str",
        "x": 1450,
        "y": 360,
        "wires": [
            [
                "4dd6478ac62b8c2f"
            ]
        ]
    },
    {
        "id": "08c71b7711856e9c",
        "type": "comment",
        "z": "42b354a7f0284779",
        "name": "Create notification about solar inverter",
        "info": "",
        "x": 170,
        "y": 20,
        "wires": []
    },
    {
        "id": "2bcc033320eee7c1",
        "type": "template",
        "z": "42b354a7f0284779",
        "name": "secondary information",
        "field": "secondary_information",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "De omvormer is op {{{myymd}}} om {{{mytime}}} status {{payload}}, {{{data.new_state.attributes.status_description}}}",
        "output": "str",
        "x": 600,
        "y": 180,
        "wires": [
            [
                "117aca7da78c92fe"
            ]
        ]
    },
    {
        "id": "117aca7da78c92fe",
        "type": "template",
        "z": "42b354a7f0284779",
        "name": "primary information",
        "field": "primary_information",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Er is een probleem met de omvormer",
        "output": "str",
        "x": 810,
        "y": 180,
        "wires": [
            [
                "1443017dca2ff4a8"
            ]
        ]
    },
    {
        "id": "178e42db86a628e8",
        "type": "link out",
        "z": "42b354a7f0284779",
        "name": "notification",
        "mode": "link",
        "links": [
            "60e14e33a793f50d"
        ],
        "x": 1705,
        "y": 180,
        "wires": []
    },
    {
        "id": "ffc8288b4ad5eee4",
        "type": "template",
        "z": "42b354a7f0284779",
        "name": "notification_level",
        "field": "notification_level",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "error",
        "output": "str",
        "x": 1130,
        "y": 180,
        "wires": [
            [
                "178e42db86a628e8",
                "9b93ac7b58399751"
            ]
        ]
    },
    {
        "id": "1443017dca2ff4a8",
        "type": "template",
        "z": "42b354a7f0284779",
        "name": "topic",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "garbage",
        "output": "str",
        "x": 970,
        "y": 180,
        "wires": [
            [
                "ffc8288b4ad5eee4"
            ]
        ]
    },
    {
        "id": "7dbf7c37a565252a",
        "type": "switch",
        "z": "42b354a7f0284779",
        "name": "status",
        "property": "data.new_state.state",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "7",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "8",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 3,
        "x": 430,
        "y": 180,
        "wires": [
            [
                "2bcc033320eee7c1"
            ],
            [
                "2bcc033320eee7c1"
            ],
            [
                "2bcc033320eee7c1"
            ]
        ]
    },
    {
        "id": "30c6a811cbe1ee11",
        "type": "server-state-changed",
        "z": "42b354a7f0284779",
        "name": "inverter status code",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 1,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "sensor.solaredge_modbus_status"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": true,
        "stateType": "num",
        "ifState": "",
        "ifStateType": "num",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            }
        ],
        "x": 110,
        "y": 180,
        "wires": [
            [
                "ef4c50873027b4b3"
            ]
        ]
    },
    {
        "id": "ef4c50873027b4b3",
        "type": "simpletime",
        "z": "42b354a7f0284779",
        "name": "",
        "mydate": false,
        "myymd": true,
        "myyear": false,
        "mymonth": false,
        "mymonthn": false,
        "mydom": false,
        "mydoy": false,
        "myday": false,
        "myhourpm": false,
        "myhour": false,
        "mytime": true,
        "mytimes": false,
        "myminute": false,
        "myminutes": false,
        "mysecond": false,
        "mymillis": false,
        "myepoch": false,
        "myrawdate": false,
        "mypm": false,
        "x": 290,
        "y": 180,
        "wires": [
            [
                "7dbf7c37a565252a"
            ]
        ]
    },
    {
        "id": "67307ba4e3d3f9b3",
        "type": "catch",
        "z": "42b354a7f0284779",
        "g": "486186084273434f",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "b7beb6e187e61cdc"
            ]
        ]
    },
    {
        "id": "b7beb6e187e61cdc",
        "type": "template",
        "z": "42b354a7f0284779",
        "g": "486186084273434f",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "611dd015489e682f"
            ]
        ]
    },
    {
        "id": "7fef303d15d03ef1",
        "type": "link out",
        "z": "42b354a7f0284779",
        "g": "486186084273434f",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 475,
        "y": 80,
        "wires": []
    },
    {
        "id": "611dd015489e682f",
        "type": "template",
        "z": "42b354a7f0284779",
        "g": "486186084273434f",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "7fef303d15d03ef1"
            ]
        ]
    },
    {
        "id": "dbd6c4b98cdaf5bf",
        "type": "link out",
        "z": "b4aa7b8dbc1c80dc",
        "name": "notification",
        "mode": "link",
        "links": [
            "60e14e33a793f50d"
        ],
        "x": 1275,
        "y": 140,
        "wires": []
    },
    {
        "id": "ee5f0821374570e5",
        "type": "template",
        "z": "b4aa7b8dbc1c80dc",
        "name": "notification_level",
        "field": "notification_level",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "warning",
        "output": "str",
        "x": 1150,
        "y": 140,
        "wires": [
            [
                "dbd6c4b98cdaf5bf"
            ]
        ]
    },
    {
        "id": "4ee9eb9f9dfecd39",
        "type": "template",
        "z": "b4aa7b8dbc1c80dc",
        "name": "topic",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "weather",
        "output": "str",
        "x": 990,
        "y": 140,
        "wires": [
            [
                "ee5f0821374570e5"
            ]
        ]
    },
    {
        "id": "1842ef7b5cb665a1",
        "type": "template",
        "z": "b4aa7b8dbc1c80dc",
        "name": "primary information",
        "field": "primary_information",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "KNMI Waarschuwing",
        "output": "str",
        "x": 710,
        "y": 140,
        "wires": [
            [
                "1c560aa028e1bd79"
            ]
        ]
    },
    {
        "id": "73149a51d0ddd36e",
        "type": "template",
        "z": "b4aa7b8dbc1c80dc",
        "name": "secondary information",
        "field": "secondary_information",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "{{short_message}}...",
        "output": "str",
        "x": 500,
        "y": 140,
        "wires": [
            [
                "1842ef7b5cb665a1"
            ]
        ]
    },
    {
        "id": "f8a17203b85ebfc6",
        "type": "function",
        "z": "b4aa7b8dbc1c80dc",
        "name": "shorten message",
        "func": "// Check if msg.data, new_state, attributes, and Waarschuwing exist and are valid\nif (msg.data && msg.data.new_state && msg.data.new_state.attributes && typeof msg.data.new_state.attributes.Waarschuwing === 'string') {\n    // If it's a valid string, use substr to extract the first 400 characters\n    msg.short_message = msg.data.new_state.attributes.Waarschuwing.substr(0, 395);\n} else {\n    // If it's not a valid string or any part of the chain is missing, set a default or handle the error\n    msg.short_message = \"Waiting for a weather message...\";\n}\n\nreturn msg;\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 290,
        "y": 140,
        "wires": [
            [
                "73149a51d0ddd36e"
            ]
        ]
    },
    {
        "id": "1c560aa028e1bd79",
        "type": "template",
        "z": "b4aa7b8dbc1c80dc",
        "name": "icon",
        "field": "icon",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "mdi:weather-cloudy-alert",
        "output": "str",
        "x": 870,
        "y": 140,
        "wires": [
            [
                "4ee9eb9f9dfecd39"
            ]
        ]
    },
    {
        "id": "5a5946eca79911d5",
        "type": "server-state-changed",
        "z": "b4aa7b8dbc1c80dc",
        "name": "knmi warning",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "binary_sensor.knmi_warning"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": true,
        "stateType": "str",
        "ifState": "on",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": false,
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 110,
        "y": 140,
        "wires": [
            [
                "f8a17203b85ebfc6"
            ],
            []
        ]
    },
    {
        "id": "59261a1cba9f1c9d",
        "type": "catch",
        "z": "b4aa7b8dbc1c80dc",
        "g": "e14729bbb68696bb",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 120,
        "y": 60,
        "wires": [
            [
                "dc708d13b5623029"
            ]
        ]
    },
    {
        "id": "dc708d13b5623029",
        "type": "template",
        "z": "b4aa7b8dbc1c80dc",
        "g": "e14729bbb68696bb",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 270,
        "y": 60,
        "wires": [
            [
                "b4e30499c0f38241"
            ]
        ]
    },
    {
        "id": "db1e6a0372a267e5",
        "type": "link out",
        "z": "b4aa7b8dbc1c80dc",
        "g": "e14729bbb68696bb",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 495,
        "y": 60,
        "wires": []
    },
    {
        "id": "b4e30499c0f38241",
        "type": "template",
        "z": "b4aa7b8dbc1c80dc",
        "g": "e14729bbb68696bb",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 410,
        "y": 60,
        "wires": [
            [
                "db1e6a0372a267e5"
            ]
        ]
    },
    {
        "id": "8cc9f9d0eb2ee196",
        "type": "template",
        "z": "343515a5528e14f0",
        "g": "a438a5fafa2b7f02",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "ce9dcc40d72369f4"
            ]
        ]
    },
    {
        "id": "ce9dcc40d72369f4",
        "type": "link out",
        "z": "343515a5528e14f0",
        "g": "a438a5fafa2b7f02",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 475,
        "y": 80,
        "wires": []
    },
    {
        "id": "f095a3312890d656",
        "type": "template",
        "z": "343515a5528e14f0",
        "g": "a438a5fafa2b7f02",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "8cc9f9d0eb2ee196"
            ]
        ]
    },
    {
        "id": "42073f55aa389f5d",
        "type": "catch",
        "z": "343515a5528e14f0",
        "g": "a438a5fafa2b7f02",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "f095a3312890d656"
            ]
        ]
    },
    {
        "id": "8ed3b0974336e55b",
        "type": "link in",
        "z": "343515a5528e14f0",
        "name": "notify_coen",
        "links": [
            "8c93b438701888a6",
            "ac04035c1896218b",
            "73e546f49b2e02e1",
            "2c0a57bd6ee87009",
            "5e72b91e3ad4066d",
            "37c73ac2e71d9a61",
            "b9f5925e88c3b14b",
            "17c484a9c9a917ac",
            "ef18c5c2564a7e77",
            "c6bc1abd0ea4d3e7",
            "b41a40c1e135e55c",
            "ac254d4235d71700",
            "e188c5d43cc22d55",
            "f118397ef51d377e",
            "7a732e9184d0afcf"
        ],
        "x": 275,
        "y": 440,
        "wires": [
            [
                "b92773ff0b01fade"
            ]
        ]
    },
    {
        "id": "aeee8468f3d1b7ad",
        "type": "link in",
        "z": "343515a5528e14f0",
        "name": "notify_anne",
        "links": [
            "ef18c5c2564a7e77",
            "c6bc1abd0ea4d3e7",
            "ac254d4235d71700",
            "e188c5d43cc22d55",
            "7a732e9184d0afcf"
        ],
        "x": 275,
        "y": 500,
        "wires": [
            [
                "05c72cc515d6ee8d"
            ]
        ]
    },
    {
        "id": "76e9e8e982a2fef6",
        "type": "comment",
        "z": "343515a5528e14f0",
        "name": "notifications",
        "info": "",
        "x": 90,
        "y": 20,
        "wires": []
    },
    {
        "id": "a97f87cfab413716",
        "type": "link in",
        "z": "343515a5528e14f0",
        "name": "notify_in_app",
        "links": [
            "8c93b438701888a6",
            "ac04035c1896218b",
            "73e546f49b2e02e1",
            "2c0a57bd6ee87009",
            "17c484a9c9a917ac",
            "3bdaf73ce37b7397",
            "e188c5d43cc22d55",
            "6c4b4ca33c32a0f7",
            "008e4e3d5eb1c73a",
            "6031ed8d02da2add",
            "ce9dcc40d72369f4",
            "31afe4007c8c4380",
            "f9b220def47837e4",
            "17e4e7721adc09a1",
            "ddf56ac7c76174e3",
            "85efbfe86edb2e91",
            "f18c57903881ea97",
            "13f2b7ca42c4eca2",
            "71c8efae8c1d420b",
            "8b8c16211a8b72d6",
            "4d9e677df669290b",
            "4d1450df9aae47f1",
            "b7a8e5cc57ee6ca0",
            "7bf74cbdd5a69c4a",
            "f6679763cd60d5c2",
            "0e36b13934d068e7",
            "d1ac9e9826f44523",
            "4ccec2f982a522c0",
            "c653974d1dff1810",
            "c026370f826e5d5f",
            "7bdad445330a11b6",
            "14c8565d2e050386",
            "b6683e8825a4f684",
            "7fef303d15d03ef1",
            "db1e6a0372a267e5",
            "588232826fe1cb16",
            "a1d22443632b6c95",
            "dac0d4dda81abc95",
            "c84220140a8c71a3",
            "bf3806a421c7b15a",
            "fcbba10709360bf0",
            "80e833d182f30872",
            "388c6c30bcb85720",
            "b8f35a173d514067",
            "195545448e386e6c",
            "2c08acee77a89d06",
            "43dbea1142f618eb",
            "89d180847c2436b6",
            "88c8645165323767",
            "200857993ae893c3",
            "d6b4445ad7f5062a",
            "301e5101402d9cd1",
            "fc2c3ebd96e14cc3",
            "a6196b4738721e31",
            "6bcc6ca59609f4ee",
            "7a732e9184d0afcf",
            "7b8a53cdff17b707",
            "3bacd8ed5d0dccd2",
            "0666b6f65b4515cb",
            "44f5433a0f7d8e6c",
            "83742449c3349fd4",
            "c9f30fc70f2be4fd",
            "3f111153aba96e14",
            "46a0b57223aa4c17",
            "6352a2bd0e56f5a8",
            "5fce516d2b677877",
            "5d396ef39d0c5fee",
            "81b4855d39d56cd1",
            "0795b985190d2d2c",
            "b44fdf201dc1042b",
            "a61ab9714b972c32",
            "5c48f5a474f36d1d",
            "1a2e5276e0c64409",
            "ccaa2e4d1e8fac02",
            "7c96c2b4a740b8d9",
            "8dc5b9441d7691f4",
            "8842079ec33b9292",
            "7c4b35996788d27a",
            "5b762936738edfdd",
            "b22594e14cb77d78",
            "f139889b01bdf5a2",
            "4cf32f7adb47eff0",
            "2cc9a5595a901b10",
            "4282a6b65307c7ac",
            "51785525fba44afb",
            "0973f7291fb9895a",
            "d485b3827efdeceb",
            "f05e12b3b22ef591",
            "1d6ce03328f9690f",
            "8d97537e168f6959",
            "15a37feb9ef6c8b1",
            "a9d21ff83ec7dd05",
            "ae18a50ca56dd8c9",
            "fc1469a9f0ef1aee",
            "6492496b6c244a0a",
            "817c712943a09895",
            "cebdada8cc9dfca0",
            "337ef9e6426bf90b",
            "051599aa11f46bbb",
            "7be6ddefd2c50f1d",
            "f8a107142b870a71",
            "b4e1ba1ac658efda",
            "1a3ee582d393170a",
            "53e3d4a22ecb2506",
            "6f50710eaad2ce90",
            "37d1e62a237418c8",
            "2ef8f7faa613d338",
            "9d9837e29130d1e3",
            "896d42da6f78a4df",
            "41b174876237d623",
            "89630cbc58f61380",
            "2978274f7f9728d8",
            "bf8e5653c2636930",
            "8df1b970e4dafbf8",
            "561b7fd51536b6e7",
            "cb2996d878c5e0c7",
            "df998c0aabd0f79a",
            "f0fea4cb11f37357"
        ],
        "x": 275,
        "y": 560,
        "wires": [
            [
                "0d4dd5184c1b0c50"
            ]
        ]
    },
    {
        "id": "170690c80fc5131f",
        "type": "link in",
        "z": "343515a5528e14f0",
        "name": "notify_in_tts_google_home_speaker",
        "links": [],
        "x": 275,
        "y": 620,
        "wires": [
            [
                "577ae9a09334bd75"
            ]
        ]
    },
    {
        "id": "c4660dc11fb0e5b8",
        "type": "link in",
        "z": "343515a5528e14f0",
        "name": "notify_in_tts_wall_tablet",
        "links": [
            "0993d50e3c03d798",
            "1e0f934a3493b12f",
            "372e878f27b4b2b2",
            "57488cc36dcd2d00",
            "ac254d4235d71700",
            "c5f04c8242157305",
            "f5a1c4dd087e0795",
            "fdba7cd037a9da5a",
            "7528bd2fef1d9090"
        ],
        "x": 275,
        "y": 680,
        "wires": [
            [
                "e1fdac1fe178e720"
            ]
        ]
    },
    {
        "id": "c13b2b4d87067c17",
        "type": "link in",
        "z": "343515a5528e14f0",
        "name": "notify_tv",
        "links": [
            "e188c5d43cc22d55"
        ],
        "x": 275,
        "y": 380,
        "wires": [
            [
                "7bb626db9932d5ed"
            ]
        ]
    },
    {
        "id": "d1753081ba6b4004",
        "type": "link in",
        "z": "343515a5528e14f0",
        "name": "notify_two_actions_coen",
        "links": [
            "ba0bdc1db6e4e011",
            "0af5a06e405527e9",
            "91c7732091601e1b"
        ],
        "x": 275,
        "y": 740,
        "wires": [
            [
                "3675d2d1160c6b61"
            ]
        ]
    },
    {
        "id": "c76d311bb4b6991b",
        "type": "link in",
        "z": "343515a5528e14f0",
        "name": "notify_two_actions_anne",
        "links": [
            "ba0bdc1db6e4e011",
            "0af5a06e405527e9",
            "8e3d4dadf043448a"
        ],
        "x": 275,
        "y": 800,
        "wires": [
            [
                "7e56e31c0145c7b4"
            ]
        ]
    },
    {
        "id": "566faf848ae88258",
        "type": "change",
        "z": "343515a5528e14f0",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "trigger",
                "pt": "msg",
                "to": "",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1060,
        "y": 680,
        "wires": [
            [
                "e1fdac1fe178e720"
            ]
        ]
    },
    {
        "id": "5eb39518752706d4",
        "type": "change",
        "z": "343515a5528e14f0",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "trigger",
                "pt": "msg",
                "to": "",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1060,
        "y": 620,
        "wires": [
            [
                "577ae9a09334bd75"
            ]
        ]
    },
    {
        "id": "b92773ff0b01fade",
        "type": "api-call-service",
        "z": "343515a5528e14f0",
        "name": "notify coen",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "notify.mobile_app_phone_coen",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [],
        "labelId": [],
        "data": "{\"message\":\"{{notify.message}}\",\"title\":\"{{notify.title}}\",\"data\":{\"vibrationPattern\":\"{{notify.vibrationPattern}}\",\"channel\":\"{{notify.channel}}\",\"tag\":\"{{notify.tag}}\",\"clickAction\":\"{{notify.clickAction}}\"}}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "notify",
        "service": "mobile_app_phone_coen",
        "x": 390,
        "y": 440,
        "wires": [
            []
        ]
    },
    {
        "id": "05c72cc515d6ee8d",
        "type": "api-call-service",
        "z": "343515a5528e14f0",
        "name": "notify anne",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "notify.mobile_app_phone_anne_pixel",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [],
        "labelId": [],
        "data": "{\"message\":\"{{notify.message}}\",\"title\":\"{{notify.title}}\",\"data\":{\"vibrationPattern\":\"{{notify.vibrationPattern}}\",\"channel\":\"{{notify.channel}}\",\"tag\":\"{{notify.tag}}\",\"clickAction\":\"{{notify.clickAction}}\"}}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "notify",
        "service": "mobile_app_phone_anne_pixel",
        "x": 390,
        "y": 500,
        "wires": [
            []
        ]
    },
    {
        "id": "0d4dd5184c1b0c50",
        "type": "api-call-service",
        "z": "343515a5528e14f0",
        "name": "notify in app",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "persistent_notification.create",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [],
        "labelId": [],
        "data": "{\"message\":\"{{notify.message}}\",\"title\":\"{{notify.title}}\",\"notification_id\":\"{{notify.notification_id}}\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "persistent_notification",
        "service": "create",
        "x": 390,
        "y": 560,
        "wires": [
            []
        ]
    },
    {
        "id": "cfaf92063b478bdc",
        "type": "api-call-service",
        "z": "343515a5528e14f0",
        "name": "text to speech",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "tts.google_say",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [],
        "labelId": [],
        "data": "{\"entity_id\":\"media_player.home_speaker\",\"message\":\"{{notify.message}}\",\"language\":\"nl\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "tts",
        "service": "google_say",
        "x": 880,
        "y": 620,
        "wires": [
            [
                "5eb39518752706d4"
            ]
        ]
    },
    {
        "id": "f11dc3e3682ce836",
        "type": "api-call-service",
        "z": "343515a5528e14f0",
        "name": "text to speech",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "tts.google_say",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [],
        "labelId": [],
        "data": "{\"entity_id\":\"media_player.galaxy_tab_a8\",\"message\":\"{{notify.message}}\",\"language\":\"nl\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "tts",
        "service": "google_say",
        "x": 880,
        "y": 680,
        "wires": [
            [
                "566faf848ae88258"
            ]
        ]
    },
    {
        "id": "04792e2be9d492bd",
        "type": "api-call-service",
        "z": "343515a5528e14f0",
        "name": "notify tv",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "notify.lg_webos_smart_tv",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [],
        "labelId": [],
        "data": "{\"message\":\"{{notify.message}}\",\"title\":\"{{notify.title}}\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "notify",
        "service": "lg_webos_smart_tv",
        "x": 540,
        "y": 380,
        "wires": [
            []
        ]
    },
    {
        "id": "3675d2d1160c6b61",
        "type": "api-call-service",
        "z": "343515a5528e14f0",
        "name": "notify two actions coen",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "notify.mobile_app_phone_coen",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [],
        "labelId": [],
        "data": "{\"message\":\"{{notify.message}}\",\"title\":\"{{notify.title}}\",\"data\":{\"actions\":[{\"action\":\"{{notify.action_1}}\",\"title\":\"{{notify.action_1_title}}\",\"icon\":\"{{notify.icon}}\"},{\"action\":\"{{notify.action_2}}\",\"title\":\"{{notify.action_2_title}}\",\"icon\":\"{{notify.icon}}\"}]}}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "notify",
        "service": "mobile_app_phone_coen",
        "x": 420,
        "y": 740,
        "wires": [
            []
        ]
    },
    {
        "id": "7e56e31c0145c7b4",
        "type": "api-call-service",
        "z": "343515a5528e14f0",
        "name": "notify two actions anne",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "notify.mobile_app_phone_anne_pixel",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [],
        "labelId": [],
        "data": "{\"message\":\"{{notify.message}}\",\"title\":\"{{notify.title}}\",\"data\":{\"actions\":[{\"action\":\"{{notify.action_1}}\",\"title\":\"{{notify.action_1_title}}\",\"icon\":\"{{notify.icon}}\"},{\"action\":\"{{notify.action_2}}\",\"title\":\"{{notify.action_2_title}}\",\"icon\":\"{{notify.icon}}\"}]}}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "notify",
        "service": "mobile_app_phone_anne_pixel",
        "x": 420,
        "y": 800,
        "wires": [
            []
        ]
    },
    {
        "id": "cf256ece81c0faee",
        "type": "ha-wait-until",
        "z": "343515a5528e14f0",
        "name": "wait until media player is not playing",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 1,
        "entities": {
            "entity": [
                "media_player.home_speaker"
            ],
            "substring": [],
            "regex": []
        },
        "property": "state",
        "comparator": "is_not",
        "value": "playing",
        "valueType": "str",
        "timeout": "",
        "timeoutType": "num",
        "timeoutUnits": "seconds",
        "checkCurrentState": true,
        "blockInputOverrides": true,
        "outputProperties": [],
        "entityLocation": "data",
        "entityLocationType": "none",
        "x": 630,
        "y": 620,
        "wires": [
            [
                "cfaf92063b478bdc"
            ]
        ]
    },
    {
        "id": "d94b50aeaba952d1",
        "type": "ha-wait-until",
        "z": "343515a5528e14f0",
        "name": "wait until media player is not playing",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "entities": {
            "entity": [
                "media_player.galaxy_tab_a8"
            ],
            "substring": [],
            "regex": []
        },
        "property": "state",
        "comparator": "is_not",
        "value": "playing",
        "valueType": "str",
        "timeout": "30",
        "timeoutType": "num",
        "timeoutUnits": "seconds",
        "checkCurrentState": true,
        "blockInputOverrides": true,
        "outputProperties": [],
        "entityLocation": "data",
        "entityLocationType": "none",
        "x": 630,
        "y": 680,
        "wires": [
            [
                "f11dc3e3682ce836"
            ],
            []
        ]
    },
    {
        "id": "e1fdac1fe178e720",
        "type": "simple-queue",
        "z": "343515a5528e14f0",
        "name": "",
        "firstMessageBypass": true,
        "bypassInterval": "0",
        "x": 390,
        "y": 680,
        "wires": [
            [
                "d94b50aeaba952d1"
            ]
        ]
    },
    {
        "id": "577ae9a09334bd75",
        "type": "simple-queue",
        "z": "343515a5528e14f0",
        "name": "",
        "firstMessageBypass": true,
        "bypassInterval": "0",
        "x": 390,
        "y": 620,
        "wires": [
            [
                "cf256ece81c0faee"
            ]
        ]
    },
    {
        "id": "7bb626db9932d5ed",
        "type": "api-current-state",
        "z": "343515a5528e14f0",
        "name": "tv is on",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is_not",
        "entity_id": "media_player.lg_webos_smart_tv",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 380,
        "y": 380,
        "wires": [
            [
                "04792e2be9d492bd"
            ],
            []
        ]
    },
    {
        "id": "0db5f8033b5c9adf",
        "type": "template",
        "z": "d5421f8d.f7208",
        "g": "f236f0a913f70054",
        "name": "icon",
        "field": "notify.icon",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "",
        "output": "str",
        "x": 2110,
        "y": 200,
        "wires": [
            [
                "6858101eee61155a"
            ]
        ]
    },
    {
        "id": "4b276bf7ef0c3217",
        "type": "template",
        "z": "d5421f8d.f7208",
        "g": "f236f0a913f70054",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Ventilatie",
        "output": "str",
        "x": 2110,
        "y": 120,
        "wires": [
            [
                "6858101eee61155a"
            ]
        ]
    },
    {
        "id": "ef18c5c2564a7e77",
        "type": "link out",
        "z": "d5421f8d.f7208",
        "g": "f236f0a913f70054",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "8ed3b0974336e55b",
            "aeee8468f3d1b7ad"
        ],
        "x": 2365,
        "y": 160,
        "wires": []
    },
    {
        "id": "6858101eee61155a",
        "type": "join",
        "z": "d5421f8d.f7208",
        "g": "f236f0a913f70054",
        "name": "",
        "mode": "custom",
        "build": "merged",
        "property": "notify",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": false,
        "timeout": "",
        "count": "3",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 2270,
        "y": 160,
        "wires": [
            [
                "ef18c5c2564a7e77"
            ]
        ]
    },
    {
        "id": "1414f6788bc8c787",
        "type": "template",
        "z": "d5421f8d.f7208",
        "g": "f236f0a913f70054",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Open de ramen boven om het in huis af te laten koelen, boven is de gemiddelde temperatuur {{payload}} ℃ Buiten is de temperatuur {{outdoor_temperature}} ℃.",
        "output": "str",
        "x": 2120,
        "y": 160,
        "wires": [
            [
                "6858101eee61155a",
                "d5e96dbb131b9d36"
            ]
        ]
    },
    {
        "id": "a7088cd0.05fa4",
        "type": "inject",
        "z": "d5421f8d.f7208",
        "name": "",
        "props": [],
        "repeat": "7200",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "x": 90,
        "y": 160,
        "wires": [
            [
                "87defeb3.2f624"
            ]
        ]
    },
    {
        "id": "2bd65702.c33608",
        "type": "comment",
        "z": "d5421f8d.f7208",
        "name": "outdoor temperature is lower then indoor temperature on the first floor",
        "info": "",
        "x": 290,
        "y": 20,
        "wires": []
    },
    {
        "id": "d5e96dbb131b9d36",
        "type": "template",
        "z": "d5421f8d.f7208",
        "name": "secondary information",
        "field": "secondary_information",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "{{notify.message}}",
        "output": "str",
        "x": 2320,
        "y": 300,
        "wires": [
            [
                "f8309ac281f2719d"
            ]
        ]
    },
    {
        "id": "ea6a2fd58eb54515",
        "type": "link out",
        "z": "d5421f8d.f7208",
        "name": "notification",
        "mode": "link",
        "links": [
            "60e14e33a793f50d"
        ],
        "x": 2405,
        "y": 500,
        "wires": []
    },
    {
        "id": "71065c3b1d663fa4",
        "type": "template",
        "z": "d5421f8d.f7208",
        "name": "notification_level",
        "field": "notification_level",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "info",
        "output": "str",
        "x": 2330,
        "y": 460,
        "wires": [
            [
                "ea6a2fd58eb54515"
            ]
        ]
    },
    {
        "id": "e0444f34bbc35ff2",
        "type": "template",
        "z": "d5421f8d.f7208",
        "name": "topic",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "ventilation",
        "output": "str",
        "x": 2370,
        "y": 420,
        "wires": [
            [
                "71065c3b1d663fa4"
            ]
        ]
    },
    {
        "id": "41d591f22c238a15",
        "type": "template",
        "z": "d5421f8d.f7208",
        "name": "icon",
        "field": "icon",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "mdi:weather-windy",
        "output": "str",
        "x": 2370,
        "y": 380,
        "wires": [
            [
                "e0444f34bbc35ff2"
            ]
        ]
    },
    {
        "id": "f8309ac281f2719d",
        "type": "template",
        "z": "d5421f8d.f7208",
        "name": "primary information",
        "field": "primary_information",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Ventilatie",
        "output": "str",
        "x": 2330,
        "y": 340,
        "wires": [
            [
                "41d591f22c238a15"
            ]
        ]
    },
    {
        "id": "8d34e21d.b818f",
        "type": "change",
        "z": "d5421f8d.f7208",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "payload.attributes.current_temperature",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 600,
        "y": 160,
        "wires": [
            [
                "71d62d7c.0c49f4"
            ]
        ]
    },
    {
        "id": "71d62d7c.0c49f4",
        "type": "join",
        "z": "d5421f8d.f7208",
        "name": "",
        "mode": "auto",
        "build": "array",
        "property": "payload",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "useparts": true,
        "accumulate": false,
        "timeout": "",
        "count": "4",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "num",
        "reduceFixup": "",
        "x": 750,
        "y": 160,
        "wires": [
            [
                "f553666a.3acb38"
            ]
        ]
    },
    {
        "id": "f553666a.3acb38",
        "type": "calculator",
        "z": "d5421f8d.f7208",
        "name": "",
        "inputMsgField": "payload",
        "outputMsgField": "payload",
        "operation": "avg",
        "constant": "",
        "round": true,
        "truncate": false,
        "decimals": "1",
        "decimals2": "0",
        "x": 880,
        "y": 160,
        "wires": [
            [
                "b108409c.24dae"
            ]
        ]
    },
    {
        "id": "b108409c.24dae",
        "type": "api-current-state",
        "z": "d5421f8d.f7208",
        "name": "outdoor temperature",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "payload",
        "halt_if_type": "msg",
        "halt_if_compare": "lt",
        "entity_id": "sensor.weather_station_temperature",
        "state_type": "num",
        "blockInputOverrides": true,
        "outputProperties": [
            {
                "property": "outdoor_temperature",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 1060,
        "y": 160,
        "wires": [
            [
                "eb9d5e14.c47ca"
            ],
            [
                "cf3165dc8b9966df"
            ]
        ]
    },
    {
        "id": "317fcdab.4c33d2",
        "type": "ha-get-entities",
        "z": "d5421f8d.f7208",
        "name": "get climate entities",
        "server": "4ba92433.2478cc",
        "version": 1,
        "rules": [
            {
                "condition": "floor_registry",
                "property": "level",
                "logic": "is",
                "value": "1",
                "valueType": "str"
            },
            {
                "condition": "state_object",
                "property": "entity_id",
                "logic": "starts_with",
                "value": "climate.",
                "valueType": "str"
            },
            {
                "condition": "state_object",
                "property": "attributes.preset_modes.2",
                "logic": "is",
                "value": "auto",
                "valueType": "str"
            }
        ],
        "outputType": "split",
        "outputEmptyResults": false,
        "outputLocationType": "msg",
        "outputLocation": "payload",
        "outputResultsCount": 1,
        "x": 410,
        "y": 160,
        "wires": [
            [
                "8d34e21d.b818f"
            ]
        ]
    },
    {
        "id": "87defeb3.2f624",
        "type": "time-range-switch",
        "z": "d5421f8d.f7208",
        "name": "",
        "lat": "52.0245",
        "lon": "5.66701",
        "startTime": "06:00",
        "endTime": "00:00",
        "startOffset": 0,
        "endOffset": "0",
        "x": 230,
        "y": 160,
        "wires": [
            [
                "317fcdab.4c33d2"
            ],
            []
        ]
    },
    {
        "id": "5966ae391638c2e2",
        "type": "catch",
        "z": "d5421f8d.f7208",
        "g": "65b23193509b810d",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 120,
        "y": 80,
        "wires": [
            [
                "afca751308698d24"
            ]
        ]
    },
    {
        "id": "afca751308698d24",
        "type": "template",
        "z": "d5421f8d.f7208",
        "g": "65b23193509b810d",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 270,
        "y": 80,
        "wires": [
            [
                "996b414e0e42417f"
            ]
        ]
    },
    {
        "id": "588232826fe1cb16",
        "type": "link out",
        "z": "d5421f8d.f7208",
        "g": "65b23193509b810d",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 495,
        "y": 80,
        "wires": []
    },
    {
        "id": "996b414e0e42417f",
        "type": "template",
        "z": "d5421f8d.f7208",
        "g": "65b23193509b810d",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 410,
        "y": 80,
        "wires": [
            [
                "588232826fe1cb16"
            ]
        ]
    },
    {
        "id": "a97a74772300989a",
        "type": "ha-binary-sensor",
        "z": "d5421f8d.f7208",
        "name": "open_windows_first_floor",
        "entityConfig": "fcb1f1df3e876534",
        "version": 0,
        "state": "sensor_state",
        "stateType": "msg",
        "attributes": [
            {
                "property": "outdoor_temperature",
                "value": "outdoor_temperature",
                "valueType": "msg"
            },
            {
                "property": "first_floor_avarage_temperature",
                "value": "payload",
                "valueType": "msg"
            }
        ],
        "inputOverride": "allow",
        "outputProperties": [],
        "x": 1750,
        "y": 200,
        "wires": [
            []
        ]
    },
    {
        "id": "7e5b4ee3467aee37",
        "type": "change",
        "z": "d5421f8d.f7208",
        "name": "on",
        "rules": [
            {
                "t": "set",
                "p": "sensor_state",
                "pt": "msg",
                "to": "on",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1550,
        "y": 140,
        "wires": [
            [
                "eaec84df6f30a9ec",
                "a97a74772300989a"
            ]
        ]
    },
    {
        "id": "04165617d82c8ab8",
        "type": "change",
        "z": "d5421f8d.f7208",
        "name": "off",
        "rules": [
            {
                "t": "set",
                "p": "sensor_state",
                "pt": "msg",
                "to": "off",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1550,
        "y": 200,
        "wires": [
            [
                "a97a74772300989a"
            ]
        ]
    },
    {
        "id": "eb9d5e14.c47ca",
        "type": "switch",
        "z": "d5421f8d.f7208",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "gt",
                "v": "23",
                "vt": "num"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1250,
        "y": 140,
        "wires": [
            [
                "266f76029289adb0"
            ],
            [
                "7ccb7ced4e8c8a8f"
            ]
        ]
    },
    {
        "id": "266f76029289adb0",
        "type": "api-current-state",
        "z": "d5421f8d.f7208",
        "name": "sensor is off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "binary_sensor.open_windows_first_floor",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 1410,
        "y": 140,
        "wires": [
            [
                "7e5b4ee3467aee37"
            ],
            []
        ]
    },
    {
        "id": "7ccb7ced4e8c8a8f",
        "type": "api-current-state",
        "z": "d5421f8d.f7208",
        "name": "sensor is on",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "binary_sensor.open_windows_first_floor",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 1410,
        "y": 200,
        "wires": [
            [
                "04165617d82c8ab8"
            ],
            []
        ]
    },
    {
        "id": "56e8236b1fb323bc",
        "type": "template",
        "z": "75537afd17de5117",
        "g": "ef69ec82c772cad9",
        "name": "tag",
        "field": "notify.tag",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "picnic",
        "output": "str",
        "x": 1810,
        "y": 540,
        "wires": [
            [
                "64fb1dffb9145f24"
            ]
        ]
    },
    {
        "id": "64fb1dffb9145f24",
        "type": "join",
        "z": "75537afd17de5117",
        "g": "ef69ec82c772cad9",
        "name": "",
        "mode": "custom",
        "build": "merged",
        "property": "notify",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "useparts": true,
        "accumulate": false,
        "timeout": "",
        "count": "4",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 1970,
        "y": 500,
        "wires": [
            [
                "c32738f7b2c8ece5"
            ]
        ]
    },
    {
        "id": "c32738f7b2c8ece5",
        "type": "link out",
        "z": "75537afd17de5117",
        "g": "ef69ec82c772cad9",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "8ed3b0974336e55b",
            "a97f87cfab413716",
            "aeee8468f3d1b7ad"
        ],
        "x": 2055,
        "y": 500,
        "wires": []
    },
    {
        "id": "4b6f2391d1d4dfb7",
        "type": "template",
        "z": "75537afd17de5117",
        "g": "ef69ec82c772cad9",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Picnic",
        "output": "str",
        "x": 1810,
        "y": 460,
        "wires": [
            [
                "64fb1dffb9145f24"
            ]
        ]
    },
    {
        "id": "644d8e4f0164cfb2",
        "type": "template",
        "z": "75537afd17de5117",
        "g": "ef69ec82c772cad9",
        "name": "icon",
        "field": "notify.icon",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "mdi:cart-variant",
        "output": "str",
        "x": 1810,
        "y": 500,
        "wires": [
            [
                "64fb1dffb9145f24"
            ]
        ]
    },
    {
        "id": "77d3e073983d7d6a",
        "type": "template",
        "z": "75537afd17de5117",
        "name": "topic",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "picnic",
        "output": "str",
        "x": 1770,
        "y": 300,
        "wires": [
            [
                "85ec3596d3fd73bd"
            ]
        ]
    },
    {
        "id": "14470f4c11802ac6",
        "type": "template",
        "z": "75537afd17de5117",
        "name": "secondary information",
        "field": "secondary_information",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Tussen {{payload.start.mytime}} en {{payload.end.mytime}} staat Picnic voor de deur",
        "output": "str",
        "x": 1480,
        "y": 260,
        "wires": [
            [
                "41d0860dc5097d38"
            ]
        ]
    },
    {
        "id": "41d0860dc5097d38",
        "type": "template",
        "z": "75537afd17de5117",
        "name": "primary information",
        "field": "primary_information",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Picnic",
        "output": "str",
        "x": 1810,
        "y": 260,
        "wires": [
            [
                "77d3e073983d7d6a"
            ]
        ]
    },
    {
        "id": "85ec3596d3fd73bd",
        "type": "template",
        "z": "75537afd17de5117",
        "name": "notification_level",
        "field": "notification_level",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "info",
        "output": "str",
        "x": 1810,
        "y": 340,
        "wires": [
            [
                "2dbb9134617a5402"
            ]
        ]
    },
    {
        "id": "2dbb9134617a5402",
        "type": "change",
        "z": "75537afd17de5117",
        "name": "set icon",
        "rules": [
            {
                "t": "set",
                "p": "icon",
                "pt": "msg",
                "to": "mdi:cart-variant",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1780,
        "y": 380,
        "wires": [
            [
                "44a15e4a3bd02612"
            ]
        ]
    },
    {
        "id": "b6a5a8fb06e323fe",
        "type": "change",
        "z": "75537afd17de5117",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "date",
                "pt": "msg",
                "to": "picnic_next_delivery_eta_start",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 490,
        "y": 260,
        "wires": [
            [
                "a80e12ba7e06011c"
            ]
        ]
    },
    {
        "id": "20a55376db0798a4",
        "type": "change",
        "z": "75537afd17de5117",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "date",
                "pt": "msg",
                "to": "picnic_next_delivery_eta_end",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 490,
        "y": 320,
        "wires": [
            [
                "fbfa1f7bfdf77af6"
            ]
        ]
    },
    {
        "id": "0c7a8318641234b3",
        "type": "join",
        "z": "75537afd17de5117",
        "name": "",
        "mode": "custom",
        "build": "merged",
        "property": "payload",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": true,
        "timeout": "",
        "count": "2",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 1070,
        "y": 260,
        "wires": [
            [
                "14470f4c11802ac6",
                "7d1ac466c12890de"
            ]
        ]
    },
    {
        "id": "2c31a96255251568",
        "type": "function",
        "z": "75537afd17de5117",
        "name": "Add time objects to payload",
        "func": "msg.payload = {}\nmsg.payload.start = {}\n\nmsg.payload.start.mytime = msg.mytime\nmsg.payload.start.myymd = msg.myymd\n\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 860,
        "y": 260,
        "wires": [
            [
                "0c7a8318641234b3"
            ]
        ]
    },
    {
        "id": "e184490a36dc09a0",
        "type": "function",
        "z": "75537afd17de5117",
        "name": "Add time objects to payload",
        "func": "msg.payload = {}\nmsg.payload.end = {}\n\nmsg.payload.end.mytime = msg.mytime\nmsg.payload.end.myymd = msg.myymd\n\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 860,
        "y": 320,
        "wires": [
            [
                "0c7a8318641234b3"
            ]
        ]
    },
    {
        "id": "c13d90e2be19e58b",
        "type": "comment",
        "z": "75537afd17de5117",
        "name": "picnic delivery notification",
        "info": "",
        "x": 130,
        "y": 20,
        "wires": []
    },
    {
        "id": "44a15e4a3bd02612",
        "type": "link out",
        "z": "75537afd17de5117",
        "name": "notification",
        "mode": "link",
        "links": [
            "60e14e33a793f50d"
        ],
        "x": 2025,
        "y": 380,
        "wires": []
    },
    {
        "id": "d30994bbcaef5d1d",
        "type": "inject",
        "z": "75537afd17de5117",
        "name": "",
        "props": [
            {
                "p": "current_time",
                "v": "",
                "vt": "date"
            }
        ],
        "repeat": "300",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "x": 90,
        "y": 460,
        "wires": [
            [
                "c0aa77e2e5285d4b",
                "8aa5f383b3e9b3bf"
            ]
        ]
    },
    {
        "id": "f25a03c4b847f93d",
        "type": "change",
        "z": "75537afd17de5117",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "date",
                "pt": "msg",
                "to": "picnic_next_delivery_eta_start",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 490,
        "y": 460,
        "wires": [
            [
                "251cb434406b8b6e"
            ]
        ]
    },
    {
        "id": "fdbf3117f80f9c85",
        "type": "change",
        "z": "75537afd17de5117",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "date",
                "pt": "msg",
                "to": "picnic_next_delivery_eta_end",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 490,
        "y": 520,
        "wires": [
            [
                "07d9505862e9b884"
            ]
        ]
    },
    {
        "id": "e86d6d6bfba6bc21",
        "type": "function",
        "z": "75537afd17de5117",
        "name": "Add time objects to payload",
        "func": "msg.payload = {}\nmsg.payload.start = {}\n\nmsg.payload.start.mytime = msg.mytime\nmsg.payload.start.myymd = msg.myymd\nmsg.payload.start.myepoch = msg.myepoch\n\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 860,
        "y": 460,
        "wires": [
            [
                "42cffd05b63d3293"
            ]
        ]
    },
    {
        "id": "5739b7e57c824256",
        "type": "function",
        "z": "75537afd17de5117",
        "name": "Add time objects to payload",
        "func": "msg.payload = {}\nmsg.payload.end = {}\n\nmsg.payload.end.mytime = msg.mytime\nmsg.payload.end.myymd = msg.myymd\n\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 860,
        "y": 520,
        "wires": [
            [
                "42cffd05b63d3293"
            ]
        ]
    },
    {
        "id": "42cffd05b63d3293",
        "type": "join",
        "z": "75537afd17de5117",
        "name": "",
        "mode": "custom",
        "build": "merged",
        "property": "payload",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": true,
        "timeout": "",
        "count": "2",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 1070,
        "y": 460,
        "wires": [
            [
                "4448bf9259b57d76"
            ]
        ]
    },
    {
        "id": "4448bf9259b57d76",
        "type": "switch",
        "z": "75537afd17de5117",
        "name": "",
        "property": "current_time",
        "propertyType": "msg",
        "rules": [
            {
                "t": "gt",
                "v": "myepoch",
                "vt": "msg"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1190,
        "y": 460,
        "wires": [
            [
                "ee81f033c7bc9f0f"
            ]
        ]
    },
    {
        "id": "ee81f033c7bc9f0f",
        "type": "rbe",
        "z": "75537afd17de5117",
        "name": "",
        "func": "rbe",
        "gap": "",
        "start": "",
        "inout": "out",
        "septopics": true,
        "property": "payload",
        "topi": "topic",
        "x": 1310,
        "y": 460,
        "wires": [
            [
                "b3a5d188e65ecafd"
            ]
        ]
    },
    {
        "id": "7d1ac466c12890de",
        "type": "template",
        "z": "75537afd17de5117",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Tussen {{payload.start.mytime}} en {{payload.end.mytime}} staat Picnic voor de deur",
        "output": "str",
        "x": 1520,
        "y": 300,
        "wires": [
            [
                "5cb88a741e06d0c9"
            ]
        ]
    },
    {
        "id": "b3a5d188e65ecafd",
        "type": "template",
        "z": "75537afd17de5117",
        "name": "secondary information",
        "field": "secondary_information",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Picnic staat bijna voor de deur. Tussen {{payload.start.mytime}} en {{payload.end.mytime}}.",
        "output": "str",
        "x": 1480,
        "y": 460,
        "wires": [
            [
                "41d0860dc5097d38"
            ]
        ]
    },
    {
        "id": "a6ef62b554d3aac7",
        "type": "template",
        "z": "75537afd17de5117",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Picnic staat bijna voor de deur. Tussen {{payload.start.mytime}} en {{payload.end.mytime}}.",
        "output": "str",
        "x": 1520,
        "y": 500,
        "wires": [
            [
                "5cb88a741e06d0c9"
            ]
        ]
    },
    {
        "id": "0f24449fc1a8bc78",
        "type": "comment",
        "z": "75537afd17de5117",
        "name": "Send a message once the start time has been known",
        "info": "",
        "x": 230,
        "y": 220,
        "wires": []
    },
    {
        "id": "e9481b54b8db081c",
        "type": "comment",
        "z": "75537afd17de5117",
        "name": "Send a message once the start time is above current time",
        "info": "",
        "x": 250,
        "y": 420,
        "wires": []
    },
    {
        "id": "967b0029e044c941",
        "type": "api-current-state",
        "z": "75537afd17de5117",
        "name": "picnic expected end delivery",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "unknown",
        "halt_if_type": "str",
        "halt_if_compare": "is_not",
        "entity_id": "sensor.picnic_expected_end_of_next_delivery",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "picnic_next_delivery_eta_end",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 160,
        "y": 320,
        "wires": [
            [
                "20a55376db0798a4"
            ],
            []
        ]
    },
    {
        "id": "c0aa77e2e5285d4b",
        "type": "api-current-state",
        "z": "75537afd17de5117",
        "name": "start datetime next delivery",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "unknown",
        "halt_if_type": "str",
        "halt_if_compare": "is_not",
        "entity_id": "sensor.picnic_expected_start_of_next_delivery",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "picnic_next_delivery_eta_start",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 280,
        "y": 460,
        "wires": [
            [
                "f25a03c4b847f93d"
            ],
            []
        ]
    },
    {
        "id": "8aa5f383b3e9b3bf",
        "type": "api-current-state",
        "z": "75537afd17de5117",
        "name": "start datetime next delivery",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "unknown",
        "halt_if_type": "str",
        "halt_if_compare": "is_not",
        "entity_id": "sensor.picnic_expected_end_of_next_delivery",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "picnic_next_delivery_eta_end",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 280,
        "y": 520,
        "wires": [
            [
                "fdbf3117f80f9c85"
            ],
            []
        ]
    },
    {
        "id": "c894705717c745bf",
        "type": "server-state-changed",
        "z": "75537afd17de5117",
        "name": "start datetime next delivery",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 1,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "sensor.picnic_expected_start_of_next_delivery"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": true,
        "stateType": "str",
        "ifState": "",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "picnic_next_delivery_eta_start",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            }
        ],
        "x": 150,
        "y": 260,
        "wires": [
            [
                "b6a5a8fb06e323fe",
                "967b0029e044c941"
            ]
        ]
    },
    {
        "id": "a80e12ba7e06011c",
        "type": "simpletime",
        "z": "75537afd17de5117",
        "name": "",
        "mydate": true,
        "myymd": true,
        "myyear": true,
        "mymonth": true,
        "mymonthn": true,
        "mymonthf": true,
        "mydom": true,
        "mydoy": true,
        "myday": true,
        "mydayf": true,
        "myhourpm": true,
        "myhour": true,
        "mytime": true,
        "mytimes": true,
        "myminute": true,
        "myminutes": true,
        "mysecond": true,
        "mymillis": true,
        "myepoch": true,
        "myrawdate": true,
        "mypm": true,
        "x": 650,
        "y": 260,
        "wires": [
            [
                "2c31a96255251568"
            ]
        ]
    },
    {
        "id": "fbfa1f7bfdf77af6",
        "type": "simpletime",
        "z": "75537afd17de5117",
        "name": "",
        "mydate": true,
        "myymd": true,
        "myyear": true,
        "mymonth": true,
        "mymonthn": true,
        "mymonthf": true,
        "mydom": true,
        "mydoy": true,
        "myday": true,
        "mydayf": true,
        "myhourpm": true,
        "myhour": true,
        "mytime": true,
        "mytimes": true,
        "myminute": true,
        "myminutes": true,
        "mysecond": true,
        "mymillis": true,
        "myepoch": true,
        "myrawdate": true,
        "mypm": true,
        "x": 650,
        "y": 320,
        "wires": [
            [
                "e184490a36dc09a0"
            ]
        ]
    },
    {
        "id": "251cb434406b8b6e",
        "type": "simpletime",
        "z": "75537afd17de5117",
        "name": "",
        "mydate": true,
        "myymd": true,
        "myyear": true,
        "mymonth": true,
        "mymonthn": true,
        "mymonthf": true,
        "mydom": true,
        "mydoy": true,
        "myday": true,
        "mydayf": true,
        "myhourpm": true,
        "myhour": true,
        "mytime": true,
        "mytimes": true,
        "myminute": true,
        "myminutes": true,
        "mysecond": true,
        "mymillis": true,
        "myepoch": true,
        "myrawdate": true,
        "mypm": true,
        "x": 650,
        "y": 460,
        "wires": [
            [
                "e86d6d6bfba6bc21"
            ]
        ]
    },
    {
        "id": "07d9505862e9b884",
        "type": "simpletime",
        "z": "75537afd17de5117",
        "name": "",
        "mydate": true,
        "myymd": true,
        "myyear": true,
        "mymonth": true,
        "mymonthn": true,
        "mymonthf": true,
        "mydom": true,
        "mydoy": true,
        "myday": true,
        "mydayf": true,
        "myhourpm": true,
        "myhour": true,
        "mytime": true,
        "mytimes": true,
        "myminute": true,
        "myminutes": true,
        "mysecond": true,
        "mymillis": true,
        "myepoch": true,
        "myrawdate": true,
        "mypm": true,
        "x": 650,
        "y": 520,
        "wires": [
            [
                "5739b7e57c824256"
            ]
        ]
    },
    {
        "id": "08e87e585225cf76",
        "type": "catch",
        "z": "75537afd17de5117",
        "g": "8b3123563ca26288",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "850de025f821d110"
            ]
        ]
    },
    {
        "id": "850de025f821d110",
        "type": "template",
        "z": "75537afd17de5117",
        "g": "8b3123563ca26288",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "34627360e59b2422"
            ]
        ]
    },
    {
        "id": "a1d22443632b6c95",
        "type": "link out",
        "z": "75537afd17de5117",
        "g": "8b3123563ca26288",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 475,
        "y": 80,
        "wires": []
    },
    {
        "id": "34627360e59b2422",
        "type": "template",
        "z": "75537afd17de5117",
        "g": "8b3123563ca26288",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "a1d22443632b6c95"
            ]
        ]
    },
    {
        "id": "0e310c70840e8224",
        "type": "comment",
        "z": "535c98d1d92579b6",
        "name": "Notification sensors",
        "info": "",
        "x": 110,
        "y": 20,
        "wires": []
    },
    {
        "id": "d284fbdad343c385",
        "type": "change",
        "z": "535c98d1d92579b6",
        "name": "change queueCount to prevent loop",
        "rules": [
            {
                "t": "set",
                "p": "queueCount",
                "pt": "msg",
                "to": "queueCount-disabled",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1120,
        "y": 400,
        "wires": [
            [
                "4a33ba091890f26c"
            ]
        ]
    },
    {
        "id": "88f82f16d0ecc697",
        "type": "switch",
        "z": "535c98d1d92579b6",
        "name": "queueCount is manual",
        "property": "queueCount",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "manual",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1080,
        "y": 480,
        "wires": [
            [
                "08621321cbd341f3"
            ]
        ]
    },
    {
        "id": "cf3dcb6dddbc3023",
        "type": "switch",
        "z": "535c98d1d92579b6",
        "name": "queueCount = 0",
        "property": "_queueCount",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1320,
        "y": 320,
        "wires": [
            [
                "eb4339876a876c95"
            ]
        ]
    },
    {
        "id": "eb4339876a876c95",
        "type": "change",
        "z": "535c98d1d92579b6",
        "name": "turn off",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "off",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1470,
        "y": 320,
        "wires": [
            [
                "60dd6681f0c203d8"
            ]
        ]
    },
    {
        "id": "e190582e7eecb772",
        "type": "change",
        "z": "535c98d1d92579b6",
        "name": "send queueCount",
        "rules": [
            {
                "t": "set",
                "p": "queueCount",
                "pt": "msg",
                "to": "manual",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 610,
        "y": 360,
        "wires": [
            [
                "4f661232083706f4"
            ]
        ]
    },
    {
        "id": "08621321cbd341f3",
        "type": "change",
        "z": "535c98d1d92579b6",
        "name": "trigger next notification",
        "rules": [
            {
                "t": "set",
                "p": "trigger",
                "pt": "msg",
                "to": "",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1080,
        "y": 440,
        "wires": [
            [
                "d284fbdad343c385"
            ]
        ]
    },
    {
        "id": "c7424ac5390d672f",
        "type": "switch",
        "z": "535c98d1d92579b6",
        "name": "queueCount manual or not",
        "property": "queueCount",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "manual",
                "vt": "str"
            },
            {
                "t": "neq",
                "v": "manual",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1100,
        "y": 360,
        "wires": [
            [
                "cf3dcb6dddbc3023"
            ],
            [
                "f828d6073d42e100"
            ]
        ]
    },
    {
        "id": "60e14e33a793f50d",
        "type": "link in",
        "z": "535c98d1d92579b6",
        "name": "notification_sensors",
        "links": [
            "178e42db86a628e8",
            "4705f09e38185adf",
            "8474d1caa427cb1a",
            "9fd7a6afaf90435a",
            "afc68deb5ab5e4be",
            "dbd6c4b98cdaf5bf",
            "a9aa3ff08dd7532c"
        ],
        "x": 225,
        "y": 260,
        "wires": [
            [
                "1dfbe5c40868f075"
            ]
        ]
    },
    {
        "id": "1dfbe5c40868f075",
        "type": "change",
        "z": "535c98d1d92579b6",
        "name": "turn on",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "on",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 340,
        "y": 260,
        "wires": [
            [
                "b47b5b571e70f987"
            ]
        ]
    },
    {
        "id": "b47b5b571e70f987",
        "type": "switch",
        "z": "535c98d1d92579b6",
        "name": "notification level",
        "property": "notification_level",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "info",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "warning",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "error",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 3,
        "x": 500,
        "y": 260,
        "wires": [
            [
                "50241184111a2c70"
            ],
            [
                "d562f0f246daa67a"
            ],
            [
                "deabe55a2db7bf66"
            ]
        ]
    },
    {
        "id": "20e547681f231053",
        "type": "change",
        "z": "535c98d1d92579b6",
        "name": "change queueCount to prevent loop",
        "rules": [
            {
                "t": "set",
                "p": "queueCount",
                "pt": "msg",
                "to": "queueCount-disabled",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1120,
        "y": 640,
        "wires": [
            [
                "301e94d904b9a128"
            ]
        ]
    },
    {
        "id": "efbc738612c5af68",
        "type": "switch",
        "z": "535c98d1d92579b6",
        "name": "queueCount is manual",
        "property": "queueCount",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "manual",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1080,
        "y": 720,
        "wires": [
            [
                "7ebeace41d10ab2c"
            ]
        ]
    },
    {
        "id": "bbbb44ecec657829",
        "type": "switch",
        "z": "535c98d1d92579b6",
        "name": "queueCount = 0",
        "property": "_queueCount",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1320,
        "y": 560,
        "wires": [
            [
                "de6a06807eba37cd"
            ]
        ]
    },
    {
        "id": "de6a06807eba37cd",
        "type": "change",
        "z": "535c98d1d92579b6",
        "name": "turn off",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "off",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1470,
        "y": 560,
        "wires": [
            [
                "528f1050a96e3ee8"
            ]
        ]
    },
    {
        "id": "736105227bd073f9",
        "type": "change",
        "z": "535c98d1d92579b6",
        "name": "send queueCount",
        "rules": [
            {
                "t": "set",
                "p": "queueCount",
                "pt": "msg",
                "to": "manual",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 610,
        "y": 600,
        "wires": [
            [
                "318426830832aad5"
            ]
        ]
    },
    {
        "id": "7ebeace41d10ab2c",
        "type": "change",
        "z": "535c98d1d92579b6",
        "name": "trigger next notification",
        "rules": [
            {
                "t": "set",
                "p": "trigger",
                "pt": "msg",
                "to": "",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1080,
        "y": 680,
        "wires": [
            [
                "20e547681f231053"
            ]
        ]
    },
    {
        "id": "e411b0ba582c91c2",
        "type": "switch",
        "z": "535c98d1d92579b6",
        "name": "queueCount manual or not",
        "property": "queueCount",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "manual",
                "vt": "str"
            },
            {
                "t": "neq",
                "v": "manual",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1100,
        "y": 600,
        "wires": [
            [
                "bbbb44ecec657829"
            ],
            [
                "91eedee11e4bcc9a"
            ]
        ]
    },
    {
        "id": "4c54182aa65282bd",
        "type": "change",
        "z": "535c98d1d92579b6",
        "name": "change queueCount to prevent loop",
        "rules": [
            {
                "t": "set",
                "p": "queueCount",
                "pt": "msg",
                "to": "queueCount-disabled",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1120,
        "y": 880,
        "wires": [
            [
                "b9e7aa8885c6c8ee"
            ]
        ]
    },
    {
        "id": "78188ae45f430dd6",
        "type": "switch",
        "z": "535c98d1d92579b6",
        "name": "queueCount is manual",
        "property": "queueCount",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "manual",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1080,
        "y": 960,
        "wires": [
            [
                "145923d276293382"
            ]
        ]
    },
    {
        "id": "bc4a54588c595f3f",
        "type": "switch",
        "z": "535c98d1d92579b6",
        "name": "queueCount = 0",
        "property": "_queueCount",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1320,
        "y": 800,
        "wires": [
            [
                "c9b99378a043955e"
            ]
        ]
    },
    {
        "id": "c9b99378a043955e",
        "type": "change",
        "z": "535c98d1d92579b6",
        "name": "turn off",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "off",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1470,
        "y": 800,
        "wires": [
            [
                "888146b5bc3de9b0"
            ]
        ]
    },
    {
        "id": "0ad5ce9b55391b05",
        "type": "change",
        "z": "535c98d1d92579b6",
        "name": "send queueCount",
        "rules": [
            {
                "t": "set",
                "p": "queueCount",
                "pt": "msg",
                "to": "manual",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 610,
        "y": 840,
        "wires": [
            [
                "f772e0315cdeaa39"
            ]
        ]
    },
    {
        "id": "145923d276293382",
        "type": "change",
        "z": "535c98d1d92579b6",
        "name": "trigger next notification",
        "rules": [
            {
                "t": "set",
                "p": "trigger",
                "pt": "msg",
                "to": "",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1080,
        "y": 920,
        "wires": [
            [
                "4c54182aa65282bd"
            ]
        ]
    },
    {
        "id": "cc525d2002136a4c",
        "type": "switch",
        "z": "535c98d1d92579b6",
        "name": "queueCount manual or not",
        "property": "queueCount",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "manual",
                "vt": "str"
            },
            {
                "t": "neq",
                "v": "manual",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1100,
        "y": 840,
        "wires": [
            [
                "bc4a54588c595f3f"
            ],
            [
                "33214ff962dae990"
            ]
        ]
    },
    {
        "id": "33214ff962dae990",
        "type": "switch",
        "z": "535c98d1d92579b6",
        "name": "has icon or not",
        "property": "icon",
        "propertyType": "msg",
        "rules": [
            {
                "t": "else"
            },
            {
                "t": "null"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1500,
        "y": 840,
        "wires": [
            [
                "d50ea9d8ab173da2"
            ],
            [
                "af174ca359ccb0a2"
            ]
        ]
    },
    {
        "id": "af174ca359ccb0a2",
        "type": "change",
        "z": "535c98d1d92579b6",
        "name": "set icon",
        "rules": [
            {
                "t": "set",
                "p": "icon",
                "pt": "msg",
                "to": "mdi:alert-circle-outline",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1660,
        "y": 860,
        "wires": [
            [
                "d50ea9d8ab173da2"
            ]
        ]
    },
    {
        "id": "d50ea9d8ab173da2",
        "type": "switch",
        "z": "535c98d1d92579b6",
        "name": "has icon_color or not",
        "property": "icon_color",
        "propertyType": "msg",
        "rules": [
            {
                "t": "else"
            },
            {
                "t": "null"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1860,
        "y": 840,
        "wires": [
            [
                "888146b5bc3de9b0"
            ],
            [
                "0c7e8bf8978de66d"
            ]
        ]
    },
    {
        "id": "0c7e8bf8978de66d",
        "type": "change",
        "z": "535c98d1d92579b6",
        "name": "set color",
        "rules": [
            {
                "t": "set",
                "p": "icon_color",
                "pt": "msg",
                "to": "red",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2040,
        "y": 860,
        "wires": [
            [
                "888146b5bc3de9b0"
            ]
        ]
    },
    {
        "id": "91eedee11e4bcc9a",
        "type": "switch",
        "z": "535c98d1d92579b6",
        "name": "has icon or not",
        "property": "icon",
        "propertyType": "msg",
        "rules": [
            {
                "t": "else"
            },
            {
                "t": "null"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1500,
        "y": 600,
        "wires": [
            [
                "65685b25d00a4e03"
            ],
            [
                "9458cfbde59e2711"
            ]
        ]
    },
    {
        "id": "9458cfbde59e2711",
        "type": "change",
        "z": "535c98d1d92579b6",
        "name": "set icon",
        "rules": [
            {
                "t": "set",
                "p": "icon",
                "pt": "msg",
                "to": "mdi:alert-circle-outline",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1660,
        "y": 620,
        "wires": [
            [
                "65685b25d00a4e03"
            ]
        ]
    },
    {
        "id": "65685b25d00a4e03",
        "type": "switch",
        "z": "535c98d1d92579b6",
        "name": "has icon_color or not",
        "property": "icon_color",
        "propertyType": "msg",
        "rules": [
            {
                "t": "else"
            },
            {
                "t": "null"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1860,
        "y": 600,
        "wires": [
            [
                "528f1050a96e3ee8"
            ],
            [
                "07cfc1a9e4e1c040"
            ]
        ]
    },
    {
        "id": "07cfc1a9e4e1c040",
        "type": "change",
        "z": "535c98d1d92579b6",
        "name": "set color",
        "rules": [
            {
                "t": "set",
                "p": "icon_color",
                "pt": "msg",
                "to": "orange",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2040,
        "y": 620,
        "wires": [
            [
                "528f1050a96e3ee8"
            ]
        ]
    },
    {
        "id": "f828d6073d42e100",
        "type": "switch",
        "z": "535c98d1d92579b6",
        "name": "has icon or not",
        "property": "icon",
        "propertyType": "msg",
        "rules": [
            {
                "t": "else"
            },
            {
                "t": "null"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1500,
        "y": 360,
        "wires": [
            [
                "feaf1ae10c82af9b"
            ],
            [
                "c7dbb5a3de1d13d0"
            ]
        ]
    },
    {
        "id": "c7dbb5a3de1d13d0",
        "type": "change",
        "z": "535c98d1d92579b6",
        "name": "set icon",
        "rules": [
            {
                "t": "set",
                "p": "icon",
                "pt": "msg",
                "to": "mdi:alert-circle-outline",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1660,
        "y": 380,
        "wires": [
            [
                "feaf1ae10c82af9b"
            ]
        ]
    },
    {
        "id": "feaf1ae10c82af9b",
        "type": "switch",
        "z": "535c98d1d92579b6",
        "name": "has icon_color or not",
        "property": "icon_color",
        "propertyType": "msg",
        "rules": [
            {
                "t": "else"
            },
            {
                "t": "null"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1860,
        "y": 360,
        "wires": [
            [
                "60dd6681f0c203d8"
            ],
            [
                "7793f5587485f10d"
            ]
        ]
    },
    {
        "id": "7793f5587485f10d",
        "type": "change",
        "z": "535c98d1d92579b6",
        "name": "set color",
        "rules": [
            {
                "t": "set",
                "p": "icon_color",
                "pt": "msg",
                "to": "red",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2040,
        "y": 380,
        "wires": [
            [
                "60dd6681f0c203d8"
            ]
        ]
    },
    {
        "id": "528f1050a96e3ee8",
        "type": "ha-binary-sensor",
        "z": "535c98d1d92579b6",
        "name": "notification_level_warning",
        "entityConfig": "fed106bf198ad2ea",
        "version": 0,
        "state": "payload",
        "stateType": "msg",
        "attributes": [
            {
                "property": "primary_information",
                "value": "primary_information",
                "valueType": "msg"
            },
            {
                "property": "secondary_information",
                "value": "secondary_information",
                "valueType": "msg"
            },
            {
                "property": "topic",
                "value": "topic",
                "valueType": "msg"
            },
            {
                "property": "icon",
                "value": "icon",
                "valueType": "msg"
            },
            {
                "property": "icon_color",
                "value": "icon_color",
                "valueType": "msg"
            },
            {
                "property": "notification_level",
                "value": "notification_level",
                "valueType": "msg"
            }
        ],
        "inputOverride": "allow",
        "outputProperties": [],
        "x": 2230,
        "y": 560,
        "wires": [
            []
        ]
    },
    {
        "id": "888146b5bc3de9b0",
        "type": "ha-binary-sensor",
        "z": "535c98d1d92579b6",
        "name": "notification_level_error",
        "entityConfig": "d2b97f89ed6763e5",
        "version": 0,
        "state": "payload",
        "stateType": "msg",
        "attributes": [
            {
                "property": "primary_information",
                "value": "primary_information",
                "valueType": "msg"
            },
            {
                "property": "secondary_information",
                "value": "secondary_information",
                "valueType": "msg"
            },
            {
                "property": "topic",
                "value": "topic",
                "valueType": "msg"
            },
            {
                "property": "icon",
                "value": "icon",
                "valueType": "msg"
            },
            {
                "property": "icon_color",
                "value": "icon_color",
                "valueType": "msg"
            },
            {
                "property": "notification_level",
                "value": "notification_level",
                "valueType": "msg"
            }
        ],
        "inputOverride": "allow",
        "outputProperties": [],
        "x": 2220,
        "y": 800,
        "wires": [
            []
        ]
    },
    {
        "id": "60dd6681f0c203d8",
        "type": "ha-binary-sensor",
        "z": "535c98d1d92579b6",
        "name": "notification_level_info",
        "entityConfig": "cab73c1a38f001be",
        "version": 0,
        "state": "payload",
        "stateType": "msg",
        "attributes": [
            {
                "property": "primary_information",
                "value": "primary_information",
                "valueType": "msg"
            },
            {
                "property": "secondary_information",
                "value": "secondary_information",
                "valueType": "msg"
            },
            {
                "property": "topic",
                "value": "topic",
                "valueType": "msg"
            },
            {
                "property": "icon",
                "value": "mdi:information-outline",
                "valueType": "str"
            },
            {
                "property": "icon_color",
                "value": "yellow",
                "valueType": "str"
            },
            {
                "property": "notification_level",
                "value": "notification_level",
                "valueType": "msg"
            }
        ],
        "inputOverride": "allow",
        "outputProperties": [],
        "x": 2220,
        "y": 320,
        "wires": [
            []
        ]
    },
    {
        "id": "90472c432f08b2dc",
        "type": "ha-button",
        "z": "535c98d1d92579b6",
        "name": "notification_level_info_turn_off",
        "version": 0,
        "debugenabled": false,
        "outputs": 1,
        "entityConfig": "61b96249023198be",
        "outputProperties": [],
        "x": 340,
        "y": 360,
        "wires": [
            [
                "e190582e7eecb772"
            ]
        ]
    },
    {
        "id": "6cb0684a8f3589cf",
        "type": "ha-button",
        "z": "535c98d1d92579b6",
        "name": "notification_level_warning_turn_off",
        "version": 0,
        "debugenabled": false,
        "outputs": 1,
        "entityConfig": "ce2ff010477149a7",
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "off",
                "valueType": "str"
            }
        ],
        "x": 360,
        "y": 600,
        "wires": [
            [
                "736105227bd073f9"
            ]
        ]
    },
    {
        "id": "f9e253cfd747a61a",
        "type": "ha-button",
        "z": "535c98d1d92579b6",
        "name": "notification_level_error_turn_off",
        "version": 0,
        "debugenabled": false,
        "outputs": 1,
        "entityConfig": "287aaae77d488c09",
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "off",
                "valueType": "str"
            }
        ],
        "x": 350,
        "y": 840,
        "wires": [
            [
                "0ad5ce9b55391b05"
            ]
        ]
    },
    {
        "id": "549544fa83d3a57f",
        "type": "ha-button",
        "z": "535c98d1d92579b6",
        "name": "notification_level_clear_all",
        "version": 0,
        "debugenabled": false,
        "outputs": 1,
        "entityConfig": "3cbf2c3454c3795d",
        "outputProperties": [],
        "x": 1290,
        "y": 240,
        "wires": [
            [
                "eb4339876a876c95",
                "de6a06807eba37cd",
                "c9b99378a043955e"
            ]
        ]
    },
    {
        "id": "4f661232083706f4",
        "type": "simple-queue",
        "z": "535c98d1d92579b6",
        "name": "",
        "firstMessageBypass": true,
        "bypassInterval": "0",
        "x": 850,
        "y": 320,
        "wires": [
            [
                "88f82f16d0ecc697",
                "c7424ac5390d672f"
            ]
        ]
    },
    {
        "id": "318426830832aad5",
        "type": "simple-queue",
        "z": "535c98d1d92579b6",
        "name": "",
        "firstMessageBypass": true,
        "bypassInterval": "0",
        "x": 850,
        "y": 560,
        "wires": [
            [
                "efbc738612c5af68",
                "e411b0ba582c91c2"
            ]
        ]
    },
    {
        "id": "f772e0315cdeaa39",
        "type": "simple-queue",
        "z": "535c98d1d92579b6",
        "name": "",
        "firstMessageBypass": true,
        "bypassInterval": "0",
        "x": 850,
        "y": 800,
        "wires": [
            [
                "78188ae45f430dd6",
                "cc525d2002136a4c"
            ]
        ]
    },
    {
        "id": "d361893bd7868273",
        "type": "catch",
        "z": "535c98d1d92579b6",
        "g": "54fbd89aeb283eab",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "d50a3b33f5ac5fbe"
            ]
        ]
    },
    {
        "id": "d50a3b33f5ac5fbe",
        "type": "template",
        "z": "535c98d1d92579b6",
        "g": "54fbd89aeb283eab",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "3a705fecfc60ec68"
            ]
        ]
    },
    {
        "id": "dac0d4dda81abc95",
        "type": "link out",
        "z": "535c98d1d92579b6",
        "g": "54fbd89aeb283eab",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 475,
        "y": 80,
        "wires": []
    },
    {
        "id": "3a705fecfc60ec68",
        "type": "template",
        "z": "535c98d1d92579b6",
        "g": "54fbd89aeb283eab",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "dac0d4dda81abc95"
            ]
        ]
    },
    {
        "id": "26762f8cca83bccc",
        "type": "comment",
        "z": "1dfb7e055134adc8",
        "name": "A sensor that counts how many notifications sensors is turned on",
        "info": "",
        "x": 250,
        "y": 20,
        "wires": []
    },
    {
        "id": "ae54d9f76e9004e0",
        "type": "server-state-changed",
        "z": "1dfb7e055134adc8",
        "name": "a notification level sensor state change",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 1,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [],
            "substring": [],
            "regex": [
                "binary_sensor.notification_level_"
            ]
        },
        "outputInitially": true,
        "stateType": "str",
        "ifState": "",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": false,
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [],
        "x": 170,
        "y": 160,
        "wires": [
            [
                "5dd6f309f6f3b011"
            ]
        ]
    },
    {
        "id": "5dd6f309f6f3b011",
        "type": "ha-get-entities",
        "z": "1dfb7e055134adc8",
        "name": "find binary_sensor.notification_level_ with state on",
        "server": "4ba92433.2478cc",
        "version": 1,
        "rules": [
            {
                "property": "entity_id",
                "logic": "starts_with",
                "value": "binary_sensor.notification_level_",
                "valueType": "str"
            },
            {
                "property": "state",
                "logic": "is",
                "value": "on",
                "valueType": "str"
            }
        ],
        "outputType": "count",
        "outputEmptyResults": false,
        "outputLocationType": "msg",
        "outputLocation": "payload",
        "outputResultsCount": 1,
        "x": 530,
        "y": 160,
        "wires": [
            [
                "0ff060b82e9de426"
            ]
        ]
    },
    {
        "id": "0ff060b82e9de426",
        "type": "ha-sensor",
        "z": "1dfb7e055134adc8",
        "name": "notification_on_counter",
        "entityConfig": "df0e222b4bf2971f",
        "version": 0,
        "state": "payload",
        "stateType": "msg",
        "attributes": [],
        "inputOverride": "allow",
        "outputProperties": [],
        "x": 850,
        "y": 160,
        "wires": [
            []
        ]
    },
    {
        "id": "230055356a2e27e3",
        "type": "catch",
        "z": "1dfb7e055134adc8",
        "g": "28814c2324702a49",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "c6c55fc30c7db0f1"
            ]
        ]
    },
    {
        "id": "c6c55fc30c7db0f1",
        "type": "template",
        "z": "1dfb7e055134adc8",
        "g": "28814c2324702a49",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "d9db1905747d0301"
            ]
        ]
    },
    {
        "id": "c84220140a8c71a3",
        "type": "link out",
        "z": "1dfb7e055134adc8",
        "g": "28814c2324702a49",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 475,
        "y": 80,
        "wires": []
    },
    {
        "id": "d9db1905747d0301",
        "type": "template",
        "z": "1dfb7e055134adc8",
        "g": "28814c2324702a49",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "c84220140a8c71a3"
            ]
        ]
    },
    {
        "id": "5273660ff2a42a63",
        "type": "template",
        "z": "b1b994b3d43d6aad",
        "g": "9d6561fb99238a4d",
        "name": "icon",
        "field": "notify.icon",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "",
        "output": "str",
        "x": 1310,
        "y": 340,
        "wires": [
            [
                "6cdaa7e9c55994da"
            ]
        ]
    },
    {
        "id": "194df75621104155",
        "type": "template",
        "z": "b1b994b3d43d6aad",
        "g": "9d6561fb99238a4d",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Stookalert",
        "output": "str",
        "x": 1310,
        "y": 260,
        "wires": [
            [
                "6cdaa7e9c55994da"
            ]
        ]
    },
    {
        "id": "c6bc1abd0ea4d3e7",
        "type": "link out",
        "z": "b1b994b3d43d6aad",
        "g": "9d6561fb99238a4d",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "8ed3b0974336e55b",
            "aeee8468f3d1b7ad"
        ],
        "x": 1565,
        "y": 300,
        "wires": []
    },
    {
        "id": "6cdaa7e9c55994da",
        "type": "join",
        "z": "b1b994b3d43d6aad",
        "g": "9d6561fb99238a4d",
        "name": "",
        "mode": "custom",
        "build": "merged",
        "property": "notify",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": false,
        "timeout": "",
        "count": "4",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 1470,
        "y": 300,
        "wires": [
            [
                "c6bc1abd0ea4d3e7"
            ]
        ]
    },
    {
        "id": "48b102061eef4776",
        "type": "template",
        "z": "b1b994b3d43d6aad",
        "g": "9d6561fb99238a4d",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "{{secondary_information}}",
        "output": "str",
        "x": 1320,
        "y": 300,
        "wires": [
            [
                "6cdaa7e9c55994da"
            ]
        ]
    },
    {
        "id": "ad8e3a3f408efd86",
        "type": "template",
        "z": "b1b994b3d43d6aad",
        "g": "9d6561fb99238a4d",
        "name": "notification id",
        "field": "notify.notification_id",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "stookalert",
        "output": "str",
        "x": 1330,
        "y": 380,
        "wires": [
            [
                "6cdaa7e9c55994da"
            ]
        ]
    },
    {
        "id": "277a8323827b9390",
        "type": "comment",
        "z": "b1b994b3d43d6aad",
        "name": "send notification when stookalert is on",
        "info": "",
        "x": 170,
        "y": 20,
        "wires": []
    },
    {
        "id": "4706c9b9c33456ec",
        "type": "template",
        "z": "b1b994b3d43d6aad",
        "name": "secondary information",
        "field": "secondary_information",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Op {{{myymd}}} om {{{mytime}}} heeft het RIVM een stookalert afgegeven, het is raadzaam niet de houtkachel te gebruiken",
        "output": "str",
        "x": 460,
        "y": 160,
        "wires": [
            [
                "f04dc28db48fa2c4"
            ]
        ]
    },
    {
        "id": "f04dc28db48fa2c4",
        "type": "template",
        "z": "b1b994b3d43d6aad",
        "name": "primary information",
        "field": "primary_information",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Let op, stookalert!",
        "output": "str",
        "x": 670,
        "y": 160,
        "wires": [
            [
                "84c20f3447f449ed"
            ]
        ]
    },
    {
        "id": "84c20f3447f449ed",
        "type": "template",
        "z": "b1b994b3d43d6aad",
        "name": "topic",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "safety",
        "output": "str",
        "x": 830,
        "y": 160,
        "wires": [
            [
                "96a9d68a091fc4a5"
            ]
        ]
    },
    {
        "id": "96a9d68a091fc4a5",
        "type": "template",
        "z": "b1b994b3d43d6aad",
        "name": "notification_level",
        "field": "notification_level",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "warning",
        "output": "str",
        "x": 990,
        "y": 160,
        "wires": [
            [
                "731568e6adddd397"
            ]
        ]
    },
    {
        "id": "8474d1caa427cb1a",
        "type": "link out",
        "z": "b1b994b3d43d6aad",
        "name": "notification",
        "mode": "link",
        "links": [
            "60e14e33a793f50d"
        ],
        "x": 1565,
        "y": 160,
        "wires": []
    },
    {
        "id": "731568e6adddd397",
        "type": "change",
        "z": "b1b994b3d43d6aad",
        "name": "set icon",
        "rules": [
            {
                "t": "set",
                "p": "icon",
                "pt": "msg",
                "to": "mdi:fireplace",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1160,
        "y": 160,
        "wires": [
            [
                "8474d1caa427cb1a",
                "a087dd5873c41eaf"
            ]
        ]
    },
    {
        "id": "3c05c027bd8c6081",
        "type": "api-call-service",
        "z": "b1b994b3d43d6aad",
        "name": " dismiss in app notification",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "persistent_notification.dismiss",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [],
        "labelId": [],
        "data": "{\"notification_id\":\"stookalert\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "persistent_notification",
        "service": "dismiss",
        "x": 310,
        "y": 220,
        "wires": [
            []
        ]
    },
    {
        "id": "e7b37a2bf7a7f071",
        "type": "server-state-changed",
        "z": "b1b994b3d43d6aad",
        "name": "stookwijzer is red",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "sensor.stookwijzer_advice_code"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": true,
        "stateType": "str",
        "ifState": "code_red",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": false,
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [],
        "x": 100,
        "y": 160,
        "wires": [
            [
                "015fa374fab07308"
            ],
            [
                "3c05c027bd8c6081"
            ]
        ]
    },
    {
        "id": "015fa374fab07308",
        "type": "simpletime",
        "z": "b1b994b3d43d6aad",
        "name": "",
        "mydate": false,
        "myymd": true,
        "myyear": false,
        "mymonth": false,
        "mymonthn": false,
        "mydom": false,
        "mydoy": false,
        "myday": false,
        "myhourpm": false,
        "myhour": false,
        "mytime": true,
        "mytimes": false,
        "myminute": false,
        "myminutes": false,
        "mysecond": false,
        "mymillis": false,
        "myepoch": false,
        "myrawdate": false,
        "mypm": false,
        "x": 270,
        "y": 160,
        "wires": [
            [
                "4706c9b9c33456ec"
            ]
        ]
    },
    {
        "id": "ad160909a47f0ea8",
        "type": "catch",
        "z": "b1b994b3d43d6aad",
        "g": "7371831af6e7c577",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "ce1eb14a06a13ce4"
            ]
        ]
    },
    {
        "id": "ce1eb14a06a13ce4",
        "type": "template",
        "z": "b1b994b3d43d6aad",
        "g": "7371831af6e7c577",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "da4b749474868319"
            ]
        ]
    },
    {
        "id": "bf3806a421c7b15a",
        "type": "link out",
        "z": "b1b994b3d43d6aad",
        "g": "7371831af6e7c577",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 475,
        "y": 80,
        "wires": []
    },
    {
        "id": "da4b749474868319",
        "type": "template",
        "z": "b1b994b3d43d6aad",
        "g": "7371831af6e7c577",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "bf3806a421c7b15a"
            ]
        ]
    },
    {
        "id": "e16a49a555dc3139",
        "type": "template",
        "z": "a8d8484165225699",
        "g": "537179d37e7389e5",
        "name": "notification id",
        "field": "notify.notification_id",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "updates",
        "output": "str",
        "x": 1370,
        "y": 400,
        "wires": [
            [
                "deeacc0728909577"
            ]
        ]
    },
    {
        "id": "daef6aa88b93b329",
        "type": "template",
        "z": "a8d8484165225699",
        "g": "537179d37e7389e5",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "{{secondary_information}}",
        "output": "str",
        "x": 1360,
        "y": 320,
        "wires": [
            [
                "deeacc0728909577"
            ]
        ]
    },
    {
        "id": "deeacc0728909577",
        "type": "join",
        "z": "a8d8484165225699",
        "g": "537179d37e7389e5",
        "name": "",
        "mode": "custom",
        "build": "merged",
        "property": "notify",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": false,
        "timeout": "",
        "count": "4",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 1510,
        "y": 320,
        "wires": [
            [
                "58ce3486fc8107bd"
            ]
        ]
    },
    {
        "id": "58ce3486fc8107bd",
        "type": "link out",
        "z": "a8d8484165225699",
        "g": "537179d37e7389e5",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "8ed3b0974336e55b"
        ],
        "x": 1605,
        "y": 320,
        "wires": []
    },
    {
        "id": "e142bb411f990e05",
        "type": "template",
        "z": "a8d8484165225699",
        "g": "537179d37e7389e5",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Update",
        "output": "str",
        "x": 1350,
        "y": 280,
        "wires": [
            [
                "deeacc0728909577"
            ]
        ]
    },
    {
        "id": "2e707984219ae3a9",
        "type": "template",
        "z": "a8d8484165225699",
        "g": "537179d37e7389e5",
        "name": "icon",
        "field": "notify.icon",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "{{notify.icon}}",
        "output": "str",
        "x": 1350,
        "y": 360,
        "wires": [
            [
                "deeacc0728909577"
            ]
        ]
    },
    {
        "id": "dd30d4cd216c0f2b",
        "type": "comment",
        "z": "a8d8484165225699",
        "name": "send notification when a update is available",
        "info": "",
        "x": 180,
        "y": 20,
        "wires": []
    },
    {
        "id": "ca77f18341a43806",
        "type": "template",
        "z": "a8d8484165225699",
        "name": "secondary information",
        "field": "secondary_information",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Er is {{payload}} beschikbaar, check updates onder de settings tab om deze entiteit te updaten. ",
        "output": "str",
        "x": 460,
        "y": 200,
        "wires": [
            [
                "9f54688e36518032"
            ]
        ]
    },
    {
        "id": "9f54688e36518032",
        "type": "template",
        "z": "a8d8484165225699",
        "name": "primary information",
        "field": "primary_information",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Update entiteit beschikbaar",
        "output": "str",
        "x": 670,
        "y": 180,
        "wires": [
            [
                "baa41c19eb148fa4"
            ]
        ]
    },
    {
        "id": "baa41c19eb148fa4",
        "type": "template",
        "z": "a8d8484165225699",
        "name": "topic",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "updates",
        "output": "str",
        "x": 830,
        "y": 180,
        "wires": [
            [
                "54e3c63ed7fe6043"
            ]
        ]
    },
    {
        "id": "54e3c63ed7fe6043",
        "type": "template",
        "z": "a8d8484165225699",
        "name": "notification_level",
        "field": "notification_level",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "info",
        "output": "str",
        "x": 990,
        "y": 180,
        "wires": [
            [
                "c260ecf67a15a923"
            ]
        ]
    },
    {
        "id": "b120549fa5ec47de",
        "type": "link out",
        "z": "a8d8484165225699",
        "name": "notification",
        "mode": "link",
        "links": [
            "60e14e33a793f50d"
        ],
        "x": 1565,
        "y": 180,
        "wires": []
    },
    {
        "id": "c260ecf67a15a923",
        "type": "change",
        "z": "a8d8484165225699",
        "name": "set icon",
        "rules": [
            {
                "t": "set",
                "p": "icon",
                "pt": "msg",
                "to": "mdi:update",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1160,
        "y": 180,
        "wires": [
            [
                "b120549fa5ec47de",
                "f55e9b8b5462e4d2"
            ]
        ]
    },
    {
        "id": "141308461dbf40c7",
        "type": "switch",
        "z": "a8d8484165225699",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "gt",
                "v": "1",
                "vt": "num"
            },
            {
                "t": "gt",
                "v": "0",
                "vt": "num"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 2,
        "x": 290,
        "y": 180,
        "wires": [
            [
                "bf97ba934d4ba8e3"
            ],
            [
                "ca77f18341a43806"
            ]
        ]
    },
    {
        "id": "bf97ba934d4ba8e3",
        "type": "template",
        "z": "a8d8484165225699",
        "name": "secondary information",
        "field": "secondary_information",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Er zijn {{payload}} updates beschikbaar, check updates onder de settings tab om deze entiteit te updaten. ",
        "output": "str",
        "x": 460,
        "y": 160,
        "wires": [
            [
                "9f54688e36518032"
            ]
        ]
    },
    {
        "id": "0e19a744ae210f9f",
        "type": "api-call-service",
        "z": "a8d8484165225699",
        "name": " dismiss in app notification",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "persistent_notification.dismiss",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [],
        "labelId": [],
        "data": "{\"notification_id\":\"update_entity\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "persistent_notification",
        "service": "dismiss",
        "x": 350,
        "y": 240,
        "wires": [
            []
        ]
    },
    {
        "id": "160088fd48d5a361",
        "type": "server-state-changed",
        "z": "a8d8484165225699",
        "name": "update counter is not 0",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "sensor.update_on_counter"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": true,
        "stateType": "str",
        "ifState": "0",
        "ifStateType": "num",
        "ifStateOperator": "is_not",
        "outputOnlyOnStateChange": false,
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [],
        "x": 120,
        "y": 180,
        "wires": [
            [
                "141308461dbf40c7"
            ],
            [
                "0e19a744ae210f9f"
            ]
        ]
    },
    {
        "id": "925cbc802add6b04",
        "type": "catch",
        "z": "a8d8484165225699",
        "g": "0330186b9fdcf4ee",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "d365bf9676fe5435"
            ]
        ]
    },
    {
        "id": "d365bf9676fe5435",
        "type": "template",
        "z": "a8d8484165225699",
        "g": "0330186b9fdcf4ee",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "5f99051ae7b91aed"
            ]
        ]
    },
    {
        "id": "fcbba10709360bf0",
        "type": "link out",
        "z": "a8d8484165225699",
        "g": "0330186b9fdcf4ee",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 475,
        "y": 80,
        "wires": []
    },
    {
        "id": "5f99051ae7b91aed",
        "type": "template",
        "z": "a8d8484165225699",
        "g": "0330186b9fdcf4ee",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "fcbba10709360bf0"
            ]
        ]
    },
    {
        "id": "b560dfc6f3c2aec1",
        "type": "template",
        "z": "8d2de69b4c0fd2b9",
        "g": "bb1cc6878bf6f696",
        "name": "notification id",
        "field": "notify.notification_id",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "vacuum",
        "output": "str",
        "x": 1450,
        "y": 280,
        "wires": [
            [
                "344ad3f982a92730"
            ]
        ]
    },
    {
        "id": "344ad3f982a92730",
        "type": "join",
        "z": "8d2de69b4c0fd2b9",
        "g": "bb1cc6878bf6f696",
        "name": "",
        "mode": "custom",
        "build": "merged",
        "property": "notify",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": false,
        "timeout": "",
        "count": "4",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 1630,
        "y": 260,
        "wires": [
            [
                "372e878f27b4b2b2"
            ]
        ]
    },
    {
        "id": "372e878f27b4b2b2",
        "type": "link out",
        "z": "8d2de69b4c0fd2b9",
        "g": "bb1cc6878bf6f696",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "8ed3b0974336e55b",
            "aeee8468f3d1b7ad",
            "c4660dc11fb0e5b8"
        ],
        "x": 1725,
        "y": 260,
        "wires": []
    },
    {
        "id": "c0d0c36d39f527e2",
        "type": "template",
        "z": "8d2de69b4c0fd2b9",
        "g": "bb1cc6878bf6f696",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Stofzuiger",
        "output": "str",
        "x": 1430,
        "y": 200,
        "wires": [
            [
                "344ad3f982a92730"
            ]
        ]
    },
    {
        "id": "db50c5b6f4f302b4",
        "type": "template",
        "z": "8d2de69b4c0fd2b9",
        "g": "bb1cc6878bf6f696",
        "name": "icon",
        "field": "notify.icon",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "",
        "output": "str",
        "x": 1430,
        "y": 240,
        "wires": [
            [
                "344ad3f982a92730"
            ]
        ]
    },
    {
        "id": "bb86ef9c9939267f",
        "type": "template",
        "z": "8d2de69b4c0fd2b9",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "{{data.new_state.attributes.friendly_name}} zit vast en heeft hulp nodig.",
        "output": "str",
        "x": 400,
        "y": 220,
        "wires": [
            [
                "ece5442438bb7aa1",
                "9920356dd5442dce"
            ]
        ]
    },
    {
        "id": "101fccbd23bc3737",
        "type": "template",
        "z": "8d2de69b4c0fd2b9",
        "name": "secondary information",
        "field": "secondary_information",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "{{notify.message}}",
        "output": "str",
        "x": 820,
        "y": 380,
        "wires": [
            [
                "1a142df2188365f9"
            ]
        ]
    },
    {
        "id": "1a142df2188365f9",
        "type": "template",
        "z": "8d2de69b4c0fd2b9",
        "name": "primary information",
        "field": "primary_information",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Stofzuiger",
        "output": "str",
        "x": 1030,
        "y": 380,
        "wires": [
            [
                "ef723bf3c094067c"
            ]
        ]
    },
    {
        "id": "ef723bf3c094067c",
        "type": "template",
        "z": "8d2de69b4c0fd2b9",
        "name": "topic",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "vacuum",
        "output": "str",
        "x": 1190,
        "y": 380,
        "wires": [
            [
                "a38dcb88665ba1b0"
            ]
        ]
    },
    {
        "id": "a38dcb88665ba1b0",
        "type": "template",
        "z": "8d2de69b4c0fd2b9",
        "name": "notification_level",
        "field": "notification_level",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "warning",
        "output": "str",
        "x": 1350,
        "y": 380,
        "wires": [
            [
                "4705f09e38185adf"
            ]
        ]
    },
    {
        "id": "4705f09e38185adf",
        "type": "link out",
        "z": "8d2de69b4c0fd2b9",
        "name": "notification",
        "mode": "link",
        "links": [
            "60e14e33a793f50d"
        ],
        "x": 1475,
        "y": 380,
        "wires": []
    },
    {
        "id": "9920356dd5442dce",
        "type": "template",
        "z": "8d2de69b4c0fd2b9",
        "name": "icon",
        "field": "icon",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "mdi:robot-vacuum",
        "output": "str",
        "x": 650,
        "y": 380,
        "wires": [
            [
                "101fccbd23bc3737"
            ]
        ]
    },
    {
        "id": "c3ad9439a04e7919",
        "type": "server-state-changed",
        "z": "8d2de69b4c0fd2b9",
        "name": "vacuum State is error s6",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "vacuum.roborock_s6_pure"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": true,
        "stateType": "str",
        "ifState": "error",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 150,
        "y": 220,
        "wires": [
            [
                "bb86ef9c9939267f"
            ],
            []
        ]
    },
    {
        "id": "b0a13a597c951a5c",
        "type": "server-state-changed",
        "z": "8d2de69b4c0fd2b9",
        "name": "vacuum State is error s55",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "vacuum.roborock_s55"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": true,
        "stateType": "str",
        "ifState": "error",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 150,
        "y": 280,
        "wires": [
            [
                "bb86ef9c9939267f"
            ],
            []
        ]
    },
    {
        "id": "a6bc5cbea3cc0781",
        "type": "catch",
        "z": "8d2de69b4c0fd2b9",
        "g": "c55c738b848ff4e2",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 60,
        "wires": [
            [
                "a0144416b570fb26"
            ]
        ]
    },
    {
        "id": "a0144416b570fb26",
        "type": "template",
        "z": "8d2de69b4c0fd2b9",
        "g": "c55c738b848ff4e2",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 60,
        "wires": [
            [
                "51536b69c791a38f"
            ]
        ]
    },
    {
        "id": "80e833d182f30872",
        "type": "link out",
        "z": "8d2de69b4c0fd2b9",
        "g": "c55c738b848ff4e2",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 475,
        "y": 60,
        "wires": []
    },
    {
        "id": "51536b69c791a38f",
        "type": "template",
        "z": "8d2de69b4c0fd2b9",
        "g": "c55c738b848ff4e2",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 60,
        "wires": [
            [
                "80e833d182f30872"
            ]
        ]
    },
    {
        "id": "2a1761aff5d63d7a",
        "type": "template",
        "z": "ce5dca27239daba8",
        "g": "b4f3f9f25b585f85",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "f9b220def47837e4"
            ]
        ]
    },
    {
        "id": "f9b220def47837e4",
        "type": "link out",
        "z": "ce5dca27239daba8",
        "g": "b4f3f9f25b585f85",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 475,
        "y": 80,
        "wires": []
    },
    {
        "id": "b437f9f1e8b5ebf7",
        "type": "template",
        "z": "ce5dca27239daba8",
        "g": "b4f3f9f25b585f85",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "2a1761aff5d63d7a"
            ]
        ]
    },
    {
        "id": "2e9dbc5a5fc615fc",
        "type": "catch",
        "z": "ce5dca27239daba8",
        "g": "b4f3f9f25b585f85",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "b437f9f1e8b5ebf7"
            ]
        ]
    },
    {
        "id": "8963892cb65d8713",
        "type": "change",
        "z": "ce5dca27239daba8",
        "name": "set flow active to true",
        "rules": [
            {
                "t": "set",
                "p": "active",
                "pt": "flow",
                "to": "true",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 940,
        "y": 160,
        "wires": [
            [
                "d2a6c270b5a78137"
            ]
        ]
    },
    {
        "id": "04cada4367386b36",
        "type": "switch",
        "z": "ce5dca27239daba8",
        "name": "flow not active",
        "property": "active",
        "propertyType": "flow",
        "rules": [
            {
                "t": "neq",
                "v": "true",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 740,
        "y": 160,
        "wires": [
            [
                "8963892cb65d8713"
            ]
        ]
    },
    {
        "id": "57ab0afd4c173998",
        "type": "change",
        "z": "ce5dca27239daba8",
        "name": "set flow active to false",
        "rules": [
            {
                "t": "set",
                "p": "active",
                "pt": "flow",
                "to": "false",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 620,
        "y": 220,
        "wires": [
            [
                "40a58eddf78206e8"
            ]
        ]
    },
    {
        "id": "58e0becbd6d919d0",
        "type": "switch",
        "z": "ce5dca27239daba8",
        "name": "if charging",
        "property": "data.event.old_state.attributes.battery_level",
        "propertyType": "msg",
        "rules": [
            {
                "t": "lt",
                "v": "data.event.new_state.attributes.battery_level",
                "vt": "msg"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 430,
        "y": 220,
        "wires": [
            [
                "57ab0afd4c173998"
            ]
        ]
    },
    {
        "id": "f9b8dec4504da56d",
        "type": "comment",
        "z": "ce5dca27239daba8",
        "name": "Send notification when battery is below 10%",
        "info": "",
        "x": 190,
        "y": 20,
        "wires": []
    },
    {
        "id": "a9aa3ff08dd7532c",
        "type": "link out",
        "z": "ce5dca27239daba8",
        "name": "notification",
        "mode": "link",
        "links": [
            "60e14e33a793f50d"
        ],
        "x": 1955,
        "y": 160,
        "wires": []
    },
    {
        "id": "03d5ea897e7d84ee",
        "type": "change",
        "z": "ce5dca27239daba8",
        "name": "set icon",
        "rules": [
            {
                "t": "set",
                "p": "icon",
                "pt": "msg",
                "to": "mdi:battery-alert-variant-outline",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1860,
        "y": 160,
        "wires": [
            [
                "a9aa3ff08dd7532c"
            ]
        ]
    },
    {
        "id": "2792f3a94c8f1651",
        "type": "template",
        "z": "ce5dca27239daba8",
        "name": "notification_level",
        "field": "notification_level",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "warning",
        "output": "str",
        "x": 1690,
        "y": 160,
        "wires": [
            [
                "03d5ea897e7d84ee"
            ]
        ]
    },
    {
        "id": "9174dfc0fa90a687",
        "type": "template",
        "z": "ce5dca27239daba8",
        "name": "topic",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "battery",
        "output": "str",
        "x": 1530,
        "y": 160,
        "wires": [
            [
                "2792f3a94c8f1651"
            ]
        ]
    },
    {
        "id": "8e69bb39390a2edf",
        "type": "template",
        "z": "ce5dca27239daba8",
        "name": "primary information",
        "field": "primary_information",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Batterij",
        "output": "str",
        "x": 1370,
        "y": 160,
        "wires": [
            [
                "9174dfc0fa90a687"
            ]
        ]
    },
    {
        "id": "d2a6c270b5a78137",
        "type": "template",
        "z": "ce5dca27239daba8",
        "name": "secondary information",
        "field": "secondary_information",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Let op, Stofzuiger {{data.event.new_state.attributes.friendly_name}} heeft een batterij niveau van {{data.event.new_state.attributes.battery_level}}% controleer de docking station.",
        "output": "str",
        "x": 1160,
        "y": 160,
        "wires": [
            [
                "8e69bb39390a2edf"
            ]
        ]
    },
    {
        "id": "c07bdaa6ded33de2",
        "type": "change",
        "z": "ce5dca27239daba8",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "low_battery",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 440,
        "y": 160,
        "wires": [
            [
                "6c50fe3336fa87c8"
            ]
        ]
    },
    {
        "id": "6c50fe3336fa87c8",
        "type": "rbe",
        "z": "ce5dca27239daba8",
        "name": "",
        "func": "rbe",
        "gap": "",
        "start": "",
        "inout": "out",
        "septopics": false,
        "property": "payload",
        "topi": "topic",
        "x": 590,
        "y": 160,
        "wires": [
            [
                "04cada4367386b36"
            ]
        ]
    },
    {
        "id": "40a58eddf78206e8",
        "type": "change",
        "z": "ce5dca27239daba8",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "charging",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 820,
        "y": 220,
        "wires": [
            [
                "c07bdaa6ded33de2"
            ]
        ]
    },
    {
        "id": "ea460771e1472df3",
        "type": "trigger-state",
        "z": "ce5dca27239daba8",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 5,
        "inputs": 0,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "vacuum.roborock_s55"
            ],
            "substring": [],
            "regex": []
        },
        "debugEnabled": false,
        "constraints": [
            {
                "targetType": "this_entity",
                "targetValue": "",
                "propertyType": "property",
                "propertyValue": "new_state.attributes.battery_level",
                "comparatorType": "<",
                "comparatorValueDatatype": "num",
                "comparatorValue": "10"
            }
        ],
        "customOutputs": [],
        "outputInitially": true,
        "stateType": "str",
        "enableInput": false,
        "x": 160,
        "y": 160,
        "wires": [
            [
                "58e0becbd6d919d0",
                "c07bdaa6ded33de2"
            ],
            []
        ]
    },
    {
        "id": "fec97058470f8f5e",
        "type": "template",
        "z": "1a02f7122bccea54",
        "g": "751efbb5afdedf48",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "17e4e7721adc09a1"
            ]
        ]
    },
    {
        "id": "17e4e7721adc09a1",
        "type": "link out",
        "z": "1a02f7122bccea54",
        "g": "751efbb5afdedf48",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 475,
        "y": 80,
        "wires": []
    },
    {
        "id": "505a577898a56012",
        "type": "template",
        "z": "1a02f7122bccea54",
        "g": "751efbb5afdedf48",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "fec97058470f8f5e"
            ]
        ]
    },
    {
        "id": "70c953492b9eb40c",
        "type": "catch",
        "z": "1a02f7122bccea54",
        "g": "751efbb5afdedf48",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "505a577898a56012"
            ]
        ]
    },
    {
        "id": "9dffff38900ffc04",
        "type": "comment",
        "z": "1a02f7122bccea54",
        "name": "Send notification when battery is below 10%",
        "info": "",
        "x": 190,
        "y": 20,
        "wires": []
    },
    {
        "id": "0d873137caa89aa8",
        "type": "change",
        "z": "1a02f7122bccea54",
        "name": "set flow active to true",
        "rules": [
            {
                "t": "set",
                "p": "active",
                "pt": "flow",
                "to": "true",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 960,
        "y": 160,
        "wires": [
            [
                "007c5f03d694dd4b"
            ]
        ]
    },
    {
        "id": "605998daf9134e73",
        "type": "switch",
        "z": "1a02f7122bccea54",
        "name": "flow not active",
        "property": "active",
        "propertyType": "flow",
        "rules": [
            {
                "t": "neq",
                "v": "true",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 760,
        "y": 160,
        "wires": [
            [
                "0d873137caa89aa8"
            ]
        ]
    },
    {
        "id": "ea5202875ac45b49",
        "type": "change",
        "z": "1a02f7122bccea54",
        "name": "set flow active to false",
        "rules": [
            {
                "t": "set",
                "p": "active",
                "pt": "flow",
                "to": "false",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 640,
        "y": 220,
        "wires": [
            [
                "64ebe099d2f54d54"
            ]
        ]
    },
    {
        "id": "dd4253130fad8a83",
        "type": "switch",
        "z": "1a02f7122bccea54",
        "name": "if charging",
        "property": "data.event.old_state.attributes.battery_level",
        "propertyType": "msg",
        "rules": [
            {
                "t": "lt",
                "v": "data.event.new_state.attributes.battery_level",
                "vt": "msg"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 450,
        "y": 220,
        "wires": [
            [
                "ea5202875ac45b49"
            ]
        ]
    },
    {
        "id": "08f4c431c3afd80a",
        "type": "link out",
        "z": "1a02f7122bccea54",
        "name": "notification",
        "mode": "link",
        "links": [
            "60e14e33a793f50d"
        ],
        "x": 1975,
        "y": 160,
        "wires": []
    },
    {
        "id": "c07d6f94506ce84c",
        "type": "change",
        "z": "1a02f7122bccea54",
        "name": "set icon",
        "rules": [
            {
                "t": "set",
                "p": "icon",
                "pt": "msg",
                "to": "mdi:battery-alert-variant-outline",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1880,
        "y": 160,
        "wires": [
            [
                "08f4c431c3afd80a"
            ]
        ]
    },
    {
        "id": "d6d4102db32b5468",
        "type": "template",
        "z": "1a02f7122bccea54",
        "name": "notification_level",
        "field": "notification_level",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "warning",
        "output": "str",
        "x": 1710,
        "y": 160,
        "wires": [
            [
                "c07d6f94506ce84c"
            ]
        ]
    },
    {
        "id": "0b2f559dcc657f30",
        "type": "template",
        "z": "1a02f7122bccea54",
        "name": "topic",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "battery",
        "output": "str",
        "x": 1550,
        "y": 160,
        "wires": [
            [
                "d6d4102db32b5468"
            ]
        ]
    },
    {
        "id": "9d361cd4ac939126",
        "type": "template",
        "z": "1a02f7122bccea54",
        "name": "primary information",
        "field": "primary_information",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Batterij",
        "output": "str",
        "x": 1390,
        "y": 160,
        "wires": [
            [
                "0b2f559dcc657f30"
            ]
        ]
    },
    {
        "id": "007c5f03d694dd4b",
        "type": "template",
        "z": "1a02f7122bccea54",
        "name": "secondary information",
        "field": "secondary_information",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Let op, Stofzuiger {{data.event.new_state.attributes.friendly_name}} heeft een batterij niveau van {{data.event.new_state.attributes.battery_level}}% controleer de docking station.",
        "output": "str",
        "x": 1180,
        "y": 160,
        "wires": [
            [
                "9d361cd4ac939126"
            ]
        ]
    },
    {
        "id": "d5538d8b479eaa4e",
        "type": "change",
        "z": "1a02f7122bccea54",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "low_battery",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 460,
        "y": 160,
        "wires": [
            [
                "b1fe1aedd419b0b9"
            ]
        ]
    },
    {
        "id": "b1fe1aedd419b0b9",
        "type": "rbe",
        "z": "1a02f7122bccea54",
        "name": "",
        "func": "rbe",
        "gap": "",
        "start": "",
        "inout": "out",
        "septopics": false,
        "property": "payload",
        "topi": "topic",
        "x": 610,
        "y": 160,
        "wires": [
            [
                "605998daf9134e73"
            ]
        ]
    },
    {
        "id": "64ebe099d2f54d54",
        "type": "change",
        "z": "1a02f7122bccea54",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "charging",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 840,
        "y": 220,
        "wires": [
            [
                "d5538d8b479eaa4e"
            ]
        ]
    },
    {
        "id": "201f66d22f70b0c6",
        "type": "trigger-state",
        "z": "1a02f7122bccea54",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 5,
        "inputs": 0,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "vacuum.roborock_s6_pure"
            ],
            "substring": [],
            "regex": []
        },
        "debugEnabled": false,
        "constraints": [
            {
                "targetType": "this_entity",
                "targetValue": "",
                "propertyType": "property",
                "propertyValue": "new_state.attributes.battery_level",
                "comparatorType": "<",
                "comparatorValueDatatype": "num",
                "comparatorValue": "10"
            }
        ],
        "customOutputs": [],
        "outputInitially": true,
        "stateType": "str",
        "enableInput": false,
        "x": 170,
        "y": 160,
        "wires": [
            [
                "d5538d8b479eaa4e"
            ],
            [
                "dd4253130fad8a83"
            ]
        ]
    },
    {
        "id": "44cfcac399640661",
        "type": "template",
        "z": "7186425fdfc90c19",
        "g": "3bd669c9a971e4a2",
        "name": "notification id",
        "field": "notify.notification_id",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "water_detection",
        "output": "str",
        "x": 1170,
        "y": 300,
        "wires": [
            [
                "80393a5cbd64c280"
            ]
        ]
    },
    {
        "id": "76b2b2fcd5922030",
        "type": "template",
        "z": "7186425fdfc90c19",
        "g": "3bd669c9a971e4a2",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Er is water verbruik gedetecteerd, niemand in huis is en apparaten die water verbruiken staan uit!",
        "output": "str",
        "x": 1160,
        "y": 220,
        "wires": [
            [
                "80393a5cbd64c280"
            ]
        ]
    },
    {
        "id": "80393a5cbd64c280",
        "type": "join",
        "z": "7186425fdfc90c19",
        "g": "3bd669c9a971e4a2",
        "name": "",
        "mode": "custom",
        "build": "merged",
        "property": "notify",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": false,
        "timeout": "",
        "count": "4",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 1310,
        "y": 220,
        "wires": [
            [
                "4369851a7e1e9308"
            ]
        ]
    },
    {
        "id": "4369851a7e1e9308",
        "type": "link out",
        "z": "7186425fdfc90c19",
        "g": "3bd669c9a971e4a2",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "8ed3b0974336e55b"
        ],
        "x": 1405,
        "y": 220,
        "wires": []
    },
    {
        "id": "90b19d7c300c5383",
        "type": "template",
        "z": "7186425fdfc90c19",
        "g": "3bd669c9a971e4a2",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Water",
        "output": "str",
        "x": 1150,
        "y": 180,
        "wires": [
            [
                "80393a5cbd64c280"
            ]
        ]
    },
    {
        "id": "8ee8100ab8bdc7e6",
        "type": "template",
        "z": "7186425fdfc90c19",
        "g": "3bd669c9a971e4a2",
        "name": "icon",
        "field": "notify.icon",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "",
        "output": "str",
        "x": 1150,
        "y": 260,
        "wires": [
            [
                "80393a5cbd64c280"
            ]
        ]
    },
    {
        "id": "565aecc17ef25b41",
        "type": "comment",
        "z": "7186425fdfc90c19",
        "name": "flow that send a notification when water consumption has detected",
        "info": "",
        "x": 260,
        "y": 20,
        "wires": []
    },
    {
        "id": "e406b6dbb483e2b5",
        "type": "api-current-state",
        "z": "7186425fdfc90c19",
        "name": "persons not home",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "not_home",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "group.persons",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 270,
        "y": 160,
        "wires": [
            [
                "d14719d850055b7f"
            ],
            []
        ]
    },
    {
        "id": "d14719d850055b7f",
        "type": "api-current-state",
        "z": "7186425fdfc90c19",
        "name": "guest mode is off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.guest",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 470,
        "y": 160,
        "wires": [
            [
                "e66b4a5f22a86a92"
            ],
            []
        ]
    },
    {
        "id": "e66b4a5f22a86a92",
        "type": "api-current-state",
        "z": "7186425fdfc90c19",
        "name": "washingmachine is off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "binary_sensor.washing_machine",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 680,
        "y": 160,
        "wires": [
            [
                "3bfcbb604faf22f2"
            ],
            []
        ]
    },
    {
        "id": "3bfcbb604faf22f2",
        "type": "api-current-state",
        "z": "7186425fdfc90c19",
        "name": "dishwasher is off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "binary_sensor.dishwasher",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 890,
        "y": 160,
        "wires": [
            [
                "159c508f956eb430"
            ],
            []
        ]
    },
    {
        "id": "fb752b2f4a73e460",
        "type": "server-state-changed",
        "z": "7186425fdfc90c19",
        "name": "water sensor",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "sensor.watermeter_pulse"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": false,
        "stateType": "str",
        "ifState": "1",
        "ifStateType": "num",
        "ifStateOperator": "gt",
        "outputOnlyOnStateChange": true,
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 90,
        "y": 160,
        "wires": [
            [
                "e406b6dbb483e2b5"
            ],
            []
        ]
    },
    {
        "id": "b8768bd6ae8b8f1b",
        "type": "catch",
        "z": "7186425fdfc90c19",
        "g": "8a3e724b9367b490",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "fde4c3a371beff5a"
            ]
        ]
    },
    {
        "id": "fde4c3a371beff5a",
        "type": "template",
        "z": "7186425fdfc90c19",
        "g": "8a3e724b9367b490",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "0870fa9736ccd6a3"
            ]
        ]
    },
    {
        "id": "388c6c30bcb85720",
        "type": "link out",
        "z": "7186425fdfc90c19",
        "g": "8a3e724b9367b490",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 475,
        "y": 80,
        "wires": []
    },
    {
        "id": "0870fa9736ccd6a3",
        "type": "template",
        "z": "7186425fdfc90c19",
        "g": "8a3e724b9367b490",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "388c6c30bcb85720"
            ]
        ]
    },
    {
        "id": "52f21d3060c57706",
        "type": "join",
        "z": "c0da8379.b0dd3",
        "g": "47af9932f18884cc",
        "name": "",
        "mode": "custom",
        "build": "merged",
        "property": "notify",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": false,
        "timeout": "",
        "count": "3",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 2230,
        "y": 400,
        "wires": [
            [
                "5e72b91e3ad4066d"
            ]
        ]
    },
    {
        "id": "5e72b91e3ad4066d",
        "type": "link out",
        "z": "c0da8379.b0dd3",
        "g": "47af9932f18884cc",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "8ed3b0974336e55b"
        ],
        "x": 2325,
        "y": 400,
        "wires": []
    },
    {
        "id": "7063678cde99b775",
        "type": "template",
        "z": "c0da8379.b0dd3",
        "g": "47af9932f18884cc",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Verlichting",
        "output": "str",
        "x": 2070,
        "y": 360,
        "wires": [
            [
                "52f21d3060c57706"
            ]
        ]
    },
    {
        "id": "4d43c0c59596c396",
        "type": "template",
        "z": "c0da8379.b0dd3",
        "g": "47af9932f18884cc",
        "name": "icon",
        "field": "notify.icon",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "",
        "output": "str",
        "x": 2070,
        "y": 440,
        "wires": [
            [
                "52f21d3060c57706"
            ]
        ]
    },
    {
        "id": "f916039a.ab914",
        "type": "switch",
        "z": "c0da8379.b0dd3",
        "name": "state is home",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "home",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 410,
        "y": 180,
        "wires": [
            [
                "ed71f712.b69338",
                "60ffd46b.e9534c",
                "227abad75eeb983d",
                "9f66d88d.57dad8"
            ]
        ]
    },
    {
        "id": "9b83ef6.7af1c1",
        "type": "switch",
        "z": "c0da8379.b0dd3",
        "name": "state guest on off",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "on",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "off",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 390,
        "y": 240,
        "wires": [
            [
                "ed71f712.b69338",
                "227abad75eeb983d",
                "9f66d88d.57dad8"
            ],
            []
        ]
    },
    {
        "id": "cea43bad.d11358",
        "type": "template",
        "z": "c0da8379.b0dd3",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Het is donker en er is iemand aanwezig. {{{data.attributes.friendly_name}}} verlichting is ingeschakeld.",
        "output": "str",
        "x": 1880,
        "y": 440,
        "wires": [
            [
                "71156279d6ca8920"
            ]
        ]
    },
    {
        "id": "b9ba0c85.bcd94",
        "type": "join",
        "z": "c0da8379.b0dd3",
        "name": "",
        "mode": "custom",
        "build": "string",
        "property": "friendly_name_person",
        "propertyType": "msg",
        "key": "topic",
        "joiner": ", ",
        "joinerType": "str",
        "accumulate": false,
        "timeout": "",
        "count": "",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 1110,
        "y": 180,
        "wires": [
            [
                "a5f68bf8.968328"
            ]
        ]
    },
    {
        "id": "6ca20d6c.62d004",
        "type": "template",
        "z": "c0da8379.b0dd3",
        "name": "Format Friendly Name",
        "field": "friendly_name_person",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "{{payload.attributes.friendly_name}}",
        "output": "str",
        "x": 940,
        "y": 180,
        "wires": [
            [
                "b9ba0c85.bcd94"
            ]
        ]
    },
    {
        "id": "fd3c7297.9684e",
        "type": "template",
        "z": "c0da8379.b0dd3",
        "name": "Format Friendly Name",
        "field": "friendly_name_lampen",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "{{payload.attributes.friendly_name}}",
        "output": "str",
        "x": 1600,
        "y": 180,
        "wires": [
            [
                "1928247d.6ddacc"
            ]
        ]
    },
    {
        "id": "1928247d.6ddacc",
        "type": "join",
        "z": "c0da8379.b0dd3",
        "name": "",
        "mode": "custom",
        "build": "string",
        "property": "friendly_name_lampen",
        "propertyType": "msg",
        "key": "topic",
        "joiner": ", ",
        "joinerType": "str",
        "accumulate": false,
        "timeout": "",
        "count": "",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 1750,
        "y": 380,
        "wires": [
            [
                "d129b86a.aa0f58"
            ]
        ]
    },
    {
        "id": "d129b86a.aa0f58",
        "type": "template",
        "z": "c0da8379.b0dd3",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "{{friendly_name_person}} is thuis gekomen en het is donker. {{friendly_name_lampen}} verlichting staat aan.",
        "output": "str",
        "x": 1880,
        "y": 380,
        "wires": [
            [
                "71156279d6ca8920"
            ]
        ]
    },
    {
        "id": "a5f68bf8.968328",
        "type": "delay",
        "z": "c0da8379.b0dd3",
        "name": "",
        "pauseType": "delay",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "outputs": 1,
        "x": 1240,
        "y": 180,
        "wires": [
            [
                "da57c41e.c506f8"
            ]
        ]
    },
    {
        "id": "13ca8b62.27a4a5",
        "type": "join",
        "z": "c0da8379.b0dd3",
        "name": "",
        "mode": "custom",
        "build": "string",
        "property": "data.attributes.friendly_name",
        "propertyType": "msg",
        "key": "topic",
        "joiner": ", ",
        "joinerType": "str",
        "accumulate": false,
        "timeout": "5",
        "count": "",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "num",
        "reduceFixup": "",
        "x": 1750,
        "y": 440,
        "wires": [
            [
                "cea43bad.d11358"
            ]
        ]
    },
    {
        "id": "68768e1136ebca84",
        "type": "comment",
        "z": "c0da8379.b0dd3",
        "name": "Flow that will be triggerd when someone comes home or guest mode is turned on",
        "info": "",
        "x": 300,
        "y": 20,
        "wires": []
    },
    {
        "id": "9e995be6.7976b8",
        "type": "api-call-service",
        "z": "c0da8379.b0dd3",
        "name": "turn on light backyard",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "light.shellydimmer_backyard_string_l"
        ],
        "labelId": [],
        "data": "{\"brightness_pct\":25,\"transition\":5000}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "light",
        "service": "turn_on",
        "x": 1340,
        "y": 540,
        "wires": [
            [
                "13ca8b62.27a4a5"
            ]
        ]
    },
    {
        "id": "e137297f.088698",
        "type": "api-call-service",
        "z": "c0da8379.b0dd3",
        "name": "turn on light front door",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "light.shelly1_front_door"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "light",
        "service": "turn_on",
        "x": 1340,
        "y": 600,
        "wires": [
            [
                "13ca8b62.27a4a5"
            ]
        ]
    },
    {
        "id": "f86b599d.352918",
        "type": "api-call-service",
        "z": "c0da8379.b0dd3",
        "name": "turn off sleep mode",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "input_boolean.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_boolean.sleep_mode"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "input_boolean",
        "service": "turn_off",
        "x": 930,
        "y": 480,
        "wires": [
            []
        ]
    },
    {
        "id": "1902dc19.17ed64",
        "type": "api-call-service",
        "z": "c0da8379.b0dd3",
        "name": "turn off home security",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "input_boolean.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_boolean.home_security"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "input_boolean",
        "service": "turn_off",
        "x": 960,
        "y": 420,
        "wires": [
            []
        ]
    },
    {
        "id": "fd5eca9e.417048",
        "type": "api-call-service",
        "z": "c0da8379.b0dd3",
        "name": "turn on light livingroom",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "light.shellydimmer_living_room"
        ],
        "labelId": [],
        "data": "{\"brightness\":80,\"transition\":5000}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "light",
        "service": "turn_on",
        "x": 1340,
        "y": 660,
        "wires": [
            [
                "13ca8b62.27a4a5"
            ]
        ]
    },
    {
        "id": "9f66d88d.57dad8",
        "type": "api-call-service",
        "z": "c0da8379.b0dd3",
        "name": "turn on water heater",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "water_heater.set_temperature",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "water_heater.warm_water"
        ],
        "labelId": [],
        "data": "{\"temperature\":\"61\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "water_heater",
        "service": "set_temperature",
        "x": 720,
        "y": 300,
        "wires": [
            []
        ]
    },
    {
        "id": "cdf62b8c35fee85c",
        "type": "api-call-service",
        "z": "c0da8379.b0dd3",
        "name": "set preset mode climate home",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "climate.set_preset_mode",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "{{payload.entity_id}}"
        ],
        "labelId": [],
        "data": "{\"preset_mode\":\"home\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "climate",
        "service": "set_preset_mode",
        "x": 1090,
        "y": 240,
        "wires": [
            [
                "a4128ce45e4e787a"
            ]
        ]
    },
    {
        "id": "a4128ce45e4e787a",
        "type": "api-call-service",
        "z": "c0da8379.b0dd3",
        "name": "turn on climate auto mode",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "climate.set_hvac_mode",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "{{payload.entity_id}}"
        ],
        "labelId": [],
        "data": "{\"hvac_mode\":\"auto\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "climate",
        "service": "set_hvac_mode",
        "x": 1350,
        "y": 240,
        "wires": [
            []
        ]
    },
    {
        "id": "d08ebe33.48973",
        "type": "api-current-state",
        "z": "c0da8379.b0dd3",
        "name": "state backyard light off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "light.shellydimmer_backyard_string_l",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 1100,
        "y": 540,
        "wires": [
            [
                "9e995be6.7976b8"
            ],
            []
        ]
    },
    {
        "id": "cc18abb3.ae2a18",
        "type": "api-current-state",
        "z": "c0da8379.b0dd3",
        "name": "state frontdoor light off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "light.shelly1_front_door",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 1100,
        "y": 600,
        "wires": [
            [
                "e137297f.088698"
            ],
            []
        ]
    },
    {
        "id": "c0a73100.b726e",
        "type": "api-current-state",
        "z": "c0da8379.b0dd3",
        "name": "state person anne home",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "home",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "person.anne",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 370,
        "y": 420,
        "wires": [
            [
                "5f497d57.150f44",
                "aab516c6.d5acf8",
                "ed71f712.b69338"
            ],
            []
        ]
    },
    {
        "id": "b53f891b.1feb08",
        "type": "api-current-state",
        "z": "c0da8379.b0dd3",
        "name": "state person coen home",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "home",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "person.coen",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 370,
        "y": 480,
        "wires": [
            [
                "aab516c6.d5acf8",
                "ed71f712.b69338",
                "5f497d57.150f44"
            ],
            []
        ]
    },
    {
        "id": "aab516c6.d5acf8",
        "type": "api-current-state",
        "z": "c0da8379.b0dd3",
        "name": "state sleep_mode on",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.sleep_mode",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 720,
        "y": 480,
        "wires": [
            [
                "f86b599d.352918"
            ],
            []
        ]
    },
    {
        "id": "ed71f712.b69338",
        "type": "api-current-state",
        "z": "c0da8379.b0dd3",
        "name": "state home_security on",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.home_security",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 730,
        "y": 420,
        "wires": [
            [
                "1902dc19.17ed64"
            ],
            []
        ]
    },
    {
        "id": "5f497d57.150f44",
        "type": "api-current-state",
        "z": "c0da8379.b0dd3",
        "name": "state outdoor dark",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "binary_sensor.outdoor_daylight",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 710,
        "y": 540,
        "wires": [
            [
                "d08ebe33.48973",
                "cc18abb3.ae2a18",
                "a8a31543.6e54b8"
            ],
            []
        ]
    },
    {
        "id": "a8a31543.6e54b8",
        "type": "api-current-state",
        "z": "c0da8379.b0dd3",
        "name": "state livingroom light off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "light.shellydimmer_living_room",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 1110,
        "y": 660,
        "wires": [
            [
                "fd5eca9e.417048"
            ],
            []
        ]
    },
    {
        "id": "c52b3e07.1a75e",
        "type": "server-state-changed",
        "z": "c0da8379.b0dd3",
        "name": "state persons",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 1,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "group.persons"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": true,
        "stateType": "str",
        "ifState": "",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": true,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 90,
        "y": 180,
        "wires": [
            [
                "f916039a.ab914"
            ]
        ]
    },
    {
        "id": "e84b117e.dd59d",
        "type": "server-state-changed",
        "z": "c0da8379.b0dd3",
        "name": "state guest",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 1,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "input_boolean.guest"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": false,
        "stateType": "str",
        "ifState": "",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 80,
        "y": 240,
        "wires": [
            [
                "9b83ef6.7af1c1"
            ]
        ]
    },
    {
        "id": "b86ec736.0cd658",
        "type": "server-state-changed",
        "z": "c0da8379.b0dd3",
        "name": "state person coen home",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "person.coen"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": false,
        "stateType": "str",
        "ifState": "home",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 120,
        "y": 420,
        "wires": [
            [
                "c0a73100.b726e"
            ],
            []
        ]
    },
    {
        "id": "f8f2314a.940eb",
        "type": "server-state-changed",
        "z": "c0da8379.b0dd3",
        "name": "state person anne home",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "person.anne"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": false,
        "stateType": "str",
        "ifState": "home",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 130,
        "y": 480,
        "wires": [
            [
                "b53f891b.1feb08"
            ],
            []
        ]
    },
    {
        "id": "60ffd46b.e9534c",
        "type": "ha-get-entities",
        "z": "c0da8379.b0dd3",
        "name": "lookup person home",
        "server": "4ba92433.2478cc",
        "version": 1,
        "rules": [
            {
                "property": "entity_id",
                "logic": "starts_with",
                "value": "person.",
                "valueType": "str"
            },
            {
                "property": "state",
                "logic": "is",
                "value": "home",
                "valueType": "str"
            }
        ],
        "outputType": "split",
        "outputEmptyResults": false,
        "outputLocationType": "msg",
        "outputLocation": "payload",
        "outputResultsCount": 1,
        "x": 720,
        "y": 180,
        "wires": [
            [
                "6ca20d6c.62d004"
            ]
        ]
    },
    {
        "id": "da57c41e.c506f8",
        "type": "ha-get-entities",
        "z": "c0da8379.b0dd3",
        "name": "lookup light on",
        "server": "4ba92433.2478cc",
        "version": 1,
        "rules": [
            {
                "property": "entity_id",
                "logic": "starts_with",
                "value": "light.shelly",
                "valueType": "str"
            },
            {
                "property": "state",
                "logic": "is",
                "value": "on",
                "valueType": "str"
            }
        ],
        "outputType": "split",
        "outputEmptyResults": false,
        "outputLocationType": "msg",
        "outputLocation": "payload",
        "outputResultsCount": 1,
        "x": 1400,
        "y": 180,
        "wires": [
            [
                "fd3c7297.9684e"
            ]
        ]
    },
    {
        "id": "227abad75eeb983d",
        "type": "ha-get-entities",
        "z": "c0da8379.b0dd3",
        "name": "lookup climate preset mode is not home",
        "server": "4ba92433.2478cc",
        "version": 1,
        "rules": [
            {
                "condition": "state_object",
                "property": "entity_id",
                "logic": "starts_with",
                "value": "climate.",
                "valueType": "str"
            },
            {
                "condition": "state_object",
                "property": "attributes.preset_mode",
                "logic": "is_not",
                "value": "home",
                "valueType": "str"
            },
            {
                "condition": "state_object",
                "property": "attributes.preset_modes.1",
                "logic": "is",
                "value": "home",
                "valueType": "str"
            }
        ],
        "outputType": "split",
        "outputEmptyResults": false,
        "outputLocationType": "msg",
        "outputLocation": "payload",
        "outputResultsCount": 1,
        "x": 780,
        "y": 240,
        "wires": [
            [
                "cdf62b8c35fee85c"
            ]
        ]
    },
    {
        "id": "fc483e26e8ef8d67",
        "type": "catch",
        "z": "c0da8379.b0dd3",
        "g": "11883cc6242c876f",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "7c52ea5308a77607"
            ]
        ]
    },
    {
        "id": "7c52ea5308a77607",
        "type": "template",
        "z": "c0da8379.b0dd3",
        "g": "11883cc6242c876f",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "8f721f7cb577cb3e"
            ]
        ]
    },
    {
        "id": "195545448e386e6c",
        "type": "link out",
        "z": "c0da8379.b0dd3",
        "g": "11883cc6242c876f",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 475,
        "y": 80,
        "wires": []
    },
    {
        "id": "8f721f7cb577cb3e",
        "type": "template",
        "z": "c0da8379.b0dd3",
        "g": "11883cc6242c876f",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "195545448e386e6c"
            ]
        ]
    },
    {
        "id": "8d1a89d3e903f2bc",
        "type": "join",
        "z": "8aa6edec.5a013",
        "g": "983d668963ae42e9",
        "name": "",
        "mode": "custom",
        "build": "merged",
        "property": "notify",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": false,
        "timeout": "",
        "count": "3",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 2010,
        "y": 640,
        "wires": [
            [
                "9cbf9ef4fcbbe61e"
            ]
        ]
    },
    {
        "id": "9cbf9ef4fcbbe61e",
        "type": "link out",
        "z": "8aa6edec.5a013",
        "g": "983d668963ae42e9",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 2105,
        "y": 640,
        "wires": []
    },
    {
        "id": "fbc0aa717b3e43c7",
        "type": "template",
        "z": "8aa6edec.5a013",
        "g": "983d668963ae42e9",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Verwarming",
        "output": "str",
        "x": 1890,
        "y": 620,
        "wires": [
            [
                "8d1a89d3e903f2bc"
            ]
        ]
    },
    {
        "id": "d2800bc161fa3196",
        "type": "template",
        "z": "8aa6edec.5a013",
        "g": "983d668963ae42e9",
        "name": "icon",
        "field": "notify.icon",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": ":door:",
        "output": "str",
        "x": 1890,
        "y": 660,
        "wires": [
            [
                "8d1a89d3e903f2bc"
            ]
        ]
    },
    {
        "id": "f7c20be07a75c04e",
        "type": "join",
        "z": "8aa6edec.5a013",
        "g": "9c946ef945c199e5",
        "name": "",
        "mode": "custom",
        "build": "merged",
        "property": "notify",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": false,
        "timeout": "",
        "count": "3",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 2030,
        "y": 240,
        "wires": [
            [
                "37c73ac2e71d9a61"
            ]
        ]
    },
    {
        "id": "37c73ac2e71d9a61",
        "type": "link out",
        "z": "8aa6edec.5a013",
        "g": "9c946ef945c199e5",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "8ed3b0974336e55b"
        ],
        "x": 2125,
        "y": 240,
        "wires": []
    },
    {
        "id": "254201c717321a67",
        "type": "template",
        "z": "8aa6edec.5a013",
        "g": "9c946ef945c199e5",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Beveiliging",
        "output": "str",
        "x": 1870,
        "y": 200,
        "wires": [
            [
                "f7c20be07a75c04e"
            ]
        ]
    },
    {
        "id": "60a9200995b666e2",
        "type": "template",
        "z": "8aa6edec.5a013",
        "g": "9c946ef945c199e5",
        "name": "icon",
        "field": "notify.icon",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "",
        "output": "str",
        "x": 1870,
        "y": 280,
        "wires": [
            [
                "f7c20be07a75c04e"
            ]
        ]
    },
    {
        "id": "19cfd22b49a2e356",
        "type": "template",
        "z": "8aa6edec.5a013",
        "g": "14187342a7b09482",
        "name": "icon",
        "field": "notify.icon",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "",
        "output": "str",
        "x": 1870,
        "y": 520,
        "wires": [
            [
                "d512fe1ba0adbf42"
            ]
        ]
    },
    {
        "id": "8aa74b4cb48558f8",
        "type": "template",
        "z": "8aa6edec.5a013",
        "g": "14187342a7b09482",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Verlichting",
        "output": "str",
        "x": 1870,
        "y": 400,
        "wires": [
            [
                "d512fe1ba0adbf42"
            ]
        ]
    },
    {
        "id": "3bdaf73ce37b7397",
        "type": "link out",
        "z": "8aa6edec.5a013",
        "g": "14187342a7b09482",
        "name": "link_out_notify_2",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 2125,
        "y": 440,
        "wires": []
    },
    {
        "id": "d512fe1ba0adbf42",
        "type": "join",
        "z": "8aa6edec.5a013",
        "g": "14187342a7b09482",
        "name": "",
        "mode": "custom",
        "build": "merged",
        "property": "notify",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": false,
        "timeout": "",
        "count": "4",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 2030,
        "y": 440,
        "wires": [
            [
                "3bdaf73ce37b7397"
            ]
        ]
    },
    {
        "id": "1b8772493fd3aa94",
        "type": "template",
        "z": "8aa6edec.5a013",
        "g": "14187342a7b09482",
        "name": "notification id",
        "field": "notify.notification_id",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "lights",
        "output": "str",
        "x": 1890,
        "y": 480,
        "wires": [
            [
                "d512fe1ba0adbf42"
            ]
        ]
    },
    {
        "id": "c8db6380b138fd4e",
        "type": "template",
        "z": "8aa6edec.5a013",
        "g": "14187342a7b09482",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "{{{friendly_name}}} verlichting stond nog aan en is nu automatisch uitgeschakeld.",
        "output": "str",
        "x": 1880,
        "y": 440,
        "wires": [
            [
                "d512fe1ba0adbf42"
            ]
        ]
    },
    {
        "id": "2e713f167c7e9287",
        "type": "comment",
        "z": "8aa6edec.5a013",
        "name": "A desired state when nobody is home and guest switch is off",
        "info": "",
        "x": 240,
        "y": 20,
        "wires": []
    },
    {
        "id": "12eb7e9d79ce0291",
        "type": "switch",
        "z": "8aa6edec.5a013",
        "name": "uptime is above 1 min",
        "property": "data.timeSinceChangedMs",
        "propertyType": "msg",
        "rules": [
            {
                "t": "gt",
                "v": "60000",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 500,
        "y": 180,
        "wires": [
            [
                "99dc8873.517068"
            ]
        ]
    },
    {
        "id": "10249eab85b11e9f",
        "type": "template",
        "z": "8aa6edec.5a013",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Beveiliging is ingeschakeld ",
        "output": "str",
        "x": 1620,
        "y": 180,
        "wires": [
            [
                "662879feb30cc5fa"
            ]
        ]
    },
    {
        "id": "a91a402abef99c42",
        "type": "template",
        "z": "8aa6edec.5a013",
        "name": "format friendly name",
        "field": "friendly_name",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "{{{payload.attributes.friendly_name}}}",
        "output": "str",
        "x": 1340,
        "y": 360,
        "wires": [
            [
                "ac6ad3992a800655"
            ]
        ]
    },
    {
        "id": "ac6ad3992a800655",
        "type": "join",
        "z": "8aa6edec.5a013",
        "name": "",
        "mode": "custom",
        "build": "string",
        "property": "friendly_name",
        "propertyType": "msg",
        "key": "topic",
        "joiner": ", ",
        "joinerType": "str",
        "accumulate": false,
        "timeout": "",
        "count": "",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 1510,
        "y": 360,
        "wires": [
            [
                "83e460c17170065f"
            ]
        ]
    },
    {
        "id": "029fccfc27513453",
        "type": "join",
        "z": "8aa6edec.5a013",
        "name": "",
        "mode": "custom",
        "build": "string",
        "property": "payload.attributes.friendly_name",
        "propertyType": "msg",
        "key": "topic",
        "joiner": ", ",
        "joinerType": "str",
        "accumulate": false,
        "timeout": "",
        "count": "",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 1430,
        "y": 540,
        "wires": [
            [
                "516165f8d94b03dd"
            ]
        ]
    },
    {
        "id": "516165f8d94b03dd",
        "type": "template",
        "z": "8aa6edec.5a013",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "De verwarming in {{{payload.attributes.friendly_name}}} is van handmatig naar automatische stand geschakeld.",
        "output": "str",
        "x": 1560,
        "y": 540,
        "wires": [
            [
                "37841e86c6ea5231"
            ]
        ]
    },
    {
        "id": "30a120b8f94715ba",
        "type": "api-call-service",
        "z": "8aa6edec.5a013",
        "name": "turn on home security",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "input_boolean.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_boolean.home_security"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "input_boolean",
        "service": "turn_on",
        "x": 1240,
        "y": 180,
        "wires": [
            [
                "10249eab85b11e9f"
            ]
        ]
    },
    {
        "id": "e98d4730eef641b7",
        "type": "api-call-service",
        "z": "8aa6edec.5a013",
        "name": "turn on switch chime active",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "switch.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "switch.smart_doorbell_active"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "switch",
        "service": "turn_on",
        "x": 1260,
        "y": 240,
        "wires": [
            []
        ]
    },
    {
        "id": "d23cc387ab9241d2",
        "type": "api-call-service",
        "z": "8aa6edec.5a013",
        "name": "set preset mode climate away",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "climate.set_preset_mode",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "{{payload.entity_id}}"
        ],
        "labelId": [],
        "data": "{\"preset_mode\":\"away\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "climate",
        "service": "set_preset_mode",
        "x": 1370,
        "y": 300,
        "wires": [
            []
        ]
    },
    {
        "id": "39773eee4279f3fe",
        "type": "api-call-service",
        "z": "8aa6edec.5a013",
        "name": "turn off lights",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "{{payload.entity_id}}"
        ],
        "labelId": [],
        "data": "{\"transition\":5000}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "light",
        "service": "turn_off",
        "x": 1150,
        "y": 360,
        "wires": [
            [
                "a91a402abef99c42"
            ]
        ]
    },
    {
        "id": "c91a9badd8fda24a",
        "type": "api-call-service",
        "z": "8aa6edec.5a013",
        "name": "input select entertainment_activity uitschakelen",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "input_select.select_option",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_select.entertainment_activity"
        ],
        "labelId": [],
        "data": "{\"option\":\"Uitschakelen\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "input_select",
        "service": "select_option",
        "x": 1500,
        "y": 480,
        "wires": [
            []
        ]
    },
    {
        "id": "d6048e7163b7abcc",
        "type": "api-call-service",
        "z": "8aa6edec.5a013",
        "name": "turn on climate auto mode",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "climate.set_hvac_mode",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "{{payload.entity_id}}"
        ],
        "labelId": [],
        "data": "{\"hvac_mode\":\"auto\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "climate",
        "service": "set_hvac_mode",
        "x": 1250,
        "y": 540,
        "wires": [
            [
                "029fccfc27513453"
            ]
        ]
    },
    {
        "id": "761222e7fa67a904",
        "type": "api-call-service",
        "z": "8aa6edec.5a013",
        "name": "turn off water heater",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "water_heater.set_operation_mode",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "water_heater.warm_water"
        ],
        "labelId": [],
        "data": "{\"operation_mode\":\"off\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "water_heater",
        "service": "set_operation_mode",
        "x": 1000,
        "y": 660,
        "wires": [
            []
        ]
    },
    {
        "id": "511a3e2c95d05288",
        "type": "api-call-service",
        "z": "8aa6edec.5a013",
        "name": "turn off childlock kitchen",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "switch.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "switch.childlock_kitchen_switch"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "switch",
        "service": "turn_off",
        "x": 1290,
        "y": 420,
        "wires": [
            []
        ]
    },
    {
        "id": "99dc8873.517068",
        "type": "api-current-state",
        "z": "8aa6edec.5a013",
        "name": "state guest off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.guest",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 700,
        "y": 180,
        "wires": [
            [
                "a2dc9d42a693dafb"
            ],
            []
        ]
    },
    {
        "id": "86e3be2e.bc7b4",
        "type": "api-current-state",
        "z": "8aa6edec.5a013",
        "name": "state group persons not home",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "not_home",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "group.persons",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 650,
        "y": 300,
        "wires": [
            [
                "a2dc9d42a693dafb"
            ],
            []
        ]
    },
    {
        "id": "f3398caf62b1ef7a",
        "type": "api-current-state",
        "z": "8aa6edec.5a013",
        "name": "state home security off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.home_security",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 1000,
        "y": 180,
        "wires": [
            [
                "30a120b8f94715ba"
            ],
            []
        ]
    },
    {
        "id": "8d40faa88a9cd112",
        "type": "api-current-state",
        "z": "8aa6edec.5a013",
        "name": "state doorbell chime off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "switch.smart_doorbell_active",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 1010,
        "y": 240,
        "wires": [
            [
                "e98d4730eef641b7"
            ],
            []
        ]
    },
    {
        "id": "af4eaf595d5072d5",
        "type": "api-current-state",
        "z": "8aa6edec.5a013",
        "name": "uptime",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 1,
        "halt_if": "",
        "halt_if_type": "num",
        "halt_if_compare": "is",
        "entity_id": "sensor.uptime",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 330,
        "y": 180,
        "wires": [
            [
                "12eb7e9d79ce0291"
            ]
        ]
    },
    {
        "id": "418ec65b2ffc66b5",
        "type": "api-current-state",
        "z": "8aa6edec.5a013",
        "name": "state guest off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.guest",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 320,
        "y": 240,
        "wires": [
            [
                "86e3be2e.bc7b4"
            ],
            []
        ]
    },
    {
        "id": "c6e7d8401b56fd33",
        "type": "api-current-state",
        "z": "8aa6edec.5a013",
        "name": "input select entertainment_activity is not uitschakelen",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "Uitschakelen",
        "halt_if_type": "str",
        "halt_if_compare": "is_not",
        "entity_id": "input_select.entertainment_activity",
        "state_type": "str",
        "blockInputOverrides": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 1100,
        "y": 480,
        "wires": [
            [
                "c91a9badd8fda24a"
            ],
            []
        ]
    },
    {
        "id": "5498c2d3d62ed8ba",
        "type": "api-current-state",
        "z": "8aa6edec.5a013",
        "name": "state childlock kitchen is not off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is_not",
        "entity_id": "switch.childlock_kitchen_switch",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 1030,
        "y": 420,
        "wires": [
            [
                "511a3e2c95d05288"
            ],
            []
        ]
    },
    {
        "id": "a8b7af48.25638",
        "type": "server-state-changed",
        "z": "8aa6edec.5a013",
        "name": "state group persons not_home",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "group.persons"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": true,
        "stateType": "str",
        "ifState": "not_home",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": true,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 140,
        "y": 180,
        "wires": [
            [
                "af4eaf595d5072d5"
            ],
            []
        ]
    },
    {
        "id": "81ed119.13c84f",
        "type": "server-state-changed",
        "z": "8aa6edec.5a013",
        "name": "state guest off",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "input_boolean.guest"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": false,
        "stateType": "str",
        "ifState": "off",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 90,
        "y": 300,
        "wires": [
            [
                "86e3be2e.bc7b4"
            ],
            []
        ]
    },
    {
        "id": "46c9c1d3469e3e0d",
        "type": "server-state-changed",
        "z": "8aa6edec.5a013",
        "name": "state vacation mode off",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "input_boolean.vacation_mode"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": false,
        "stateType": "str",
        "ifState": "off",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 120,
        "y": 240,
        "wires": [
            [
                "418ec65b2ffc66b5"
            ],
            []
        ]
    },
    {
        "id": "b932464b99aa9267",
        "type": "ha-get-entities",
        "z": "8aa6edec.5a013",
        "name": "lookup climate preset mode is not away",
        "server": "4ba92433.2478cc",
        "version": 1,
        "rules": [
            {
                "condition": "state_object",
                "property": "entity_id",
                "logic": "starts_with",
                "value": "climate.",
                "valueType": "str"
            },
            {
                "condition": "state_object",
                "property": "attributes.preset_mode",
                "logic": "is_not",
                "value": "away",
                "valueType": "str"
            },
            {
                "condition": "state_object",
                "property": "attributes.preset_modes.0",
                "logic": "is",
                "value": "away",
                "valueType": "str"
            }
        ],
        "outputType": "split",
        "outputEmptyResults": false,
        "outputLocationType": "msg",
        "outputLocation": "payload",
        "outputResultsCount": 1,
        "x": 1060,
        "y": 300,
        "wires": [
            [
                "d23cc387ab9241d2"
            ]
        ]
    },
    {
        "id": "cdc07b973642084c",
        "type": "ha-get-entities",
        "z": "8aa6edec.5a013",
        "name": "lookup lights on",
        "server": "4ba92433.2478cc",
        "version": 1,
        "rules": [
            {
                "property": "entity_id",
                "logic": "starts_with",
                "value": "light.",
                "valueType": "str"
            },
            {
                "property": "state",
                "logic": "is",
                "value": "on",
                "valueType": "str"
            }
        ],
        "outputType": "split",
        "outputEmptyResults": false,
        "outputLocationType": "msg",
        "outputLocation": "payload",
        "outputResultsCount": 1,
        "x": 980,
        "y": 360,
        "wires": [
            [
                "39773eee4279f3fe"
            ]
        ]
    },
    {
        "id": "028331e655414c16",
        "type": "ha-get-entities",
        "z": "8aa6edec.5a013",
        "name": "lookup climate is not auto",
        "server": "4ba92433.2478cc",
        "version": 1,
        "rules": [
            {
                "condition": "state_object",
                "property": "entity_id",
                "logic": "starts_with",
                "value": "climate.",
                "valueType": "str"
            },
            {
                "condition": "state_object",
                "property": "state",
                "logic": "is_not",
                "value": "auto",
                "valueType": "str"
            },
            {
                "condition": "state_object",
                "property": "attributes.hvac_modes.2",
                "logic": "is",
                "value": "auto",
                "valueType": "str"
            }
        ],
        "outputType": "split",
        "outputEmptyResults": false,
        "outputLocationType": "msg",
        "outputLocation": "payload",
        "outputResultsCount": 1,
        "x": 1010,
        "y": 540,
        "wires": [
            [
                "d6048e7163b7abcc"
            ]
        ]
    },
    {
        "id": "951976c3a53b79b8",
        "type": "catch",
        "z": "8aa6edec.5a013",
        "g": "185f2dd7a860d19b",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "02dc0d1b6f03c379"
            ]
        ]
    },
    {
        "id": "02dc0d1b6f03c379",
        "type": "template",
        "z": "8aa6edec.5a013",
        "g": "185f2dd7a860d19b",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "f114dc5a554e6188"
            ]
        ]
    },
    {
        "id": "2c08acee77a89d06",
        "type": "link out",
        "z": "8aa6edec.5a013",
        "g": "185f2dd7a860d19b",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 475,
        "y": 80,
        "wires": []
    },
    {
        "id": "f114dc5a554e6188",
        "type": "template",
        "z": "8aa6edec.5a013",
        "g": "185f2dd7a860d19b",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "2c08acee77a89d06"
            ]
        ]
    },
    {
        "id": "8a1366db3f33e113",
        "type": "join",
        "z": "eb1939ba1b7e9b73",
        "g": "725af18957967e99",
        "name": "",
        "mode": "custom",
        "build": "merged",
        "property": "notify",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": false,
        "timeout": "",
        "count": "3",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 1430,
        "y": 320,
        "wires": [
            [
                "30a8a878728a6a2b"
            ]
        ]
    },
    {
        "id": "30a8a878728a6a2b",
        "type": "link out",
        "z": "eb1939ba1b7e9b73",
        "g": "725af18957967e99",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 1525,
        "y": 320,
        "wires": []
    },
    {
        "id": "343f37d7fe9484fd",
        "type": "template",
        "z": "eb1939ba1b7e9b73",
        "g": "725af18957967e99",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Verwarming",
        "output": "str",
        "x": 1310,
        "y": 300,
        "wires": [
            [
                "8a1366db3f33e113"
            ]
        ]
    },
    {
        "id": "72ef2fc0d180fcea",
        "type": "template",
        "z": "eb1939ba1b7e9b73",
        "g": "725af18957967e99",
        "name": "icon",
        "field": "notify.icon",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": ":door:",
        "output": "str",
        "x": 1310,
        "y": 340,
        "wires": [
            [
                "8a1366db3f33e113"
            ]
        ]
    },
    {
        "id": "477c8f0e.c4289",
        "type": "join",
        "z": "eb1939ba1b7e9b73",
        "name": "",
        "mode": "custom",
        "build": "string",
        "property": "payload.attributes.friendly_name",
        "propertyType": "msg",
        "key": "topic",
        "joiner": ", ",
        "joinerType": "str",
        "accumulate": false,
        "timeout": "",
        "count": "",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 870,
        "y": 320,
        "wires": [
            [
                "b85d118c.fbdc4"
            ]
        ]
    },
    {
        "id": "51f8fd5354fac718",
        "type": "link in",
        "z": "eb1939ba1b7e9b73",
        "name": "link in off_mode",
        "links": [
            "12623d2f9eb2f4d2"
        ],
        "x": 275,
        "y": 140,
        "wires": [
            [
                "5644cdae.e32cc4",
                "83808dcd.70439",
                "db8cc8f4bb9386ab",
                "f9028094.57a62"
            ]
        ]
    },
    {
        "id": "b85d118c.fbdc4",
        "type": "template",
        "z": "eb1939ba1b7e9b73",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "De verwarming in {{{payload.attributes.friendly_name}}} is van handmatig naar automatische stand geschakeld.",
        "output": "str",
        "x": 1000,
        "y": 320,
        "wires": [
            [
                "0fd94c312d822e91"
            ]
        ]
    },
    {
        "id": "3b9a1fc1.aafd9",
        "type": "api-call-service",
        "z": "eb1939ba1b7e9b73",
        "name": "input select entertainment_activity uitschakelen",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "input_select.select_option",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_select.entertainment_activity"
        ],
        "labelId": [],
        "data": "{\"option\":\"Uitschakelen\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "input_select",
        "service": "select_option",
        "x": 940,
        "y": 260,
        "wires": [
            []
        ]
    },
    {
        "id": "397bbd3d.0bb3f2",
        "type": "api-call-service",
        "z": "eb1939ba1b7e9b73",
        "name": "turn on climate auto mode",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "climate.set_hvac_mode",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "{{payload.entity_id}}"
        ],
        "labelId": [],
        "data": "{\"hvac_mode\":\"auto\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "climate",
        "service": "set_hvac_mode",
        "x": 690,
        "y": 320,
        "wires": [
            [
                "477c8f0e.c4289"
            ]
        ]
    },
    {
        "id": "83808dcd.70439",
        "type": "api-call-service",
        "z": "eb1939ba1b7e9b73",
        "name": "turn off water heater",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "water_heater.set_operation_mode",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "water_heater.warm_water"
        ],
        "labelId": [],
        "data": "{\"operation_mode\":\"off\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "water_heater",
        "service": "set_operation_mode",
        "x": 440,
        "y": 200,
        "wires": [
            []
        ]
    },
    {
        "id": "5644cdae.e32cc4",
        "type": "api-call-service",
        "z": "eb1939ba1b7e9b73",
        "name": "turn off childlock kitchen",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "switch.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "switch.childlock_kitchen_switch"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "switch",
        "service": "turn_off",
        "x": 450,
        "y": 140,
        "wires": [
            []
        ]
    },
    {
        "id": "db8cc8f4bb9386ab",
        "type": "api-current-state",
        "z": "eb1939ba1b7e9b73",
        "name": "input select entertainment_activity is not uitschakelen",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "Uitschakelen",
        "halt_if_type": "str",
        "halt_if_compare": "is_not",
        "entity_id": "input_select.entertainment_activity",
        "state_type": "str",
        "blockInputOverrides": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 540,
        "y": 260,
        "wires": [
            [
                "3b9a1fc1.aafd9"
            ],
            []
        ]
    },
    {
        "id": "f9028094.57a62",
        "type": "ha-get-entities",
        "z": "eb1939ba1b7e9b73",
        "name": "lookup climate is not auto",
        "server": "4ba92433.2478cc",
        "version": 1,
        "rules": [
            {
                "condition": "state_object",
                "property": "entity_id",
                "logic": "starts_with",
                "value": "climate.",
                "valueType": "str"
            },
            {
                "condition": "state_object",
                "property": "state",
                "logic": "is_not",
                "value": "auto",
                "valueType": "str"
            },
            {
                "condition": "state_object",
                "property": "attributes.hvac_modes.2",
                "logic": "is",
                "value": "auto",
                "valueType": "str"
            }
        ],
        "outputType": "split",
        "outputEmptyResults": false,
        "outputLocationType": "msg",
        "outputLocation": "payload",
        "outputResultsCount": 1,
        "x": 450,
        "y": 320,
        "wires": [
            [
                "397bbd3d.0bb3f2"
            ]
        ]
    },
    {
        "id": "a935ec34e1de18c2",
        "type": "catch",
        "z": "eb1939ba1b7e9b73",
        "g": "e53baf256d3f1848",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 60,
        "wires": [
            [
                "f52934b833197f89"
            ]
        ]
    },
    {
        "id": "f52934b833197f89",
        "type": "template",
        "z": "eb1939ba1b7e9b73",
        "g": "e53baf256d3f1848",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 60,
        "wires": [
            [
                "d6e392af72ad7b29"
            ]
        ]
    },
    {
        "id": "43dbea1142f618eb",
        "type": "link out",
        "z": "eb1939ba1b7e9b73",
        "g": "e53baf256d3f1848",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 475,
        "y": 60,
        "wires": []
    },
    {
        "id": "d6e392af72ad7b29",
        "type": "template",
        "z": "eb1939ba1b7e9b73",
        "g": "e53baf256d3f1848",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 60,
        "wires": [
            [
                "43dbea1142f618eb"
            ]
        ]
    },
    {
        "id": "13dd6df8c5e31625",
        "type": "template",
        "z": "e4381ced98d2a929",
        "g": "bd90d247a95feb9d",
        "name": "notification id",
        "field": "notify.notification_id",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "",
        "output": "str",
        "x": 1490,
        "y": 580,
        "wires": [
            [
                "c1f0224f374a67a6"
            ]
        ]
    },
    {
        "id": "c1f0224f374a67a6",
        "type": "join",
        "z": "e4381ced98d2a929",
        "g": "bd90d247a95feb9d",
        "name": "",
        "mode": "custom",
        "build": "merged",
        "property": "notify",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": false,
        "timeout": "",
        "count": "4",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 1630,
        "y": 520,
        "wires": [
            [
                "f5a1c4dd087e0795"
            ]
        ]
    },
    {
        "id": "f5a1c4dd087e0795",
        "type": "link out",
        "z": "e4381ced98d2a929",
        "g": "bd90d247a95feb9d",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "8ed3b0974336e55b",
            "a97f87cfab413716",
            "aeee8468f3d1b7ad",
            "c4660dc11fb0e5b8"
        ],
        "x": 1725,
        "y": 520,
        "wires": []
    },
    {
        "id": "cae0f9255059d5ce",
        "type": "template",
        "z": "e4381ced98d2a929",
        "g": "bd90d247a95feb9d",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Afval",
        "output": "str",
        "x": 1470,
        "y": 500,
        "wires": [
            [
                "c1f0224f374a67a6"
            ]
        ]
    },
    {
        "id": "ad62962b589ed07d",
        "type": "template",
        "z": "e4381ced98d2a929",
        "g": "bd90d247a95feb9d",
        "name": "icon",
        "field": "notify.icon",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "",
        "output": "str",
        "x": 1470,
        "y": 540,
        "wires": [
            [
                "c1f0224f374a67a6"
            ]
        ]
    },
    {
        "id": "c49e5bd8f93bd496",
        "type": "delay",
        "z": "e4381ced98d2a929",
        "g": "12e8b8acaeaeb3fa",
        "name": "",
        "pauseType": "delay",
        "timeout": "20",
        "timeoutUnits": "minutes",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "outputs": 1,
        "x": 1050,
        "y": 340,
        "wires": [
            [
                "9c4864f0ca0d2d96"
            ]
        ]
    },
    {
        "id": "0ccbc5bbe180df8e",
        "type": "delay",
        "z": "e4381ced98d2a929",
        "g": "12e8b8acaeaeb3fa",
        "name": "",
        "pauseType": "delay",
        "timeout": "20",
        "timeoutUnits": "minutes",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "outputs": 1,
        "x": 1050,
        "y": 420,
        "wires": [
            [
                "6f6fc24f15222254"
            ]
        ]
    },
    {
        "id": "c527f80ad015aec2",
        "type": "template",
        "z": "e4381ced98d2a929",
        "g": "12e8b8acaeaeb3fa",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Let op, morgen wordt de {{payload}} container opgehaald.",
        "output": "str",
        "x": 1220,
        "y": 480,
        "wires": [
            [
                "ce2746e7cd66f603"
            ]
        ]
    },
    {
        "id": "32fb1b9bd5a1bd08",
        "type": "join",
        "z": "e4381ced98d2a929",
        "g": "12e8b8acaeaeb3fa",
        "name": "",
        "mode": "custom",
        "build": "string",
        "property": "payload.attributes.friendly_name",
        "propertyType": "msg",
        "key": "topic",
        "joiner": ", ",
        "joinerType": "str",
        "accumulate": false,
        "timeout": "",
        "count": "",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 1070,
        "y": 720,
        "wires": [
            [
                "06036de6a31877d8"
            ]
        ]
    },
    {
        "id": "06036de6a31877d8",
        "type": "template",
        "z": "e4381ced98d2a929",
        "g": "12e8b8acaeaeb3fa",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "De verwarming in {{{payload.attributes.friendly_name}}} is van handmatig naar automatische stand geschakeld.",
        "output": "str",
        "x": 1220,
        "y": 720,
        "wires": [
            [
                "0e425dc836ddc52f"
            ]
        ]
    },
    {
        "id": "37cd1950eaba0494",
        "type": "template",
        "z": "e4381ced98d2a929",
        "g": "7fe4b7424297ac0b",
        "name": "icon",
        "field": "notify.icon",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": ":door:",
        "output": "str",
        "x": 1470,
        "y": 780,
        "wires": [
            [
                "d4a37aed996e885f"
            ]
        ]
    },
    {
        "id": "8516fb393b7286e1",
        "type": "template",
        "z": "e4381ced98d2a929",
        "g": "7fe4b7424297ac0b",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Verwarming",
        "output": "str",
        "x": 1470,
        "y": 740,
        "wires": [
            [
                "d4a37aed996e885f"
            ]
        ]
    },
    {
        "id": "17afd1b13fd231be",
        "type": "link out",
        "z": "e4381ced98d2a929",
        "g": "7fe4b7424297ac0b",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 1685,
        "y": 760,
        "wires": []
    },
    {
        "id": "d4a37aed996e885f",
        "type": "join",
        "z": "e4381ced98d2a929",
        "g": "7fe4b7424297ac0b",
        "name": "",
        "mode": "custom",
        "build": "merged",
        "property": "notify",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": false,
        "timeout": "",
        "count": "3",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 1590,
        "y": 760,
        "wires": [
            [
                "17afd1b13fd231be"
            ]
        ]
    },
    {
        "id": "731b5d2bba1d9446",
        "type": "switch",
        "z": "e4381ced98d2a929",
        "name": "on / off",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "on",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "off",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 250,
        "y": 200,
        "wires": [
            [
                "df097f62ee343e6b"
            ],
            [
                "8e4b5e877883b3e0"
            ]
        ]
    },
    {
        "id": "07e50e27b098b33c",
        "type": "comment",
        "z": "e4381ced98d2a929",
        "name": "sleepmode",
        "info": "",
        "x": 80,
        "y": 20,
        "wires": []
    },
    {
        "id": "17d6d6ba47815c69",
        "type": "api-call-service",
        "z": "e4381ced98d2a929",
        "g": "12e8b8acaeaeb3fa",
        "name": "turn on basement fan autonomous",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "input_boolean.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_boolean.mechanical_ventilation_basement_autonomous"
        ],
        "labelId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "input_boolean",
        "service": "turn_on",
        "x": 680,
        "y": 1020,
        "wires": [
            []
        ]
    },
    {
        "id": "c5e53f10fcec2a55",
        "type": "api-call-service",
        "z": "e4381ced98d2a929",
        "g": "12e8b8acaeaeb3fa",
        "name": "turn on bathroom fan autonomous",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "input_boolean.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_boolean.mechanical_ventilation_bathroom_autonomous"
        ],
        "labelId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "input_boolean",
        "service": "turn_on",
        "x": 680,
        "y": 960,
        "wires": [
            []
        ]
    },
    {
        "id": "d1324fbb34721b63",
        "type": "api-call-service",
        "z": "e4381ced98d2a929",
        "g": "12e8b8acaeaeb3fa",
        "name": "turn on light kitchen",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "light.shellydimmer_kitchen"
        ],
        "labelId": [],
        "data": "{\"brightness_pct\":45,\"transition\":5000}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "light",
        "service": "turn_on",
        "x": 850,
        "y": 340,
        "wires": [
            [
                "c49e5bd8f93bd496"
            ]
        ]
    },
    {
        "id": "9c4864f0ca0d2d96",
        "type": "api-call-service",
        "z": "e4381ced98d2a929",
        "g": "12e8b8acaeaeb3fa",
        "name": "turn off light kitchen",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "light.shellydimmer_kitchen"
        ],
        "labelId": [],
        "data": "{\"transition\":5000}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "light",
        "service": "turn_off",
        "x": 1250,
        "y": 340,
        "wires": [
            []
        ]
    },
    {
        "id": "6f6fc24f15222254",
        "type": "api-call-service",
        "z": "e4381ced98d2a929",
        "g": "12e8b8acaeaeb3fa",
        "name": "turn on home security",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "input_boolean.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_boolean.home_security"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "input_boolean",
        "service": "turn_on",
        "x": 1260,
        "y": 420,
        "wires": [
            []
        ]
    },
    {
        "id": "ec72f7b2db4cc37c",
        "type": "api-call-service",
        "z": "e4381ced98d2a929",
        "g": "1fb2b225cc711d77",
        "name": "stop timer security",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "timer.cancel",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "timer.home_security"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "timer",
        "service": "cancel",
        "x": 870,
        "y": 1340,
        "wires": [
            []
        ]
    },
    {
        "id": "c20492a470484001",
        "type": "api-call-service",
        "z": "e4381ced98d2a929",
        "g": "12e8b8acaeaeb3fa",
        "name": "start speedtest",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "homeassistant.update_entity",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [],
        "labelId": [],
        "data": "{\"entity_id\":\"sensor.speedtest_download\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "homeassistant",
        "service": "update_entity",
        "x": 620,
        "y": 280,
        "wires": [
            []
        ]
    },
    {
        "id": "28d474865ab8bbeb",
        "type": "api-call-service",
        "z": "e4381ced98d2a929",
        "g": "1fb2b225cc711d77",
        "name": "turn on light front door ",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "light.shelly1_front_door"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "light",
        "service": "turn_on",
        "x": 1080,
        "y": 1460,
        "wires": [
            []
        ]
    },
    {
        "id": "3392b339fb5fe297",
        "type": "api-call-service",
        "z": "e4381ced98d2a929",
        "g": "1fb2b225cc711d77",
        "name": "turn on light backyard",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "light.shellydimmer_backyard_string_l"
        ],
        "labelId": [],
        "data": "{\"transition\":5000}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "light",
        "service": "turn_on",
        "x": 1080,
        "y": 1400,
        "wires": [
            []
        ]
    },
    {
        "id": "15feab4d9dbd9466",
        "type": "api-call-service",
        "z": "e4381ced98d2a929",
        "g": "12e8b8acaeaeb3fa",
        "name": "input select entertainment_activity uitschakelen",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "input_select.select_option",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_select.entertainment_activity"
        ],
        "labelId": [],
        "data": "{\"option\":\"Uitschakelen\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "input_select",
        "service": "select_option",
        "x": 1140,
        "y": 660,
        "wires": [
            []
        ]
    },
    {
        "id": "3a5ac0b1670fd20b",
        "type": "api-call-service",
        "z": "e4381ced98d2a929",
        "g": "12e8b8acaeaeb3fa",
        "name": "turn off water heater",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "water_heater.set_operation_mode",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "water_heater.warm_water"
        ],
        "labelId": [],
        "data": "{\"operation_mode\":\"off\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "water_heater",
        "service": "set_operation_mode",
        "x": 640,
        "y": 900,
        "wires": [
            []
        ]
    },
    {
        "id": "a6f1e7fa85069234",
        "type": "api-call-service",
        "z": "e4381ced98d2a929",
        "g": "12e8b8acaeaeb3fa",
        "name": "turn on climate auto mode",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "climate.set_hvac_mode",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "{{payload.entity_id}}"
        ],
        "labelId": [],
        "data": "{\"hvac_mode\":\"auto\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "climate",
        "service": "set_hvac_mode",
        "x": 890,
        "y": 720,
        "wires": [
            [
                "32fb1b9bd5a1bd08"
            ]
        ]
    },
    {
        "id": "f9ccc0bad1f19231",
        "type": "api-call-service",
        "z": "e4381ced98d2a929",
        "g": "13b1135f0e749c31",
        "name": "turn on switch chime active",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "switch.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "switch.smart_doorbell_active"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "switch",
        "service": "turn_on",
        "x": 900,
        "y": 1200,
        "wires": [
            []
        ]
    },
    {
        "id": "38276d0327ca72c0",
        "type": "api-call-service",
        "z": "e4381ced98d2a929",
        "g": "12e8b8acaeaeb3fa",
        "name": "start timer security",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "timer.start",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "timer.home_security"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "timer",
        "service": "start",
        "x": 850,
        "y": 420,
        "wires": [
            [
                "0ccbc5bbe180df8e"
            ]
        ]
    },
    {
        "id": "535a687f3b588b38",
        "type": "api-call-service",
        "z": "e4381ced98d2a929",
        "g": "12e8b8acaeaeb3fa",
        "name": "turn off childlock kitchen",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "switch.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "switch.childlock_kitchen_switch"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "switch",
        "service": "turn_off",
        "x": 930,
        "y": 780,
        "wires": [
            []
        ]
    },
    {
        "id": "3dd82a4a5a5f543f",
        "type": "api-current-state",
        "z": "e4381ced98d2a929",
        "g": "12e8b8acaeaeb3fa",
        "name": "state outdoor dark",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "binary_sensor.outdoor_daylight",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 630,
        "y": 340,
        "wires": [
            [
                "d1324fbb34721b63"
            ],
            [
                "e0259adb4a945229"
            ]
        ]
    },
    {
        "id": "1583a7af300c58e0",
        "type": "api-current-state",
        "z": "e4381ced98d2a929",
        "g": "12e8b8acaeaeb3fa",
        "name": "state home security off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.home_security",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 640,
        "y": 420,
        "wires": [
            [
                "38276d0327ca72c0"
            ],
            []
        ]
    },
    {
        "id": "764ff273496b0193",
        "type": "api-current-state",
        "z": "e4381ced98d2a929",
        "g": "1fb2b225cc711d77",
        "name": "state timer security active",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "active",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "timer.home_security",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "timer.security",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 650,
        "y": 1340,
        "wires": [
            [
                "ec72f7b2db4cc37c"
            ],
            []
        ]
    },
    {
        "id": "dbd19cce541f73bc",
        "type": "api-current-state",
        "z": "e4381ced98d2a929",
        "g": "12e8b8acaeaeb3fa",
        "name": "state garbage tomorrow",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "Geen",
        "halt_if_type": "str",
        "halt_if_compare": "is_not",
        "entity_id": "sensor.afval_morgen",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 870,
        "y": 480,
        "wires": [
            [
                "c527f80ad015aec2"
            ],
            []
        ]
    },
    {
        "id": "5d3c3503fee346db",
        "type": "api-current-state",
        "z": "e4381ced98d2a929",
        "g": "12e8b8acaeaeb3fa",
        "name": "state garbage today",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "Geen",
        "halt_if_type": "str",
        "halt_if_compare": "is_not",
        "entity_id": "sensor.afval_vandaag",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 860,
        "y": 540,
        "wires": [
            [
                "c527f80ad015aec2"
            ],
            []
        ]
    },
    {
        "id": "ab4badbb40ac3f96",
        "type": "api-current-state",
        "z": "e4381ced98d2a929",
        "g": "1fb2b225cc711d77",
        "name": "state outdoor dark",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "binary_sensor.outdoor_daylight",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 630,
        "y": 1400,
        "wires": [
            [
                "3fd3c31faf84dc25",
                "f69361468483265d"
            ],
            []
        ]
    },
    {
        "id": "3fd3c31faf84dc25",
        "type": "api-current-state",
        "z": "e4381ced98d2a929",
        "g": "1fb2b225cc711d77",
        "name": "state frontdoor light off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "light.shelly1_front_door",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 860,
        "y": 1460,
        "wires": [
            [
                "28d474865ab8bbeb"
            ],
            []
        ]
    },
    {
        "id": "f69361468483265d",
        "type": "api-current-state",
        "z": "e4381ced98d2a929",
        "g": "1fb2b225cc711d77",
        "name": "state backyard light off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "light.shellydimmer_backyard_string_l",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 860,
        "y": 1400,
        "wires": [
            [
                "3392b339fb5fe297"
            ],
            []
        ]
    },
    {
        "id": "29aa2542eb146ebc",
        "type": "api-current-state",
        "z": "e4381ced98d2a929",
        "g": "12e8b8acaeaeb3fa",
        "name": "input select entertainment_activity is not uitschakelen",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "Uitschakelen",
        "halt_if_type": "str",
        "halt_if_compare": "is_not",
        "entity_id": "input_select.entertainment_activity",
        "state_type": "str",
        "blockInputOverrides": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 740,
        "y": 660,
        "wires": [
            [
                "15feab4d9dbd9466"
            ],
            []
        ]
    },
    {
        "id": "8ee38710dd301911",
        "type": "api-current-state",
        "z": "e4381ced98d2a929",
        "g": "13b1135f0e749c31",
        "name": "state doorbell chime off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "switch.smart_doorbell_active",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 650,
        "y": 1200,
        "wires": [
            [
                "f9ccc0bad1f19231"
            ],
            []
        ]
    },
    {
        "id": "2d21e3e6cf54e587",
        "type": "api-current-state",
        "z": "e4381ced98d2a929",
        "g": "12e8b8acaeaeb3fa",
        "name": "state childlock kitchen is not off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is_not",
        "entity_id": "switch.childlock_kitchen_switch",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 670,
        "y": 780,
        "wires": [
            [
                "535a687f3b588b38"
            ],
            []
        ]
    },
    {
        "id": "cf67fede087b2e4b",
        "type": "server-state-changed",
        "z": "e4381ced98d2a929",
        "name": "state sleepmode",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 1,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "input_boolean.sleep_mode"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": true,
        "stateType": "str",
        "ifState": "",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 100,
        "y": 200,
        "wires": [
            [
                "731b5d2bba1d9446"
            ]
        ]
    },
    {
        "id": "7d9091cf95ea29fe",
        "type": "ha-get-entities",
        "z": "e4381ced98d2a929",
        "g": "12e8b8acaeaeb3fa",
        "name": "lookup climate is not auto",
        "server": "4ba92433.2478cc",
        "version": 1,
        "rules": [
            {
                "condition": "state_object",
                "property": "entity_id",
                "logic": "starts_with",
                "value": "climate.",
                "valueType": "str"
            },
            {
                "condition": "state_object",
                "property": "state",
                "logic": "is_not",
                "value": "auto",
                "valueType": "str"
            },
            {
                "condition": "state_object",
                "property": "attributes.hvac_modes.2",
                "logic": "is",
                "value": "auto",
                "valueType": "str"
            }
        ],
        "outputType": "split",
        "outputEmptyResults": false,
        "outputLocationType": "msg",
        "outputLocation": "payload",
        "outputResultsCount": 1,
        "x": 650,
        "y": 720,
        "wires": [
            [
                "a6f1e7fa85069234"
            ]
        ]
    },
    {
        "id": "cdc4fcc574f8d36a",
        "type": "time-range-switch",
        "z": "e4381ced98d2a929",
        "g": "12e8b8acaeaeb3fa",
        "name": "",
        "lat": "52.0434",
        "lon": "5.6773",
        "startTime": "05:00",
        "endTime": "00:00",
        "startOffset": 0,
        "endOffset": 0,
        "x": 610,
        "y": 480,
        "wires": [
            [
                "dbd19cce541f73bc"
            ],
            [
                "5d3c3503fee346db"
            ]
        ]
    },
    {
        "id": "ecf36f7ae5c5534a",
        "type": "catch",
        "z": "e4381ced98d2a929",
        "g": "1a8cd9cbdf0175d6",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "5680e1adc867d8fa"
            ]
        ]
    },
    {
        "id": "5680e1adc867d8fa",
        "type": "template",
        "z": "e4381ced98d2a929",
        "g": "1a8cd9cbdf0175d6",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "533d62fb78e93dcf"
            ]
        ]
    },
    {
        "id": "89d180847c2436b6",
        "type": "link out",
        "z": "e4381ced98d2a929",
        "g": "1a8cd9cbdf0175d6",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 475,
        "y": 80,
        "wires": []
    },
    {
        "id": "533d62fb78e93dcf",
        "type": "template",
        "z": "e4381ced98d2a929",
        "g": "1a8cd9cbdf0175d6",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "89d180847c2436b6"
            ]
        ]
    },
    {
        "id": "2f3981a6369226a2",
        "type": "api-call-service",
        "z": "e4381ced98d2a929",
        "g": "12e8b8acaeaeb3fa",
        "name": "set volume wall tablet",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "media_player.volume_set",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "media_player.galaxy_tab_a8"
        ],
        "labelId": [],
        "data": "{\"volume_level\":\"0.5\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": true,
        "domain": "media_player",
        "service": "volume_set",
        "x": 640,
        "y": 1080,
        "wires": [
            []
        ]
    },
    {
        "id": "5aad02cc7bf021df",
        "type": "inject",
        "z": "e4381ced98d2a929",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 180,
        "y": 1000,
        "wires": [
            [
                "2f3981a6369226a2"
            ]
        ]
    },
    {
        "id": "2e62b582b5ace0b2",
        "type": "template",
        "z": "645478ab1138fd33",
        "g": "f2952a0e7861984f",
        "name": "icon",
        "field": "notify.icon",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "",
        "output": "str",
        "x": 930,
        "y": 240,
        "wires": [
            [
                "b151676bc37a1e90"
            ]
        ]
    },
    {
        "id": "6011ff5a330d5f46",
        "type": "template",
        "z": "645478ab1138fd33",
        "g": "f2952a0e7861984f",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Alarm",
        "output": "str",
        "x": 930,
        "y": 200,
        "wires": [
            [
                "b151676bc37a1e90"
            ]
        ]
    },
    {
        "id": "b151676bc37a1e90",
        "type": "join",
        "z": "645478ab1138fd33",
        "g": "f2952a0e7861984f",
        "name": "",
        "mode": "custom",
        "build": "merged",
        "property": "notify",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": false,
        "timeout": "",
        "count": "5",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 1090,
        "y": 220,
        "wires": [
            [
                "b41a40c1e135e55c"
            ]
        ]
    },
    {
        "id": "dfebcb371c6d37c4",
        "type": "template",
        "z": "645478ab1138fd33",
        "g": "f2952a0e7861984f",
        "name": "notification id",
        "field": "notify.notification_id",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "backyard_alarm",
        "output": "str",
        "x": 950,
        "y": 280,
        "wires": [
            [
                "b151676bc37a1e90"
            ]
        ]
    },
    {
        "id": "b41a40c1e135e55c",
        "type": "link out",
        "z": "645478ab1138fd33",
        "g": "f2952a0e7861984f",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "8ed3b0974336e55b"
        ],
        "x": 1175,
        "y": 220,
        "wires": []
    },
    {
        "id": "ed20a5d29a5eb136",
        "type": "template",
        "z": "645478ab1138fd33",
        "g": "f2952a0e7861984f",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Beweging in de achtertuin gedetecteerd!",
        "output": "str",
        "x": 940,
        "y": 320,
        "wires": [
            [
                "b151676bc37a1e90"
            ]
        ]
    },
    {
        "id": "29504140078fb34c",
        "type": "template",
        "z": "645478ab1138fd33",
        "g": "f2952a0e7861984f",
        "name": "notification channel",
        "field": "notify.channel",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Warning",
        "output": "str",
        "x": 970,
        "y": 360,
        "wires": [
            [
                "b151676bc37a1e90"
            ]
        ]
    },
    {
        "id": "c468b53056a67579",
        "type": "comment",
        "z": "645478ab1138fd33",
        "name": "Backyard motion detection flow",
        "info": "",
        "x": 150,
        "y": 20,
        "wires": []
    },
    {
        "id": "1117f663f7ece955",
        "type": "change",
        "z": "645478ab1138fd33",
        "name": "set msg.alarm on",
        "rules": [
            {
                "t": "set",
                "p": "alarm",
                "pt": "msg",
                "to": "on",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 630,
        "y": 180,
        "wires": [
            [
                "133af224fc73de70",
                "be68c8baf380f74e"
            ]
        ]
    },
    {
        "id": "56c442aec754c164",
        "type": "change",
        "z": "645478ab1138fd33",
        "name": "set msg.alarm off",
        "rules": [
            {
                "t": "set",
                "p": "alarm",
                "pt": "msg",
                "to": "off",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 630,
        "y": 220,
        "wires": [
            [
                "133af224fc73de70"
            ]
        ]
    },
    {
        "id": "133af224fc73de70",
        "type": "link out",
        "z": "645478ab1138fd33",
        "name": "link_out_light_dynamics_1",
        "mode": "link",
        "links": [
            "164322a018845856"
        ],
        "x": 815,
        "y": 440,
        "wires": []
    },
    {
        "id": "f3661c593b291998",
        "type": "api-call-service",
        "z": "645478ab1138fd33",
        "name": "turn on light",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "light.shelly1_barn_door"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "light",
        "service": "turn_on",
        "x": 790,
        "y": 500,
        "wires": [
            [
                "f75dd0a2cc5c194e"
            ]
        ]
    },
    {
        "id": "0361aab005f490ca",
        "type": "api-call-service",
        "z": "645478ab1138fd33",
        "name": "turn off light",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "light.shelly1_barn_door"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "light",
        "service": "turn_off",
        "x": 1090,
        "y": 500,
        "wires": [
            []
        ]
    },
    {
        "id": "1454a2634cd314fa",
        "type": "api-current-state",
        "z": "645478ab1138fd33",
        "name": "home security is on",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.home_security",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 410,
        "y": 180,
        "wires": [
            [
                "1117f663f7ece955"
            ],
            [
                "fc028de8398c35cd"
            ]
        ]
    },
    {
        "id": "fc028de8398c35cd",
        "type": "api-current-state",
        "z": "645478ab1138fd33",
        "name": "is dark outside",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "binary_sensor.outdoor_daylight",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 620,
        "y": 500,
        "wires": [
            [
                "f3661c593b291998"
            ],
            []
        ]
    },
    {
        "id": "4f5603c50cf3e3f1",
        "type": "server-state-changed",
        "z": "645478ab1138fd33",
        "name": "backyard motion sensor 01 is on",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "binary_sensor.backyard_motion_sensor_01_motion"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": false,
        "stateType": "str",
        "ifState": "on",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 150,
        "y": 180,
        "wires": [
            [
                "1454a2634cd314fa"
            ],
            [
                "abca9d489cb39d05"
            ]
        ]
    },
    {
        "id": "f75dd0a2cc5c194e",
        "type": "ha-wait-until",
        "z": "645478ab1138fd33",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "entities": {
            "entity": [
                "binary_sensor.backyard_motion_sensor_01_motion"
            ],
            "substring": [],
            "regex": []
        },
        "property": "state",
        "comparator": "is",
        "value": "off",
        "valueType": "str",
        "timeout": "5",
        "timeoutType": "num",
        "timeoutUnits": "minutes",
        "checkCurrentState": true,
        "blockInputOverrides": true,
        "outputProperties": [],
        "entityLocation": "data",
        "entityLocationType": "none",
        "x": 940,
        "y": 500,
        "wires": [
            [
                "0361aab005f490ca"
            ],
            [
                "0361aab005f490ca"
            ]
        ]
    },
    {
        "id": "584b6ef4305b94bf",
        "type": "catch",
        "z": "645478ab1138fd33",
        "g": "30dd8f4e4a961d46",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "b041bd0930b42e26"
            ]
        ]
    },
    {
        "id": "b041bd0930b42e26",
        "type": "template",
        "z": "645478ab1138fd33",
        "g": "30dd8f4e4a961d46",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "fcd114f75c18ca9a"
            ]
        ]
    },
    {
        "id": "88c8645165323767",
        "type": "link out",
        "z": "645478ab1138fd33",
        "g": "30dd8f4e4a961d46",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 475,
        "y": 80,
        "wires": []
    },
    {
        "id": "fcd114f75c18ca9a",
        "type": "template",
        "z": "645478ab1138fd33",
        "g": "30dd8f4e4a961d46",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "88c8645165323767"
            ]
        ]
    },
    {
        "id": "16bf3029dc11f50b",
        "type": "template",
        "z": "b13ca13c.9328e",
        "g": "37c7c59a61d38b32",
        "name": "icon",
        "field": "notify.icon",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "",
        "output": "str",
        "x": 1850,
        "y": 360,
        "wires": [
            [
                "1c8dfa7ab499ce29"
            ]
        ]
    },
    {
        "id": "8bd6ce7359e6fe2f",
        "type": "template",
        "z": "b13ca13c.9328e",
        "g": "37c7c59a61d38b32",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Beveiliging",
        "output": "str",
        "x": 1850,
        "y": 280,
        "wires": [
            [
                "1c8dfa7ab499ce29"
            ]
        ]
    },
    {
        "id": "48cae6c1e3fb0c75",
        "type": "link out",
        "z": "b13ca13c.9328e",
        "g": "37c7c59a61d38b32",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "c76d311bb4b6991b",
            "d1753081ba6b4004"
        ],
        "x": 2115,
        "y": 320,
        "wires": []
    },
    {
        "id": "1c8dfa7ab499ce29",
        "type": "join",
        "z": "b13ca13c.9328e",
        "g": "37c7c59a61d38b32",
        "name": "",
        "mode": "custom",
        "build": "merged",
        "property": "notify",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": false,
        "timeout": "",
        "count": "9",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 2030,
        "y": 320,
        "wires": [
            [
                "48cae6c1e3fb0c75"
            ]
        ]
    },
    {
        "id": "3f7e2f446cdb3e90",
        "type": "change",
        "z": "b13ca13c.9328e",
        "g": "37c7c59a61d38b32",
        "name": "action titles",
        "rules": [
            {
                "t": "set",
                "p": "notify.action_1_title",
                "pt": "msg",
                "to": "JA",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "notify.action_2_title",
                "pt": "msg",
                "to": "NEE",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "notify.action_1",
                "pt": "msg",
                "to": "HOME_SECURITY_OFF",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "notify.action_2",
                "pt": "msg",
                "to": "IGNORE",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1870,
        "y": 320,
        "wires": [
            [
                "1c8dfa7ab499ce29"
            ]
        ]
    },
    {
        "id": "66e66f9f5828f878",
        "type": "template",
        "z": "b13ca13c.9328e",
        "g": "37c7c59a61d38b32",
        "name": "id",
        "field": "notify.notification_id",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "home_security",
        "output": "str",
        "x": 1850,
        "y": 400,
        "wires": [
            [
                "1c8dfa7ab499ce29"
            ]
        ]
    },
    {
        "id": "dab28de38f3a6629",
        "type": "template",
        "z": "b13ca13c.9328e",
        "g": "1b05fecd5ed3289b",
        "name": "icon",
        "field": "notify.icon",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "",
        "output": "str",
        "x": 1850,
        "y": 580,
        "wires": [
            [
                "47c9e5d66b827b3c"
            ]
        ]
    },
    {
        "id": "ab8c69e6298f0ad4",
        "type": "template",
        "z": "b13ca13c.9328e",
        "g": "1b05fecd5ed3289b",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Beveiliging",
        "output": "str",
        "x": 1850,
        "y": 540,
        "wires": [
            [
                "47c9e5d66b827b3c"
            ]
        ]
    },
    {
        "id": "ac254d4235d71700",
        "type": "link out",
        "z": "b13ca13c.9328e",
        "g": "1b05fecd5ed3289b",
        "name": "link_out_notify_2",
        "mode": "link",
        "links": [
            "c13b2b4d87067c17",
            "c4660dc11fb0e5b8"
        ],
        "x": 2115,
        "y": 580,
        "wires": []
    },
    {
        "id": "47c9e5d66b827b3c",
        "type": "join",
        "z": "b13ca13c.9328e",
        "g": "1b05fecd5ed3289b",
        "name": "",
        "mode": "custom",
        "build": "merged",
        "property": "notify",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": false,
        "timeout": "",
        "count": "5",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 2030,
        "y": 580,
        "wires": [
            [
                "ac254d4235d71700"
            ]
        ]
    },
    {
        "id": "52d10ab03d478bae",
        "type": "template",
        "z": "b13ca13c.9328e",
        "g": "1b05fecd5ed3289b",
        "name": "id",
        "field": "notify.notification_id",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "",
        "output": "str",
        "x": 1850,
        "y": 620,
        "wires": [
            [
                "47c9e5d66b827b3c"
            ]
        ]
    },
    {
        "id": "322d16b061f4e108",
        "type": "template",
        "z": "b13ca13c.9328e",
        "g": "1b05fecd5ed3289b",
        "name": "channel",
        "field": "notify.channel",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Warning",
        "output": "str",
        "x": 1860,
        "y": 660,
        "wires": [
            [
                "47c9e5d66b827b3c"
            ]
        ]
    },
    {
        "id": "5922c1dac60ed4ec",
        "type": "template",
        "z": "b13ca13c.9328e",
        "g": "37c7c59a61d38b32",
        "name": "channel",
        "field": "notify.channel",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Warning",
        "output": "str",
        "x": 1860,
        "y": 440,
        "wires": [
            [
                "1c8dfa7ab499ce29"
            ]
        ]
    },
    {
        "id": "9b797c1b.4dc83",
        "type": "switch",
        "z": "b13ca13c.9328e",
        "name": "on/off",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "on",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "off",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 270,
        "y": 200,
        "wires": [
            [
                "e3f16390.e04ac"
            ],
            []
        ]
    },
    {
        "id": "d60f34c7.e15c08",
        "type": "comment",
        "z": "b13ca13c.9328e",
        "name": "home security",
        "info": "",
        "x": 90,
        "y": 20,
        "wires": []
    },
    {
        "id": "5bee85e2.5958fc",
        "type": "template",
        "z": "b13ca13c.9328e",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Het alarm gaat af! Beveiliging uitschakelen?",
        "output": "str",
        "x": 1600,
        "y": 240,
        "wires": [
            [
                "3ad564319a62aa0f"
            ]
        ]
    },
    {
        "id": "f717f95f.430aa8",
        "type": "switch",
        "z": "b13ca13c.9328e",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "on",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "off",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 270,
        "y": 380,
        "wires": [
            [
                "50a28070.5f3b8"
            ],
            [
                "50a28070.5f3b8",
                "2f8f5ff2.f712d",
                "7a028f41.56997"
            ]
        ]
    },
    {
        "id": "40140a3.8383df4",
        "type": "template",
        "z": "b13ca13c.9328e",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "De {{data.new_state.attributes.friendly_name}} is geopend met beveiliging aan. Beveiliging uitschakelen?",
        "output": "str",
        "x": 1600,
        "y": 320,
        "wires": [
            [
                "3ad564319a62aa0f"
            ]
        ]
    },
    {
        "id": "e3f16390.e04ac",
        "type": "change",
        "z": "b13ca13c.9328e",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "Huis beveiliging",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 410,
        "y": 200,
        "wires": [
            [
                "5930459.94035bc"
            ]
        ]
    },
    {
        "id": "a9b6866b3f96e444",
        "type": "comment",
        "z": "b13ca13c.9328e",
        "name": "listen to action notification answer event ",
        "info": "",
        "x": 190,
        "y": 700,
        "wires": []
    },
    {
        "id": "85c14e5d7384e6c6",
        "type": "template",
        "z": "b13ca13c.9328e",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Het alarm gaat af! Schakel beveiliging uit in Home Assistant.",
        "output": "str",
        "x": 1600,
        "y": 280,
        "wires": [
            [
                "3a0c4f886a8c4e54"
            ]
        ]
    },
    {
        "id": "668b5737b0f584a7",
        "type": "template",
        "z": "b13ca13c.9328e",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "De {{data.new_state.attributes.friendly_name}} is geopend met beveiliging aan, schakel beveiliging uit in Home Assistant.",
        "output": "str",
        "x": 1600,
        "y": 360,
        "wires": [
            [
                "3a0c4f886a8c4e54"
            ]
        ]
    },
    {
        "id": "90650fd4618583b4",
        "type": "comment",
        "z": "b13ca13c.9328e",
        "name": "turn on lights when alarm is on",
        "info": "",
        "x": 160,
        "y": 580,
        "wires": []
    },
    {
        "id": "5874beb71c3c9523",
        "type": "link out",
        "z": "b13ca13c.9328e",
        "name": "link_out_light_dynamics_1",
        "mode": "link",
        "links": [
            "43cbfb522e72cbe5"
        ],
        "x": 175,
        "y": 620,
        "wires": []
    },
    {
        "id": "1e0c9024.40fd9",
        "type": "api-call-service",
        "z": "b13ca13c.9328e",
        "name": "turn on alarm",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "input_boolean.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_boolean.alarm"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "input_boolean",
        "service": "turn_on",
        "x": 1610,
        "y": 180,
        "wires": [
            []
        ]
    },
    {
        "id": "3e130ee2.3c60c2",
        "type": "api-call-service",
        "z": "b13ca13c.9328e",
        "name": "cancel home security timer",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "timer.cancel",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "timer.home_security"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "data"
            }
        ],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "timer",
        "service": "cancel",
        "x": 740,
        "y": 380,
        "wires": [
            []
        ]
    },
    {
        "id": "2f8f5ff2.f712d",
        "type": "api-call-service",
        "z": "b13ca13c.9328e",
        "name": "turn off alarm",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "input_boolean.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_boolean.alarm"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "input_boolean",
        "service": "turn_off",
        "x": 430,
        "y": 440,
        "wires": [
            []
        ]
    },
    {
        "id": "4a56a5d0.e5ef1c",
        "type": "api-call-service",
        "z": "b13ca13c.9328e",
        "name": "start alarm_countdown timer",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "timer.start",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "timer.alarm_countdown"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "timer",
        "service": "start",
        "x": 860,
        "y": 200,
        "wires": [
            []
        ]
    },
    {
        "id": "b02d4bae2805d336",
        "type": "api-call-service",
        "z": "b13ca13c.9328e",
        "name": "turn off home security",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "input_boolean.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_boolean.home_security"
        ],
        "labelId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "input_boolean",
        "service": "turn_off",
        "x": 320,
        "y": 740,
        "wires": [
            []
        ]
    },
    {
        "id": "7a028f41.56997",
        "type": "api-call-service",
        "z": "b13ca13c.9328e",
        "name": "cancel alarm countdown timer",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "timer.cancel",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "timer.alarm_countdown"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "data"
            }
        ],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "timer",
        "service": "cancel",
        "x": 490,
        "y": 500,
        "wires": [
            []
        ]
    },
    {
        "id": "5930459.94035bc",
        "type": "api-current-state",
        "z": "b13ca13c.9328e",
        "name": "home security is on",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.home_security",
        "state_type": "str",
        "blockInputOverrides": true,
        "outputProperties": [
            {
                "property": "input_boolean.home_security",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 590,
        "y": 200,
        "wires": [
            [
                "4a56a5d0.e5ef1c",
                "1d1ec90f6d5f3048"
            ],
            []
        ]
    },
    {
        "id": "50a28070.5f3b8",
        "type": "api-current-state",
        "z": "b13ca13c.9328e",
        "name": "home security timer is active",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "active",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "timer.home_security",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "timer.security",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 480,
        "y": 380,
        "wires": [
            [
                "3e130ee2.3c60c2"
            ],
            []
        ]
    },
    {
        "id": "2e6f78bf3abd8343",
        "type": "api-current-state",
        "z": "b13ca13c.9328e",
        "name": "home security is on",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.home_security",
        "state_type": "str",
        "blockInputOverrides": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 1390,
        "y": 200,
        "wires": [
            [
                "1e0c9024.40fd9",
                "5bee85e2.5958fc",
                "85c14e5d7384e6c6"
            ],
            []
        ]
    },
    {
        "id": "e3606fa703de9ce3",
        "type": "server-events",
        "z": "b13ca13c.9328e",
        "name": "mobile event listner",
        "server": "4ba92433.2478cc",
        "version": 3,
        "exposeAsEntityConfig": "",
        "eventType": "mobile_app_notification_action",
        "eventData": "{\"action\":\"HOME_SECURITY_OFF\"}",
        "waitForRunning": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "$outputData(\"eventData\").event_type",
                "valueType": "jsonata"
            }
        ],
        "event_type": "",
        "x": 110,
        "y": 740,
        "wires": [
            [
                "b02d4bae2805d336"
            ]
        ]
    },
    {
        "id": "e70a87b9c4e52e05",
        "type": "server-events",
        "z": "b13ca13c.9328e",
        "name": "alarm countdown timer finished",
        "server": "4ba92433.2478cc",
        "version": 3,
        "exposeAsEntityConfig": "",
        "eventType": "timer.finished",
        "eventData": "{\"entity_id\":\"timer.alarm_countdown\"}",
        "waitForRunning": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "$outputData(\"eventData\").event_type",
                "valueType": "jsonata"
            }
        ],
        "x": 1150,
        "y": 200,
        "wires": [
            [
                "2e6f78bf3abd8343"
            ]
        ]
    },
    {
        "id": "24ab3051.7c08e",
        "type": "server-state-changed",
        "z": "b13ca13c.9328e",
        "name": "state backdoor",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 1,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "binary_sensor.backdoor"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": false,
        "stateType": "str",
        "ifState": "",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 100,
        "y": 260,
        "wires": [
            [
                "9b797c1b.4dc83"
            ]
        ]
    },
    {
        "id": "b2a6a7bd.0318b8",
        "type": "server-state-changed",
        "z": "b13ca13c.9328e",
        "name": "state front door",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 1,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "binary_sensor.frontdoor"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": false,
        "stateType": "str",
        "ifState": "",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 100,
        "y": 200,
        "wires": [
            [
                "9b797c1b.4dc83"
            ]
        ]
    },
    {
        "id": "218b9cc3.1e7df4",
        "type": "server-state-changed",
        "z": "b13ca13c.9328e",
        "name": "state home security",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 1,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "input_boolean.home_security"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": false,
        "stateType": "str",
        "ifState": "",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 110,
        "y": 380,
        "wires": [
            [
                "f717f95f.430aa8"
            ]
        ]
    },
    {
        "id": "e19d09cced81d589",
        "type": "server-state-changed",
        "z": "b13ca13c.9328e",
        "name": "alarm is on",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 1,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "input_boolean.alarm"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": false,
        "stateType": "str",
        "ifState": "",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": true,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "alarm",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            }
        ],
        "x": 80,
        "y": 620,
        "wires": [
            [
                "5874beb71c3c9523"
            ]
        ]
    },
    {
        "id": "14ba38184c7546c9",
        "type": "catch",
        "z": "b13ca13c.9328e",
        "g": "5818abbf91245841",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "827b55ddfe680440"
            ]
        ]
    },
    {
        "id": "827b55ddfe680440",
        "type": "template",
        "z": "b13ca13c.9328e",
        "g": "5818abbf91245841",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "072a523a6fd161e6"
            ]
        ]
    },
    {
        "id": "200857993ae893c3",
        "type": "link out",
        "z": "b13ca13c.9328e",
        "g": "5818abbf91245841",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 475,
        "y": 80,
        "wires": []
    },
    {
        "id": "072a523a6fd161e6",
        "type": "template",
        "z": "b13ca13c.9328e",
        "g": "5818abbf91245841",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "200857993ae893c3"
            ]
        ]
    },
    {
        "id": "e986602efbf956a6",
        "type": "template",
        "z": "2fdf3d9bec5f1748",
        "g": "0490826048e616a0",
        "name": "notification channel",
        "field": "notify.channel",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Warning",
        "output": "str",
        "x": 1350,
        "y": 360,
        "wires": [
            [
                "f513a1a6c1ad56d9"
            ]
        ]
    },
    {
        "id": "dedcddec2131fd4e",
        "type": "template",
        "z": "2fdf3d9bec5f1748",
        "g": "0490826048e616a0",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Beweging in de keuken gedetecteerd!",
        "output": "str",
        "x": 1320,
        "y": 320,
        "wires": [
            [
                "f513a1a6c1ad56d9"
            ]
        ]
    },
    {
        "id": "335c7c4596657191",
        "type": "link out",
        "z": "2fdf3d9bec5f1748",
        "g": "0490826048e616a0",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "8ed3b0974336e55b"
        ],
        "x": 1555,
        "y": 220,
        "wires": []
    },
    {
        "id": "2137fd353b4905ee",
        "type": "template",
        "z": "2fdf3d9bec5f1748",
        "g": "0490826048e616a0",
        "name": "notification id",
        "field": "notify.notification_id",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "kitchen_alarm",
        "output": "str",
        "x": 1330,
        "y": 280,
        "wires": [
            [
                "f513a1a6c1ad56d9"
            ]
        ]
    },
    {
        "id": "f513a1a6c1ad56d9",
        "type": "join",
        "z": "2fdf3d9bec5f1748",
        "g": "0490826048e616a0",
        "name": "",
        "mode": "custom",
        "build": "merged",
        "property": "notify",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": false,
        "timeout": "",
        "count": "5",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 1470,
        "y": 220,
        "wires": [
            [
                "335c7c4596657191"
            ]
        ]
    },
    {
        "id": "28d7678ffbc9ea54",
        "type": "template",
        "z": "2fdf3d9bec5f1748",
        "g": "0490826048e616a0",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Alarm",
        "output": "str",
        "x": 1310,
        "y": 200,
        "wires": [
            [
                "f513a1a6c1ad56d9"
            ]
        ]
    },
    {
        "id": "6e679db82914212d",
        "type": "template",
        "z": "2fdf3d9bec5f1748",
        "g": "0490826048e616a0",
        "name": "icon",
        "field": "notify.icon",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "",
        "output": "str",
        "x": 1310,
        "y": 240,
        "wires": [
            [
                "f513a1a6c1ad56d9"
            ]
        ]
    },
    {
        "id": "769359a8fd5e96e4",
        "type": "comment",
        "z": "2fdf3d9bec5f1748",
        "name": "Kitchen motion detection flow",
        "info": "",
        "x": 140,
        "y": 20,
        "wires": []
    },
    {
        "id": "703bd25addecc618",
        "type": "change",
        "z": "2fdf3d9bec5f1748",
        "name": "set msg.alarm on",
        "rules": [
            {
                "t": "set",
                "p": "alarm",
                "pt": "msg",
                "to": "on",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1010,
        "y": 180,
        "wires": [
            [
                "411c3c903ef0bd56",
                "509313ec35867636"
            ]
        ]
    },
    {
        "id": "609e3ac6425b0cac",
        "type": "change",
        "z": "2fdf3d9bec5f1748",
        "name": "set msg.alarm off",
        "rules": [
            {
                "t": "set",
                "p": "alarm",
                "pt": "msg",
                "to": "off",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1010,
        "y": 220,
        "wires": [
            [
                "411c3c903ef0bd56"
            ]
        ]
    },
    {
        "id": "411c3c903ef0bd56",
        "type": "link out",
        "z": "2fdf3d9bec5f1748",
        "name": "link_out_light_dynamics_1",
        "mode": "link",
        "links": [
            "5d17a23a9ac5fe01"
        ],
        "x": 1205,
        "y": 460,
        "wires": []
    },
    {
        "id": "96e5fecc3b401af6",
        "type": "api-current-state",
        "z": "2fdf3d9bec5f1748",
        "name": "home security is on",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.home_security",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 370,
        "y": 180,
        "wires": [
            [
                "7b68d77ebd125cba"
            ],
            []
        ]
    },
    {
        "id": "7b68d77ebd125cba",
        "type": "api-current-state",
        "z": "2fdf3d9bec5f1748",
        "name": "nobody is home",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "not_home",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "group.persons",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 560,
        "y": 180,
        "wires": [
            [
                "b654879d08aad928"
            ],
            []
        ]
    },
    {
        "id": "b654879d08aad928",
        "type": "api-current-state",
        "z": "2fdf3d9bec5f1748",
        "name": "guest mode is off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.guest",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 750,
        "y": 180,
        "wires": [
            [
                "703bd25addecc618"
            ],
            []
        ]
    },
    {
        "id": "3a6a5555b220835e",
        "type": "server-state-changed",
        "z": "2fdf3d9bec5f1748",
        "name": "wall tablet motion sensor",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "binary_sensor.wall_tablet"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": false,
        "stateType": "str",
        "ifState": "on",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 130,
        "y": 180,
        "wires": [
            [
                "96e5fecc3b401af6"
            ],
            [
                "3564b4f51c2e9f2b"
            ]
        ]
    },
    {
        "id": "e49b1a71f5484e62",
        "type": "catch",
        "z": "2fdf3d9bec5f1748",
        "g": "8e49d14f6c55b86d",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "370797ef44bacff0"
            ]
        ]
    },
    {
        "id": "370797ef44bacff0",
        "type": "template",
        "z": "2fdf3d9bec5f1748",
        "g": "8e49d14f6c55b86d",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "796c20cfef0a4084"
            ]
        ]
    },
    {
        "id": "d6b4445ad7f5062a",
        "type": "link out",
        "z": "2fdf3d9bec5f1748",
        "g": "8e49d14f6c55b86d",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 475,
        "y": 80,
        "wires": []
    },
    {
        "id": "796c20cfef0a4084",
        "type": "template",
        "z": "2fdf3d9bec5f1748",
        "g": "8e49d14f6c55b86d",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "d6b4445ad7f5062a"
            ]
        ]
    },
    {
        "id": "8ca7529cee95086c",
        "type": "template",
        "z": "cde79c08.e4f488",
        "g": "60a8ffbec987c377",
        "name": "notification channel",
        "field": "notify.channel",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Warning",
        "output": "str",
        "x": 990,
        "y": 400,
        "wires": [
            [
                "9a02e08c1760e584"
            ]
        ]
    },
    {
        "id": "af6a4d51c1e99b4e",
        "type": "template",
        "z": "cde79c08.e4f488",
        "g": "60a8ffbec987c377",
        "name": "icon",
        "field": "notify.icon",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "",
        "output": "str",
        "x": 950,
        "y": 320,
        "wires": [
            [
                "9a02e08c1760e584"
            ]
        ]
    },
    {
        "id": "8bda876328e49e67",
        "type": "template",
        "z": "cde79c08.e4f488",
        "g": "60a8ffbec987c377",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Alarm",
        "output": "str",
        "x": 950,
        "y": 280,
        "wires": [
            [
                "9a02e08c1760e584"
            ]
        ]
    },
    {
        "id": "fdba7cd037a9da5a",
        "type": "link out",
        "z": "cde79c08.e4f488",
        "g": "60a8ffbec987c377",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "8ed3b0974336e55b",
            "aeee8468f3d1b7ad",
            "c4660dc11fb0e5b8"
        ],
        "x": 1205,
        "y": 300,
        "wires": []
    },
    {
        "id": "9a02e08c1760e584",
        "type": "join",
        "z": "cde79c08.e4f488",
        "g": "60a8ffbec987c377",
        "name": "",
        "mode": "custom",
        "build": "merged",
        "property": "notify",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": false,
        "timeout": "",
        "count": "5",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 1110,
        "y": 300,
        "wires": [
            [
                "fdba7cd037a9da5a"
            ]
        ]
    },
    {
        "id": "c7b88c5f533c105b",
        "type": "template",
        "z": "cde79c08.e4f488",
        "g": "60a8ffbec987c377",
        "name": "notification id",
        "field": "notify.notification_id",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "firealarm",
        "output": "str",
        "x": 970,
        "y": 360,
        "wires": [
            [
                "9a02e08c1760e584"
            ]
        ]
    },
    {
        "id": "dc93ddfe.5bd4a",
        "type": "comment",
        "z": "cde79c08.e4f488",
        "name": "notify when a smoke or co alarm goes on",
        "info": "notify when a message appears in pfsense",
        "x": 180,
        "y": 20,
        "wires": []
    },
    {
        "id": "3fdbb752.798ec8",
        "type": "template",
        "z": "cde79c08.e4f488",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "{{test_message}}Er is rook gedecteerd in de {{location}}!",
        "output": "str",
        "x": 660,
        "y": 420,
        "wires": [
            [
                "8f9a86a6.9ca938"
            ]
        ]
    },
    {
        "id": "acaf455.81dc638",
        "type": "change",
        "z": "cde79c08.e4f488",
        "name": "set msg.alarm on",
        "rules": [
            {
                "t": "set",
                "p": "alarm",
                "pt": "msg",
                "to": "on",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 990,
        "y": 520,
        "wires": [
            [
                "e426c9cc0865f723"
            ]
        ]
    },
    {
        "id": "7cdcd90a.9cd33",
        "type": "template",
        "z": "cde79c08.e4f488",
        "name": "location livingroom",
        "field": "location",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "woonkamer",
        "output": "str",
        "x": 430,
        "y": 380,
        "wires": [
            [
                "3fdbb752.798ec8"
            ]
        ]
    },
    {
        "id": "3f622d19.96609a",
        "type": "template",
        "z": "cde79c08.e4f488",
        "name": "location upstairs",
        "field": "location",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "hal boven",
        "output": "str",
        "x": 420,
        "y": 420,
        "wires": [
            [
                "3fdbb752.798ec8"
            ]
        ]
    },
    {
        "id": "c5e700b.742ef",
        "type": "template",
        "z": "cde79c08.e4f488",
        "name": "location basement",
        "field": "location",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "kelder",
        "output": "str",
        "x": 430,
        "y": 460,
        "wires": [
            [
                "3fdbb752.798ec8"
            ]
        ]
    },
    {
        "id": "8f9a86a6.9ca938",
        "type": "switch",
        "z": "cde79c08.e4f488",
        "name": "on / off",
        "property": "alarm_state",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "on",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "off",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 790,
        "y": 520,
        "wires": [
            [
                "acaf455.81dc638",
                "ef17b4eb0dc0871b"
            ],
            [
                "56c87bdc.b016ac"
            ]
        ]
    },
    {
        "id": "56c87bdc.b016ac",
        "type": "change",
        "z": "cde79c08.e4f488",
        "name": "set msg.alarm off",
        "rules": [
            {
                "t": "set",
                "p": "alarm",
                "pt": "msg",
                "to": "off",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 990,
        "y": 560,
        "wires": [
            [
                "e426c9cc0865f723"
            ]
        ]
    },
    {
        "id": "2174c321b4d32ca8",
        "type": "template",
        "z": "cde79c08.e4f488",
        "name": "location livingroom",
        "field": "location",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "woonkamer",
        "output": "str",
        "x": 430,
        "y": 200,
        "wires": [
            [
                "3c51dd96d91e1bc6"
            ]
        ]
    },
    {
        "id": "091db6919a07bcbc",
        "type": "template",
        "z": "cde79c08.e4f488",
        "name": "location upstairs",
        "field": "location",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "hal boven",
        "output": "str",
        "x": 420,
        "y": 240,
        "wires": [
            [
                "3c51dd96d91e1bc6"
            ]
        ]
    },
    {
        "id": "05b4a765aa5d138e",
        "type": "template",
        "z": "cde79c08.e4f488",
        "name": "location basement",
        "field": "location",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "kelder",
        "output": "str",
        "x": 430,
        "y": 280,
        "wires": [
            [
                "3c51dd96d91e1bc6"
            ]
        ]
    },
    {
        "id": "3c51dd96d91e1bc6",
        "type": "template",
        "z": "cde79c08.e4f488",
        "name": "test message",
        "field": "test_message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Dit is een test.",
        "output": "str",
        "x": 670,
        "y": 260,
        "wires": [
            [
                "3fdbb752.798ec8"
            ]
        ]
    },
    {
        "id": "f7bea18edd3df74d",
        "type": "template",
        "z": "cde79c08.e4f488",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "{{test_message}}Er is koolmonoxide gedecteerd in de {{location}}, open ramen en deuren!",
        "output": "str",
        "x": 660,
        "y": 600,
        "wires": [
            [
                "8f9a86a6.9ca938"
            ]
        ]
    },
    {
        "id": "7796933fbf4a81d9",
        "type": "template",
        "z": "cde79c08.e4f488",
        "name": "location livingroom",
        "field": "location",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "woonkamer",
        "output": "str",
        "x": 430,
        "y": 560,
        "wires": [
            [
                "f7bea18edd3df74d"
            ]
        ]
    },
    {
        "id": "e158e20d0b4d314e",
        "type": "template",
        "z": "cde79c08.e4f488",
        "name": "location upstairs",
        "field": "location",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "hal boven",
        "output": "str",
        "x": 420,
        "y": 600,
        "wires": [
            [
                "f7bea18edd3df74d"
            ]
        ]
    },
    {
        "id": "44c54d3a1158ddbd",
        "type": "template",
        "z": "cde79c08.e4f488",
        "name": "location basement",
        "field": "location",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "kelder",
        "output": "str",
        "x": 430,
        "y": 640,
        "wires": [
            [
                "f7bea18edd3df74d"
            ]
        ]
    },
    {
        "id": "e426c9cc0865f723",
        "type": "link out",
        "z": "cde79c08.e4f488",
        "name": "link_out_light_dynamics_1",
        "mode": "link",
        "links": [
            "43cbfb522e72cbe5"
        ],
        "x": 1125,
        "y": 540,
        "wires": []
    },
    {
        "id": "743eb0e6.61b368",
        "type": "server-state-changed",
        "z": "cde79c08.e4f488",
        "name": "smoke co alarm test livingroom",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 1,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "binary_sensor.firtsalert_living_room_smoke_alarm_test"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": false,
        "stateType": "str",
        "ifState": "",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "alarm_state",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 150,
        "y": 200,
        "wires": [
            [
                "2174c321b4d32ca8"
            ]
        ]
    },
    {
        "id": "bc9788a0.2fc028",
        "type": "server-state-changed",
        "z": "cde79c08.e4f488",
        "name": "smoke detected livingroom",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 1,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "binary_sensor.firtsalert_living_room_smoke_detected"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": false,
        "stateType": "str",
        "ifState": "",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "alarm_state",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 130,
        "y": 380,
        "wires": [
            [
                "7cdcd90a.9cd33"
            ]
        ]
    },
    {
        "id": "fd7b8a4d.52e6c8",
        "type": "server-state-changed",
        "z": "cde79c08.e4f488",
        "name": "smoke detected upstairs",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 1,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "binary_sensor.firstalert_hallway_upstairs_smoke_detected"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": false,
        "stateType": "str",
        "ifState": "",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "alarm_state",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 130,
        "y": 420,
        "wires": [
            [
                "3f622d19.96609a"
            ]
        ]
    },
    {
        "id": "d75a3b89.b17828",
        "type": "server-state-changed",
        "z": "cde79c08.e4f488",
        "name": "smoke detected basement",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 1,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "binary_sensor.smartalert_basement_smoke_detected"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": false,
        "stateType": "str",
        "ifState": "",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "alarm_state",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 130,
        "y": 460,
        "wires": [
            [
                "c5e700b.742ef"
            ]
        ]
    },
    {
        "id": "04d283125bc58145",
        "type": "server-state-changed",
        "z": "cde79c08.e4f488",
        "name": "smoke co alarm test hallway upstairs",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 1,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "binary_sensor.firstalert_hallway_upstairs_smoke_alarm_test"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": false,
        "stateType": "str",
        "ifState": "",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "alarm_state",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 160,
        "y": 240,
        "wires": [
            [
                "091db6919a07bcbc"
            ]
        ]
    },
    {
        "id": "0e7fa473b99890f7",
        "type": "server-state-changed",
        "z": "cde79c08.e4f488",
        "name": "smoke co alarm test ",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 1,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "binary_sensor.smartalert_basement_smoke_alarm_test"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": false,
        "stateType": "str",
        "ifState": "",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "alarm_state",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 110,
        "y": 280,
        "wires": [
            [
                "05b4a765aa5d138e"
            ]
        ]
    },
    {
        "id": "462204bb44d52283",
        "type": "server-state-changed",
        "z": "cde79c08.e4f488",
        "name": "co detected livingroom",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 1,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "binary_sensor.firtsalert_living_room_carbon_monoxide_detected"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": false,
        "stateType": "str",
        "ifState": "",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "alarm_state",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 120,
        "y": 560,
        "wires": [
            [
                "7796933fbf4a81d9"
            ]
        ]
    },
    {
        "id": "fb4d6bcec28c0e8c",
        "type": "server-state-changed",
        "z": "cde79c08.e4f488",
        "name": "co detected upstairs",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 1,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "binary_sensor.firstalert_hallway_upstairs_carbon_monoxide_detected"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": false,
        "stateType": "str",
        "ifState": "",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "alarm_state",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 110,
        "y": 600,
        "wires": [
            [
                "e158e20d0b4d314e"
            ]
        ]
    },
    {
        "id": "22ebafc77a56459e",
        "type": "server-state-changed",
        "z": "cde79c08.e4f488",
        "name": "co detected basement",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 1,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "binary_sensor.smartalert_basement_carbon_monoxide_detected"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": false,
        "stateType": "str",
        "ifState": "",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "alarm_state",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 120,
        "y": 640,
        "wires": [
            [
                "44c54d3a1158ddbd"
            ]
        ]
    },
    {
        "id": "7f6be1a38957af4c",
        "type": "catch",
        "z": "cde79c08.e4f488",
        "g": "cb7954a7aa2cae2b",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "f1521b7d71efee12"
            ]
        ]
    },
    {
        "id": "f1521b7d71efee12",
        "type": "template",
        "z": "cde79c08.e4f488",
        "g": "cb7954a7aa2cae2b",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "880bc0b589727b10"
            ]
        ]
    },
    {
        "id": "301e5101402d9cd1",
        "type": "link out",
        "z": "cde79c08.e4f488",
        "g": "cb7954a7aa2cae2b",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 475,
        "y": 80,
        "wires": []
    },
    {
        "id": "880bc0b589727b10",
        "type": "template",
        "z": "cde79c08.e4f488",
        "g": "cb7954a7aa2cae2b",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "301e5101402d9cd1"
            ]
        ]
    },
    {
        "id": "d5c7202c7194e6c3",
        "type": "comment",
        "z": "b30206160f4c3c3b",
        "name": "custom sensor when a person is detected in the backyard entrance",
        "info": "",
        "x": 260,
        "y": 20,
        "wires": []
    },
    {
        "id": "49b3f6ee3c13616a",
        "type": "server-state-changed",
        "z": "b30206160f4c3c3b",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "binary_sensor.backyard_person_occupancy"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": true,
        "stateType": "str",
        "ifState": "on",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 240,
        "y": 160,
        "wires": [
            [
                "9150f91efe1abe4c"
            ],
            [
                "9150f91efe1abe4c"
            ]
        ]
    },
    {
        "id": "9150f91efe1abe4c",
        "type": "ha-binary-sensor",
        "z": "b30206160f4c3c3b",
        "name": "custom_backyard_person_occupancy",
        "entityConfig": "b91508ea44734193",
        "version": 0,
        "state": "payload",
        "stateType": "msg",
        "attributes": [],
        "inputOverride": "allow",
        "outputProperties": [],
        "x": 630,
        "y": 160,
        "wires": [
            []
        ]
    },
    {
        "id": "5047eb1f31122238",
        "type": "catch",
        "z": "b30206160f4c3c3b",
        "g": "689e3786766ccaab",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "a94d9ca1c834ea4a"
            ]
        ]
    },
    {
        "id": "a94d9ca1c834ea4a",
        "type": "template",
        "z": "b30206160f4c3c3b",
        "g": "689e3786766ccaab",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "40282b434e104e9b"
            ]
        ]
    },
    {
        "id": "fc2c3ebd96e14cc3",
        "type": "link out",
        "z": "b30206160f4c3c3b",
        "g": "689e3786766ccaab",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 475,
        "y": 80,
        "wires": []
    },
    {
        "id": "40282b434e104e9b",
        "type": "template",
        "z": "b30206160f4c3c3b",
        "g": "689e3786766ccaab",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "fc2c3ebd96e14cc3"
            ]
        ]
    },
    {
        "id": "5da220473ea9a36e",
        "type": "template",
        "z": "2437e768.8e34d8",
        "g": "b81d6a2bc88d5cab",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "5173344f2bf9202f"
            ]
        ]
    },
    {
        "id": "5173344f2bf9202f",
        "type": "link out",
        "z": "2437e768.8e34d8",
        "g": "b81d6a2bc88d5cab",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 475,
        "y": 80,
        "wires": []
    },
    {
        "id": "1f556a76d7e6f50a",
        "type": "template",
        "z": "2437e768.8e34d8",
        "g": "b81d6a2bc88d5cab",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "5da220473ea9a36e"
            ]
        ]
    },
    {
        "id": "b921556ff12ab156",
        "type": "catch",
        "z": "2437e768.8e34d8",
        "g": "b81d6a2bc88d5cab",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "1f556a76d7e6f50a"
            ]
        ]
    },
    {
        "id": "80b3c96f004d6f8b",
        "type": "template",
        "z": "2437e768.8e34d8",
        "g": "3bf0bc8959f8a48e",
        "name": "notification id",
        "field": "notify.notification_id",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "dishwasher",
        "output": "str",
        "x": 1390,
        "y": 300,
        "wires": [
            [
                "08bca5ce6d389d48"
            ]
        ]
    },
    {
        "id": "71f13b6b1744cf6b",
        "type": "template",
        "z": "2437e768.8e34d8",
        "g": "3bf0bc8959f8a48e",
        "name": "icon",
        "field": "notify.icon",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "",
        "output": "str",
        "x": 1370,
        "y": 260,
        "wires": [
            [
                "08bca5ce6d389d48"
            ]
        ]
    },
    {
        "id": "64614e79bcb09872",
        "type": "template",
        "z": "2437e768.8e34d8",
        "g": "3bf0bc8959f8a48e",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Vaatwasser",
        "output": "str",
        "x": 1370,
        "y": 180,
        "wires": [
            [
                "08bca5ce6d389d48"
            ]
        ]
    },
    {
        "id": "2a35d2abfb0850da",
        "type": "template",
        "z": "2437e768.8e34d8",
        "g": "3bf0bc8959f8a48e",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "De Vaatwasser is klaar",
        "output": "str",
        "x": 1380,
        "y": 220,
        "wires": [
            [
                "08bca5ce6d389d48"
            ]
        ]
    },
    {
        "id": "2c0a57bd6ee87009",
        "type": "link out",
        "z": "2437e768.8e34d8",
        "g": "3bf0bc8959f8a48e",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "8ed3b0974336e55b",
            "a97f87cfab413716"
        ],
        "x": 1665,
        "y": 220,
        "wires": []
    },
    {
        "id": "08bca5ce6d389d48",
        "type": "join",
        "z": "2437e768.8e34d8",
        "g": "3bf0bc8959f8a48e",
        "name": "",
        "mode": "custom",
        "build": "merged",
        "property": "notify",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": false,
        "timeout": "",
        "count": "4",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 1570,
        "y": 220,
        "wires": [
            [
                "2c0a57bd6ee87009"
            ]
        ]
    },
    {
        "id": "36f24fd5.59924",
        "type": "change",
        "z": "2437e768.8e34d8",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "on",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 820,
        "y": 160,
        "wires": [
            [
                "bea742545d56e3a3"
            ]
        ]
    },
    {
        "id": "54b1f381.39c02c",
        "type": "change",
        "z": "2437e768.8e34d8",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "off",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 820,
        "y": 220,
        "wires": [
            [
                "bea742545d56e3a3"
            ]
        ]
    },
    {
        "id": "ef6b748.eeaf388",
        "type": "switch",
        "z": "2437e768.8e34d8",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "off",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1150,
        "y": 160,
        "wires": [
            [
                "ec34cd6ea57b0b7f"
            ]
        ]
    },
    {
        "id": "d0e8efa07152912d",
        "type": "comment",
        "z": "2437e768.8e34d8",
        "name": "Set dishwasher binary sensor on or off based on power measurements",
        "info": "",
        "x": 270,
        "y": 20,
        "wires": []
    },
    {
        "id": "47f4fb301e391cb8",
        "type": "switch",
        "z": "2437e768.8e34d8",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "gt",
                "v": "10",
                "vt": "num"
            },
            {
                "t": "lt",
                "v": "1",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 290,
        "y": 160,
        "wires": [
            [
                "036d5a464421fc1b"
            ],
            [
                "fee8363c5cb8d124"
            ]
        ]
    },
    {
        "id": "5914d077.55a55",
        "type": "api-current-state",
        "z": "2437e768.8e34d8",
        "name": "state is not on",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is_not",
        "entity_id": "binary_sensor.dishwasher",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 640,
        "y": 160,
        "wires": [
            [
                "36f24fd5.59924"
            ],
            []
        ]
    },
    {
        "id": "ce869786.78dec8",
        "type": "api-current-state",
        "z": "2437e768.8e34d8",
        "name": "state is not off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is_not",
        "entity_id": "binary_sensor.dishwasher",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 640,
        "y": 220,
        "wires": [
            [
                "54b1f381.39c02c"
            ],
            []
        ]
    },
    {
        "id": "95f21a2884f73b9b",
        "type": "server-state-changed",
        "z": "2437e768.8e34d8",
        "name": "state dishwasher watt",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 1,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "sensor.shellyplugplus_dishwasher_power"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": true,
        "stateType": "str",
        "ifState": "",
        "ifStateType": "num",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 120,
        "y": 160,
        "wires": [
            [
                "47f4fb301e391cb8"
            ]
        ]
    },
    {
        "id": "bea742545d56e3a3",
        "type": "ha-binary-sensor",
        "z": "2437e768.8e34d8",
        "name": "dishwasher",
        "entityConfig": "4f12e052f2829473",
        "version": 0,
        "state": "payload",
        "stateType": "msg",
        "attributes": [],
        "inputOverride": "allow",
        "outputProperties": [],
        "x": 1010,
        "y": 160,
        "wires": [
            [
                "ef6b748.eeaf388"
            ]
        ]
    },
    {
        "id": "036d5a464421fc1b",
        "type": "stoptimer",
        "z": "2437e768.8e34d8",
        "duration": "5",
        "units": "Minute",
        "payloadtype": "num",
        "payloadval": "0",
        "name": "",
        "x": 460,
        "y": 160,
        "wires": [
            [
                "5914d077.55a55"
            ],
            []
        ]
    },
    {
        "id": "7f181c3a969cf13c",
        "type": "join",
        "z": "46d98b35c2eee05b",
        "name": "",
        "mode": "custom",
        "build": "array",
        "property": "",
        "propertyType": "full",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "useparts": true,
        "accumulate": false,
        "timeout": "",
        "count": "2",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 690,
        "y": 160,
        "wires": [
            [
                "ef67c1284ddb8eed"
            ]
        ]
    },
    {
        "id": "ef67c1284ddb8eed",
        "type": "function",
        "z": "46d98b35c2eee05b",
        "name": "calculation",
        "func": "// Sum two values\nmsg.payload = (parseFloat(msg.returned) + -parseFloat(msg.delivered)) * 1000;\n\nreturn msg;",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 830,
        "y": 160,
        "wires": [
            [
                "99a64ef46dadb061"
            ]
        ]
    },
    {
        "id": "8dc59865117f6040",
        "type": "inject",
        "z": "46d98b35c2eee05b",
        "name": "",
        "props": [],
        "repeat": "1",
        "crontab": "",
        "once": true,
        "onceDelay": "1",
        "topic": "",
        "x": 90,
        "y": 160,
        "wires": [
            [
                "6fc7768f0e0e7113",
                "ba77f8da98851350"
            ]
        ]
    },
    {
        "id": "fc249a2f095e860f",
        "type": "comment",
        "z": "46d98b35c2eee05b",
        "name": "energy sensor that show how many energy I deliver back or using from net. ",
        "info": "",
        "x": 280,
        "y": 20,
        "wires": []
    },
    {
        "id": "63df13e036af1a07",
        "type": "comment",
        "z": "46d98b35c2eee05b",
        "name": "energy sensor that shows energy usage",
        "info": "",
        "x": 170,
        "y": 280,
        "wires": []
    },
    {
        "id": "accd30b231cf2bf4",
        "type": "inject",
        "z": "46d98b35c2eee05b",
        "name": "",
        "props": [],
        "repeat": "1",
        "crontab": "",
        "once": true,
        "onceDelay": "1",
        "topic": "",
        "x": 90,
        "y": 320,
        "wires": [
            [
                "b30974b6c0fc163e",
                "a35d2dff9d2a1f7c",
                "a00ba324f973e2a1"
            ]
        ]
    },
    {
        "id": "275467bcb9c26880",
        "type": "join",
        "z": "46d98b35c2eee05b",
        "name": "",
        "mode": "custom",
        "build": "array",
        "property": "",
        "propertyType": "full",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": false,
        "timeout": "",
        "count": "3",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 690,
        "y": 320,
        "wires": [
            [
                "82b9234d2e343295"
            ]
        ]
    },
    {
        "id": "82b9234d2e343295",
        "type": "function",
        "z": "46d98b35c2eee05b",
        "name": "calculation",
        "func": "// Sum two values\nmsg.payload = (((parseFloat(msg.returned) - parseFloat(msg.delivered)) - parseFloat(msg.producing) / 1000) * 1000).toFixed(0);\nreturn msg;",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 830,
        "y": 320,
        "wires": [
            [
                "05165754289e75f1"
            ]
        ]
    },
    {
        "id": "613a036cfeb40cce",
        "type": "comment",
        "z": "46d98b35c2eee05b",
        "name": "voltage difference",
        "info": "",
        "x": 100,
        "y": 500,
        "wires": []
    },
    {
        "id": "ee65387f2fb0d769",
        "type": "join",
        "z": "46d98b35c2eee05b",
        "name": "",
        "mode": "custom",
        "build": "array",
        "property": "",
        "propertyType": "full",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": false,
        "timeout": "",
        "count": "2",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 690,
        "y": 540,
        "wires": [
            [
                "d15010c1b409fd80"
            ]
        ]
    },
    {
        "id": "1dfa0f1daea869cf",
        "type": "inject",
        "z": "46d98b35c2eee05b",
        "name": "",
        "props": [],
        "repeat": "1",
        "crontab": "",
        "once": true,
        "onceDelay": "1",
        "topic": "",
        "x": 90,
        "y": 540,
        "wires": [
            [
                "93bad6317142ba07",
                "109b48348ca36721"
            ]
        ]
    },
    {
        "id": "d15010c1b409fd80",
        "type": "function",
        "z": "46d98b35c2eee05b",
        "name": "calculation",
        "func": "msg.payload = (parseFloat(msg.v_inverter) - parseFloat(msg.v_meter)).toFixed(2);\n\nreturn msg;",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 830,
        "y": 540,
        "wires": [
            [
                "42db26ee60e51cdd"
            ]
        ]
    },
    {
        "id": "ba77f8da98851350",
        "type": "api-current-state",
        "z": "46d98b35c2eee05b",
        "name": "state currently returned",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 1,
        "halt_if": "",
        "halt_if_type": "num",
        "halt_if_compare": "is",
        "entity_id": "sensor.dsmr_reading_electricity_currently_returned",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "returned",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 290,
        "y": 220,
        "wires": [
            [
                "7f181c3a969cf13c"
            ]
        ]
    },
    {
        "id": "6fc7768f0e0e7113",
        "type": "api-current-state",
        "z": "46d98b35c2eee05b",
        "name": "state currently delivered",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 1,
        "halt_if": "",
        "halt_if_type": "num",
        "halt_if_compare": "is",
        "entity_id": "sensor.dsmr_reading_electricity_currently_delivered",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "delivered",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 290,
        "y": 160,
        "wires": [
            [
                "7f181c3a969cf13c"
            ]
        ]
    },
    {
        "id": "a35d2dff9d2a1f7c",
        "type": "api-current-state",
        "z": "46d98b35c2eee05b",
        "name": "state currently returned",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 1,
        "halt_if": "",
        "halt_if_type": "num",
        "halt_if_compare": "is",
        "entity_id": "sensor.dsmr_reading_electricity_currently_returned",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "returned",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 290,
        "y": 380,
        "wires": [
            [
                "275467bcb9c26880"
            ]
        ]
    },
    {
        "id": "b30974b6c0fc163e",
        "type": "api-current-state",
        "z": "46d98b35c2eee05b",
        "name": "state currently delivered",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 1,
        "halt_if": "",
        "halt_if_type": "num",
        "halt_if_compare": "is",
        "entity_id": "sensor.dsmr_reading_electricity_currently_delivered",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "delivered",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 290,
        "y": 320,
        "wires": [
            [
                "275467bcb9c26880"
            ]
        ]
    },
    {
        "id": "a00ba324f973e2a1",
        "type": "api-current-state",
        "z": "46d98b35c2eee05b",
        "name": "state currently producing",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 1,
        "halt_if": "",
        "halt_if_type": "num",
        "halt_if_compare": "is",
        "entity_id": "sensor.solaredge_modbus_ac_power",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "producing",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 290,
        "y": 440,
        "wires": [
            [
                "275467bcb9c26880"
            ]
        ]
    },
    {
        "id": "93bad6317142ba07",
        "type": "api-current-state",
        "z": "46d98b35c2eee05b",
        "name": "voltage inverter",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 1,
        "halt_if": "",
        "halt_if_type": "num",
        "halt_if_compare": "is",
        "entity_id": "sensor.solaredge_modbus_ac_voltage_an",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "v_inverter",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 260,
        "y": 540,
        "wires": [
            [
                "ee65387f2fb0d769"
            ]
        ]
    },
    {
        "id": "109b48348ca36721",
        "type": "api-current-state",
        "z": "46d98b35c2eee05b",
        "name": "voltage meter",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 1,
        "halt_if": "",
        "halt_if_type": "num",
        "halt_if_compare": "is",
        "entity_id": "sensor.dsmr_reading_phase_voltage_l1",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "v_meter",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 260,
        "y": 600,
        "wires": [
            [
                "ee65387f2fb0d769"
            ]
        ]
    },
    {
        "id": "99a64ef46dadb061",
        "type": "ha-sensor",
        "z": "46d98b35c2eee05b",
        "name": "custom_energy",
        "entityConfig": "7befa0b16196877c",
        "version": 0,
        "state": "payload",
        "stateType": "msg",
        "attributes": [],
        "inputOverride": "allow",
        "outputProperties": [],
        "x": 1000,
        "y": 160,
        "wires": [
            []
        ]
    },
    {
        "id": "05165754289e75f1",
        "type": "ha-sensor",
        "z": "46d98b35c2eee05b",
        "name": "custom_energy_usage",
        "entityConfig": "3f4f99b6c043befd",
        "version": 0,
        "state": "payload",
        "stateType": "msg",
        "attributes": [],
        "inputOverride": "allow",
        "outputProperties": [],
        "x": 1020,
        "y": 320,
        "wires": [
            []
        ]
    },
    {
        "id": "42db26ee60e51cdd",
        "type": "ha-sensor",
        "z": "46d98b35c2eee05b",
        "name": "custom_voltage_difference",
        "entityConfig": "d536c618bffe48c4",
        "version": 0,
        "state": "payload",
        "stateType": "msg",
        "attributes": [],
        "inputOverride": "allow",
        "outputProperties": [],
        "x": 1040,
        "y": 540,
        "wires": [
            []
        ]
    },
    {
        "id": "68c48f123df0cea6",
        "type": "catch",
        "z": "46d98b35c2eee05b",
        "g": "a5fedb7b1f936a7c",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "0a699ee4ac51e7f9"
            ]
        ]
    },
    {
        "id": "0a699ee4ac51e7f9",
        "type": "template",
        "z": "46d98b35c2eee05b",
        "g": "a5fedb7b1f936a7c",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "73e7561891b5363a"
            ]
        ]
    },
    {
        "id": "a6196b4738721e31",
        "type": "link out",
        "z": "46d98b35c2eee05b",
        "g": "a5fedb7b1f936a7c",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 475,
        "y": 80,
        "wires": []
    },
    {
        "id": "73e7561891b5363a",
        "type": "template",
        "z": "46d98b35c2eee05b",
        "g": "a5fedb7b1f936a7c",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "a6196b4738721e31"
            ]
        ]
    },
    {
        "id": "7b9d796ac83c32bf",
        "type": "join",
        "z": "99c1372046e45da7",
        "g": "b268fa78a872617d",
        "name": "",
        "mode": "custom",
        "build": "merged",
        "property": "notify",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": false,
        "timeout": "",
        "count": "4",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 1630,
        "y": 320,
        "wires": [
            [
                "8c93b438701888a6"
            ]
        ]
    },
    {
        "id": "8c93b438701888a6",
        "type": "link out",
        "z": "99c1372046e45da7",
        "g": "b268fa78a872617d",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "8ed3b0974336e55b",
            "a97f87cfab413716"
        ],
        "x": 1725,
        "y": 320,
        "wires": []
    },
    {
        "id": "781d3a645a5e3130",
        "type": "template",
        "z": "99c1372046e45da7",
        "g": "b268fa78a872617d",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Er is een nieuw zonne-energie dagrecord gemeten vandaag.\\n\\nOud: {{data.state}} {{data.attributes.unit_of_measurement}} op {{data.attributes.date}}\\nNieuw: {{payload.value}} {{data.attributes.unit_of_measurement}} op {{date}}",
        "output": "str",
        "x": 1480,
        "y": 320,
        "wires": [
            [
                "7b9d796ac83c32bf"
            ]
        ]
    },
    {
        "id": "5a8f575633614c07",
        "type": "template",
        "z": "99c1372046e45da7",
        "g": "b268fa78a872617d",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Zonne-energie",
        "output": "str",
        "x": 1470,
        "y": 280,
        "wires": [
            [
                "7b9d796ac83c32bf"
            ]
        ]
    },
    {
        "id": "148de36202032274",
        "type": "template",
        "z": "99c1372046e45da7",
        "g": "b268fa78a872617d",
        "name": "icon",
        "field": "notify.icon",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": ":door:",
        "output": "str",
        "x": 1470,
        "y": 360,
        "wires": [
            [
                "7b9d796ac83c32bf"
            ]
        ]
    },
    {
        "id": "59d4d6719e262bbb",
        "type": "template",
        "z": "99c1372046e45da7",
        "g": "a51faa8090a268f4",
        "name": "secondary information",
        "field": "secondary_information",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Oud: {{data.state}} {{data.attributes.unit_of_measurement}} op {{data.attributes.date}}\nNieuw: {{payload.value}} {{data.attributes.unit_of_measurement}} op {{date}}",
        "output": "str",
        "x": 1480,
        "y": 500,
        "wires": [
            [
                "e8714993e53c2d5e"
            ]
        ]
    },
    {
        "id": "e8714993e53c2d5e",
        "type": "template",
        "z": "99c1372046e45da7",
        "g": "a51faa8090a268f4",
        "name": "primary information",
        "field": "primary_information",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Er is een nieuw zonne-energie dagrecord gemeten vandaag",
        "output": "str",
        "x": 1710,
        "y": 500,
        "wires": [
            [
                "0561341e4ea54205"
            ]
        ]
    },
    {
        "id": "0561341e4ea54205",
        "type": "template",
        "z": "99c1372046e45da7",
        "g": "a51faa8090a268f4",
        "name": "topic",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "garbage",
        "output": "str",
        "x": 1890,
        "y": 500,
        "wires": [
            [
                "29ad6bfc437abec2"
            ]
        ]
    },
    {
        "id": "29ad6bfc437abec2",
        "type": "template",
        "z": "99c1372046e45da7",
        "g": "a51faa8090a268f4",
        "name": "notification_level",
        "field": "notification_level",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "info",
        "output": "str",
        "x": 2050,
        "y": 500,
        "wires": [
            [
                "afc68deb5ab5e4be"
            ]
        ]
    },
    {
        "id": "afc68deb5ab5e4be",
        "type": "link out",
        "z": "99c1372046e45da7",
        "g": "a51faa8090a268f4",
        "name": "notification",
        "mode": "link",
        "links": [
            "60e14e33a793f50d"
        ],
        "x": 2185,
        "y": 500,
        "wires": []
    },
    {
        "id": "451f25b73596ddf8",
        "type": "template",
        "z": "99c1372046e45da7",
        "g": "b268fa78a872617d",
        "name": "notification id",
        "field": "notify.notification_id",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "solar_record",
        "output": "str",
        "x": 1490,
        "y": 400,
        "wires": [
            [
                "7b9d796ac83c32bf"
            ]
        ]
    },
    {
        "id": "a0300d7bafb66f44",
        "type": "comment",
        "z": "99c1372046e45da7",
        "name": "A sensor that stores the value and date when there is a new produced solar power daily record",
        "info": "",
        "x": 340,
        "y": 20,
        "wires": []
    },
    {
        "id": "74cc10441231f8f2",
        "type": "function",
        "z": "99c1372046e45da7",
        "name": "change string into float number",
        "func": "msg.payload = parseFloat(msg.payload);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 350,
        "y": 180,
        "wires": [
            [
                "aab1bbee72f90c90"
            ]
        ]
    },
    {
        "id": "27b51aa55e598e0f",
        "type": "function",
        "z": "99c1372046e45da7",
        "name": "create string kwh payload and date",
        "func": "// Set payload to a 3 decimal number as string\nmsg.payload = parseFloat(msg.payload).toFixed(3);\n\n// Create YYYY-MM-DD value from datetime string\nvar datetime = msg.data.last_updated;\nmsg.date = datetime.split('T')[0];\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1020,
        "y": 180,
        "wires": [
            [
                "3cceba91547a7d4e"
            ]
        ]
    },
    {
        "id": "6a870ac713200910",
        "type": "inject",
        "z": "99c1372046e45da7",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "date",
                "v": "2023-05-26",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "34.080",
        "payloadType": "str",
        "x": 1110,
        "y": 220,
        "wires": [
            [
                "3cceba91547a7d4e"
            ]
        ]
    },
    {
        "id": "122d704723bc1cb0",
        "type": "mqtt out",
        "z": "99c1372046e45da7",
        "name": "",
        "topic": "/homeassistant/solar/ac_solar_record",
        "qos": "1",
        "retain": "true",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "36dee637778341ba",
        "x": 1510,
        "y": 180,
        "wires": []
    },
    {
        "id": "3cceba91547a7d4e",
        "type": "template",
        "z": "99c1372046e45da7",
        "name": "",
        "field": "payload",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "{\n    \"value\": \"{{payload}}\",\n    \"date\": \"{{date}}\"\n}",
        "output": "json",
        "x": 1240,
        "y": 180,
        "wires": [
            [
                "122d704723bc1cb0",
                "9655b1065753069f",
                "59d4d6719e262bbb"
            ]
        ]
    },
    {
        "id": "aab1bbee72f90c90",
        "type": "api-current-state",
        "z": "99c1372046e45da7",
        "name": "highest_ac_solar_day  < solaredge kwh yoday ",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "payload",
        "halt_if_type": "msg",
        "halt_if_compare": "lt",
        "entity_id": "sensor.mqtt_ac_solar_record",
        "state_type": "str",
        "blockInputOverrides": true,
        "outputProperties": [
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 680,
        "y": 180,
        "wires": [
            [
                "27b51aa55e598e0f"
            ],
            []
        ]
    },
    {
        "id": "80dc13087104d323",
        "type": "server-state-changed",
        "z": "99c1372046e45da7",
        "name": "solaredge kwh today",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 1,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "sensor.solaredge_modbus_ac_energy_kwh_today"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": true,
        "stateType": "str",
        "ifState": "",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "10",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": true,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 110,
        "y": 180,
        "wires": [
            [
                "74cc10441231f8f2"
            ]
        ]
    },
    {
        "id": "6dc6a41b28fbcce8",
        "type": "catch",
        "z": "99c1372046e45da7",
        "g": "e30ff84977664050",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "d9437e8ede03988b"
            ]
        ]
    },
    {
        "id": "d9437e8ede03988b",
        "type": "template",
        "z": "99c1372046e45da7",
        "g": "e30ff84977664050",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "b0a930b2bce12ea3"
            ]
        ]
    },
    {
        "id": "6bcc6ca59609f4ee",
        "type": "link out",
        "z": "99c1372046e45da7",
        "g": "e30ff84977664050",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 475,
        "y": 80,
        "wires": []
    },
    {
        "id": "b0a930b2bce12ea3",
        "type": "template",
        "z": "99c1372046e45da7",
        "g": "e30ff84977664050",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "6bcc6ca59609f4ee"
            ]
        ]
    },
    {
        "id": "f0e25a858eae0278",
        "type": "template",
        "z": "4dd07a1d.6e53e4",
        "g": "cf9f14c80d528160",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "6031ed8d02da2add"
            ]
        ]
    },
    {
        "id": "6031ed8d02da2add",
        "type": "link out",
        "z": "4dd07a1d.6e53e4",
        "g": "cf9f14c80d528160",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 475,
        "y": 80,
        "wires": []
    },
    {
        "id": "351e6909c12b36ab",
        "type": "template",
        "z": "4dd07a1d.6e53e4",
        "g": "cf9f14c80d528160",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "f0e25a858eae0278"
            ]
        ]
    },
    {
        "id": "04c29ec7a7bb3e19",
        "type": "catch",
        "z": "4dd07a1d.6e53e4",
        "g": "cf9f14c80d528160",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "351e6909c12b36ab"
            ]
        ]
    },
    {
        "id": "5c56266b.e63438",
        "type": "change",
        "z": "4dd07a1d.6e53e4",
        "name": "off",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "off",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1250,
        "y": 140,
        "wires": [
            [
                "714f8f70.75ec6"
            ]
        ]
    },
    {
        "id": "818ba5a9.204658",
        "type": "change",
        "z": "4dd07a1d.6e53e4",
        "name": "on",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "on",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1250,
        "y": 180,
        "wires": [
            [
                "714f8f70.75ec6"
            ]
        ]
    },
    {
        "id": "714f8f70.75ec6",
        "type": "rbe",
        "z": "4dd07a1d.6e53e4",
        "name": "",
        "func": "rbe",
        "gap": "",
        "start": "",
        "inout": "out",
        "septopics": true,
        "property": "payload",
        "topi": "topic",
        "x": 1390,
        "y": 140,
        "wires": [
            [
                "607a179b.d377f8"
            ]
        ]
    },
    {
        "id": "e1f379a0.db9e58",
        "type": "comment",
        "z": "4dd07a1d.6e53e4",
        "name": "Flow that use weather station illuminance sensor to determine if it is light or dark outside",
        "info": "",
        "x": 320,
        "y": 20,
        "wires": []
    },
    {
        "id": "9970a078522f1484",
        "type": "switch",
        "z": "4dd07a1d.6e53e4",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "lte",
                "v": "2.5",
                "vt": "str"
            },
            {
                "t": "gt",
                "v": "4.5",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 310,
        "y": 160,
        "wires": [
            [
                "3392d6cf5e1cb20b"
            ],
            [
                "a378d97aa6be5e49"
            ]
        ]
    },
    {
        "id": "extract-timestamp",
        "type": "function",
        "z": "4dd07a1d.6e53e4",
        "name": "convert dusk time to epoch",
        "func": "// Your timestamp\nlet timestamp = msg.sunData.new_state.attributes.next_dusk;\n\n// Convert to a JavaScript Date object\nlet date = new Date(timestamp);\n\n// Get the epoch time in milliseconds\nlet epochTime = date.getTime();\n\n// Convert to seconds (optional)\nlet epochTimeInSeconds = Math.floor(epochTime / 1000);\n\n// Output the epoch time\nmsg.dusk_time = epochTimeInSeconds;\nreturn msg;",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 900,
        "y": 340,
        "wires": [
            [
                "eac48a5b9f81b614"
            ]
        ]
    },
    {
        "id": "delay-node",
        "type": "delay",
        "z": "4dd07a1d.6e53e4",
        "name": "delay until target time",
        "pauseType": "delayv",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 1200,
        "y": 460,
        "wires": [
            [
                "5c56266b.e63438"
            ]
        ]
    },
    {
        "id": "eac48a5b9f81b614",
        "type": "function",
        "z": "4dd07a1d.6e53e4",
        "name": "current time in epoch",
        "func": "// Get the current time as a Date object\nlet now = new Date();\n\n// Get the current epoch time in milliseconds\nlet epochTime = now.getTime();\n\n// Convert to seconds (optional)\nlet epochTimeInSeconds = Math.floor(epochTime / 1000);\n\n// Output the epoch time\nmsg.current_time = epochTimeInSeconds;\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 880,
        "y": 400,
        "wires": [
            [
                "4526454deceed49b"
            ]
        ]
    },
    {
        "id": "4526454deceed49b",
        "type": "function",
        "z": "4dd07a1d.6e53e4",
        "name": "dusk time minus current time for delay",
        "func": "let delay_seconds = msg.dusk_time - msg.current_time\nmsg.delay = delay_seconds * 1000 //Miliseconds\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 930,
        "y": 460,
        "wires": [
            [
                "delay-node"
            ]
        ]
    },
    {
        "id": "d995b37fc6ae461d",
        "type": "switch",
        "z": "4dd07a1d.6e53e4",
        "name": "above_horizon / below_horizon",
        "property": "sun",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "above_horizon",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "below_horizon",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 770,
        "y": 280,
        "wires": [
            [
                "818ba5a9.204658"
            ],
            [
                "extract-timestamp"
            ]
        ]
    },
    {
        "id": "b5382c6f0181713a",
        "type": "switch",
        "z": "4dd07a1d.6e53e4",
        "name": "unknown / unavailable",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "unknown",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "unavailable",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 500,
        "y": 280,
        "wires": [
            [
                "d995b37fc6ae461d"
            ],
            [
                "d995b37fc6ae461d"
            ]
        ]
    },
    {
        "id": "e39c63aed1fd0e02",
        "type": "comment",
        "z": "4dd07a1d.6e53e4",
        "name": "use sun as fallback",
        "info": "",
        "x": 110,
        "y": 240,
        "wires": []
    },
    {
        "id": "17f88310915585a7",
        "type": "api-current-state",
        "z": "4dd07a1d.6e53e4",
        "name": "weather station illuminance",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 1,
        "halt_if": "",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "sensor.weather_station_illuminance",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 260,
        "y": 280,
        "wires": [
            [
                "b5382c6f0181713a"
            ]
        ]
    },
    {
        "id": "49bcf8fe.de1de8",
        "type": "server-state-changed",
        "z": "4dd07a1d.6e53e4",
        "name": "illuminance weather station",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 1,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "sensor.weather_station_illuminance"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": true,
        "stateType": "num",
        "ifState": "",
        "ifStateType": "num",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": false,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": true,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 130,
        "y": 160,
        "wires": [
            [
                "9970a078522f1484"
            ]
        ]
    },
    {
        "id": "6c14527497f34f34",
        "type": "server-state-changed",
        "z": "4dd07a1d.6e53e4",
        "name": "sun",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 1,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "sun.sun"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": true,
        "stateType": "str",
        "ifState": "",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": false,
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "sun",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "sunData",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            }
        ],
        "x": 70,
        "y": 280,
        "wires": [
            [
                "17f88310915585a7"
            ]
        ]
    },
    {
        "id": "607a179b.d377f8",
        "type": "stoptimer",
        "z": "4dd07a1d.6e53e4",
        "duration": "2",
        "units": "Second",
        "payloadtype": "str",
        "payloadval": "reset",
        "name": "",
        "x": 1540,
        "y": 140,
        "wires": [
            [
                "99bd7176238143ec"
            ],
            []
        ]
    },
    {
        "id": "99bd7176238143ec",
        "type": "ha-binary-sensor",
        "z": "4dd07a1d.6e53e4",
        "name": "state outdoor light ",
        "entityConfig": "5051592a.7844e8",
        "version": 0,
        "state": "payload",
        "stateType": "msg",
        "attributes": [],
        "inputOverride": "allow",
        "outputProperties": [],
        "x": 1730,
        "y": 140,
        "wires": [
            []
        ]
    },
    {
        "id": "2eb8824d45a66c4f",
        "type": "template",
        "z": "72ef82b8.9d086c",
        "g": "48945dbb970d3465",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "a88aa9f85b115b03"
            ]
        ]
    },
    {
        "id": "a88aa9f85b115b03",
        "type": "link out",
        "z": "72ef82b8.9d086c",
        "g": "48945dbb970d3465",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 475,
        "y": 80,
        "wires": []
    },
    {
        "id": "d6fdd4c4271165e1",
        "type": "template",
        "z": "72ef82b8.9d086c",
        "g": "48945dbb970d3465",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "2eb8824d45a66c4f"
            ]
        ]
    },
    {
        "id": "95a0ca31cb9f81d2",
        "type": "catch",
        "z": "72ef82b8.9d086c",
        "g": "48945dbb970d3465",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "d6fdd4c4271165e1"
            ]
        ]
    },
    {
        "id": "95286ff3.9f33d",
        "type": "template",
        "z": "72ef82b8.9d086c",
        "g": "677a462e190a4c92",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "De droger is klaar.",
        "output": "str",
        "x": 1390,
        "y": 300,
        "wires": [
            [
                "a91faa17c024af1e"
            ]
        ]
    },
    {
        "id": "f359939883ebec80",
        "type": "template",
        "z": "72ef82b8.9d086c",
        "g": "677a462e190a4c92",
        "name": "icon",
        "field": "notify.icon",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "",
        "output": "str",
        "x": 1380,
        "y": 220,
        "wires": [
            [
                "a91faa17c024af1e"
            ]
        ]
    },
    {
        "id": "70a25e05987238de",
        "type": "template",
        "z": "72ef82b8.9d086c",
        "g": "677a462e190a4c92",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Droger",
        "output": "str",
        "x": 1380,
        "y": 180,
        "wires": [
            [
                "a91faa17c024af1e"
            ]
        ]
    },
    {
        "id": "0993d50e3c03d798",
        "type": "link out",
        "z": "72ef82b8.9d086c",
        "g": "677a462e190a4c92",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "8ed3b0974336e55b",
            "aeee8468f3d1b7ad",
            "c4660dc11fb0e5b8"
        ],
        "x": 1675,
        "y": 240,
        "wires": []
    },
    {
        "id": "a91faa17c024af1e",
        "type": "join",
        "z": "72ef82b8.9d086c",
        "g": "677a462e190a4c92",
        "name": "",
        "mode": "custom",
        "build": "merged",
        "property": "notify",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": false,
        "timeout": "",
        "count": "4",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 1580,
        "y": 240,
        "wires": [
            [
                "0993d50e3c03d798"
            ]
        ]
    },
    {
        "id": "7913c8cedd9b8d45",
        "type": "template",
        "z": "72ef82b8.9d086c",
        "g": "677a462e190a4c92",
        "name": "notification id",
        "field": "notify.notification_id",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "tumble_dryer",
        "output": "str",
        "x": 1400,
        "y": 260,
        "wires": [
            [
                "a91faa17c024af1e"
            ]
        ]
    },
    {
        "id": "6bda6302.ca5bcc",
        "type": "switch",
        "z": "72ef82b8.9d086c",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "gt",
                "v": "310",
                "vt": "num"
            },
            {
                "t": "lte",
                "v": "2",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 490,
        "y": 160,
        "wires": [
            [
                "78d208e5.9e2828"
            ],
            [
                "61c558b2.b38c78"
            ]
        ]
    },
    {
        "id": "4a449402.69359c",
        "type": "change",
        "z": "72ef82b8.9d086c",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "on",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 820,
        "y": 160,
        "wires": [
            [
                "f2f5e3d5cd8dec8d"
            ]
        ]
    },
    {
        "id": "401de4c3.c5e84c",
        "type": "change",
        "z": "72ef82b8.9d086c",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "off",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 820,
        "y": 220,
        "wires": [
            [
                "f2f5e3d5cd8dec8d"
            ]
        ]
    },
    {
        "id": "e78c18ee.1eb558",
        "type": "switch",
        "z": "72ef82b8.9d086c",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "off",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1150,
        "y": 160,
        "wires": [
            [
                "df3bd9cee59e687a"
            ]
        ]
    },
    {
        "id": "e0083fb4.5a45",
        "type": "comment",
        "z": "72ef82b8.9d086c",
        "name": "Set thumble dryer binary sensor on or off based on power measurements",
        "info": "Set thumble dryer binary sensor on or off based on power measurements`",
        "x": 280,
        "y": 20,
        "wires": []
    },
    {
        "id": "78d208e5.9e2828",
        "type": "api-current-state",
        "z": "72ef82b8.9d086c",
        "name": "state is not on",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is_not",
        "entity_id": "binary_sensor.tumble_dryer",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 640,
        "y": 160,
        "wires": [
            [
                "4a449402.69359c"
            ],
            []
        ]
    },
    {
        "id": "61c558b2.b38c78",
        "type": "api-current-state",
        "z": "72ef82b8.9d086c",
        "name": "state is not off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is_not",
        "entity_id": "binary_sensor.tumble_dryer",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 640,
        "y": 220,
        "wires": [
            [
                "401de4c3.c5e84c"
            ],
            []
        ]
    },
    {
        "id": "90a01313.ddff9",
        "type": "trigger-state",
        "z": "72ef82b8.9d086c",
        "name": "state tumble dryer watt",
        "server": "4ba92433.2478cc",
        "version": 5,
        "inputs": 1,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "sensor.shellyplug_tumble_dryer_power"
            ],
            "substring": [],
            "regex": []
        },
        "debugEnabled": false,
        "constraints": [],
        "customOutputs": [],
        "outputInitially": false,
        "stateType": "num",
        "enableInput": true,
        "exposeToHomeAssistant": false,
        "haConfig": [
            {
                "property": "name",
                "value": ""
            },
            {
                "property": "icon",
                "value": ""
            }
        ],
        "x": 120,
        "y": 160,
        "wires": [
            [
                "bcdcd79d.345708"
            ],
            []
        ]
    },
    {
        "id": "f2f5e3d5cd8dec8d",
        "type": "ha-binary-sensor",
        "z": "72ef82b8.9d086c",
        "name": "tumble_dryer",
        "entityConfig": "2c5f48cef312ec68",
        "version": 0,
        "state": "payload",
        "stateType": "msg",
        "attributes": [],
        "inputOverride": "allow",
        "outputProperties": [],
        "x": 1010,
        "y": 160,
        "wires": [
            [
                "e78c18ee.1eb558"
            ]
        ]
    },
    {
        "id": "bcdcd79d.345708",
        "type": "stoptimer",
        "z": "72ef82b8.9d086c",
        "duration": "15",
        "units": "Second",
        "payloadtype": "num",
        "payloadval": "0",
        "name": "",
        "x": 330,
        "y": 160,
        "wires": [
            [
                "6bda6302.ca5bcc"
            ],
            []
        ]
    },
    {
        "id": "0174447baafb1dab",
        "type": "template",
        "z": "c23003c7.1c978",
        "g": "f2123713074fa557",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "aa6339118c6cf238"
            ]
        ]
    },
    {
        "id": "aa6339118c6cf238",
        "type": "link out",
        "z": "c23003c7.1c978",
        "g": "f2123713074fa557",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 475,
        "y": 80,
        "wires": []
    },
    {
        "id": "06bc5fe464e9132d",
        "type": "template",
        "z": "c23003c7.1c978",
        "g": "f2123713074fa557",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "0174447baafb1dab"
            ]
        ]
    },
    {
        "id": "3eba4ba84e7b67ae",
        "type": "catch",
        "z": "c23003c7.1c978",
        "g": "f2123713074fa557",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "06bc5fe464e9132d"
            ]
        ]
    },
    {
        "id": "96e077260be2f7fb",
        "type": "template",
        "z": "c23003c7.1c978",
        "g": "283f88d61789c306",
        "name": "icon",
        "field": "notify.icon",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "",
        "output": "str",
        "x": 1990,
        "y": 180,
        "wires": [
            [
                "beedc605a0a3cbac"
            ]
        ]
    },
    {
        "id": "d93bd58ac5ac0363",
        "type": "template",
        "z": "c23003c7.1c978",
        "g": "283f88d61789c306",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Wasmachine",
        "output": "str",
        "x": 1990,
        "y": 140,
        "wires": [
            [
                "beedc605a0a3cbac"
            ]
        ]
    },
    {
        "id": "1e0f934a3493b12f",
        "type": "link out",
        "z": "c23003c7.1c978",
        "g": "283f88d61789c306",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "8ed3b0974336e55b",
            "aeee8468f3d1b7ad",
            "c4660dc11fb0e5b8"
        ],
        "x": 2285,
        "y": 200,
        "wires": []
    },
    {
        "id": "beedc605a0a3cbac",
        "type": "join",
        "z": "c23003c7.1c978",
        "g": "283f88d61789c306",
        "name": "",
        "mode": "custom",
        "build": "merged",
        "property": "notify",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": false,
        "timeout": "",
        "count": "4",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 2190,
        "y": 200,
        "wires": [
            [
                "1e0f934a3493b12f"
            ]
        ]
    },
    {
        "id": "61f9d42e4c070321",
        "type": "template",
        "z": "c23003c7.1c978",
        "g": "283f88d61789c306",
        "name": "notification id",
        "field": "notify.notification_id",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "washing_machine",
        "output": "str",
        "x": 2010,
        "y": 220,
        "wires": [
            [
                "beedc605a0a3cbac"
            ]
        ]
    },
    {
        "id": "96679db36a4a3636",
        "type": "template",
        "z": "c23003c7.1c978",
        "g": "283f88d61789c306",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "De wasmachine is klaar.",
        "output": "str",
        "x": 2000,
        "y": 260,
        "wires": [
            [
                "beedc605a0a3cbac"
            ]
        ]
    },
    {
        "id": "3e4cd67e.efae1a",
        "type": "switch",
        "z": "c23003c7.1c978",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "gt",
                "v": "15",
                "vt": "num"
            },
            {
                "t": "lte",
                "v": "3.9",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 550,
        "y": 180,
        "wires": [
            [
                "487d5ed4.e5e61"
            ],
            [
                "f052ae0fcfc5b3e8"
            ]
        ]
    },
    {
        "id": "8de0025c.f9ce2",
        "type": "comment",
        "z": "c23003c7.1c978",
        "name": "Set washing machine binary sensor on or off based on power measurements",
        "info": "",
        "x": 290,
        "y": 20,
        "wires": []
    },
    {
        "id": "4bbf608.80d0ca",
        "type": "change",
        "z": "c23003c7.1c978",
        "name": "payload on",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "on",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1270,
        "y": 160,
        "wires": [
            [
                "84dfbc214d4e3a8d"
            ]
        ]
    },
    {
        "id": "26d18854.3c6808",
        "type": "change",
        "z": "c23003c7.1c978",
        "name": "payload off",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "off",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1270,
        "y": 260,
        "wires": [
            [
                "84dfbc214d4e3a8d"
            ]
        ]
    },
    {
        "id": "48fe7380.0c049c",
        "type": "switch",
        "z": "c23003c7.1c978",
        "name": "pass if payload is off",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "off",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1720,
        "y": 160,
        "wires": [
            [
                "2191e2bfc331009c"
            ]
        ]
    },
    {
        "id": "487d5ed4.e5e61",
        "type": "api-current-state",
        "z": "c23003c7.1c978",
        "name": "state is off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "binary_sensor.washing_machine",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 710,
        "y": 160,
        "wires": [
            [
                "4bbf608.80d0ca"
            ],
            [
                "e0ef5bfc28c69231"
            ]
        ]
    },
    {
        "id": "bf29d7a3.4b42e8",
        "type": "api-current-state",
        "z": "c23003c7.1c978",
        "name": "state is not off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is_not",
        "entity_id": "binary_sensor.washing_machine",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 1100,
        "y": 260,
        "wires": [
            [
                "26d18854.3c6808"
            ],
            []
        ]
    },
    {
        "id": "9def52c1.f5b5a",
        "type": "trigger-state",
        "z": "c23003c7.1c978",
        "name": "state washing machine watt",
        "server": "4ba92433.2478cc",
        "version": 5,
        "inputs": 1,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "sensor.shellyplug_washing_machine_power"
            ],
            "substring": [],
            "regex": []
        },
        "debugEnabled": false,
        "constraints": [],
        "customOutputs": [],
        "outputInitially": false,
        "stateType": "num",
        "enableInput": true,
        "exposeToHomeAssistant": false,
        "haConfig": [
            {
                "property": "name",
                "value": ""
            },
            {
                "property": "icon",
                "value": ""
            }
        ],
        "x": 140,
        "y": 160,
        "wires": [
            [
                "ae2c2b92527841d1"
            ],
            []
        ]
    },
    {
        "id": "84dfbc214d4e3a8d",
        "type": "ha-binary-sensor",
        "z": "c23003c7.1c978",
        "name": "sensor washing machine",
        "entityConfig": "bdbe52c.932a5b",
        "version": 0,
        "state": "payload",
        "stateType": "msg",
        "attributes": [],
        "inputOverride": "allow",
        "outputProperties": [],
        "x": 1490,
        "y": 160,
        "wires": [
            [
                "48fe7380.0c049c"
            ]
        ]
    },
    {
        "id": "f052ae0fcfc5b3e8",
        "type": "traffic",
        "z": "c23003c7.1c978",
        "name": "",
        "property_allow": "payload",
        "filter_allow": "pass",
        "ignore_case_allow": false,
        "negate_allow": false,
        "send_allow": false,
        "property_stop": "payload",
        "filter_stop": "deny",
        "ignore_case_stop": false,
        "negate_stop": false,
        "send_stop": false,
        "default_start": false,
        "differ": false,
        "x": 710,
        "y": 260,
        "wires": [
            [
                "bf29d7a3.4b42e8"
            ]
        ]
    },
    {
        "id": "e0ef5bfc28c69231",
        "type": "trigger",
        "z": "c23003c7.1c978",
        "name": "",
        "op1": "deny",
        "op2": "pass",
        "op1type": "str",
        "op2type": "str",
        "duration": "20",
        "extend": false,
        "overrideDelay": false,
        "units": "s",
        "reset": "",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 910,
        "y": 200,
        "wires": [
            [
                "f052ae0fcfc5b3e8"
            ]
        ]
    },
    {
        "id": "c02ad5d6c8ebd0cf",
        "type": "inject",
        "z": "c23003c7.1c978",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "20",
        "payloadType": "num",
        "x": 210,
        "y": 220,
        "wires": [
            [
                "3e4cd67e.efae1a"
            ]
        ]
    },
    {
        "id": "db9900ad5f008a46",
        "type": "inject",
        "z": "c23003c7.1c978",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "1",
        "payloadType": "num",
        "x": 210,
        "y": 260,
        "wires": [
            [
                "3e4cd67e.efae1a"
            ]
        ]
    },
    {
        "id": "ae2c2b92527841d1",
        "type": "stoptimer",
        "z": "c23003c7.1c978",
        "duration": "10",
        "units": "Second",
        "payloadtype": "num",
        "payloadval": "0",
        "name": "",
        "x": 370,
        "y": 160,
        "wires": [
            [
                "3e4cd67e.efae1a"
            ],
            []
        ]
    },
    {
        "id": "9d44f246159d8d55",
        "type": "template",
        "z": "51ad1e79edd47f04",
        "g": "954efb6e818259f4",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "31afe4007c8c4380"
            ]
        ]
    },
    {
        "id": "31afe4007c8c4380",
        "type": "link out",
        "z": "51ad1e79edd47f04",
        "g": "954efb6e818259f4",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 475,
        "y": 80,
        "wires": []
    },
    {
        "id": "7d9dd51684fea32b",
        "type": "template",
        "z": "51ad1e79edd47f04",
        "g": "954efb6e818259f4",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "9d44f246159d8d55"
            ]
        ]
    },
    {
        "id": "89f81c01fd297b99",
        "type": "catch",
        "z": "51ad1e79edd47f04",
        "g": "954efb6e818259f4",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "7d9dd51684fea32b"
            ]
        ]
    },
    {
        "id": "d475de4d462cdd95",
        "type": "http request",
        "z": "51ad1e79edd47f04",
        "name": "http request to weeronline.nl",
        "method": "GET",
        "ret": "txt",
        "paytoqs": "ignore",
        "url": "https://www.weeronline.nl/weerbericht-nederland",
        "tls": "",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "",
        "senderr": false,
        "headers": [],
        "x": 460,
        "y": 160,
        "wires": [
            [
                "8c6ea330522a9b56"
            ]
        ]
    },
    {
        "id": "8c6ea330522a9b56",
        "type": "html",
        "z": "51ad1e79edd47f04",
        "name": "",
        "property": "payload",
        "outproperty": "messages",
        "tag": "p,h2",
        "ret": "text",
        "as": "single",
        "x": 650,
        "y": 160,
        "wires": [
            [
                "e067f2c286459268"
            ]
        ]
    },
    {
        "id": "6a944de957019b5d",
        "type": "comment",
        "z": "51ad1e79edd47f04",
        "name": "scrape weeronline.nl and put text in a custom sensor",
        "info": "",
        "x": 210,
        "y": 20,
        "wires": []
    },
    {
        "id": "e067f2c286459268",
        "type": "function",
        "z": "51ad1e79edd47f04",
        "name": "combine text en titles",
        "func": "// The provided JSON array\nlet jsonArray = msg.messages\n\n// Function to count words\n/**\n* @param {string} s\n*/\nfunction countWords(s) {\n    return s.split(/\\s+/).length;\n}\n\n// Processing the JSON array\nlet resultArray = [];\nlet title = null;\nlet text = \"\";\n\nfor (let i = 0; i < jsonArray.length; i++) {\n    let item = jsonArray[i];\n    if (countWords(item) < 10) {\n        if (title) {\n            resultArray.push(title);\n            if (text) {\n                resultArray.push(text.trim());\n                text = \"\";\n            }\n        }\n        title = item;\n    } else {\n        text += item + \" \";\n    }\n}\n\n// If there is a dangling title or text\nif (title) {\n    resultArray.push(title);\n    if (text) {\n        resultArray.push(text.trim());\n    }\n}\n\nmsg.messages = resultArray;\nreturn msg;\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 820,
        "y": 160,
        "wires": [
            [
                "515e9f714ecc6ca1"
            ]
        ]
    },
    {
        "id": "515e9f714ecc6ca1",
        "type": "function",
        "z": "51ad1e79edd47f04",
        "name": "create short message",
        "func": "var text = msg.messages[1];\nvar maxLength = 157;\nvar suffix = \"...\";\n\nif (text.length > maxLength) {\n    msg.messages_short = text.substring(0, maxLength - suffix.length) + suffix;\n} else {\n    msg.messages_short = text;\n}\n\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1040,
        "y": 160,
        "wires": [
            [
                "8c926842f5902705"
            ]
        ]
    },
    {
        "id": "79caca1b2ef5e576",
        "type": "cronplus",
        "z": "51ad1e79edd47f04",
        "name": "",
        "outputField": "payload",
        "timeZone": "",
        "storeName": "",
        "commandResponseMsgOutput": "output1",
        "defaultLocation": "",
        "defaultLocationType": "default",
        "outputs": 1,
        "options": [
            {
                "name": "schedule1",
                "topic": "topic1",
                "payloadType": "default",
                "payload": "",
                "expressionType": "cron",
                "expression": "0 */15 * * * *",
                "location": "",
                "offset": "0",
                "solarType": "all",
                "solarEvents": "sunrise,sunset"
            }
        ],
        "x": 100,
        "y": 160,
        "wires": [
            [
                "7a932d0e4a844f60"
            ]
        ]
    },
    {
        "id": "8c926842f5902705",
        "type": "ha-sensor",
        "z": "51ad1e79edd47f04",
        "name": "custom_weather_description_01",
        "entityConfig": "dd558d37ebd87d72",
        "version": 0,
        "state": "responseUrl",
        "stateType": "msg",
        "attributes": [
            {
                "property": "header_01",
                "value": "messages[0]",
                "valueType": "msg"
            },
            {
                "property": "msg_01",
                "value": "messages[1]",
                "valueType": "msg"
            },
            {
                "property": "header_02",
                "value": "messages[2]",
                "valueType": "msg"
            },
            {
                "property": "msg_02",
                "value": "messages[3]",
                "valueType": "msg"
            },
            {
                "property": "header_03",
                "value": "messages[4]",
                "valueType": "msg"
            },
            {
                "property": "msg_03",
                "value": "messages[5]",
                "valueType": "msg"
            },
            {
                "property": "header_04",
                "value": "messages[6]",
                "valueType": "msg"
            },
            {
                "property": "msg_04",
                "value": "messages[7]",
                "valueType": "msg"
            },
            {
                "property": "header_05",
                "value": "messages[8]",
                "valueType": "msg"
            },
            {
                "property": "msg_05",
                "value": "messages[9]",
                "valueType": "msg"
            },
            {
                "property": "time",
                "value": "mytime",
                "valueType": "msg"
            },
            {
                "property": "msg_01_short",
                "value": "messages_short",
                "valueType": "msg"
            }
        ],
        "inputOverride": "allow",
        "outputProperties": [],
        "x": 1290,
        "y": 160,
        "wires": [
            []
        ]
    },
    {
        "id": "7a932d0e4a844f60",
        "type": "simpletime",
        "z": "51ad1e79edd47f04",
        "name": "",
        "mydate": false,
        "myymd": false,
        "myyear": false,
        "mymonth": false,
        "mymonthn": false,
        "mymonthf": false,
        "mydom": false,
        "mydoy": false,
        "myday": false,
        "mydayf": false,
        "myhourpm": false,
        "myhour": false,
        "mytime": true,
        "mytimes": false,
        "myminute": false,
        "myminutes": false,
        "mysecond": false,
        "mymillis": false,
        "myepoch": false,
        "myrawdate": false,
        "mypm": false,
        "x": 250,
        "y": 160,
        "wires": [
            [
                "d475de4d462cdd95"
            ]
        ]
    },
    {
        "id": "e2179ba6a2c951f5",
        "type": "catch",
        "z": "4a94729fe3d3c081",
        "g": "ec39be6249e7e485",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "eeaaf1e6d4c5ea3a"
            ]
        ]
    },
    {
        "id": "eeaaf1e6d4c5ea3a",
        "type": "template",
        "z": "4a94729fe3d3c081",
        "g": "ec39be6249e7e485",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "fd804489979c3abc"
            ]
        ]
    },
    {
        "id": "13f2b7ca42c4eca2",
        "type": "link out",
        "z": "4a94729fe3d3c081",
        "g": "ec39be6249e7e485",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 475,
        "y": 80,
        "wires": []
    },
    {
        "id": "fd804489979c3abc",
        "type": "template",
        "z": "4a94729fe3d3c081",
        "g": "ec39be6249e7e485",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "13f2b7ca42c4eca2"
            ]
        ]
    },
    {
        "id": "662e76370490dc0d",
        "type": "comment",
        "z": "4a94729fe3d3c081",
        "name": "Converts energy returned Kw to Watt",
        "info": "",
        "x": 160,
        "y": 20,
        "wires": []
    },
    {
        "id": "88264dd1471d41ef",
        "type": "server-state-changed",
        "z": "4a94729fe3d3c081",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 1,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "sensor.dsmr_reading_electricity_currently_returned"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": true,
        "stateType": "str",
        "ifState": "",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": false,
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 260,
        "y": 160,
        "wires": [
            [
                "24e4ae1eb1bf31d2"
            ]
        ]
    },
    {
        "id": "24e4ae1eb1bf31d2",
        "type": "function",
        "z": "4a94729fe3d3c081",
        "name": "Kw to Watt",
        "func": "msg.payload = msg.payload * 1000\n\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 590,
        "y": 160,
        "wires": [
            [
                "036eac9f38483b4b"
            ]
        ]
    },
    {
        "id": "036eac9f38483b4b",
        "type": "ha-sensor",
        "z": "4a94729fe3d3c081",
        "name": "custom_energy_returned_watt",
        "entityConfig": "8db70a2720a60b47",
        "version": 0,
        "state": "payload",
        "stateType": "msg",
        "attributes": [],
        "inputOverride": "allow",
        "outputProperties": [],
        "x": 810,
        "y": 160,
        "wires": [
            []
        ]
    },
    {
        "id": "425ff5a87f8cb443",
        "type": "ha-get-entities",
        "z": "f561ea7fc21ca9ae",
        "name": "lookup excluded sleepmode lights",
        "server": "4ba92433.2478cc",
        "version": 1,
        "rules": [
            {
                "condition": "state_object",
                "property": "entity_id",
                "logic": "in_group",
                "value": "group.sleepmode_excluded_lights",
                "valueType": "str"
            }
        ],
        "outputType": "split",
        "outputEmptyResults": false,
        "outputLocationType": "msg",
        "outputLocation": "excluded_lights",
        "outputResultsCount": 1,
        "x": 820,
        "y": 160,
        "wires": [
            [
                "bb50909934e6570e"
            ]
        ]
    },
    {
        "id": "3a98299503caf9df",
        "type": "switch",
        "z": "f561ea7fc21ca9ae",
        "name": "",
        "property": "payload.entity_id",
        "propertyType": "msg",
        "rules": [
            {
                "t": "cont",
                "v": "lights.entity_id",
                "vt": "msg"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1150,
        "y": 160,
        "wires": [
            [],
            [
                "235e9df273240d1f"
            ]
        ],
        "info": "Pass lights that is not in the excluded lights list thru otherwise"
    },
    {
        "id": "a071d767e756b024",
        "type": "ha-get-entities",
        "z": "f561ea7fc21ca9ae",
        "name": "lookup lights on",
        "server": "4ba92433.2478cc",
        "version": 1,
        "rules": [
            {
                "condition": "state_object",
                "property": "entity_id",
                "logic": "starts_with",
                "value": "light.",
                "valueType": "str"
            },
            {
                "condition": "state_object",
                "property": "state",
                "logic": "is",
                "value": "on",
                "valueType": "str"
            }
        ],
        "outputType": "split",
        "outputEmptyResults": false,
        "outputLocationType": "msg",
        "outputLocation": "included_lights",
        "outputResultsCount": 1,
        "x": 380,
        "y": 160,
        "wires": [
            [
                "b834d2538a993e0b"
            ]
        ]
    },
    {
        "id": "bb50909934e6570e",
        "type": "join",
        "z": "f561ea7fc21ca9ae",
        "name": "",
        "mode": "custom",
        "build": "string",
        "property": "payload.entity_id",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "useparts": true,
        "accumulate": false,
        "timeout": "",
        "count": "",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 1030,
        "y": 160,
        "wires": [
            [
                "3a98299503caf9df"
            ]
        ]
    },
    {
        "id": "b834d2538a993e0b",
        "type": "change",
        "z": "f561ea7fc21ca9ae",
        "name": "",
        "rules": [
            {
                "t": "move",
                "p": "payload",
                "pt": "msg",
                "to": "lights",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 570,
        "y": 160,
        "wires": [
            [
                "425ff5a87f8cb443"
            ]
        ]
    },
    {
        "id": "235e9df273240d1f",
        "type": "api-call-service",
        "z": "f561ea7fc21ca9ae",
        "name": "turn off lights",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "{{lights.entity_id}}"
        ],
        "labelId": [],
        "data": "{\"transition\":5000}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "light",
        "service": "turn_off",
        "x": 1290,
        "y": 160,
        "wires": [
            []
        ]
    },
    {
        "id": "9dbb2d10b801b67d",
        "type": "link in",
        "z": "f561ea7fc21ca9ae",
        "name": "in",
        "links": [
            "45b585ed12457e30"
        ],
        "x": 265,
        "y": 160,
        "wires": [
            [
                "a071d767e756b024"
            ]
        ]
    },
    {
        "id": "e6674374ecfdefa0",
        "type": "comment",
        "z": "078d23a542369ebe",
        "name": "turn off tv screen to save energy and to prevent pixel burn in",
        "info": "",
        "x": 240,
        "y": 20,
        "wires": []
    },
    {
        "id": "d317e6cc7959e416",
        "type": "catch",
        "z": "078d23a542369ebe",
        "g": "44cefb5f26188041",
        "name": "",
        "scope": [
            "3905cfef0361c276",
            "c054e6f474b4191e",
            "9dd84bc036be6c85",
            "daac1efc716c9aa2",
            "7ee0608b0362347d",
            "462935c54d978b2f",
            "c63b94a1bcddb5f9"
        ],
        "uncaught": false,
        "x": 90,
        "y": 80,
        "wires": [
            [
                "88c1a811021d7eea"
            ]
        ]
    },
    {
        "id": "88c1a811021d7eea",
        "type": "template",
        "z": "078d23a542369ebe",
        "g": "44cefb5f26188041",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "dde28f1596230670"
            ]
        ]
    },
    {
        "id": "561b7fd51536b6e7",
        "type": "link out",
        "z": "078d23a542369ebe",
        "g": "44cefb5f26188041",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 675,
        "y": 80,
        "wires": []
    },
    {
        "id": "dde28f1596230670",
        "type": "template",
        "z": "078d23a542369ebe",
        "g": "44cefb5f26188041",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "d5bc790570bccf86"
            ]
        ]
    },
    {
        "id": "d5bc790570bccf86",
        "type": "function",
        "z": "078d23a542369ebe",
        "g": "44cefb5f26188041",
        "name": "notify.notification_id",
        "func": "msg.notify.notification_id = env.get(\"NR_FLOW_ID\");\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 550,
        "y": 80,
        "wires": [
            [
                "561b7fd51536b6e7"
            ]
        ]
    },
    {
        "id": "75b84d8bf5e2faeb",
        "type": "api-call-service",
        "z": "078d23a542369ebe",
        "name": "tvscreen turn on",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "webostv.command",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [],
        "labelId": [],
        "data": "{\"entity_id\":\"media_player.lg_webos_smart_tv\",\"command\":\"com.webos.service.tvpower/power/turnOnScreen\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "webostv",
        "service": "command",
        "x": 860,
        "y": 180,
        "wires": [
            []
        ]
    },
    {
        "id": "7ee0608b0362347d",
        "type": "api-call-service",
        "z": "078d23a542369ebe",
        "name": "current tv state",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "webostv.command",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [],
        "labelId": [],
        "data": "{\"entity_id\":\"media_player.lg_webos_smart_tv\",\"command\":\"com.webos.service.tvpower/power/getPowerState\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [
            {
                "property": "state",
                "propertyType": "msg",
                "value": "",
                "valueType": "results"
            }
        ],
        "queue": "none",
        "blockInputOverrides": true,
        "domain": "webostv",
        "service": "command",
        "x": 560,
        "y": 180,
        "wires": [
            [
                "3905cfef0361c276"
            ]
        ]
    },
    {
        "id": "3905cfef0361c276",
        "type": "switch",
        "z": "078d23a542369ebe",
        "name": "",
        "property": "state[\"media_player.lg_webos_smart_tv\"].state",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "Screen Off",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 710,
        "y": 180,
        "wires": [
            [
                "75b84d8bf5e2faeb"
            ]
        ]
    },
    {
        "id": "dec99c0ab95cf46a",
        "type": "link in",
        "z": "078d23a542369ebe",
        "name": "on",
        "links": [
            "cc95177ff7dd19c7",
            "9bfa5f87424a529d"
        ],
        "x": 305,
        "y": 180,
        "wires": [
            [
                "c63b94a1bcddb5f9"
            ]
        ]
    },
    {
        "id": "1e4e8287439e54f1",
        "type": "link in",
        "z": "078d23a542369ebe",
        "name": "off",
        "links": [
            "058b6bfd406a2ad0"
        ],
        "x": 305,
        "y": 240,
        "wires": [
            [
                "462935c54d978b2f"
            ]
        ]
    },
    {
        "id": "daac1efc716c9aa2",
        "type": "api-call-service",
        "z": "078d23a542369ebe",
        "name": "current tv state",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "webostv.command",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [],
        "labelId": [],
        "data": "{\"entity_id\":\"media_player.lg_webos_smart_tv\",\"command\":\"com.webos.service.tvpower/power/getPowerState\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [
            {
                "property": "state",
                "propertyType": "msg",
                "value": "",
                "valueType": "results"
            }
        ],
        "queue": "none",
        "blockInputOverrides": true,
        "domain": "webostv",
        "service": "command",
        "x": 560,
        "y": 240,
        "wires": [
            [
                "9dd84bc036be6c85"
            ]
        ]
    },
    {
        "id": "9dd84bc036be6c85",
        "type": "switch",
        "z": "078d23a542369ebe",
        "name": "",
        "property": "state[\"media_player.lg_webos_smart_tv\"].state",
        "propertyType": "msg",
        "rules": [
            {
                "t": "neq",
                "v": "Screen Off",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 710,
        "y": 240,
        "wires": [
            [
                "c054e6f474b4191e"
            ]
        ]
    },
    {
        "id": "c054e6f474b4191e",
        "type": "api-call-service",
        "z": "078d23a542369ebe",
        "name": "tvscreen turn off",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "webostv.command",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [],
        "labelId": [],
        "data": "{\"entity_id\":\"media_player.lg_webos_smart_tv\",\"command\":\"com.webos.service.tvpower/power/turnOffScreen\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "webostv",
        "service": "command",
        "x": 860,
        "y": 240,
        "wires": [
            []
        ]
    },
    {
        "id": "c63b94a1bcddb5f9",
        "type": "api-current-state",
        "z": "078d23a542369ebe",
        "name": "tv is on",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "media_player.lg_webos_smart_tv",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 400,
        "y": 180,
        "wires": [
            [
                "7ee0608b0362347d"
            ],
            []
        ]
    },
    {
        "id": "462935c54d978b2f",
        "type": "api-current-state",
        "z": "078d23a542369ebe",
        "name": "tv is on",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "media_player.lg_webos_smart_tv",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 400,
        "y": 240,
        "wires": [
            [
                "daac1efc716c9aa2"
            ],
            []
        ]
    },
    {
        "id": "8953f6790989fa4a",
        "type": "comment",
        "z": "5c92a1135257c28d",
        "name": "Send notification when a door is open while no one is home",
        "info": "",
        "x": 230,
        "y": 20,
        "wires": []
    },
    {
        "id": "2067a42351603d62",
        "type": "server-state-changed",
        "z": "5c92a1135257c28d",
        "name": "persons not home",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "group.persons"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": false,
        "stateType": "str",
        "ifState": "not_home",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 110,
        "y": 160,
        "wires": [
            [
                "9ddd513fa28990bb"
            ],
            []
        ]
    },
    {
        "id": "9ddd513fa28990bb",
        "type": "api-current-state",
        "z": "5c92a1135257c28d",
        "name": "guest mode is off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.guest",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 310,
        "y": 160,
        "wires": [
            [
                "37a1fa6891b30901"
            ],
            []
        ]
    },
    {
        "id": "37a1fa6891b30901",
        "type": "ha-get-entities",
        "z": "5c92a1135257c28d",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 1,
        "rules": [
            {
                "condition": "state_object",
                "property": "entity_id",
                "logic": "in_group",
                "value": "group.exterior_doors",
                "valueType": "str"
            },
            {
                "condition": "state_object",
                "property": "state",
                "logic": "is",
                "value": "on",
                "valueType": "str"
            }
        ],
        "outputType": "split",
        "outputEmptyResults": false,
        "outputLocationType": "msg",
        "outputLocation": "payload",
        "outputResultsCount": 1,
        "x": 510,
        "y": 160,
        "wires": [
            [
                "e46f1e0cf547af9a"
            ]
        ]
    },
    {
        "id": "e46f1e0cf547af9a",
        "type": "template",
        "z": "5c92a1135257c28d",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Let op de {{payload.attributes.friendly_name}} staat nog open en niemand is thuis.",
        "output": "str",
        "x": 680,
        "y": 160,
        "wires": [
            [
                "ea1d347257539369"
            ]
        ]
    },
    {
        "id": "a6c263811d9239b5",
        "type": "template",
        "z": "5c92a1135257c28d",
        "g": "9d927f405fd197bc",
        "name": "icon",
        "field": "notify.icon",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "",
        "output": "str",
        "x": 890,
        "y": 140,
        "wires": [
            [
                "4b9a0a6f1713a12a"
            ]
        ]
    },
    {
        "id": "420b0d2cf8014bfe",
        "type": "template",
        "z": "5c92a1135257c28d",
        "g": "9d927f405fd197bc",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Deur",
        "output": "str",
        "x": 890,
        "y": 100,
        "wires": [
            [
                "4b9a0a6f1713a12a"
            ]
        ]
    },
    {
        "id": "7a732e9184d0afcf",
        "type": "link out",
        "z": "5c92a1135257c28d",
        "g": "9d927f405fd197bc",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "8ed3b0974336e55b",
            "a97f87cfab413716",
            "aeee8468f3d1b7ad"
        ],
        "x": 1165,
        "y": 140,
        "wires": []
    },
    {
        "id": "4b9a0a6f1713a12a",
        "type": "join",
        "z": "5c92a1135257c28d",
        "g": "9d927f405fd197bc",
        "name": "",
        "mode": "custom",
        "build": "merged",
        "property": "notify",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "useparts": true,
        "accumulate": false,
        "timeout": "",
        "count": "5",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 1070,
        "y": 140,
        "wires": [
            [
                "7a732e9184d0afcf"
            ]
        ]
    },
    {
        "id": "b553c9f2abb4bdc0",
        "type": "template",
        "z": "5c92a1135257c28d",
        "g": "9d927f405fd197bc",
        "name": "notification id",
        "field": "notify.notification_id",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "deur",
        "output": "str",
        "x": 910,
        "y": 180,
        "wires": [
            [
                "4b9a0a6f1713a12a"
            ]
        ]
    },
    {
        "id": "f8bd1ef936e71fbf",
        "type": "template",
        "z": "5c92a1135257c28d",
        "g": "9d927f405fd197bc",
        "name": "tag",
        "field": "notify.tag",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "deur",
        "output": "str",
        "x": 890,
        "y": 220,
        "wires": [
            [
                "4b9a0a6f1713a12a"
            ]
        ]
    },
    {
        "id": "3685f3d759ad2aa1",
        "type": "catch",
        "z": "5c92a1135257c28d",
        "g": "c9eb921486128606",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "38c87329321ca5f4"
            ]
        ]
    },
    {
        "id": "38c87329321ca5f4",
        "type": "template",
        "z": "5c92a1135257c28d",
        "g": "c9eb921486128606",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "df859aeb022a54e3"
            ]
        ]
    },
    {
        "id": "7b8a53cdff17b707",
        "type": "link out",
        "z": "5c92a1135257c28d",
        "g": "c9eb921486128606",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 475,
        "y": 80,
        "wires": []
    },
    {
        "id": "df859aeb022a54e3",
        "type": "template",
        "z": "5c92a1135257c28d",
        "g": "c9eb921486128606",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "7b8a53cdff17b707"
            ]
        ]
    },
    {
        "id": "469b51b1e98313e4",
        "type": "api-current-state",
        "z": "5c92a1135257c28d",
        "name": "persons not home",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "not_home",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "group.persons",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 310,
        "y": 220,
        "wires": [
            [
                "37a1fa6891b30901"
            ],
            []
        ]
    },
    {
        "id": "0a6ec0937b59c0ab",
        "type": "server-state-changed",
        "z": "5c92a1135257c28d",
        "name": "guest mode is off",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "input_boolean.guest"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": false,
        "stateType": "str",
        "ifState": "off",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 100,
        "y": 220,
        "wires": [
            [
                "469b51b1e98313e4"
            ],
            []
        ]
    },
    {
        "id": "efdd9775da43ade3",
        "type": "comment",
        "z": "fb7b362cbc47e439",
        "name": "Flow that send a notification with a snapshot when a person is detected",
        "info": "",
        "x": 270,
        "y": 20,
        "wires": []
    },
    {
        "id": "0253bf8368a2a006",
        "type": "api-call-service",
        "z": "fb7b362cbc47e439",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [],
        "labelId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "notify",
        "service": "mobile_app_phone_coen",
        "x": 1810,
        "y": 280,
        "wires": [
            []
        ]
    },
    {
        "id": "16c5bd0f3d99db2d",
        "type": "api-current-state",
        "z": "fb7b362cbc47e439",
        "name": "anne is not home",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "not_home",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "person.anne",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 1210,
        "y": 220,
        "wires": [
            [
                "5716e29154cbec1a"
            ],
            []
        ]
    },
    {
        "id": "f1250cf8ec5171f3",
        "type": "time-range-switch",
        "z": "fb7b362cbc47e439",
        "name": "",
        "lat": "",
        "lon": "",
        "startTime": "08:30",
        "endTime": "17:30",
        "startOffset": 0,
        "endOffset": 0,
        "x": 1030,
        "y": 220,
        "wires": [
            [
                "16c5bd0f3d99db2d"
            ],
            []
        ]
    },
    {
        "id": "5716e29154cbec1a",
        "type": "api-current-state",
        "z": "fb7b362cbc47e439",
        "name": "agenda coen anne events",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 1,
        "halt_if": "",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "calendar.coen_anne",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 1430,
        "y": 220,
        "wires": [
            [
                "dcd990cab15ab7f4"
            ]
        ]
    },
    {
        "id": "dcd990cab15ab7f4",
        "type": "switch",
        "z": "fb7b362cbc47e439",
        "name": "coen vrij",
        "property": "data.attributes.message",
        "propertyType": "msg",
        "rules": [
            {
                "t": "cont",
                "v": "Coen vrij",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1620,
        "y": 220,
        "wires": [
            [
                "0253bf8368a2a006"
            ]
        ]
    },
    {
        "id": "b8492bcc4206692b",
        "type": "api-current-state",
        "z": "fb7b362cbc47e439",
        "name": "guest mode is off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.guest",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 650,
        "y": 160,
        "wires": [
            [
                "77b49b23838983fa",
                "c035f059625386a1"
            ],
            []
        ]
    },
    {
        "id": "77b49b23838983fa",
        "type": "api-current-state",
        "z": "fb7b362cbc47e439",
        "name": "persons not home",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "not_home",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "group.persons",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 870,
        "y": 160,
        "wires": [
            [
                "610847102bcc29a9"
            ],
            []
        ]
    },
    {
        "id": "c035f059625386a1",
        "type": "api-current-state",
        "z": "fb7b362cbc47e439",
        "name": "workday is on",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "binary_sensor.workday_sensor",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 860,
        "y": 220,
        "wires": [
            [
                "f1250cf8ec5171f3"
            ],
            []
        ]
    },
    {
        "id": "e3d6e50eb16c2922",
        "type": "api-current-state",
        "z": "fb7b362cbc47e439",
        "name": "security is on",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.home_security",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 630,
        "y": 280,
        "wires": [
            [
                "0253bf8368a2a006"
            ],
            []
        ]
    },
    {
        "id": "ad94f6ee3b085ef4",
        "type": "function",
        "z": "fb7b362cbc47e439",
        "name": "create service call",
        "func": "msg.payload = {\n    \"action\": \"notify.mobile_app_phone_coen\",\n    \"data\": {\n        \"message\": \"Er is een persoon in de achtertuin gedetecteerd\",\n        \"data\": {\n            \"image\": \"https://home-assistant.stamx.nl/api/frigate/notifications/\" + msg.payload.after.id + \"/thumbnail.jpg?format=android\",\n            \"tag\": msg.payload.after.id,\n            \"when\": msg.payload.after.start_time,\n            \"clickAction\": \"/dashboard-mobile/camera\",\n            \"channel\": \"Warning\",\n            \"importance\": \"high\"\n        }\n    }\n};\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 450,
        "y": 160,
        "wires": [
            [
                "b8492bcc4206692b",
                "e3d6e50eb16c2922"
            ]
        ]
    },
    {
        "id": "218274abd301e16a",
        "type": "catch",
        "z": "fb7b362cbc47e439",
        "g": "eceb4d513b2ed0a7",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "54b23fbb217cce7a"
            ]
        ]
    },
    {
        "id": "54b23fbb217cce7a",
        "type": "template",
        "z": "fb7b362cbc47e439",
        "g": "eceb4d513b2ed0a7",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "f2eeb4cd5981b12d"
            ]
        ]
    },
    {
        "id": "3bacd8ed5d0dccd2",
        "type": "link out",
        "z": "fb7b362cbc47e439",
        "g": "eceb4d513b2ed0a7",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 475,
        "y": 80,
        "wires": []
    },
    {
        "id": "f2eeb4cd5981b12d",
        "type": "template",
        "z": "fb7b362cbc47e439",
        "g": "eceb4d513b2ed0a7",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "3bacd8ed5d0dccd2"
            ]
        ]
    },
    {
        "id": "4bcb30df9a681943",
        "type": "link in",
        "z": "fb7b362cbc47e439",
        "name": "link in 1",
        "links": [
            "56356fe965332f8d"
        ],
        "x": 305,
        "y": 160,
        "wires": [
            [
                "ad94f6ee3b085ef4"
            ]
        ]
    },
    {
        "id": "954ad4f4b59286e0",
        "type": "comment",
        "z": "3637eeb0.d96232",
        "name": "scene that turn on the frontdoor light for 5 minutes and then it turns it off",
        "info": "",
        "x": 270,
        "y": 20,
        "wires": []
    },
    {
        "id": "c3f4b74d.a01278",
        "type": "api-call-service",
        "z": "3637eeb0.d96232",
        "name": "turn on light front door",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "light.shelly1_front_door"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "light",
        "service": "turn_on",
        "x": 860,
        "y": 160,
        "wires": [
            [
                "f39e3558.7e0a48"
            ]
        ]
    },
    {
        "id": "4566a0c1.1b69e",
        "type": "api-call-service",
        "z": "3637eeb0.d96232",
        "name": "turn off light front door",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "light.shelly1_front_door"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "light",
        "service": "turn_off",
        "x": 1260,
        "y": 160,
        "wires": [
            []
        ]
    },
    {
        "id": "11f67152.16638f",
        "type": "api-current-state",
        "z": "3637eeb0.d96232",
        "name": "state outdoor dark",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "binary_sensor.outdoor_daylight",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 430,
        "y": 160,
        "wires": [
            [
                "d6c8ef4a.6f6e9"
            ],
            []
        ]
    },
    {
        "id": "d6c8ef4a.6f6e9",
        "type": "api-current-state",
        "z": "3637eeb0.d96232",
        "name": "state light front door off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "light.shelly1_front_door",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 640,
        "y": 160,
        "wires": [
            [
                "c3f4b74d.a01278"
            ],
            []
        ]
    },
    {
        "id": "f39e3558.7e0a48",
        "type": "stoptimer",
        "z": "3637eeb0.d96232",
        "duration": "5",
        "units": "Minute",
        "payloadtype": "num",
        "payloadval": "0",
        "name": "",
        "x": 1060,
        "y": 160,
        "wires": [
            [
                "4566a0c1.1b69e"
            ],
            []
        ]
    },
    {
        "id": "9505c871fbc9e9b8",
        "type": "link in",
        "z": "3637eeb0.d96232",
        "name": "scene_turn_on_light_frontdoor_for_5_minutes",
        "links": [
            "3bafb9626527259f"
        ],
        "x": 305,
        "y": 160,
        "wires": [
            [
                "11f67152.16638f"
            ]
        ]
    },
    {
        "id": "ee5cb67ca8cb7ff2",
        "type": "catch",
        "z": "3637eeb0.d96232",
        "g": "203153789ca11182",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "f35249f69b6f1f4f"
            ]
        ]
    },
    {
        "id": "f35249f69b6f1f4f",
        "type": "template",
        "z": "3637eeb0.d96232",
        "g": "203153789ca11182",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "ebd6ce588c2f72ea"
            ]
        ]
    },
    {
        "id": "f0fea4cb11f37357",
        "type": "link out",
        "z": "3637eeb0.d96232",
        "g": "203153789ca11182",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 675,
        "y": 80,
        "wires": []
    },
    {
        "id": "ebd6ce588c2f72ea",
        "type": "template",
        "z": "3637eeb0.d96232",
        "g": "203153789ca11182",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "4dc5988e63dde477"
            ]
        ]
    },
    {
        "id": "4dc5988e63dde477",
        "type": "function",
        "z": "3637eeb0.d96232",
        "g": "203153789ca11182",
        "name": "notify.notification_id",
        "func": "msg.notify.notification_id = env.get(\"NR_FLOW_ID\");\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 550,
        "y": 80,
        "wires": [
            [
                "f0fea4cb11f37357"
            ]
        ]
    },
    {
        "id": "716b959221558033",
        "type": "comment",
        "z": "d9b921e9fd746ad1",
        "name": "scene that send the vacuum to the trash bin",
        "info": "",
        "x": 190,
        "y": 20,
        "wires": []
    },
    {
        "id": "9f18e7092e8b6f9c",
        "type": "catch",
        "z": "d9b921e9fd746ad1",
        "g": "52980cdcae4e3384",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "ee03c06252d3632e"
            ]
        ]
    },
    {
        "id": "ee03c06252d3632e",
        "type": "template",
        "z": "d9b921e9fd746ad1",
        "g": "52980cdcae4e3384",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "9b9ad619917072e8"
            ]
        ]
    },
    {
        "id": "c9f30fc70f2be4fd",
        "type": "link out",
        "z": "d9b921e9fd746ad1",
        "g": "52980cdcae4e3384",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 475,
        "y": 80,
        "wires": []
    },
    {
        "id": "9b9ad619917072e8",
        "type": "template",
        "z": "d9b921e9fd746ad1",
        "g": "52980cdcae4e3384",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "c9f30fc70f2be4fd"
            ]
        ]
    },
    {
        "id": "093ac1f894c6070c",
        "type": "cronplus",
        "z": "d9b921e9fd746ad1",
        "name": "",
        "outputField": "payload",
        "timeZone": "",
        "storeName": "",
        "commandResponseMsgOutput": "output1",
        "defaultLocation": "",
        "defaultLocationType": "default",
        "outputs": 1,
        "options": [
            {
                "name": "schedule1",
                "topic": "topic1",
                "payloadType": "default",
                "payload": "",
                "expressionType": "cron",
                "expression": "0 0 7 * * 1 *",
                "location": "",
                "offset": "0",
                "solarType": "all",
                "solarEvents": "sunrise,sunset"
            }
        ],
        "x": 120,
        "y": 160,
        "wires": [
            [
                "429ec9116b7e06ae"
            ]
        ]
    },
    {
        "id": "429ec9116b7e06ae",
        "type": "api-call-service",
        "z": "d9b921e9fd746ad1",
        "name": "send vacuum to target location",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "vacuum.send_command",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "vacuum.roborock_s6_pure"
        ],
        "labelId": [],
        "data": "{\"command\":\"app_goto_target\",\"params\":[20433,24523]}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": true,
        "domain": "vacuum",
        "service": "send_command",
        "x": 450,
        "y": 160,
        "wires": [
            []
        ]
    },
    {
        "id": "42ddeb921e7ac3ac",
        "type": "comment",
        "z": "2a2d89771193fb8b",
        "name": "request location update when door is open",
        "info": "",
        "x": 180,
        "y": 20,
        "wires": []
    },
    {
        "id": "249f5902cd409334",
        "type": "api-call-service",
        "z": "2a2d89771193fb8b",
        "name": "notify phone coen",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "notify.mobile_app_phone_coen",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [],
        "labelId": [],
        "data": "{\"message\":\"request_location_update\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "notify",
        "service": "mobile_app_phone_coen",
        "x": 450,
        "y": 180,
        "wires": [
            []
        ]
    },
    {
        "id": "21f329f381fe5581",
        "type": "api-call-service",
        "z": "2a2d89771193fb8b",
        "name": "notify phone anne",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "notify.mobile_app_phone_anne",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [],
        "labelId": [],
        "data": "{\"message\":\"request_location_update\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "notify",
        "service": "mobile_app_phone_anne",
        "x": 450,
        "y": 240,
        "wires": [
            []
        ]
    },
    {
        "id": "a852520ede8524df",
        "type": "catch",
        "z": "2a2d89771193fb8b",
        "g": "075f4d9b063c9dbd",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "c066170d3d0fe3c7"
            ]
        ]
    },
    {
        "id": "c066170d3d0fe3c7",
        "type": "template",
        "z": "2a2d89771193fb8b",
        "g": "075f4d9b063c9dbd",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "3a79dff06163c162"
            ]
        ]
    },
    {
        "id": "71c8efae8c1d420b",
        "type": "link out",
        "z": "2a2d89771193fb8b",
        "g": "075f4d9b063c9dbd",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 475,
        "y": 80,
        "wires": []
    },
    {
        "id": "3a79dff06163c162",
        "type": "template",
        "z": "2a2d89771193fb8b",
        "g": "075f4d9b063c9dbd",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "71c8efae8c1d420b"
            ]
        ]
    },
    {
        "id": "0f4705c752f90b8b",
        "type": "link in",
        "z": "2a2d89771193fb8b",
        "name": "scene_request_location_update",
        "links": [
            "13f87cfee713f150"
        ],
        "x": 305,
        "y": 180,
        "wires": [
            [
                "249f5902cd409334",
                "21f329f381fe5581"
            ]
        ]
    },
    {
        "id": "e9bbe250f97da54f",
        "type": "api-call-service",
        "z": "38e25502d65ef451",
        "name": "turn on climate auto mode",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "climate.set_hvac_mode",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "{{payload.entity_id}}"
        ],
        "labelId": [],
        "data": "{\"hvac_mode\":\"auto\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "climate",
        "service": "set_hvac_mode",
        "x": 690,
        "y": 160,
        "wires": [
            []
        ]
    },
    {
        "id": "1b31334864c907d5",
        "type": "ha-get-entities",
        "z": "38e25502d65ef451",
        "name": "lookup climate is not auto",
        "server": "4ba92433.2478cc",
        "version": 1,
        "rules": [
            {
                "condition": "state_object",
                "property": "entity_id",
                "logic": "starts_with",
                "value": "climate.",
                "valueType": "str"
            },
            {
                "condition": "state_object",
                "property": "state",
                "logic": "is_not",
                "value": "auto",
                "valueType": "str"
            },
            {
                "condition": "state_object",
                "property": "attributes.hvac_modes.2",
                "logic": "is",
                "value": "auto",
                "valueType": "str"
            }
        ],
        "outputType": "split",
        "outputEmptyResults": false,
        "outputLocationType": "msg",
        "outputLocation": "payload",
        "outputResultsCount": 1,
        "x": 450,
        "y": 160,
        "wires": [
            [
                "e9bbe250f97da54f"
            ]
        ]
    },
    {
        "id": "2b49ee2a4ec6eb35",
        "type": "comment",
        "z": "38e25502d65ef451",
        "name": "set climate entities to auto",
        "info": "",
        "x": 130,
        "y": 20,
        "wires": []
    },
    {
        "id": "f728117825efb964",
        "type": "catch",
        "z": "38e25502d65ef451",
        "g": "5638a5eb59070a64",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "629ec08766fb7019"
            ]
        ]
    },
    {
        "id": "629ec08766fb7019",
        "type": "template",
        "z": "38e25502d65ef451",
        "g": "5638a5eb59070a64",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "0693776fea84564e"
            ]
        ]
    },
    {
        "id": "3f111153aba96e14",
        "type": "link out",
        "z": "38e25502d65ef451",
        "g": "5638a5eb59070a64",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 475,
        "y": 80,
        "wires": []
    },
    {
        "id": "0693776fea84564e",
        "type": "template",
        "z": "38e25502d65ef451",
        "g": "5638a5eb59070a64",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "3f111153aba96e14"
            ]
        ]
    },
    {
        "id": "39aaf6c417d6275b",
        "type": "link in",
        "z": "38e25502d65ef451",
        "name": "scene_set_climate_to_auto_mode",
        "links": [
            "c62f6b0d1b183091"
        ],
        "x": 305,
        "y": 160,
        "wires": [
            [
                "1b31334864c907d5"
            ]
        ]
    },
    {
        "id": "c2d33a6abfd24923",
        "type": "api-call-service",
        "z": "f5e87f41e348afa5",
        "name": "turn on guest mode",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "input_boolean.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_boolean.guest"
        ],
        "labelId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "input_boolean",
        "service": "turn_on",
        "x": 590,
        "y": 160,
        "wires": [
            []
        ]
    },
    {
        "id": "0adb679d772d8e29",
        "type": "link in",
        "z": "f5e87f41e348afa5",
        "name": "scene_turn_on_guest_mode",
        "links": [
            "e787939d2bae52df",
            "f3bf4b7d7123292b"
        ],
        "x": 265,
        "y": 160,
        "wires": [
            [
                "94856ca3c5e83f43"
            ]
        ]
    },
    {
        "id": "fab6c5ea01e4f9ce",
        "type": "comment",
        "z": "f5e87f41e348afa5",
        "name": "Turn on guest mode",
        "info": "",
        "x": 110,
        "y": 20,
        "wires": []
    },
    {
        "id": "40b36b069112494c",
        "type": "catch",
        "z": "f5e87f41e348afa5",
        "g": "0c2e33b261c4cf11",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "4fd19d102fa4c95a"
            ]
        ]
    },
    {
        "id": "4fd19d102fa4c95a",
        "type": "template",
        "z": "f5e87f41e348afa5",
        "g": "0c2e33b261c4cf11",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "6f6033d75ad786d8"
            ]
        ]
    },
    {
        "id": "0666b6f65b4515cb",
        "type": "link out",
        "z": "f5e87f41e348afa5",
        "g": "0c2e33b261c4cf11",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 475,
        "y": 80,
        "wires": []
    },
    {
        "id": "6f6033d75ad786d8",
        "type": "template",
        "z": "f5e87f41e348afa5",
        "g": "0c2e33b261c4cf11",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "0666b6f65b4515cb"
            ]
        ]
    },
    {
        "id": "94856ca3c5e83f43",
        "type": "api-current-state",
        "z": "f5e87f41e348afa5",
        "name": "guest mode is off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.guest",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 390,
        "y": 160,
        "wires": [
            [
                "c2d33a6abfd24923"
            ],
            []
        ]
    },
    {
        "id": "a605be5e99e05b97",
        "type": "comment",
        "z": "75dcbba8aec48c92",
        "name": "turn on the door doorbell",
        "info": "",
        "x": 130,
        "y": 20,
        "wires": []
    },
    {
        "id": "94995c95d8594567",
        "type": "api-call-service",
        "z": "75dcbba8aec48c92",
        "name": "turn on doorbell chime",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "switch.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "switch.smart_doorbell_active"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "switch",
        "service": "turn_on",
        "x": 560,
        "y": 160,
        "wires": [
            []
        ]
    },
    {
        "id": "36cd7ff9968a8857",
        "type": "api-current-state",
        "z": "75dcbba8aec48c92",
        "name": "state doorbell off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "switch.smart_doorbell_active",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 360,
        "y": 160,
        "wires": [
            [
                "94995c95d8594567"
            ],
            []
        ]
    },
    {
        "id": "d12914930d09e92c",
        "type": "link in",
        "z": "75dcbba8aec48c92",
        "name": "scene_turn_on_doorbell_chime",
        "links": [
            "dad8fc7416653229"
        ],
        "x": 245,
        "y": 160,
        "wires": [
            [
                "36cd7ff9968a8857"
            ]
        ]
    },
    {
        "id": "48a202fd30defc64",
        "type": "catch",
        "z": "75dcbba8aec48c92",
        "g": "c79d2a2e6bd96fce",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "8a880a89870fd474"
            ]
        ]
    },
    {
        "id": "8a880a89870fd474",
        "type": "template",
        "z": "75dcbba8aec48c92",
        "g": "c79d2a2e6bd96fce",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "df8ba459c8692b8a"
            ]
        ]
    },
    {
        "id": "44f5433a0f7d8e6c",
        "type": "link out",
        "z": "75dcbba8aec48c92",
        "g": "c79d2a2e6bd96fce",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 475,
        "y": 80,
        "wires": []
    },
    {
        "id": "df8ba459c8692b8a",
        "type": "template",
        "z": "75dcbba8aec48c92",
        "g": "c79d2a2e6bd96fce",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "44f5433a0f7d8e6c"
            ]
        ]
    },
    {
        "id": "b954c9a8cdc40178",
        "type": "comment",
        "z": "c4112ff844284323",
        "name": "scene that turns off the shelly plug for Nvidia Shield Pro",
        "info": "",
        "x": 220,
        "y": 20,
        "wires": []
    },
    {
        "id": "8cd6a97d8921b370",
        "type": "catch",
        "z": "c4112ff844284323",
        "g": "a6cae9b8e727f32b",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "f03accf0e6b5ffe8"
            ]
        ]
    },
    {
        "id": "f03accf0e6b5ffe8",
        "type": "template",
        "z": "c4112ff844284323",
        "g": "a6cae9b8e727f32b",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "13b122195c61c45f"
            ]
        ]
    },
    {
        "id": "46a0b57223aa4c17",
        "type": "link out",
        "z": "c4112ff844284323",
        "g": "a6cae9b8e727f32b",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 475,
        "y": 80,
        "wires": []
    },
    {
        "id": "13b122195c61c45f",
        "type": "template",
        "z": "c4112ff844284323",
        "g": "a6cae9b8e727f32b",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "46a0b57223aa4c17"
            ]
        ]
    },
    {
        "id": "efe2ea2c57c95996",
        "type": "link in",
        "z": "c4112ff844284323",
        "name": "scene_turn_off_shelly_shield",
        "links": [],
        "x": 265,
        "y": 160,
        "wires": [
            [
                "2753dacc1aaf740b"
            ]
        ]
    },
    {
        "id": "2753dacc1aaf740b",
        "type": "api-call-service",
        "z": "c4112ff844284323",
        "name": "turn off shelly plug shield",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "switch.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "switch.shellyplugplus_shield_switch_0"
        ],
        "labelId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": true,
        "domain": "switch",
        "service": "turn_off",
        "x": 410,
        "y": 160,
        "wires": [
            []
        ]
    },
    {
        "id": "4698c4cea969f786",
        "type": "comment",
        "z": "762cff9aad6b0816",
        "name": "scene that turns on the shelly plug for Nvidia Shield Pro",
        "info": "",
        "x": 220,
        "y": 20,
        "wires": []
    },
    {
        "id": "bdef8bf721295551",
        "type": "link in",
        "z": "762cff9aad6b0816",
        "name": "scene_turn_on_shelly_shield",
        "links": [],
        "x": 265,
        "y": 160,
        "wires": [
            [
                "af6295778eaa0ed3"
            ]
        ]
    },
    {
        "id": "af6295778eaa0ed3",
        "type": "api-call-service",
        "z": "762cff9aad6b0816",
        "name": "turn on shelly plug shield",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "switch.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "switch.shellyplugplus_shield_switch_0"
        ],
        "labelId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": true,
        "domain": "switch",
        "service": "turn_on",
        "x": 410,
        "y": 160,
        "wires": [
            []
        ]
    },
    {
        "id": "ce5d8f5c47d6cd40",
        "type": "catch",
        "z": "762cff9aad6b0816",
        "g": "a8271160dbfdda1f",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "88452990fe88bbc5"
            ]
        ]
    },
    {
        "id": "88452990fe88bbc5",
        "type": "template",
        "z": "762cff9aad6b0816",
        "g": "a8271160dbfdda1f",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "ad72e3183538d9e5"
            ]
        ]
    },
    {
        "id": "6352a2bd0e56f5a8",
        "type": "link out",
        "z": "762cff9aad6b0816",
        "g": "a8271160dbfdda1f",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 475,
        "y": 80,
        "wires": []
    },
    {
        "id": "ad72e3183538d9e5",
        "type": "template",
        "z": "762cff9aad6b0816",
        "g": "a8271160dbfdda1f",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "6352a2bd0e56f5a8"
            ]
        ]
    },
    {
        "id": "0a8bb2d39c86165a",
        "type": "comment",
        "z": "d95708849d31630d",
        "name": "scene that turns on the LG TV device",
        "info": "",
        "x": 170,
        "y": 20,
        "wires": []
    },
    {
        "id": "f5ca5639755bbb40",
        "type": "link in",
        "z": "d95708849d31630d",
        "name": "scene_turn_on_lg_tv",
        "links": [
            "cc95177ff7dd19c7"
        ],
        "x": 265,
        "y": 160,
        "wires": [
            [
                "431f4462805951b1"
            ]
        ]
    },
    {
        "id": "431f4462805951b1",
        "type": "api-call-service",
        "z": "d95708849d31630d",
        "name": "turn on lg tv device",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "wake_on_lan.send_magic_packet",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [],
        "labelId": [],
        "data": "{\"mac\":\"38:8c:50:62:11:4d\",\"broadcast_address\":\"10.0.30.80\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": true,
        "domain": "wake_on_lan",
        "service": "send_magic_packet",
        "x": 390,
        "y": 160,
        "wires": [
            []
        ]
    },
    {
        "id": "3016c23826afe2b3",
        "type": "catch",
        "z": "d95708849d31630d",
        "g": "b928bcab67c7970c",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "46295b436337c8ca"
            ]
        ]
    },
    {
        "id": "46295b436337c8ca",
        "type": "template",
        "z": "d95708849d31630d",
        "g": "b928bcab67c7970c",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "da7468fd0ee36aee"
            ]
        ]
    },
    {
        "id": "5fce516d2b677877",
        "type": "link out",
        "z": "d95708849d31630d",
        "g": "b928bcab67c7970c",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 475,
        "y": 80,
        "wires": []
    },
    {
        "id": "da7468fd0ee36aee",
        "type": "template",
        "z": "d95708849d31630d",
        "g": "b928bcab67c7970c",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "5fce516d2b677877"
            ]
        ]
    },
    {
        "id": "6a77eb9d04cca958",
        "type": "api-current-state",
        "z": "a498f22679d943d0",
        "name": "universal tv is playing",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "playing",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "media_player.universal_tv",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 440,
        "y": 160,
        "wires": [
            [
                "485b2638b3e54f1b"
            ],
            []
        ]
    },
    {
        "id": "485b2638b3e54f1b",
        "type": "api-call-service",
        "z": "a498f22679d943d0",
        "name": "pause universal tv media player",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "media_player.media_pause",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "media_player.universal_tv"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "media_player",
        "service": "media_pause",
        "x": 690,
        "y": 160,
        "wires": [
            []
        ]
    },
    {
        "id": "691651f6cac8d709",
        "type": "comment",
        "z": "a498f22679d943d0",
        "name": "scene that pause the tv media player",
        "info": "",
        "x": 160,
        "y": 20,
        "wires": []
    },
    {
        "id": "5c0b91114ad853a6",
        "type": "catch",
        "z": "a498f22679d943d0",
        "g": "b69895a9db022a47",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "57555a1f94c04fc3"
            ]
        ]
    },
    {
        "id": "57555a1f94c04fc3",
        "type": "template",
        "z": "a498f22679d943d0",
        "g": "b69895a9db022a47",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "8ba3f19d6ce65bec"
            ]
        ]
    },
    {
        "id": "83742449c3349fd4",
        "type": "link out",
        "z": "a498f22679d943d0",
        "g": "b69895a9db022a47",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 475,
        "y": 80,
        "wires": []
    },
    {
        "id": "8ba3f19d6ce65bec",
        "type": "template",
        "z": "a498f22679d943d0",
        "g": "b69895a9db022a47",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "83742449c3349fd4"
            ]
        ]
    },
    {
        "id": "29ef6b63d1ee8e04",
        "type": "link in",
        "z": "a498f22679d943d0",
        "name": "scene_pause_tv_media_player",
        "links": [
            "3bafb9626527259f"
        ],
        "x": 305,
        "y": 160,
        "wires": [
            [
                "6a77eb9d04cca958"
            ]
        ]
    },
    {
        "id": "7d57cf483df051d0",
        "type": "comment",
        "z": "787906290c7e8747",
        "name": "scene that set a volume level for wall tablet",
        "info": "",
        "x": 180,
        "y": 20,
        "wires": []
    },
    {
        "id": "884e16f8a8840441",
        "type": "link in",
        "z": "787906290c7e8747",
        "name": "scene_set_volume_level_wall_tablet",
        "links": [
            "c62f6b0d1b183091"
        ],
        "x": 265,
        "y": 160,
        "wires": [
            [
                "6e5dd8a98b31e1c1"
            ]
        ]
    },
    {
        "id": "bff955f92d99e171",
        "type": "catch",
        "z": "787906290c7e8747",
        "g": "93528e3d0837cda6",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "f1bb4b17cac31567"
            ]
        ]
    },
    {
        "id": "f1bb4b17cac31567",
        "type": "template",
        "z": "787906290c7e8747",
        "g": "93528e3d0837cda6",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "1bcfae4bb6691b5b"
            ]
        ]
    },
    {
        "id": "81b4855d39d56cd1",
        "type": "link out",
        "z": "787906290c7e8747",
        "g": "93528e3d0837cda6",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 675,
        "y": 80,
        "wires": []
    },
    {
        "id": "1bcfae4bb6691b5b",
        "type": "template",
        "z": "787906290c7e8747",
        "g": "93528e3d0837cda6",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "0aab0773f57ae19d"
            ]
        ]
    },
    {
        "id": "6e5dd8a98b31e1c1",
        "type": "api-call-service",
        "z": "787906290c7e8747",
        "name": "set volume level wall tablet",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "media_player.volume_set",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "media_player.galaxy_tab_a8"
        ],
        "labelId": [],
        "data": "{\"volume_level\":0.75}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": true,
        "domain": "media_player",
        "service": "volume_set",
        "x": 420,
        "y": 160,
        "wires": [
            []
        ]
    },
    {
        "id": "0aab0773f57ae19d",
        "type": "function",
        "z": "787906290c7e8747",
        "g": "93528e3d0837cda6",
        "name": "notify.notification_id",
        "func": "msg.notify.notification_id = env.get(\"NR_FLOW_ID\");\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 550,
        "y": 80,
        "wires": [
            [
                "81b4855d39d56cd1"
            ]
        ]
    },
    {
        "id": "c2fbe205995fff5e",
        "type": "delay",
        "z": "dfcd5e683fabd9c1",
        "name": "",
        "pauseType": "delay",
        "timeout": "1",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "outputs": 1,
        "x": 100,
        "y": 360,
        "wires": [
            [
                "caf09df7b66535df"
            ]
        ]
    },
    {
        "id": "4ef5440e23d2ce7c",
        "type": "delay",
        "z": "dfcd5e683fabd9c1",
        "name": "",
        "pauseType": "delay",
        "timeout": "1",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "outputs": 1,
        "x": 100,
        "y": 400,
        "wires": [
            [
                "2af68ba5e1acbe8e"
            ]
        ]
    },
    {
        "id": "2af68ba5e1acbe8e",
        "type": "api-call-service",
        "z": "dfcd5e683fabd9c1",
        "name": "turn off basement ventilation sw 01",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "switch.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "switch.basement_ventilation_sw_01"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "switch",
        "service": "turn_off",
        "x": 320,
        "y": 400,
        "wires": [
            []
        ]
    },
    {
        "id": "caf09df7b66535df",
        "type": "api-call-service",
        "z": "dfcd5e683fabd9c1",
        "name": "turn off basement ventilation sw 03",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "switch.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "switch.basement_ventilation_sw_03"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "switch",
        "service": "turn_off",
        "x": 320,
        "y": 360,
        "wires": [
            [
                "4ef5440e23d2ce7c"
            ]
        ]
    },
    {
        "id": "b0416f573de3cc22",
        "type": "api-call-service",
        "z": "dfcd5e683fabd9c1",
        "name": "turn off basement ventilation sw 04",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "switch.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "switch.basement_ventilation_sw_04"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "switch",
        "service": "turn_off",
        "x": 320,
        "y": 320,
        "wires": [
            [
                "c2fbe205995fff5e"
            ]
        ]
    },
    {
        "id": "1266ee59d8fe0cea",
        "type": "api-call-service",
        "z": "dfcd5e683fabd9c1",
        "name": "turn on mechanical ventilation position 0",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "input_boolean.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_boolean.mechanical_ventilation_position_0"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "input_boolean",
        "service": "turn_on",
        "x": 680,
        "y": 160,
        "wires": [
            []
        ]
    },
    {
        "id": "5bd14e1dd65a329c",
        "type": "api-call-service",
        "z": "dfcd5e683fabd9c1",
        "name": "turn off mechanical ventilation position 3",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "input_boolean.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_boolean.mechanical_ventilation_position_3"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "input_boolean",
        "service": "turn_off",
        "x": 340,
        "y": 200,
        "wires": [
            []
        ]
    },
    {
        "id": "a97d47035177bd04",
        "type": "api-call-service",
        "z": "dfcd5e683fabd9c1",
        "name": "turn off mechanical ventilation position 2",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "input_boolean.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_boolean.mechanical_ventilation_position_2"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "input_boolean",
        "service": "turn_off",
        "x": 340,
        "y": 240,
        "wires": [
            []
        ]
    },
    {
        "id": "5fb081bddfeb52d5",
        "type": "api-call-service",
        "z": "dfcd5e683fabd9c1",
        "name": "turn off mechanical ventilation position 1",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "input_boolean.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_boolean.mechanical_ventilation_position_1"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "input_boolean",
        "service": "turn_off",
        "x": 340,
        "y": 280,
        "wires": [
            []
        ]
    },
    {
        "id": "52fb49d090987d36",
        "type": "api-current-state",
        "z": "dfcd5e683fabd9c1",
        "name": "state mechanical ventilation position 0 off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.mechanical_ventilation_position_0",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 340,
        "y": 160,
        "wires": [
            [
                "1266ee59d8fe0cea"
            ],
            []
        ]
    },
    {
        "id": "224988e2c9ac6b1f",
        "type": "comment",
        "z": "dfcd5e683fabd9c1",
        "name": "scene that turns off the mechanical ventilation in off, low, mid, high position",
        "info": "",
        "x": 280,
        "y": 20,
        "wires": []
    },
    {
        "id": "493f89bd975298cc",
        "type": "catch",
        "z": "dfcd5e683fabd9c1",
        "g": "cdb88e8901d0ba9b",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "e3d17bf790a14a46"
            ]
        ]
    },
    {
        "id": "e3d17bf790a14a46",
        "type": "template",
        "z": "dfcd5e683fabd9c1",
        "g": "cdb88e8901d0ba9b",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "f4a0915189332d7f"
            ]
        ]
    },
    {
        "id": "0795b985190d2d2c",
        "type": "link out",
        "z": "dfcd5e683fabd9c1",
        "g": "cdb88e8901d0ba9b",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 675,
        "y": 80,
        "wires": []
    },
    {
        "id": "f4a0915189332d7f",
        "type": "template",
        "z": "dfcd5e683fabd9c1",
        "g": "cdb88e8901d0ba9b",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "9c386485dd5af4ca"
            ]
        ]
    },
    {
        "id": "9c386485dd5af4ca",
        "type": "function",
        "z": "dfcd5e683fabd9c1",
        "g": "cdb88e8901d0ba9b",
        "name": "notify.notification_id",
        "func": "msg.notify.notification_id = env.get(\"NR_FLOW_ID\");\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 550,
        "y": 80,
        "wires": [
            [
                "0795b985190d2d2c"
            ]
        ]
    },
    {
        "id": "758a071297551463",
        "type": "link in",
        "z": "dfcd5e683fabd9c1",
        "name": "scene_souterrain_mechanical_ventilation_off",
        "links": [
            "ce6315d9d913f13b",
            "a04f173cc0c31e5f"
        ],
        "x": 105,
        "y": 160,
        "wires": [
            [
                "52fb49d090987d36",
                "5bd14e1dd65a329c",
                "a97d47035177bd04",
                "5fb081bddfeb52d5",
                "b0416f573de3cc22"
            ]
        ]
    },
    {
        "id": "5a0f579446bba30d",
        "type": "link in",
        "z": "dfcd5e683fabd9c1",
        "name": "scene_souterrain_mechanical_ventilation_low",
        "links": [
            "5c4f378f8ceb12fe",
            "3074d7a3808bdec0"
        ],
        "x": 105,
        "y": 460,
        "wires": [
            [
                "d44cb9e64d8da5b2",
                "1a5430ebfdf5e5e5",
                "5cfc828c3c2c1132",
                "69fffac591b13f31",
                "22be6e948dbc9770"
            ]
        ]
    },
    {
        "id": "b2cee72f86df3474",
        "type": "api-call-service",
        "z": "dfcd5e683fabd9c1",
        "name": "turn on basement ventilation sw 01",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "switch.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "switch.basement_ventilation_sw_01"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "switch",
        "service": "turn_on",
        "x": 320,
        "y": 700,
        "wires": [
            []
        ]
    },
    {
        "id": "90edb7e5e6d7ca33",
        "type": "api-call-service",
        "z": "dfcd5e683fabd9c1",
        "name": "turn off basement ventilation sw 03",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "switch.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "switch.basement_ventilation_sw_03"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "switch",
        "service": "turn_off",
        "x": 320,
        "y": 660,
        "wires": [
            [
                "f40f5aec81029140"
            ]
        ]
    },
    {
        "id": "22be6e948dbc9770",
        "type": "api-call-service",
        "z": "dfcd5e683fabd9c1",
        "name": "turn off basement ventilation sw 04",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "switch.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "switch.basement_ventilation_sw_04"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "switch",
        "service": "turn_off",
        "x": 320,
        "y": 620,
        "wires": [
            [
                "da42923feeeb904d"
            ]
        ]
    },
    {
        "id": "3edb8db444c52070",
        "type": "api-call-service",
        "z": "dfcd5e683fabd9c1",
        "name": "turn on mechanical ventilation position 1",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "input_boolean.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_boolean.mechanical_ventilation_position_1"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "input_boolean",
        "service": "turn_on",
        "x": 680,
        "y": 460,
        "wires": [
            []
        ]
    },
    {
        "id": "1a5430ebfdf5e5e5",
        "type": "api-call-service",
        "z": "dfcd5e683fabd9c1",
        "name": "turn off mechanical ventilation position 2",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "input_boolean.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_boolean.mechanical_ventilation_position_2"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "input_boolean",
        "service": "turn_off",
        "x": 340,
        "y": 500,
        "wires": [
            []
        ]
    },
    {
        "id": "5cfc828c3c2c1132",
        "type": "api-call-service",
        "z": "dfcd5e683fabd9c1",
        "name": "turn off mechanical ventilation position 3",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "input_boolean.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_boolean.mechanical_ventilation_position_3"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "input_boolean",
        "service": "turn_off",
        "x": 340,
        "y": 540,
        "wires": [
            []
        ]
    },
    {
        "id": "69fffac591b13f31",
        "type": "api-call-service",
        "z": "dfcd5e683fabd9c1",
        "name": "turn off mechanical ventilation position 0",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "input_boolean.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_boolean.mechanical_ventilation_position_0"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "input_boolean",
        "service": "turn_off",
        "x": 340,
        "y": 580,
        "wires": [
            []
        ]
    },
    {
        "id": "d44cb9e64d8da5b2",
        "type": "api-current-state",
        "z": "dfcd5e683fabd9c1",
        "name": "state mechanical ventilation position 1 off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.mechanical_ventilation_position_1",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 340,
        "y": 460,
        "wires": [
            [
                "3edb8db444c52070"
            ],
            []
        ]
    },
    {
        "id": "da42923feeeb904d",
        "type": "delay",
        "z": "dfcd5e683fabd9c1",
        "name": "",
        "pauseType": "delay",
        "timeout": "1",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "outputs": 1,
        "x": 100,
        "y": 660,
        "wires": [
            [
                "90edb7e5e6d7ca33"
            ]
        ]
    },
    {
        "id": "f40f5aec81029140",
        "type": "delay",
        "z": "dfcd5e683fabd9c1",
        "name": "",
        "pauseType": "delay",
        "timeout": "1",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "outputs": 1,
        "x": 100,
        "y": 700,
        "wires": [
            [
                "b2cee72f86df3474"
            ]
        ]
    },
    {
        "id": "bc20b4d1fe6b75e9",
        "type": "link in",
        "z": "dfcd5e683fabd9c1",
        "name": "scene_souterrain_mechanical_ventilation_mid",
        "links": [
            "05b9c0653cca602c",
            "9516fa80f467b0df"
        ],
        "x": 105,
        "y": 760,
        "wires": [
            [
                "e46718bad3a888aa",
                "e1068b601bd95ae2",
                "b471d619c51b34e5",
                "1358bc601009a68d",
                "17734983e948b06c"
            ]
        ]
    },
    {
        "id": "1be69714fb392eae",
        "type": "delay",
        "z": "dfcd5e683fabd9c1",
        "name": "",
        "pauseType": "delay",
        "timeout": "1",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "outputs": 1,
        "x": 100,
        "y": 1000,
        "wires": [
            [
                "4090bf5a8f90d6ce"
            ]
        ]
    },
    {
        "id": "dc4940b604011969",
        "type": "delay",
        "z": "dfcd5e683fabd9c1",
        "name": "",
        "pauseType": "delay",
        "timeout": "1",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "outputs": 1,
        "x": 100,
        "y": 960,
        "wires": [
            [
                "cad7b311807ff3d7"
            ]
        ]
    },
    {
        "id": "4090bf5a8f90d6ce",
        "type": "api-call-service",
        "z": "dfcd5e683fabd9c1",
        "name": "turn on basement ventilation sw 03",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "switch.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "switch.basement_ventilation_sw_03"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "switch",
        "service": "turn_on",
        "x": 320,
        "y": 1000,
        "wires": [
            []
        ]
    },
    {
        "id": "17734983e948b06c",
        "type": "api-call-service",
        "z": "dfcd5e683fabd9c1",
        "name": "turn off basement ventilation sw 04",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "switch.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "switch.basement_ventilation_sw_04"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "switch",
        "service": "turn_off",
        "x": 320,
        "y": 920,
        "wires": [
            [
                "dc4940b604011969"
            ]
        ]
    },
    {
        "id": "7c5e9554e61e2257",
        "type": "api-call-service",
        "z": "dfcd5e683fabd9c1",
        "name": "turn on mechanical ventilation position 2",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "input_boolean.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_boolean.mechanical_ventilation_position_2"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "input_boolean",
        "service": "turn_on",
        "x": 680,
        "y": 760,
        "wires": [
            []
        ]
    },
    {
        "id": "e1068b601bd95ae2",
        "type": "api-call-service",
        "z": "dfcd5e683fabd9c1",
        "name": "turn off mechanical ventilation position 1",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "input_boolean.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_boolean.mechanical_ventilation_position_1"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "input_boolean",
        "service": "turn_off",
        "x": 340,
        "y": 800,
        "wires": [
            []
        ]
    },
    {
        "id": "b471d619c51b34e5",
        "type": "api-call-service",
        "z": "dfcd5e683fabd9c1",
        "name": "turn off mechanical ventilation position 3",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "input_boolean.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_boolean.mechanical_ventilation_position_3"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "input_boolean",
        "service": "turn_off",
        "x": 340,
        "y": 840,
        "wires": [
            []
        ]
    },
    {
        "id": "1358bc601009a68d",
        "type": "api-call-service",
        "z": "dfcd5e683fabd9c1",
        "name": "turn off mechanical ventilation position 0",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "input_boolean.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_boolean.mechanical_ventilation_position_0"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "input_boolean",
        "service": "turn_off",
        "x": 340,
        "y": 880,
        "wires": [
            []
        ]
    },
    {
        "id": "cad7b311807ff3d7",
        "type": "api-call-service",
        "z": "dfcd5e683fabd9c1",
        "name": "turn on basement ventilation sw 01",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "switch.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "switch.basement_ventilation_sw_01"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "switch",
        "service": "turn_on",
        "x": 320,
        "y": 960,
        "wires": [
            [
                "1be69714fb392eae"
            ]
        ]
    },
    {
        "id": "e46718bad3a888aa",
        "type": "api-current-state",
        "z": "dfcd5e683fabd9c1",
        "name": "state mechanical ventilation position 2 off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.mechanical_ventilation_position_2",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 340,
        "y": 760,
        "wires": [
            [
                "7c5e9554e61e2257"
            ],
            []
        ]
    },
    {
        "id": "82d596336848e366",
        "type": "link in",
        "z": "dfcd5e683fabd9c1",
        "name": "scene_souterrain_mechanical_ventilation_high",
        "links": [
            "8695ac14d1f8e704",
            "c38645a953ed6080"
        ],
        "x": 105,
        "y": 1060,
        "wires": [
            [
                "72a265fce7b8d6ed",
                "2e5e6b341607e51a",
                "80d2979fc979202d",
                "18c8145fd9dbf268",
                "98a2d99da89e6af2"
            ]
        ]
    },
    {
        "id": "89fd57bcad4ed280",
        "type": "delay",
        "z": "dfcd5e683fabd9c1",
        "name": "",
        "pauseType": "delay",
        "timeout": "1",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "outputs": 1,
        "x": 100,
        "y": 1300,
        "wires": [
            [
                "6d0b94543cd3bdcc"
            ]
        ]
    },
    {
        "id": "3d6dacd2f66bdaa0",
        "type": "delay",
        "z": "dfcd5e683fabd9c1",
        "name": "",
        "pauseType": "delay",
        "timeout": "1",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "outputs": 1,
        "x": 100,
        "y": 1260,
        "wires": [
            [
                "7fcdd1637d6f0626"
            ]
        ]
    },
    {
        "id": "7fcdd1637d6f0626",
        "type": "api-call-service",
        "z": "dfcd5e683fabd9c1",
        "name": "turn off basement ventilation sw 03",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "switch.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "switch.basement_ventilation_sw_03"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "switch",
        "service": "turn_off",
        "x": 320,
        "y": 1260,
        "wires": [
            [
                "89fd57bcad4ed280"
            ]
        ]
    },
    {
        "id": "6d0b94543cd3bdcc",
        "type": "api-call-service",
        "z": "dfcd5e683fabd9c1",
        "name": "turn on basement ventilation sw 04",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "switch.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "switch.basement_ventilation_sw_04"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "switch",
        "service": "turn_on",
        "x": 320,
        "y": 1300,
        "wires": [
            []
        ]
    },
    {
        "id": "33ac133378f11c21",
        "type": "api-call-service",
        "z": "dfcd5e683fabd9c1",
        "name": "turn on mechanical ventilation position 3",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "input_boolean.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_boolean.mechanical_ventilation_position_3"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "input_boolean",
        "service": "turn_on",
        "x": 680,
        "y": 1060,
        "wires": [
            []
        ]
    },
    {
        "id": "2e5e6b341607e51a",
        "type": "api-call-service",
        "z": "dfcd5e683fabd9c1",
        "name": "turn off mechanical ventilation position 1",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "input_boolean.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_boolean.mechanical_ventilation_position_1"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "input_boolean",
        "service": "turn_off",
        "x": 340,
        "y": 1100,
        "wires": [
            []
        ]
    },
    {
        "id": "80d2979fc979202d",
        "type": "api-call-service",
        "z": "dfcd5e683fabd9c1",
        "name": "turn off mechanical ventilation position 2",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "input_boolean.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_boolean.mechanical_ventilation_position_2"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "input_boolean",
        "service": "turn_off",
        "x": 340,
        "y": 1140,
        "wires": [
            []
        ]
    },
    {
        "id": "18c8145fd9dbf268",
        "type": "api-call-service",
        "z": "dfcd5e683fabd9c1",
        "name": "turn off mechanical ventilation position 0",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "input_boolean.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_boolean.mechanical_ventilation_position_0"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "input_boolean",
        "service": "turn_off",
        "x": 340,
        "y": 1180,
        "wires": [
            []
        ]
    },
    {
        "id": "98a2d99da89e6af2",
        "type": "api-call-service",
        "z": "dfcd5e683fabd9c1",
        "name": "turn on basement ventilation sw 01",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "switch.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "switch.basement_ventilation_sw_01"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "switch",
        "service": "turn_on",
        "x": 320,
        "y": 1220,
        "wires": [
            [
                "3d6dacd2f66bdaa0"
            ]
        ]
    },
    {
        "id": "72a265fce7b8d6ed",
        "type": "api-current-state",
        "z": "dfcd5e683fabd9c1",
        "name": "state mechanical ventilation position 3 off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.mechanical_ventilation_position_3",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 340,
        "y": 1060,
        "wires": [
            [
                "33ac133378f11c21"
            ],
            []
        ]
    },
    {
        "id": "8ae93a2c84712e11",
        "type": "api-call-service",
        "z": "e03c0cf1695985b6",
        "name": "toggle light christmas tree",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.toggle",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "light.christmas_tree"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "light",
        "service": "toggle",
        "x": 430,
        "y": 160,
        "wires": [
            []
        ]
    },
    {
        "id": "ac97e8adb4a936b4",
        "type": "comment",
        "z": "e03c0cf1695985b6",
        "name": "scene that toggle the shelly plug for the christmas tree string lights",
        "info": "",
        "x": 250,
        "y": 20,
        "wires": []
    },
    {
        "id": "d4b14165869e4146",
        "type": "link in",
        "z": "e03c0cf1695985b6",
        "name": "scene_light_toggle_christmas_tree",
        "links": [
            "2d71a81ca51a22dc"
        ],
        "x": 275,
        "y": 160,
        "wires": [
            [
                "8ae93a2c84712e11"
            ]
        ]
    },
    {
        "id": "c74f2d04d91995d9",
        "type": "catch",
        "z": "e03c0cf1695985b6",
        "g": "5c3bcb9c208b7f8a",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "efe69a8c52982bb3"
            ]
        ]
    },
    {
        "id": "efe69a8c52982bb3",
        "type": "template",
        "z": "e03c0cf1695985b6",
        "g": "5c3bcb9c208b7f8a",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "e801dd4648191302"
            ]
        ]
    },
    {
        "id": "a61ab9714b972c32",
        "type": "link out",
        "z": "e03c0cf1695985b6",
        "g": "5c3bcb9c208b7f8a",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 675,
        "y": 80,
        "wires": []
    },
    {
        "id": "e801dd4648191302",
        "type": "template",
        "z": "e03c0cf1695985b6",
        "g": "5c3bcb9c208b7f8a",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "38b62ec58f34ace3"
            ]
        ]
    },
    {
        "id": "38b62ec58f34ace3",
        "type": "function",
        "z": "e03c0cf1695985b6",
        "g": "5c3bcb9c208b7f8a",
        "name": "notify.notification_id",
        "func": "msg.notify.notification_id = env.get(\"NR_FLOW_ID\");\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 550,
        "y": 80,
        "wires": [
            [
                "a61ab9714b972c32"
            ]
        ]
    },
    {
        "id": "1d1cd058a991e8b7",
        "type": "comment",
        "z": "47b63ba557f23f16",
        "name": "scene that toggle the backyard string lights",
        "info": "",
        "x": 180,
        "y": 20,
        "wires": []
    },
    {
        "id": "24f07e9dc4f73d1e",
        "type": "link in",
        "z": "47b63ba557f23f16",
        "name": "scene_light_toggle_string_backyard",
        "links": [
            "b55a1b1c2ee46b70"
        ],
        "x": 275,
        "y": 160,
        "wires": [
            [
                "e1d97f0452ca6682"
            ]
        ]
    },
    {
        "id": "445ec05f35d546b0",
        "type": "catch",
        "z": "47b63ba557f23f16",
        "g": "84c87d1646acb18e",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "38ca183be394ec2b"
            ]
        ]
    },
    {
        "id": "38ca183be394ec2b",
        "type": "template",
        "z": "47b63ba557f23f16",
        "g": "84c87d1646acb18e",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "c53147b5dc77759b"
            ]
        ]
    },
    {
        "id": "1a2e5276e0c64409",
        "type": "link out",
        "z": "47b63ba557f23f16",
        "g": "84c87d1646acb18e",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 675,
        "y": 80,
        "wires": []
    },
    {
        "id": "c53147b5dc77759b",
        "type": "template",
        "z": "47b63ba557f23f16",
        "g": "84c87d1646acb18e",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "7c3cf61ae05f31c4"
            ]
        ]
    },
    {
        "id": "7c3cf61ae05f31c4",
        "type": "function",
        "z": "47b63ba557f23f16",
        "g": "84c87d1646acb18e",
        "name": "notify.notification_id",
        "func": "msg.notify.notification_id = env.get(\"NR_FLOW_ID\");\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 550,
        "y": 80,
        "wires": [
            [
                "1a2e5276e0c64409"
            ]
        ]
    },
    {
        "id": "e1d97f0452ca6682",
        "type": "api-call-service",
        "z": "47b63ba557f23f16",
        "name": "toggle light backyard",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.toggle",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "light.shellydimmer_backyard_string_l"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "light",
        "service": "toggle",
        "x": 420,
        "y": 160,
        "wires": [
            []
        ]
    },
    {
        "id": "54c330bb8a78569e",
        "type": "comment",
        "z": "7aa254e451cc25d5",
        "name": "scene that toggle the barndoor pendant lamp ",
        "info": "",
        "x": 190,
        "y": 20,
        "wires": []
    },
    {
        "id": "2352748556d6fb89",
        "type": "link in",
        "z": "7aa254e451cc25d5",
        "name": "scene_light_toggle_pendant_lamp_barndoor",
        "links": [
            "257a3fc6c1e0caff"
        ],
        "x": 275,
        "y": 160,
        "wires": [
            [
                "9e6bf64138ee43fa"
            ]
        ]
    },
    {
        "id": "9e6bf64138ee43fa",
        "type": "api-call-service",
        "z": "7aa254e451cc25d5",
        "name": "toggle light pendant lamp barndoor in the backyard",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.toggle",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "light.shelly1_barn_door"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "light",
        "service": "toggle",
        "x": 510,
        "y": 160,
        "wires": [
            []
        ]
    },
    {
        "id": "4466e3edd526ad11",
        "type": "catch",
        "z": "7aa254e451cc25d5",
        "g": "e7c4dc7d195c1704",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "e37e9d45f355051e"
            ]
        ]
    },
    {
        "id": "e37e9d45f355051e",
        "type": "template",
        "z": "7aa254e451cc25d5",
        "g": "e7c4dc7d195c1704",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "1d1d028ff0eff669"
            ]
        ]
    },
    {
        "id": "7c96c2b4a740b8d9",
        "type": "link out",
        "z": "7aa254e451cc25d5",
        "g": "e7c4dc7d195c1704",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 675,
        "y": 80,
        "wires": []
    },
    {
        "id": "1d1d028ff0eff669",
        "type": "template",
        "z": "7aa254e451cc25d5",
        "g": "e7c4dc7d195c1704",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "16ae843dcb5beebf"
            ]
        ]
    },
    {
        "id": "16ae843dcb5beebf",
        "type": "function",
        "z": "7aa254e451cc25d5",
        "g": "e7c4dc7d195c1704",
        "name": "notify.notification_id",
        "func": "msg.notify.notification_id = env.get(\"NR_FLOW_ID\");\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 550,
        "y": 80,
        "wires": [
            [
                "7c96c2b4a740b8d9"
            ]
        ]
    },
    {
        "id": "9267c36fdd2fc41c",
        "type": "api-call-service",
        "z": "67d790ac195b8d6f",
        "name": "turn on light christmas tree",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "light.christmas_tree"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "light",
        "service": "turn_on",
        "x": 600,
        "y": 160,
        "wires": [
            []
        ]
    },
    {
        "id": "e24b92d7d8e4a3bf",
        "type": "api-current-state",
        "z": "67d790ac195b8d6f",
        "name": "state christmas tree light off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "light.christmas_tree",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 340,
        "y": 160,
        "wires": [
            [
                "9267c36fdd2fc41c"
            ],
            []
        ]
    },
    {
        "id": "7f81f841335a3c8c",
        "type": "comment",
        "z": "67d790ac195b8d6f",
        "name": "scene that turns on the shelly plug for the christmas tree string lights",
        "info": "",
        "x": 260,
        "y": 20,
        "wires": []
    },
    {
        "id": "4a4a30b80b65f981",
        "type": "catch",
        "z": "67d790ac195b8d6f",
        "g": "7976afd80fac6372",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "ebb227b95918cd2a"
            ]
        ]
    },
    {
        "id": "ebb227b95918cd2a",
        "type": "template",
        "z": "67d790ac195b8d6f",
        "g": "7976afd80fac6372",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "e6e632bc348f3e5f"
            ]
        ]
    },
    {
        "id": "b44fdf201dc1042b",
        "type": "link out",
        "z": "67d790ac195b8d6f",
        "g": "7976afd80fac6372",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 675,
        "y": 80,
        "wires": []
    },
    {
        "id": "e6e632bc348f3e5f",
        "type": "template",
        "z": "67d790ac195b8d6f",
        "g": "7976afd80fac6372",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "c2fdadbba6f66618"
            ]
        ]
    },
    {
        "id": "c2fdadbba6f66618",
        "type": "function",
        "z": "67d790ac195b8d6f",
        "g": "7976afd80fac6372",
        "name": "notify.notification_id",
        "func": "msg.notify.notification_id = env.get(\"NR_FLOW_ID\");\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 550,
        "y": 80,
        "wires": [
            [
                "b44fdf201dc1042b"
            ]
        ]
    },
    {
        "id": "5a9de36711abafb8",
        "type": "link in",
        "z": "67d790ac195b8d6f",
        "name": "scene_light_turn_on_christmas_tree",
        "links": [],
        "x": 175,
        "y": 160,
        "wires": [
            [
                "e24b92d7d8e4a3bf"
            ]
        ]
    },
    {
        "id": "3101d0a1b950e78d",
        "type": "api-call-service",
        "z": "7f39e487c7ab241c",
        "name": "turn on cv closet light",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "light.cv_closet"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "light",
        "service": "turn_on",
        "x": 630,
        "y": 160,
        "wires": [
            []
        ]
    },
    {
        "id": "c09b728cb16b154e",
        "type": "api-current-state",
        "z": "7f39e487c7ab241c",
        "name": "state cv closet light is off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "light.cv_closet",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 400,
        "y": 160,
        "wires": [
            [
                "3101d0a1b950e78d"
            ],
            []
        ]
    },
    {
        "id": "963294a91f3eb374",
        "type": "comment",
        "z": "7f39e487c7ab241c",
        "name": "scene that turns on the light in the cv closet",
        "info": "",
        "x": 180,
        "y": 20,
        "wires": []
    },
    {
        "id": "09841c5a793ba657",
        "type": "link in",
        "z": "7f39e487c7ab241c",
        "name": "scene_light_turn_on_cv_closet",
        "links": [
            "6f5f636ad6f12469"
        ],
        "x": 245,
        "y": 160,
        "wires": [
            [
                "c09b728cb16b154e"
            ]
        ]
    },
    {
        "id": "827acf22221b355e",
        "type": "catch",
        "z": "7f39e487c7ab241c",
        "g": "914448f840b9d7b8",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "2b3ce0da818e77aa"
            ]
        ]
    },
    {
        "id": "2b3ce0da818e77aa",
        "type": "template",
        "z": "7f39e487c7ab241c",
        "g": "914448f840b9d7b8",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "a13a7124838954d9"
            ]
        ]
    },
    {
        "id": "2cc9a5595a901b10",
        "type": "link out",
        "z": "7f39e487c7ab241c",
        "g": "914448f840b9d7b8",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 675,
        "y": 80,
        "wires": []
    },
    {
        "id": "a13a7124838954d9",
        "type": "template",
        "z": "7f39e487c7ab241c",
        "g": "914448f840b9d7b8",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "3cabf5fcbc48a7ce"
            ]
        ]
    },
    {
        "id": "3cabf5fcbc48a7ce",
        "type": "function",
        "z": "7f39e487c7ab241c",
        "g": "914448f840b9d7b8",
        "name": "notify.notification_id",
        "func": "msg.notify.notification_id = env.get(\"NR_FLOW_ID\");\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 550,
        "y": 80,
        "wires": [
            [
                "2cc9a5595a901b10"
            ]
        ]
    },
    {
        "id": "81029e2a4f699a24",
        "type": "api-call-service",
        "z": "3db3c53990065a2a",
        "name": "turn off cv closet light",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "light.cv_closet"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "light",
        "service": "turn_off",
        "x": 620,
        "y": 160,
        "wires": [
            []
        ]
    },
    {
        "id": "e4cffcef86b71bea",
        "type": "api-current-state",
        "z": "3db3c53990065a2a",
        "name": "state cv closet light is on",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "light.cv_closet",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 390,
        "y": 160,
        "wires": [
            [
                "81029e2a4f699a24"
            ],
            []
        ]
    },
    {
        "id": "d52bc74155b44fd3",
        "type": "comment",
        "z": "3db3c53990065a2a",
        "name": "scene that turns off the light in the cv closet",
        "info": "",
        "x": 170,
        "y": 20,
        "wires": []
    },
    {
        "id": "1611654305d0e2d3",
        "type": "link in",
        "z": "3db3c53990065a2a",
        "name": "scene_light_turn_off_cv_closet",
        "links": [
            "aead7be4acdfe160"
        ],
        "x": 235,
        "y": 160,
        "wires": [
            [
                "e4cffcef86b71bea"
            ]
        ]
    },
    {
        "id": "e2d08291d7c90abc",
        "type": "catch",
        "z": "3db3c53990065a2a",
        "g": "7e4fbd75802ee453",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 90,
        "y": 80,
        "wires": [
            [
                "206a37ce3dac1b95"
            ]
        ]
    },
    {
        "id": "206a37ce3dac1b95",
        "type": "template",
        "z": "3db3c53990065a2a",
        "g": "7e4fbd75802ee453",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 240,
        "y": 80,
        "wires": [
            [
                "eb5692702d6f996b"
            ]
        ]
    },
    {
        "id": "4282a6b65307c7ac",
        "type": "link out",
        "z": "3db3c53990065a2a",
        "g": "7e4fbd75802ee453",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 665,
        "y": 80,
        "wires": []
    },
    {
        "id": "eb5692702d6f996b",
        "type": "template",
        "z": "3db3c53990065a2a",
        "g": "7e4fbd75802ee453",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 380,
        "y": 80,
        "wires": [
            [
                "369dbbaa8b05528d"
            ]
        ]
    },
    {
        "id": "369dbbaa8b05528d",
        "type": "function",
        "z": "3db3c53990065a2a",
        "g": "7e4fbd75802ee453",
        "name": "notify.notification_id",
        "func": "msg.notify.notification_id = env.get(\"NR_FLOW_ID\");\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 540,
        "y": 80,
        "wires": [
            [
                "4282a6b65307c7ac"
            ]
        ]
    },
    {
        "id": "c43855fd5bbc4818",
        "type": "comment",
        "z": "f69bb4ce2fe1eeaf",
        "name": "scene that activate music assisant url on the galaxy tab wall tablet",
        "info": "",
        "x": 250,
        "y": 20,
        "wires": []
    },
    {
        "id": "7a7ba577e8bec4ba",
        "type": "catch",
        "z": "f69bb4ce2fe1eeaf",
        "g": "ed134efd86ec204c",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "e835d811a137582a"
            ]
        ]
    },
    {
        "id": "e835d811a137582a",
        "type": "template",
        "z": "f69bb4ce2fe1eeaf",
        "g": "ed134efd86ec204c",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "6c91fe3b6a82452d"
            ]
        ]
    },
    {
        "id": "51785525fba44afb",
        "type": "link out",
        "z": "f69bb4ce2fe1eeaf",
        "g": "ed134efd86ec204c",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 675,
        "y": 80,
        "wires": []
    },
    {
        "id": "6c91fe3b6a82452d",
        "type": "template",
        "z": "f69bb4ce2fe1eeaf",
        "g": "ed134efd86ec204c",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "ae1794d63f7dcfb5"
            ]
        ]
    },
    {
        "id": "ae1794d63f7dcfb5",
        "type": "function",
        "z": "f69bb4ce2fe1eeaf",
        "g": "ed134efd86ec204c",
        "name": "notify.notification_id",
        "func": "msg.notify.notification_id = env.get(\"NR_FLOW_ID\");\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 550,
        "y": 80,
        "wires": [
            [
                "51785525fba44afb"
            ]
        ]
    },
    {
        "id": "f2401b56bd4cc64d",
        "type": "link in",
        "z": "f69bb4ce2fe1eeaf",
        "name": "scene_load_url_music_assistant_galaxy_tab_a8",
        "links": [
            "1e019cb7ead11267"
        ],
        "x": 235,
        "y": 160,
        "wires": [
            [
                "3247c995547acec0"
            ]
        ]
    },
    {
        "id": "3247c995547acec0",
        "type": "api-call-service",
        "z": "f69bb4ce2fe1eeaf",
        "name": "load music-assistant url",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "fully_kiosk.load_url",
        "floorId": [],
        "areaId": [],
        "deviceId": [
            "36fbed78e4e0f51c87776ebf7e560850"
        ],
        "entityId": [],
        "labelId": [],
        "data": "{\"url\":\"https://music-assistant.lan.stamx.nl\"}",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": true,
        "domain": "fully_kiosk",
        "service": "load_url",
        "x": 390,
        "y": 160,
        "wires": [
            []
        ]
    },
    {
        "id": "41498ae39914343d",
        "type": "comment",
        "z": "96fc7ebe3f190a37",
        "name": "scene that activate start url on the galaxy tab wall tablet",
        "info": "",
        "x": 220,
        "y": 20,
        "wires": []
    },
    {
        "id": "f0c210c93a8f5cfe",
        "type": "link in",
        "z": "96fc7ebe3f190a37",
        "name": "scene_load_start_url_galaxy_tab_a8",
        "links": [
            "863a823cf830ecc5"
        ],
        "x": 245,
        "y": 160,
        "wires": [
            [
                "30dcae507fef5930"
            ]
        ]
    },
    {
        "id": "30dcae507fef5930",
        "type": "api-call-service",
        "z": "96fc7ebe3f190a37",
        "name": "load start url galaxy tab a8",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "button.press",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "button.galaxy_tab_a8_load_start_url"
        ],
        "labelId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": true,
        "domain": "button",
        "service": "press",
        "x": 400,
        "y": 160,
        "wires": [
            []
        ]
    },
    {
        "id": "fbca2a38b24cf3c2",
        "type": "catch",
        "z": "96fc7ebe3f190a37",
        "g": "b3ced2cc94270d7f",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "8054def37f6d0580"
            ]
        ]
    },
    {
        "id": "8054def37f6d0580",
        "type": "template",
        "z": "96fc7ebe3f190a37",
        "g": "b3ced2cc94270d7f",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "33ef1341527dc761"
            ]
        ]
    },
    {
        "id": "0973f7291fb9895a",
        "type": "link out",
        "z": "96fc7ebe3f190a37",
        "g": "b3ced2cc94270d7f",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 675,
        "y": 80,
        "wires": []
    },
    {
        "id": "33ef1341527dc761",
        "type": "template",
        "z": "96fc7ebe3f190a37",
        "g": "b3ced2cc94270d7f",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "4a61d392e95df63f"
            ]
        ]
    },
    {
        "id": "4a61d392e95df63f",
        "type": "function",
        "z": "96fc7ebe3f190a37",
        "g": "b3ced2cc94270d7f",
        "name": "notify.notification_id",
        "func": "msg.notify.notification_id = env.get(\"NR_FLOW_ID\");\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 550,
        "y": 80,
        "wires": [
            [
                "0973f7291fb9895a"
            ]
        ]
    },
    {
        "id": "92bbb5fd1299003d",
        "type": "api-call-service",
        "z": "46d393bea5a350c5",
        "name": "turn on wall tablet screen",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "switch.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "switch.galaxy_tab_a8_screen"
        ],
        "labelId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "switch",
        "service": "turn_on",
        "x": 530,
        "y": 220,
        "wires": [
            []
        ]
    },
    {
        "id": "e131d6ec7396abd3",
        "type": "comment",
        "z": "46d393bea5a350c5",
        "name": "scene that turn on the wall tablet screen",
        "info": "",
        "x": 170,
        "y": 20,
        "wires": []
    },
    {
        "id": "d41788e28d505807",
        "type": "catch",
        "z": "46d393bea5a350c5",
        "g": "2924aab99c2ed4a8",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "e7fe9a45cfee5616"
            ]
        ]
    },
    {
        "id": "e7fe9a45cfee5616",
        "type": "template",
        "z": "46d393bea5a350c5",
        "g": "2924aab99c2ed4a8",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "443ec80ec6930320"
            ]
        ]
    },
    {
        "id": "f05e12b3b22ef591",
        "type": "link out",
        "z": "46d393bea5a350c5",
        "g": "2924aab99c2ed4a8",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 675,
        "y": 80,
        "wires": []
    },
    {
        "id": "443ec80ec6930320",
        "type": "template",
        "z": "46d393bea5a350c5",
        "g": "2924aab99c2ed4a8",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "3eb99480b2b38a18"
            ]
        ]
    },
    {
        "id": "3eb99480b2b38a18",
        "type": "function",
        "z": "46d393bea5a350c5",
        "g": "2924aab99c2ed4a8",
        "name": "notify.notification_id",
        "func": "msg.notify.notification_id = env.get(\"NR_FLOW_ID\");\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 550,
        "y": 80,
        "wires": [
            [
                "f05e12b3b22ef591"
            ]
        ]
    },
    {
        "id": "27fe2d902f93785f",
        "type": "link in",
        "z": "46d393bea5a350c5",
        "name": "scene_switch_turn_on_wall_tablet_screen",
        "links": [
            "13f87cfee713f150",
            "1695184d5eee7b6e",
            "45b585ed12457e30",
            "8b1bdde5406f507b",
            "b8e3f2eef759d8e7",
            "7d49a4dcf33e6531",
            "ca2f8a76d5122943"
        ],
        "x": 385,
        "y": 220,
        "wires": [
            [
                "92bbb5fd1299003d"
            ]
        ]
    },
    {
        "id": "aa39ebd7d9b65259",
        "type": "comment",
        "z": "b879bcee774e2ee3",
        "name": "scene that toggles sleepmode",
        "info": "",
        "x": 140,
        "y": 20,
        "wires": []
    },
    {
        "id": "b37563cd651c8bfa",
        "type": "link in",
        "z": "b879bcee774e2ee3",
        "name": "scene_input_boolean_toggle_sleepmode",
        "links": [
            "80f341496b680f21"
        ],
        "x": 275,
        "y": 160,
        "wires": [
            [
                "9c37b1538ffd5cd4"
            ]
        ]
    },
    {
        "id": "9c37b1538ffd5cd4",
        "type": "api-call-service",
        "z": "b879bcee774e2ee3",
        "name": "toggle sleepmode",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "input_boolean.toggle",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_boolean.sleep_mode"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "input_boolean",
        "service": "toggle",
        "x": 410,
        "y": 160,
        "wires": [
            []
        ]
    },
    {
        "id": "3925fa53437952d3",
        "type": "catch",
        "z": "b879bcee774e2ee3",
        "g": "af928c62e3f15dd4",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "1e0ea09d17d4804f"
            ]
        ]
    },
    {
        "id": "1e0ea09d17d4804f",
        "type": "template",
        "z": "b879bcee774e2ee3",
        "g": "af928c62e3f15dd4",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "58a44fb2b0c132fd"
            ]
        ]
    },
    {
        "id": "ccaa2e4d1e8fac02",
        "type": "link out",
        "z": "b879bcee774e2ee3",
        "g": "af928c62e3f15dd4",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 675,
        "y": 80,
        "wires": []
    },
    {
        "id": "58a44fb2b0c132fd",
        "type": "template",
        "z": "b879bcee774e2ee3",
        "g": "af928c62e3f15dd4",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "fbba069b7f0f769f"
            ]
        ]
    },
    {
        "id": "fbba069b7f0f769f",
        "type": "function",
        "z": "b879bcee774e2ee3",
        "g": "af928c62e3f15dd4",
        "name": "notify.notification_id",
        "func": "msg.notify.notification_id = env.get(\"NR_FLOW_ID\");\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 550,
        "y": 80,
        "wires": [
            [
                "ccaa2e4d1e8fac02"
            ]
        ]
    },
    {
        "id": "0f3bf97fee2da381",
        "type": "comment",
        "z": "fc5bb64f7b55c7a9",
        "name": "scene that toggles the childlock of the kitchen cabinets",
        "info": "",
        "x": 220,
        "y": 20,
        "wires": []
    },
    {
        "id": "798ee087ef13ebd8",
        "type": "link in",
        "z": "fc5bb64f7b55c7a9",
        "name": "scene_switch_toggle_childlock_kitchen_cabinets",
        "links": [
            "b683652c36e89d93"
        ],
        "x": 275,
        "y": 160,
        "wires": [
            [
                "34bc897fe72c285a"
            ]
        ]
    },
    {
        "id": "34bc897fe72c285a",
        "type": "api-call-service",
        "z": "fc5bb64f7b55c7a9",
        "name": "toggle switch childlock kitchen cabinets",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "switch.toggle",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "switch.childlock_kitchen_switch"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "switch",
        "service": "toggle",
        "x": 470,
        "y": 160,
        "wires": [
            []
        ]
    },
    {
        "id": "915c4a2d8e1cadbf",
        "type": "catch",
        "z": "fc5bb64f7b55c7a9",
        "g": "73ed7f7e6147fcd5",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "7f12555c8dc50f9a"
            ]
        ]
    },
    {
        "id": "7f12555c8dc50f9a",
        "type": "template",
        "z": "fc5bb64f7b55c7a9",
        "g": "73ed7f7e6147fcd5",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "4f95dba6baa77b0c"
            ]
        ]
    },
    {
        "id": "8dc5b9441d7691f4",
        "type": "link out",
        "z": "fc5bb64f7b55c7a9",
        "g": "73ed7f7e6147fcd5",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 675,
        "y": 80,
        "wires": []
    },
    {
        "id": "4f95dba6baa77b0c",
        "type": "template",
        "z": "fc5bb64f7b55c7a9",
        "g": "73ed7f7e6147fcd5",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "0aaeef20607107fc"
            ]
        ]
    },
    {
        "id": "0aaeef20607107fc",
        "type": "function",
        "z": "fc5bb64f7b55c7a9",
        "g": "73ed7f7e6147fcd5",
        "name": "notify.notification_id",
        "func": "msg.notify.notification_id = env.get(\"NR_FLOW_ID\");\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 550,
        "y": 80,
        "wires": [
            [
                "8dc5b9441d7691f4"
            ]
        ]
    },
    {
        "id": "fdd6cd4fc534d90f",
        "type": "comment",
        "z": "5dd8a5e802404efd",
        "name": "A flow that creates a sensor, if nvidia shield volume is 100% then the binary sensor is on",
        "info": "",
        "x": 320,
        "y": 20,
        "wires": []
    },
    {
        "id": "8531aca21683e5c6",
        "type": "catch",
        "z": "5dd8a5e802404efd",
        "g": "5855298037ce8b13",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "0ec5b580b0301cb9"
            ]
        ]
    },
    {
        "id": "0ec5b580b0301cb9",
        "type": "template",
        "z": "5dd8a5e802404efd",
        "g": "5855298037ce8b13",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "2a8516d99887074c"
            ]
        ]
    },
    {
        "id": "896d42da6f78a4df",
        "type": "link out",
        "z": "5dd8a5e802404efd",
        "g": "5855298037ce8b13",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 675,
        "y": 80,
        "wires": []
    },
    {
        "id": "2a8516d99887074c",
        "type": "template",
        "z": "5dd8a5e802404efd",
        "g": "5855298037ce8b13",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "21d98f7558e1ecf0"
            ]
        ]
    },
    {
        "id": "21d98f7558e1ecf0",
        "type": "function",
        "z": "5dd8a5e802404efd",
        "g": "5855298037ce8b13",
        "name": "notify.notification_id",
        "func": "msg.notify.notification_id = env.get(\"NR_FLOW_ID\");\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 550,
        "y": 80,
        "wires": [
            [
                "896d42da6f78a4df"
            ]
        ]
    },
    {
        "id": "7ca936eb66e9e2d5",
        "type": "ha-binary-sensor",
        "z": "5dd8a5e802404efd",
        "name": "nvidia_shield_volume_maximum",
        "entityConfig": "481b5f550ecd01da",
        "version": 0,
        "state": "payload",
        "stateType": "msg",
        "attributes": [],
        "inputOverride": "allow",
        "outputProperties": [],
        "x": 830,
        "y": 160,
        "wires": [
            []
        ]
    },
    {
        "id": "a3f46fbeb5f59131",
        "type": "server-state-changed",
        "z": "5dd8a5e802404efd",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 1,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "media_player.shield"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": true,
        "stateType": "str",
        "ifState": "",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 160,
        "y": 160,
        "wires": [
            [
                "3a5396be8f9c1286"
            ]
        ]
    },
    {
        "id": "3a5396be8f9c1286",
        "type": "switch",
        "z": "5dd8a5e802404efd",
        "name": "volume",
        "property": "data.new_state.attributes.volume_level",
        "propertyType": "msg",
        "rules": [
            {
                "t": "gte",
                "v": "1",
                "vt": "num"
            },
            {
                "t": "lt",
                "v": "1",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 380,
        "y": 160,
        "wires": [
            [
                "84a90e2a73f04f0b"
            ],
            [
                "8922b34fa1783c92"
            ]
        ]
    },
    {
        "id": "84a90e2a73f04f0b",
        "type": "change",
        "z": "5dd8a5e802404efd",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "on",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 580,
        "y": 160,
        "wires": [
            [
                "7ca936eb66e9e2d5"
            ]
        ]
    },
    {
        "id": "8922b34fa1783c92",
        "type": "change",
        "z": "5dd8a5e802404efd",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "off",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 580,
        "y": 200,
        "wires": [
            [
                "7ca936eb66e9e2d5"
            ]
        ]
    },
    {
        "id": "8302218c63a6d04e",
        "type": "comment",
        "z": "63d17f8cdd49c797",
        "name": "scene that activate start url on the galaxy tab wall tablet",
        "info": "",
        "x": 220,
        "y": 20,
        "wires": []
    },
    {
        "id": "f27f06b74e5f3830",
        "type": "link in",
        "z": "63d17f8cdd49c797",
        "name": "scene_load_start_url_galaxy_tab_a8",
        "links": [
            "c7889bf53b45acd0"
        ],
        "x": 305,
        "y": 180,
        "wires": [
            [
                "13fdf8af8b362196"
            ]
        ]
    },
    {
        "id": "64d65bfae1806746",
        "type": "catch",
        "z": "63d17f8cdd49c797",
        "g": "694769de591fade7",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "b96d486fc4d77383"
            ]
        ]
    },
    {
        "id": "b96d486fc4d77383",
        "type": "template",
        "z": "63d17f8cdd49c797",
        "g": "694769de591fade7",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "76d1def5af33cc97"
            ]
        ]
    },
    {
        "id": "d485b3827efdeceb",
        "type": "link out",
        "z": "63d17f8cdd49c797",
        "g": "694769de591fade7",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 675,
        "y": 80,
        "wires": []
    },
    {
        "id": "76d1def5af33cc97",
        "type": "template",
        "z": "63d17f8cdd49c797",
        "g": "694769de591fade7",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "e5c9012fa7520167"
            ]
        ]
    },
    {
        "id": "e5c9012fa7520167",
        "type": "function",
        "z": "63d17f8cdd49c797",
        "g": "694769de591fade7",
        "name": "notify.notification_id",
        "func": "msg.notify.notification_id = env.get(\"NR_FLOW_ID\");\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 550,
        "y": 80,
        "wires": [
            [
                "d485b3827efdeceb"
            ]
        ]
    },
    {
        "id": "13fdf8af8b362196",
        "type": "api-current-state",
        "z": "63d17f8cdd49c797",
        "name": "current galaxy tab a8 kiosk url",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 1,
        "halt_if": "",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "sensor.galaxy_tab_a8_current_page",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 470,
        "y": 180,
        "wires": [
            [
                "0ac90869fbbde856"
            ]
        ]
    },
    {
        "id": "0ac90869fbbde856",
        "type": "switch",
        "z": "63d17f8cdd49c797",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "cont",
                "v": "music-assistant",
                "vt": "str"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 670,
        "y": 180,
        "wires": [
            [
                "863a823cf830ecc5"
            ],
            [
                "1e019cb7ead11267"
            ]
        ]
    },
    {
        "id": "1e019cb7ead11267",
        "type": "link out",
        "z": "63d17f8cdd49c797",
        "name": "otherwise",
        "mode": "link",
        "links": [
            "f2401b56bd4cc64d"
        ],
        "x": 775,
        "y": 220,
        "wires": []
    },
    {
        "id": "863a823cf830ecc5",
        "type": "link out",
        "z": "63d17f8cdd49c797",
        "name": "music-assistant",
        "mode": "link",
        "links": [
            "f0c210c93a8f5cfe"
        ],
        "x": 775,
        "y": 160,
        "wires": []
    },
    {
        "id": "6b6bd65614097561",
        "type": "comment",
        "z": "4b48188ca7b303d7",
        "name": "change light based on actions",
        "info": "",
        "x": 140,
        "y": 20,
        "wires": []
    },
    {
        "id": "ce324704d2fae759",
        "type": "function",
        "z": "4b48188ca7b303d7",
        "name": "store light brightness",
        "func": "var object = \"history.\" + msg.payload.entity_id + \".attributes\"\nvar brightness = object + \".brightness\"\nvar state = object + \".state\"\nflow.set(brightness, msg.payload.attributes.brightness)\nflow.set(state, msg.payload.state)\nreturn msg",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1300,
        "y": 160,
        "wires": [
            [
                "7ba9724ab83fa1a3"
            ]
        ]
    },
    {
        "id": "ae4305924010abf0",
        "type": "split",
        "z": "4b48188ca7b303d7",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 2130,
        "y": 160,
        "wires": [
            [
                "4f241513e7cea2ac"
            ]
        ]
    },
    {
        "id": "97c520659be6b4b3",
        "type": "change",
        "z": "4b48188ca7b303d7",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "history.light",
                "tot": "flow"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1980,
        "y": 160,
        "wires": [
            [
                "ae4305924010abf0"
            ]
        ]
    },
    {
        "id": "4f241513e7cea2ac",
        "type": "switch",
        "z": "4b48188ca7b303d7",
        "name": "",
        "property": "payload.attributes.state",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "on",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "off",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 2250,
        "y": 160,
        "wires": [
            [
                "546fefed6fa99188"
            ],
            [
                "7a9894c1b0d507b3"
            ]
        ]
    },
    {
        "id": "36f6d937dac70d3b",
        "type": "switch",
        "z": "4b48188ca7b303d7",
        "name": "flow not active",
        "property": "active",
        "propertyType": "flow",
        "rules": [
            {
                "t": "neq",
                "v": "true",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 740,
        "y": 160,
        "wires": [
            [
                "62d81c701468e19d"
            ]
        ]
    },
    {
        "id": "f8cde10a25c99253",
        "type": "change",
        "z": "4b48188ca7b303d7",
        "name": "set flow active to false",
        "rules": [
            {
                "t": "set",
                "p": "active",
                "pt": "flow",
                "to": "false",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2000,
        "y": 220,
        "wires": [
            []
        ]
    },
    {
        "id": "cfb9524c088b31a3",
        "type": "change",
        "z": "4b48188ca7b303d7",
        "name": "set flow active to true",
        "rules": [
            {
                "t": "set",
                "p": "active",
                "pt": "flow",
                "to": "true",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1740,
        "y": 220,
        "wires": [
            []
        ]
    },
    {
        "id": "7ba9724ab83fa1a3",
        "type": "api-call-service",
        "z": "4b48188ca7b303d7",
        "name": "turn up brightness",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "{{payload.entity_id}}"
        ],
        "labelId": [],
        "data": "{\"brightness_pct\":\"65\",\"transition\":5000}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "all",
        "blockInputOverrides": false,
        "domain": "light",
        "service": "turn_on",
        "x": 1510,
        "y": 160,
        "wires": [
            [
                "8f4a7b8ae2cc4f22",
                "cfb9524c088b31a3"
            ]
        ]
    },
    {
        "id": "546fefed6fa99188",
        "type": "api-call-service",
        "z": "4b48188ca7b303d7",
        "name": "restore light on state",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "light.{{parts.key}}"
        ],
        "labelId": [],
        "data": "{\"brightness\":\"{{payload.attributes.brightness}}\",\"transition\":5000}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "light",
        "service": "turn_on",
        "x": 2420,
        "y": 160,
        "wires": [
            []
        ]
    },
    {
        "id": "7a9894c1b0d507b3",
        "type": "api-call-service",
        "z": "4b48188ca7b303d7",
        "name": "restore light off state",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "light.{{parts.key}}"
        ],
        "labelId": [],
        "data": "{\"transition\":5000}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "light",
        "service": "turn_off",
        "x": 2420,
        "y": 220,
        "wires": [
            []
        ]
    },
    {
        "id": "62d81c701468e19d",
        "type": "api-current-state",
        "z": "4b48188ca7b303d7",
        "name": "is dark outside",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "binary_sensor.outdoor_daylight",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 920,
        "y": 160,
        "wires": [
            [
                "afd9f276117c7fb3",
                "dc674152553b250e"
            ],
            []
        ]
    },
    {
        "id": "dc674152553b250e",
        "type": "ha-get-entities",
        "z": "4b48188ca7b303d7",
        "name": "get lights",
        "server": "4ba92433.2478cc",
        "version": 1,
        "rules": [
            {
                "property": "entity_id",
                "logic": "is",
                "value": "light.shellydimmer_backyard_string_l",
                "valueType": "str",
                "condition": "state_object"
            }
        ],
        "outputType": "split",
        "outputEmptyResults": false,
        "outputLocationType": "msg",
        "outputLocation": "payload",
        "outputResultsCount": 1,
        "x": 1100,
        "y": 220,
        "wires": [
            [
                "ce324704d2fae759"
            ]
        ]
    },
    {
        "id": "afd9f276117c7fb3",
        "type": "ha-get-entities",
        "z": "4b48188ca7b303d7",
        "name": "get lights",
        "server": "4ba92433.2478cc",
        "version": 1,
        "rules": [
            {
                "property": "entity_id",
                "logic": "is",
                "value": "light.shellydimmer_barn_hanging_lam",
                "valueType": "str",
                "condition": "state_object"
            }
        ],
        "outputType": "split",
        "outputEmptyResults": false,
        "outputLocationType": "msg",
        "outputLocation": "payload",
        "outputResultsCount": 1,
        "x": 1100,
        "y": 160,
        "wires": [
            [
                "ce324704d2fae759"
            ]
        ]
    },
    {
        "id": "8f4a7b8ae2cc4f22",
        "type": "stoptimer",
        "z": "4b48188ca7b303d7",
        "duration": "2",
        "units": "Minute",
        "payloadtype": "num",
        "payloadval": "0",
        "name": "",
        "x": 1720,
        "y": 160,
        "wires": [
            [
                "97c520659be6b4b3",
                "f8cde10a25c99253"
            ],
            []
        ]
    },
    {
        "id": "9767891df003f1fd",
        "type": "link in",
        "z": "4b48188ca7b303d7",
        "name": "light_dynamics_backyard",
        "links": [
            "56356fe965332f8d",
            "bda7b83568b348de",
            "fe840a38fa8d493b"
        ],
        "x": 305,
        "y": 160,
        "wires": [
            [
                "527fe13b8dcb90a8"
            ]
        ]
    },
    {
        "id": "75c507ce2ee1d241",
        "type": "catch",
        "z": "4b48188ca7b303d7",
        "g": "b79ee88e5b5f1418",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "67d55472242eeb4e"
            ]
        ]
    },
    {
        "id": "67d55472242eeb4e",
        "type": "template",
        "z": "4b48188ca7b303d7",
        "g": "b79ee88e5b5f1418",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "2d1e21dd9951b3a4"
            ]
        ]
    },
    {
        "id": "53e3d4a22ecb2506",
        "type": "link out",
        "z": "4b48188ca7b303d7",
        "g": "b79ee88e5b5f1418",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 675,
        "y": 80,
        "wires": []
    },
    {
        "id": "2d1e21dd9951b3a4",
        "type": "template",
        "z": "4b48188ca7b303d7",
        "g": "b79ee88e5b5f1418",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "abe412ddd3ad085d"
            ]
        ]
    },
    {
        "id": "abe412ddd3ad085d",
        "type": "function",
        "z": "4b48188ca7b303d7",
        "g": "b79ee88e5b5f1418",
        "name": "notify.notification_id",
        "func": "msg.notify.notification_id = env.get(\"NR_FLOW_ID\");\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 550,
        "y": 80,
        "wires": [
            [
                "53e3d4a22ecb2506"
            ]
        ]
    },
    {
        "id": "527fe13b8dcb90a8",
        "type": "api-current-state",
        "z": "4b48188ca7b303d7",
        "name": "automation light motion backyard is on",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.automation_light_motion_backyard_enabled",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 490,
        "y": 160,
        "wires": [
            [
                "36f6d937dac70d3b"
            ],
            []
        ]
    },
    {
        "id": "05b733122c26d34e",
        "type": "comment",
        "z": "b82f262707b1b627",
        "name": "morning routine automation",
        "info": "",
        "x": 130,
        "y": 20,
        "wires": []
    },
    {
        "id": "d958de33a2111631",
        "type": "catch",
        "z": "b82f262707b1b627",
        "g": "18afb910f106dcb2",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "221f050710b81e51"
            ]
        ]
    },
    {
        "id": "221f050710b81e51",
        "type": "template",
        "z": "b82f262707b1b627",
        "g": "18afb910f106dcb2",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "7148e9063fdd902c"
            ]
        ]
    },
    {
        "id": "1a3ee582d393170a",
        "type": "link out",
        "z": "b82f262707b1b627",
        "g": "18afb910f106dcb2",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 675,
        "y": 80,
        "wires": []
    },
    {
        "id": "7148e9063fdd902c",
        "type": "template",
        "z": "b82f262707b1b627",
        "g": "18afb910f106dcb2",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "210f8d4ab7687813"
            ]
        ]
    },
    {
        "id": "210f8d4ab7687813",
        "type": "function",
        "z": "b82f262707b1b627",
        "g": "18afb910f106dcb2",
        "name": "notify.notification_id",
        "func": "msg.notify.notification_id = env.get(\"NR_FLOW_ID\");\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 550,
        "y": 80,
        "wires": [
            [
                "1a3ee582d393170a"
            ]
        ]
    },
    {
        "id": "420095d1b8fcb7b9",
        "type": "ha-wait-until",
        "z": "b82f262707b1b627",
        "name": "wait until it is light outside",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 1,
        "entities": {
            "entity": [
                "binary_sensor.outdoor_daylight"
            ],
            "substring": [],
            "regex": []
        },
        "property": "state",
        "comparator": "is",
        "value": "on",
        "valueType": "str",
        "timeout": "0",
        "timeoutType": "num",
        "timeoutUnits": "seconds",
        "checkCurrentState": true,
        "blockInputOverrides": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "entityLocation": "data",
        "entityLocationType": "none",
        "x": 510,
        "y": 300,
        "wires": [
            [
                "7625c5f50849c763"
            ]
        ]
    },
    {
        "id": "7a06ef13799382f8",
        "type": "api-current-state",
        "z": "b82f262707b1b627",
        "name": "state guest on",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.guest",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 480,
        "y": 240,
        "wires": [
            [
                "2acd21ab7743eac2"
            ],
            []
        ]
    },
    {
        "id": "846c13055e92a948",
        "type": "api-current-state",
        "z": "b82f262707b1b627",
        "name": "state persons home",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "home",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "group.persons",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 490,
        "y": 180,
        "wires": [
            [
                "2acd21ab7743eac2"
            ],
            []
        ]
    },
    {
        "id": "6a7fa5b6d018ae01",
        "type": "link in",
        "z": "b82f262707b1b627",
        "name": "automation_morning_routine",
        "links": [
            "c62f6b0d1b183091"
        ],
        "x": 345,
        "y": 180,
        "wires": [
            [
                "846c13055e92a948",
                "7a06ef13799382f8",
                "420095d1b8fcb7b9"
            ]
        ]
    },
    {
        "id": "2acd21ab7743eac2",
        "type": "function",
        "z": "b82f262707b1b627",
        "name": "entities",
        "func": "msg.entity = [\n    {name: \"input_boolean.sleep_mode\"},\n    {name: \"input_boolean.home_security\"}\n];\n\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 700,
        "y": 180,
        "wires": [
            [
                "095e865a82bf925b"
            ]
        ]
    },
    {
        "id": "095e865a82bf925b",
        "type": "subflow:29e8244a8f81a1d5",
        "z": "b82f262707b1b627",
        "name": "",
        "x": 880,
        "y": 180,
        "wires": [
            []
        ]
    },
    {
        "id": "bd5c4be8dc491ed3",
        "type": "subflow:dbca868556b8a1c3",
        "z": "b82f262707b1b627",
        "name": "",
        "x": 850,
        "y": 300,
        "wires": [
            []
        ]
    },
    {
        "id": "7625c5f50849c763",
        "type": "function",
        "z": "b82f262707b1b627",
        "name": "entities",
        "func": "msg.entity = [\n    {name: \"light.shelly1_front_door\"},\n    {name: \"light.shellydimmer_backyard_string_l\"},\n    {name: \"light.shellydimmer_barn_hanging_lam\"},\n    {name: \"light.shelly1_barn_door\"}    \n];\n\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 700,
        "y": 300,
        "wires": [
            [
                "bd5c4be8dc491ed3"
            ]
        ]
    },
    {
        "id": "800e64cd36e0aad4",
        "type": "comment",
        "z": "e0e34b3e49b36c0e",
        "name": "When it is light outside trigger",
        "info": "",
        "x": 140,
        "y": 20,
        "wires": []
    },
    {
        "id": "7e3e4723243d216a",
        "type": "api-call-service",
        "z": "e0e34b3e49b36c0e",
        "name": "set theme dark",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "frontend.set_theme",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [],
        "labelId": [],
        "data": "{\"name\":\"google_light_theme\",\"mode\":\"dark\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "frontend",
        "service": "set_theme",
        "x": 440,
        "y": 280,
        "wires": [
            []
        ]
    },
    {
        "id": "942e6877c650d85a",
        "type": "api-current-state",
        "z": "e0e34b3e49b36c0e",
        "name": "state persons home",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "home",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "group.persons",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 450,
        "y": 160,
        "wires": [
            [
                "543951e3188f5752"
            ],
            []
        ]
    },
    {
        "id": "e71b9aacf1915376",
        "type": "api-current-state",
        "z": "e0e34b3e49b36c0e",
        "name": "state guest on",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.guest",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 440,
        "y": 220,
        "wires": [
            [
                "543951e3188f5752"
            ],
            []
        ]
    },
    {
        "id": "2272a67f712f8390",
        "type": "link in",
        "z": "e0e34b3e49b36c0e",
        "name": "automation_light_outdoor",
        "links": [
            "2021a3dcd50cad13"
        ],
        "x": 285,
        "y": 160,
        "wires": [
            [
                "942e6877c650d85a",
                "e71b9aacf1915376",
                "7e3e4723243d216a",
                "7eb72c09ca7e9764"
            ]
        ]
    },
    {
        "id": "7eb72c09ca7e9764",
        "type": "function",
        "z": "e0e34b3e49b36c0e",
        "name": "entities",
        "func": "msg.entity = [\n    {\n        name: \"light.shellydimmer_backyard_string_l\",\n        brightness_pct: 25\n    },\n    {\n        name: \"light.shelly1_front_door\"\n    }\n];\n\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 420,
        "y": 340,
        "wires": [
            [
                "20cd1b7cf52ceac8"
            ]
        ]
    },
    {
        "id": "20cd1b7cf52ceac8",
        "type": "subflow:dbca868556b8a1c3",
        "z": "e0e34b3e49b36c0e",
        "name": "",
        "x": 570,
        "y": 340,
        "wires": [
            []
        ]
    },
    {
        "id": "7bf4e5e5d1176576",
        "type": "subflow:29e8244a8f81a1d5",
        "z": "e0e34b3e49b36c0e",
        "name": "",
        "x": 840,
        "y": 160,
        "wires": [
            []
        ]
    },
    {
        "id": "543951e3188f5752",
        "type": "function",
        "z": "e0e34b3e49b36c0e",
        "name": "entities",
        "func": "msg.entity = [\n    {\n        name: \"input_boolean.sleep_mode\"\n    },\n    {\n        name: \"input_boolean.home_security\"\n    }\n];\n\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 660,
        "y": 160,
        "wires": [
            [
                "7bf4e5e5d1176576"
            ]
        ]
    },
    {
        "id": "8edbcdc648b5d26e",
        "type": "catch",
        "z": "e0e34b3e49b36c0e",
        "g": "e05fc2f16e523b41",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "47e52ab72e9c041c"
            ]
        ]
    },
    {
        "id": "47e52ab72e9c041c",
        "type": "template",
        "z": "e0e34b3e49b36c0e",
        "g": "e05fc2f16e523b41",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "ee907863ab8c5ce0"
            ]
        ]
    },
    {
        "id": "41b174876237d623",
        "type": "link out",
        "z": "e0e34b3e49b36c0e",
        "g": "e05fc2f16e523b41",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 675,
        "y": 80,
        "wires": []
    },
    {
        "id": "ee907863ab8c5ce0",
        "type": "template",
        "z": "e0e34b3e49b36c0e",
        "g": "e05fc2f16e523b41",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "7f2715dc3075a76b"
            ]
        ]
    },
    {
        "id": "7f2715dc3075a76b",
        "type": "function",
        "z": "e0e34b3e49b36c0e",
        "g": "e05fc2f16e523b41",
        "name": "notify.notification_id",
        "func": "msg.notify.notification_id = env.get(\"NR_FLOW_ID\");\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 550,
        "y": 80,
        "wires": [
            [
                "41b174876237d623"
            ]
        ]
    },
    {
        "id": "d6c682dafeec9a64",
        "type": "comment",
        "z": "3087db0b32ceb4d4",
        "name": "When it is dark outside trigger",
        "info": "",
        "x": 140,
        "y": 20,
        "wires": []
    },
    {
        "id": "b28f768263057783",
        "type": "api-call-service",
        "z": "3087db0b32ceb4d4",
        "name": "set theme dark",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "frontend.set_theme",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [],
        "labelId": [],
        "data": "{\"name\":\"google_dark_theme\",\"mode\":\"dark\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "frontend",
        "service": "set_theme",
        "x": 460,
        "y": 360,
        "wires": [
            []
        ]
    },
    {
        "id": "0f3dc42604681b90",
        "type": "api-current-state",
        "z": "3087db0b32ceb4d4",
        "name": "state persons home",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "home",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "group.persons",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 470,
        "y": 180,
        "wires": [
            [
                "d6cfed79494951aa"
            ],
            []
        ]
    },
    {
        "id": "20a9a8dc7b5339a8",
        "type": "api-current-state",
        "z": "3087db0b32ceb4d4",
        "name": "state guest on",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.guest",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 460,
        "y": 240,
        "wires": [
            [
                "d6cfed79494951aa"
            ],
            []
        ]
    },
    {
        "id": "2de9785e45507235",
        "type": "api-current-state",
        "z": "3087db0b32ceb4d4",
        "name": "input select activity is tv",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "TV",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_select.entertainment_activity",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 490,
        "y": 300,
        "wires": [
            [
                "73c2a1cb74697128"
            ],
            []
        ]
    },
    {
        "id": "5b4b9a106796749a",
        "type": "catch",
        "z": "3087db0b32ceb4d4",
        "g": "e72d1d528dd56224",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "219fb66a34f6d5fc"
            ]
        ]
    },
    {
        "id": "219fb66a34f6d5fc",
        "type": "template",
        "z": "3087db0b32ceb4d4",
        "g": "e72d1d528dd56224",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "dae13c944f704b59"
            ]
        ]
    },
    {
        "id": "b8f35a173d514067",
        "type": "link out",
        "z": "3087db0b32ceb4d4",
        "g": "e72d1d528dd56224",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 475,
        "y": 80,
        "wires": []
    },
    {
        "id": "dae13c944f704b59",
        "type": "template",
        "z": "3087db0b32ceb4d4",
        "g": "e72d1d528dd56224",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "b8f35a173d514067"
            ]
        ]
    },
    {
        "id": "6cd38171160cb9af",
        "type": "link in",
        "z": "3087db0b32ceb4d4",
        "name": "automation_dark_outside",
        "links": [
            "752c49c8fe14edb9"
        ],
        "x": 305,
        "y": 180,
        "wires": [
            [
                "0f3dc42604681b90",
                "20a9a8dc7b5339a8",
                "2de9785e45507235",
                "b28f768263057783"
            ]
        ]
    },
    {
        "id": "4664a201c231dfc4",
        "type": "subflow:9035787f55f7c373",
        "z": "3087db0b32ceb4d4",
        "name": "",
        "x": 850,
        "y": 180,
        "wires": [
            []
        ]
    },
    {
        "id": "d6cfed79494951aa",
        "type": "function",
        "z": "3087db0b32ceb4d4",
        "name": "entities",
        "func": "msg.entity = [\n    {\n        name: \"light.shellydimmer_backyard_string_l\",\n        brightness_pct: 25\n    },\n    {\n        name: \"light.shelly1_front_door\"\n    }\n];\n\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 680,
        "y": 180,
        "wires": [
            [
                "4664a201c231dfc4"
            ]
        ]
    },
    {
        "id": "73c2a1cb74697128",
        "type": "function",
        "z": "3087db0b32ceb4d4",
        "name": "entities",
        "func": "msg.entity = [\n    {\n        name: \"light.shellydimmer_living_room\"\n    }\n];\n\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 680,
        "y": 300,
        "wires": [
            [
                "4664a201c231dfc4"
            ]
        ]
    },
    {
        "id": "f7c6fa154b77f448",
        "type": "comment",
        "z": "71f3d7905a503d5c",
        "name": "flow to turn on the barn light when backyard motion sensor is on and it is dark",
        "info": "",
        "x": 290,
        "y": 20,
        "wires": []
    },
    {
        "id": "0854f23ba4b218d4",
        "type": "api-current-state",
        "z": "71f3d7905a503d5c",
        "name": "daylight is off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "binary_sensor.outdoor_daylight",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 470,
        "y": 180,
        "wires": [
            [
                "bb072ee49df82c8f"
            ],
            []
        ]
    },
    {
        "id": "54fb650bc5875c9c",
        "type": "link in",
        "z": "71f3d7905a503d5c",
        "name": "automation_light_turn_on_barn_door",
        "links": [
            "b8e3f2eef759d8e7"
        ],
        "x": 365,
        "y": 180,
        "wires": [
            [
                "0854f23ba4b218d4"
            ]
        ]
    },
    {
        "id": "3ff6ad22a7381722",
        "type": "catch",
        "z": "71f3d7905a503d5c",
        "g": "2a78e02fa18bb1d1",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "4851c318d4cac51f"
            ]
        ]
    },
    {
        "id": "4851c318d4cac51f",
        "type": "template",
        "z": "71f3d7905a503d5c",
        "g": "2a78e02fa18bb1d1",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "1f889fccd74a0c5c"
            ]
        ]
    },
    {
        "id": "b4e1ba1ac658efda",
        "type": "link out",
        "z": "71f3d7905a503d5c",
        "g": "2a78e02fa18bb1d1",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 675,
        "y": 80,
        "wires": []
    },
    {
        "id": "1f889fccd74a0c5c",
        "type": "template",
        "z": "71f3d7905a503d5c",
        "g": "2a78e02fa18bb1d1",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "d174aad240e54dcd"
            ]
        ]
    },
    {
        "id": "d174aad240e54dcd",
        "type": "function",
        "z": "71f3d7905a503d5c",
        "g": "2a78e02fa18bb1d1",
        "name": "notify.notification_id",
        "func": "msg.notify.notification_id = env.get(\"NR_FLOW_ID\");\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 550,
        "y": 80,
        "wires": [
            [
                "b4e1ba1ac658efda"
            ]
        ]
    },
    {
        "id": "cec8b547afe26ad7",
        "type": "link in",
        "z": "71f3d7905a503d5c",
        "name": "automation_light_turn_off_barn_door",
        "links": [
            "bbdf915f13a37607"
        ],
        "x": 365,
        "y": 240,
        "wires": [
            [
                "8c244203c4fcc324"
            ]
        ]
    },
    {
        "id": "a60ae829d7c6feb5",
        "type": "change",
        "z": "71f3d7905a503d5c",
        "name": "set light status",
        "rules": [
            {
                "t": "set",
                "p": "light_status",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1000,
        "y": 180,
        "wires": [
            []
        ]
    },
    {
        "id": "8c244203c4fcc324",
        "type": "switch",
        "z": "71f3d7905a503d5c",
        "name": "light status was off",
        "property": "light_status",
        "propertyType": "flow",
        "rules": [
            {
                "t": "eq",
                "v": "off",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 490,
        "y": 240,
        "wires": [
            [
                "a42abc6d6d33b326"
            ]
        ]
    },
    {
        "id": "475a7054bc21bea5",
        "type": "change",
        "z": "71f3d7905a503d5c",
        "name": "delete light status",
        "rules": [
            {
                "t": "delete",
                "p": "light_status",
                "pt": "flow"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 990,
        "y": 240,
        "wires": [
            []
        ]
    },
    {
        "id": "bb072ee49df82c8f",
        "type": "function",
        "z": "71f3d7905a503d5c",
        "name": "entities",
        "func": "msg.entity = [\n    {name: \"light.shelly1_barn_door\"}\n];\n\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 660,
        "y": 180,
        "wires": [
            [
                "e2ba27e4cae59ca2"
            ]
        ]
    },
    {
        "id": "e2ba27e4cae59ca2",
        "type": "subflow:9035787f55f7c373",
        "z": "71f3d7905a503d5c",
        "name": "",
        "x": 810,
        "y": 180,
        "wires": [
            [
                "a60ae829d7c6feb5"
            ]
        ]
    },
    {
        "id": "056248f6493cab14",
        "type": "subflow:dbca868556b8a1c3",
        "z": "71f3d7905a503d5c",
        "name": "",
        "x": 810,
        "y": 240,
        "wires": [
            [
                "475a7054bc21bea5"
            ]
        ]
    },
    {
        "id": "a42abc6d6d33b326",
        "type": "function",
        "z": "71f3d7905a503d5c",
        "name": "entities",
        "func": "msg.entity = [\n    {name: \"light.shelly1_barn_door\"}\n];\n\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 660,
        "y": 240,
        "wires": [
            [
                "056248f6493cab14"
            ]
        ]
    },
    {
        "id": "829ebe303649c1a4",
        "type": "comment",
        "z": "a01f4b2ba7273751",
        "name": "automations that turns on or off the quooker",
        "info": "",
        "x": 190,
        "y": 20,
        "wires": []
    },
    {
        "id": "7a590bd22b1c5c26",
        "type": "catch",
        "z": "a01f4b2ba7273751",
        "g": "c5bc30ae131c7d21",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "389ff21a6e956dc8"
            ]
        ]
    },
    {
        "id": "389ff21a6e956dc8",
        "type": "template",
        "z": "a01f4b2ba7273751",
        "g": "c5bc30ae131c7d21",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "d9bb3006c5735715"
            ]
        ]
    },
    {
        "id": "6f50710eaad2ce90",
        "type": "link out",
        "z": "a01f4b2ba7273751",
        "g": "c5bc30ae131c7d21",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 675,
        "y": 80,
        "wires": []
    },
    {
        "id": "d9bb3006c5735715",
        "type": "template",
        "z": "a01f4b2ba7273751",
        "g": "c5bc30ae131c7d21",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "57a9c99855471ad9"
            ]
        ]
    },
    {
        "id": "57a9c99855471ad9",
        "type": "function",
        "z": "a01f4b2ba7273751",
        "g": "c5bc30ae131c7d21",
        "name": "notify.notification_id",
        "func": "msg.notify.notification_id = env.get(\"NR_FLOW_ID\");\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 550,
        "y": 80,
        "wires": [
            [
                "6f50710eaad2ce90"
            ]
        ]
    },
    {
        "id": "fddcd3fca0b8369a",
        "type": "subflow:9b6778c2f37a86dd",
        "z": "a01f4b2ba7273751",
        "name": "",
        "x": 720,
        "y": 200,
        "wires": [
            []
        ]
    },
    {
        "id": "1352a3da14edc71b",
        "type": "function",
        "z": "a01f4b2ba7273751",
        "name": "entities",
        "func": "msg.entity = [\n    {name: \"switch.shellyplugplus_quooker_switch_0\"}\n];\n\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 560,
        "y": 200,
        "wires": [
            [
                "fddcd3fca0b8369a"
            ]
        ]
    },
    {
        "id": "eb861e02e320d36c",
        "type": "function",
        "z": "a01f4b2ba7273751",
        "name": "entities",
        "func": "msg.entity = [\n    {name: \"switch.shellyplugplus_quooker_switch_0\"}\n];\n\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 560,
        "y": 360,
        "wires": [
            [
                "cfd234d220ba4df1"
            ]
        ]
    },
    {
        "id": "cfd234d220ba4df1",
        "type": "subflow:b2cf9c405297cba6",
        "z": "a01f4b2ba7273751",
        "name": "",
        "x": 720,
        "y": 360,
        "wires": [
            []
        ]
    },
    {
        "id": "a48b07bbb39ac14e",
        "type": "link in",
        "z": "a01f4b2ba7273751",
        "name": "on_time_range",
        "links": [
            "8b1bdde5406f507b"
        ],
        "x": 265,
        "y": 260,
        "wires": [
            [
                "f4a68bb61137474e"
            ]
        ]
    },
    {
        "id": "f4a68bb61137474e",
        "type": "time-range-switch",
        "z": "a01f4b2ba7273751",
        "name": "",
        "lat": "",
        "lon": "",
        "startTime": "07:15",
        "endTime": "19:45",
        "startOffset": 0,
        "endOffset": 0,
        "x": 370,
        "y": 260,
        "wires": [
            [
                "1352a3da14edc71b"
            ],
            []
        ]
    },
    {
        "id": "bb477f7b2c78f471",
        "type": "link in",
        "z": "a01f4b2ba7273751",
        "name": "on",
        "links": [
            "820baad82a3ea43b"
        ],
        "x": 265,
        "y": 200,
        "wires": [
            [
                "1352a3da14edc71b"
            ]
        ]
    },
    {
        "id": "707021d35a2513df",
        "type": "link in",
        "z": "a01f4b2ba7273751",
        "name": "off",
        "links": [
            "45b585ed12457e30",
            "dad8fc7416653229"
        ],
        "x": 265,
        "y": 360,
        "wires": [
            [
                "eb861e02e320d36c"
            ]
        ]
    },
    {
        "id": "4e3d7d7dc062d5f4",
        "type": "comment",
        "z": "1adcdebcdc8e5c39",
        "name": "Set all climate graph input selects to certain input",
        "info": "",
        "x": 200,
        "y": 20,
        "wires": []
    },
    {
        "id": "caa9c954adc5c425",
        "type": "api-call-service",
        "z": "1adcdebcdc8e5c39",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "input_select.select_option",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "{{payload.entity_id}}"
        ],
        "labelId": [],
        "data": "{\"option\":\"{{data.new_state.attributes.friendly_name}}\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "input_select",
        "service": "select_option",
        "x": 630,
        "y": 160,
        "wires": [
            []
        ]
    },
    {
        "id": "a06f052e713de33d",
        "type": "server-state-changed",
        "z": "1adcdebcdc8e5c39",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 1,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [],
            "substring": [],
            "regex": [
                "input_button.climate_graph"
            ]
        },
        "outputInitially": false,
        "stateType": "str",
        "ifState": "",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 180,
        "y": 160,
        "wires": [
            [
                "6c70289470244d20"
            ]
        ]
    },
    {
        "id": "6c70289470244d20",
        "type": "ha-get-entities",
        "z": "1adcdebcdc8e5c39",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 1,
        "rules": [
            {
                "condition": "state_object",
                "property": "entity_id",
                "logic": "is",
                "value": "input_select.climate_graph_*",
                "valueType": "re"
            }
        ],
        "outputType": "split",
        "outputEmptyResults": false,
        "outputLocationType": "msg",
        "outputLocation": "payload",
        "outputResultsCount": 1,
        "x": 430,
        "y": 160,
        "wires": [
            [
                "caa9c954adc5c425"
            ]
        ]
    },
    {
        "id": "13ec4212aa6c7097",
        "type": "catch",
        "z": "1adcdebcdc8e5c39",
        "g": "8ba9bcbdc999fc66",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "2d9839edb5b18080"
            ]
        ]
    },
    {
        "id": "2d9839edb5b18080",
        "type": "template",
        "z": "1adcdebcdc8e5c39",
        "g": "8ba9bcbdc999fc66",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "0df371a631a420f1"
            ]
        ]
    },
    {
        "id": "37d1e62a237418c8",
        "type": "link out",
        "z": "1adcdebcdc8e5c39",
        "g": "8ba9bcbdc999fc66",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 675,
        "y": 80,
        "wires": []
    },
    {
        "id": "0df371a631a420f1",
        "type": "template",
        "z": "1adcdebcdc8e5c39",
        "g": "8ba9bcbdc999fc66",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "9f7cae83c633220f"
            ]
        ]
    },
    {
        "id": "9f7cae83c633220f",
        "type": "function",
        "z": "1adcdebcdc8e5c39",
        "g": "8ba9bcbdc999fc66",
        "name": "notify.notification_id",
        "func": "msg.notify.notification_id = env.get(\"NR_FLOW_ID\");\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 550,
        "y": 80,
        "wires": [
            [
                "37d1e62a237418c8"
            ]
        ]
    },
    {
        "id": "2fdc370fce5756c2",
        "type": "comment",
        "z": "d7c35c04cc0c5b68",
        "name": "Flow that turns on and off the electrical heater if voltage rise or drop",
        "info": "",
        "x": 260,
        "y": 20,
        "wires": []
    },
    {
        "id": "423bfb3fe34e59d4",
        "type": "switch",
        "z": "d7c35c04cc0c5b68",
        "name": "voltage",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "gte",
                "v": "253",
                "vt": "num"
            },
            {
                "t": "gte",
                "v": "252",
                "vt": "num"
            },
            {
                "t": "lte",
                "v": "248",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 3,
        "x": 260,
        "y": 160,
        "wires": [
            [
                "ed73ef123074e011"
            ],
            [],
            [
                "fd9636d9d6afe3b7"
            ]
        ]
    },
    {
        "id": "207c2f6e26d0c669",
        "type": "delay",
        "z": "d7c35c04cc0c5b68",
        "name": "",
        "pauseType": "rate",
        "timeout": "30",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "5",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": true,
        "allowrate": false,
        "outputs": 1,
        "x": 1000,
        "y": 160,
        "wires": [
            [
                "7e334b8861b9df2a"
            ]
        ]
    },
    {
        "id": "e8ce7b12402d8e51",
        "type": "api-call-service",
        "z": "d7c35c04cc0c5b68",
        "name": "turn on heater",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "switch.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "switch.shellyplugplus_heather_switch_0"
        ],
        "labelId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "switch",
        "service": "turn_on",
        "x": 820,
        "y": 160,
        "wires": [
            [
                "207c2f6e26d0c669"
            ]
        ]
    },
    {
        "id": "4ed1d7ce9b4786d9",
        "type": "api-call-service",
        "z": "d7c35c04cc0c5b68",
        "name": "turn off heater",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "switch.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "switch.shellyplugplus_heather_switch_0"
        ],
        "labelId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "switch",
        "service": "turn_off",
        "x": 1620,
        "y": 280,
        "wires": [
            []
        ]
    },
    {
        "id": "ed73ef123074e011",
        "type": "api-current-state",
        "z": "d7c35c04cc0c5b68",
        "name": "sleepmode is off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.sleep_mode",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 460,
        "y": 160,
        "wires": [
            [
                "59263b75863fd017"
            ],
            []
        ]
    },
    {
        "id": "59263b75863fd017",
        "type": "api-current-state",
        "z": "d7c35c04cc0c5b68",
        "name": "heater is not on",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is_not",
        "entity_id": "switch.shellyplugplus_heather_switch_0",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 640,
        "y": 160,
        "wires": [
            [
                "e8ce7b12402d8e51"
            ],
            []
        ]
    },
    {
        "id": "916f461a6f7da6d3",
        "type": "api-current-state",
        "z": "d7c35c04cc0c5b68",
        "name": "heater is not off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is_not",
        "entity_id": "switch.shellyplugplus_heather_switch_0",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 1440,
        "y": 280,
        "wires": [
            [
                "4ed1d7ce9b4786d9"
            ],
            []
        ]
    },
    {
        "id": "5038e1ae7ce7eb09",
        "type": "server-state-changed",
        "z": "d7c35c04cc0c5b68",
        "name": "voltage inverter",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 1,
        "exposeAsEntityConfig": "39f868aa97a1088e",
        "entities": {
            "entity": [
                "sensor.solaredge_modbus_ac_voltage_ab"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": true,
        "stateType": "str",
        "ifState": "",
        "ifStateType": "num",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 100,
        "y": 160,
        "wires": [
            [
                "423bfb3fe34e59d4"
            ]
        ]
    },
    {
        "id": "7e334b8861b9df2a",
        "type": "ha-wait-until",
        "z": "d7c35c04cc0c5b68",
        "name": "wait until voltage drop",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "entities": {
            "entity": [
                "sensor.solaredge_modbus_ac_voltage_ab"
            ],
            "substring": [],
            "regex": []
        },
        "property": "state",
        "comparator": "lt",
        "value": "249",
        "valueType": "num",
        "timeout": "30",
        "timeoutType": "num",
        "timeoutUnits": "minutes",
        "checkCurrentState": true,
        "blockInputOverrides": true,
        "outputProperties": [],
        "entityLocation": "data",
        "entityLocationType": "none",
        "x": 1200,
        "y": 160,
        "wires": [
            [
                "916f461a6f7da6d3"
            ],
            [
                "916f461a6f7da6d3"
            ]
        ]
    },
    {
        "id": "b3a46f3a9531e7f6",
        "type": "catch",
        "z": "d7c35c04cc0c5b68",
        "g": "d0679e18bb94f3cd",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "36dfbbee00890f8a"
            ]
        ]
    },
    {
        "id": "36dfbbee00890f8a",
        "type": "template",
        "z": "d7c35c04cc0c5b68",
        "g": "d0679e18bb94f3cd",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "de2e3f71619ee3b7"
            ]
        ]
    },
    {
        "id": "2ef8f7faa613d338",
        "type": "link out",
        "z": "d7c35c04cc0c5b68",
        "g": "d0679e18bb94f3cd",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 675,
        "y": 80,
        "wires": []
    },
    {
        "id": "de2e3f71619ee3b7",
        "type": "template",
        "z": "d7c35c04cc0c5b68",
        "g": "d0679e18bb94f3cd",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "2aa17f75447c7b5c"
            ]
        ]
    },
    {
        "id": "2aa17f75447c7b5c",
        "type": "function",
        "z": "d7c35c04cc0c5b68",
        "g": "d0679e18bb94f3cd",
        "name": "notify.notification_id",
        "func": "msg.notify.notification_id = env.get(\"NR_FLOW_ID\");\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 550,
        "y": 80,
        "wires": [
            [
                "2ef8f7faa613d338"
            ]
        ]
    },
    {
        "id": "1e7eae419a9ec64f",
        "type": "comment",
        "z": "fd9cd80f14f860fe",
        "g": "cd256ec259a611f4",
        "name": "TV",
        "info": "",
        "x": 790,
        "y": 520,
        "wires": []
    },
    {
        "id": "1f82b6c0e5dbebf0",
        "type": "comment",
        "z": "fd9cd80f14f860fe",
        "g": "d3868dc5f4aa2d65",
        "name": "Uitschakelen",
        "info": "",
        "x": 810,
        "y": 200,
        "wires": []
    },
    {
        "id": "38e2ec5bd89aa669",
        "type": "comment",
        "z": "fd9cd80f14f860fe",
        "g": "fc9a0630f16ecdaf",
        "name": "Radio",
        "info": "",
        "x": 790,
        "y": 800,
        "wires": []
    },
    {
        "id": "f562bc76d4f77c72",
        "type": "template",
        "z": "fd9cd80f14f860fe",
        "g": "3deebaf17197f452",
        "name": "icon",
        "field": "notify.icon",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "",
        "output": "str",
        "x": 1110,
        "y": 1960,
        "wires": [
            [
                "dca8060d69453e87"
            ]
        ]
    },
    {
        "id": "aaefbd870a81bd90",
        "type": "template",
        "z": "fd9cd80f14f860fe",
        "g": "3deebaf17197f452",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Entertainment",
        "output": "str",
        "x": 1110,
        "y": 1880,
        "wires": [
            [
                "dca8060d69453e87"
            ]
        ]
    },
    {
        "id": "2c7cc629bd4dabbf",
        "type": "link out",
        "z": "fd9cd80f14f860fe",
        "g": "3deebaf17197f452",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "c13b2b4d87067c17"
        ],
        "x": 1365,
        "y": 1920,
        "wires": []
    },
    {
        "id": "dca8060d69453e87",
        "type": "join",
        "z": "fd9cd80f14f860fe",
        "g": "3deebaf17197f452",
        "name": "",
        "mode": "custom",
        "build": "merged",
        "property": "notify",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": false,
        "timeout": "",
        "count": "4",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 1270,
        "y": 1920,
        "wires": [
            [
                "2c7cc629bd4dabbf"
            ]
        ]
    },
    {
        "id": "c6c71296e724485a",
        "type": "template",
        "z": "fd9cd80f14f860fe",
        "g": "3deebaf17197f452",
        "name": "notification id",
        "field": "notify.notification_id",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "pause_entertaiment",
        "output": "str",
        "x": 1130,
        "y": 2000,
        "wires": [
            [
                "dca8060d69453e87"
            ]
        ]
    },
    {
        "id": "7c90580485197cda",
        "type": "template",
        "z": "fd9cd80f14f860fe",
        "g": "3deebaf17197f452",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "TV gepauseerd i.v.m. telefoongesprek.",
        "output": "str",
        "x": 1120,
        "y": 1920,
        "wires": [
            [
                "dca8060d69453e87"
            ]
        ]
    },
    {
        "id": "4ed88099e41abb6e",
        "type": "comment",
        "z": "fd9cd80f14f860fe",
        "name": "tv and media entertaiment automations",
        "info": "",
        "x": 170,
        "y": 20,
        "wires": []
    },
    {
        "id": "3a535b1014d0a45b",
        "type": "switch",
        "z": "fd9cd80f14f860fe",
        "name": "entertainment activity",
        "property": "data.new_state.state",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "Uitschakelen",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "TV",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "Radio",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "Muziek",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 4,
        "x": 440,
        "y": 220,
        "wires": [
            [
                "b564e25effcfc627"
            ],
            [
                "61e6d10bbacb84be"
            ],
            [
                "0e86c16e42286a1a"
            ],
            [
                "64a60709294e150e"
            ]
        ]
    },
    {
        "id": "f1ffce13e75d6866",
        "type": "comment",
        "z": "fd9cd80f14f860fe",
        "name": "frontend entertainment activity input select",
        "info": "",
        "x": 200,
        "y": 160,
        "wires": []
    },
    {
        "id": "bf5ba3943578c959",
        "type": "comment",
        "z": "fd9cd80f14f860fe",
        "name": "pause when phone is off hook",
        "info": "",
        "x": 160,
        "y": 1760,
        "wires": []
    },
    {
        "id": "4f9dcb4526aa6e68",
        "type": "switch",
        "z": "fd9cd80f14f860fe",
        "name": "who's phone",
        "property": "data.entity_id",
        "propertyType": "msg",
        "rules": [
            {
                "t": "cont",
                "v": "coen",
                "vt": "str"
            },
            {
                "t": "cont",
                "v": "anne",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 310,
        "y": 1800,
        "wires": [
            [
                "a7ae16757970717f"
            ],
            [
                "951e80123d5d1350"
            ]
        ]
    },
    {
        "id": "8974b3e5cc82c6b9",
        "type": "comment",
        "z": "fd9cd80f14f860fe",
        "name": "select entertainment activity based on powernode content",
        "info": "",
        "x": 250,
        "y": 1460,
        "wires": []
    },
    {
        "id": "d2469e552aa559a3",
        "type": "switch",
        "z": "fd9cd80f14f860fe",
        "name": "",
        "property": "data.new_state.timeSinceChangedMs",
        "propertyType": "msg",
        "rules": [
            {
                "t": "gt",
                "v": "20",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 330,
        "y": 1500,
        "wires": [
            [
                "0a97895675822841"
            ]
        ]
    },
    {
        "id": "cbfb0a5eb7b1a139",
        "type": "switch",
        "z": "fd9cd80f14f860fe",
        "name": "source",
        "property": "data.new_state.attributes.source",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "Spotify",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 730,
        "y": 1500,
        "wires": [
            [
                "167fb4439eb061eb"
            ]
        ]
    },
    {
        "id": "37a61d11bf9ce0ab",
        "type": "switch",
        "z": "fd9cd80f14f860fe",
        "name": "content type",
        "property": "data.new_state.attributes.media_content_type",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "music",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 590,
        "y": 1500,
        "wires": [
            [
                "cbfb0a5eb7b1a139"
            ]
        ]
    },
    {
        "id": "0a97895675822841",
        "type": "rbe",
        "z": "fd9cd80f14f860fe",
        "name": "",
        "func": "rbe",
        "gap": "",
        "start": "",
        "inout": "out",
        "septopics": true,
        "property": "payload",
        "topi": "topic",
        "x": 450,
        "y": 1500,
        "wires": [
            [
                "37a61d11bf9ce0ab"
            ]
        ]
    },
    {
        "id": "494e70afb45368b6",
        "type": "comment",
        "z": "fd9cd80f14f860fe",
        "name": "select entertainment activity based on media player content",
        "info": "",
        "x": 250,
        "y": 1280,
        "wires": []
    },
    {
        "id": "210f99cc3d429b16",
        "type": "switch",
        "z": "fd9cd80f14f860fe",
        "name": "source",
        "property": "data.new_state.attributes.media_content_id",
        "propertyType": "msg",
        "rules": [
            {
                "t": "cont",
                "v": "radio",
                "vt": "str"
            },
            {
                "t": "cont",
                "v": "track",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1030,
        "y": 1340,
        "wires": [
            [
                "6739b21acd1ca7bf"
            ],
            [
                "439e4873d68ce6f4"
            ]
        ]
    },
    {
        "id": "2784788ce65fb972",
        "type": "comment",
        "z": "fd9cd80f14f860fe",
        "name": "input select tv",
        "info": "",
        "x": 110,
        "y": 1580,
        "wires": []
    },
    {
        "id": "9e2a2047fb3d0be1",
        "type": "api-call-service",
        "z": "fd9cd80f14f860fe",
        "g": "fc9a0630f16ecdaf",
        "name": "turn off universal tv",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "media_player.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "media_player.universal_tv"
        ],
        "labelId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "media_player",
        "service": "turn_off",
        "x": 1050,
        "y": 840,
        "wires": [
            []
        ]
    },
    {
        "id": "fa9bc69bfdcf7c2c",
        "type": "api-call-service",
        "z": "fd9cd80f14f860fe",
        "g": "cd256ec259a611f4",
        "name": "stop mediaplayer powernode",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "media_player.media_stop",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "media_player.powernode_2i_ea48"
        ],
        "labelId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "media_player",
        "service": "media_stop",
        "x": 860,
        "y": 620,
        "wires": [
            [
                "54b7f080b2edea10"
            ]
        ]
    },
    {
        "id": "0d2317e40dbcbd17",
        "type": "api-call-service",
        "z": "fd9cd80f14f860fe",
        "g": "d3868dc5f4aa2d65",
        "name": "turn off universal tv",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "media_player.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "media_player.universal_tv"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "media_player",
        "service": "turn_off",
        "x": 970,
        "y": 300,
        "wires": [
            []
        ]
    },
    {
        "id": "18e6577d292535de",
        "type": "api-call-service",
        "z": "fd9cd80f14f860fe",
        "g": "cd256ec259a611f4",
        "name": "play optical input powernode",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "media_player.media_play",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "media_player.powernode_2i_ea48"
        ],
        "labelId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "media_player",
        "service": "media_play",
        "x": 1500,
        "y": 620,
        "wires": [
            []
        ]
    },
    {
        "id": "f9e486866e6d65f1",
        "type": "api-call-service",
        "z": "fd9cd80f14f860fe",
        "g": "d3868dc5f4aa2d65",
        "name": "stop bluesound powernode",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "media_player.media_stop",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "media_player.powernode_2i_ea48",
            "media_player.powernode_2i_ea48_music_assistant"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "media_player",
        "service": "media_stop",
        "x": 860,
        "y": 420,
        "wires": [
            []
        ]
    },
    {
        "id": "f47b4545239299ad",
        "type": "api-call-service",
        "z": "fd9cd80f14f860fe",
        "g": "cd256ec259a611f4",
        "name": "turn on universal tv",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "media_player.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "media_player.universal_tv"
        ],
        "labelId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "media_player",
        "service": "turn_on",
        "x": 1030,
        "y": 560,
        "wires": [
            []
        ]
    },
    {
        "id": "54b7f080b2edea10",
        "type": "api-call-service",
        "z": "fd9cd80f14f860fe",
        "g": "cd256ec259a611f4",
        "name": "select source optical input on bluesound powernode",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "media_player.select_source",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "media_player.powernode_2i_ea48"
        ],
        "labelId": [],
        "data": "{\"source\":\"Optical\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "media_player",
        "service": "select_source",
        "x": 1190,
        "y": 620,
        "wires": [
            [
                "18e6577d292535de"
            ]
        ]
    },
    {
        "id": "f06607d23ea600e0",
        "type": "api-call-service",
        "z": "fd9cd80f14f860fe",
        "name": "pause group tv media players",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "media_player.media_pause",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "group.tv_media_players"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "media_player",
        "service": "media_pause",
        "x": 1130,
        "y": 1800,
        "wires": [
            []
        ]
    },
    {
        "id": "44ccff64331a48d4",
        "type": "api-call-service",
        "z": "fd9cd80f14f860fe",
        "name": "select entertainment activity Spotify",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "input_select.select_option",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_select.entertainment_activity"
        ],
        "labelId": [],
        "data": "{\"option\":\"Spotify\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "input_select",
        "service": "select_option",
        "x": 1260,
        "y": 1500,
        "wires": [
            []
        ]
    },
    {
        "id": "e6b09e369fa79397",
        "type": "api-call-service",
        "z": "fd9cd80f14f860fe",
        "name": "select entertainment activity Radio",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "input_select.select_option",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_select.entertainment_activity"
        ],
        "labelId": [],
        "data": "{\"option\":\"Radio\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "input_select",
        "service": "select_option",
        "x": 1580,
        "y": 1340,
        "wires": [
            []
        ]
    },
    {
        "id": "207e1edd1118b4af",
        "type": "api-call-service",
        "z": "fd9cd80f14f860fe",
        "name": "select entertainment activity TV",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "input_select.select_option",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_select.entertainment_activity"
        ],
        "labelId": [],
        "data": "{\"option\":\"TV\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "input_select",
        "service": "select_option",
        "x": 970,
        "y": 1620,
        "wires": [
            []
        ]
    },
    {
        "id": "6797374d5c5348f9",
        "type": "api-current-state",
        "z": "fd9cd80f14f860fe",
        "g": "fc9a0630f16ecdaf",
        "name": "universal tv is not off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is_not",
        "entity_id": "media_player.universal_tv",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 840,
        "y": 840,
        "wires": [
            [
                "9e2a2047fb3d0be1"
            ],
            []
        ]
    },
    {
        "id": "1852cb62226e78b0",
        "type": "api-current-state",
        "z": "fd9cd80f14f860fe",
        "g": "cd256ec259a611f4",
        "name": "universal tv is off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "media_player.universal_tv",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 830,
        "y": 560,
        "wires": [
            [
                "f47b4545239299ad"
            ],
            []
        ]
    },
    {
        "id": "a7ae16757970717f",
        "type": "api-current-state",
        "z": "fd9cd80f14f860fe",
        "name": "state person coen is home",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "home",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "person.coen",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 520,
        "y": 1780,
        "wires": [
            [
                "fdca445a404c15cc"
            ],
            []
        ]
    },
    {
        "id": "fdca445a404c15cc",
        "type": "api-current-state",
        "z": "fd9cd80f14f860fe",
        "name": "state media player group tv is playing",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "playing",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "group.tv_media_players",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 810,
        "y": 1800,
        "wires": [
            [
                "f06607d23ea600e0",
                "594222d1e705061c"
            ],
            []
        ]
    },
    {
        "id": "951e80123d5d1350",
        "type": "api-current-state",
        "z": "fd9cd80f14f860fe",
        "name": "state person anne is home",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "home",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "person.anne",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 520,
        "y": 1840,
        "wires": [
            [
                "fdca445a404c15cc"
            ],
            []
        ]
    },
    {
        "id": "167fb4439eb061eb",
        "type": "api-current-state",
        "z": "fd9cd80f14f860fe",
        "name": "input select media source livingroom tv",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "Woonkamer TV",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_select.mediaplayer_destination",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "input_select.mediaplayer_destination",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 950,
        "y": 1500,
        "wires": [
            [
                "44ccff64331a48d4"
            ],
            []
        ]
    },
    {
        "id": "0e05b01a3088ebe6",
        "type": "api-current-state",
        "z": "fd9cd80f14f860fe",
        "name": "input select media source livingroom tv",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "Woonkamer TV",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_select.mediaplayer_destination",
        "state_type": "str",
        "blockInputOverrides": true,
        "outputProperties": [],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 810,
        "y": 1340,
        "wires": [
            [
                "210f99cc3d429b16"
            ],
            []
        ]
    },
    {
        "id": "68088e8c9c8a0e54",
        "type": "api-current-state",
        "z": "fd9cd80f14f860fe",
        "name": "input select entertainment activity is not TV",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "TV",
        "halt_if_type": "str",
        "halt_if_compare": "is_not",
        "entity_id": "input_select.entertainment_activity",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 650,
        "y": 1620,
        "wires": [
            [
                "207e1edd1118b4af"
            ],
            []
        ]
    },
    {
        "id": "017deb01f1ac5d06",
        "type": "server-state-changed",
        "z": "fd9cd80f14f860fe",
        "name": "state input select entertainment activity",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 1,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "input_select.entertainment_activity"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": false,
        "stateType": "str",
        "ifState": "",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 170,
        "y": 220,
        "wires": [
            [
                "3a535b1014d0a45b"
            ]
        ]
    },
    {
        "id": "94ebde6817becd16",
        "type": "server-state-changed",
        "z": "fd9cd80f14f860fe",
        "name": "state phone is offhook",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [],
            "substring": [],
            "regex": [
                "^(?!.*battery).*sensor\\.phone_(.*?)_state.*$"
            ]
        },
        "outputInitially": true,
        "stateType": "str",
        "ifState": "offhook",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": true,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 120,
        "y": 1800,
        "wires": [
            [
                "4f9dcb4526aa6e68"
            ],
            []
        ]
    },
    {
        "id": "1f002901ca051fb8",
        "type": "server-state-changed",
        "z": "fd9cd80f14f860fe",
        "name": "state media player powernode",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "media_player.powernode_2i_ea48"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": true,
        "stateType": "str",
        "ifState": "paused",
        "ifStateType": "str",
        "ifStateOperator": "is_not",
        "outputOnlyOnStateChange": false,
        "for": "1",
        "forType": "num",
        "forUnits": "seconds",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 140,
        "y": 1500,
        "wires": [
            [
                "d2469e552aa559a3"
            ],
            []
        ]
    },
    {
        "id": "a39ce2d3dcb2fa52",
        "type": "server-state-changed",
        "z": "fd9cd80f14f860fe",
        "name": "state media player bluesound",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 1,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "media_player.powernode_2i_ea48_music_assistant"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": true,
        "stateType": "str",
        "ifState": "",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": false,
        "for": "",
        "forType": "num",
        "forUnits": "milliseconds",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 140,
        "y": 1340,
        "wires": [
            [
                "e40f3ebc2b772714"
            ]
        ]
    },
    {
        "id": "a8e3dc22f4e3aa9d",
        "type": "server-state-changed",
        "z": "fd9cd80f14f860fe",
        "name": "media player shield status",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "media_player.shield"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": false,
        "stateType": "str",
        "ifState": "idle",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 130,
        "y": 1620,
        "wires": [
            [
                "2c145c15609bd2fb"
            ],
            []
        ]
    },
    {
        "id": "edd4560b8748e246",
        "type": "api-call-service",
        "z": "fd9cd80f14f860fe",
        "g": "d3868dc5f4aa2d65",
        "name": "tv turn off",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "webostv.command",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [],
        "labelId": [],
        "data": "{\"entity_id\":\"media_player.lg_webos_smart_tv\",\"command\":\"system/turnOff\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "webostv",
        "service": "command",
        "x": 1200,
        "y": 360,
        "wires": [
            []
        ]
    },
    {
        "id": "7921cddd0f314705",
        "type": "api-call-service",
        "z": "fd9cd80f14f860fe",
        "g": "d3868dc5f4aa2d65",
        "name": "turn off nvidia shield",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "media_player.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "media_player.shield"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "media_player",
        "service": "turn_off",
        "x": 840,
        "y": 240,
        "wires": [
            []
        ]
    },
    {
        "id": "1d37dadaa58f945a",
        "type": "delay",
        "z": "fd9cd80f14f860fe",
        "g": "d3868dc5f4aa2d65",
        "name": "",
        "pauseType": "delay",
        "timeout": "2",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 800,
        "y": 360,
        "wires": [
            [
                "87169159e7ae701a"
            ]
        ]
    },
    {
        "id": "7bea96d351fd45a5",
        "type": "delay",
        "z": "fd9cd80f14f860fe",
        "g": "d3868dc5f4aa2d65",
        "name": "",
        "pauseType": "delay",
        "timeout": "1",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 800,
        "y": 300,
        "wires": [
            [
                "0d2317e40dbcbd17"
            ]
        ]
    },
    {
        "id": "6739b21acd1ca7bf",
        "type": "api-current-state",
        "z": "fd9cd80f14f860fe",
        "name": "select entertainment activity is not Radio",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "Radio",
        "halt_if_type": "str",
        "halt_if_compare": "is_not",
        "entity_id": "input_select.entertainment_activity",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 1260,
        "y": 1340,
        "wires": [
            [
                "e6b09e369fa79397"
            ],
            []
        ]
    },
    {
        "id": "bf21fecdc989374a",
        "type": "api-call-service",
        "z": "fd9cd80f14f860fe",
        "name": "select entertainment activity Muziek",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "input_select.select_option",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_select.entertainment_activity"
        ],
        "labelId": [],
        "data": "{\"option\":\"Muziek\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "input_select",
        "service": "select_option",
        "x": 1580,
        "y": 1400,
        "wires": [
            []
        ]
    },
    {
        "id": "439e4873d68ce6f4",
        "type": "api-current-state",
        "z": "fd9cd80f14f860fe",
        "name": "select entertainment activity is not Muziek",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "Muziek",
        "halt_if_type": "str",
        "halt_if_compare": "is_not",
        "entity_id": "input_select.entertainment_activity",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 1260,
        "y": 1400,
        "wires": [
            [
                "bf21fecdc989374a"
            ],
            []
        ]
    },
    {
        "id": "3beb8cf879247adb",
        "type": "api-call-service",
        "z": "fd9cd80f14f860fe",
        "g": "fc9a0630f16ecdaf",
        "name": "play media",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "media_player.play_media",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "media_player.powernode_2i_ea48_music_assistant"
        ],
        "labelId": [],
        "data": "{\"media_content_id\":\"library://radio/2\",\"media_content_type\":\"music\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": true,
        "domain": "media_player",
        "service": "play_media",
        "x": 810,
        "y": 900,
        "wires": [
            []
        ]
    },
    {
        "id": "6ab8fdb97d90da1e",
        "type": "comment",
        "z": "fd9cd80f14f860fe",
        "g": "7cc7f95a4ebc61f4",
        "name": "Muziek",
        "info": "",
        "x": 790,
        "y": 1000,
        "wires": []
    },
    {
        "id": "48234362842d5448",
        "type": "api-current-state",
        "z": "fd9cd80f14f860fe",
        "g": "7cc7f95a4ebc61f4",
        "name": "universal tv is not off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is_not",
        "entity_id": "media_player.universal_tv",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 840,
        "y": 1040,
        "wires": [
            [
                "ff8e90b66ff667c9"
            ],
            []
        ]
    },
    {
        "id": "ff8e90b66ff667c9",
        "type": "api-call-service",
        "z": "fd9cd80f14f860fe",
        "g": "7cc7f95a4ebc61f4",
        "name": "turn off universal tv",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "media_player.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "media_player.universal_tv"
        ],
        "labelId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "media_player",
        "service": "turn_off",
        "x": 1050,
        "y": 1040,
        "wires": [
            []
        ]
    },
    {
        "id": "e40f3ebc2b772714",
        "type": "api-current-state",
        "z": "fd9cd80f14f860fe",
        "name": "select entertainment activity is not Uitschakelen",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "Uitschakelen",
        "halt_if_type": "str",
        "halt_if_compare": "is_not",
        "entity_id": "input_select.entertainment_activity",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 460,
        "y": 1340,
        "wires": [
            [
                "0e05b01a3088ebe6"
            ],
            []
        ]
    },
    {
        "id": "cc732df343a1b853",
        "type": "catch",
        "z": "fd9cd80f14f860fe",
        "g": "5a7ee1933ba02ee6",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "baaef0705aa65cd9"
            ]
        ]
    },
    {
        "id": "baaef0705aa65cd9",
        "type": "template",
        "z": "fd9cd80f14f860fe",
        "g": "5a7ee1933ba02ee6",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "771e77e50c8e6c37"
            ]
        ]
    },
    {
        "id": "89630cbc58f61380",
        "type": "link out",
        "z": "fd9cd80f14f860fe",
        "g": "5a7ee1933ba02ee6",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 675,
        "y": 80,
        "wires": []
    },
    {
        "id": "771e77e50c8e6c37",
        "type": "template",
        "z": "fd9cd80f14f860fe",
        "g": "5a7ee1933ba02ee6",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "67d0438a1e015185"
            ]
        ]
    },
    {
        "id": "67d0438a1e015185",
        "type": "function",
        "z": "fd9cd80f14f860fe",
        "g": "5a7ee1933ba02ee6",
        "name": "notify.notification_id",
        "func": "msg.notify.notification_id = env.get(\"NR_FLOW_ID\");\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 550,
        "y": 80,
        "wires": [
            [
                "89630cbc58f61380"
            ]
        ]
    },
    {
        "id": "87169159e7ae701a",
        "type": "api-current-state",
        "z": "fd9cd80f14f860fe",
        "g": "d3868dc5f4aa2d65",
        "name": "lg webos smart tv is not off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is_not",
        "entity_id": "media_player.lg_webos_smart_tv",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 1000,
        "y": 360,
        "wires": [
            [
                "edd4560b8748e246"
            ],
            []
        ]
    },
    {
        "id": "2c145c15609bd2fb",
        "type": "switch",
        "z": "fd9cd80f14f860fe",
        "name": "content type is video",
        "property": "data.new_state.attributes.media_content_type",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "video",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 360,
        "y": 1620,
        "wires": [
            [
                "68088e8c9c8a0e54"
            ]
        ]
    },
    {
        "id": "cc95177ff7dd19c7",
        "type": "link out",
        "z": "fd9cd80f14f860fe",
        "g": "cd256ec259a611f4",
        "name": "link_out_tv_turn_on",
        "mode": "link",
        "links": [
            "dec99c0ab95cf46a",
            "f5ca5639755bbb40"
        ],
        "x": 755,
        "y": 680,
        "wires": []
    },
    {
        "id": "230e59e20b2e25d8",
        "type": "ha-sentence",
        "z": "5b957aaa34cab814",
        "name": "change device volume",
        "server": "4ba92433.2478cc",
        "version": 2,
        "inputs": 0,
        "outputs": 1,
        "exposeAsEntityConfig": "",
        "mode": "trigger",
        "sentences": [
            "turn [the] {device} volume {volume_direction} with {volume} [percent]",
            "(set|change) {device} volume to {volume} [percent]",
            "turn [the] {device} volume {volume_direction}",
            "turn {volume_direction} [the] {device} volume",
            "turn {volume_direction} [the] {device}"
        ],
        "response": "",
        "responseType": "str",
        "triggerResponse": "",
        "triggerResponseType": "dynamic",
        "responseTimeout": 1000,
        "outputProperties": [
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            },
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "results"
            }
        ],
        "x": 140,
        "y": 540,
        "wires": [
            [
                "415cd44ddc7b18c5"
            ]
        ]
    },
    {
        "id": "415cd44ddc7b18c5",
        "type": "switch",
        "z": "5b957aaa34cab814",
        "name": "device",
        "property": "payload.entities.device.value",
        "propertyType": "msg",
        "rules": [
            {
                "t": "regex",
                "v": "tv",
                "vt": "str",
                "case": true
            },
            {
                "t": "regex",
                "v": "music",
                "vt": "str",
                "case": true
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 310,
        "y": 540,
        "wires": [
            [
                "bd9d99e5c6eb1b54"
            ],
            [
                "b813b74193ab27fc"
            ]
        ]
    },
    {
        "id": "bd9d99e5c6eb1b54",
        "type": "api-current-state",
        "z": "5b957aaa34cab814",
        "name": "shield state",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 1,
        "halt_if": "",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "media_player.android_tv_shield_lan_stamx_nl",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "media_player_shield_state",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "media_player_shield_data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 470,
        "y": 480,
        "wires": [
            [
                "f5b5f685345544c7"
            ]
        ]
    },
    {
        "id": "bf7bbf6679459fb7",
        "type": "switch",
        "z": "5b957aaa34cab814",
        "name": "shield is on / off",
        "property": "media_player_shield_state",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "off",
                "vt": "str"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1200,
        "y": 520,
        "wires": [
            [
                "a44e085350d02097"
            ],
            [
                "f90ea1aecb8b0ef4"
            ]
        ]
    },
    {
        "id": "a44e085350d02097",
        "type": "template",
        "z": "5b957aaa34cab814",
        "name": "response",
        "field": "payload.response",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Can't change the {{media_player_shield_data.attributes.friendly_name}} volume, the device is {{media_player_shield_state}}.",
        "output": "str",
        "x": 1400,
        "y": 440,
        "wires": [
            [
                "03cabd6d8889f1ad"
            ]
        ]
    },
    {
        "id": "baefe1afbb082442",
        "type": "catch",
        "z": "5b957aaa34cab814",
        "g": "f75da396da61e265",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "09922b4a1abc6861"
            ]
        ]
    },
    {
        "id": "09922b4a1abc6861",
        "type": "template",
        "z": "5b957aaa34cab814",
        "g": "f75da396da61e265",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "4375bd61cef9b591"
            ]
        ]
    },
    {
        "id": "2978274f7f9728d8",
        "type": "link out",
        "z": "5b957aaa34cab814",
        "g": "f75da396da61e265",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 675,
        "y": 80,
        "wires": []
    },
    {
        "id": "4375bd61cef9b591",
        "type": "template",
        "z": "5b957aaa34cab814",
        "g": "f75da396da61e265",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "778f51a4da22adf6"
            ]
        ]
    },
    {
        "id": "778f51a4da22adf6",
        "type": "function",
        "z": "5b957aaa34cab814",
        "g": "f75da396da61e265",
        "name": "notify.notification_id",
        "func": "msg.notify.notification_id = env.get(\"NR_FLOW_ID\");\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 550,
        "y": 80,
        "wires": [
            [
                "2978274f7f9728d8"
            ]
        ]
    },
    {
        "id": "5bbdf7bfad596ed8",
        "type": "comment",
        "z": "5b957aaa34cab814",
        "name": "change volume of media device based on assist input",
        "info": "",
        "x": 220,
        "y": 20,
        "wires": []
    },
    {
        "id": "1cc091482e12a183",
        "type": "template",
        "z": "5b957aaa34cab814",
        "name": "response",
        "field": "payload.response",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "{{media_player_powernode_data.attributes.friendly_name}} volume changed to {{target_volume_level_percent}}%",
        "output": "str",
        "x": 2880,
        "y": 700,
        "wires": [
            [
                "3622510742842b73"
            ]
        ]
    },
    {
        "id": "f90ea1aecb8b0ef4",
        "type": "switch",
        "z": "5b957aaa34cab814",
        "name": "volume percent",
        "property": "payload.entities.volume.value",
        "propertyType": "msg",
        "rules": [
            {
                "t": "null"
            },
            {
                "t": "empty"
            },
            {
                "t": "btwn",
                "v": "0",
                "vt": "num",
                "v2": "100",
                "v2t": "num"
            },
            {
                "t": "gt",
                "v": "100",
                "vt": "num"
            },
            {
                "t": "lt",
                "v": "0",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 5,
        "x": 1420,
        "y": 760,
        "wires": [
            [
                "2f4e9a16fc8c451d"
            ],
            [
                "2f4e9a16fc8c451d"
            ],
            [
                "97cec346a1ed7d0f"
            ],
            [
                "aed1eedec1168622"
            ],
            [
                "aed1eedec1168622"
            ]
        ]
    },
    {
        "id": "ba2f429814c2cc9c",
        "type": "switch",
        "z": "5b957aaa34cab814",
        "name": "up or down",
        "property": "payload.entities.volume_direction.value",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "up",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "down",
                "vt": "str"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 3,
        "x": 2150,
        "y": 720,
        "wires": [
            [
                "abc282949e4958ec"
            ],
            [
                "a7d53181d5a29e92"
            ],
            [
                "580d9e68cfd52773",
                "43a2b35489b92f3b"
            ]
        ]
    },
    {
        "id": "f5b5f685345544c7",
        "type": "api-current-state",
        "z": "5b957aaa34cab814",
        "name": "powernode state",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 1,
        "halt_if": "",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "media_player.powernode_2i_ea48",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "media_player_powernode_state",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "media_player_powernode_data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 650,
        "y": 520,
        "wires": [
            [
                "bf7bbf6679459fb7"
            ]
        ]
    },
    {
        "id": "97cec346a1ed7d0f",
        "type": "switch",
        "z": "5b957aaa34cab814",
        "name": "shield current volume",
        "property": "media_player_shield_data.attributes.volume_level",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            },
            {
                "t": "lt",
                "v": "1",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1880,
        "y": 760,
        "wires": [
            [
                "ba2f429814c2cc9c"
            ],
            [
                "62139640f62bf2ba"
            ]
        ]
    },
    {
        "id": "62139640f62bf2ba",
        "type": "switch",
        "z": "5b957aaa34cab814",
        "name": "up or down",
        "property": "payload.entities.volume_direction.value",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "up",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "down",
                "vt": "str"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 3,
        "x": 2150,
        "y": 960,
        "wires": [
            [
                "04615f8b33a40e00"
            ],
            [
                "7f8b9e836271ea5e"
            ],
            [
                "580d9e68cfd52773",
                "43a2b35489b92f3b"
            ]
        ]
    },
    {
        "id": "04615f8b33a40e00",
        "type": "function",
        "z": "5b957aaa34cab814",
        "name": "target volume level",
        "func": "var input_volume = msg.payload.entities.volume.value / 100;\nvar current_volume = msg.media_player_shield_data.attributes.volume_level;\n\nmsg.target_volume_level = current_volume + input_volume;\n\n\nif (msg.target_volume_level > 1) {\n    msg.rest_volume = msg.target_volume_level - 1;\n    msg.target_volume_level = 1;\n} else {\n    msg.rest_volume = 0;\n}\n\nmsg.target_volume_level_percent = Math.floor(msg.target_volume_level * 100);\n\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2470,
        "y": 920,
        "wires": [
            [
                "ca0d9a7b39ac9cae"
            ]
        ]
    },
    {
        "id": "5e40e2790c85b0a9",
        "type": "switch",
        "z": "5b957aaa34cab814",
        "name": "",
        "property": "rest_volume",
        "propertyType": "msg",
        "rules": [
            {
                "t": "gt",
                "v": "0",
                "vt": "num"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 2830,
        "y": 920,
        "wires": [
            [
                "c0cf0c8e360ea04f"
            ],
            [
                "e95f296a2aae130c"
            ]
        ]
    },
    {
        "id": "c0cf0c8e360ea04f",
        "type": "function",
        "z": "5b957aaa34cab814",
        "name": "target volume level",
        "func": "var current_volume = msg.media_player_powernode_data.attributes.volume_level;\nvar input_volume = msg.rest_volume;\n\nmsg.target_volume_level = current_volume + input_volume;\n\nif (msg.target_volume_level > 1) {\n    msg.target_volume_level = 1;\n}\n\nmsg.target_volume_level_percent = Math.floor(msg.target_volume_level * 100);\n\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2990,
        "y": 900,
        "wires": [
            [
                "52d42868eef47f07"
            ]
        ]
    },
    {
        "id": "18389521989b5a81",
        "type": "api-call-service",
        "z": "5b957aaa34cab814",
        "name": "shield set volume",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "media_player.volume_set",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "{{media_player_shield_data.entity_id}}"
        ],
        "labelId": [],
        "data": "{\"volume_level\":\"{{target_volume_level}}\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": true,
        "domain": "media_player",
        "service": "volume_set",
        "x": 170,
        "y": 220,
        "wires": [
            [
                "6bde885e917887ee"
            ]
        ]
    },
    {
        "id": "67a954faf44b9aff",
        "type": "link in",
        "z": "5b957aaa34cab814",
        "name": "shield_set_volume",
        "links": [],
        "x": 45,
        "y": 220,
        "wires": [
            [
                "18389521989b5a81"
            ]
        ]
    },
    {
        "id": "ca0d9a7b39ac9cae",
        "type": "link call",
        "z": "5b957aaa34cab814",
        "name": "",
        "links": [
            "67a954faf44b9aff"
        ],
        "linkType": "static",
        "timeout": "30",
        "x": 2670,
        "y": 920,
        "wires": [
            [
                "5e40e2790c85b0a9",
                "ddc989e286721b31"
            ]
        ]
    },
    {
        "id": "6bde885e917887ee",
        "type": "link out",
        "z": "5b957aaa34cab814",
        "name": "shield_set_volume",
        "mode": "return",
        "links": [],
        "x": 315,
        "y": 220,
        "wires": []
    },
    {
        "id": "3353a55466a9284a",
        "type": "api-call-service",
        "z": "5b957aaa34cab814",
        "name": "powernode set volume",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "media_player.volume_set",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "{{media_player_powernode_data.entity_id}}"
        ],
        "labelId": [],
        "data": "{\"volume_level\":\"{{target_volume_level}}\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": true,
        "domain": "media_player",
        "service": "volume_set",
        "x": 180,
        "y": 280,
        "wires": [
            [
                "a54209a46e13e9db"
            ]
        ]
    },
    {
        "id": "99890ac5ed83af4a",
        "type": "link in",
        "z": "5b957aaa34cab814",
        "name": "powernode_set_volume",
        "links": [],
        "x": 45,
        "y": 280,
        "wires": [
            [
                "3353a55466a9284a"
            ]
        ]
    },
    {
        "id": "a54209a46e13e9db",
        "type": "link out",
        "z": "5b957aaa34cab814",
        "name": "powernode_set_volume",
        "mode": "return",
        "links": [],
        "x": 315,
        "y": 280,
        "wires": []
    },
    {
        "id": "52d42868eef47f07",
        "type": "link call",
        "z": "5b957aaa34cab814",
        "name": "",
        "links": [
            "99890ac5ed83af4a"
        ],
        "linkType": "static",
        "timeout": "30",
        "x": 3210,
        "y": 900,
        "wires": [
            [
                "b39e0c721c3d884d"
            ]
        ]
    },
    {
        "id": "e95f296a2aae130c",
        "type": "template",
        "z": "5b957aaa34cab814",
        "name": "response",
        "field": "payload.response",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "{{media_player_shield_data.attributes.friendly_name}} volume changed to {{target_volume_level_percent}}%",
        "output": "str",
        "x": 2960,
        "y": 960,
        "wires": [
            [
                "cbbf7d8ee92873fd"
            ]
        ]
    },
    {
        "id": "b39e0c721c3d884d",
        "type": "template",
        "z": "5b957aaa34cab814",
        "name": "response",
        "field": "payload.response",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "{{media_player_shield_data.attributes.friendly_name}} volume changed to 100% and {{media_player_powernode_data.attributes.friendly_name}} to {{target_volume_level_percent}}%",
        "output": "str",
        "x": 3380,
        "y": 640,
        "wires": [
            [
                "2a79884feefef294"
            ]
        ]
    },
    {
        "id": "4360d72b424baeb7",
        "type": "ha-sentence",
        "z": "5b957aaa34cab814",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 2,
        "inputs": 1,
        "outputs": 1,
        "exposeAsEntityConfig": "",
        "mode": "response",
        "sentences": [],
        "response": "payload",
        "responseType": "msg",
        "triggerResponse": "",
        "triggerResponseType": "fixed",
        "responseTimeout": 1000,
        "outputProperties": [],
        "x": 140,
        "y": 340,
        "wires": [
            [
                "b7d3a3449d4059d4",
                "e9f6b335f785d057"
            ]
        ]
    },
    {
        "id": "e9d1e328277a73b0",
        "type": "link in",
        "z": "5b957aaa34cab814",
        "name": "sentence_response",
        "links": [],
        "x": 45,
        "y": 340,
        "wires": [
            [
                "4360d72b424baeb7"
            ]
        ]
    },
    {
        "id": "b7d3a3449d4059d4",
        "type": "link out",
        "z": "5b957aaa34cab814",
        "name": "sentence_response",
        "mode": "return",
        "links": [],
        "x": 315,
        "y": 340,
        "wires": []
    },
    {
        "id": "79fc568576af4be8",
        "type": "link call",
        "z": "5b957aaa34cab814",
        "name": "",
        "links": [
            "e9d1e328277a73b0"
        ],
        "linkType": "static",
        "timeout": "30",
        "x": 1790,
        "y": 860,
        "wires": [
            []
        ]
    },
    {
        "id": "aed1eedec1168622",
        "type": "template",
        "z": "5b957aaa34cab814",
        "name": "response",
        "field": "payload.response",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Can't change the volume to {{payload.entities.volume.value}}%, please choose a percentage between the 0% and 100%..",
        "output": "str",
        "x": 1620,
        "y": 860,
        "wires": [
            [
                "79fc568576af4be8"
            ]
        ]
    },
    {
        "id": "e9f6b335f785d057",
        "type": "debug",
        "z": "5b957aaa34cab814",
        "name": "sentence_response",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 390,
        "y": 380,
        "wires": []
    },
    {
        "id": "03cabd6d8889f1ad",
        "type": "link call",
        "z": "5b957aaa34cab814",
        "name": "",
        "links": [
            "e9d1e328277a73b0"
        ],
        "linkType": "static",
        "timeout": "30",
        "x": 1570,
        "y": 440,
        "wires": [
            []
        ]
    },
    {
        "id": "cbbf7d8ee92873fd",
        "type": "link call",
        "z": "5b957aaa34cab814",
        "name": "",
        "links": [
            "e9d1e328277a73b0"
        ],
        "linkType": "static",
        "timeout": "30",
        "x": 3130,
        "y": 960,
        "wires": [
            []
        ]
    },
    {
        "id": "2a79884feefef294",
        "type": "link call",
        "z": "5b957aaa34cab814",
        "name": "",
        "links": [
            "e9d1e328277a73b0"
        ],
        "linkType": "static",
        "timeout": "30",
        "x": 3550,
        "y": 640,
        "wires": [
            []
        ]
    },
    {
        "id": "3622510742842b73",
        "type": "link call",
        "z": "5b957aaa34cab814",
        "name": "",
        "links": [
            "e9d1e328277a73b0"
        ],
        "linkType": "static",
        "timeout": "30",
        "x": 3050,
        "y": 700,
        "wires": [
            []
        ]
    },
    {
        "id": "7f8b9e836271ea5e",
        "type": "function",
        "z": "5b957aaa34cab814",
        "name": "target volume level",
        "func": "var input_volume = msg.payload.entities.volume.value / 100;\nvar current_volume = msg.media_player_shield_data.attributes.volume_level;\n\nmsg.target_volume_level = current_volume - input_volume;\n\n\nif (msg.target_volume_level < 0) {\n    msg.target_volume_level = 0;\n}\n\nmsg.target_volume_level_percent = Math.floor(msg.target_volume_level * 100);\n\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2470,
        "y": 960,
        "wires": [
            [
                "197d9fee1713658d"
            ]
        ]
    },
    {
        "id": "197d9fee1713658d",
        "type": "link call",
        "z": "5b957aaa34cab814",
        "name": "",
        "links": [
            "67a954faf44b9aff"
        ],
        "linkType": "static",
        "timeout": "30",
        "x": 2670,
        "y": 960,
        "wires": [
            [
                "e95f296a2aae130c"
            ]
        ]
    },
    {
        "id": "a7d53181d5a29e92",
        "type": "function",
        "z": "5b957aaa34cab814",
        "name": "target volume level",
        "func": "var input_volume = msg.payload.entities.volume.value / 100;\nvar current_volume = msg.media_player_shield_data.attributes.volume_level;\n\nmsg.target_volume_level = current_volume - input_volume;\n\n\nif (msg.target_volume_level < 0) {\n    msg.target_volume_level = 0;\n}\n\nmsg.target_volume_level_percent = Math.floor(msg.target_volume_level * 100);\n\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2470,
        "y": 740,
        "wires": [
            [
                "ab8c71549b9cde83"
            ]
        ]
    },
    {
        "id": "ab8c71549b9cde83",
        "type": "link call",
        "z": "5b957aaa34cab814",
        "name": "",
        "links": [
            "67a954faf44b9aff"
        ],
        "linkType": "static",
        "timeout": "30",
        "x": 2670,
        "y": 740,
        "wires": [
            [
                "e95f296a2aae130c"
            ]
        ]
    },
    {
        "id": "abc282949e4958ec",
        "type": "function",
        "z": "5b957aaa34cab814",
        "name": "target volume level",
        "func": "var current_volume = msg.media_player_powernode_data.attributes.volume_level;\nvar input_volume = msg.payload.entities.volume.value / 100;\n\nmsg.target_volume_level = current_volume + input_volume;\n\nif (msg.target_volume_level > 1) {\n    msg.target_volume_level = 1;\n}\n\nmsg.target_volume_level_percent = Math.floor(msg.target_volume_level * 100);\n\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2470,
        "y": 700,
        "wires": [
            [
                "895f5223a029d493"
            ]
        ]
    },
    {
        "id": "895f5223a029d493",
        "type": "link call",
        "z": "5b957aaa34cab814",
        "name": "",
        "links": [
            "99890ac5ed83af4a"
        ],
        "linkType": "static",
        "timeout": "30",
        "x": 2690,
        "y": 700,
        "wires": [
            [
                "1cc091482e12a183"
            ]
        ]
    },
    {
        "id": "580d9e68cfd52773",
        "type": "function",
        "z": "5b957aaa34cab814",
        "name": "target volume level",
        "func": "msg.target_volume_level = 1;\n\nmsg.target_volume_level_percent = Math.floor(msg.target_volume_level * 100);\n\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2470,
        "y": 820,
        "wires": [
            [
                "f80d23c219b768eb"
            ]
        ]
    },
    {
        "id": "f80d23c219b768eb",
        "type": "link call",
        "z": "5b957aaa34cab814",
        "name": "",
        "links": [
            "67a954faf44b9aff"
        ],
        "linkType": "static",
        "timeout": "30",
        "x": 2670,
        "y": 820,
        "wires": [
            []
        ]
    },
    {
        "id": "43a2b35489b92f3b",
        "type": "function",
        "z": "5b957aaa34cab814",
        "name": "target volume level",
        "func": "msg.target_volume_level = msg.payload.entities.volume.value / 100;\n\nif (msg.target_volume_level > 1) {\n    msg.target_volume_level = 1;\n}\n\nmsg.target_volume_level_percent = Math.floor(msg.target_volume_level * 100);\n\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2470,
        "y": 780,
        "wires": [
            [
                "f92e8c26e09fb0bc"
            ]
        ]
    },
    {
        "id": "f92e8c26e09fb0bc",
        "type": "link call",
        "z": "5b957aaa34cab814",
        "name": "",
        "links": [
            "99890ac5ed83af4a"
        ],
        "linkType": "static",
        "timeout": "30",
        "x": 2690,
        "y": 780,
        "wires": [
            [
                "d80cc8362bbf44ee"
            ]
        ]
    },
    {
        "id": "d80cc8362bbf44ee",
        "type": "template",
        "z": "5b957aaa34cab814",
        "name": "response",
        "field": "payload.response",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "{{media_player_powernode_data.attributes.friendly_name}} volume changed to {{target_volume_level_percent}}%",
        "output": "str",
        "x": 2880,
        "y": 780,
        "wires": [
            [
                "9cb7224bb686e632"
            ]
        ]
    },
    {
        "id": "9cb7224bb686e632",
        "type": "link call",
        "z": "5b957aaa34cab814",
        "name": "",
        "links": [
            "e9d1e328277a73b0"
        ],
        "linkType": "static",
        "timeout": "30",
        "x": 3050,
        "y": 780,
        "wires": [
            []
        ]
    },
    {
        "id": "2f4e9a16fc8c451d",
        "type": "change",
        "z": "5b957aaa34cab814",
        "name": "set default volume",
        "rules": [
            {
                "t": "set",
                "p": "payload.entities.volume.value",
                "pt": "msg",
                "to": "default_volume_step",
                "tot": "flow"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1650,
        "y": 700,
        "wires": [
            [
                "97cec346a1ed7d0f"
            ]
        ]
    },
    {
        "id": "ddc989e286721b31",
        "type": "debug",
        "z": "5b957aaa34cab814",
        "name": "debug 2",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 3020,
        "y": 840,
        "wires": []
    },
    {
        "id": "b71c3d46d8016e11",
        "type": "debug",
        "z": "5b957aaa34cab814",
        "name": "debug 3",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 900,
        "y": 1080,
        "wires": []
    },
    {
        "id": "a4a9f6515fb44ffc",
        "type": "api-current-state",
        "z": "5b957aaa34cab814",
        "name": "powernode state",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 1,
        "halt_if": "",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "media_player.powernode_2i_ea48",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "media_player_powernode_state",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "media_player_powernode_data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 170,
        "y": 160,
        "wires": [
            [
                "a26fad241511f789"
            ]
        ]
    },
    {
        "id": "10dab05f641a6c95",
        "type": "link in",
        "z": "5b957aaa34cab814",
        "name": "powernode state",
        "links": [],
        "x": 45,
        "y": 160,
        "wires": [
            [
                "a4a9f6515fb44ffc"
            ]
        ]
    },
    {
        "id": "a26fad241511f789",
        "type": "link out",
        "z": "5b957aaa34cab814",
        "name": "link out 1",
        "mode": "return",
        "links": [],
        "x": 315,
        "y": 160,
        "wires": []
    },
    {
        "id": "616c56a1e0f87df9",
        "type": "link call",
        "z": "5b957aaa34cab814",
        "name": "",
        "links": [
            "10dab05f641a6c95"
        ],
        "linkType": "static",
        "timeout": "30",
        "x": 330,
        "y": 1100,
        "wires": [
            [
                "470f5f8640ef9adb"
            ]
        ]
    },
    {
        "id": "1ca7da9e3a9b981e",
        "type": "switch",
        "z": "5b957aaa34cab814",
        "name": "content type",
        "property": "media_player_powernode_data.attributes.media_content_type",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "music",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 2150,
        "y": 660,
        "wires": [
            []
        ]
    },
    {
        "id": "470f5f8640ef9adb",
        "type": "switch",
        "z": "5b957aaa34cab814",
        "name": "powernode is playing",
        "property": "media_player_powernode_state",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "playing",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 540,
        "y": 1100,
        "wires": [
            [
                "5bdf91ac2987e22d"
            ]
        ]
    },
    {
        "id": "7ccec6eef56bb4ef",
        "type": "switch",
        "z": "5b957aaa34cab814",
        "name": "up or down",
        "property": "payload.entities.volume_direction.value",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "up",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "down",
                "vt": "str"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 3,
        "x": 2150,
        "y": 1120,
        "wires": [
            [],
            [],
            []
        ]
    },
    {
        "id": "2d3b8bbd42bc685b",
        "type": "function",
        "z": "5b957aaa34cab814",
        "name": "target volume level",
        "func": "var input_volume = msg.payload.entities.volume.value / 100;\nvar current_volume = msg.media_player_shield_data.attributes.volume_level;\n\nmsg.target_volume_level = current_volume - input_volume;\n\n\nif (msg.target_volume_level < 0) {\n    msg.target_volume_level = 0;\n}\n\nmsg.target_volume_level_percent = Math.floor(msg.target_volume_level * 100);\n\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2530,
        "y": 1120,
        "wires": [
            [
                "41aa11f96b1cedff"
            ]
        ]
    },
    {
        "id": "41aa11f96b1cedff",
        "type": "link call",
        "z": "5b957aaa34cab814",
        "name": "",
        "links": [
            "67a954faf44b9aff"
        ],
        "linkType": "static",
        "timeout": "30",
        "x": 2730,
        "y": 1120,
        "wires": [
            []
        ]
    },
    {
        "id": "5bdf91ac2987e22d",
        "type": "switch",
        "z": "5b957aaa34cab814",
        "name": "content type",
        "property": "media_player_powernode_data.attributes.media_content_type",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "music",
                "vt": "str"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 730,
        "y": 1100,
        "wires": [
            [
                "b71c3d46d8016e11"
            ],
            []
        ]
    },
    {
        "id": "724cbd8ed3ae18e8",
        "type": "ha-sentence",
        "z": "5b957aaa34cab814",
        "name": "change volume",
        "server": "4ba92433.2478cc",
        "version": 2,
        "inputs": 0,
        "outputs": 1,
        "exposeAsEntityConfig": "",
        "mode": "trigger",
        "sentences": [
            "turn {volume_direction} [the] volume"
        ],
        "response": "",
        "responseType": "str",
        "triggerResponse": "",
        "triggerResponseType": "dynamic",
        "responseTimeout": 1000,
        "outputProperties": [
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            },
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "results"
            }
        ],
        "x": 120,
        "y": 1100,
        "wires": [
            [
                "616c56a1e0f87df9"
            ]
        ]
    },
    {
        "id": "95038b18668a5c83",
        "type": "change",
        "z": "5b957aaa34cab814",
        "name": "set default volume",
        "rules": [
            {
                "t": "set",
                "p": "payload.entities.volume.value",
                "pt": "msg",
                "to": "4",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 950,
        "y": 1160,
        "wires": [
            []
        ]
    },
    {
        "id": "3fd6469d3be38b16",
        "type": "function",
        "z": "5b957aaa34cab814",
        "name": "default volume step on start",
        "func": "\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "// Code added here will be run once\n// whenever the node is started.\nflow.set(\"default_volume_step\", 4);",
        "finalize": "",
        "libs": [],
        "x": 160,
        "y": 440,
        "wires": [
            []
        ]
    },
    {
        "id": "39c74b61f3530174",
        "type": "comment",
        "z": "2b23c32f6263f8c7",
        "name": "change volume of media device based on assist input",
        "info": "",
        "x": 220,
        "y": 20,
        "wires": []
    },
    {
        "id": "ed43e3427066937c",
        "type": "catch",
        "z": "2b23c32f6263f8c7",
        "g": "4dc458809c7f0b0e",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "78507d1220da1132"
            ]
        ]
    },
    {
        "id": "78507d1220da1132",
        "type": "template",
        "z": "2b23c32f6263f8c7",
        "g": "4dc458809c7f0b0e",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "b412897abc463b37"
            ]
        ]
    },
    {
        "id": "bf8e5653c2636930",
        "type": "link out",
        "z": "2b23c32f6263f8c7",
        "g": "4dc458809c7f0b0e",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 675,
        "y": 80,
        "wires": []
    },
    {
        "id": "b412897abc463b37",
        "type": "template",
        "z": "2b23c32f6263f8c7",
        "g": "4dc458809c7f0b0e",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "5a30badee0ae6770"
            ]
        ]
    },
    {
        "id": "5a30badee0ae6770",
        "type": "function",
        "z": "2b23c32f6263f8c7",
        "g": "4dc458809c7f0b0e",
        "name": "notify.notification_id",
        "func": "msg.notify.notification_id = env.get(\"NR_FLOW_ID\");\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 550,
        "y": 80,
        "wires": [
            [
                "bf8e5653c2636930"
            ]
        ]
    },
    {
        "id": "a51189f8f249bbae",
        "type": "ha-sentence",
        "z": "2b23c32f6263f8c7",
        "name": "turn device on",
        "server": "4ba92433.2478cc",
        "version": 2,
        "inputs": 0,
        "outputs": 1,
        "exposeAsEntityConfig": "",
        "mode": "trigger",
        "sentences": [
            "turn on [the] {device}",
            "turn [the] {device} on"
        ],
        "response": "",
        "responseType": "str",
        "triggerResponse": "",
        "triggerResponseType": "dynamic",
        "responseTimeout": 1000,
        "outputProperties": [
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            },
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "results"
            }
        ],
        "x": 90,
        "y": 200,
        "wires": [
            [
                "2281c26605810126"
            ]
        ]
    },
    {
        "id": "f781dfa7e27179fb",
        "type": "api-call-service",
        "z": "2b23c32f6263f8c7",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "input_select.select_option",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_select.entertainment_activity"
        ],
        "labelId": [],
        "data": "{\"option\":\"{{select}}\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "input_select",
        "service": "select_option",
        "x": 670,
        "y": 200,
        "wires": [
            [
                "29eb5d857a83037f"
            ]
        ]
    },
    {
        "id": "c299956ca39475ed",
        "type": "function",
        "z": "2b23c32f6263f8c7",
        "name": "device regex",
        "func": "let device = String(msg.payload.entities.device.value).trim().toLowerCase();\n\nconst replacements = {\n    TV: \"tv|dv|television\",\n    Radio: \"radio\",\n    Muziek: \"music\"\n};\n\nfor (const [key, pattern] of Object.entries(replacements)) {\n    const regex = new RegExp(pattern, \"gi\");\n    if (regex.test(device)) {\n        msg.select = key;\n        break;\n    }\n}\n\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 470,
        "y": 200,
        "wires": [
            [
                "f781dfa7e27179fb"
            ]
        ]
    },
    {
        "id": "f8f2ca217e22bb4e",
        "type": "debug",
        "z": "2b23c32f6263f8c7",
        "name": "sentence_response",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 470,
        "y": 820,
        "wires": []
    },
    {
        "id": "29eb5d857a83037f",
        "type": "template",
        "z": "2b23c32f6263f8c7",
        "name": "response",
        "field": "payload.response",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "{{payload.entities.device.value}} has been turned {{desired_device_state}}",
        "output": "str",
        "x": 860,
        "y": 200,
        "wires": [
            [
                "540b1f77bf097316"
            ]
        ]
    },
    {
        "id": "2281c26605810126",
        "type": "change",
        "z": "2b23c32f6263f8c7",
        "name": "desired device state",
        "rules": [
            {
                "t": "set",
                "p": "desired_device_state",
                "pt": "msg",
                "to": "on",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 280,
        "y": 200,
        "wires": [
            [
                "c299956ca39475ed"
            ]
        ]
    },
    {
        "id": "6cd9595be1d393d8",
        "type": "api-call-service",
        "z": "2b23c32f6263f8c7",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "conversation.process",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [],
        "labelId": [],
        "data": "{\"text\":\"{{text}}\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": true,
        "domain": "conversation",
        "service": "process",
        "x": 380,
        "y": 600,
        "wires": [
            []
        ]
    },
    {
        "id": "2d54cb39a79e5002",
        "type": "inject",
        "z": "2b23c32f6263f8c7",
        "name": "turn the tv volume down",
        "props": [
            {
                "p": "text",
                "v": "turn on the tv",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 160,
        "y": 600,
        "wires": [
            [
                "6cd9595be1d393d8"
            ]
        ]
    },
    {
        "id": "d35ef2ba6c8fe0f5",
        "type": "ha-sentence",
        "z": "2b23c32f6263f8c7",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 2,
        "inputs": 1,
        "outputs": 1,
        "exposeAsEntityConfig": "",
        "mode": "response",
        "sentences": [],
        "response": "payload",
        "responseType": "msg",
        "triggerResponse": "",
        "triggerResponseType": "fixed",
        "responseTimeout": 1000,
        "outputProperties": [],
        "x": 140,
        "y": 360,
        "wires": [
            [
                "5465c681685de8e9",
                "96efa0cf39336657"
            ]
        ]
    },
    {
        "id": "83dc0762c99fb524",
        "type": "link in",
        "z": "2b23c32f6263f8c7",
        "name": "sentence_response",
        "links": [],
        "x": 45,
        "y": 360,
        "wires": [
            [
                "d35ef2ba6c8fe0f5"
            ]
        ]
    },
    {
        "id": "5465c681685de8e9",
        "type": "link out",
        "z": "2b23c32f6263f8c7",
        "name": "sentence_response",
        "mode": "return",
        "links": [],
        "x": 255,
        "y": 360,
        "wires": []
    },
    {
        "id": "96efa0cf39336657",
        "type": "debug",
        "z": "2b23c32f6263f8c7",
        "name": "sentence_response",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 330,
        "y": 420,
        "wires": []
    },
    {
        "id": "540b1f77bf097316",
        "type": "link call",
        "z": "2b23c32f6263f8c7",
        "name": "",
        "links": [
            "e9d1e328277a73b0"
        ],
        "linkType": "static",
        "timeout": "30",
        "x": 1030,
        "y": 200,
        "wires": [
            []
        ]
    },
    {
        "id": "56fba575c7c2d7c9",
        "type": "comment",
        "z": "01dec174361a0c54",
        "name": "turn off opentherm heating when no rooms require heat",
        "info": "",
        "x": 220,
        "y": 20,
        "wires": []
    },
    {
        "id": "4e80fd042d5c2730",
        "type": "catch",
        "z": "01dec174361a0c54",
        "g": "d8e4618a284435bc",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "c98431489ff47e90"
            ]
        ]
    },
    {
        "id": "c98431489ff47e90",
        "type": "template",
        "z": "01dec174361a0c54",
        "g": "d8e4618a284435bc",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "4da8b555635de201"
            ]
        ]
    },
    {
        "id": "8df1b970e4dafbf8",
        "type": "link out",
        "z": "01dec174361a0c54",
        "g": "d8e4618a284435bc",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 675,
        "y": 80,
        "wires": []
    },
    {
        "id": "4da8b555635de201",
        "type": "template",
        "z": "01dec174361a0c54",
        "g": "d8e4618a284435bc",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "76d24d4d17d75f86"
            ]
        ]
    },
    {
        "id": "76d24d4d17d75f86",
        "type": "function",
        "z": "01dec174361a0c54",
        "g": "d8e4618a284435bc",
        "name": "notify.notification_id",
        "func": "msg.notify.notification_id = env.get(\"NR_FLOW_ID\");\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 550,
        "y": 80,
        "wires": [
            [
                "8df1b970e4dafbf8"
            ]
        ]
    },
    {
        "id": "40dcb5305c3d5e48",
        "type": "server-state-changed",
        "z": "01dec174361a0c54",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 1,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [],
            "substring": [],
            "regex": [
                "^sensor\\..*_heating\\b"
            ]
        },
        "outputInitially": true,
        "stateType": "str",
        "ifState": "",
        "ifStateType": "num",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": false,
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 170,
        "y": 200,
        "wires": [
            [
                "260a9c58f87b809c"
            ]
        ]
    },
    {
        "id": "8c207a4988a16ede",
        "type": "api-call-service",
        "z": "01dec174361a0c54",
        "name": "turn off cv boiler heating",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "climate.set_hvac_mode",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "climate.opentherm_heating"
        ],
        "labelId": [],
        "data": "{\"hvac_mode\":\"off\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": true,
        "domain": "climate",
        "service": "set_hvac_mode",
        "x": 750,
        "y": 160,
        "wires": [
            []
        ]
    },
    {
        "id": "e983f43ca63b80ee",
        "type": "api-call-service",
        "z": "01dec174361a0c54",
        "name": "turn on cv boiler heating",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "climate.set_hvac_mode",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "climate.opentherm_heating"
        ],
        "labelId": [],
        "data": "{\"hvac_mode\":\"heat\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": true,
        "domain": "climate",
        "service": "set_hvac_mode",
        "x": 750,
        "y": 220,
        "wires": [
            []
        ]
    },
    {
        "id": "260a9c58f87b809c",
        "type": "ha-get-entities",
        "z": "01dec174361a0c54",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 1,
        "rules": [
            {
                "condition": "state_object",
                "property": "entity_id",
                "logic": "in_group",
                "value": "group.tado_climate",
                "valueType": "str"
            },
            {
                "condition": "state_object",
                "property": "attributes.hvac_action",
                "logic": "is",
                "value": "heating",
                "valueType": "str"
            }
        ],
        "outputType": "count",
        "outputEmptyResults": false,
        "outputLocationType": "msg",
        "outputLocation": "payload",
        "outputResultsCount": 1,
        "x": 410,
        "y": 200,
        "wires": [
            [
                "ec4a7694aa518477"
            ]
        ]
    },
    {
        "id": "ec4a7694aa518477",
        "type": "switch",
        "z": "01dec174361a0c54",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            },
            {
                "t": "gte",
                "v": "1",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 550,
        "y": 200,
        "wires": [
            [
                "8c207a4988a16ede"
            ],
            [
                "e983f43ca63b80ee"
            ]
        ]
    },
    {
        "id": "2a804e94931f7201",
        "type": "comment",
        "z": "39f5e6336137f4b2",
        "name": "turn off tvscreen when nothing is playing and turn back on when mediaplayer start playing",
        "info": "",
        "x": 330,
        "y": 20,
        "wires": []
    },
    {
        "id": "b17acb7df0bb2bd2",
        "type": "switch",
        "z": "39f5e6336137f4b2",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "playing",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "paused",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 310,
        "y": 180,
        "wires": [
            [
                "d9540c933a60aec7",
                "9bfa5f87424a529d"
            ],
            [
                "f8003d1746659317"
            ]
        ]
    },
    {
        "id": "d9540c933a60aec7",
        "type": "change",
        "z": "39f5e6336137f4b2",
        "name": "set payload stop",
        "rules": [
            {
                "t": "set",
                "p": "reset",
                "pt": "msg",
                "to": "",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 600,
        "y": 200,
        "wires": [
            [
                "4539dbe872caf169",
                "19b08832ac41fe31"
            ]
        ]
    },
    {
        "id": "19b08832ac41fe31",
        "type": "delay",
        "z": "39f5e6336137f4b2",
        "name": "",
        "pauseType": "delay",
        "timeout": "10",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 780,
        "y": 260,
        "wires": [
            [
                "382a831c1568641b",
                "b3f587190264a6a8"
            ]
        ]
    },
    {
        "id": "382a831c1568641b",
        "type": "delay",
        "z": "39f5e6336137f4b2",
        "name": "",
        "pauseType": "delay",
        "timeout": "10",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 980,
        "y": 260,
        "wires": [
            [
                "058b6bfd406a2ad0"
            ]
        ]
    },
    {
        "id": "a9227561e7f66936",
        "type": "api-call-service",
        "z": "39f5e6336137f4b2",
        "name": "notify tv",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "notify.lg_webos_smart_tv",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [],
        "labelId": [],
        "data": "{\"message\":\"TV scherm gaat over 10 seconde automatisch op zwart. \",\"title\":\"TV scherm\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "turn_off",
                "valueType": "str"
            }
        ],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "notify",
        "service": "lg_webos_smart_tv",
        "x": 1380,
        "y": 320,
        "wires": [
            []
        ]
    },
    {
        "id": "a50b36c508ee1125",
        "type": "server-state-changed",
        "z": "39f5e6336137f4b2",
        "name": "universal tv is not playing",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 1,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "media_player.universal_tv"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": true,
        "stateType": "str",
        "ifState": "",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": false,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 130,
        "y": 180,
        "wires": [
            [
                "b17acb7df0bb2bd2"
            ]
        ]
    },
    {
        "id": "710a9c0fa290ab6f",
        "type": "server-state-changed",
        "z": "39f5e6336137f4b2",
        "name": "mediaplayer shield is idle",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 1,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "media_player.shield"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": true,
        "stateType": "str",
        "ifState": "",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": false,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 130,
        "y": 300,
        "wires": [
            [
                "b822a9f31018d2a0"
            ]
        ]
    },
    {
        "id": "b822a9f31018d2a0",
        "type": "switch",
        "z": "39f5e6336137f4b2",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "idle",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 310,
        "y": 300,
        "wires": [
            [
                "a325b77f020cd697"
            ]
        ]
    },
    {
        "id": "a325b77f020cd697",
        "type": "switch",
        "z": "39f5e6336137f4b2",
        "name": "",
        "property": "data.new_state.attributes.app_name",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "NLZIET",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 430,
        "y": 300,
        "wires": [
            [
                "f8003d1746659317"
            ]
        ]
    },
    {
        "id": "9bfa5f87424a529d",
        "type": "link out",
        "z": "39f5e6336137f4b2",
        "name": "link_out_tv_screen_turn_on",
        "mode": "link",
        "links": [
            "dec99c0ab95cf46a"
        ],
        "x": 535,
        "y": 160,
        "wires": []
    },
    {
        "id": "058b6bfd406a2ad0",
        "type": "link out",
        "z": "39f5e6336137f4b2",
        "name": "link_out_tv_screen_turn_off",
        "mode": "link",
        "links": [
            "1e4e8287439e54f1"
        ],
        "x": 1075,
        "y": 260,
        "wires": []
    },
    {
        "id": "cc8c7cf17f533749",
        "type": "catch",
        "z": "39f5e6336137f4b2",
        "g": "6245ab7a28a04b83",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "4cb0e008330fe098"
            ]
        ]
    },
    {
        "id": "4cb0e008330fe098",
        "type": "template",
        "z": "39f5e6336137f4b2",
        "g": "6245ab7a28a04b83",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "46f9be0e7684a83d"
            ]
        ]
    },
    {
        "id": "cb2996d878c5e0c7",
        "type": "link out",
        "z": "39f5e6336137f4b2",
        "g": "6245ab7a28a04b83",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 675,
        "y": 80,
        "wires": []
    },
    {
        "id": "46f9be0e7684a83d",
        "type": "template",
        "z": "39f5e6336137f4b2",
        "g": "6245ab7a28a04b83",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "08c782125ac91445"
            ]
        ]
    },
    {
        "id": "08c782125ac91445",
        "type": "function",
        "z": "39f5e6336137f4b2",
        "g": "6245ab7a28a04b83",
        "name": "notify.notification_id",
        "func": "msg.notify.notification_id = env.get(\"NR_FLOW_ID\");\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 550,
        "y": 80,
        "wires": [
            [
                "cb2996d878c5e0c7"
            ]
        ]
    },
    {
        "id": "54e3e2b794b71880",
        "type": "switch",
        "z": "39f5e6336137f4b2",
        "name": "active",
        "property": "state[\"media_player.lg_webos_smart_tv\"].state",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "Active",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1250,
        "y": 320,
        "wires": [
            [
                "a9227561e7f66936"
            ]
        ]
    },
    {
        "id": "18cdd9064f4a7ab9",
        "type": "api-call-service",
        "z": "39f5e6336137f4b2",
        "name": "current tv state",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "webostv.command",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [],
        "labelId": [],
        "data": "{\"entity_id\":\"media_player.lg_webos_smart_tv\",\"command\":\"com.webos.service.tvpower/power/getPowerState\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [
            {
                "property": "state",
                "propertyType": "msg",
                "value": "",
                "valueType": "results"
            }
        ],
        "queue": "none",
        "blockInputOverrides": true,
        "domain": "webostv",
        "service": "command",
        "x": 1100,
        "y": 320,
        "wires": [
            [
                "54e3e2b794b71880"
            ]
        ]
    },
    {
        "id": "b3f587190264a6a8",
        "type": "api-current-state",
        "z": "39f5e6336137f4b2",
        "name": "tv is on",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is_not",
        "entity_id": "media_player.lg_webos_smart_tv",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 940,
        "y": 320,
        "wires": [
            [
                "18cdd9064f4a7ab9"
            ],
            []
        ]
    },
    {
        "id": "fa84549da3a6b906",
        "type": "comment",
        "z": "a073f9861eebac1b",
        "name": "turn off doorbell when baby is going to bed",
        "info": "",
        "x": 180,
        "y": 20,
        "wires": []
    },
    {
        "id": "e47da0c339747945",
        "type": "catch",
        "z": "a073f9861eebac1b",
        "g": "e371174ff03ebd07",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "807853c3ad8de6d5"
            ]
        ]
    },
    {
        "id": "807853c3ad8de6d5",
        "type": "template",
        "z": "a073f9861eebac1b",
        "g": "e371174ff03ebd07",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "9e7376e7d1ee5322"
            ]
        ]
    },
    {
        "id": "df998c0aabd0f79a",
        "type": "link out",
        "z": "a073f9861eebac1b",
        "g": "e371174ff03ebd07",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 675,
        "y": 80,
        "wires": []
    },
    {
        "id": "9e7376e7d1ee5322",
        "type": "template",
        "z": "a073f9861eebac1b",
        "g": "e371174ff03ebd07",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "e08e97165685b032"
            ]
        ]
    },
    {
        "id": "e08e97165685b032",
        "type": "function",
        "z": "a073f9861eebac1b",
        "g": "e371174ff03ebd07",
        "name": "notify.notification_id",
        "func": "msg.notify.notification_id = env.get(\"NR_FLOW_ID\");\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 550,
        "y": 80,
        "wires": [
            [
                "df998c0aabd0f79a"
            ]
        ]
    },
    {
        "id": "f135b333cae8941c",
        "type": "http request",
        "z": "a073f9861eebac1b",
        "name": "is-it-dark",
        "method": "POST",
        "ret": "obj",
        "paytoqs": "ignore",
        "url": "http://is-it-dark.home-automation.svc.cluster.local/analyze",
        "tls": "",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "",
        "senderr": false,
        "headers": [],
        "x": 1360,
        "y": 260,
        "wires": [
            [
                "9db49fd74ebafe83"
            ]
        ]
    },
    {
        "id": "11d20fc10709f185",
        "type": "function",
        "z": "a073f9861eebac1b",
        "name": "create json body",
        "func": "msg.body = {\n    \"url\": \"https://home-assistant.stamx.nl/api/frigate/notifications/\" + msg.payload.after.id + \"/thumbnail.jpg?format=android\"\n}\n\n\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1020,
        "y": 260,
        "wires": [
            [
                "f770aac04574cfca"
            ]
        ]
    },
    {
        "id": "28ddcb9fe3dea17c",
        "type": "template",
        "z": "a073f9861eebac1b",
        "g": "5fb2d93489fc335c",
        "name": "icon",
        "field": "notify.icon",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "doorbell",
        "output": "str",
        "x": 1850,
        "y": 300,
        "wires": [
            [
                "fa10be5c6afdbd10"
            ]
        ]
    },
    {
        "id": "65ead3b4b322f45e",
        "type": "template",
        "z": "a073f9861eebac1b",
        "g": "5fb2d93489fc335c",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Deurbel",
        "output": "str",
        "x": 1850,
        "y": 220,
        "wires": [
            [
                "fa10be5c6afdbd10"
            ]
        ]
    },
    {
        "id": "fa10be5c6afdbd10",
        "type": "join",
        "z": "a073f9861eebac1b",
        "g": "5fb2d93489fc335c",
        "name": "",
        "mode": "custom",
        "build": "merged",
        "property": "notify",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "useparts": true,
        "accumulate": false,
        "timeout": "",
        "count": "8",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 2050,
        "y": 260,
        "wires": [
            [
                "c9fea470c4b2ad77",
                "72efcdc65f4cab19"
            ]
        ]
    },
    {
        "id": "7d1696747fc1b9b8",
        "type": "change",
        "z": "a073f9861eebac1b",
        "g": "5fb2d93489fc335c",
        "name": "action titles",
        "rules": [
            {
                "t": "set",
                "p": "notify.action_1_title",
                "pt": "msg",
                "to": "JA",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "notify.action_2_title",
                "pt": "msg",
                "to": "NEE",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "notify.action_1",
                "pt": "msg",
                "to": "DOORBELL_OFF",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "notify.action_2",
                "pt": "msg",
                "to": "IGNORE",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1870,
        "y": 260,
        "wires": [
            [
                "fa10be5c6afdbd10"
            ]
        ]
    },
    {
        "id": "c48e92d23dd5455a",
        "type": "template",
        "z": "a073f9861eebac1b",
        "g": "5fb2d93489fc335c",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Het lijkt er op dat Beau gaat slapen, wil je het geluid van de deurbel uitschakelen?",
        "output": "str",
        "x": 1860,
        "y": 340,
        "wires": [
            [
                "fa10be5c6afdbd10"
            ]
        ]
    },
    {
        "id": "e09d093683c71b6d",
        "type": "template",
        "z": "a073f9861eebac1b",
        "g": "5fb2d93489fc335c",
        "name": "notification id",
        "field": "notify.notification_id",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "deurbel",
        "output": "str",
        "x": 1870,
        "y": 380,
        "wires": [
            [
                "fa10be5c6afdbd10"
            ]
        ]
    },
    {
        "id": "23dafcfaf20bc605",
        "type": "server-events",
        "z": "a073f9861eebac1b",
        "g": "edf4b2b59a0f294c",
        "name": "mobile event listner",
        "server": "4ba92433.2478cc",
        "version": 3,
        "exposeAsEntityConfig": "",
        "eventType": "mobile_app_notification_action",
        "eventData": "{\"action\":\"DOORBELL_OFF\"}",
        "waitForRunning": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "$outputData(\"eventData\").event_type",
                "valueType": "jsonata"
            }
        ],
        "event_type": "",
        "x": 130,
        "y": 220,
        "wires": [
            [
                "8dd47ccef92d46f6"
            ]
        ]
    },
    {
        "id": "8dd47ccef92d46f6",
        "type": "api-call-service",
        "z": "a073f9861eebac1b",
        "g": "edf4b2b59a0f294c",
        "name": "turn off doorbell",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "switch.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "switch.smart_doorbell_active"
        ],
        "labelId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": true,
        "domain": "switch",
        "service": "turn_off",
        "x": 400,
        "y": 220,
        "wires": [
            []
        ]
    },
    {
        "id": "cadb1ef2934448cb",
        "type": "time-range-switch",
        "z": "a073f9861eebac1b",
        "name": "",
        "lat": "",
        "lon": "",
        "startTime": "09:00",
        "endTime": "23:00",
        "startOffset": 0,
        "endOffset": "",
        "x": 530,
        "y": 380,
        "wires": [
            [
                "7887831e95ff558d"
            ],
            []
        ]
    },
    {
        "id": "f770aac04574cfca",
        "type": "change",
        "z": "a073f9861eebac1b",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "body",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1200,
        "y": 260,
        "wires": [
            [
                "f135b333cae8941c"
            ]
        ]
    },
    {
        "id": "3edf4e7a417d9810",
        "type": "link in",
        "z": "a073f9861eebac1b",
        "name": "link in 2",
        "links": [
            "d43d88240c721b6f"
        ],
        "x": 265,
        "y": 380,
        "wires": [
            [
                "6b5baac931e24083"
            ]
        ]
    },
    {
        "id": "9db49fd74ebafe83",
        "type": "switch",
        "z": "a073f9861eebac1b",
        "name": "",
        "property": "payload.is_infrared",
        "propertyType": "msg",
        "rules": [
            {
                "t": "true"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1490,
        "y": 260,
        "wires": [
            [
                "a31cc1f1e21199e8"
            ]
        ]
    },
    {
        "id": "0359d9e365d75bf2",
        "type": "api-current-state",
        "z": "a073f9861eebac1b",
        "name": "doorbell is on",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "switch.smart_doorbell_active",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 870,
        "y": 380,
        "wires": [
            [
                "3b2730b31d7e11f1"
            ],
            [
                "97195979652db73b"
            ]
        ]
    },
    {
        "id": "6b5baac931e24083",
        "type": "switch",
        "z": "a073f9861eebac1b",
        "name": "has snapshot",
        "property": "payload.after.has_snapshot",
        "propertyType": "msg",
        "rules": [
            {
                "t": "true"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 370,
        "y": 380,
        "wires": [
            [
                "cadb1ef2934448cb"
            ]
        ]
    },
    {
        "id": "d93f6f1d6be736de",
        "type": "http request",
        "z": "a073f9861eebac1b",
        "name": "is-it-dark",
        "method": "POST",
        "ret": "obj",
        "paytoqs": "ignore",
        "url": "http://is-it-dark.home-automation.svc.cluster.local/analyze",
        "tls": "",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "",
        "senderr": false,
        "headers": [],
        "x": 1360,
        "y": 520,
        "wires": [
            [
                "cefad7808e675ee7"
            ]
        ]
    },
    {
        "id": "97195979652db73b",
        "type": "function",
        "z": "a073f9861eebac1b",
        "name": "create json body",
        "func": "msg.body = {\n    \"url\": \"https://home-assistant.stamx.nl/api/frigate/notifications/\" + msg.payload.after.id + \"/thumbnail.jpg?format=android\"\n}\n\n\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1020,
        "y": 520,
        "wires": [
            [
                "dd25048a5a4bc156"
            ]
        ]
    },
    {
        "id": "dd25048a5a4bc156",
        "type": "change",
        "z": "a073f9861eebac1b",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "body",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1200,
        "y": 520,
        "wires": [
            [
                "d93f6f1d6be736de"
            ]
        ]
    },
    {
        "id": "cefad7808e675ee7",
        "type": "switch",
        "z": "a073f9861eebac1b",
        "name": "",
        "property": "payload.is_infrared",
        "propertyType": "msg",
        "rules": [
            {
                "t": "false"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1490,
        "y": 520,
        "wires": [
            [
                "b098dd13d5d76f90"
            ]
        ]
    },
    {
        "id": "5b0ed20f9ac639e1",
        "type": "template",
        "z": "a073f9861eebac1b",
        "g": "fe64cb4fec53d328",
        "name": "icon",
        "field": "notify.icon",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "doorbell",
        "output": "str",
        "x": 1850,
        "y": 560,
        "wires": [
            [
                "8a53691e5c608172"
            ]
        ]
    },
    {
        "id": "bc2225a0df38d467",
        "type": "template",
        "z": "a073f9861eebac1b",
        "g": "fe64cb4fec53d328",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Deurbel",
        "output": "str",
        "x": 1850,
        "y": 480,
        "wires": [
            [
                "8a53691e5c608172"
            ]
        ]
    },
    {
        "id": "8e3d4dadf043448a",
        "type": "link out",
        "z": "a073f9861eebac1b",
        "name": "link_out_anne_is_home",
        "mode": "link",
        "links": [
            "c76d311bb4b6991b"
        ],
        "x": 2385,
        "y": 400,
        "wires": []
    },
    {
        "id": "8a53691e5c608172",
        "type": "join",
        "z": "a073f9861eebac1b",
        "g": "fe64cb4fec53d328",
        "name": "",
        "mode": "custom",
        "build": "merged",
        "property": "notify",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "useparts": true,
        "accumulate": false,
        "timeout": "",
        "count": "8",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 2050,
        "y": 520,
        "wires": [
            [
                "c9fea470c4b2ad77",
                "72efcdc65f4cab19"
            ]
        ]
    },
    {
        "id": "486061fb4214f811",
        "type": "change",
        "z": "a073f9861eebac1b",
        "g": "fe64cb4fec53d328",
        "name": "action titles",
        "rules": [
            {
                "t": "set",
                "p": "notify.action_1_title",
                "pt": "msg",
                "to": "JA",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "notify.action_2_title",
                "pt": "msg",
                "to": "NEE",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "notify.action_1",
                "pt": "msg",
                "to": "DOORBELL_ON",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "notify.action_2",
                "pt": "msg",
                "to": "IGNORE",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1870,
        "y": 520,
        "wires": [
            [
                "8a53691e5c608172"
            ]
        ]
    },
    {
        "id": "18d17ebdbbe62765",
        "type": "template",
        "z": "a073f9861eebac1b",
        "g": "fe64cb4fec53d328",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Het lijkt er op dat Beau wakker is, wil je het geluid van de deurbel weer aanzetten?",
        "output": "str",
        "x": 1860,
        "y": 600,
        "wires": [
            [
                "8a53691e5c608172"
            ]
        ]
    },
    {
        "id": "4348cc8838e3749a",
        "type": "template",
        "z": "a073f9861eebac1b",
        "g": "fe64cb4fec53d328",
        "name": "notification id",
        "field": "notify.notification_id",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "deurbel",
        "output": "str",
        "x": 1870,
        "y": 640,
        "wires": [
            [
                "8a53691e5c608172"
            ]
        ]
    },
    {
        "id": "3b2730b31d7e11f1",
        "type": "ha-wait-until",
        "z": "a073f9861eebac1b",
        "name": "wait until light is off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "entities": {
            "entity": [
                "light.shellydimmer_small_bedroom"
            ],
            "substring": [],
            "regex": []
        },
        "property": "state",
        "comparator": "is_not",
        "value": "on",
        "valueType": "str",
        "timeout": "30",
        "timeoutType": "num",
        "timeoutUnits": "minutes",
        "checkCurrentState": true,
        "blockInputOverrides": true,
        "outputProperties": [],
        "x": 830,
        "y": 260,
        "wires": [
            [
                "11d20fc10709f185"
            ],
            []
        ]
    },
    {
        "id": "5d4508f2fd99222d",
        "type": "server-events",
        "z": "a073f9861eebac1b",
        "g": "edf4b2b59a0f294c",
        "name": "mobile event listner",
        "server": "4ba92433.2478cc",
        "version": 3,
        "exposeAsEntityConfig": "",
        "eventType": "mobile_app_notification_action",
        "eventData": "{\"action\":\"DOORBELL_ON\"}",
        "waitForRunning": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "$outputData(\"eventData\").event_type",
                "valueType": "jsonata"
            }
        ],
        "event_type": "",
        "x": 130,
        "y": 280,
        "wires": [
            [
                "a9941198e8915b61"
            ]
        ]
    },
    {
        "id": "a9941198e8915b61",
        "type": "api-call-service",
        "z": "a073f9861eebac1b",
        "g": "edf4b2b59a0f294c",
        "name": "turn on doorbell",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "switch.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "switch.smart_doorbell_active"
        ],
        "labelId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": true,
        "domain": "switch",
        "service": "turn_on",
        "x": 400,
        "y": 280,
        "wires": [
            []
        ]
    },
    {
        "id": "c9fea470c4b2ad77",
        "type": "api-current-state",
        "z": "a073f9861eebac1b",
        "name": "anne is home",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "home",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "person.anne",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 2260,
        "y": 400,
        "wires": [
            [
                "8e3d4dadf043448a"
            ],
            []
        ]
    },
    {
        "id": "91c7732091601e1b",
        "type": "link out",
        "z": "a073f9861eebac1b",
        "name": "link_out_coen_is_home",
        "mode": "link",
        "links": [
            "d1753081ba6b4004"
        ],
        "x": 2385,
        "y": 460,
        "wires": []
    },
    {
        "id": "72efcdc65f4cab19",
        "type": "api-current-state",
        "z": "a073f9861eebac1b",
        "name": "coen is home",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "home",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "person.coen",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 2250,
        "y": 460,
        "wires": [
            [
                "91c7732091601e1b"
            ],
            []
        ]
    },
    {
        "id": "7887831e95ff558d",
        "type": "api-current-state",
        "z": "a073f9861eebac1b",
        "name": "sleepmode is off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.sleep_mode",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 700,
        "y": 380,
        "wires": [
            [
                "0359d9e365d75bf2"
            ],
            []
        ]
    },
    {
        "id": "a31cc1f1e21199e8",
        "type": "delay",
        "z": "a073f9861eebac1b",
        "name": "",
        "pauseType": "rate",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "hour",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": true,
        "allowrate": false,
        "outputs": 1,
        "x": 1630,
        "y": 260,
        "wires": [
            [
                "70621108112580c3"
            ]
        ]
    },
    {
        "id": "b098dd13d5d76f90",
        "type": "delay",
        "z": "a073f9861eebac1b",
        "name": "",
        "pauseType": "rate",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "hour",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": true,
        "allowrate": false,
        "outputs": 1,
        "x": 1630,
        "y": 520,
        "wires": [
            [
                "bf77f797164619b0"
            ]
        ]
    }
]