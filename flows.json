[
    {
        "id": "75537afd17de5117",
        "type": "tab",
        "label": "notification_picnic",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "1adcdebcdc8e5c39",
        "type": "tab",
        "label": "climate_graph_input_select_all",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "5b957aaa34cab814",
        "type": "tab",
        "label": "assist_media_player_volume",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "2b23c32f6263f8c7",
        "type": "tab",
        "label": "assist_entertainment",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "55da1471.fda0fc",
        "type": "tab",
        "label": "_automation_living-room_robo-vacuum",
        "disabled": false,
        "info": ""
    },
    {
        "id": "39f5e6336137f4b2",
        "type": "tab",
        "label": "_automation_living-room_tv",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "94466ab2e543aa2f",
        "type": "tab",
        "label": "_automation_living-room",
        "disabled": false,
        "info": "",
        "env": [
            {
                "name": "room",
                "value": "woonkamer",
                "type": "str"
            }
        ]
    },
    {
        "id": "b789af61b07fd59c",
        "type": "tab",
        "label": "_automation_bathroom",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "be92da6a5a4a4550",
        "type": "tab",
        "label": "_automation_backyard",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "a0bf4bfc6f223fe1",
        "type": "tab",
        "label": "_automation_beau's-room",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "bf279eb7eda19fd7",
        "type": "tab",
        "label": "_automation_frontyard",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "4e909abe.0b62e4",
        "type": "tab",
        "label": "_automation_souterrain_ventilation",
        "disabled": false,
        "info": ""
    },
    {
        "id": "a09ad053d19f1d06",
        "type": "tab",
        "label": "_automation_souterrain",
        "disabled": false,
        "info": "",
        "env": [
            {
                "name": "room",
                "value": "souterrain",
                "type": "str"
            }
        ]
    },
    {
        "id": "7f39e487c7ab241c",
        "type": "tab",
        "label": "_automation_cv-closet",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "f32d9f15eade4bba",
        "type": "tab",
        "label": "_automation_kitchen",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "9f04872fa1616475",
        "type": "tab",
        "label": "_automation_hallway-ground-floor",
        "disabled": false,
        "info": "",
        "env": [
            {
                "name": "room",
                "value": "gang",
                "type": "str"
            }
        ]
    },
    {
        "id": "085c9b619c2f5ad8",
        "type": "tab",
        "label": "_automation_hallway-first-floor",
        "disabled": false,
        "info": "",
        "env": [
            {
                "name": "room",
                "value": "hal boven",
                "type": "str"
            }
        ]
    },
    {
        "id": "e5dc6f22432398d7",
        "type": "tab",
        "label": "_automation_master-bedroom",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "243935f7eeb0bc81",
        "type": "tab",
        "label": "_automation_lise's-room",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "3d30857f5165e137",
        "type": "tab",
        "label": "_automation_toilet",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "584de19021aea4c9",
        "type": "tab",
        "label": "_automation_global_home-security",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "840a747bdf820be0",
        "type": "tab",
        "label": "_automation_global_home-alarm",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "13a255ebdd1ff73b",
        "type": "tab",
        "label": "_automation_global_sleep-mode",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "e98ae3c9db1bd6c3",
        "type": "tab",
        "label": "_automation_global_vacation-mode",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "82d5958c73f37c26",
        "type": "tab",
        "label": "_automation_global_sms-forwarder",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "d9b05fe971d5c1b1",
        "type": "tab",
        "label": "_automation_global_calendar-events",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "2a2d89771193fb8b",
        "type": "tab",
        "label": "_automation_global_location-update",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "e4381ced98d2a929",
        "type": "tab",
        "label": "_automation_global_internet-speedtest",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "e0e34b3e49b36c0e",
        "type": "tab",
        "label": "_automation_global_set-theme",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "51ad1e79edd47f04",
        "type": "tab",
        "label": "_automation_global_weather",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "98a989e.d6bca78",
        "type": "tab",
        "label": "_automation_global_gas-consumption",
        "disabled": false,
        "info": ""
    },
    {
        "id": "b1b994b3d43d6aad",
        "type": "tab",
        "label": "_automation_global_stookalert",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "edbbe41e31b072c6",
        "type": "tab",
        "label": "_automation_global_notification-messages",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "3611a09f77ab1873",
        "type": "tab",
        "label": "_automation_global_notification-send",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "e44f5d834fa24670",
        "type": "tab",
        "label": "_automation_global_notification-action-events",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "b8d98c82eb2488b9",
        "type": "tab",
        "label": "_automation_global_todo-tasks",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "9ea6eabfb34d96e0",
        "type": "subflow",
        "name": "trigger_global_house-unoccupied",
        "info": "",
        "category": "",
        "in": [],
        "out": [
            {
                "x": 720,
                "y": 80,
                "wires": [
                    {
                        "id": "0a18bbcbd9c3cd6e",
                        "port": 0
                    },
                    {
                        "id": "cd959f601e0454e3",
                        "port": 0
                    },
                    {
                        "id": "8457dd663492ca8d",
                        "port": 0
                    }
                ]
            }
        ],
        "env": [],
        "meta": {},
        "color": "#DDAA99",
        "outputLabels": [
            "person or guest",
            "guest",
            "person"
        ],
        "icon": "font-awesome/fa-home"
    },
    {
        "id": "ad57f56dd92dd9d6",
        "type": "subflow",
        "name": "trigger_global_house-occupied",
        "info": "",
        "category": "",
        "in": [],
        "out": [
            {
                "x": 710,
                "y": 100,
                "wires": [
                    {
                        "id": "4aae8060dce8db6a",
                        "port": 0
                    },
                    {
                        "id": "e0e3382abbd19287",
                        "port": 0
                    },
                    {
                        "id": "13c4015f5c406ece",
                        "port": 0
                    },
                    {
                        "id": "edc3bf6451d1af22",
                        "port": 0
                    }
                ]
            },
            {
                "x": 630,
                "y": 160,
                "wires": [
                    {
                        "id": "4aae8060dce8db6a",
                        "port": 0
                    }
                ]
            },
            {
                "x": 640,
                "y": 220,
                "wires": [
                    {
                        "id": "e0e3382abbd19287",
                        "port": 0
                    }
                ]
            },
            {
                "x": 700,
                "y": 280,
                "wires": [
                    {
                        "id": "6b09385c6ff633f3",
                        "port": 0
                    }
                ]
            },
            {
                "x": 700,
                "y": 340,
                "wires": [
                    {
                        "id": "a256a145f7984f9a",
                        "port": 0
                    }
                ]
            }
        ],
        "env": [],
        "meta": {},
        "color": "#DDAA99",
        "outputLabels": [
            "a person gets home or guestmode turns on",
            "person gets home",
            "guestmode turns on",
            "coen gets home anne was allready home",
            "anne gets home coen was allready home"
        ],
        "icon": "font-awesome/fa-home"
    },
    {
        "id": "60fb1216c78ea01b",
        "type": "subflow",
        "name": "home-assistant uptime",
        "info": "",
        "category": "",
        "in": [
            {
                "x": 60,
                "y": 80,
                "wires": [
                    {
                        "id": "076e08fc693e71ac"
                    }
                ]
            }
        ],
        "out": [
            {
                "x": 460,
                "y": 80,
                "wires": [
                    {
                        "id": "08635f01044b925c",
                        "port": 0
                    }
                ]
            }
        ],
        "env": [],
        "meta": {},
        "color": "#C0DEED",
        "icon": "font-awesome/fa-clock-o"
    },
    {
        "id": "ef69ec82c772cad9",
        "type": "group",
        "z": "75537afd17de5117",
        "name": "notify",
        "style": {
            "label": true
        },
        "nodes": [
            "644d8e4f0164cfb2",
            "4b6f2391d1d4dfb7",
            "c32738f7b2c8ece5",
            "64fb1dffb9145f24",
            "5cb88a741e06d0c9",
            "56e8236b1fb323bc"
        ],
        "x": 1694,
        "y": 419,
        "w": 402,
        "h": 162
    },
    {
        "id": "8b3123563ca26288",
        "type": "group",
        "z": "75537afd17de5117",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "08e87e585225cf76",
            "850de025f821d110",
            "a1d22443632b6c95",
            "34627360e59b2422"
        ],
        "x": 14,
        "y": 39,
        "w": 502,
        "h": 82
    },
    {
        "id": "914448f840b9d7b8",
        "type": "group",
        "z": "7f39e487c7ab241c",
        "name": "",
        "style": {
            "fill": "#ffbfbf",
            "label": true
        },
        "nodes": [
            "827acf22221b355e",
            "2b3ce0da818e77aa",
            "2cc9a5595a901b10",
            "a13a7124838954d9",
            "3cabf5fcbc48a7ce"
        ],
        "x": 14,
        "y": 19,
        "w": 702,
        "h": 82
    },
    {
        "id": "5ea1109d92a3532a",
        "type": "group",
        "z": "e44f5d834fa24670",
        "name": "",
        "style": {
            "fill": "#ffbfbf",
            "label": true
        },
        "nodes": [
            "5d74377194336786",
            "74f02e0422cfcfd4",
            "fc1469a9f0ef1aee",
            "5871553313960848",
            "8718042f6e666b71"
        ],
        "x": 14,
        "y": 19,
        "w": 702,
        "h": 82
    },
    {
        "id": "fe14b17143d5f305",
        "type": "group",
        "z": "d9b05fe971d5c1b1",
        "name": "",
        "style": {
            "fill": "#ffbfbf",
            "label": true
        },
        "nodes": [
            "85f675ee7a30451c",
            "3551969ed0c1e37a",
            "337ef9e6426bf90b",
            "6149bb5f8eb1e0d7",
            "418ebf3d342bb9b0"
        ],
        "x": 14,
        "y": 19,
        "w": 702,
        "h": 82
    },
    {
        "id": "8ba9bcbdc999fc66",
        "type": "group",
        "z": "1adcdebcdc8e5c39",
        "name": "",
        "style": {
            "fill": "#ffbfbf",
            "label": true
        },
        "nodes": [
            "13ec4212aa6c7097",
            "2d9839edb5b18080",
            "37d1e62a237418c8",
            "0df371a631a420f1",
            "9f7cae83c633220f"
        ],
        "x": 14,
        "y": 39,
        "w": 702,
        "h": 82
    },
    {
        "id": "e05fc2f16e523b41",
        "type": "group",
        "z": "e0e34b3e49b36c0e",
        "name": "",
        "style": {
            "fill": "#ffbfbf",
            "label": true
        },
        "nodes": [
            "8edbcdc648b5d26e",
            "47e52ab72e9c041c",
            "41b174876237d623",
            "ee907863ab8c5ce0",
            "7f2715dc3075a76b"
        ],
        "x": 14,
        "y": 19,
        "w": 702,
        "h": 82
    },
    {
        "id": "f75da396da61e265",
        "type": "group",
        "z": "5b957aaa34cab814",
        "name": "",
        "style": {
            "fill": "#ffbfbf",
            "label": true
        },
        "nodes": [
            "baefe1afbb082442",
            "09922b4a1abc6861",
            "2978274f7f9728d8",
            "4375bd61cef9b591",
            "778f51a4da22adf6"
        ],
        "x": 14,
        "y": 39,
        "w": 702,
        "h": 82
    },
    {
        "id": "4dc458809c7f0b0e",
        "type": "group",
        "z": "2b23c32f6263f8c7",
        "name": "",
        "style": {
            "fill": "#ffbfbf",
            "label": true
        },
        "nodes": [
            "ed43e3427066937c",
            "78507d1220da1132",
            "bf8e5653c2636930",
            "b412897abc463b37",
            "5a30badee0ae6770"
        ],
        "x": 14,
        "y": 39,
        "w": 702,
        "h": 82
    },
    {
        "id": "6245ab7a28a04b83",
        "type": "group",
        "z": "39f5e6336137f4b2",
        "name": "",
        "style": {
            "fill": "#ffbfbf",
            "label": true
        },
        "nodes": [
            "cc8c7cf17f533749",
            "4cb0e008330fe098",
            "cb2996d878c5e0c7",
            "46f9be0e7684a83d",
            "08c782125ac91445"
        ],
        "x": 14,
        "y": 19,
        "w": 702,
        "h": 82
    },
    {
        "id": "bbcf76f00ce4b0cb",
        "type": "group",
        "z": "a09ad053d19f1d06",
        "name": "",
        "style": {
            "fill": "#ffbfbf",
            "label": true
        },
        "nodes": [
            "d9a6fa98ba07c6da",
            "a35d4e7ccec0ebe3",
            "03465ecf3ac1c82f",
            "0aa18950f4e293e1",
            "24257750e969c915"
        ],
        "x": 14,
        "y": 19,
        "w": 702,
        "h": 82
    },
    {
        "id": "b42667cc42459750",
        "type": "group",
        "z": "13a255ebdd1ff73b",
        "name": "",
        "style": {
            "fill": "#ffbfbf",
            "label": true
        },
        "nodes": [
            "2ba9517a860a47ee",
            "d24f6768d16e9d4a",
            "c2b55a3f0ee96b43",
            "619ec42f4a819c58",
            "ee92d8798fbf4b64"
        ],
        "x": 14,
        "y": 19,
        "w": 702,
        "h": 82
    },
    {
        "id": "4d4e6df3797df6ef",
        "type": "group",
        "z": "584de19021aea4c9",
        "name": "",
        "style": {
            "fill": "#ffbfbf",
            "label": true
        },
        "nodes": [
            "b39b586bf6ca434d",
            "ec93c45ae9417e15",
            "9d553baf555a2986",
            "6304933d3ac6eec0",
            "0dcd14f1512c625d"
        ],
        "x": 14,
        "y": 19,
        "w": 702,
        "h": 82
    },
    {
        "id": "2fca1ec79ef4fd0f",
        "type": "group",
        "z": "82d5958c73f37c26",
        "name": "",
        "style": {
            "fill": "#ffbfbf",
            "label": true
        },
        "nodes": [
            "e35cad4b3ef71457",
            "dc11ed7224c9e212",
            "01715f74afb788fa",
            "df5953f730ed98e5",
            "6417fbf071ec5c3b"
        ],
        "x": 14,
        "y": 19,
        "w": 702,
        "h": 82
    },
    {
        "id": "71b5f1ba66875171",
        "type": "group",
        "z": "2a2d89771193fb8b",
        "name": "",
        "style": {
            "fill": "#ffbfbf",
            "label": true
        },
        "nodes": [
            "6a6520d601185044",
            "9153c3f34ed4cf4e",
            "ef7470dc94a80ccd",
            "e178716be34b9468",
            "695b74bc6c83ff92"
        ],
        "x": 14,
        "y": 19,
        "w": 702,
        "h": 82
    },
    {
        "id": "2eb792ab3efd8194",
        "type": "group",
        "z": "2a2d89771193fb8b",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "42ddeb921e7ac3ac",
            "249f5902cd409334",
            "21f329f381fe5581",
            "684440651deb45dc",
            "31e88dec2dcdce08",
            "f95baa64b54391a1",
            "244a53dc130e241e"
        ],
        "x": 14,
        "y": 119,
        "w": 652,
        "h": 202
    },
    {
        "id": "0198e4fba1900d12",
        "type": "group",
        "z": "d9b05fe971d5c1b1",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "1e22588bbe63c367",
            "d2c560378b1b926b",
            "daacb8ae6b24ed5b",
            "af07bfce63f231bf",
            "42e276a02c8ae048",
            "c0ee902736073bfc"
        ],
        "x": 14,
        "y": 119,
        "w": 792,
        "h": 182
    },
    {
        "id": "fa8b2c549c6198d2",
        "type": "group",
        "z": "82d5958c73f37c26",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "31399773f075b869",
            "322398b813ae0542",
            "782dad59eecce1f6",
            "f7b6a832a5096712",
            "2e9e2b02c8f4b00b",
            "c4b9a270ac6b6551",
            "4d395d18c0756d47",
            "2babd23a398c74fd"
        ],
        "x": 14,
        "y": 119,
        "w": 692,
        "h": 202
    },
    {
        "id": "08715fb1375207f2",
        "type": "group",
        "z": "584de19021aea4c9",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "0d2ea417abbfd9a9",
            "3c72ab291eed2837",
            "33536fb6cb94dc7d",
            "b52170d79065c5e9",
            "72ae4172893b2bb9",
            "e70a120b208749ae",
            "ce03ab56bedf05fc",
            "98e460a4ed0ed121",
            "1da076f55b07dac9",
            "06e3604a68b26be9"
        ],
        "x": 14,
        "y": 259,
        "w": 1292,
        "h": 304.5
    },
    {
        "id": "248d4ab2c7068c5e",
        "type": "group",
        "z": "9f04872fa1616475",
        "name": "",
        "style": {
            "fill": "#ffbfbf",
            "label": true
        },
        "nodes": [
            "8c10b0e33e6f54b0",
            "b4defcb9cbcaf45b",
            "784ddf5ce5e4965e",
            "12a3dce49d94867b",
            "0778c56b05cb98f7"
        ],
        "x": 14,
        "y": 19,
        "w": 702,
        "h": 82
    },
    {
        "id": "3ca230ff2becd832",
        "type": "group",
        "z": "b789af61b07fd59c",
        "name": "notify",
        "style": {
            "label": true
        },
        "nodes": [
            "753a58a11a72906c",
            "f777d58a9431acab",
            "6ca39787321a747a",
            "e778d71ea6d1e452",
            "62e6e0b8f41df173",
            "8e10f7084a1fb496",
            "9ba2576829f3e51e"
        ],
        "x": 1854,
        "y": 299,
        "w": 442,
        "h": 202
    },
    {
        "id": "68a98f78122e5e71",
        "type": "group",
        "z": "b789af61b07fd59c",
        "name": "",
        "style": {
            "fill": "#ffbfbf",
            "label": true
        },
        "nodes": [
            "9056928bc0dcd9af",
            "e71eb3bfe6e72aaa",
            "653fcb40d1a25093",
            "1eb8a6661fe76878",
            "c2ba99719a3d4eef"
        ],
        "x": 14,
        "y": 19,
        "w": 702,
        "h": 82
    },
    {
        "id": "adce68bda183382f",
        "type": "group",
        "z": "a0bf4bfc6f223fe1",
        "name": "",
        "style": {
            "fill": "#ffbfbf",
            "label": true
        },
        "nodes": [
            "7831e77dd0529d13",
            "83d9bffdc90d8024",
            "d0d98b18b43870d8",
            "dc40e9ead4bb5038",
            "f36ee4c6622c00cb"
        ],
        "x": 14,
        "y": 19,
        "w": 702,
        "h": 82
    },
    {
        "id": "b65b9ff17eaef899",
        "type": "group",
        "z": "085c9b619c2f5ad8",
        "name": "",
        "style": {
            "fill": "#ffbfbf",
            "label": true
        },
        "nodes": [
            "0de9b0739bb60d99",
            "3f837f513bde36c9",
            "dc649cae5470eb6f",
            "16dda5ed078d390c",
            "0a3e14e9ce2510d2"
        ],
        "x": 14,
        "y": 19,
        "w": 702,
        "h": 82
    },
    {
        "id": "94eb0b8399251a81",
        "type": "group",
        "z": "243935f7eeb0bc81",
        "name": "",
        "style": {
            "fill": "#ffbfbf",
            "label": true
        },
        "nodes": [
            "d357be3dcef4fda7",
            "27a67028b86e4283",
            "6e8aad8568d522fa",
            "5c37c236740f83bb",
            "b065c26e521207b1"
        ],
        "x": 14,
        "y": 19,
        "w": 702,
        "h": 82
    },
    {
        "id": "4d7858b75137b4e2",
        "type": "group",
        "z": "e5dc6f22432398d7",
        "name": "",
        "style": {
            "fill": "#ffbfbf",
            "label": true
        },
        "nodes": [
            "b088b44e4525c097",
            "551131fd649c020a",
            "c4352074f6a9380d",
            "d2e29d0bc6c40b73",
            "a4f640f2e439cdea"
        ],
        "x": 14,
        "y": 19,
        "w": 702,
        "h": 82
    },
    {
        "id": "d682f69e7ce22c8f",
        "type": "group",
        "z": "94466ab2e543aa2f",
        "name": "",
        "style": {
            "fill": "#ffbfbf",
            "label": true
        },
        "nodes": [
            "6e79bc1726b0ef67",
            "5b124ad54f888554",
            "651e1d1bfb037f1b",
            "d401844673ba904e",
            "2262f2a2e5fc42b1"
        ],
        "x": 14,
        "y": 19,
        "w": 702,
        "h": 82
    },
    {
        "id": "ec2f567862ba39b8",
        "type": "group",
        "z": "94466ab2e543aa2f",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "38359ee3075d7265",
            "114df27610bf61b8",
            "5de4c93f0f01b4d6",
            "0260edcb14ed697c",
            "2d71a81ca51a22dc",
            "b55a1b1c2ee46b70",
            "80f341496b680f21",
            "02001e33ab1a7769",
            "92a5fdf9411f1451",
            "db0951fa1bf62652",
            "b683652c36e89d93",
            "c7889bf53b45acd0",
            "12623d2f9eb2f4d2",
            "0a529779203ff3d6",
            "257a3fc6c1e0caff",
            "434c2e9a25561bbe",
            "bcb591880f5b770b"
        ],
        "x": 14,
        "y": 279,
        "w": 862,
        "h": 522
    },
    {
        "id": "43db3a32531961af",
        "type": "group",
        "z": "f32d9f15eade4bba",
        "name": "",
        "style": {
            "fill": "#ffbfbf",
            "label": true
        },
        "nodes": [
            "44830f60728cb460",
            "2db3444e5c29da91",
            "e68a4f2c1f36acb9",
            "c0d88069e22740be",
            "e847e8dad0dd9ab7"
        ],
        "x": 14,
        "y": 19,
        "w": 702,
        "h": 82
    },
    {
        "id": "e4b115822136011e",
        "type": "group",
        "z": "bf279eb7eda19fd7",
        "name": "",
        "style": {
            "fill": "#ffbfbf",
            "label": true
        },
        "nodes": [
            "e91b6ee40fc46f0c",
            "c2a1f14195c61ae1",
            "eac587a7da6b3661",
            "665026f9a1c4925c",
            "8df00b3508493f2c"
        ],
        "x": 14,
        "y": 19,
        "w": 702,
        "h": 82
    },
    {
        "id": "e76b862c154037a5",
        "type": "group",
        "z": "bf279eb7eda19fd7",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "174604fe3f8a8bcd",
            "3bafb9626527259f",
            "ed0a64b393320467"
        ],
        "x": 14,
        "y": 399,
        "w": 302,
        "h": 122
    },
    {
        "id": "4449f91efc0583a7",
        "type": "group",
        "z": "bf279eb7eda19fd7",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "94995c95d8594567",
            "36cd7ff9968a8857",
            "efaf9a399a91cc6a",
            "eac6d376f26390fe",
            "6ab4fe8e04f4839f",
            "98dd5da045366f4f",
            "a4f6b88e4f08955d",
            "b2c2fadb2c3302b7"
        ],
        "x": 14,
        "y": 819,
        "w": 772,
        "h": 222
    },
    {
        "id": "53739d10393c26e2",
        "type": "group",
        "z": "bf279eb7eda19fd7",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "8be71c38e670f610",
            "b11e5a0712a8f45c",
            "578f9487e5b636d9"
        ],
        "x": 14,
        "y": 539,
        "w": 262,
        "h": 122
    },
    {
        "id": "cab9eeaa205362d4",
        "type": "group",
        "z": "13a255ebdd1ff73b",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "5b60f50f0c536814",
            "a47dc9c70d1b7cac",
            "ab8d50df95263bdb",
            "144998ab4397337d",
            "122bd35233daa183",
            "411acab1235f04c0",
            "250aeb21b537919a",
            "b1e9ceda84ca6c84",
            "547adbcf6d9c7157",
            "b71280bffd062919"
        ],
        "x": 14,
        "y": 119,
        "w": 1172,
        "h": 284.5
    },
    {
        "id": "647fea0a3ea7e4e4",
        "type": "group",
        "z": "3d30857f5165e137",
        "name": "",
        "style": {
            "fill": "#ffbfbf",
            "label": true
        },
        "nodes": [
            "881c7c6e29dbf984",
            "456cca54662124d4",
            "ccb7ef12d5532abb",
            "565e353fb713834b",
            "4fbf6de64bc19fa8"
        ],
        "x": 14,
        "y": 19,
        "w": 702,
        "h": 82
    },
    {
        "id": "8484c31ea7272515",
        "type": "group",
        "z": "3d30857f5165e137",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "effdb4f47bd11771",
            "25d79c8787fd1812",
            "59e4a09ae6f431cd",
            "b5dd79a9ecc0d1c8",
            "8a928f6874ea03c8",
            "6433045b1f3b4f8e",
            "0a28fb35b8f92f89",
            "1bcfdae4fb034efd",
            "e40aff179bd30a9b",
            "a752563ecc453fd5"
        ],
        "x": 14,
        "y": 399,
        "w": 1472,
        "h": 222
    },
    {
        "id": "9de4afe79cde1a47",
        "type": "group",
        "z": "3d30857f5165e137",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "3b550de91ce4e17e",
            "ee6a31878d411d3d",
            "8eeed77d329cda19"
        ],
        "x": 14,
        "y": 259,
        "w": 222,
        "h": 122
    },
    {
        "id": "9a36b394a8edfcb7",
        "type": "group",
        "z": "13a255ebdd1ff73b",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "b636215d02b0f07a",
            "d072b374f00acb38",
            "e6b9ff42fde3ea4e",
            "c07ca02ed810efe8"
        ],
        "x": 14,
        "y": 579,
        "w": 292,
        "h": 162
    },
    {
        "id": "b4a745c397f4ec50",
        "type": "group",
        "z": "be92da6a5a4a4550",
        "name": "",
        "style": {
            "fill": "#ffbfbf",
            "label": true
        },
        "nodes": [
            "6ae82e1d8e8cdfd3",
            "a0dc458416ced4dc",
            "ccda14a2b42b3ef8",
            "74642a407960188e",
            "1a792f0ad22fac62"
        ],
        "x": 14,
        "y": 19,
        "w": 702,
        "h": 82
    },
    {
        "id": "3ea4060fc2b3fa5d",
        "type": "group",
        "z": "be92da6a5a4a4550",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "0b73d8b3b42f4385",
            "a4f11cd63b9d1c1c",
            "598c87450fe46556"
        ],
        "x": 14,
        "y": 419,
        "w": 262,
        "h": 122
    },
    {
        "id": "db49c07a2c411991",
        "type": "group",
        "z": "f32d9f15eade4bba",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "535a687f3b588b38",
            "2d21e3e6cf54e587",
            "1bcc023985a00dc1",
            "7e4444ae7832e36b",
            "b5c5c34d9f917783"
        ],
        "x": 14,
        "y": 439,
        "w": 852,
        "h": 162
    },
    {
        "id": "93bb50aa6cc6f5f6",
        "type": "group",
        "z": "f32d9f15eade4bba",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "34bc897fe72c285a",
            "9bdbb23b40a8c8d6",
            "669938235d33a02d"
        ],
        "x": 14,
        "y": 259,
        "w": 632,
        "h": 122
    },
    {
        "id": "d543568c3cc7aa23",
        "type": "group",
        "z": "be92da6a5a4a4550",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "5c56266b.e63438",
            "818ba5a9.204658",
            "714f8f70.75ec6",
            "9970a078522f1484",
            "extract-timestamp",
            "delay-node",
            "eac48a5b9f81b614",
            "4526454deceed49b",
            "d995b37fc6ae461d",
            "b5382c6f0181713a",
            "e39c63aed1fd0e02",
            "17f88310915585a7",
            "49bcf8fe.de1de8",
            "6c14527497f34f34",
            "607a179b.d377f8",
            "99bd7176238143ec",
            "a378d97aa6be5e49",
            "3392d6cf5e1cb20b",
            "15b291f3af638db3"
        ],
        "x": 14,
        "y": 879,
        "w": 1872,
        "h": 342
    },
    {
        "id": "40ba22ed83c37e84",
        "type": "group",
        "z": "be92da6a5a4a4550",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "9b6c2afddf16ea91",
            "3a9bf30a0fb33784",
            "31fda56ec62032b8",
            "4a93ba39b988072a"
        ],
        "x": 14,
        "y": 259,
        "w": 322,
        "h": 142
    },
    {
        "id": "3fb93bcbbbabba08",
        "type": "group",
        "z": "94466ab2e543aa2f",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "e74a05e1304af39d",
            "0f11c9fe3c952101",
            "6803085629891ea7",
            "1ddf1eb78ab3cf78",
            "c70694fda8b31d8a"
        ],
        "x": 14,
        "y": 819,
        "w": 992,
        "h": 162
    },
    {
        "id": "dd34bb5e6cbcf6c2",
        "type": "group",
        "z": "a0bf4bfc6f223fe1",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "abebf9f4938982e1",
            "3a0d294bfe1551ee",
            "f27beafcf76d0d51",
            "af0e2bdd4daadbcb",
            "c118e67cdd8fe02f"
        ],
        "x": 14,
        "y": 259,
        "w": 732,
        "h": 162
    },
    {
        "id": "dd7dd198428a74cc",
        "type": "group",
        "z": "a09ad053d19f1d06",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "296a39b36660da40",
            "8782d8d0142e8a03",
            "591435a4c731b783",
            "2f6877e917181f4c",
            "6dc5949df0a63e91"
        ],
        "x": 14,
        "y": 259,
        "w": 992,
        "h": 162
    },
    {
        "id": "ca35948a32eaf853",
        "type": "group",
        "z": "243935f7eeb0bc81",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "4ee5fa5fa64e28db",
            "39a60535aa1f7b2a",
            "62a2b25ed9d9d6bf",
            "fef971c806c0156d",
            "2f3fee056865ed93"
        ],
        "x": 14,
        "y": 459,
        "w": 992,
        "h": 162
    },
    {
        "id": "30d9e03b4dcab1d3",
        "type": "group",
        "z": "e5dc6f22432398d7",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "94b47dba75122e4e",
            "50cb6a6eb3455f6b",
            "4b103d15a3d6c8b1",
            "f2a735f229818e06",
            "f62ead9b9a58bf16"
        ],
        "x": 14,
        "y": 259,
        "w": 992,
        "h": 162
    },
    {
        "id": "f76588705733793c",
        "type": "group",
        "z": "7f39e487c7ab241c",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "b945850298e9b3df",
            "c3a4b207319d8610",
            "765822175b8ceb64",
            "356e972e170143b6",
            "89af915b11f17913",
            "05fee56164178038",
            "8d94db4209cd7b5d",
            "a1513aaafd6eddac"
        ],
        "x": 14,
        "y": 119,
        "w": 972,
        "h": 162
    },
    {
        "id": "ca17f4bdb6bbee81",
        "type": "group",
        "z": "a09ad053d19f1d06",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "d7ed0e9d803f96f0",
            "4c279a2dc7049407",
            "394e21db804f1d42",
            "e6278ef94ae3424e",
            "37e17d2d1eef2013"
        ],
        "x": 14,
        "y": 459,
        "w": 562,
        "h": 162
    },
    {
        "id": "31b375033084536b",
        "type": "group",
        "z": "e5dc6f22432398d7",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "56b1fbd58fdf0444",
            "58c888740da40eda",
            "656a4b53d9e67047",
            "a82bdd562a8a92ba",
            "e2f65e74ade3b671"
        ],
        "x": 14,
        "y": 499,
        "w": 602,
        "h": 162
    },
    {
        "id": "be566417ae9ea3df",
        "type": "group",
        "z": "243935f7eeb0bc81",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "b30554bed452a7ce",
            "296459aa78be1302",
            "2df01573bdd484ad",
            "4a5d12f7119e0232",
            "001ac4dc79783f23"
        ],
        "x": 14,
        "y": 279,
        "w": 562,
        "h": 162
    },
    {
        "id": "932e245aaec0bda0",
        "type": "group",
        "z": "a0bf4bfc6f223fe1",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "ef25687487229d7f",
            "a91f945822c7931e",
            "7344814cafbbaef4",
            "54c6e03327c27850",
            "fd865e556f43f177"
        ],
        "x": 14,
        "y": 439,
        "w": 582,
        "h": 162
    },
    {
        "id": "e164c80e56d45732",
        "type": "group",
        "z": "94466ab2e543aa2f",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "083baee4c7ebbc54",
            "eff6de7e08e846f7",
            "0229302b9d68cb4e",
            "b543e6f17b4d4a1b",
            "a468e8e3b92bbb22"
        ],
        "x": 14,
        "y": 999,
        "w": 562,
        "h": 162
    },
    {
        "id": "21e117b68a0c2840",
        "type": "group",
        "z": "a0bf4bfc6f223fe1",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "29cf551555ac3678",
            "6a9330512b21aba9",
            "0fed28adfbe2ed15",
            "3ff35f5d78d3f75c",
            "9bd1e275ca1ee67b"
        ],
        "x": 14,
        "y": 619,
        "w": 502,
        "h": 122
    },
    {
        "id": "b8b2c52ce29b1b66",
        "type": "group",
        "z": "bf279eb7eda19fd7",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "0191b5a7e181f3f2",
            "633c48d3bee4c03a",
            "78e328d45f917a20",
            "c2a7d0ee7636ca8d",
            "d02b2605ae51ac23",
            "7ece915ddab6671e",
            "6043eee441c1f146",
            "8f8e3faeb54f8394",
            "4e8fdb348ee3dbd1",
            "7a639c0592294913",
            "f39fa236c5361da4",
            "ef42d8d44fa3d5e9",
            "ee06a5486ff3cfbf",
            "b025d049cb38b4d4",
            "dbf7a6ece449fcfd",
            "e3d6041fbd9d3e9b",
            "8ead7d07068c9388",
            "3de7619c5f6c6ecd",
            "1f0fe76c488b32e7"
        ],
        "x": 14,
        "y": 1059,
        "w": 1802,
        "h": 202
    },
    {
        "id": "59d661e86ca6893c",
        "type": "group",
        "z": "be92da6a5a4a4550",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "82bfbcfce5f11f0e",
            "32de281a8b95e108",
            "27e5eb134304a4fe",
            "da7c6256f3b28b92",
            "dcf7add8eddca3bc",
            "476a3a9380b339ab",
            "65c53ee626b1657c",
            "8d98ecd84b9c5e5e",
            "9e13177c030bc585",
            "4152f10819c597f4",
            "06ba67bd52f34108",
            "a8fd84d44c1f3b89"
        ],
        "x": 14,
        "y": 1239,
        "w": 1172,
        "h": 262
    },
    {
        "id": "5bdc240c2b2bc863",
        "type": "group",
        "z": "be92da6a5a4a4550",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "9d650427959b917c",
            "5b4f483c44f552ef",
            "8cc341bcc6d31481",
            "5f6ac2329e171e37",
            "3126533b3e0ad552"
        ],
        "x": 14,
        "y": 739,
        "w": 562,
        "h": 122
    },
    {
        "id": "d6e945f724222ae1",
        "type": "group",
        "z": "bf279eb7eda19fd7",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "1a376a042ef53dd7",
            "90e8bf8ad2ceef13",
            "01579f2b983c2085",
            "f04230c20842c648",
            "df677727bba187cf"
        ],
        "x": 14,
        "y": 679,
        "w": 562,
        "h": 122
    },
    {
        "id": "1620c7634080d568",
        "type": "group",
        "z": "7f39e487c7ab241c",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "a0a9705568837337",
            "d2f52d8d4e3bc3dd",
            "e8023b446ea2a945",
            "6c581aeb73119963",
            "a2f06d2783c7eeed",
            "b5e0ecf20c28f1f0"
        ],
        "x": 14,
        "y": 299,
        "w": 572,
        "h": 242
    },
    {
        "id": "8dd127f90c06ad01",
        "type": "group",
        "z": "f32d9f15eade4bba",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "f4a68bb61137474e",
            "511c21a01753fb65",
            "9cbed94c67d1830a",
            "5a7d11aab9a0407f",
            "9249b8634fe6bea6",
            "6d86365f41d6d3bc",
            "b74e74ac6f573e00",
            "3544456219878470",
            "a6d93dc726aafbb8",
            "ab02f767bf4c94e7",
            "56a07c9ca9672de6",
            "4c5c66dcd56c4b83",
            "e52ec938192ae703"
        ],
        "x": 14,
        "y": 619,
        "w": 1352,
        "h": 302
    },
    {
        "id": "9db47d03d3a4bf48",
        "type": "group",
        "z": "bf279eb7eda19fd7",
        "name": "",
        "style": {
            "fill": "#ffefbf",
            "label": true
        },
        "nodes": [
            "478d175d0abcb987",
            "e86b37532d49c64c",
            "7f9ef23a602772d9",
            "b893f80d1303467b",
            "562fbfde97dcdc26",
            "6627c8c2e67f71eb"
        ],
        "x": 28,
        "y": 1853,
        "w": 1684,
        "h": 1234
    },
    {
        "id": "f440ed49d65110cc",
        "type": "group",
        "z": "be92da6a5a4a4550",
        "name": "Lights",
        "style": {
            "fill": "#ffefbf",
            "label": true
        },
        "nodes": [
            "a593b47760f06197",
            "f0957af5d63aa2ef",
            "aab1906238bddb1a",
            "4004851064bcddcd",
            "085abb2595ddc9eb",
            "aa5158e947d2ab5c",
            "8a8d75e6f669a78a",
            "d4032e52fcdeddaf",
            "1e5f0b892662f50f",
            "3042e996feac3021"
        ],
        "x": 8,
        "y": 2013,
        "w": 2364,
        "h": 1934
    },
    {
        "id": "4d198da498b31efb",
        "type": "group",
        "z": "94466ab2e543aa2f",
        "name": "Lights",
        "style": {
            "fill": "#ffefbf",
            "label": true
        },
        "nodes": [
            "ebd96689a07f730e",
            "a2cb8e43bd2538c0",
            "97cc1a527f72ed4e",
            "394e0231a1e3d873",
            "ae2e10abb46ea220"
        ],
        "x": 8,
        "y": 2453,
        "w": 1554,
        "h": 1174
    },
    {
        "id": "fc8d50709b443310",
        "type": "group",
        "z": "94466ab2e543aa2f",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "4304bcd236041ea3",
            "3d5d61c5d4f51138",
            "0997fbf22873b143"
        ],
        "x": 14,
        "y": 1179,
        "w": 472,
        "h": 122
    },
    {
        "id": "5f2ad5af5a457a7f",
        "type": "group",
        "z": "94466ab2e543aa2f",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "dd157891d647b031",
            "6876d349911cfb92",
            "bd841cbf320510d2",
            "e54c75524f86d1e2",
            "5bf331b82522798e"
        ],
        "x": 14,
        "y": 1319,
        "w": 792,
        "h": 242
    },
    {
        "id": "7ca4c50fed9d5e2f",
        "type": "group",
        "z": "94466ab2e543aa2f",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "f27f06b74e5f3830",
            "13fdf8af8b362196",
            "0ac90869fbbde856",
            "3247c995547acec0",
            "30dcae507fef5930",
            "a2a543d32872ce0d"
        ],
        "x": 14,
        "y": 1599,
        "w": 952,
        "h": 182
    },
    {
        "id": "61d4ee9870f82899",
        "type": "group",
        "z": "a09ad053d19f1d06",
        "name": "Lights",
        "style": {
            "fill": "#ffefbf",
            "label": true
        },
        "nodes": [
            "54818585778a7dbf",
            "154e9175574484d1",
            "7b7b7e395f402314"
        ],
        "x": 8,
        "y": 1573,
        "w": 1264,
        "h": 714
    },
    {
        "id": "eb76734b50bb9cf1",
        "type": "group",
        "z": "f32d9f15eade4bba",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "80b45d92a25cc105",
            "e0b3151a83f336f4",
            "4a784feb385d8d36",
            "1ec9ead4324ca7a1"
        ],
        "x": 14,
        "y": 939,
        "w": 512,
        "h": 162
    },
    {
        "id": "ff6e2f651cf56ccc",
        "type": "group",
        "z": "7f39e487c7ab241c",
        "name": "Lights",
        "style": {
            "stroke": "none",
            "label": true,
            "fill": "#ffefbf"
        },
        "nodes": [
            "0652dadc1b579cce",
            "2b86971fcc199b40"
        ],
        "x": 28,
        "y": 2153,
        "w": 784,
        "h": 414
    },
    {
        "id": "78c2f5b11bac0b38",
        "type": "group",
        "z": "584de19021aea4c9",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "130316c644b8cba4",
            "4e14b8416d9434e5",
            "f0e47efb8914e6b6",
            "48e1b48ffc1c59d0",
            "0e64c3a5f1ef394a",
            "e22410d2b950dabb",
            "69027adcba470682"
        ],
        "x": 14,
        "y": 579,
        "w": 1518,
        "h": 188
    },
    {
        "id": "1c08d4761f28031d",
        "type": "group",
        "z": "39f5e6336137f4b2",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "e8630ecd17b5f84e",
            "e8f0a3086500e186",
            "429ad6ab342d378c",
            "d9c15091d0933aa1",
            "0419c1d8f3124b5e"
        ],
        "x": 14,
        "y": 2879,
        "w": 1112,
        "h": 182
    },
    {
        "id": "d87b969d15636e26",
        "type": "group",
        "z": "f32d9f15eade4bba",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "36f24fd5.59924",
            "54b1f381.39c02c",
            "ef6b748.eeaf388",
            "d0e8efa07152912d",
            "47f4fb301e391cb8",
            "5914d077.55a55",
            "ce869786.78dec8",
            "95f21a2884f73b9b",
            "bea742545d56e3a3",
            "036d5a464421fc1b",
            "fee8363c5cb8d124",
            "3bf0bc8959f8a48e"
        ],
        "x": 14,
        "y": 1119,
        "w": 1738,
        "h": 288
    },
    {
        "id": "02e14c21061265e1",
        "type": "group",
        "z": "7f39e487c7ab241c",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "2bcc033320eee7c1",
            "117aca7da78c92fe",
            "178e42db86a628e8",
            "ffc8288b4ad5eee4",
            "1443017dca2ff4a8",
            "7dbf7c37a565252a",
            "30c6a811cbe1ee11",
            "ef4c50873027b4b3",
            "6f32d1486f9ebcc4",
            "392300741f68f312"
        ],
        "x": 14,
        "y": 559,
        "w": 1778,
        "h": 288
    },
    {
        "id": "ed9d73ed345d61fb",
        "type": "group",
        "z": "584de19021aea4c9",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "ec72f7b2db4cc37c",
            "726d2d1b1b907051",
            "62498ddd63d334ac",
            "214c71e5dabcaaae",
            "90439c6cd4d95382",
            "1ef02d6284775f4a",
            "8b5e46426b0a2fba",
            "97e49f2803bfd3bd",
            "79eed535fa1b460d",
            "598fe34c24ec541e"
        ],
        "x": 14,
        "y": 799,
        "w": 892,
        "h": 322
    },
    {
        "id": "2ed1e18c0abc3114",
        "type": "group",
        "z": "a09ad053d19f1d06",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "e8007db398232ee9",
            "8bc384977a98486d",
            "2eaa2fce52c5ce8a"
        ],
        "x": 14,
        "y": 899,
        "w": 592,
        "h": 122
    },
    {
        "id": "55b8dfe8a7320db6",
        "type": "group",
        "z": "b789af61b07fd59c",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "81d19ed8c237c99c",
            "c21a54a5e245afa3",
            "c99f01433fb63140"
        ],
        "x": 14,
        "y": 939,
        "w": 552,
        "h": 122
    },
    {
        "id": "56531804b48cab17",
        "type": "group",
        "z": "e4381ced98d2a929",
        "name": "",
        "style": {
            "fill": "#ffbfbf",
            "label": true
        },
        "nodes": [
            "f5d785923268c13f",
            "c8a51450da8a51bb",
            "72c4b873d76d1aea",
            "0b923bc1720b32a5",
            "8278f950c516cf97"
        ],
        "x": 14,
        "y": 19,
        "w": 702,
        "h": 82
    },
    {
        "id": "7fc6e972a09b862f",
        "type": "group",
        "z": "e4381ced98d2a929",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "c20492a470484001",
            "b83170a341a414c1",
            "85bbe6fa44141370"
        ],
        "x": 14,
        "y": 119,
        "w": 512,
        "h": 122
    },
    {
        "id": "8046d6765d8c4979",
        "type": "group",
        "z": "840a747bdf820be0",
        "name": "",
        "style": {
            "fill": "#ffbfbf",
            "label": true
        },
        "nodes": [
            "fec9fa7b765aea54",
            "59e10914bf8112d2",
            "1cdb96d7083434cf",
            "885ec72ae79d6b60",
            "a695b2e904a12b43"
        ],
        "x": 14,
        "y": 19,
        "w": 702,
        "h": 82
    },
    {
        "id": "6668f9729dac8340",
        "type": "group",
        "z": "840a747bdf820be0",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "90650fd4618583b4",
            "5874beb71c3c9523",
            "e19d09cced81d589",
            "7d0fc8f40fda8ff9"
        ],
        "x": 14,
        "y": 599,
        "w": 352,
        "h": 162
    },
    {
        "id": "a7eea6f134e259bd",
        "type": "group",
        "z": "e44f5d834fa24670",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "55630dad7aa4b97a",
            "c2d33a6abfd24923",
            "94856ca3c5e83f43",
            "87a6a1a7d3bea607",
            "e71200442ce4224a",
            "30f166f1cb52d612"
        ],
        "x": 14,
        "y": 119,
        "w": 672,
        "h": 182
    },
    {
        "id": "95801612b48436ea",
        "type": "group",
        "z": "e98ae3c9db1bd6c3",
        "name": "",
        "style": {
            "fill": "#ffbfbf",
            "label": true
        },
        "nodes": [
            "0f7704d1c7528acc",
            "7e874d7b25e6aa2b",
            "85da6e2bed894b4c",
            "4bfb0e7b8c5074c7",
            "9465c383be3e41a7"
        ],
        "x": 14,
        "y": 19,
        "w": 702,
        "h": 82
    },
    {
        "id": "a6ca3985b352649b",
        "type": "group",
        "z": "edbbe41e31b072c6",
        "name": "",
        "style": {
            "fill": "#ffbfbf",
            "label": true
        },
        "nodes": [
            "adacec4577ff7088",
            "9211742604c64ed7",
            "9d9757e80ab98a8d",
            "fed5d1f7e3e6acce",
            "a99e73465d70830d"
        ],
        "x": 14,
        "y": 19,
        "w": 702,
        "h": 82
    },
    {
        "id": "523697d9c61e3978",
        "type": "group",
        "z": "3611a09f77ab1873",
        "name": "",
        "style": {
            "fill": "#ffbfbf",
            "label": true
        },
        "nodes": [
            "4fcaf3396f8becf4",
            "da4f62d21506a22b",
            "bb7462e22b7f56fd",
            "a09b9cc0605aa974",
            "05e6562cb4e7cfb4"
        ],
        "x": 14,
        "y": 19,
        "w": 702,
        "h": 82
    },
    {
        "id": "03c7e5a9a6a831c2",
        "type": "group",
        "z": "e44f5d834fa24670",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "319e2f002dcdb37f",
            "79ce4db3aa0b5c53",
            "a6ac4a5af938a30a",
            "2a827de158fe0e8f",
            "69571dd0ac43a0f7"
        ],
        "x": 14,
        "y": 319,
        "w": 492,
        "h": 182
    },
    {
        "id": "4b5255d3994ce0e7",
        "type": "group",
        "z": "e98ae3c9db1bd6c3",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "d3f51e45d96152b6",
            "b53dc3ab1408794a",
            "8fccda12ea75bc0d",
            "61c36fb38acb7466"
        ],
        "x": 14,
        "y": 279,
        "w": 752,
        "h": 162
    },
    {
        "id": "34613206506f1a39",
        "type": "group",
        "z": "e98ae3c9db1bd6c3",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "289eb5762afd854e",
            "cd178e3895118ed9",
            "fb8451f100d9bf63",
            "2da11a2951cd690b",
            "03b925349d92a20d"
        ],
        "x": 14,
        "y": 599,
        "w": 792,
        "h": 122
    },
    {
        "id": "dbb11ccb7d0a280a",
        "type": "group",
        "z": "e44f5d834fa24670",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "32c186a71c916633",
            "36390687f97440d5",
            "eb466e32fc34ebfc",
            "40e32651d21cb40a",
            "615af302faf1fe18"
        ],
        "x": 14,
        "y": 519,
        "w": 432,
        "h": 182
    },
    {
        "id": "6bd228b1512b87b3",
        "type": "group",
        "z": "f32d9f15eade4bba",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "0f8cb48ca2cea619",
            "9aeb535c5f1da8ce",
            "c3a839ea4abb6038",
            "7d2e9cbf7edd9b13",
            "a911d7492488b860"
        ],
        "x": 14,
        "y": 1419,
        "w": 552,
        "h": 162
    },
    {
        "id": "71c35719c7add5f8",
        "type": "group",
        "z": "39f5e6336137f4b2",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "6a77eb9d04cca958",
            "485b2638b3e54f1b",
            "29ef6b63d1ee8e04",
            "30bb603d2ee43acf"
        ],
        "x": 14,
        "y": 2359,
        "w": 812,
        "h": 122
    },
    {
        "id": "767cfafe4de72d92",
        "type": "group",
        "z": "39f5e6336137f4b2",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "3724f1550b7ce891",
            "38a89a2645866f0c",
            "69b6c54a1cabe45b",
            "fff03108c5f1ce08",
            "9b76c1a2318387ea",
            "46c67d7449c54584"
        ],
        "x": 14,
        "y": 2499,
        "w": 772,
        "h": 182
    },
    {
        "id": "8621fb6c01d429c7",
        "type": "group",
        "z": "39f5e6336137f4b2",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "4a35bcbba9fd8659",
            "cc3caee8d4e6c43d",
            "3ad861c67030f3f1",
            "dec82ecde28afe10",
            "7301e33204b88290"
        ],
        "x": 14,
        "y": 2699,
        "w": 552,
        "h": 162
    },
    {
        "id": "4e8755fac310c6fe",
        "type": "group",
        "z": "f32d9f15eade4bba",
        "name": "Lights",
        "style": {
            "fill": "#ffefbf",
            "label": true
        },
        "nodes": [
            "53fb0b4840033e17",
            "ec9dbbcc9d7d466d",
            "37465ae075834473",
            "d4dd92bd9bc8634e"
        ],
        "x": 8,
        "y": 1593,
        "w": 1344,
        "h": 774
    },
    {
        "id": "d9ef644ffeb576be",
        "type": "group",
        "z": "a0bf4bfc6f223fe1",
        "name": "Lights",
        "style": {
            "fill": "#ffefbf",
            "label": true
        },
        "nodes": [
            "def0086d54aac994",
            "a571b45e5aa6d340",
            "1029aa10207a5009"
        ],
        "x": 8,
        "y": 753,
        "w": 1204,
        "h": 674
    },
    {
        "id": "1131ebba5e1d4a76",
        "type": "group",
        "z": "9f04872fa1616475",
        "name": "Lights",
        "style": {
            "fill": "#ffefbf",
            "label": true
        },
        "nodes": [
            "e50ceb788d9ee8ba",
            "a15d60e99166423c",
            "0beb05e6de323068",
            "202eac08f733727b",
            "2fda27be728d8d78"
        ],
        "x": 8,
        "y": 273,
        "w": 1424,
        "h": 914
    },
    {
        "id": "d7464aa58ca73417",
        "type": "group",
        "z": "085c9b619c2f5ad8",
        "name": "Lights",
        "style": {
            "fill": "#ffefbf",
            "label": true
        },
        "nodes": [
            "058bdb794f586cf6",
            "7dd2aacc1e40f777",
            "a42a06a64b67a3b7",
            "49e93507c8029390"
        ],
        "x": 8,
        "y": 513,
        "w": 1444,
        "h": 754
    },
    {
        "id": "3002fadf91b75b46",
        "type": "group",
        "z": "243935f7eeb0bc81",
        "name": "Lights",
        "style": {
            "fill": "#ffefbf",
            "label": true
        },
        "nodes": [
            "d491c3abb1df5844",
            "755f0cfbe6e1ada2",
            "6067241c5e9bcf6c",
            "4f9337b160840a41"
        ],
        "x": 8,
        "y": 653,
        "w": 1424,
        "h": 754
    },
    {
        "id": "4805874d4b376148",
        "type": "group",
        "z": "e5dc6f22432398d7",
        "name": "Lights",
        "style": {
            "fill": "#ffefbf",
            "label": true
        },
        "nodes": [
            "8bfc8c8405959d99",
            "c3955a96beb28f73",
            "c8605e24a2013fbb"
        ],
        "x": 8,
        "y": 673,
        "w": 1124,
        "h": 614
    },
    {
        "id": "7a8d3a38b4738118",
        "type": "group",
        "z": "e98ae3c9db1bd6c3",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "8319e5e91e71a1ed",
            "76d0d50d23efdb9f",
            "6ff6fee5f298ad50",
            "7a9e907a7ff3787f",
            "92120879d1b3b14f",
            "9b8b9d11f21cdd45",
            "25e30f9bf7474722",
            "1241d27c510cc4db",
            "00441b952563eaf6",
            "27701ac42ba72789",
            "a6d92e69438bab12",
            "e8424879dc4b6a54",
            "573afd1fc7526fc5",
            "817e4e05bbd7960f",
            "688bff2b2883ee47",
            "2d8347e89fc50722",
            "af72e61dcd8c596c",
            "5a29eb1e4639dec7",
            "7654d83ac284bf7e",
            "8b3a1477ad1b4a99",
            "d1676ca082b9a9f0",
            "9176120838cc8707"
        ],
        "x": 14,
        "y": 739,
        "w": 1322,
        "h": 482
    },
    {
        "id": "48e46dc873ed3b2b",
        "type": "group",
        "z": "94466ab2e543aa2f",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "743eb0e6.61b368",
            "bc9788a0.2fc028",
            "462204bb44d52283",
            "788097470cb2b760",
            "672b119de53c2e27",
            "63f01d3d2554ca69",
            "4edd2983cc80f181"
        ],
        "x": 14,
        "y": 2199,
        "w": 342,
        "h": 242
    },
    {
        "id": "085247ef3b38bcb6",
        "type": "group",
        "z": "a09ad053d19f1d06",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "4a91e86f1261996f",
            "91d3958c4f2710ec",
            "828fd828d2b19ea1",
            "0e7fa473b99890f7",
            "d75a3b89.b17828",
            "22ebafc77a56459e",
            "45615df91b5ec3a0",
            "7413147849dac610",
            "238428ccf8f17c38"
        ],
        "x": 14,
        "y": 639,
        "w": 522,
        "h": 242
    },
    {
        "id": "c0234ad716a6f191",
        "type": "group",
        "z": "085c9b619c2f5ad8",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "3ea12387a8c3adc0",
            "3148196f1704cedc",
            "37ba4c61b076e854",
            "c7c6edd30fd2eaec",
            "fb4d6bcec28c0e8c",
            "fd7b8a4d.52e6c8",
            "04d283125bc58145"
        ],
        "x": 14,
        "y": 259,
        "w": 342,
        "h": 242
    },
    {
        "id": "d54e206cc1e24be0",
        "type": "group",
        "z": "085c9b619c2f5ad8",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "3495da32a1317d14",
            "892ee2dff1bcc6bd",
            "df6220a3dfe4848f"
        ],
        "x": 14,
        "y": 119,
        "w": 552,
        "h": 122
    },
    {
        "id": "1fb8ccf40579e9aa",
        "type": "group",
        "z": "a09ad053d19f1d06",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "f4b16be0b8132d77",
            "5ec5313145848ab7",
            "47fc3fe64172a3aa"
        ],
        "x": 14,
        "y": 119,
        "w": 552,
        "h": 122
    },
    {
        "id": "b9964af67453a76a",
        "type": "group",
        "z": "94466ab2e543aa2f",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "5caec038263b4dcc",
            "62c6c09ee4e20531",
            "0d467902ced34af7"
        ],
        "x": 14,
        "y": 119,
        "w": 552,
        "h": 122
    },
    {
        "id": "3b86f3b774e721d1",
        "type": "group",
        "z": "be92da6a5a4a4550",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "c562e1c122851580",
            "948e3d52b10c9991",
            "d8d0be214314d483"
        ],
        "x": 14,
        "y": 119,
        "w": 552,
        "h": 122
    },
    {
        "id": "bb7455f65d7db579",
        "type": "group",
        "z": "b789af61b07fd59c",
        "name": "Lights",
        "style": {
            "fill": "#ffefbf",
            "label": true
        },
        "nodes": [
            "4ee6ccf7f55ab18d",
            "efc093c90e8d9b40",
            "6e0550eee76c5833"
        ],
        "x": 8,
        "y": 1073,
        "w": 1164,
        "h": 614
    },
    {
        "id": "7c46028dadd63f96",
        "type": "group",
        "z": "b789af61b07fd59c",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "fd2e7224cd0b2d82",
            "22c5abbe96158605",
            "bd268b74bdf51093"
        ],
        "x": 14,
        "y": 119,
        "w": 552,
        "h": 122
    },
    {
        "id": "cec969acc4a98aa4",
        "type": "group",
        "z": "a0bf4bfc6f223fe1",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "8f7cd18965f66145",
            "bfbf220954dd7670",
            "3309fe2efaa03636"
        ],
        "x": 14,
        "y": 119,
        "w": 552,
        "h": 122
    },
    {
        "id": "c66283c3aaf54ab9",
        "type": "group",
        "z": "bf279eb7eda19fd7",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "888563e683e92055",
            "56a2c7044a4c4c0f",
            "e0f0521951fb3cc2"
        ],
        "x": 14,
        "y": 119,
        "w": 552,
        "h": 122
    },
    {
        "id": "b683fae0bbb01a66",
        "type": "group",
        "z": "f32d9f15eade4bba",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "22995fd1911f3168",
            "fa9cd409ca91e836",
            "b478d2a5b0e23668"
        ],
        "x": 14,
        "y": 119,
        "w": 552,
        "h": 122
    },
    {
        "id": "5e2c6dad6901b49e",
        "type": "group",
        "z": "9f04872fa1616475",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "ea415774db04863e",
            "9c09121cc9b46267",
            "56a23ebeb8016675"
        ],
        "x": 14,
        "y": 119,
        "w": 552,
        "h": 122
    },
    {
        "id": "80f7d7a62e1db262",
        "type": "group",
        "z": "e5dc6f22432398d7",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "1996adfb38dc2dde",
            "1631184ce54dc3b7",
            "7db17e9cf15457fa"
        ],
        "x": 14,
        "y": 119,
        "w": 552,
        "h": 122
    },
    {
        "id": "35c2e2b56ff81d89",
        "type": "group",
        "z": "243935f7eeb0bc81",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "c65fb8a9c00599c6",
            "91e5d4831f583489",
            "0577cc589a18d7eb"
        ],
        "x": 14,
        "y": 119,
        "w": 552,
        "h": 122
    },
    {
        "id": "97638a59f4b8fe56",
        "type": "group",
        "z": "3d30857f5165e137",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "c6106e6a0dd12bb3",
            "5c8149d49e1b4f2b",
            "389137eec430f32f"
        ],
        "x": 14,
        "y": 119,
        "w": 552,
        "h": 122
    },
    {
        "id": "d6c8327174bce50e",
        "type": "group",
        "z": "3d30857f5165e137",
        "name": "Lights",
        "style": {
            "fill": "#ffefbf",
            "label": true
        },
        "nodes": [
            "33169817977a7916",
            "e122a8d0692b6190"
        ],
        "x": 8,
        "y": 633,
        "w": 1024,
        "h": 474
    },
    {
        "id": "bbcb1b047d87fd9f",
        "type": "group",
        "z": "840a747bdf820be0",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "670646a63a46860a",
            "85162f70fe3e481d",
            "5d7476c56ca009dc",
            "b79ee9a4cae038f1",
            "e578d7e5c968ac59",
            "525ef6e623cd1458",
            "db070bd6ad62c1d9"
        ],
        "x": 14,
        "y": 139,
        "w": 712,
        "h": 162
    },
    {
        "id": "a2b5866b3dcd820f",
        "type": "group",
        "z": "be92da6a5a4a4550",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "fd05ae5d3ef3464c",
            "4873fe8e4c5c689c",
            "4a70786d60fc374f",
            "37ff504281a3cadb"
        ],
        "x": 14,
        "y": 559,
        "w": 272,
        "h": 162
    },
    {
        "id": "34f77bf331ee4632",
        "type": "group",
        "z": "584de19021aea4c9",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "eea2197b7f964ade",
            "825ef49298a5b9a1",
            "5a1c4daf23c47d8e"
        ],
        "x": 14,
        "y": 119,
        "w": 322,
        "h": 122
    },
    {
        "id": "a866187939d8624c",
        "type": "group",
        "z": "be92da6a5a4a4550",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "65aeed9efdef7024",
            "4deb99247cda9303",
            "593778e55152aa9b",
            "03ca3a8a936746bc"
        ],
        "x": 14,
        "y": 1739,
        "w": 572,
        "h": 122
    },
    {
        "id": "3eb49f4a6a20fee1",
        "type": "group",
        "z": "bf279eb7eda19fd7",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "361ff45ef33b5da5",
            "5cb143cef57ae251",
            "03d9f2010dcdc429",
            "8627798aa8717b48"
        ],
        "x": 14,
        "y": 1559,
        "w": 572,
        "h": 122
    },
    {
        "id": "edc3a7d477db5dd6",
        "type": "group",
        "z": "a09ad053d19f1d06",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "3e4cd67e.efae1a",
            "8de0025c.f9ce2",
            "4bbf608.80d0ca",
            "26d18854.3c6808",
            "48fe7380.0c049c",
            "487d5ed4.e5e61",
            "bf29d7a3.4b42e8",
            "9def52c1.f5b5a",
            "84dfbc214d4e3a8d",
            "f052ae0fcfc5b3e8",
            "e0ef5bfc28c69231",
            "ae2c2b92527841d1",
            "e0fa9212373d9f12"
        ],
        "x": 14,
        "y": 1039,
        "w": 1902,
        "h": 182
    },
    {
        "id": "472f22ad8930b35f",
        "type": "group",
        "z": "a09ad053d19f1d06",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "6bda6302.ca5bcc",
            "4a449402.69359c",
            "401de4c3.c5e84c",
            "e78c18ee.1eb558",
            "e0083fb4.5a45",
            "78d208e5.9e2828",
            "61c558b2.b38c78",
            "90a01313.ddff9",
            "f2f5e3d5cd8dec8d",
            "bcdcd79d.345708",
            "da086cf0dd6cd84f"
        ],
        "x": 14,
        "y": 1239,
        "w": 1282,
        "h": 182
    },
    {
        "id": "940063d576edb92e",
        "type": "group",
        "z": "39f5e6336137f4b2",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "fdd6cd4fc534d90f",
            "7ca936eb66e9e2d5",
            "a3f46fbeb5f59131",
            "3a5396be8f9c1286",
            "84a90e2a73f04f0b",
            "8922b34fa1783c92"
        ],
        "x": 14,
        "y": 3079,
        "w": 992,
        "h": 162
    },
    {
        "id": "83efa2d173d9dca5",
        "type": "group",
        "z": "bf279eb7eda19fd7",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "ef1caaf0e51df45f",
            "9c072e7c1116b5c5",
            "489f51dc5f080ea1",
            "26c54bb35b060ee0",
            "eb27a8504ea0ba20",
            "e188c5d43cc22d55",
            "4634d81b11ef6062",
            "1799c27892bbca5d",
            "7249bcd75342e971",
            "b4150f82144bf578",
            "24ac19024410b5e3",
            "ec5aa51eb5b744ff",
            "331d7f15435c92bb",
            "56e9529fb3adf59e",
            "0816b0e1b274f0f8",
            "d2c54edb4271fcda",
            "383d5bb86f113c33"
        ],
        "x": 14,
        "y": 1279,
        "w": 1442,
        "h": 242
    },
    {
        "id": "f2d58bca393a76e9",
        "type": "group",
        "z": "840a747bdf820be0",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "bb74adfdaa2e7334",
            "18c5f7dab04b6e2f",
            "44f0f168d26886f8"
        ],
        "x": 14,
        "y": 319,
        "w": 592,
        "h": 122
    },
    {
        "id": "0bd39eb8e38fcdf6",
        "type": "group",
        "z": "e98ae3c9db1bd6c3",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "03f232b3281484b9",
            "6655f0c0a32adf9d",
            "401ad79dd5eae95e",
            "117d82c6965691d4"
        ],
        "x": 14,
        "y": 459,
        "w": 732,
        "h": 122
    },
    {
        "id": "60d46d9527d9df64",
        "type": "group",
        "z": "e98ae3c9db1bd6c3",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "7e40b37dd23b398e",
            "d5d80da8d6dbde74",
            "8d2edc4de1f46609",
            "03134b9c9626f88b"
        ],
        "x": 14,
        "y": 119,
        "w": 322,
        "h": 162
    },
    {
        "id": "6753b35be98530ad",
        "type": "group",
        "z": "e44f5d834fa24670",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "a9b6866b3f96e444",
            "e3606fa703de9ce3",
            "56dd342f2b737c1c",
            "f5dade246d46e3d8",
            "3938148b04e85891"
        ],
        "x": 14,
        "y": 719,
        "w": 492,
        "h": 182
    },
    {
        "id": "fc1e3c8ed754a590",
        "type": "group",
        "z": "840a747bdf820be0",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "3d59f4c3c23aac65",
            "8ffd36ee83d4f00a",
            "9247011c06778266",
            "6e6c1d9f665daf15"
        ],
        "x": 14,
        "y": 779,
        "w": 612,
        "h": 122
    },
    {
        "id": "4117e6f7ac18e0e5",
        "type": "group",
        "z": "bf279eb7eda19fd7",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "c03ebaa1a079e107",
            "ec9ec176af0ee132",
            "57a53c1fc2d883fc",
            "04aa475bc955a915"
        ],
        "x": 14,
        "y": 1699,
        "w": 562,
        "h": 122
    },
    {
        "id": "9ce8dda481713bd7",
        "type": "group",
        "z": "840a747bdf820be0",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "f6563d2ad7a0f6dc",
            "16204bf68d721155",
            "f2354880d5cd789f"
        ],
        "x": 14,
        "y": 459,
        "w": 572,
        "h": 122
    },
    {
        "id": "23e0444a57f8f6f3",
        "type": "group",
        "z": "be92da6a5a4a4550",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "e6458dd499f6619c",
            "a3b25920676d9bb8",
            "a9fd9464ad7de890",
            "2f3c1ff7754c175f"
        ],
        "x": 14,
        "y": 1879,
        "w": 562,
        "h": 122
    },
    {
        "id": "b9c7687b999cccd0",
        "type": "group",
        "z": "e0e34b3e49b36c0e",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "7e3e4723243d216a",
            "b28f768263057783",
            "f3f353ea80fe212c",
            "3e3dfa9a3068b04b",
            "1f4f0bf6621009ca"
        ],
        "x": 14,
        "y": 119,
        "w": 452,
        "h": 182
    },
    {
        "id": "5ff6191dae060e1e",
        "type": "group",
        "z": "51ad1e79edd47f04",
        "name": "",
        "style": {
            "fill": "#ffbfbf",
            "label": true
        },
        "nodes": [
            "f65f913dcb9d42d8",
            "f7c8ab2106f1ddb3",
            "7ebb2f335fac2686",
            "315e5fb19ecd04f1",
            "bad20afc9964dab8"
        ],
        "x": 14,
        "y": 19,
        "w": 702,
        "h": 82
    },
    {
        "id": "8ad65794aaa1a7f1",
        "type": "group",
        "z": "51ad1e79edd47f04",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "79caca1b2ef5e576",
            "7a932d0e4a844f60",
            "3abda055d8ec7315",
            "d475de4d462cdd95",
            "8c6ea330522a9b56",
            "e067f2c286459268",
            "515e9f714ecc6ca1",
            "8c926842f5902705",
            "6a944de957019b5d"
        ],
        "x": 14,
        "y": 119,
        "w": 1512,
        "h": 182
    },
    {
        "id": "0801df6d5ab4222b",
        "type": "group",
        "z": "4e909abe.0b62e4",
        "name": "",
        "style": {
            "fill": "#ffbfbf",
            "label": true
        },
        "nodes": [
            "1374c39509549e6e",
            "84ec75dcad2d2672",
            "cdbbe520d2b5eff8",
            "9af35c5ce44c9348",
            "501c585b1cbe7d50"
        ],
        "x": 14,
        "y": 19,
        "w": 702,
        "h": 82
    },
    {
        "id": "1b0422b4cdc9b7b0",
        "type": "group",
        "z": "4e909abe.0b62e4",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "46fd77b05f226788",
            "9613fd9f308ac4e8",
            "dfb1bfbd13bff39d",
            "0ba7626c264dab10",
            "f73292f99a88741d",
            "e3fcfe18ce304945",
            "d9f7558a63efb32a",
            "a3a5786c5aa6f1be",
            "2486a94134c4f413",
            "4f19554e0d36f74e",
            "01a29da1c501e23e",
            "8fb04a3ec2e9fe4f",
            "7c5ef22042647ae5"
        ],
        "x": 14,
        "y": 119,
        "w": 392,
        "h": 302
    },
    {
        "id": "736bc6c43f5cebf3",
        "type": "group",
        "z": "4e909abe.0b62e4",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "8c613499abe41691",
            "eaba4c18.04007",
            "4e1d6c0e.bd6b44",
            "75db2fdc.c1e22",
            "1a262b04.0f6c75",
            "cbe4be0.ad6c74",
            "13e032a.2acbbcd",
            "a443801a148e31b6",
            "8bd822f09fed1461",
            "a104a83026f8fd84",
            "5c061fb5ace8d130",
            "476cfb88.13ea74",
            "6f1eba702c95483a",
            "85ae6ea3879f4c7f",
            "466f23cc5674fa22",
            "d38a7750.f848b8",
            "bfdcba16.625018",
            "8bd10319762b29f3",
            "0cebcecc7266486e",
            "a0fea0e8.d9a66",
            "ac8eb8a0e6387131",
            "aa4bd88087bb3c75",
            "3074d7a3808bdec0",
            "f1a1d029766aa4e3",
            "0861797165ba2006",
            "c7b58913.752ad8",
            "e07362ff.ad189",
            "46771664.f639e8",
            "66c60aad52f358c9",
            "5ce9303e.d40b8",
            "9516fa80f467b0df",
            "b5d8b43d.943a18",
            "c38645a953ed6080",
            "f1fa5da145cae358"
        ],
        "x": 14,
        "y": 439,
        "w": 2042,
        "h": 722
    },
    {
        "id": "0c103c7801ac07dc",
        "type": "group",
        "z": "55da1471.fda0fc",
        "name": "",
        "style": {
            "fill": "#ffbfbf",
            "label": true
        },
        "nodes": [
            "e6178496b53afbb3",
            "8186b07391a8f560",
            "813e0636f1726a9f",
            "929ff1a272c50876",
            "8af60d7e6f764ac5"
        ],
        "x": 14,
        "y": 19,
        "w": 702,
        "h": 82
    },
    {
        "id": "288b7b694e69551c",
        "type": "group",
        "z": "55da1471.fda0fc",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "85128ba5.bef108",
            "5f66a79ec51e1612",
            "787efd3b.bd13e4",
            "68d2bab827c02e17",
            "95dba2424d2f2d8d"
        ],
        "x": 14,
        "y": 399,
        "w": 672,
        "h": 162
    },
    {
        "id": "3a5ce6e1f550d6ab",
        "type": "group",
        "z": "55da1471.fda0fc",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "ac6017ad0780b1d0",
            "f2e5467711cc2593",
            "d56465f5f95b56ac",
            "bdecec104be2a65e"
        ],
        "x": 14,
        "y": 579,
        "w": 672,
        "h": 122
    },
    {
        "id": "73c6b2676d1b9a09",
        "type": "group",
        "z": "55da1471.fda0fc",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "093ac1f894c6070c",
            "429ec9116b7e06ae",
            "716b959221558033"
        ],
        "x": 14,
        "y": 259,
        "w": 472,
        "h": 122
    },
    {
        "id": "0ab44c8dfd803636",
        "type": "group",
        "z": "55da1471.fda0fc",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "6270e0cf1e6f9ba6",
            "9a17b25e8c8ead24",
            "637324d215714581",
            "6f4d7c8e2376183b",
            "42e3b37ad8c9e5e9"
        ],
        "x": 14,
        "y": 719,
        "w": 912,
        "h": 164.5
    },
    {
        "id": "779d00245eb50fa9",
        "type": "group",
        "z": "55da1471.fda0fc",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "06f3f5658435219e",
            "bfe6dc1bee46d0b3",
            "c0c7d4099232af47",
            "b7ddf62cead5fbcd",
            "5172ab0e658be955",
            "7b312409bf949308",
            "802b91dc1295b01b",
            "24a14ba6071214a0",
            "f6714ad5191d57d6"
        ],
        "x": 14,
        "y": 899,
        "w": 1402,
        "h": 142
    },
    {
        "id": "222505dd20022794",
        "type": "group",
        "z": "55da1471.fda0fc",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "155ef739.0e1de9",
            "1494387d.fca0a8",
            "272212f1.26bb6e",
            "681f749a634bd372",
            "6912ed4ea89f4d06"
        ],
        "x": 14,
        "y": 1059,
        "w": 742,
        "h": 122
    },
    {
        "id": "2efe8a21a1e24819",
        "type": "group",
        "z": "55da1471.fda0fc",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "1c372f1.535d7d1",
            "c5ad7ab8.30fda8",
            "c38f0363d1cd4b4d",
            "df0d2da9dc486e6f",
            "7a270e8b1abe8a79",
            "897710e98ead9ae9"
        ],
        "x": 14,
        "y": 1199,
        "w": 1042,
        "h": 122
    },
    {
        "id": "670020652f26a652",
        "type": "group",
        "z": "e44f5d834fa24670",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "035179dc3e7fddad",
            "cbb046587922e1c0",
            "27d9b7d9990dec51",
            "ed04290b29b62260",
            "d35ff31b6345b553"
        ],
        "x": 14,
        "y": 919,
        "w": 552,
        "h": 182
    },
    {
        "id": "89e45ab9eece5ecc",
        "type": "group",
        "z": "55da1471.fda0fc",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "a52152b0.f593b",
            "60f6cd3f.56a0f4",
            "eccced83.41688",
            "700ffa065a57643e",
            "aa738473d807731e",
            "f98153937c9e15ea",
            "5f68863131eaf358",
            "6e812e3928ad5538"
        ],
        "x": 14,
        "y": 1339,
        "w": 1162,
        "h": 142
    },
    {
        "id": "26520f666f169ee2",
        "type": "group",
        "z": "55da1471.fda0fc",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "32ee19ec383e0543",
            "72f53719cdbc9455",
            "a3633aab59b75d5e",
            "02cc03fa2fa9b1c1",
            "af7eaeb691b4b689",
            "92f37dfc24d886b9",
            "6fc6228af058839b",
            "1b709ceb0d69c831",
            "458382747fd06019",
            "0abec8ca261199bd",
            "3a3544e58c336443",
            "336d51b627dd3548",
            "11adb81ae9e6f5e7",
            "28a3562272f5e8bd"
        ],
        "x": 14,
        "y": 1639,
        "w": 1772,
        "h": 162
    },
    {
        "id": "f7dfee6443d1413f",
        "type": "group",
        "z": "94466ab2e543aa2f",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "1cc93bcf43cdbf60",
            "b9298a615e99a23f",
            "c55acb1486d56163",
            "077067e28d6d59b4",
            "0b118ac6e884fc56",
            "30b5e775d2659181",
            "13ac101837378eb8",
            "3217ced2069523e7"
        ],
        "x": 14,
        "y": 1939,
        "w": 792,
        "h": 242
    },
    {
        "id": "cbf202076fc57efa",
        "type": "group",
        "z": "51ad1e79edd47f04",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "4226161bbc5e814e",
            "60a83f3d93926307",
            "3783939d485f6ea8",
            "e2249f97e8ed5340",
            "2aba0979156c56c9"
        ],
        "x": 14,
        "y": 319,
        "w": 852,
        "h": 122
    },
    {
        "id": "43b0f453509c788b",
        "type": "group",
        "z": "98a989e.d6bca78",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "3238627b.1b1f0e",
            "fac5f99c.1b7438",
            "d99c251f.40c1c8",
            "7da2532c.8f20fc",
            "6429429b.d1375c",
            "b9f5925e88c3b14b"
        ],
        "x": 14,
        "y": 119,
        "w": 902,
        "h": 122
    },
    {
        "id": "2f5466bb68e79083",
        "type": "group",
        "z": "98a989e.d6bca78",
        "name": "",
        "style": {
            "fill": "#ffbfbf",
            "label": true
        },
        "nodes": [
            "f64a5c836b8fbe6c",
            "1d4c38b691aebd50",
            "8eb43e206b6bfbfe",
            "6fa3384931d07d39",
            "6ba30927e6f2c1fb"
        ],
        "x": 14,
        "y": 19,
        "w": 702,
        "h": 82
    },
    {
        "id": "66409d78dd973e84",
        "type": "group",
        "z": "b1b994b3d43d6aad",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "277a8323827b9390",
            "3c05c027bd8c6081",
            "e7b37a2bf7a7f071",
            "015fa374fab07308",
            "9a28b0bc93a10e2b"
        ],
        "x": 14,
        "y": 119,
        "w": 472,
        "h": 162
    },
    {
        "id": "a33d7f147f4f0c3f",
        "type": "group",
        "z": "b1b994b3d43d6aad",
        "name": "",
        "style": {
            "fill": "#ffbfbf",
            "label": true
        },
        "nodes": [
            "b4c2b083cf579104",
            "9b8b0af42e28d084",
            "983f2e61079b877c",
            "ea774130ac42f4de",
            "956c7163b434ba76"
        ],
        "x": 14,
        "y": 19,
        "w": 702,
        "h": 82
    },
    {
        "id": "aa362c81bc2bb612",
        "type": "group",
        "z": "55da1471.fda0fc",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "c3ad9439a04e7919",
            "77d953af158bbd33",
            "ed1e22b58ac9bc7d"
        ],
        "x": 14,
        "y": 119,
        "w": 532,
        "h": 122
    },
    {
        "id": "fec451a65144d567",
        "type": "group",
        "z": "b8d98c82eb2488b9",
        "name": "",
        "style": {
            "fill": "#ffbfbf",
            "label": true
        },
        "nodes": [
            "250567e238f9f68a",
            "f0cb21a929703c7b",
            "bfa8946e0b76ad2e",
            "0afe8e42745c606c",
            "cc960ccdfa62ebb3"
        ],
        "x": 14,
        "y": 19,
        "w": 702,
        "h": 82
    },
    {
        "id": "10f89499d7cb5a54",
        "type": "group",
        "z": "b8d98c82eb2488b9",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "d98576578e310822",
            "451e3b4e7d84efb4",
            "58366ad094f8377c",
            "cfd81cdf04df1639",
            "59ba59d92cfe39d9",
            "6d0d646b8d2a606f",
            "5366013bda15f665",
            "f581e18c19643b6b",
            "607c96cbd3c5cdcd",
            "71e8d879fbf2622e"
        ],
        "x": 14,
        "y": 399,
        "w": 1152,
        "h": 202
    },
    {
        "id": "9ddd3d4eff0af285",
        "type": "group",
        "z": "b8d98c82eb2488b9",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "d0335fb391f93b57",
            "f9288d158d410ce6",
            "eff9057bf55d084e",
            "7257cb974991c964",
            "108334557e4c6cba",
            "d1886b75fbf19d62",
            "f553ee97740862ea",
            "ccf87318aa8d159a",
            "2fb5b2c7c4f3f719",
            "d240e7311ce60041",
            "f095901791d95a7f",
            "c613a9193af7a20f",
            "aa5181cef0dc93df",
            "613d496f0cea97f3",
            "7282f75f9fae1df4",
            "fc7305667fec61a3",
            "8b4a7821e438da7c",
            "ef8deafe322fd24c",
            "13bdcb248e7de4c9",
            "80936adec9fe8f21",
            "903bd06d8fd9e802",
            "7d4923fb0fc249fa",
            "4d4306b9e1e334ed"
        ],
        "x": 14,
        "y": 119,
        "w": 1932,
        "h": 262
    },
    {
        "id": "bc5bb6b372848b7c",
        "type": "group",
        "z": "55da1471.fda0fc",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "5bb05da7d294daf3",
            "24e07b4589dbc14f",
            "7a6572a848edbab2"
        ],
        "x": 14,
        "y": 1499,
        "w": 512,
        "h": 122
    },
    {
        "id": "4e1beacde852f70d",
        "type": "group",
        "z": "b8d98c82eb2488b9",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "cb8f1bab4636ad5e",
            "50299601428d86dd",
            "6f4bac3366b09c0a",
            "c52032a311ae161f",
            "18cafe95cc481dfa",
            "74ce0b012c485742",
            "e1d52ed6bc615e3d",
            "1c24238d54f558c4",
            "06f22bccb39ea01a",
            "bc68a28bf78ff171",
            "fd007fddb706be5d",
            "319b204aaa793554",
            "df61f4ea1beafc2d",
            "f1744436bf4645f2",
            "09eb9ceb514414f3",
            "1c71ec8e21bc2634",
            "91917476cba30405"
        ],
        "x": 14,
        "y": 619,
        "w": 2132,
        "h": 182
    },
    {
        "id": "7392a1a622e27f68",
        "type": "group",
        "z": "be92da6a5a4a4550",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "15d1a1deb0bec731",
            "2339cb24fb40851a",
            "da5929c89432e558",
            "efc8e388668c144b",
            "2bc670f809f5f6df",
            "164b09c02dab9081",
            "e4dc18f7c9455c0d",
            "6fc294104a2dbb11",
            "3040ab0c0c1ed2dd",
            "d8573e32a9ec888f",
            "849379e6f7939a8c"
        ],
        "x": 14,
        "y": 1519,
        "w": 1422,
        "h": 182
    },
    {
        "id": "797bec77d0256f03",
        "type": "group",
        "z": "a09ad053d19f1d06",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "e406b6dbb483e2b5",
            "d14719d850055b7f",
            "e66b4a5f22a86a92",
            "3bfcbb604faf22f2",
            "fb752b2f4a73e460",
            "c82e0fea11c34b12",
            "d2e4e2820280beb3",
            "56c65d08e5de1e87"
        ],
        "x": 14,
        "y": 1439,
        "w": 1282,
        "h": 122
    },
    {
        "id": "fdf9531a8f11debc",
        "type": "group",
        "z": "e44f5d834fa24670",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "85fbde29204040b6",
            "347f94b7271ae995",
            "9124cbf6fd9b1480",
            "67d3120303e32f66",
            "fb2447123ae5adb8",
            "733336f9e7f40f7a",
            "f1b8d703d45827da"
        ],
        "x": 14,
        "y": 1119,
        "w": 492,
        "h": 282
    },
    {
        "id": "447224924e7be73c",
        "type": "group",
        "z": "bf279eb7eda19fd7",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "88d6bd33c172fe47",
            "6bd61d183ffe896b",
            "37616708a48a82ef"
        ],
        "x": 14,
        "y": 259,
        "w": 442,
        "h": 122
    },
    {
        "id": "25a4ffd157e9649f",
        "type": "group",
        "z": "39f5e6336137f4b2",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "017deb01f1ac5d06",
            "3a535b1014d0a45b",
            "f1ffce13e75d6866",
            "d3868dc5f4aa2d65",
            "cd256ec259a611f4"
        ],
        "x": 14,
        "y": 279,
        "w": 1698,
        "h": 668
    },
    {
        "id": "aa38407fb6bc0dac",
        "type": "group",
        "z": "39f5e6336137f4b2",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "94ebde6817becd16",
            "4f9dcb4526aa6e68",
            "a7ae16757970717f",
            "951e80123d5d1350",
            "fdca445a404c15cc",
            "f06607d23ea600e0",
            "2024b0143896ad22",
            "bf5ba3943578c959"
        ],
        "x": 14,
        "y": 1559,
        "w": 1052,
        "h": 182
    },
    {
        "id": "23bb85dc835b75e6",
        "type": "group",
        "z": "39f5e6336137f4b2",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "a8e3dc22f4e3aa9d",
            "2c145c15609bd2fb",
            "68088e8c9c8a0e54",
            "207e1edd1118b4af",
            "2784788ce65fb972"
        ],
        "x": 14,
        "y": 1299,
        "w": 1132,
        "h": 122
    },
    {
        "id": "354f493dd21d89a6",
        "type": "group",
        "z": "39f5e6336137f4b2",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "1f002901ca051fb8",
            "d2469e552aa559a3",
            "0a97895675822841",
            "37a61d11bf9ce0ab",
            "cbfb0a5eb7b1a139",
            "44ccff64331a48d4",
            "8974b3e5cc82c6b9"
        ],
        "x": 14,
        "y": 1159,
        "w": 1112,
        "h": 122
    },
    {
        "id": "71f25ae3f0829bda",
        "type": "group",
        "z": "39f5e6336137f4b2",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "a39ce2d3dcb2fa52",
            "e40f3ebc2b772714",
            "0e05b01a3088ebe6",
            "210f99cc3d429b16",
            "6739b21acd1ca7bf",
            "439e4873d68ce6f4",
            "e6b09e369fa79397",
            "bf21fecdc989374a",
            "494e70afb45368b6"
        ],
        "x": 14,
        "y": 959,
        "w": 1752,
        "h": 182
    },
    {
        "id": "13d75cc44704716b",
        "type": "group",
        "z": "7f39e487c7ab241c",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "80dc13087104d323",
            "74cc10441231f8f2",
            "aab1bbee72f90c90",
            "27b51aa55e598e0f",
            "3cceba91547a7d4e",
            "6a870ac713200910",
            "122d704723bc1cb0",
            "1b535e9dd4a2bc7f",
            "a0300d7bafb66f44"
        ],
        "x": 14,
        "y": 999,
        "w": 1692,
        "h": 182
    },
    {
        "id": "7f5e9ac72cb69bf7",
        "type": "group",
        "z": "7f39e487c7ab241c",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "88264dd1471d41ef",
            "24e4ae1eb1bf31d2",
            "036eac9f38483b4b",
            "662e76370490dc0d"
        ],
        "x": 14,
        "y": 859,
        "w": 972,
        "h": 122
    },
    {
        "id": "21d0c97ba504e198",
        "type": "group",
        "z": "7f39e487c7ab241c",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "0a48f09788c3714c",
            "4a264f15d0823997",
            "b4055debc6e2fa4d",
            "3baa2d4c8ee18542",
            "ce286ef726044118",
            "4d4c4fa4b94f1c31",
            "658d8eb978fbed2a",
            "3b577ee02ce76fe5",
            "4bd9dd44e2e5a984",
            "1902f90d9938adc7",
            "a0398e734d77cf7a",
            "28a6d32460f75e3a"
        ],
        "x": 14,
        "y": 1199,
        "w": 1292,
        "h": 242
    },
    {
        "id": "f8921a685aab270b",
        "type": "group",
        "z": "7f39e487c7ab241c",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "ba77f8da98851350",
            "6fc7768f0e0e7113",
            "6043718434f18179",
            "ef67c1284ddb8eed",
            "99a64ef46dadb061",
            "9521e980bd1fd2c7",
            "89754424867abf7b",
            "684d1198322d6e9b",
            "173e4f1dbbee6143",
            "fe0c8fde93e76cd2",
            "dff5637af40db115",
            "082c469b6d1254af",
            "11215fce135d2001",
            "63df13e036af1a07"
        ],
        "x": 14,
        "y": 1459,
        "w": 1392,
        "h": 302
    },
    {
        "id": "73746a7917fbe356",
        "type": "group",
        "z": "39f5e6336137f4b2",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "83c6eaa1642b6dc4",
            "3525ce8bbcca4c19",
            "39d84b0af6bf22da"
        ],
        "x": 14,
        "y": 119,
        "w": 552,
        "h": 122
    },
    {
        "id": "59a9dccc6e2c8820",
        "type": "group",
        "z": "39f5e6336137f4b2",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "a50b36c508ee1125",
            "b17acb7df0bb2bd2",
            "d9540c933a60aec7",
            "9bfa5f87424a529d",
            "f8003d1746659317",
            "4539dbe872caf169",
            "19b08832ac41fe31",
            "a325b77f020cd697",
            "382a831c1568641b",
            "b3f587190264a6a8",
            "b822a9f31018d2a0",
            "058b6bfd406a2ad0",
            "18cdd9064f4a7ab9",
            "710a9c0fa290ab6f",
            "54e3e2b794b71880",
            "a9227561e7f66936",
            "2a804e94931f7201",
            "5e6c2b35b3d20cc1"
        ],
        "x": 14,
        "y": 1759,
        "w": 1472,
        "h": 282
    },
    {
        "id": "13c66868b5eefa83",
        "type": "group",
        "z": "39f5e6336137f4b2",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "e6674374ecfdefa0",
            "75b84d8bf5e2faeb",
            "7ee0608b0362347d",
            "3905cfef0361c276",
            "dec99c0ab95cf46a",
            "1e4e8287439e54f1",
            "daac1efc716c9aa2",
            "9dd84bc036be6c85",
            "c054e6f474b4191e",
            "c63b94a1bcddb5f9",
            "462935c54d978b2f",
            "d42cee1b019d7e42"
        ],
        "x": 14,
        "y": 2059,
        "w": 892,
        "h": 262
    },
    {
        "id": "39d4875f9179ffa1",
        "type": "group",
        "z": "7f39e487c7ab241c",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "a5fe096c3596b8b1",
            "fca221061c5bbaec",
            "5a3e197c6d1d4510"
        ],
        "x": 14,
        "y": 1779,
        "w": 672,
        "h": 142
    },
    {
        "id": "a6a5f43e0a339220",
        "type": "group",
        "z": "51ad1e79edd47f04",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "2a461ae7f7d76e0e",
            "7911c12266cd5063",
            "50ca61b206e9a30b",
            "ba7461b6d0252448",
            "0895bdce96812713",
            "810e9a5202e38ab2",
            "6d741b5d3ea19de5",
            "12e6ca97465e9a8e"
        ],
        "x": 14,
        "y": 459,
        "w": 1162,
        "h": 242
    },
    {
        "id": "efc093c90e8d9b40",
        "type": "group",
        "z": "b789af61b07fd59c",
        "g": "bb7455f65d7db579",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "c40e35b36f867a24",
            "6006bdd38b3e73a5",
            "1d4668e0de5ac3bb",
            "4b7164e2d32fae53",
            "616a3afaca8e38f3",
            "ba96167f850bd0e5"
        ],
        "x": 34,
        "y": 1099,
        "w": 1072,
        "h": 122
    },
    {
        "id": "e50ceb788d9ee8ba",
        "type": "group",
        "z": "9f04872fa1616475",
        "g": "1131ebba5e1d4a76",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "bc4246a5afc26e74",
            "ef6101afc3223eb0",
            "f8dbc33d27649032",
            "88e7115f37e27b64",
            "87f88fb480fe0c1d",
            "488f343f397a9b7b",
            "24e1d0ec9f3c8ba8",
            "e6107e9fc2706812"
        ],
        "x": 34,
        "y": 299,
        "w": 1372,
        "h": 122
    },
    {
        "id": "a571b45e5aa6d340",
        "type": "group",
        "z": "a0bf4bfc6f223fe1",
        "g": "d9ef644ffeb576be",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "ff13419adeecf367",
            "39dfde482d49575a",
            "4a713c76ca8ffd14",
            "c8bb2db6c9a7b339"
        ],
        "x": 34,
        "y": 779,
        "w": 512,
        "h": 162
    },
    {
        "id": "058bdb794f586cf6",
        "type": "group",
        "z": "085c9b619c2f5ad8",
        "g": "d7464aa58ca73417",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "4f2b23c1eb462ceb",
            "b28a59c02b03c88d",
            "18810d9c3d0e39a3",
            "d93de777cce3c63b",
            "5caf9664074c8107",
            "74c06d919ba73b69",
            "93cb80ba70bb4482",
            "5a32d7dd7b01f6db"
        ],
        "x": 34,
        "y": 539,
        "w": 1392,
        "h": 122
    },
    {
        "id": "d491c3abb1df5844",
        "type": "group",
        "z": "243935f7eeb0bc81",
        "g": "3002fadf91b75b46",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "d9b430d23e3b16c1",
            "5169a3e5cfd040d0",
            "6c91b862b244dfaf",
            "f900b62e0fafcb26",
            "ff66dacaaf9396be",
            "9f5195da0a931278",
            "20f37fb9eb18e7e8",
            "23b344d4bd248871"
        ],
        "x": 34,
        "y": 679,
        "w": 1372,
        "h": 122
    },
    {
        "id": "a15d60e99166423c",
        "type": "group",
        "z": "9f04872fa1616475",
        "g": "1131ebba5e1d4a76",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "321e851e04014b40",
            "e8d8807edade80c2",
            "13caec7c465e3901",
            "c433a054543aadbb",
            "7ab07fd93d687adf",
            "c8074b72183bfa57",
            "0dc1a23e2d1f2e75"
        ],
        "x": 34,
        "y": 439,
        "w": 1292,
        "h": 142
    },
    {
        "id": "53fb0b4840033e17",
        "type": "group",
        "z": "f32d9f15eade4bba",
        "g": "4e8755fac310c6fe",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "c49e5bd8f93bd496",
            "d1324fbb34721b63",
            "9c4864f0ca0d2d96",
            "3dd82a4a5a5f543f",
            "aa8016f7bd2aeddb",
            "2db276d509393d03",
            "e0259adb4a945229",
            "5049d35f7101b540",
            "9033928198667eca"
        ],
        "x": 34,
        "y": 1619,
        "w": 1292,
        "h": 147
    },
    {
        "id": "0652dadc1b579cce",
        "type": "group",
        "z": "7f39e487c7ab241c",
        "g": "ff6e2f651cf56ccc",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "3101d0a1b950e78d",
            "c09b728cb16b154e",
            "963294a91f3eb374",
            "16fa6c47d9ddfaf6",
            "2e16eb2bec967a72",
            "5fe42cef5b668ff4"
        ],
        "x": 54,
        "y": 2179,
        "w": 732,
        "h": 182
    },
    {
        "id": "54818585778a7dbf",
        "type": "group",
        "z": "a09ad053d19f1d06",
        "g": "61d4ee9870f82899",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "db49a00d5adc0cb7",
            "0b64f5a2e27c31f0",
            "19e3c39a7481e04b",
            "b13ee71e7f09ace4",
            "a5689ff4c9a82d8e",
            "ec0a3cf53f08df55",
            "123a8dfe28431656",
            "ba9284adcd1f5c35"
        ],
        "x": 34,
        "y": 1599,
        "w": 1212,
        "h": 182
    },
    {
        "id": "478d175d0abcb987",
        "type": "group",
        "z": "bf279eb7eda19fd7",
        "g": "9db47d03d3a4bf48",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "4a81d44956bf7abe",
            "29578d5983787104",
            "7d01d0262d3b09b0",
            "44f6e9558f9c5074",
            "31b11b57e8d4cb7b",
            "94cfa3499dc876e4",
            "59bdb9f7dc75cb5c",
            "e7b2bb5d8bf44ab8",
            "b811292b8f4a055a",
            "d72ea6fb7bddcfa1"
        ],
        "x": 54,
        "y": 1879,
        "w": 1292,
        "h": 244.5
    },
    {
        "id": "a593b47760f06197",
        "type": "group",
        "z": "be92da6a5a4a4550",
        "g": "f440ed49d65110cc",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "f7c6fa154b77f448",
            "0854f23ba4b218d4",
            "8c244203c4fcc324",
            "475a7054bc21bea5",
            "43484d443737f795",
            "a72140918ec09ace",
            "7a46fd82aea23e0b",
            "a2ab0b36bff28352",
            "38c78008d22484a0"
        ],
        "x": 34,
        "y": 2259,
        "w": 952,
        "h": 182
    },
    {
        "id": "f0957af5d63aa2ef",
        "type": "group",
        "z": "be92da6a5a4a4550",
        "g": "f440ed49d65110cc",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "464f8451e6ab7032",
            "a727e094b621802b",
            "21b6b0650f225c58",
            "ea107d7400acc08e",
            "299cb5105b54df95",
            "156ea82d6417f2cb",
            "c2fe4fd0486fe8e5",
            "ad5243b43c41460c",
            "a3ae06cea3533c9e",
            "fd7b8cd952413c94",
            "9b3b7854d7fb2552",
            "6683611e217c5793",
            "9c11f087d1eed1b8",
            "95707c8d48358de7",
            "389934c4dc2f2efc",
            "a2584957f2e04865",
            "a66118ea5be1ff8c"
        ],
        "x": 34,
        "y": 2459,
        "w": 2312,
        "h": 182
    },
    {
        "id": "aab1906238bddb1a",
        "type": "group",
        "z": "be92da6a5a4a4550",
        "g": "f440ed49d65110cc",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "0a9d24a7e3ddf454",
            "24f07e9dc4f73d1e",
            "e1d97f0452ca6682"
        ],
        "x": 34,
        "y": 2659,
        "w": 572,
        "h": 142
    },
    {
        "id": "4004851064bcddcd",
        "type": "group",
        "z": "be92da6a5a4a4550",
        "g": "f440ed49d65110cc",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "2352748556d6fb89",
            "9e6bf64138ee43fa",
            "e526a056cd7494db"
        ],
        "x": 34,
        "y": 2819,
        "w": 712,
        "h": 142
    },
    {
        "id": "085abb2595ddc9eb",
        "type": "group",
        "z": "be92da6a5a4a4550",
        "g": "f440ed49d65110cc",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "9c3ec377bfc2931f",
            "7115d2155b40634a",
            "dde87eef542d7ef4"
        ],
        "x": 34,
        "y": 2979,
        "w": 392,
        "h": 122
    },
    {
        "id": "aa5158e947d2ab5c",
        "type": "group",
        "z": "be92da6a5a4a4550",
        "g": "f440ed49d65110cc",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "a27132ae5fc26d23",
            "d74218a87e76e862",
            "f38fe22a1698047b",
            "7e55f50c12d97759",
            "b9235e8435499db2",
            "961409bc2d9b8a1b",
            "1c957e317538e84e",
            "719f3dd468939e86",
            "e637b15d3d21c45d"
        ],
        "x": 34,
        "y": 2039,
        "w": 1552,
        "h": 204.5
    },
    {
        "id": "ebd96689a07f730e",
        "type": "group",
        "z": "94466ab2e543aa2f",
        "g": "4d198da498b31efb",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "2127f9679d74bffa",
            "d244c71c8ebb21ec",
            "00d86418429f8cbc",
            "bf14ecf8f5bb3f7e",
            "7b5673b20cc32ea8",
            "74a8772920457cd4",
            "321f94ddeb0d231e"
        ],
        "x": 34,
        "y": 2479,
        "w": 872,
        "h": 204.5
    },
    {
        "id": "a2cb8e43bd2538c0",
        "type": "group",
        "z": "94466ab2e543aa2f",
        "g": "4d198da498b31efb",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "1c9555d76592af83",
            "1cc104eb3c21317e",
            "7b0e600c08b2a818",
            "13cf75d97fbf793b",
            "a47145bc0ca39416",
            "b7171475ccc7e603",
            "9d3440869e61a51f",
            "65c1beb3af49864c",
            "14e7742560be87fb",
            "4b8679c14972be23"
        ],
        "x": 34,
        "y": 2699,
        "w": 1502,
        "h": 264.5
    },
    {
        "id": "97cc1a527f72ed4e",
        "type": "group",
        "z": "94466ab2e543aa2f",
        "g": "4d198da498b31efb",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "a8797e5acf899cbf",
            "4c4dc018f2002187",
            "6c8db471867be131",
            "0d887755bfdcf551"
        ],
        "x": 34,
        "y": 2979,
        "w": 592,
        "h": 162
    },
    {
        "id": "8a8d75e6f669a78a",
        "type": "group",
        "z": "be92da6a5a4a4550",
        "g": "f440ed49d65110cc",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "6d9b9920a96b0169",
            "f64399ba24b32ef4",
            "44ab129f97435dd9",
            "82b493917e9911f4"
        ],
        "x": 34,
        "y": 3119,
        "w": 532,
        "h": 162
    },
    {
        "id": "154e9175574484d1",
        "type": "group",
        "z": "a09ad053d19f1d06",
        "g": "61d4ee9870f82899",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "c81a5908f8ca13b3",
            "1cbe93cd58560dd0",
            "7b714d579d4f8f68",
            "fd1316bc77e6a6dd"
        ],
        "x": 34,
        "y": 1799,
        "w": 532,
        "h": 162
    },
    {
        "id": "2b86971fcc199b40",
        "type": "group",
        "z": "7f39e487c7ab241c",
        "g": "ff6e2f651cf56ccc",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "24be428cbb777a16",
            "836805d35a52d310",
            "e2ced3815577a09c",
            "8a78024ba282982a"
        ],
        "x": 54,
        "y": 2379,
        "w": 532,
        "h": 162
    },
    {
        "id": "69027adcba470682",
        "type": "group",
        "z": "584de19021aea4c9",
        "g": "78c2f5b11bac0b38",
        "name": "notify",
        "style": {
            "label": true
        },
        "nodes": [
            "21c070ce72b68d7d",
            "7e2213cba8ed0e58",
            "7776b1f9419bbd45",
            "1f7f697fc6355767",
            "79d81ca9d619b285"
        ],
        "x": 1094,
        "y": 619,
        "w": 412,
        "h": 122
    },
    {
        "id": "3bf0bc8959f8a48e",
        "type": "group",
        "z": "f32d9f15eade4bba",
        "g": "d87b969d15636e26",
        "name": "notify",
        "style": {
            "label": true
        },
        "nodes": [
            "71f13b6b1744cf6b",
            "64614e79bcb09872",
            "2a35d2abfb0850da",
            "2c0a57bd6ee87009",
            "08bca5ce6d389d48",
            "ec34cd6ea57b0b7f",
            "80b3c96f004d6f8b"
        ],
        "x": 1254,
        "y": 1179,
        "w": 472,
        "h": 202
    },
    {
        "id": "392300741f68f312",
        "type": "group",
        "z": "7f39e487c7ab241c",
        "g": "02e14c21061265e1",
        "name": "notify",
        "style": {
            "label": true
        },
        "nodes": [
            "59327076bed18754",
            "c6941b34f3402196",
            "17c484a9c9a917ac",
            "4dd6478ac62b8c2f",
            "9b93ac7b58399751",
            "cdbb5b48e71b5866"
        ],
        "x": 1314,
        "y": 659,
        "w": 452,
        "h": 162
    },
    {
        "id": "d4032e52fcdeddaf",
        "type": "group",
        "z": "be92da6a5a4a4550",
        "g": "f440ed49d65110cc",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "fe1e8a4a99247a70",
            "d0b07db3a4e9f4be",
            "3ddb5c48d6d277a9",
            "0eaf928a0ea7b2ab",
            "19fce404c5b90b9e",
            "d8b99bf36f16da1d"
        ],
        "x": 34,
        "y": 3299,
        "w": 1072,
        "h": 122
    },
    {
        "id": "def0086d54aac994",
        "type": "group",
        "z": "a0bf4bfc6f223fe1",
        "g": "d9ef644ffeb576be",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "1376c8b334e205ed",
            "53b1bb3f88ba857d",
            "2ab55a09d70bc19b",
            "9c15e356fe3cbe8e",
            "3f3b0ec569d43650",
            "9859f3ea095334b7"
        ],
        "x": 34,
        "y": 959,
        "w": 1152,
        "h": 122
    },
    {
        "id": "ec9dbbcc9d7d466d",
        "type": "group",
        "z": "f32d9f15eade4bba",
        "g": "4e8755fac310c6fe",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "12894abc534397ad",
            "12f8c4bf18db7efd",
            "9d1ae4015da1f119",
            "192bbaed7dca394c",
            "6c823cc5114ee3c3",
            "7ce069b5409427c0"
        ],
        "x": 34,
        "y": 1779,
        "w": 1152,
        "h": 122
    },
    {
        "id": "0beb05e6de323068",
        "type": "group",
        "z": "9f04872fa1616475",
        "g": "1131ebba5e1d4a76",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "5f49d5a034ee9b5b",
            "f3314b7dd03302ae",
            "f5962ac09ab85cc0",
            "41ac7f0d3d2a07a2",
            "de705346f1cf66e6",
            "fb679e02bc04f0b8"
        ],
        "x": 34,
        "y": 599,
        "w": 1152,
        "h": 122
    },
    {
        "id": "7dd2aacc1e40f777",
        "type": "group",
        "z": "085c9b619c2f5ad8",
        "g": "d7464aa58ca73417",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "16a27d4d61cc58d3",
            "f51632c15aa7dcd2",
            "927ba4635cea2eba",
            "d39e4789013631e4",
            "8db0025fe57cfee6",
            "1ac932109c2068c7"
        ],
        "x": 34,
        "y": 679,
        "w": 1072,
        "h": 122
    },
    {
        "id": "755f0cfbe6e1ada2",
        "type": "group",
        "z": "243935f7eeb0bc81",
        "g": "3002fadf91b75b46",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "e55b97ef416d94ab",
            "a1efdb82eafb510c",
            "483a94a88dfcee79",
            "905767a3ed395363",
            "68dfbc6804cce853",
            "703a035d531b109f"
        ],
        "x": 34,
        "y": 819,
        "w": 1152,
        "h": 122
    },
    {
        "id": "8bfc8c8405959d99",
        "type": "group",
        "z": "e5dc6f22432398d7",
        "g": "4805874d4b376148",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "ece831bcd7346fd7",
            "24da7345da1f2387",
            "d57ce70df622ca92",
            "68b19368c349c326",
            "b3a39fe10aabc206",
            "c8b51e690f45711c"
        ],
        "x": 34,
        "y": 699,
        "w": 1072,
        "h": 122
    },
    {
        "id": "394e0231a1e3d873",
        "type": "group",
        "z": "94466ab2e543aa2f",
        "g": "4d198da498b31efb",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "5430d71930b64448",
            "fded5d70d3c53f4f",
            "113b4aa51efc55a3",
            "b3faeb3c1fda8af0",
            "50300c7b5295e417",
            "5f1e344a10e50e14"
        ],
        "x": 34,
        "y": 3159,
        "w": 1152,
        "h": 122
    },
    {
        "id": "ae2e10abb46ea220",
        "type": "group",
        "z": "94466ab2e543aa2f",
        "g": "4d198da498b31efb",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "09da2ef8f03278e3",
            "6a132f1cfdc57a36",
            "993f5a48fe1d56c1",
            "22dc1eded58556f6",
            "b2325797cfc4cb7b",
            "f9a8d47bf12af153",
            "9c780ad71c8651fd",
            "9a0c650f1b078f8e",
            "5aecd5ebc0c419c8",
            "7f4c5981658827e5",
            "378d583d6c2e7462",
            "aa8acf9d5ae7b176",
            "1f032b5a0271a463",
            "53d90bdea41503b8"
        ],
        "x": 34,
        "y": 3299,
        "w": 1112,
        "h": 302
    },
    {
        "id": "1e5f0b892662f50f",
        "type": "group",
        "z": "be92da6a5a4a4550",
        "g": "f440ed49d65110cc",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "9a7408e72f384d69",
            "060185de8946e677",
            "bada428533299589",
            "0dfe42d012812eb8",
            "837275f23adcb440",
            "5ba1981ebee7928a",
            "27b618c31c7c845e",
            "b5ebe7d82d5b5bfd",
            "38030c8576a52ba4",
            "a3d90bd47f3ab3be",
            "3ea16ee8a25e0caf",
            "0c9cc39d0b3b6d42",
            "39ee82bf834e16ab",
            "1f187dbf3227f8dc"
        ],
        "x": 34,
        "y": 3439,
        "w": 1112,
        "h": 282
    },
    {
        "id": "4ee6ccf7f55ab18d",
        "type": "group",
        "z": "b789af61b07fd59c",
        "g": "bb7455f65d7db579",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "1cc0f4531f7d89ec",
            "c7d0e1ce988323e6",
            "6b46efa95e944550",
            "a960e4426e6cf6f2",
            "fbb62b8c932825d2",
            "8d0a973d5b58e754",
            "03ec83b769d36a9a",
            "716be68f938ec94b",
            "a683f17e6ec204d7",
            "7bebe3575d22c030",
            "f97efe05ff228e66",
            "76da670889e45fe2",
            "23310ab6a6a915f5",
            "e26a446d293333bc"
        ],
        "x": 34,
        "y": 1239,
        "w": 1112,
        "h": 282
    },
    {
        "id": "1029aa10207a5009",
        "type": "group",
        "z": "a0bf4bfc6f223fe1",
        "g": "d9ef644ffeb576be",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "a2782dbf91f5d7b0",
            "127c7ffb1d1bc495",
            "3698f082c53b08f0",
            "1c1b960ce5afe65f",
            "cdc1e981a44ee5fb",
            "d983402959f092de",
            "243da29416490cde",
            "1c09023493b28cd6",
            "c0bbade7cb25afca",
            "aa5e4b49e4f1a495",
            "128979fd0463bcca",
            "69b514178990fd6c",
            "b3b1f4e23f46e5cf",
            "bd5414d22d20cf2e"
        ],
        "x": 34,
        "y": 1099,
        "w": 1122,
        "h": 302
    },
    {
        "id": "e86b37532d49c64c",
        "type": "group",
        "z": "bf279eb7eda19fd7",
        "g": "9db47d03d3a4bf48",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "0bfac8b9012396e1",
            "f6cab9c55259ee58",
            "6b77a3da8ad09a5b",
            "7e308533ace3b7a5",
            "df783d5214ade8ee",
            "ef76f490bcd61610",
            "55e4ed93aa47ec93",
            "bdffffaf4b1099f3",
            "9adaaa7a62ce557b",
            "ae418c6467c6832a",
            "6b02551e9bbcc318",
            "b55fb77b81661d58",
            "eee0baf6a957df61",
            "757cebaecd0f8b23"
        ],
        "x": 54,
        "y": 2139,
        "w": 1112,
        "h": 282
    },
    {
        "id": "7b7b7e395f402314",
        "type": "group",
        "z": "a09ad053d19f1d06",
        "g": "61d4ee9870f82899",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "8275c1b6dda4aadb",
            "2e1f9bb99caa0a69",
            "892cb88898854d3a",
            "896d27328839bee7",
            "d8c231ff127bcc45",
            "720d3acfb843dbbd",
            "a8317c0efd0cf117",
            "89c264aac7600432",
            "fef8a20f3e3f6a9c",
            "0c568c3a2acbb3c7",
            "91f20f382b4f8484",
            "9f03d662124e4f23",
            "b30e73c80fcab9d3"
        ],
        "x": 34,
        "y": 1979,
        "w": 972,
        "h": 282
    },
    {
        "id": "37465ae075834473",
        "type": "group",
        "z": "f32d9f15eade4bba",
        "g": "4e8755fac310c6fe",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "e1020763e1e1af54",
            "05c14194d0417f43",
            "235dbe118a135a57",
            "8d06bbbfde5d13af",
            "9948ab8c2e44d162",
            "be6a991a1b3104c0",
            "267cdd02ae88d55f",
            "c87cf284a2863271",
            "090710f36b2625ec",
            "2cced4dc5c7e4d61",
            "ea190e81bd8e104b",
            "3f35460d3389a7ee",
            "59cb37924441176e",
            "6192e488c9237f1b"
        ],
        "x": 34,
        "y": 1919,
        "w": 1112,
        "h": 282
    },
    {
        "id": "202eac08f733727b",
        "type": "group",
        "z": "9f04872fa1616475",
        "g": "1131ebba5e1d4a76",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "b5caf398e6bdfb50",
            "f4ba8ef5b42cf809",
            "accb68d4b7b28f49",
            "449519974ae65172",
            "be95420870c0e87e",
            "213610331b9412cd",
            "d41eb8862e34a454",
            "91955a9ec8eae98d",
            "20507cf53aa4d926",
            "48cbcb1572fd8ae0",
            "69cb553d8e5c7171",
            "9d69a1c6db562c23",
            "47ee9da5d5ec0222",
            "f7e7ce65bae7cdcc"
        ],
        "x": 34,
        "y": 739,
        "w": 1112,
        "h": 282
    },
    {
        "id": "a42a06a64b67a3b7",
        "type": "group",
        "z": "085c9b619c2f5ad8",
        "g": "d7464aa58ca73417",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "4b861f3c88a2818f",
            "c3e7c2ddc8fb2d64",
            "8616c0cb508a42c6",
            "8b8214ec5beceb8a",
            "6383e3ffe9f0cafd",
            "4b3c029234bf9c07",
            "0b3a14c594f93967",
            "01f758f478241088",
            "367c6564a60f46aa",
            "4adacf1d8d92d732",
            "fbb5ba578d96b310",
            "f70a5c53872d664e",
            "5ae30988edb54f34",
            "064aed9736e28c54"
        ],
        "x": 34,
        "y": 819,
        "w": 1112,
        "h": 282
    },
    {
        "id": "c3955a96beb28f73",
        "type": "group",
        "z": "e5dc6f22432398d7",
        "g": "4805874d4b376148",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "2b99cb10e0ff5d36",
            "f30f55e0850add98",
            "5e21ede09afb6536",
            "06d8abff21b08008",
            "e0d8442c99762160",
            "2e49cd4653177194",
            "2c383965103f52c4",
            "b0b50ea4e1b5406c",
            "d53efd8b2dbd4aed",
            "e2433870f8402c42",
            "1b093e0fb4ab7c72",
            "6a01763e5aa8034d",
            "dcb5f761763b2cd9"
        ],
        "x": 34,
        "y": 839,
        "w": 972,
        "h": 282
    },
    {
        "id": "6067241c5e9bcf6c",
        "type": "group",
        "z": "243935f7eeb0bc81",
        "g": "3002fadf91b75b46",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "844bda3c18385494",
            "eeb9feb9ab056495",
            "a7a50588415c176c",
            "526ba3af0a1eb607",
            "328d876953e56fb7",
            "808bcc855e7b8b98",
            "11724820a50c64f8",
            "2794030e649bc2b6",
            "d2a541d2b8f72839",
            "d3a4afe9518cbfff",
            "e302e447a8fbdace",
            "25b8a101aec11917",
            "63fa094b02fad9f4",
            "62e8791208f6dc62"
        ],
        "x": 34,
        "y": 959,
        "w": 1112,
        "h": 282
    },
    {
        "id": "33169817977a7916",
        "type": "group",
        "z": "3d30857f5165e137",
        "g": "d6c8327174bce50e",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "7957ca6537112584",
            "4b0dae5695deaaf8",
            "783edf7ebe885efc",
            "e51ba7113581fcaf",
            "fcf7546d12baf147",
            "9cd378246d06aed2",
            "19bfc97776f2bff7",
            "d4d3803afaa2ac1f",
            "a82516eb21887540",
            "54cecc782a26e4d8",
            "eea223d7381660d6",
            "61652d8fa7d13827",
            "a004ea74e0a267df"
        ],
        "x": 34,
        "y": 659,
        "w": 972,
        "h": 282
    },
    {
        "id": "3042e996feac3021",
        "type": "group",
        "z": "be92da6a5a4a4550",
        "g": "f440ed49d65110cc",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "e97c797a7c1cbb04",
            "1d53c36e14e12d0e",
            "2e48d523ceaf75e5",
            "f1dc99664448d504",
            "04b2c0c1ab7a1476",
            "3d0b4c8f9c84f077",
            "71377af681724964"
        ],
        "x": 34,
        "y": 3739,
        "w": 912,
        "h": 182
    },
    {
        "id": "d4dd92bd9bc8634e",
        "type": "group",
        "z": "f32d9f15eade4bba",
        "g": "4e8755fac310c6fe",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "38e3af3e6e9417be",
            "0cded198f1c714ea",
            "20ab68d77ff78734",
            "44f29e8977e8a866"
        ],
        "x": 34,
        "y": 2219,
        "w": 632,
        "h": 122
    },
    {
        "id": "6e0550eee76c5833",
        "type": "group",
        "z": "b789af61b07fd59c",
        "g": "bb7455f65d7db579",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "dd11f398bf45dfcc",
            "76af8566f2bb4dfe",
            "801590473e5a4c45",
            "a45fa9da67c67893"
        ],
        "x": 34,
        "y": 1539,
        "w": 632,
        "h": 122
    },
    {
        "id": "2fda27be728d8d78",
        "type": "group",
        "z": "9f04872fa1616475",
        "g": "1131ebba5e1d4a76",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "e817366af95475f8",
            "07f8fe283ac35bf1",
            "c08af2fe8e1ffc0c",
            "1532d3eac4b24c65"
        ],
        "x": 34,
        "y": 1039,
        "w": 632,
        "h": 122
    },
    {
        "id": "49e93507c8029390",
        "type": "group",
        "z": "085c9b619c2f5ad8",
        "g": "d7464aa58ca73417",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "af0cee51e5baa6cf",
            "3b297e5bb141e7ba",
            "fcec04013bfdd11f",
            "620cf95dd4c7511c"
        ],
        "x": 34,
        "y": 1119,
        "w": 632,
        "h": 122
    },
    {
        "id": "c8605e24a2013fbb",
        "type": "group",
        "z": "e5dc6f22432398d7",
        "g": "4805874d4b376148",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "3ab90cec58ce9a5b",
            "49c7e1fa0eede633",
            "5b283e162315ee03",
            "d257ecf2057c651f"
        ],
        "x": 34,
        "y": 1139,
        "w": 632,
        "h": 122
    },
    {
        "id": "4f9337b160840a41",
        "type": "group",
        "z": "243935f7eeb0bc81",
        "g": "3002fadf91b75b46",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "c709e93a4ff0579c",
            "f30d32e1709865b1",
            "bb1404a70b199cd4",
            "3e9e22f1aca172a4"
        ],
        "x": 34,
        "y": 1259,
        "w": 632,
        "h": 122
    },
    {
        "id": "e122a8d0692b6190",
        "type": "group",
        "z": "3d30857f5165e137",
        "g": "d6c8327174bce50e",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "529fe917e83e2581",
            "dfa9055f4ac8dd18",
            "1d8aed8797100d79",
            "eb5c81f0c94b41eb"
        ],
        "x": 34,
        "y": 959,
        "w": 632,
        "h": 122
    },
    {
        "id": "7f9ef23a602772d9",
        "type": "group",
        "z": "bf279eb7eda19fd7",
        "g": "9db47d03d3a4bf48",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "cce74d3ef40e87b1",
            "b45d3017dda90564",
            "9d3f7eb3988d338d",
            "a217db3768dae47b",
            "3ef95b1cdb5a2913",
            "27ba53f25166ec12",
            "c35e5fe0aaced7dd",
            "84b894521e1025fd",
            "06494fdc0a5d9892",
            "c43613425ba3c1da",
            "0b1c07b6f15ada9b"
        ],
        "x": 54,
        "y": 2439,
        "w": 1632,
        "h": 202
    },
    {
        "id": "b893f80d1303467b",
        "type": "group",
        "z": "bf279eb7eda19fd7",
        "g": "9db47d03d3a4bf48",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "e26af8b833a2f7c4",
            "2c07de935ec0ae13",
            "0953197f43a2eae3",
            "5b3614f6404e4b5e",
            "27f9690f59141f3c",
            "74417dbba5ac7943"
        ],
        "x": 54,
        "y": 2659,
        "w": 1072,
        "h": 122
    },
    {
        "id": "562fbfde97dcdc26",
        "type": "group",
        "z": "bf279eb7eda19fd7",
        "g": "9db47d03d3a4bf48",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "1caa85f5908711f2",
            "9104f5eb5e4f58b3",
            "427e7beaf1cf05cc",
            "120f47429583e78d"
        ],
        "x": 54,
        "y": 2799,
        "w": 532,
        "h": 162
    },
    {
        "id": "d3868dc5f4aa2d65",
        "type": "group",
        "z": "39f5e6336137f4b2",
        "g": "25a4ffd157e9649f",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "1f82b6c0e5dbebf0",
            "0d2317e40dbcbd17",
            "b564e25effcfc627",
            "edd4560b8748e246",
            "7921cddd0f314705",
            "1d37dadaa58f945a",
            "7bea96d351fd45a5",
            "87169159e7ae701a",
            "f9e486866e6d65f1",
            "445f8a7aded61633"
        ],
        "x": 654,
        "y": 319,
        "w": 652,
        "h": 302
    },
    {
        "id": "cd256ec259a611f4",
        "type": "group",
        "z": "39f5e6336137f4b2",
        "g": "25a4ffd157e9649f",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "f47b4545239299ad",
            "54b7f080b2edea10",
            "1e7eae419a9ec64f",
            "18e6577d292535de",
            "61e6d10bbacb84be",
            "fa9bc69bfdcf7c2c",
            "1852cb62226e78b0",
            "cc95177ff7dd19c7",
            "431f4462805951b1"
        ],
        "x": 654,
        "y": 639,
        "w": 1032,
        "h": 282
    },
    {
        "id": "6627c8c2e67f71eb",
        "type": "group",
        "z": "bf279eb7eda19fd7",
        "g": "9db47d03d3a4bf48",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "7bbdb0b2d050fef2"
        ],
        "x": 54,
        "y": 2979,
        "w": 512,
        "h": 82
    },
    {
        "id": "ac009c7335724f80",
        "type": "group",
        "z": "94466ab2e543aa2f",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "557c778b948bbd93",
            "b75a06591bd2314d",
            "4d2461534c903c6d",
            "4e6208bc552b966f"
        ],
        "x": 14,
        "y": 1799,
        "w": 692,
        "h": 122
    },
    {
        "id": "5cb88a741e06d0c9",
        "type": "junction",
        "z": "75537afd17de5117",
        "g": "ef69ec82c772cad9",
        "x": 1720,
        "y": 500,
        "wires": [
            [
                "4b6f2391d1d4dfb7",
                "644d8e4f0164cfb2",
                "56e8236b1fb323bc"
            ]
        ]
    },
    {
        "id": "1bcfdae4fb034efd",
        "type": "junction",
        "z": "3d30857f5165e137",
        "g": "8484c31ea7272515",
        "x": 1240,
        "y": 580,
        "wires": [
            [
                "59e4a09ae6f431cd"
            ]
        ]
    },
    {
        "id": "e40aff179bd30a9b",
        "type": "junction",
        "z": "3d30857f5165e137",
        "g": "8484c31ea7272515",
        "x": 820,
        "y": 480,
        "wires": [
            [
                "59e4a09ae6f431cd"
            ]
        ]
    },
    {
        "id": "b813b74193ab27fc",
        "type": "junction",
        "z": "5b957aaa34cab814",
        "x": 400,
        "y": 520,
        "wires": [
            [
                "f5b5f685345544c7"
            ]
        ]
    },
    {
        "id": "4d395d18c0756d47",
        "type": "junction",
        "z": "82d5958c73f37c26",
        "g": "fa8b2c549c6198d2",
        "x": 280,
        "y": 240,
        "wires": [
            [
                "f7b6a832a5096712",
                "782dad59eecce1f6",
                "2babd23a398c74fd"
            ]
        ]
    },
    {
        "id": "e778d71ea6d1e452",
        "type": "junction",
        "z": "b789af61b07fd59c",
        "g": "3ca230ff2becd832",
        "x": 1880,
        "y": 340,
        "wires": [
            [
                "f777d58a9431acab",
                "753a58a11a72906c",
                "62e6e0b8f41df173",
                "9ba2576829f3e51e"
            ]
        ]
    },
    {
        "id": "a378d97aa6be5e49",
        "type": "junction",
        "z": "be92da6a5a4a4550",
        "g": "d543568c3cc7aa23",
        "x": 420,
        "y": 980,
        "wires": [
            [
                "818ba5a9.204658"
            ]
        ]
    },
    {
        "id": "3392d6cf5e1cb20b",
        "type": "junction",
        "z": "be92da6a5a4a4550",
        "g": "d543568c3cc7aa23",
        "x": 420,
        "y": 940,
        "wires": [
            [
                "5c56266b.e63438"
            ]
        ]
    },
    {
        "id": "e3d6041fbd9d3e9b",
        "type": "junction",
        "z": "bf279eb7eda19fd7",
        "g": "b8b2c52ce29b1b66",
        "x": 780,
        "y": 1220,
        "wires": [
            [
                "8f8e3faeb54f8394"
            ]
        ]
    },
    {
        "id": "8d98ecd84b9c5e5e",
        "type": "junction",
        "z": "be92da6a5a4a4550",
        "g": "59d661e86ca6893c",
        "x": 1060,
        "y": 1340,
        "wires": [
            [
                "a8fd84d44c1f3b89"
            ]
        ]
    },
    {
        "id": "56a07c9ca9672de6",
        "type": "junction",
        "z": "f32d9f15eade4bba",
        "g": "8dd127f90c06ad01",
        "x": 540,
        "y": 840,
        "wires": [
            [
                "f4a68bb61137474e"
            ]
        ]
    },
    {
        "id": "4c5c66dcd56c4b83",
        "type": "junction",
        "z": "f32d9f15eade4bba",
        "g": "8dd127f90c06ad01",
        "x": 720,
        "y": 700,
        "wires": [
            [
                "511c21a01753fb65",
                "9cbed94c67d1830a"
            ]
        ]
    },
    {
        "id": "2db276d509393d03",
        "type": "junction",
        "z": "f32d9f15eade4bba",
        "g": "53fb0b4840033e17",
        "x": 1080,
        "y": 1740,
        "wires": [
            [
                "9c4864f0ca0d2d96"
            ]
        ]
    },
    {
        "id": "e0259adb4a945229",
        "type": "junction",
        "z": "f32d9f15eade4bba",
        "g": "53fb0b4840033e17",
        "x": 540,
        "y": 1740,
        "wires": [
            [
                "2db276d509393d03"
            ]
        ]
    },
    {
        "id": "ce03ab56bedf05fc",
        "type": "junction",
        "z": "584de19021aea4c9",
        "g": "08715fb1375207f2",
        "x": 560,
        "y": 480,
        "wires": [
            [
                "98e460a4ed0ed121"
            ]
        ]
    },
    {
        "id": "547adbcf6d9c7157",
        "type": "junction",
        "z": "13a255ebdd1ff73b",
        "g": "cab9eeaa205362d4",
        "x": 780,
        "y": 340,
        "wires": [
            [
                "b71280bffd062919"
            ]
        ]
    },
    {
        "id": "65c1beb3af49864c",
        "type": "junction",
        "z": "94466ab2e543aa2f",
        "g": "a2cb8e43bd2538c0",
        "x": 800,
        "y": 2880,
        "wires": [
            [
                "b7171475ccc7e603"
            ]
        ]
    },
    {
        "id": "b811292b8f4a055a",
        "type": "junction",
        "z": "bf279eb7eda19fd7",
        "g": "478d175d0abcb987",
        "x": 520,
        "y": 2000,
        "wires": [
            [
                "e7b2bb5d8bf44ab8"
            ]
        ]
    },
    {
        "id": "79d81ca9d619b285",
        "type": "junction",
        "z": "584de19021aea4c9",
        "g": "69027adcba470682",
        "x": 1120,
        "y": 680,
        "wires": [
            [
                "7e2213cba8ed0e58",
                "21c070ce72b68d7d"
            ]
        ]
    },
    {
        "id": "fee8363c5cb8d124",
        "type": "junction",
        "z": "f32d9f15eade4bba",
        "g": "d87b969d15636e26",
        "x": 400,
        "y": 1260,
        "wires": [
            [
                "ce869786.78dec8"
            ]
        ]
    },
    {
        "id": "ec34cd6ea57b0b7f",
        "type": "junction",
        "z": "f32d9f15eade4bba",
        "g": "3bf0bc8959f8a48e",
        "x": 1280,
        "y": 1240,
        "wires": [
            [
                "64614e79bcb09872",
                "2a35d2abfb0850da",
                "71f13b6b1744cf6b",
                "80b3c96f004d6f8b"
            ]
        ]
    },
    {
        "id": "9b93ac7b58399751",
        "type": "junction",
        "z": "7f39e487c7ab241c",
        "g": "392300741f68f312",
        "x": 1340,
        "y": 740,
        "wires": [
            [
                "c6941b34f3402196",
                "59327076bed18754",
                "cdbb5b48e71b5866"
            ]
        ]
    },
    {
        "id": "9176120838cc8707",
        "type": "junction",
        "z": "e98ae3c9db1bd6c3",
        "g": "7a8d3a38b4738118",
        "x": 500,
        "y": 940,
        "wires": [
            [
                "25e30f9bf7474722"
            ]
        ]
    },
    {
        "id": "45615df91b5ec3a0",
        "type": "junction",
        "z": "a09ad053d19f1d06",
        "g": "085247ef3b38bcb6",
        "x": 260,
        "y": 780,
        "wires": [
            [
                "7413147849dac610"
            ]
        ]
    },
    {
        "id": "4edd2983cc80f181",
        "type": "junction",
        "z": "94466ab2e543aa2f",
        "g": "48e46dc873ed3b2b",
        "x": 260,
        "y": 2340,
        "wires": [
            [
                "672b119de53c2e27"
            ]
        ]
    },
    {
        "id": "c7c6edd30fd2eaec",
        "type": "junction",
        "z": "085c9b619c2f5ad8",
        "g": "c0234ad716a6f191",
        "x": 260,
        "y": 400,
        "wires": [
            [
                "3148196f1704cedc"
            ]
        ]
    },
    {
        "id": "771e43e4d1cb6b2d",
        "type": "junction",
        "z": "3611a09f77ab1873",
        "x": 800,
        "y": 580,
        "wires": [
            [
                "d34de6e1c3afd3d2"
            ]
        ]
    },
    {
        "id": "d34de6e1c3afd3d2",
        "type": "junction",
        "z": "3611a09f77ab1873",
        "x": 960,
        "y": 580,
        "wires": [
            [
                "566faf848ae88258"
            ]
        ]
    },
    {
        "id": "e1d52ed6bc615e3d",
        "type": "junction",
        "z": "b8d98c82eb2488b9",
        "g": "4e1beacde852f70d",
        "x": 1680,
        "y": 660,
        "wires": [
            [
                "6f4bac3366b09c0a"
            ]
        ]
    },
    {
        "id": "1c24238d54f558c4",
        "type": "junction",
        "z": "b8d98c82eb2488b9",
        "g": "4e1beacde852f70d",
        "x": 680,
        "y": 660,
        "wires": [
            [
                "e1d52ed6bc615e3d"
            ]
        ]
    },
    {
        "id": "1c71ec8e21bc2634",
        "type": "junction",
        "z": "b8d98c82eb2488b9",
        "g": "4e1beacde852f70d",
        "x": 900,
        "y": 760,
        "wires": [
            [
                "91917476cba30405"
            ]
        ]
    },
    {
        "id": "91917476cba30405",
        "type": "junction",
        "z": "b8d98c82eb2488b9",
        "g": "4e1beacde852f70d",
        "x": 1240,
        "y": 760,
        "wires": [
            [
                "f1744436bf4645f2"
            ]
        ]
    },
    {
        "id": "84b894521e1025fd",
        "type": "junction",
        "z": "bf279eb7eda19fd7",
        "g": "7f9ef23a602772d9",
        "x": 1420,
        "y": 2600,
        "wires": [
            [
                "b45d3017dda90564"
            ]
        ]
    },
    {
        "id": "903bd06d8fd9e802",
        "type": "junction",
        "z": "b8d98c82eb2488b9",
        "g": "9ddd3d4eff0af285",
        "x": 1500,
        "y": 260,
        "wires": [
            [
                "ccf87318aa8d159a"
            ]
        ]
    },
    {
        "id": "7d4923fb0fc249fa",
        "type": "junction",
        "z": "b8d98c82eb2488b9",
        "g": "9ddd3d4eff0af285",
        "x": 820,
        "y": 260,
        "wires": [
            [
                "903bd06d8fd9e802"
            ]
        ]
    },
    {
        "id": "b564e25effcfc627",
        "type": "junction",
        "z": "39f5e6336137f4b2",
        "g": "d3868dc5f4aa2d65",
        "x": 680,
        "y": 400,
        "wires": [
            [
                "7bea96d351fd45a5",
                "1d37dadaa58f945a",
                "f9e486866e6d65f1",
                "445f8a7aded61633"
            ]
        ]
    },
    {
        "id": "61e6d10bbacb84be",
        "type": "junction",
        "z": "39f5e6336137f4b2",
        "g": "cd256ec259a611f4",
        "x": 680,
        "y": 720,
        "wires": [
            [
                "fa9bc69bfdcf7c2c",
                "1852cb62226e78b0",
                "cc95177ff7dd19c7",
                "431f4462805951b1"
            ]
        ]
    },
    {
        "id": "f8003d1746659317",
        "type": "junction",
        "z": "39f5e6336137f4b2",
        "g": "59a9dccc6e2c8820",
        "x": 540,
        "y": 1940,
        "wires": [
            [
                "19b08832ac41fe31"
            ]
        ]
    },
    {
        "id": "4539dbe872caf169",
        "type": "junction",
        "z": "39f5e6336137f4b2",
        "g": "59a9dccc6e2c8820",
        "x": 880,
        "y": 1880,
        "wires": [
            [
                "382a831c1568641b"
            ]
        ]
    },
    {
        "id": "0816b0e1b274f0f8",
        "type": "junction",
        "z": "bf279eb7eda19fd7",
        "g": "83efa2d173d9dca5",
        "x": 840,
        "y": 1360,
        "wires": [
            [
                "ef1caaf0e51df45f",
                "56e9529fb3adf59e"
            ]
        ]
    },
    {
        "id": "d2c54edb4271fcda",
        "type": "junction",
        "z": "bf279eb7eda19fd7",
        "g": "83efa2d173d9dca5",
        "x": 940,
        "y": 1360,
        "wires": [
            [
                "e188c5d43cc22d55"
            ]
        ]
    },
    {
        "id": "36dee637778341ba",
        "type": "mqtt-broker",
        "name": "",
        "broker": "mqtt.lan.stamx.nl",
        "port": "1883",
        "clientid": "",
        "autoConnect": true,
        "usetls": false,
        "protocolVersion": "4",
        "keepalive": "60",
        "cleansession": true,
        "autoUnsubscribe": true,
        "birthTopic": "",
        "birthQos": "0",
        "birthPayload": "",
        "birthMsg": {},
        "closeTopic": "",
        "closeQos": "0",
        "closePayload": "",
        "closeMsg": {},
        "willTopic": "",
        "willQos": "0",
        "willPayload": "",
        "willMsg": {},
        "userProps": "",
        "sessionExpiry": ""
    },
    {
        "id": "4ba92433.2478cc",
        "type": "server",
        "name": "Home Assistant",
        "version": 5,
        "addon": false,
        "rejectUnauthorizedCerts": false,
        "ha_boolean": "y|yes|true|on|home|open",
        "connectionDelay": true,
        "cacheJson": true,
        "heartbeat": true,
        "heartbeatInterval": "30",
        "areaSelector": "id",
        "deviceSelector": "id",
        "entitySelector": "id",
        "statusSeparator": "at: ",
        "statusYear": "hidden",
        "statusMonth": "short",
        "statusDay": "numeric",
        "statusHourCycle": "h23",
        "statusTimeFormat": "h:m",
        "enableGlobalContextStore": true
    },
    {
        "id": "8db70a2720a60b47",
        "type": "ha-entity-config",
        "server": "4ba92433.2478cc",
        "deviceConfig": "",
        "name": "custom_energy_returned_watt",
        "version": "6",
        "entityType": "sensor",
        "haConfig": [
            {
                "property": "name",
                "value": "custom_energy_returned_watt"
            },
            {
                "property": "icon",
                "value": ""
            },
            {
                "property": "entity_picture",
                "value": ""
            },
            {
                "property": "entity_category",
                "value": ""
            },
            {
                "property": "device_class",
                "value": "power"
            },
            {
                "property": "unit_of_measurement",
                "value": "W"
            },
            {
                "property": "state_class",
                "value": "measurement"
            }
        ],
        "resend": false,
        "debugEnabled": false
    },
    {
        "id": "481b5f550ecd01da",
        "type": "ha-entity-config",
        "server": "4ba92433.2478cc",
        "deviceConfig": "",
        "name": "nvidia_shield_volume_maximum",
        "version": "6",
        "entityType": "binary_sensor",
        "haConfig": [
            {
                "property": "name",
                "value": "nvidia_shield_volume_maximum"
            },
            {
                "property": "icon",
                "value": ""
            },
            {
                "property": "entity_picture",
                "value": ""
            },
            {
                "property": "entity_category",
                "value": ""
            },
            {
                "property": "device_class",
                "value": ""
            }
        ],
        "resend": false,
        "debugEnabled": false
    },
    {
        "id": "7befa0b16196877c",
        "type": "ha-entity-config",
        "server": "4ba92433.2478cc",
        "deviceConfig": "",
        "name": "custom_energy",
        "version": "6",
        "entityType": "sensor",
        "haConfig": [
            {
                "property": "name",
                "value": "custom_energy"
            },
            {
                "property": "icon",
                "value": ""
            },
            {
                "property": "entity_picture",
                "value": ""
            },
            {
                "property": "entity_category",
                "value": ""
            },
            {
                "property": "device_class",
                "value": "power"
            },
            {
                "property": "unit_of_measurement",
                "value": "W"
            },
            {
                "property": "state_class",
                "value": ""
            }
        ],
        "resend": true,
        "debugEnabled": false
    },
    {
        "id": "334728918669134a",
        "type": "ha-entity-config",
        "server": "4ba92433.2478cc",
        "deviceConfig": "",
        "name": "tv_device",
        "version": "6",
        "entityType": "button",
        "haConfig": [
            {
                "property": "name",
                "value": "tv_device"
            },
            {
                "property": "icon",
                "value": ""
            },
            {
                "property": "entity_category",
                "value": ""
            },
            {
                "property": "entity_picture",
                "value": ""
            },
            {
                "property": "device_class",
                "value": ""
            }
        ],
        "resend": false,
        "debugEnabled": false
    },
    {
        "id": "bdbe52c.932a5b",
        "type": "ha-entity-config",
        "server": "4ba92433.2478cc",
        "deviceConfig": "",
        "name": "washing_machine",
        "version": "6",
        "entityType": "binary_sensor",
        "haConfig": [
            {
                "property": "name",
                "value": "washing_machine"
            },
            {
                "property": "icon",
                "value": "mdi:washing-machine"
            },
            {
                "property": "entity_category",
                "value": ""
            },
            {
                "property": "entity_picture",
                "value": ""
            },
            {
                "property": "device_class",
                "value": ""
            }
        ],
        "resend": true,
        "debugEnabled": false
    },
    {
        "id": "5051592a.7844e8",
        "type": "ha-entity-config",
        "server": "4ba92433.2478cc",
        "deviceConfig": "",
        "name": "outdoor_daylight",
        "version": "6",
        "entityType": "binary_sensor",
        "haConfig": [
            {
                "property": "name",
                "value": "outdoor_daylight"
            },
            {
                "property": "icon",
                "value": ""
            },
            {
                "property": "entity_picture",
                "value": ""
            },
            {
                "property": "entity_category",
                "value": ""
            },
            {
                "property": "device_class",
                "value": "light"
            }
        ],
        "resend": true,
        "debugEnabled": false
    },
    {
        "id": "2c5f48cef312ec68",
        "type": "ha-entity-config",
        "server": "4ba92433.2478cc",
        "deviceConfig": "",
        "name": "tumble_dryer",
        "version": "6",
        "entityType": "binary_sensor",
        "haConfig": [
            {
                "property": "name",
                "value": "tumble_dryer"
            },
            {
                "property": "icon",
                "value": ""
            },
            {
                "property": "entity_category",
                "value": ""
            },
            {
                "property": "entity_picture",
                "value": ""
            },
            {
                "property": "device_class",
                "value": ""
            }
        ],
        "resend": true,
        "debugEnabled": false
    },
    {
        "id": "4f12e052f2829473",
        "type": "ha-entity-config",
        "server": "4ba92433.2478cc",
        "deviceConfig": "",
        "name": "dishwasher",
        "version": "6",
        "entityType": "binary_sensor",
        "haConfig": [
            {
                "property": "name",
                "value": "dishwasher"
            },
            {
                "property": "icon",
                "value": ""
            },
            {
                "property": "entity_category",
                "value": ""
            },
            {
                "property": "entity_picture",
                "value": ""
            },
            {
                "property": "device_class",
                "value": ""
            }
        ],
        "resend": true,
        "debugEnabled": false
    },
    {
        "id": "60731eead34cfb6b",
        "type": "ha-entity-config",
        "server": "4ba92433.2478cc",
        "deviceConfig": "",
        "name": "weather_code_translated",
        "version": "6",
        "entityType": "sensor",
        "haConfig": [
            {
                "property": "name",
                "value": "weather_code_translated"
            },
            {
                "property": "icon",
                "value": ""
            },
            {
                "property": "entity_picture",
                "value": ""
            },
            {
                "property": "entity_category",
                "value": ""
            },
            {
                "property": "device_class",
                "value": ""
            },
            {
                "property": "unit_of_measurement",
                "value": ""
            },
            {
                "property": "state_class",
                "value": ""
            }
        ],
        "resend": false,
        "debugEnabled": false
    },
    {
        "id": "03547137a16812fd",
        "type": "ha-entity-config",
        "server": "4ba92433.2478cc",
        "deviceConfig": "",
        "name": "tv_device",
        "version": "6",
        "entityType": "binary_sensor",
        "haConfig": [
            {
                "property": "name",
                "value": "tv_device"
            },
            {
                "property": "icon",
                "value": ""
            },
            {
                "property": "entity_category",
                "value": ""
            },
            {
                "property": "entity_picture",
                "value": ""
            },
            {
                "property": "device_class",
                "value": ""
            }
        ],
        "resend": false,
        "debugEnabled": false
    },
    {
        "id": "3f4f99b6c043befd",
        "type": "ha-entity-config",
        "server": "4ba92433.2478cc",
        "deviceConfig": "",
        "name": "custom_energy_usage",
        "version": "6",
        "entityType": "sensor",
        "haConfig": [
            {
                "property": "name",
                "value": "custom_energy_usage"
            },
            {
                "property": "icon",
                "value": ""
            },
            {
                "property": "entity_picture",
                "value": ""
            },
            {
                "property": "entity_category",
                "value": ""
            },
            {
                "property": "device_class",
                "value": "power"
            },
            {
                "property": "unit_of_measurement",
                "value": "W"
            },
            {
                "property": "state_class",
                "value": ""
            }
        ],
        "resend": false,
        "debugEnabled": false
    },
    {
        "id": "dd558d37ebd87d72",
        "type": "ha-entity-config",
        "server": "4ba92433.2478cc",
        "deviceConfig": "",
        "name": "custom_weather_description_01",
        "version": "6",
        "entityType": "sensor",
        "haConfig": [
            {
                "property": "name",
                "value": "custom_weather_description_01"
            },
            {
                "property": "icon",
                "value": ""
            },
            {
                "property": "entity_picture",
                "value": ""
            },
            {
                "property": "entity_category",
                "value": ""
            },
            {
                "property": "device_class",
                "value": ""
            },
            {
                "property": "unit_of_measurement",
                "value": ""
            },
            {
                "property": "state_class",
                "value": ""
            }
        ],
        "resend": false,
        "debugEnabled": false
    },
    {
        "id": "129d3d14acdc46a3",
        "type": "ha-entity-config",
        "server": "4ba92433.2478cc",
        "deviceConfig": "",
        "name": "tv_screen",
        "version": 6,
        "entityType": "button",
        "haConfig": [
            {
                "property": "name",
                "value": "tv_screen"
            },
            {
                "property": "icon",
                "value": ""
            },
            {
                "property": "entity_picture",
                "value": ""
            },
            {
                "property": "entity_category",
                "value": ""
            },
            {
                "property": "device_class",
                "value": ""
            }
        ],
        "resend": false,
        "debugEnabled": false
    },
    {
        "id": "c839a731325b5f56",
        "type": "server-state-changed",
        "z": "9ea6eabfb34d96e0",
        "name": "persons not home",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "group.persons"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": false,
        "stateType": "str",
        "ifState": "not_home",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 110,
        "y": 60,
        "wires": [
            [
                "0a18bbcbd9c3cd6e"
            ],
            []
        ]
    },
    {
        "id": "13611d939983a048",
        "type": "server-state-changed",
        "z": "9ea6eabfb34d96e0",
        "name": "guest off",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "input_boolean.guest"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": false,
        "stateType": "str",
        "ifState": "off",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 80,
        "y": 120,
        "wires": [
            [
                "8457dd663492ca8d"
            ],
            []
        ]
    },
    {
        "id": "0a18bbcbd9c3cd6e",
        "type": "api-current-state",
        "z": "9ea6eabfb34d96e0",
        "name": "guest is off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.guest",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 330,
        "y": 60,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "8457dd663492ca8d",
        "type": "api-current-state",
        "z": "9ea6eabfb34d96e0",
        "name": "persons is not home",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "not_home",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "group.persons",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 360,
        "y": 120,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "07f9079090a2fa11",
        "type": "server-state-changed",
        "z": "9ea6eabfb34d96e0",
        "name": "vacation mode",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 1,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "input_boolean.vacation_mode"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": false,
        "stateType": "str",
        "ifState": "",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 100,
        "y": 180,
        "wires": [
            [
                "2f107cf36e1ce40b"
            ]
        ]
    },
    {
        "id": "d98bd908eae51ad8",
        "type": "comment",
        "z": "9ea6eabfb34d96e0",
        "name": "trigger when last person have left home or guest mode turned off and no person is home",
        "info": "",
        "x": 320,
        "y": 20,
        "wires": []
    },
    {
        "id": "2f107cf36e1ce40b",
        "type": "api-current-state",
        "z": "9ea6eabfb34d96e0",
        "name": "guest is off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.guest",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 330,
        "y": 180,
        "wires": [
            [
                "cd959f601e0454e3"
            ],
            []
        ]
    },
    {
        "id": "cd959f601e0454e3",
        "type": "api-current-state",
        "z": "9ea6eabfb34d96e0",
        "name": "persons is not home",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "not_home",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "group.persons",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 520,
        "y": 180,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "4aae8060dce8db6a",
        "type": "server-state-changed",
        "z": "ad57f56dd92dd9d6",
        "name": "state persons home",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "group.persons"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": false,
        "stateType": "str",
        "ifState": "home",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": false,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 110,
        "y": 80,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "e0e3382abbd19287",
        "type": "server-state-changed",
        "z": "ad57f56dd92dd9d6",
        "name": "state guest",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "input_boolean.guest"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": false,
        "stateType": "str",
        "ifState": "on",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 80,
        "y": 140,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "2ac49fdc8e2a24c8",
        "type": "server-state-changed",
        "z": "ad57f56dd92dd9d6",
        "name": "vacation mode",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 1,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "input_boolean.vacation_mode"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": false,
        "stateType": "str",
        "ifState": "",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 100,
        "y": 200,
        "wires": [
            [
                "13c4015f5c406ece",
                "edc3bf6451d1af22"
            ]
        ]
    },
    {
        "id": "edc3bf6451d1af22",
        "type": "api-current-state",
        "z": "ad57f56dd92dd9d6",
        "name": "persons is home",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "home",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "group.persons",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 320,
        "y": 220,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "13c4015f5c406ece",
        "type": "api-current-state",
        "z": "ad57f56dd92dd9d6",
        "name": "guest is on",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.guest",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 310,
        "y": 180,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "8e63cc4b63304a7e",
        "type": "comment",
        "z": "ad57f56dd92dd9d6",
        "name": "trigger when a person or persons are home or guest mode turned on",
        "info": "",
        "x": 260,
        "y": 20,
        "wires": []
    },
    {
        "id": "6b09385c6ff633f3",
        "type": "api-current-state",
        "z": "ad57f56dd92dd9d6",
        "name": "state person anne home",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "home",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "person.anne",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 370,
        "y": 280,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "7b6f11b9db15bc63",
        "type": "server-state-changed",
        "z": "ad57f56dd92dd9d6",
        "name": "state person coen home",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "person.coen"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": false,
        "stateType": "str",
        "ifState": "home",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 120,
        "y": 280,
        "wires": [
            [
                "6b09385c6ff633f3"
            ],
            []
        ]
    },
    {
        "id": "a256a145f7984f9a",
        "type": "api-current-state",
        "z": "ad57f56dd92dd9d6",
        "name": "state person coen home",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "home",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "person.coen",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 370,
        "y": 340,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "4898f23a9f8288bd",
        "type": "server-state-changed",
        "z": "ad57f56dd92dd9d6",
        "name": "state person anne home",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "person.anne"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": false,
        "stateType": "str",
        "ifState": "home",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 130,
        "y": 340,
        "wires": [
            [
                "a256a145f7984f9a"
            ],
            []
        ]
    },
    {
        "id": "08635f01044b925c",
        "type": "switch",
        "z": "60fb1216c78ea01b",
        "name": "uptime is above 1 min",
        "property": "data.timeSinceChangedMs",
        "propertyType": "msg",
        "rules": [
            {
                "t": "gt",
                "v": "60000",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 320,
        "y": 80,
        "wires": [
            []
        ]
    },
    {
        "id": "076e08fc693e71ac",
        "type": "api-current-state",
        "z": "60fb1216c78ea01b",
        "name": "uptime",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 1,
        "halt_if": "",
        "halt_if_type": "num",
        "halt_if_compare": "is",
        "entity_id": "sensor.uptime",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 150,
        "y": 80,
        "wires": [
            [
                "08635f01044b925c"
            ]
        ]
    },
    {
        "id": "56e8236b1fb323bc",
        "type": "template",
        "z": "75537afd17de5117",
        "g": "ef69ec82c772cad9",
        "name": "tag",
        "field": "notify.tag",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "picnic",
        "output": "str",
        "x": 1810,
        "y": 540,
        "wires": [
            [
                "64fb1dffb9145f24"
            ]
        ]
    },
    {
        "id": "64fb1dffb9145f24",
        "type": "join",
        "z": "75537afd17de5117",
        "g": "ef69ec82c772cad9",
        "name": "",
        "mode": "custom",
        "build": "merged",
        "property": "notify",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "useparts": true,
        "accumulate": false,
        "timeout": "",
        "count": "4",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 1970,
        "y": 500,
        "wires": [
            [
                "c32738f7b2c8ece5"
            ]
        ]
    },
    {
        "id": "c32738f7b2c8ece5",
        "type": "link out",
        "z": "75537afd17de5117",
        "g": "ef69ec82c772cad9",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 2055,
        "y": 500,
        "wires": []
    },
    {
        "id": "4b6f2391d1d4dfb7",
        "type": "template",
        "z": "75537afd17de5117",
        "g": "ef69ec82c772cad9",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Picnic",
        "output": "str",
        "x": 1810,
        "y": 460,
        "wires": [
            [
                "64fb1dffb9145f24"
            ]
        ]
    },
    {
        "id": "644d8e4f0164cfb2",
        "type": "template",
        "z": "75537afd17de5117",
        "g": "ef69ec82c772cad9",
        "name": "icon",
        "field": "notify.icon",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "mdi:cart-variant",
        "output": "str",
        "x": 1810,
        "y": 500,
        "wires": [
            [
                "64fb1dffb9145f24"
            ]
        ]
    },
    {
        "id": "77d3e073983d7d6a",
        "type": "template",
        "z": "75537afd17de5117",
        "name": "topic",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "picnic",
        "output": "str",
        "x": 1770,
        "y": 300,
        "wires": [
            [
                "85ec3596d3fd73bd"
            ]
        ]
    },
    {
        "id": "14470f4c11802ac6",
        "type": "template",
        "z": "75537afd17de5117",
        "name": "secondary information",
        "field": "secondary_information",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Tussen {{payload.start.mytime}} en {{payload.end.mytime}} staat Picnic voor de deur",
        "output": "str",
        "x": 1480,
        "y": 260,
        "wires": [
            [
                "41d0860dc5097d38"
            ]
        ]
    },
    {
        "id": "41d0860dc5097d38",
        "type": "template",
        "z": "75537afd17de5117",
        "name": "primary information",
        "field": "primary_information",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Picnic",
        "output": "str",
        "x": 1810,
        "y": 260,
        "wires": [
            [
                "77d3e073983d7d6a"
            ]
        ]
    },
    {
        "id": "85ec3596d3fd73bd",
        "type": "template",
        "z": "75537afd17de5117",
        "name": "notification_level",
        "field": "notification_level",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "info",
        "output": "str",
        "x": 1810,
        "y": 340,
        "wires": [
            [
                "2dbb9134617a5402"
            ]
        ]
    },
    {
        "id": "2dbb9134617a5402",
        "type": "change",
        "z": "75537afd17de5117",
        "name": "set icon",
        "rules": [
            {
                "t": "set",
                "p": "icon",
                "pt": "msg",
                "to": "mdi:cart-variant",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1780,
        "y": 380,
        "wires": [
            [
                "44a15e4a3bd02612"
            ]
        ]
    },
    {
        "id": "b6a5a8fb06e323fe",
        "type": "change",
        "z": "75537afd17de5117",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "date",
                "pt": "msg",
                "to": "picnic_next_delivery_eta_start",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 490,
        "y": 260,
        "wires": [
            [
                "a80e12ba7e06011c"
            ]
        ]
    },
    {
        "id": "20a55376db0798a4",
        "type": "change",
        "z": "75537afd17de5117",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "date",
                "pt": "msg",
                "to": "picnic_next_delivery_eta_end",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 490,
        "y": 320,
        "wires": [
            [
                "fbfa1f7bfdf77af6"
            ]
        ]
    },
    {
        "id": "0c7a8318641234b3",
        "type": "join",
        "z": "75537afd17de5117",
        "name": "",
        "mode": "custom",
        "build": "merged",
        "property": "payload",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": true,
        "timeout": "",
        "count": "2",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 1070,
        "y": 260,
        "wires": [
            [
                "14470f4c11802ac6",
                "7d1ac466c12890de"
            ]
        ]
    },
    {
        "id": "2c31a96255251568",
        "type": "function",
        "z": "75537afd17de5117",
        "name": "Add time objects to payload",
        "func": "msg.payload = {}\nmsg.payload.start = {}\n\nmsg.payload.start.mytime = msg.mytime\nmsg.payload.start.myymd = msg.myymd\n\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 860,
        "y": 260,
        "wires": [
            [
                "0c7a8318641234b3"
            ]
        ]
    },
    {
        "id": "e184490a36dc09a0",
        "type": "function",
        "z": "75537afd17de5117",
        "name": "Add time objects to payload",
        "func": "msg.payload = {}\nmsg.payload.end = {}\n\nmsg.payload.end.mytime = msg.mytime\nmsg.payload.end.myymd = msg.myymd\n\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 860,
        "y": 320,
        "wires": [
            [
                "0c7a8318641234b3"
            ]
        ]
    },
    {
        "id": "c13d90e2be19e58b",
        "type": "comment",
        "z": "75537afd17de5117",
        "name": "picnic delivery notification",
        "info": "",
        "x": 130,
        "y": 20,
        "wires": []
    },
    {
        "id": "44a15e4a3bd02612",
        "type": "link out",
        "z": "75537afd17de5117",
        "name": "notification",
        "mode": "link",
        "links": [],
        "x": 2025,
        "y": 380,
        "wires": []
    },
    {
        "id": "d30994bbcaef5d1d",
        "type": "inject",
        "z": "75537afd17de5117",
        "name": "",
        "props": [
            {
                "p": "current_time",
                "v": "",
                "vt": "date"
            }
        ],
        "repeat": "300",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "x": 90,
        "y": 460,
        "wires": [
            [
                "c0aa77e2e5285d4b",
                "8aa5f383b3e9b3bf"
            ]
        ]
    },
    {
        "id": "f25a03c4b847f93d",
        "type": "change",
        "z": "75537afd17de5117",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "date",
                "pt": "msg",
                "to": "picnic_next_delivery_eta_start",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 490,
        "y": 460,
        "wires": [
            [
                "251cb434406b8b6e"
            ]
        ]
    },
    {
        "id": "fdbf3117f80f9c85",
        "type": "change",
        "z": "75537afd17de5117",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "date",
                "pt": "msg",
                "to": "picnic_next_delivery_eta_end",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 490,
        "y": 520,
        "wires": [
            [
                "07d9505862e9b884"
            ]
        ]
    },
    {
        "id": "e86d6d6bfba6bc21",
        "type": "function",
        "z": "75537afd17de5117",
        "name": "Add time objects to payload",
        "func": "msg.payload = {}\nmsg.payload.start = {}\n\nmsg.payload.start.mytime = msg.mytime\nmsg.payload.start.myymd = msg.myymd\nmsg.payload.start.myepoch = msg.myepoch\n\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 860,
        "y": 460,
        "wires": [
            [
                "42cffd05b63d3293"
            ]
        ]
    },
    {
        "id": "5739b7e57c824256",
        "type": "function",
        "z": "75537afd17de5117",
        "name": "Add time objects to payload",
        "func": "msg.payload = {}\nmsg.payload.end = {}\n\nmsg.payload.end.mytime = msg.mytime\nmsg.payload.end.myymd = msg.myymd\n\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 860,
        "y": 520,
        "wires": [
            [
                "42cffd05b63d3293"
            ]
        ]
    },
    {
        "id": "42cffd05b63d3293",
        "type": "join",
        "z": "75537afd17de5117",
        "name": "",
        "mode": "custom",
        "build": "merged",
        "property": "payload",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": true,
        "timeout": "",
        "count": "2",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 1070,
        "y": 460,
        "wires": [
            [
                "4448bf9259b57d76"
            ]
        ]
    },
    {
        "id": "4448bf9259b57d76",
        "type": "switch",
        "z": "75537afd17de5117",
        "name": "",
        "property": "current_time",
        "propertyType": "msg",
        "rules": [
            {
                "t": "gt",
                "v": "myepoch",
                "vt": "msg"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1190,
        "y": 460,
        "wires": [
            [
                "ee81f033c7bc9f0f"
            ]
        ]
    },
    {
        "id": "ee81f033c7bc9f0f",
        "type": "rbe",
        "z": "75537afd17de5117",
        "name": "",
        "func": "rbe",
        "gap": "",
        "start": "",
        "inout": "out",
        "septopics": true,
        "property": "payload",
        "topi": "topic",
        "x": 1310,
        "y": 460,
        "wires": [
            [
                "b3a5d188e65ecafd",
                "a6ef62b554d3aac7"
            ]
        ]
    },
    {
        "id": "7d1ac466c12890de",
        "type": "template",
        "z": "75537afd17de5117",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Tussen {{payload.start.mytime}} en {{payload.end.mytime}} staat Picnic voor de deur",
        "output": "str",
        "x": 1520,
        "y": 300,
        "wires": [
            [
                "5cb88a741e06d0c9"
            ]
        ]
    },
    {
        "id": "b3a5d188e65ecafd",
        "type": "template",
        "z": "75537afd17de5117",
        "name": "secondary information",
        "field": "secondary_information",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Picnic staat bijna voor de deur. Tussen {{payload.start.mytime}} en {{payload.end.mytime}}.",
        "output": "str",
        "x": 1500,
        "y": 460,
        "wires": [
            [
                "41d0860dc5097d38"
            ]
        ]
    },
    {
        "id": "a6ef62b554d3aac7",
        "type": "template",
        "z": "75537afd17de5117",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Picnic staat bijna voor de deur. Tussen {{payload.start.mytime}} en {{payload.end.mytime}}.",
        "output": "str",
        "x": 1460,
        "y": 500,
        "wires": [
            [
                "5cb88a741e06d0c9"
            ]
        ]
    },
    {
        "id": "0f24449fc1a8bc78",
        "type": "comment",
        "z": "75537afd17de5117",
        "name": "Send a message once the start time has been known",
        "info": "",
        "x": 230,
        "y": 220,
        "wires": []
    },
    {
        "id": "e9481b54b8db081c",
        "type": "comment",
        "z": "75537afd17de5117",
        "name": "Send a message once the start time is above current time",
        "info": "",
        "x": 250,
        "y": 420,
        "wires": []
    },
    {
        "id": "967b0029e044c941",
        "type": "api-current-state",
        "z": "75537afd17de5117",
        "name": "picnic expected end delivery",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "unknown",
        "halt_if_type": "str",
        "halt_if_compare": "is_not",
        "entity_id": "sensor.picnic_expected_end_of_next_delivery",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "picnic_next_delivery_eta_end",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 160,
        "y": 320,
        "wires": [
            [
                "20a55376db0798a4"
            ],
            []
        ]
    },
    {
        "id": "c0aa77e2e5285d4b",
        "type": "api-current-state",
        "z": "75537afd17de5117",
        "name": "start datetime next delivery",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "unknown",
        "halt_if_type": "str",
        "halt_if_compare": "is_not",
        "entity_id": "sensor.picnic_expected_start_of_next_delivery",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "picnic_next_delivery_eta_start",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 280,
        "y": 460,
        "wires": [
            [
                "f25a03c4b847f93d"
            ],
            []
        ]
    },
    {
        "id": "8aa5f383b3e9b3bf",
        "type": "api-current-state",
        "z": "75537afd17de5117",
        "name": "end datetime next delivery",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "unknown",
        "halt_if_type": "str",
        "halt_if_compare": "is_not",
        "entity_id": "sensor.picnic_expected_end_of_next_delivery",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "picnic_next_delivery_eta_end",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 270,
        "y": 520,
        "wires": [
            [
                "fdbf3117f80f9c85"
            ],
            []
        ]
    },
    {
        "id": "c894705717c745bf",
        "type": "server-state-changed",
        "z": "75537afd17de5117",
        "name": "start datetime next delivery",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 1,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "sensor.picnic_expected_start_of_next_delivery"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": true,
        "stateType": "str",
        "ifState": "",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "picnic_next_delivery_eta_start",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            }
        ],
        "x": 150,
        "y": 260,
        "wires": [
            [
                "b6a5a8fb06e323fe",
                "967b0029e044c941"
            ]
        ]
    },
    {
        "id": "a80e12ba7e06011c",
        "type": "simpletime",
        "z": "75537afd17de5117",
        "name": "",
        "mydate": true,
        "myymd": true,
        "myyear": true,
        "mymonth": true,
        "mymonthn": true,
        "mymonthf": true,
        "mydom": true,
        "mydoy": true,
        "myday": true,
        "mydayf": true,
        "myhourpm": true,
        "myhour": true,
        "mytime": true,
        "mytimes": true,
        "myminute": true,
        "myminutes": true,
        "mysecond": true,
        "mymillis": true,
        "myepoch": true,
        "myrawdate": true,
        "mypm": true,
        "x": 650,
        "y": 260,
        "wires": [
            [
                "2c31a96255251568"
            ]
        ]
    },
    {
        "id": "fbfa1f7bfdf77af6",
        "type": "simpletime",
        "z": "75537afd17de5117",
        "name": "",
        "mydate": true,
        "myymd": true,
        "myyear": true,
        "mymonth": true,
        "mymonthn": true,
        "mymonthf": true,
        "mydom": true,
        "mydoy": true,
        "myday": true,
        "mydayf": true,
        "myhourpm": true,
        "myhour": true,
        "mytime": true,
        "mytimes": true,
        "myminute": true,
        "myminutes": true,
        "mysecond": true,
        "mymillis": true,
        "myepoch": true,
        "myrawdate": true,
        "mypm": true,
        "x": 650,
        "y": 320,
        "wires": [
            [
                "e184490a36dc09a0"
            ]
        ]
    },
    {
        "id": "251cb434406b8b6e",
        "type": "simpletime",
        "z": "75537afd17de5117",
        "name": "",
        "mydate": true,
        "myymd": true,
        "myyear": true,
        "mymonth": true,
        "mymonthn": true,
        "mymonthf": true,
        "mydom": true,
        "mydoy": true,
        "myday": true,
        "mydayf": true,
        "myhourpm": true,
        "myhour": true,
        "mytime": true,
        "mytimes": true,
        "myminute": true,
        "myminutes": true,
        "mysecond": true,
        "mymillis": true,
        "myepoch": true,
        "myrawdate": true,
        "mypm": true,
        "x": 650,
        "y": 460,
        "wires": [
            [
                "e86d6d6bfba6bc21"
            ]
        ]
    },
    {
        "id": "07d9505862e9b884",
        "type": "simpletime",
        "z": "75537afd17de5117",
        "name": "",
        "mydate": true,
        "myymd": true,
        "myyear": true,
        "mymonth": true,
        "mymonthn": true,
        "mymonthf": true,
        "mydom": true,
        "mydoy": true,
        "myday": true,
        "mydayf": true,
        "myhourpm": true,
        "myhour": true,
        "mytime": true,
        "mytimes": true,
        "myminute": true,
        "myminutes": true,
        "mysecond": true,
        "mymillis": true,
        "myepoch": true,
        "myrawdate": true,
        "mypm": true,
        "x": 650,
        "y": 520,
        "wires": [
            [
                "5739b7e57c824256"
            ]
        ]
    },
    {
        "id": "08e87e585225cf76",
        "type": "catch",
        "z": "75537afd17de5117",
        "g": "8b3123563ca26288",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "850de025f821d110"
            ]
        ]
    },
    {
        "id": "850de025f821d110",
        "type": "template",
        "z": "75537afd17de5117",
        "g": "8b3123563ca26288",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "34627360e59b2422"
            ]
        ]
    },
    {
        "id": "a1d22443632b6c95",
        "type": "link out",
        "z": "75537afd17de5117",
        "g": "8b3123563ca26288",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 475,
        "y": 80,
        "wires": []
    },
    {
        "id": "34627360e59b2422",
        "type": "template",
        "z": "75537afd17de5117",
        "g": "8b3123563ca26288",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "a1d22443632b6c95"
            ]
        ]
    },
    {
        "id": "4e3d7d7dc062d5f4",
        "type": "comment",
        "z": "1adcdebcdc8e5c39",
        "name": "Set all climate graph input selects to certain input",
        "info": "",
        "x": 200,
        "y": 20,
        "wires": []
    },
    {
        "id": "caa9c954adc5c425",
        "type": "api-call-service",
        "z": "1adcdebcdc8e5c39",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "input_select.select_option",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "{{payload.entity_id}}"
        ],
        "labelId": [],
        "data": "{\"option\":\"{{data.new_state.attributes.friendly_name}}\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "input_select",
        "service": "select_option",
        "x": 630,
        "y": 160,
        "wires": [
            []
        ]
    },
    {
        "id": "a06f052e713de33d",
        "type": "server-state-changed",
        "z": "1adcdebcdc8e5c39",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 1,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [],
            "substring": [],
            "regex": [
                "input_button.climate_graph"
            ]
        },
        "outputInitially": false,
        "stateType": "str",
        "ifState": "",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 180,
        "y": 160,
        "wires": [
            [
                "6c70289470244d20"
            ]
        ]
    },
    {
        "id": "6c70289470244d20",
        "type": "ha-get-entities",
        "z": "1adcdebcdc8e5c39",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 1,
        "rules": [
            {
                "condition": "state_object",
                "property": "entity_id",
                "logic": "is",
                "value": "input_select.climate_graph_*",
                "valueType": "re"
            }
        ],
        "outputType": "split",
        "outputEmptyResults": false,
        "outputLocationType": "msg",
        "outputLocation": "payload",
        "outputResultsCount": 1,
        "x": 430,
        "y": 160,
        "wires": [
            [
                "caa9c954adc5c425"
            ]
        ]
    },
    {
        "id": "13ec4212aa6c7097",
        "type": "catch",
        "z": "1adcdebcdc8e5c39",
        "g": "8ba9bcbdc999fc66",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "2d9839edb5b18080"
            ]
        ]
    },
    {
        "id": "2d9839edb5b18080",
        "type": "template",
        "z": "1adcdebcdc8e5c39",
        "g": "8ba9bcbdc999fc66",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "0df371a631a420f1"
            ]
        ]
    },
    {
        "id": "37d1e62a237418c8",
        "type": "link out",
        "z": "1adcdebcdc8e5c39",
        "g": "8ba9bcbdc999fc66",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 675,
        "y": 80,
        "wires": []
    },
    {
        "id": "0df371a631a420f1",
        "type": "template",
        "z": "1adcdebcdc8e5c39",
        "g": "8ba9bcbdc999fc66",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "9f7cae83c633220f"
            ]
        ]
    },
    {
        "id": "9f7cae83c633220f",
        "type": "function",
        "z": "1adcdebcdc8e5c39",
        "g": "8ba9bcbdc999fc66",
        "name": "notify.notification_id",
        "func": "msg.notify.notification_id = Date.now().toString(36) + Math.random().toString(36);\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 550,
        "y": 80,
        "wires": [
            [
                "37d1e62a237418c8"
            ]
        ]
    },
    {
        "id": "230e59e20b2e25d8",
        "type": "ha-sentence",
        "z": "5b957aaa34cab814",
        "name": "change device volume",
        "server": "4ba92433.2478cc",
        "version": 2,
        "inputs": 0,
        "outputs": 1,
        "exposeAsEntityConfig": "",
        "mode": "trigger",
        "sentences": [
            "turn [the] {device} volume {volume_direction} with {volume} [percent]",
            "(set|change) {device} volume to {volume} [percent]",
            "turn [the] {device} volume {volume_direction}",
            "turn {volume_direction} [the] {device} volume",
            "turn {volume_direction} [the] {device}"
        ],
        "response": "",
        "responseType": "str",
        "triggerResponse": "",
        "triggerResponseType": "dynamic",
        "responseTimeout": 1000,
        "outputProperties": [
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            },
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "results"
            }
        ],
        "x": 140,
        "y": 540,
        "wires": [
            [
                "415cd44ddc7b18c5"
            ]
        ]
    },
    {
        "id": "415cd44ddc7b18c5",
        "type": "switch",
        "z": "5b957aaa34cab814",
        "name": "device",
        "property": "payload.entities.device.value",
        "propertyType": "msg",
        "rules": [
            {
                "t": "regex",
                "v": "tv",
                "vt": "str",
                "case": true
            },
            {
                "t": "regex",
                "v": "music",
                "vt": "str",
                "case": true
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 310,
        "y": 540,
        "wires": [
            [
                "bd9d99e5c6eb1b54"
            ],
            [
                "b813b74193ab27fc"
            ]
        ]
    },
    {
        "id": "bd9d99e5c6eb1b54",
        "type": "api-current-state",
        "z": "5b957aaa34cab814",
        "name": "shield state",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 1,
        "halt_if": "",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "media_player.android_tv_shield_lan_stamx_nl",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "media_player_shield_state",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "media_player_shield_data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 470,
        "y": 480,
        "wires": [
            [
                "f5b5f685345544c7"
            ]
        ]
    },
    {
        "id": "bf7bbf6679459fb7",
        "type": "switch",
        "z": "5b957aaa34cab814",
        "name": "shield is on / off",
        "property": "media_player_shield_state",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "off",
                "vt": "str"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1200,
        "y": 520,
        "wires": [
            [
                "a44e085350d02097"
            ],
            [
                "f90ea1aecb8b0ef4"
            ]
        ]
    },
    {
        "id": "a44e085350d02097",
        "type": "template",
        "z": "5b957aaa34cab814",
        "name": "response",
        "field": "payload.response",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Can't change the {{media_player_shield_data.attributes.friendly_name}} volume, the device is {{media_player_shield_state}}.",
        "output": "str",
        "x": 1400,
        "y": 440,
        "wires": [
            [
                "03cabd6d8889f1ad"
            ]
        ]
    },
    {
        "id": "baefe1afbb082442",
        "type": "catch",
        "z": "5b957aaa34cab814",
        "g": "f75da396da61e265",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "09922b4a1abc6861"
            ]
        ]
    },
    {
        "id": "09922b4a1abc6861",
        "type": "template",
        "z": "5b957aaa34cab814",
        "g": "f75da396da61e265",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "4375bd61cef9b591"
            ]
        ]
    },
    {
        "id": "2978274f7f9728d8",
        "type": "link out",
        "z": "5b957aaa34cab814",
        "g": "f75da396da61e265",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 675,
        "y": 80,
        "wires": []
    },
    {
        "id": "4375bd61cef9b591",
        "type": "template",
        "z": "5b957aaa34cab814",
        "g": "f75da396da61e265",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "778f51a4da22adf6"
            ]
        ]
    },
    {
        "id": "778f51a4da22adf6",
        "type": "function",
        "z": "5b957aaa34cab814",
        "g": "f75da396da61e265",
        "name": "notify.notification_id",
        "func": "msg.notify.notification_id = Date.now().toString(36) + Math.random().toString(36);\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 550,
        "y": 80,
        "wires": [
            [
                "2978274f7f9728d8"
            ]
        ]
    },
    {
        "id": "5bbdf7bfad596ed8",
        "type": "comment",
        "z": "5b957aaa34cab814",
        "name": "change volume of media device based on assist input",
        "info": "",
        "x": 220,
        "y": 20,
        "wires": []
    },
    {
        "id": "1cc091482e12a183",
        "type": "template",
        "z": "5b957aaa34cab814",
        "name": "response",
        "field": "payload.response",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "{{media_player_powernode_data.attributes.friendly_name}} volume changed to {{target_volume_level_percent}}%",
        "output": "str",
        "x": 2880,
        "y": 700,
        "wires": [
            [
                "3622510742842b73"
            ]
        ]
    },
    {
        "id": "f90ea1aecb8b0ef4",
        "type": "switch",
        "z": "5b957aaa34cab814",
        "name": "volume percent",
        "property": "payload.entities.volume.value",
        "propertyType": "msg",
        "rules": [
            {
                "t": "null"
            },
            {
                "t": "empty"
            },
            {
                "t": "btwn",
                "v": "0",
                "vt": "num",
                "v2": "100",
                "v2t": "num"
            },
            {
                "t": "gt",
                "v": "100",
                "vt": "num"
            },
            {
                "t": "lt",
                "v": "0",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 5,
        "x": 1420,
        "y": 760,
        "wires": [
            [
                "2f4e9a16fc8c451d"
            ],
            [
                "2f4e9a16fc8c451d"
            ],
            [
                "97cec346a1ed7d0f"
            ],
            [
                "aed1eedec1168622"
            ],
            [
                "aed1eedec1168622"
            ]
        ]
    },
    {
        "id": "ba2f429814c2cc9c",
        "type": "switch",
        "z": "5b957aaa34cab814",
        "name": "up or down",
        "property": "payload.entities.volume_direction.value",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "up",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "down",
                "vt": "str"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 3,
        "x": 2150,
        "y": 720,
        "wires": [
            [
                "abc282949e4958ec"
            ],
            [
                "a7d53181d5a29e92"
            ],
            [
                "580d9e68cfd52773",
                "43a2b35489b92f3b"
            ]
        ]
    },
    {
        "id": "f5b5f685345544c7",
        "type": "api-current-state",
        "z": "5b957aaa34cab814",
        "name": "powernode state",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 1,
        "halt_if": "",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "media_player.powernode_2i_ea48",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "media_player_powernode_state",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "media_player_powernode_data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 650,
        "y": 520,
        "wires": [
            [
                "bf7bbf6679459fb7"
            ]
        ]
    },
    {
        "id": "97cec346a1ed7d0f",
        "type": "switch",
        "z": "5b957aaa34cab814",
        "name": "shield current volume",
        "property": "media_player_shield_data.attributes.volume_level",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            },
            {
                "t": "lt",
                "v": "1",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1880,
        "y": 760,
        "wires": [
            [
                "ba2f429814c2cc9c"
            ],
            [
                "62139640f62bf2ba"
            ]
        ]
    },
    {
        "id": "62139640f62bf2ba",
        "type": "switch",
        "z": "5b957aaa34cab814",
        "name": "up or down",
        "property": "payload.entities.volume_direction.value",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "up",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "down",
                "vt": "str"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 3,
        "x": 2150,
        "y": 960,
        "wires": [
            [
                "04615f8b33a40e00"
            ],
            [
                "7f8b9e836271ea5e"
            ],
            [
                "580d9e68cfd52773",
                "43a2b35489b92f3b"
            ]
        ]
    },
    {
        "id": "04615f8b33a40e00",
        "type": "function",
        "z": "5b957aaa34cab814",
        "name": "target volume level",
        "func": "var input_volume = msg.payload.entities.volume.value / 100;\nvar current_volume = msg.media_player_shield_data.attributes.volume_level;\n\nmsg.target_volume_level = current_volume + input_volume;\n\n\nif (msg.target_volume_level > 1) {\n    msg.rest_volume = msg.target_volume_level - 1;\n    msg.target_volume_level = 1;\n} else {\n    msg.rest_volume = 0;\n}\n\nmsg.target_volume_level_percent = Math.floor(msg.target_volume_level * 100);\n\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2470,
        "y": 920,
        "wires": [
            [
                "ca0d9a7b39ac9cae"
            ]
        ]
    },
    {
        "id": "5e40e2790c85b0a9",
        "type": "switch",
        "z": "5b957aaa34cab814",
        "name": "",
        "property": "rest_volume",
        "propertyType": "msg",
        "rules": [
            {
                "t": "gt",
                "v": "0",
                "vt": "num"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 2830,
        "y": 920,
        "wires": [
            [
                "c0cf0c8e360ea04f"
            ],
            [
                "e95f296a2aae130c"
            ]
        ]
    },
    {
        "id": "c0cf0c8e360ea04f",
        "type": "function",
        "z": "5b957aaa34cab814",
        "name": "target volume level",
        "func": "var current_volume = msg.media_player_powernode_data.attributes.volume_level;\nvar input_volume = msg.rest_volume;\n\nmsg.target_volume_level = current_volume + input_volume;\n\nif (msg.target_volume_level > 1) {\n    msg.target_volume_level = 1;\n}\n\nmsg.target_volume_level_percent = Math.floor(msg.target_volume_level * 100);\n\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2990,
        "y": 900,
        "wires": [
            [
                "52d42868eef47f07"
            ]
        ]
    },
    {
        "id": "18389521989b5a81",
        "type": "api-call-service",
        "z": "5b957aaa34cab814",
        "name": "shield set volume",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "media_player.volume_set",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "{{media_player_shield_data.entity_id}}"
        ],
        "labelId": [],
        "data": "{\"volume_level\":\"{{target_volume_level}}\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": true,
        "domain": "media_player",
        "service": "volume_set",
        "x": 170,
        "y": 220,
        "wires": [
            [
                "6bde885e917887ee"
            ]
        ]
    },
    {
        "id": "67a954faf44b9aff",
        "type": "link in",
        "z": "5b957aaa34cab814",
        "name": "shield_set_volume",
        "links": [],
        "x": 45,
        "y": 220,
        "wires": [
            [
                "18389521989b5a81"
            ]
        ]
    },
    {
        "id": "ca0d9a7b39ac9cae",
        "type": "link call",
        "z": "5b957aaa34cab814",
        "name": "",
        "links": [
            "67a954faf44b9aff"
        ],
        "linkType": "static",
        "timeout": "30",
        "x": 2670,
        "y": 920,
        "wires": [
            [
                "5e40e2790c85b0a9",
                "ddc989e286721b31"
            ]
        ]
    },
    {
        "id": "6bde885e917887ee",
        "type": "link out",
        "z": "5b957aaa34cab814",
        "name": "shield_set_volume",
        "mode": "return",
        "links": [],
        "x": 315,
        "y": 220,
        "wires": []
    },
    {
        "id": "3353a55466a9284a",
        "type": "api-call-service",
        "z": "5b957aaa34cab814",
        "name": "powernode set volume",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "media_player.volume_set",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "{{media_player_powernode_data.entity_id}}"
        ],
        "labelId": [],
        "data": "{\"volume_level\":\"{{target_volume_level}}\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": true,
        "domain": "media_player",
        "service": "volume_set",
        "x": 180,
        "y": 280,
        "wires": [
            [
                "a54209a46e13e9db"
            ]
        ]
    },
    {
        "id": "99890ac5ed83af4a",
        "type": "link in",
        "z": "5b957aaa34cab814",
        "name": "powernode_set_volume",
        "links": [],
        "x": 45,
        "y": 280,
        "wires": [
            [
                "3353a55466a9284a"
            ]
        ]
    },
    {
        "id": "a54209a46e13e9db",
        "type": "link out",
        "z": "5b957aaa34cab814",
        "name": "powernode_set_volume",
        "mode": "return",
        "links": [],
        "x": 315,
        "y": 280,
        "wires": []
    },
    {
        "id": "52d42868eef47f07",
        "type": "link call",
        "z": "5b957aaa34cab814",
        "name": "",
        "links": [
            "99890ac5ed83af4a"
        ],
        "linkType": "static",
        "timeout": "30",
        "x": 3210,
        "y": 900,
        "wires": [
            [
                "b39e0c721c3d884d"
            ]
        ]
    },
    {
        "id": "e95f296a2aae130c",
        "type": "template",
        "z": "5b957aaa34cab814",
        "name": "response",
        "field": "payload.response",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "{{media_player_shield_data.attributes.friendly_name}} volume changed to {{target_volume_level_percent}}%",
        "output": "str",
        "x": 2960,
        "y": 960,
        "wires": [
            [
                "cbbf7d8ee92873fd"
            ]
        ]
    },
    {
        "id": "b39e0c721c3d884d",
        "type": "template",
        "z": "5b957aaa34cab814",
        "name": "response",
        "field": "payload.response",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "{{media_player_shield_data.attributes.friendly_name}} volume changed to 100% and {{media_player_powernode_data.attributes.friendly_name}} to {{target_volume_level_percent}}%",
        "output": "str",
        "x": 3380,
        "y": 640,
        "wires": [
            [
                "2a79884feefef294"
            ]
        ]
    },
    {
        "id": "4360d72b424baeb7",
        "type": "ha-sentence",
        "z": "5b957aaa34cab814",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 2,
        "inputs": 1,
        "outputs": 1,
        "exposeAsEntityConfig": "",
        "mode": "response",
        "sentences": [],
        "response": "payload",
        "responseType": "msg",
        "triggerResponse": "",
        "triggerResponseType": "fixed",
        "responseTimeout": 1000,
        "outputProperties": [],
        "x": 140,
        "y": 340,
        "wires": [
            [
                "b7d3a3449d4059d4",
                "e9f6b335f785d057"
            ]
        ]
    },
    {
        "id": "e9d1e328277a73b0",
        "type": "link in",
        "z": "5b957aaa34cab814",
        "name": "sentence_response",
        "links": [],
        "x": 45,
        "y": 340,
        "wires": [
            [
                "4360d72b424baeb7"
            ]
        ]
    },
    {
        "id": "b7d3a3449d4059d4",
        "type": "link out",
        "z": "5b957aaa34cab814",
        "name": "sentence_response",
        "mode": "return",
        "links": [],
        "x": 315,
        "y": 340,
        "wires": []
    },
    {
        "id": "79fc568576af4be8",
        "type": "link call",
        "z": "5b957aaa34cab814",
        "name": "",
        "links": [
            "e9d1e328277a73b0"
        ],
        "linkType": "static",
        "timeout": "30",
        "x": 1790,
        "y": 860,
        "wires": [
            []
        ]
    },
    {
        "id": "aed1eedec1168622",
        "type": "template",
        "z": "5b957aaa34cab814",
        "name": "response",
        "field": "payload.response",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Can't change the volume to {{payload.entities.volume.value}}%, please choose a percentage between the 0% and 100%..",
        "output": "str",
        "x": 1620,
        "y": 860,
        "wires": [
            [
                "79fc568576af4be8"
            ]
        ]
    },
    {
        "id": "e9f6b335f785d057",
        "type": "debug",
        "z": "5b957aaa34cab814",
        "name": "sentence_response",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 390,
        "y": 380,
        "wires": []
    },
    {
        "id": "03cabd6d8889f1ad",
        "type": "link call",
        "z": "5b957aaa34cab814",
        "name": "",
        "links": [
            "e9d1e328277a73b0"
        ],
        "linkType": "static",
        "timeout": "30",
        "x": 1570,
        "y": 440,
        "wires": [
            []
        ]
    },
    {
        "id": "cbbf7d8ee92873fd",
        "type": "link call",
        "z": "5b957aaa34cab814",
        "name": "",
        "links": [
            "e9d1e328277a73b0"
        ],
        "linkType": "static",
        "timeout": "30",
        "x": 3130,
        "y": 960,
        "wires": [
            []
        ]
    },
    {
        "id": "2a79884feefef294",
        "type": "link call",
        "z": "5b957aaa34cab814",
        "name": "",
        "links": [
            "e9d1e328277a73b0"
        ],
        "linkType": "static",
        "timeout": "30",
        "x": 3550,
        "y": 640,
        "wires": [
            []
        ]
    },
    {
        "id": "3622510742842b73",
        "type": "link call",
        "z": "5b957aaa34cab814",
        "name": "",
        "links": [
            "e9d1e328277a73b0"
        ],
        "linkType": "static",
        "timeout": "30",
        "x": 3050,
        "y": 700,
        "wires": [
            []
        ]
    },
    {
        "id": "7f8b9e836271ea5e",
        "type": "function",
        "z": "5b957aaa34cab814",
        "name": "target volume level",
        "func": "var input_volume = msg.payload.entities.volume.value / 100;\nvar current_volume = msg.media_player_shield_data.attributes.volume_level;\n\nmsg.target_volume_level = current_volume - input_volume;\n\n\nif (msg.target_volume_level < 0) {\n    msg.target_volume_level = 0;\n}\n\nmsg.target_volume_level_percent = Math.floor(msg.target_volume_level * 100);\n\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2470,
        "y": 960,
        "wires": [
            [
                "197d9fee1713658d"
            ]
        ]
    },
    {
        "id": "197d9fee1713658d",
        "type": "link call",
        "z": "5b957aaa34cab814",
        "name": "",
        "links": [
            "67a954faf44b9aff"
        ],
        "linkType": "static",
        "timeout": "30",
        "x": 2670,
        "y": 960,
        "wires": [
            [
                "e95f296a2aae130c"
            ]
        ]
    },
    {
        "id": "a7d53181d5a29e92",
        "type": "function",
        "z": "5b957aaa34cab814",
        "name": "target volume level",
        "func": "var input_volume = msg.payload.entities.volume.value / 100;\nvar current_volume = msg.media_player_shield_data.attributes.volume_level;\n\nmsg.target_volume_level = current_volume - input_volume;\n\n\nif (msg.target_volume_level < 0) {\n    msg.target_volume_level = 0;\n}\n\nmsg.target_volume_level_percent = Math.floor(msg.target_volume_level * 100);\n\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2470,
        "y": 740,
        "wires": [
            [
                "ab8c71549b9cde83"
            ]
        ]
    },
    {
        "id": "ab8c71549b9cde83",
        "type": "link call",
        "z": "5b957aaa34cab814",
        "name": "",
        "links": [
            "67a954faf44b9aff"
        ],
        "linkType": "static",
        "timeout": "30",
        "x": 2670,
        "y": 740,
        "wires": [
            [
                "e95f296a2aae130c"
            ]
        ]
    },
    {
        "id": "abc282949e4958ec",
        "type": "function",
        "z": "5b957aaa34cab814",
        "name": "target volume level",
        "func": "var current_volume = msg.media_player_powernode_data.attributes.volume_level;\nvar input_volume = msg.payload.entities.volume.value / 100;\n\nmsg.target_volume_level = current_volume + input_volume;\n\nif (msg.target_volume_level > 1) {\n    msg.target_volume_level = 1;\n}\n\nmsg.target_volume_level_percent = Math.floor(msg.target_volume_level * 100);\n\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2470,
        "y": 700,
        "wires": [
            [
                "895f5223a029d493"
            ]
        ]
    },
    {
        "id": "895f5223a029d493",
        "type": "link call",
        "z": "5b957aaa34cab814",
        "name": "",
        "links": [
            "99890ac5ed83af4a"
        ],
        "linkType": "static",
        "timeout": "30",
        "x": 2690,
        "y": 700,
        "wires": [
            [
                "1cc091482e12a183"
            ]
        ]
    },
    {
        "id": "580d9e68cfd52773",
        "type": "function",
        "z": "5b957aaa34cab814",
        "name": "target volume level",
        "func": "msg.target_volume_level = 1;\n\nmsg.target_volume_level_percent = Math.floor(msg.target_volume_level * 100);\n\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2470,
        "y": 820,
        "wires": [
            [
                "f80d23c219b768eb"
            ]
        ]
    },
    {
        "id": "f80d23c219b768eb",
        "type": "link call",
        "z": "5b957aaa34cab814",
        "name": "",
        "links": [
            "67a954faf44b9aff"
        ],
        "linkType": "static",
        "timeout": "30",
        "x": 2670,
        "y": 820,
        "wires": [
            []
        ]
    },
    {
        "id": "43a2b35489b92f3b",
        "type": "function",
        "z": "5b957aaa34cab814",
        "name": "target volume level",
        "func": "msg.target_volume_level = msg.payload.entities.volume.value / 100;\n\nif (msg.target_volume_level > 1) {\n    msg.target_volume_level = 1;\n}\n\nmsg.target_volume_level_percent = Math.floor(msg.target_volume_level * 100);\n\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2470,
        "y": 780,
        "wires": [
            [
                "f92e8c26e09fb0bc"
            ]
        ]
    },
    {
        "id": "f92e8c26e09fb0bc",
        "type": "link call",
        "z": "5b957aaa34cab814",
        "name": "",
        "links": [
            "99890ac5ed83af4a"
        ],
        "linkType": "static",
        "timeout": "30",
        "x": 2690,
        "y": 780,
        "wires": [
            [
                "d80cc8362bbf44ee"
            ]
        ]
    },
    {
        "id": "d80cc8362bbf44ee",
        "type": "template",
        "z": "5b957aaa34cab814",
        "name": "response",
        "field": "payload.response",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "{{media_player_powernode_data.attributes.friendly_name}} volume changed to {{target_volume_level_percent}}%",
        "output": "str",
        "x": 2880,
        "y": 780,
        "wires": [
            [
                "9cb7224bb686e632"
            ]
        ]
    },
    {
        "id": "9cb7224bb686e632",
        "type": "link call",
        "z": "5b957aaa34cab814",
        "name": "",
        "links": [
            "e9d1e328277a73b0"
        ],
        "linkType": "static",
        "timeout": "30",
        "x": 3050,
        "y": 780,
        "wires": [
            []
        ]
    },
    {
        "id": "2f4e9a16fc8c451d",
        "type": "change",
        "z": "5b957aaa34cab814",
        "name": "set default volume",
        "rules": [
            {
                "t": "set",
                "p": "payload.entities.volume.value",
                "pt": "msg",
                "to": "default_volume_step",
                "tot": "flow"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1650,
        "y": 700,
        "wires": [
            [
                "97cec346a1ed7d0f"
            ]
        ]
    },
    {
        "id": "ddc989e286721b31",
        "type": "debug",
        "z": "5b957aaa34cab814",
        "name": "debug 2",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 3020,
        "y": 840,
        "wires": []
    },
    {
        "id": "b71c3d46d8016e11",
        "type": "debug",
        "z": "5b957aaa34cab814",
        "name": "debug 3",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 900,
        "y": 1080,
        "wires": []
    },
    {
        "id": "a4a9f6515fb44ffc",
        "type": "api-current-state",
        "z": "5b957aaa34cab814",
        "name": "powernode state",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 1,
        "halt_if": "",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "media_player.powernode_2i_ea48",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "media_player_powernode_state",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "media_player_powernode_data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 170,
        "y": 160,
        "wires": [
            [
                "a26fad241511f789"
            ]
        ]
    },
    {
        "id": "10dab05f641a6c95",
        "type": "link in",
        "z": "5b957aaa34cab814",
        "name": "powernode state",
        "links": [],
        "x": 45,
        "y": 160,
        "wires": [
            [
                "a4a9f6515fb44ffc"
            ]
        ]
    },
    {
        "id": "a26fad241511f789",
        "type": "link out",
        "z": "5b957aaa34cab814",
        "name": "link out 1",
        "mode": "return",
        "links": [],
        "x": 315,
        "y": 160,
        "wires": []
    },
    {
        "id": "616c56a1e0f87df9",
        "type": "link call",
        "z": "5b957aaa34cab814",
        "name": "",
        "links": [
            "10dab05f641a6c95"
        ],
        "linkType": "static",
        "timeout": "30",
        "x": 330,
        "y": 1100,
        "wires": [
            [
                "470f5f8640ef9adb"
            ]
        ]
    },
    {
        "id": "1ca7da9e3a9b981e",
        "type": "switch",
        "z": "5b957aaa34cab814",
        "name": "content type",
        "property": "media_player_powernode_data.attributes.media_content_type",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "music",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 2150,
        "y": 660,
        "wires": [
            []
        ]
    },
    {
        "id": "470f5f8640ef9adb",
        "type": "switch",
        "z": "5b957aaa34cab814",
        "name": "powernode is playing",
        "property": "media_player_powernode_state",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "playing",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 540,
        "y": 1100,
        "wires": [
            [
                "5bdf91ac2987e22d"
            ]
        ]
    },
    {
        "id": "7ccec6eef56bb4ef",
        "type": "switch",
        "z": "5b957aaa34cab814",
        "name": "up or down",
        "property": "payload.entities.volume_direction.value",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "up",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "down",
                "vt": "str"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 3,
        "x": 2150,
        "y": 1120,
        "wires": [
            [],
            [],
            []
        ]
    },
    {
        "id": "2d3b8bbd42bc685b",
        "type": "function",
        "z": "5b957aaa34cab814",
        "name": "target volume level",
        "func": "var input_volume = msg.payload.entities.volume.value / 100;\nvar current_volume = msg.media_player_shield_data.attributes.volume_level;\n\nmsg.target_volume_level = current_volume - input_volume;\n\n\nif (msg.target_volume_level < 0) {\n    msg.target_volume_level = 0;\n}\n\nmsg.target_volume_level_percent = Math.floor(msg.target_volume_level * 100);\n\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2530,
        "y": 1120,
        "wires": [
            [
                "41aa11f96b1cedff"
            ]
        ]
    },
    {
        "id": "41aa11f96b1cedff",
        "type": "link call",
        "z": "5b957aaa34cab814",
        "name": "",
        "links": [
            "67a954faf44b9aff"
        ],
        "linkType": "static",
        "timeout": "30",
        "x": 2730,
        "y": 1120,
        "wires": [
            []
        ]
    },
    {
        "id": "5bdf91ac2987e22d",
        "type": "switch",
        "z": "5b957aaa34cab814",
        "name": "content type",
        "property": "media_player_powernode_data.attributes.media_content_type",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "music",
                "vt": "str"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 730,
        "y": 1100,
        "wires": [
            [
                "b71c3d46d8016e11"
            ],
            []
        ]
    },
    {
        "id": "724cbd8ed3ae18e8",
        "type": "ha-sentence",
        "z": "5b957aaa34cab814",
        "name": "change volume",
        "server": "4ba92433.2478cc",
        "version": 2,
        "inputs": 0,
        "outputs": 1,
        "exposeAsEntityConfig": "",
        "mode": "trigger",
        "sentences": [
            "turn {volume_direction} [the] volume"
        ],
        "response": "",
        "responseType": "str",
        "triggerResponse": "",
        "triggerResponseType": "dynamic",
        "responseTimeout": 1000,
        "outputProperties": [
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            },
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "results"
            }
        ],
        "x": 120,
        "y": 1100,
        "wires": [
            [
                "616c56a1e0f87df9"
            ]
        ]
    },
    {
        "id": "95038b18668a5c83",
        "type": "change",
        "z": "5b957aaa34cab814",
        "name": "set default volume",
        "rules": [
            {
                "t": "set",
                "p": "payload.entities.volume.value",
                "pt": "msg",
                "to": "4",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 950,
        "y": 1160,
        "wires": [
            []
        ]
    },
    {
        "id": "3fd6469d3be38b16",
        "type": "function",
        "z": "5b957aaa34cab814",
        "name": "default volume step on start",
        "func": "\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "// Code added here will be run once\n// whenever the node is started.\nflow.set(\"default_volume_step\", 4);",
        "finalize": "",
        "libs": [],
        "x": 160,
        "y": 440,
        "wires": [
            []
        ]
    },
    {
        "id": "39c74b61f3530174",
        "type": "comment",
        "z": "2b23c32f6263f8c7",
        "name": "change volume of media device based on assist input",
        "info": "",
        "x": 220,
        "y": 20,
        "wires": []
    },
    {
        "id": "ed43e3427066937c",
        "type": "catch",
        "z": "2b23c32f6263f8c7",
        "g": "4dc458809c7f0b0e",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "78507d1220da1132"
            ]
        ]
    },
    {
        "id": "78507d1220da1132",
        "type": "template",
        "z": "2b23c32f6263f8c7",
        "g": "4dc458809c7f0b0e",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 80,
        "wires": [
            [
                "b412897abc463b37"
            ]
        ]
    },
    {
        "id": "bf8e5653c2636930",
        "type": "link out",
        "z": "2b23c32f6263f8c7",
        "g": "4dc458809c7f0b0e",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 675,
        "y": 80,
        "wires": []
    },
    {
        "id": "b412897abc463b37",
        "type": "template",
        "z": "2b23c32f6263f8c7",
        "g": "4dc458809c7f0b0e",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "5a30badee0ae6770"
            ]
        ]
    },
    {
        "id": "5a30badee0ae6770",
        "type": "function",
        "z": "2b23c32f6263f8c7",
        "g": "4dc458809c7f0b0e",
        "name": "notify.notification_id",
        "func": "msg.notify.notification_id = Date.now().toString(36) + Math.random().toString(36);\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 550,
        "y": 80,
        "wires": [
            [
                "bf8e5653c2636930"
            ]
        ]
    },
    {
        "id": "a51189f8f249bbae",
        "type": "ha-sentence",
        "z": "2b23c32f6263f8c7",
        "name": "turn device on",
        "server": "4ba92433.2478cc",
        "version": 2,
        "inputs": 0,
        "outputs": 1,
        "exposeAsEntityConfig": "",
        "mode": "trigger",
        "sentences": [
            "turn on [the] {device}",
            "turn [the] {device} on"
        ],
        "response": "",
        "responseType": "str",
        "triggerResponse": "",
        "triggerResponseType": "dynamic",
        "responseTimeout": 1000,
        "outputProperties": [
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            },
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "results"
            }
        ],
        "x": 90,
        "y": 200,
        "wires": [
            [
                "2281c26605810126"
            ]
        ]
    },
    {
        "id": "f781dfa7e27179fb",
        "type": "api-call-service",
        "z": "2b23c32f6263f8c7",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "input_select.select_option",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_select.entertainment_activity"
        ],
        "labelId": [],
        "data": "{\"option\":\"{{select}}\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "input_select",
        "service": "select_option",
        "x": 670,
        "y": 200,
        "wires": [
            [
                "29eb5d857a83037f"
            ]
        ]
    },
    {
        "id": "c299956ca39475ed",
        "type": "function",
        "z": "2b23c32f6263f8c7",
        "name": "device regex",
        "func": "let device = String(msg.payload.entities.device.value).trim().toLowerCase();\n\nconst replacements = {\n    TV: \"tv|dv|television\",\n    Radio: \"radio\",\n    Muziek: \"music\"\n};\n\nfor (const [key, pattern] of Object.entries(replacements)) {\n    const regex = new RegExp(pattern, \"gi\");\n    if (regex.test(device)) {\n        msg.select = key;\n        break;\n    }\n}\n\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 470,
        "y": 200,
        "wires": [
            [
                "f781dfa7e27179fb"
            ]
        ]
    },
    {
        "id": "f8f2ca217e22bb4e",
        "type": "debug",
        "z": "2b23c32f6263f8c7",
        "name": "sentence_response",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 470,
        "y": 820,
        "wires": []
    },
    {
        "id": "29eb5d857a83037f",
        "type": "template",
        "z": "2b23c32f6263f8c7",
        "name": "response",
        "field": "payload.response",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "{{payload.entities.device.value}} has been turned {{desired_device_state}}",
        "output": "str",
        "x": 860,
        "y": 200,
        "wires": [
            [
                "540b1f77bf097316"
            ]
        ]
    },
    {
        "id": "2281c26605810126",
        "type": "change",
        "z": "2b23c32f6263f8c7",
        "name": "desired device state",
        "rules": [
            {
                "t": "set",
                "p": "desired_device_state",
                "pt": "msg",
                "to": "on",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 280,
        "y": 200,
        "wires": [
            [
                "c299956ca39475ed"
            ]
        ]
    },
    {
        "id": "6cd9595be1d393d8",
        "type": "api-call-service",
        "z": "2b23c32f6263f8c7",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "conversation.process",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [],
        "labelId": [],
        "data": "{\"text\":\"{{text}}\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": true,
        "domain": "conversation",
        "service": "process",
        "x": 380,
        "y": 600,
        "wires": [
            []
        ]
    },
    {
        "id": "2d54cb39a79e5002",
        "type": "inject",
        "z": "2b23c32f6263f8c7",
        "name": "turn the tv volume down",
        "props": [
            {
                "p": "text",
                "v": "turn on the tv",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 160,
        "y": 600,
        "wires": [
            [
                "6cd9595be1d393d8"
            ]
        ]
    },
    {
        "id": "d35ef2ba6c8fe0f5",
        "type": "ha-sentence",
        "z": "2b23c32f6263f8c7",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 2,
        "inputs": 1,
        "outputs": 1,
        "exposeAsEntityConfig": "",
        "mode": "response",
        "sentences": [],
        "response": "payload",
        "responseType": "msg",
        "triggerResponse": "",
        "triggerResponseType": "fixed",
        "responseTimeout": 1000,
        "outputProperties": [],
        "x": 140,
        "y": 360,
        "wires": [
            [
                "5465c681685de8e9",
                "96efa0cf39336657"
            ]
        ]
    },
    {
        "id": "83dc0762c99fb524",
        "type": "link in",
        "z": "2b23c32f6263f8c7",
        "name": "sentence_response",
        "links": [],
        "x": 45,
        "y": 360,
        "wires": [
            [
                "d35ef2ba6c8fe0f5"
            ]
        ]
    },
    {
        "id": "5465c681685de8e9",
        "type": "link out",
        "z": "2b23c32f6263f8c7",
        "name": "sentence_response",
        "mode": "return",
        "links": [],
        "x": 255,
        "y": 360,
        "wires": []
    },
    {
        "id": "96efa0cf39336657",
        "type": "debug",
        "z": "2b23c32f6263f8c7",
        "name": "sentence_response",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 330,
        "y": 420,
        "wires": []
    },
    {
        "id": "540b1f77bf097316",
        "type": "link call",
        "z": "2b23c32f6263f8c7",
        "name": "",
        "links": [
            "e9d1e328277a73b0"
        ],
        "linkType": "static",
        "timeout": "30",
        "x": 1030,
        "y": 200,
        "wires": [
            []
        ]
    },
    {
        "id": "85128ba5.bef108",
        "type": "inject",
        "z": "55da1471.fda0fc",
        "g": "288b7b694e69551c",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "00 02 * * *",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "02:00 Payload 'off'",
        "payloadType": "str",
        "x": 150,
        "y": 480,
        "wires": [
            [
                "68d2bab827c02e17"
            ]
        ]
    },
    {
        "id": "5f66a79ec51e1612",
        "type": "comment",
        "z": "55da1471.fda0fc",
        "g": "288b7b694e69551c",
        "name": "turn on auto cleaning",
        "info": "",
        "x": 140,
        "y": 440,
        "wires": []
    },
    {
        "id": "787efd3b.bd13e4",
        "type": "api-call-service",
        "z": "55da1471.fda0fc",
        "g": "288b7b694e69551c",
        "name": "turn on auto cleaning",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "input_boolean.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_boolean.auto_cleaning"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "input_boolean",
        "service": "turn_on",
        "x": 560,
        "y": 480,
        "wires": [
            []
        ]
    },
    {
        "id": "a52152b0.f593b",
        "type": "api-call-service",
        "z": "55da1471.fda0fc",
        "g": "89e45ab9eece5ecc",
        "name": "start vacuum",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "vacuum.start",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "vacuum.roborock_s6_pure"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "vacuum",
        "service": "start",
        "x": 790,
        "y": 1420,
        "wires": [
            [
                "700ffa065a57643e"
            ]
        ]
    },
    {
        "id": "60f6cd3f.56a0f4",
        "type": "api-current-state",
        "z": "55da1471.fda0fc",
        "g": "89e45ab9eece5ecc",
        "name": "auto cleaning is on",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.auto_cleaning",
        "state_type": "str",
        "blockInputOverrides": true,
        "outputProperties": [],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 390,
        "y": 1420,
        "wires": [
            [
                "eccced83.41688"
            ],
            []
        ]
    },
    {
        "id": "eccced83.41688",
        "type": "api-current-state",
        "z": "55da1471.fda0fc",
        "g": "89e45ab9eece5ecc",
        "name": "vacuum is not cleaning",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "cleaning",
        "halt_if_type": "str",
        "halt_if_compare": "is_not",
        "entity_id": "vacuum.roborock_s6_pure",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 600,
        "y": 1420,
        "wires": [
            [
                "a52152b0.f593b"
            ],
            []
        ]
    },
    {
        "id": "1c372f1.535d7d1",
        "type": "api-current-state",
        "z": "55da1471.fda0fc",
        "g": "2efe8a21a1e24819",
        "name": "auto cleaning is on",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.auto_cleaning",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 410,
        "y": 1280,
        "wires": [
            [
                "c5ad7ab8.30fda8"
            ],
            []
        ]
    },
    {
        "id": "c5ad7ab8.30fda8",
        "type": "api-current-state",
        "z": "55da1471.fda0fc",
        "g": "2efe8a21a1e24819",
        "name": "vacuum is not cleaning",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "cleaning",
        "halt_if_type": "str",
        "halt_if_compare": "is_not",
        "entity_id": "vacuum.roborock_s6_pure",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 620,
        "y": 1280,
        "wires": [
            [
                "7a270e8b1abe8a79"
            ],
            []
        ]
    },
    {
        "id": "155ef739.0e1de9",
        "type": "api-current-state",
        "z": "55da1471.fda0fc",
        "g": "222505dd20022794",
        "name": "auto cleaning is on",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.auto_cleaning",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 590,
        "y": 1140,
        "wires": [
            [
                "6912ed4ea89f4d06"
            ],
            []
        ]
    },
    {
        "id": "1494387d.fca0a8",
        "type": "server-state-changed",
        "z": "55da1471.fda0fc",
        "g": "222505dd20022794",
        "name": "vacuum state is cleaning for x minutes",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "vacuum.roborock_s6_pure"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": true,
        "stateType": "str",
        "ifState": "cleaning",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "15",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 190,
        "y": 1140,
        "wires": [
            [
                "272212f1.26bb6e"
            ],
            []
        ]
    },
    {
        "id": "272212f1.26bb6e",
        "type": "ha-wait-until",
        "z": "55da1471.fda0fc",
        "g": "222505dd20022794",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "entities": {
            "entity": [
                "vacuum.roborock_s6_pure"
            ],
            "substring": [],
            "regex": []
        },
        "property": "state",
        "comparator": "is",
        "value": "returning",
        "valueType": "str",
        "timeout": "90",
        "timeoutType": "num",
        "timeoutUnits": "minutes",
        "checkCurrentState": true,
        "blockInputOverrides": true,
        "outputProperties": [],
        "x": 420,
        "y": 1140,
        "wires": [
            [
                "155ef739.0e1de9"
            ],
            []
        ]
    },
    {
        "id": "700ffa065a57643e",
        "type": "ha-wait-until",
        "z": "55da1471.fda0fc",
        "g": "89e45ab9eece5ecc",
        "name": "wait until state is cleaning",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "entities": {
            "entity": [
                "vacuum.roborock_s6_pure"
            ],
            "substring": [],
            "regex": []
        },
        "property": "state",
        "comparator": "is",
        "value": "cleaning",
        "valueType": "str",
        "timeout": "2",
        "timeoutType": "num",
        "timeoutUnits": "minutes",
        "checkCurrentState": true,
        "blockInputOverrides": true,
        "outputProperties": [],
        "entityLocation": "data",
        "entityLocationType": "none",
        "x": 990,
        "y": 1420,
        "wires": [
            [
                "f98153937c9e15ea"
            ],
            [
                "5f68863131eaf358"
            ]
        ]
    },
    {
        "id": "e6178496b53afbb3",
        "type": "catch",
        "z": "55da1471.fda0fc",
        "g": "0c103c7801ac07dc",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 60,
        "wires": [
            [
                "8186b07391a8f560"
            ]
        ]
    },
    {
        "id": "8186b07391a8f560",
        "type": "template",
        "z": "55da1471.fda0fc",
        "g": "0c103c7801ac07dc",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 60,
        "wires": [
            [
                "929ff1a272c50876"
            ]
        ]
    },
    {
        "id": "813e0636f1726a9f",
        "type": "link out",
        "z": "55da1471.fda0fc",
        "g": "0c103c7801ac07dc",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 675,
        "y": 60,
        "wires": []
    },
    {
        "id": "929ff1a272c50876",
        "type": "template",
        "z": "55da1471.fda0fc",
        "g": "0c103c7801ac07dc",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 60,
        "wires": [
            [
                "8af60d7e6f764ac5"
            ]
        ]
    },
    {
        "id": "8af60d7e6f764ac5",
        "type": "function",
        "z": "55da1471.fda0fc",
        "g": "0c103c7801ac07dc",
        "name": "notify.notification_id",
        "func": "msg.notify.notification_id = Date.now().toString(36) + Math.random().toString(36);\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 550,
        "y": 60,
        "wires": [
            [
                "813e0636f1726a9f"
            ]
        ]
    },
    {
        "id": "68d2bab827c02e17",
        "type": "api-current-state",
        "z": "55da1471.fda0fc",
        "g": "288b7b694e69551c",
        "name": "auto cleaning is off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.auto_cleaning",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 350,
        "y": 480,
        "wires": [
            [
                "787efd3b.bd13e4"
            ],
            []
        ]
    },
    {
        "id": "95dba2424d2f2d8d",
        "type": "link in",
        "z": "55da1471.fda0fc",
        "g": "288b7b694e69551c",
        "name": "turn on vacuum auto cleaning",
        "links": [],
        "x": 225,
        "y": 520,
        "wires": [
            [
                "68d2bab827c02e17"
            ]
        ]
    },
    {
        "id": "6270e0cf1e6f9ba6",
        "type": "subflow:ad57f56dd92dd9d6",
        "z": "55da1471.fda0fc",
        "g": "0ab44c8dfd803636",
        "name": "",
        "x": 170,
        "y": 820,
        "wires": [
            [
                "42e3b37ad8c9e5e9"
            ],
            [],
            [],
            [],
            []
        ]
    },
    {
        "id": "9a17b25e8c8ead24",
        "type": "comment",
        "z": "55da1471.fda0fc",
        "g": "0ab44c8dfd803636",
        "name": "send vacuum to the dock when house gets occupied if the vacuum isn't docked or not allready returing to the dock",
        "info": "",
        "x": 420,
        "y": 760,
        "wires": []
    },
    {
        "id": "637324d215714581",
        "type": "api-call-service",
        "z": "55da1471.fda0fc",
        "g": "0ab44c8dfd803636",
        "name": "return to dock",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "vacuum.return_to_base",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "vacuum.roborock_s6_pure"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "vacuum",
        "service": "return_to_base",
        "x": 820,
        "y": 800,
        "wires": [
            []
        ]
    },
    {
        "id": "6f4d7c8e2376183b",
        "type": "api-current-state",
        "z": "55da1471.fda0fc",
        "g": "0ab44c8dfd803636",
        "name": "state is not returning",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "returning",
        "halt_if_type": "str",
        "halt_if_compare": "is_not",
        "entity_id": "vacuum.roborock_s6_pure",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 620,
        "y": 800,
        "wires": [
            [
                "637324d215714581"
            ],
            []
        ]
    },
    {
        "id": "42e3b37ad8c9e5e9",
        "type": "api-current-state",
        "z": "55da1471.fda0fc",
        "g": "0ab44c8dfd803636",
        "name": "state is not docked",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "docked",
        "halt_if_type": "str",
        "halt_if_compare": "is_not",
        "entity_id": "vacuum.roborock_s6_pure",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 410,
        "y": 800,
        "wires": [
            [
                "6f4d7c8e2376183b"
            ],
            []
        ]
    },
    {
        "id": "06f3f5658435219e",
        "type": "comment",
        "z": "55da1471.fda0fc",
        "g": "779d00245eb50fa9",
        "name": "start vacuum when house gets unoccupied",
        "info": "checks if uptime is above a minute to prevent false triggers when home assistant reboots",
        "x": 200,
        "y": 940,
        "wires": []
    },
    {
        "id": "bfe6dc1bee46d0b3",
        "type": "subflow:9ea6eabfb34d96e0",
        "z": "55da1471.fda0fc",
        "g": "779d00245eb50fa9",
        "name": "",
        "x": 170,
        "y": 980,
        "wires": [
            [
                "f6714ad5191d57d6"
            ]
        ]
    },
    {
        "id": "c0c7d4099232af47",
        "type": "api-call-service",
        "z": "55da1471.fda0fc",
        "g": "779d00245eb50fa9",
        "name": "start vacuum",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "vacuum.start",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "vacuum.roborock_s6_pure"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "vacuum",
        "service": "start",
        "x": 1030,
        "y": 980,
        "wires": [
            [
                "7b312409bf949308"
            ]
        ]
    },
    {
        "id": "b7ddf62cead5fbcd",
        "type": "api-current-state",
        "z": "55da1471.fda0fc",
        "g": "779d00245eb50fa9",
        "name": "vacuum is not cleaning",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "cleaning",
        "halt_if_type": "str",
        "halt_if_compare": "is_not",
        "entity_id": "vacuum.roborock_s6_pure",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 840,
        "y": 980,
        "wires": [
            [
                "c0c7d4099232af47"
            ],
            []
        ]
    },
    {
        "id": "5172ab0e658be955",
        "type": "api-current-state",
        "z": "55da1471.fda0fc",
        "g": "779d00245eb50fa9",
        "name": "auto cleaning is on",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.auto_cleaning",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 630,
        "y": 980,
        "wires": [
            [
                "b7ddf62cead5fbcd"
            ],
            []
        ]
    },
    {
        "id": "681f749a634bd372",
        "type": "comment",
        "z": "55da1471.fda0fc",
        "g": "222505dd20022794",
        "name": "turn off autocleaning when the vacuum is finished",
        "info": "",
        "x": 220,
        "y": 1100,
        "wires": []
    },
    {
        "id": "6912ed4ea89f4d06",
        "type": "link out",
        "z": "55da1471.fda0fc",
        "g": "222505dd20022794",
        "name": "turn off autocleaning after at least 15 minutes of cleaning",
        "mode": "link",
        "links": [
            "bdecec104be2a65e"
        ],
        "x": 715,
        "y": 1140,
        "wires": []
    },
    {
        "id": "ac6017ad0780b1d0",
        "type": "comment",
        "z": "55da1471.fda0fc",
        "g": "3a5ce6e1f550d6ab",
        "name": "turn off auto cleaning",
        "info": "",
        "x": 140,
        "y": 620,
        "wires": []
    },
    {
        "id": "f2e5467711cc2593",
        "type": "api-call-service",
        "z": "55da1471.fda0fc",
        "g": "3a5ce6e1f550d6ab",
        "name": "turn off auto cleaning",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "input_boolean.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_boolean.auto_cleaning"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "input_boolean",
        "service": "turn_off",
        "x": 560,
        "y": 660,
        "wires": [
            []
        ]
    },
    {
        "id": "d56465f5f95b56ac",
        "type": "api-current-state",
        "z": "55da1471.fda0fc",
        "g": "3a5ce6e1f550d6ab",
        "name": "auto cleaning is on",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.auto_cleaning",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 350,
        "y": 660,
        "wires": [
            [
                "f2e5467711cc2593"
            ],
            []
        ]
    },
    {
        "id": "bdecec104be2a65e",
        "type": "link in",
        "z": "55da1471.fda0fc",
        "g": "3a5ce6e1f550d6ab",
        "name": "turn off vacuum auto cleaning",
        "links": [
            "6912ed4ea89f4d06"
        ],
        "x": 225,
        "y": 660,
        "wires": [
            [
                "d56465f5f95b56ac"
            ]
        ]
    },
    {
        "id": "c38f0363d1cd4b4d",
        "type": "comment",
        "z": "55da1471.fda0fc",
        "g": "2efe8a21a1e24819",
        "name": "start vacuum cleaner timer when sleepmode turns on and autocleaning is on",
        "info": "",
        "x": 310,
        "y": 1240,
        "wires": []
    },
    {
        "id": "df0d2da9dc486e6f",
        "type": "link in",
        "z": "55da1471.fda0fc",
        "g": "2efe8a21a1e24819",
        "name": "start vacuum cleaning",
        "links": [
            "e6b9ff42fde3ea4e"
        ],
        "x": 285,
        "y": 1280,
        "wires": [
            [
                "1c372f1.535d7d1"
            ]
        ]
    },
    {
        "id": "aa738473d807731e",
        "type": "server-events",
        "z": "55da1471.fda0fc",
        "g": "89e45ab9eece5ecc",
        "name": "vacuum cleaner timer finished",
        "server": "4ba92433.2478cc",
        "version": 3,
        "exposeAsEntityConfig": "",
        "eventType": "timer.finished",
        "eventData": "{\"entity_id\":\"timer.start_vacuum_cleaner\"}",
        "waitForRunning": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "$outputData(\"eventData\").event_type",
                "valueType": "jsonata"
            }
        ],
        "x": 160,
        "y": 1420,
        "wires": [
            [
                "60f6cd3f.56a0f4"
            ]
        ]
    },
    {
        "id": "7a270e8b1abe8a79",
        "type": "api-call-service",
        "z": "55da1471.fda0fc",
        "g": "2efe8a21a1e24819",
        "name": "start vacuum cleaner timer",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "timer.start",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "timer.start_vacuum_cleaner"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "timer",
        "service": "start",
        "x": 860,
        "y": 1280,
        "wires": [
            [
                "897710e98ead9ae9"
            ]
        ]
    },
    {
        "id": "897710e98ead9ae9",
        "type": "link out",
        "z": "55da1471.fda0fc",
        "g": "2efe8a21a1e24819",
        "name": "notification vacuum cleaner start in 10 min",
        "mode": "link",
        "links": [
            "399ebcf702cddc4c",
            "c29ab8d534d30c01"
        ],
        "x": 1015,
        "y": 1280,
        "wires": []
    },
    {
        "id": "093ac1f894c6070c",
        "type": "cronplus",
        "z": "55da1471.fda0fc",
        "g": "73c6b2676d1b9a09",
        "name": "",
        "outputField": "payload",
        "timeZone": "",
        "storeName": "",
        "commandResponseMsgOutput": "output1",
        "defaultLocation": "",
        "defaultLocationType": "default",
        "outputs": 1,
        "options": [
            {
                "name": "schedule1",
                "topic": "topic1",
                "payloadType": "default",
                "payload": "",
                "expressionType": "cron",
                "expression": "0 0 7 * * 1 *",
                "location": "",
                "offset": "0",
                "solarType": "all",
                "solarEvents": "sunrise,sunset"
            }
        ],
        "x": 120,
        "y": 340,
        "wires": [
            [
                "429ec9116b7e06ae"
            ]
        ]
    },
    {
        "id": "429ec9116b7e06ae",
        "type": "api-call-service",
        "z": "55da1471.fda0fc",
        "g": "73c6b2676d1b9a09",
        "name": "send vacuum to target location",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "vacuum.send_command",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "vacuum.roborock_s6_pure"
        ],
        "labelId": [],
        "data": "{\"command\":\"app_goto_target\",\"params\":[20433,24523]}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": true,
        "domain": "vacuum",
        "service": "send_command",
        "x": 330,
        "y": 340,
        "wires": [
            []
        ]
    },
    {
        "id": "716b959221558033",
        "type": "comment",
        "z": "55da1471.fda0fc",
        "g": "73c6b2676d1b9a09",
        "name": "send the vacuum to the trash bin location",
        "info": "",
        "x": 200,
        "y": 300,
        "wires": []
    },
    {
        "id": "7b312409bf949308",
        "type": "ha-wait-until",
        "z": "55da1471.fda0fc",
        "g": "779d00245eb50fa9",
        "name": "wait until state is cleaning",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "entities": {
            "entity": [
                "vacuum.roborock_s6_pure"
            ],
            "substring": [],
            "regex": []
        },
        "property": "state",
        "comparator": "is",
        "value": "cleaning",
        "valueType": "str",
        "timeout": "2",
        "timeoutType": "num",
        "timeoutUnits": "minutes",
        "checkCurrentState": true,
        "blockInputOverrides": true,
        "outputProperties": [],
        "entityLocation": "data",
        "entityLocationType": "none",
        "x": 1230,
        "y": 980,
        "wires": [
            [
                "802b91dc1295b01b"
            ],
            [
                "24a14ba6071214a0"
            ]
        ]
    },
    {
        "id": "f98153937c9e15ea",
        "type": "link out",
        "z": "55da1471.fda0fc",
        "g": "89e45ab9eece5ecc",
        "name": "robo vacuum started",
        "mode": "link",
        "links": [
            "4ccdadaccbd4ea52"
        ],
        "x": 1135,
        "y": 1400,
        "wires": []
    },
    {
        "id": "802b91dc1295b01b",
        "type": "link out",
        "z": "55da1471.fda0fc",
        "g": "779d00245eb50fa9",
        "name": "robo vacuum started",
        "mode": "link",
        "links": [
            "4ccdadaccbd4ea52"
        ],
        "x": 1375,
        "y": 960,
        "wires": []
    },
    {
        "id": "24a14ba6071214a0",
        "type": "link out",
        "z": "55da1471.fda0fc",
        "g": "779d00245eb50fa9",
        "name": "robo vacuum can't started",
        "mode": "link",
        "links": [
            "6bee85cff6c9b778"
        ],
        "x": 1375,
        "y": 1000,
        "wires": []
    },
    {
        "id": "5f68863131eaf358",
        "type": "link out",
        "z": "55da1471.fda0fc",
        "g": "89e45ab9eece5ecc",
        "name": "robo vacuum can't started",
        "mode": "link",
        "links": [
            "6bee85cff6c9b778"
        ],
        "x": 1135,
        "y": 1440,
        "wires": []
    },
    {
        "id": "6e812e3928ad5538",
        "type": "comment",
        "z": "55da1471.fda0fc",
        "g": "89e45ab9eece5ecc",
        "name": "start robo vacuum when timer finished and auto cleaning is still on",
        "info": "",
        "x": 270,
        "y": 1380,
        "wires": []
    },
    {
        "id": "32ee19ec383e0543",
        "type": "comment",
        "z": "55da1471.fda0fc",
        "g": "26520f666f169ee2",
        "name": "clean selected rooms",
        "info": "",
        "x": 140,
        "y": 1680,
        "wires": []
    },
    {
        "id": "72f53719cdbc9455",
        "type": "server-state-changed",
        "z": "55da1471.fda0fc",
        "g": "26520f666f169ee2",
        "name": "room cleaning button",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 1,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "input_button.vacuum_start_room_cleaning"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": false,
        "stateType": "str",
        "ifState": "",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 140,
        "y": 1720,
        "wires": [
            [
                "a3633aab59b75d5e"
            ]
        ]
    },
    {
        "id": "a3633aab59b75d5e",
        "type": "ha-get-entities",
        "z": "55da1471.fda0fc",
        "g": "26520f666f169ee2",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 1,
        "rules": [
            {
                "property": "entity_id",
                "logic": "starts_with",
                "value": "input_boolean.vacuum",
                "valueType": "str"
            },
            {
                "property": "state",
                "logic": "is",
                "value": "on",
                "valueType": "str"
            }
        ],
        "outputType": "split",
        "outputEmptyResults": false,
        "outputLocationType": "msg",
        "outputLocation": "payload",
        "outputResultsCount": 1,
        "x": 330,
        "y": 1720,
        "wires": [
            [
                "02cc03fa2fa9b1c1"
            ]
        ]
    },
    {
        "id": "02cc03fa2fa9b1c1",
        "type": "change",
        "z": "55da1471.fda0fc",
        "g": "26520f666f169ee2",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "payload.entity_id",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 500,
        "y": 1720,
        "wires": [
            [
                "af7eaeb691b4b689",
                "92f37dfc24d886b9"
            ]
        ]
    },
    {
        "id": "af7eaeb691b4b689",
        "type": "change",
        "z": "55da1471.fda0fc",
        "g": "26520f666f169ee2",
        "name": "",
        "rules": [
            {
                "t": "change",
                "p": "payload",
                "pt": "msg",
                "from": "input_boolean.vacuum_hall",
                "fromt": "str",
                "to": "16",
                "tot": "num"
            },
            {
                "t": "change",
                "p": "payload",
                "pt": "msg",
                "from": "input_boolean.vacuum_living_room",
                "fromt": "str",
                "to": "17",
                "tot": "num"
            },
            {
                "t": "change",
                "p": "payload",
                "pt": "msg",
                "from": "input_boolean.vacuum_dining_room",
                "fromt": "str",
                "to": "18",
                "tot": "num"
            },
            {
                "t": "change",
                "p": "payload",
                "pt": "msg",
                "from": "input_boolean.vacuum_kitchen",
                "fromt": "str",
                "to": "19",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 680,
        "y": 1720,
        "wires": [
            [
                "6fc6228af058839b"
            ]
        ]
    },
    {
        "id": "92f37dfc24d886b9",
        "type": "change",
        "z": "55da1471.fda0fc",
        "g": "26520f666f169ee2",
        "name": "",
        "rules": [
            {
                "t": "change",
                "p": "payload",
                "pt": "msg",
                "from": "input_boolean.vacuum_laundry_room",
                "fromt": "str",
                "to": "16",
                "tot": "num"
            },
            {
                "t": "change",
                "p": "payload",
                "pt": "msg",
                "from": "input_boolean.vacuum_souterrain",
                "fromt": "str",
                "to": "1",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 680,
        "y": 1760,
        "wires": [
            [
                "1b709ceb0d69c831"
            ]
        ]
    },
    {
        "id": "6fc6228af058839b",
        "type": "join",
        "z": "55da1471.fda0fc",
        "g": "26520f666f169ee2",
        "name": "",
        "mode": "auto",
        "build": "object",
        "property": "payload",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": "false",
        "timeout": "",
        "count": "",
        "reduceRight": false,
        "x": 850,
        "y": 1720,
        "wires": [
            [
                "458382747fd06019"
            ]
        ]
    },
    {
        "id": "1b709ceb0d69c831",
        "type": "join",
        "z": "55da1471.fda0fc",
        "g": "26520f666f169ee2",
        "name": "",
        "mode": "auto",
        "build": "object",
        "property": "payload",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": "false",
        "timeout": "",
        "count": "",
        "reduceRight": false,
        "x": 850,
        "y": 1760,
        "wires": [
            [
                "0abec8ca261199bd"
            ]
        ]
    },
    {
        "id": "458382747fd06019",
        "type": "function",
        "z": "55da1471.fda0fc",
        "g": "26520f666f169ee2",
        "name": "create service call",
        "func": "msg.payload = {\n    \"domain\": \"vacuum\",\n    \"service\": \"send_command\",\n    \"target\": {\n        \"entity_id\": \"vacuum.roborock_s6_pure\"\n    },\n    \"data\": {\n        \"command\": \"app_segment_clean\",\n        \"params\": [\n            {\n                \"segments\": msg.payload\n            }\n        ]\n    }\n};\nreturn msg;\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1010,
        "y": 1720,
        "wires": [
            [
                "3a3544e58c336443"
            ]
        ]
    },
    {
        "id": "0abec8ca261199bd",
        "type": "function",
        "z": "55da1471.fda0fc",
        "g": "26520f666f169ee2",
        "name": "create service call",
        "func": "msg.payload = {\n    \"domain\": \"vacuum\",\n    \"service\": \"send_command\",\n    \"target\": {\n        \"entity_id\": \"vacuum.roborock_s55\"\n    },\n    \"data\": {\n        \"command\": \"app_segment_clean\",\n        \"params\": [\n            {\n                \"segments\": msg.payload\n            }\n        ]\n    }\n};\nreturn msg;\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1010,
        "y": 1760,
        "wires": [
            [
                "3a3544e58c336443"
            ]
        ]
    },
    {
        "id": "3a3544e58c336443",
        "type": "api-call-service",
        "z": "55da1471.fda0fc",
        "g": "26520f666f169ee2",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [],
        "labelId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "",
        "service": "",
        "x": 1190,
        "y": 1720,
        "wires": [
            [
                "336d51b627dd3548"
            ]
        ]
    },
    {
        "id": "336d51b627dd3548",
        "type": "ha-wait-until",
        "z": "55da1471.fda0fc",
        "g": "26520f666f169ee2",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 1,
        "entities": {
            "entity": [],
            "substring": [],
            "regex": [
                "^vacuum."
            ]
        },
        "property": "state",
        "comparator": "is",
        "value": "cleaning",
        "valueType": "str",
        "timeout": "0",
        "timeoutType": "num",
        "timeoutUnits": "seconds",
        "checkCurrentState": true,
        "blockInputOverrides": true,
        "outputProperties": [],
        "entityLocation": "data",
        "entityLocationType": "none",
        "x": 1320,
        "y": 1720,
        "wires": [
            [
                "11adb81ae9e6f5e7"
            ]
        ]
    },
    {
        "id": "11adb81ae9e6f5e7",
        "type": "ha-get-entities",
        "z": "55da1471.fda0fc",
        "g": "26520f666f169ee2",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 1,
        "rules": [
            {
                "property": "entity_id",
                "logic": "starts_with",
                "value": "input_boolean.vacuum",
                "valueType": "str"
            },
            {
                "property": "state",
                "logic": "is",
                "value": "on",
                "valueType": "str"
            }
        ],
        "outputType": "split",
        "outputEmptyResults": false,
        "outputLocationType": "msg",
        "outputLocation": "payload",
        "outputResultsCount": 1,
        "x": 1470,
        "y": 1720,
        "wires": [
            [
                "28a3562272f5e8bd"
            ]
        ]
    },
    {
        "id": "28a3562272f5e8bd",
        "type": "api-call-service",
        "z": "55da1471.fda0fc",
        "g": "26520f666f169ee2",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "input_boolean.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "{{payload.entity_id}}"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "input_boolean",
        "service": "turn_off",
        "x": 1660,
        "y": 1720,
        "wires": [
            []
        ]
    },
    {
        "id": "c3ad9439a04e7919",
        "type": "server-state-changed",
        "z": "55da1471.fda0fc",
        "g": "aa362c81bc2bb612",
        "name": "vacuum state is error",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "vacuum.roborock_s6_pure"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": true,
        "stateType": "str",
        "ifState": "error",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 140,
        "y": 200,
        "wires": [
            [
                "ed1e22b58ac9bc7d"
            ],
            []
        ]
    },
    {
        "id": "77d953af158bbd33",
        "type": "comment",
        "z": "55da1471.fda0fc",
        "g": "aa362c81bc2bb612",
        "name": "send notification when there is an error with the robo vacuum cleaner",
        "info": "",
        "x": 280,
        "y": 160,
        "wires": []
    },
    {
        "id": "ed1e22b58ac9bc7d",
        "type": "link out",
        "z": "55da1471.fda0fc",
        "g": "aa362c81bc2bb612",
        "name": "robo vacuum error",
        "mode": "link",
        "links": [
            "b8612f57a6f28d94"
        ],
        "x": 275,
        "y": 200,
        "wires": []
    },
    {
        "id": "5bb05da7d294daf3",
        "type": "comment",
        "z": "55da1471.fda0fc",
        "g": "bc5bb6b372848b7c",
        "name": "cancel robo vacuum timer",
        "info": "",
        "x": 150,
        "y": 1540,
        "wires": []
    },
    {
        "id": "24e07b4589dbc14f",
        "type": "api-call-service",
        "z": "55da1471.fda0fc",
        "g": "bc5bb6b372848b7c",
        "name": "cancel vacuum cleaner timer",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "timer.cancel",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "timer.start_vacuum_cleaner"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "timer",
        "service": "cancel",
        "x": 380,
        "y": 1580,
        "wires": [
            []
        ]
    },
    {
        "id": "7a6572a848edbab2",
        "type": "link in",
        "z": "55da1471.fda0fc",
        "g": "bc5bb6b372848b7c",
        "name": "cancel robo vacuum timer",
        "links": [
            "c07ca02ed810efe8",
            "d35ff31b6345b553"
        ],
        "x": 225,
        "y": 1580,
        "wires": [
            [
                "24e07b4589dbc14f"
            ]
        ]
    },
    {
        "id": "f6714ad5191d57d6",
        "type": "subflow:60fb1216c78ea01b",
        "z": "55da1471.fda0fc",
        "g": "779d00245eb50fa9",
        "name": "",
        "x": 420,
        "y": 980,
        "wires": [
            [
                "5172ab0e658be955"
            ]
        ]
    },
    {
        "id": "cc8c7cf17f533749",
        "type": "catch",
        "z": "39f5e6336137f4b2",
        "g": "6245ab7a28a04b83",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 60,
        "wires": [
            [
                "4cb0e008330fe098"
            ]
        ]
    },
    {
        "id": "4cb0e008330fe098",
        "type": "template",
        "z": "39f5e6336137f4b2",
        "g": "6245ab7a28a04b83",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 60,
        "wires": [
            [
                "46f9be0e7684a83d"
            ]
        ]
    },
    {
        "id": "cb2996d878c5e0c7",
        "type": "link out",
        "z": "39f5e6336137f4b2",
        "g": "6245ab7a28a04b83",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 675,
        "y": 60,
        "wires": []
    },
    {
        "id": "46f9be0e7684a83d",
        "type": "template",
        "z": "39f5e6336137f4b2",
        "g": "6245ab7a28a04b83",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 60,
        "wires": [
            [
                "08c782125ac91445"
            ]
        ]
    },
    {
        "id": "08c782125ac91445",
        "type": "function",
        "z": "39f5e6336137f4b2",
        "g": "6245ab7a28a04b83",
        "name": "notify.notification_id",
        "func": "msg.notify.notification_id = Date.now().toString(36) + Math.random().toString(36);\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 550,
        "y": 60,
        "wires": [
            [
                "cb2996d878c5e0c7"
            ]
        ]
    },
    {
        "id": "e8630ecd17b5f84e",
        "type": "api-call-service",
        "z": "39f5e6336137f4b2",
        "g": "1c08d4761f28031d",
        "name": "input select entertainment_activity uitschakelen",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "input_select.select_option",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_select.entertainment_activity"
        ],
        "labelId": [],
        "data": "{\"option\":\"Uitschakelen\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "input_select",
        "service": "select_option",
        "x": 920,
        "y": 2980,
        "wires": [
            []
        ]
    },
    {
        "id": "e8f0a3086500e186",
        "type": "api-current-state",
        "z": "39f5e6336137f4b2",
        "g": "1c08d4761f28031d",
        "name": "input select entertainment_activity is not uitschakelen",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "Uitschakelen",
        "halt_if_type": "str",
        "halt_if_compare": "is_not",
        "entity_id": "input_select.entertainment_activity",
        "state_type": "str",
        "blockInputOverrides": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 520,
        "y": 2980,
        "wires": [
            [
                "e8630ecd17b5f84e"
            ],
            []
        ]
    },
    {
        "id": "429ad6ab342d378c",
        "type": "subflow:9ea6eabfb34d96e0",
        "z": "39f5e6336137f4b2",
        "g": "1c08d4761f28031d",
        "name": "",
        "x": 170,
        "y": 2980,
        "wires": [
            [
                "e8f0a3086500e186"
            ]
        ]
    },
    {
        "id": "d9c15091d0933aa1",
        "type": "comment",
        "z": "39f5e6336137f4b2",
        "g": "1c08d4761f28031d",
        "name": "set input select entertainment to Uitschakelen when house gets onuccupied or sleepmode gets turned on",
        "info": "",
        "x": 390,
        "y": 2920,
        "wires": []
    },
    {
        "id": "0419c1d8f3124b5e",
        "type": "link in",
        "z": "39f5e6336137f4b2",
        "g": "1c08d4761f28031d",
        "name": "set input select entertaiment to Uitschakelen",
        "links": [
            "e6b9ff42fde3ea4e"
        ],
        "x": 285,
        "y": 3020,
        "wires": [
            [
                "e8f0a3086500e186"
            ]
        ]
    },
    {
        "id": "6a77eb9d04cca958",
        "type": "api-current-state",
        "z": "39f5e6336137f4b2",
        "g": "71c35719c7add5f8",
        "name": "universal tv is playing",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "playing",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "media_player.universal_tv",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 420,
        "y": 2440,
        "wires": [
            [
                "485b2638b3e54f1b"
            ],
            []
        ]
    },
    {
        "id": "485b2638b3e54f1b",
        "type": "api-call-service",
        "z": "39f5e6336137f4b2",
        "g": "71c35719c7add5f8",
        "name": "pause universal tv media player",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "media_player.media_pause",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "media_player.universal_tv"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "media_player",
        "service": "media_pause",
        "x": 670,
        "y": 2440,
        "wires": [
            []
        ]
    },
    {
        "id": "29ef6b63d1ee8e04",
        "type": "link in",
        "z": "39f5e6336137f4b2",
        "g": "71c35719c7add5f8",
        "name": "pause universal tv mediaplayer",
        "links": [
            "3bafb9626527259f"
        ],
        "x": 285,
        "y": 2440,
        "wires": [
            [
                "6a77eb9d04cca958"
            ]
        ]
    },
    {
        "id": "3724f1550b7ce891",
        "type": "api-call-service",
        "z": "39f5e6336137f4b2",
        "g": "767cfafe4de72d92",
        "name": "turn off tv hardware",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "webostv.command",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [],
        "labelId": [],
        "data": "{\"entity_id\":\"media_player.lg_webos_smart_tv\",\"command\":\"system/turnOff\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "webostv",
        "service": "command",
        "x": 470,
        "y": 2640,
        "wires": [
            [
                "69b6c54a1cabe45b"
            ]
        ]
    },
    {
        "id": "38a89a2645866f0c",
        "type": "api-call-service",
        "z": "39f5e6336137f4b2",
        "g": "767cfafe4de72d92",
        "name": "turn on universal tv",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "media_player.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "media_player.universal_tv"
        ],
        "labelId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "media_player",
        "service": "turn_on",
        "x": 470,
        "y": 2580,
        "wires": [
            []
        ]
    },
    {
        "id": "69b6c54a1cabe45b",
        "type": "api-call-service",
        "z": "39f5e6336137f4b2",
        "g": "767cfafe4de72d92",
        "name": "turn off universal tv",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "media_player.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "media_player.universal_tv"
        ],
        "labelId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "media_player",
        "service": "turn_off",
        "x": 670,
        "y": 2640,
        "wires": [
            []
        ]
    },
    {
        "id": "fff03108c5f1ce08",
        "type": "api-current-state",
        "z": "39f5e6336137f4b2",
        "g": "767cfafe4de72d92",
        "name": "universal tv is off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "media_player.universal_tv",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 250,
        "y": 2580,
        "wires": [
            [
                "38a89a2645866f0c"
            ],
            [
                "3724f1550b7ce891"
            ]
        ]
    },
    {
        "id": "9b76c1a2318387ea",
        "type": "ha-button",
        "z": "39f5e6336137f4b2",
        "g": "767cfafe4de72d92",
        "name": "",
        "version": 0,
        "debugenabled": false,
        "outputs": 1,
        "entityConfig": "334728918669134a",
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "x": 90,
        "y": 2580,
        "wires": [
            [
                "fff03108c5f1ce08"
            ]
        ]
    },
    {
        "id": "46c67d7449c54584",
        "type": "comment",
        "z": "39f5e6336137f4b2",
        "g": "767cfafe4de72d92",
        "name": "tv_device button to toggle the tv on/off",
        "info": "",
        "x": 190,
        "y": 2540,
        "wires": []
    },
    {
        "id": "30bb603d2ee43acf",
        "type": "comment",
        "z": "39f5e6336137f4b2",
        "g": "71c35719c7add5f8",
        "name": "pause the tv universal mediaplayer",
        "info": "",
        "x": 180,
        "y": 2400,
        "wires": []
    },
    {
        "id": "4a35bcbba9fd8659",
        "type": "change",
        "z": "39f5e6336137f4b2",
        "g": "8621fb6c01d429c7",
        "name": "off",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "off",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 330,
        "y": 2780,
        "wires": [
            [
                "dec82ecde28afe10"
            ]
        ]
    },
    {
        "id": "cc3caee8d4e6c43d",
        "type": "change",
        "z": "39f5e6336137f4b2",
        "g": "8621fb6c01d429c7",
        "name": "on",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "on",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 330,
        "y": 2820,
        "wires": [
            [
                "dec82ecde28afe10"
            ]
        ]
    },
    {
        "id": "3ad861c67030f3f1",
        "type": "server-state-changed",
        "z": "39f5e6336137f4b2",
        "g": "8621fb6c01d429c7",
        "name": "lg tv mediaplayer is off",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "media_player.universal_tv"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": true,
        "stateType": "str",
        "ifState": "off",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": false,
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": true,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 140,
        "y": 2780,
        "wires": [
            [
                "4a35bcbba9fd8659"
            ],
            [
                "cc3caee8d4e6c43d"
            ]
        ]
    },
    {
        "id": "dec82ecde28afe10",
        "type": "ha-binary-sensor",
        "z": "39f5e6336137f4b2",
        "g": "8621fb6c01d429c7",
        "name": "tv_device",
        "entityConfig": "03547137a16812fd",
        "version": 0,
        "state": "payload",
        "stateType": "msg",
        "attributes": [],
        "inputOverride": "allow",
        "outputProperties": [],
        "x": 480,
        "y": 2780,
        "wires": [
            []
        ]
    },
    {
        "id": "7301e33204b88290",
        "type": "comment",
        "z": "39f5e6336137f4b2",
        "g": "8621fb6c01d429c7",
        "name": "tv_device binary sensor to save tv state",
        "info": "",
        "x": 190,
        "y": 2740,
        "wires": []
    },
    {
        "id": "fdd6cd4fc534d90f",
        "type": "comment",
        "z": "39f5e6336137f4b2",
        "g": "940063d576edb92e",
        "name": "creates a sensor, if nvidia shield volume is 100% then the binary sensor is on",
        "info": "",
        "x": 310,
        "y": 3120,
        "wires": []
    },
    {
        "id": "7ca936eb66e9e2d5",
        "type": "ha-binary-sensor",
        "z": "39f5e6336137f4b2",
        "g": "940063d576edb92e",
        "name": "nvidia_shield_volume_maximum",
        "entityConfig": "481b5f550ecd01da",
        "version": 0,
        "state": "payload",
        "stateType": "msg",
        "attributes": [],
        "inputOverride": "allow",
        "outputProperties": [],
        "x": 850,
        "y": 3160,
        "wires": [
            []
        ]
    },
    {
        "id": "a3f46fbeb5f59131",
        "type": "server-state-changed",
        "z": "39f5e6336137f4b2",
        "g": "940063d576edb92e",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 1,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "media_player.shield"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": true,
        "stateType": "str",
        "ifState": "",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 180,
        "y": 3160,
        "wires": [
            [
                "3a5396be8f9c1286"
            ]
        ]
    },
    {
        "id": "3a5396be8f9c1286",
        "type": "switch",
        "z": "39f5e6336137f4b2",
        "g": "940063d576edb92e",
        "name": "volume",
        "property": "data.new_state.attributes.volume_level",
        "propertyType": "msg",
        "rules": [
            {
                "t": "gte",
                "v": "1",
                "vt": "num"
            },
            {
                "t": "lt",
                "v": "1",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 400,
        "y": 3160,
        "wires": [
            [
                "84a90e2a73f04f0b"
            ],
            [
                "8922b34fa1783c92"
            ]
        ]
    },
    {
        "id": "84a90e2a73f04f0b",
        "type": "change",
        "z": "39f5e6336137f4b2",
        "g": "940063d576edb92e",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "on",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 600,
        "y": 3160,
        "wires": [
            [
                "7ca936eb66e9e2d5"
            ]
        ]
    },
    {
        "id": "8922b34fa1783c92",
        "type": "change",
        "z": "39f5e6336137f4b2",
        "g": "940063d576edb92e",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "off",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 600,
        "y": 3200,
        "wires": [
            [
                "7ca936eb66e9e2d5"
            ]
        ]
    },
    {
        "id": "017deb01f1ac5d06",
        "type": "server-state-changed",
        "z": "39f5e6336137f4b2",
        "g": "25a4ffd157e9649f",
        "name": "state input select entertainment activity",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 1,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "input_select.entertainment_activity"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": false,
        "stateType": "str",
        "ifState": "",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 190,
        "y": 380,
        "wires": [
            [
                "3a535b1014d0a45b"
            ]
        ]
    },
    {
        "id": "3a535b1014d0a45b",
        "type": "switch",
        "z": "39f5e6336137f4b2",
        "g": "25a4ffd157e9649f",
        "name": "entertainment activity",
        "property": "data.new_state.state",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "Uitschakelen",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "TV",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "Films & Series",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "Radio",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "Muziek",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 5,
        "x": 460,
        "y": 380,
        "wires": [
            [
                "b564e25effcfc627"
            ],
            [
                "61e6d10bbacb84be"
            ],
            [],
            [],
            []
        ]
    },
    {
        "id": "f1ffce13e75d6866",
        "type": "comment",
        "z": "39f5e6336137f4b2",
        "g": "25a4ffd157e9649f",
        "name": "frontend entertainment activity input select",
        "info": "",
        "x": 200,
        "y": 320,
        "wires": []
    },
    {
        "id": "1f82b6c0e5dbebf0",
        "type": "comment",
        "z": "39f5e6336137f4b2",
        "g": "d3868dc5f4aa2d65",
        "name": "Uitschakelen",
        "info": "",
        "x": 830,
        "y": 360,
        "wires": []
    },
    {
        "id": "0d2317e40dbcbd17",
        "type": "api-call-service",
        "z": "39f5e6336137f4b2",
        "g": "d3868dc5f4aa2d65",
        "name": "turn off universal tv",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "media_player.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "media_player.universal_tv"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "media_player",
        "service": "turn_off",
        "x": 990,
        "y": 460,
        "wires": [
            []
        ]
    },
    {
        "id": "edd4560b8748e246",
        "type": "api-call-service",
        "z": "39f5e6336137f4b2",
        "g": "d3868dc5f4aa2d65",
        "name": "tv turn off",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "webostv.command",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [],
        "labelId": [],
        "data": "{\"entity_id\":\"media_player.lg_webos_smart_tv\",\"command\":\"system/turnOff\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "webostv",
        "service": "command",
        "x": 1220,
        "y": 520,
        "wires": [
            []
        ]
    },
    {
        "id": "7921cddd0f314705",
        "type": "api-call-service",
        "z": "39f5e6336137f4b2",
        "g": "d3868dc5f4aa2d65",
        "name": "turn off nvidia shield",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "media_player.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "media_player.shield"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "media_player",
        "service": "turn_off",
        "x": 1040,
        "y": 400,
        "wires": [
            []
        ]
    },
    {
        "id": "1d37dadaa58f945a",
        "type": "delay",
        "z": "39f5e6336137f4b2",
        "g": "d3868dc5f4aa2d65",
        "name": "",
        "pauseType": "delay",
        "timeout": "2",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 820,
        "y": 520,
        "wires": [
            [
                "87169159e7ae701a"
            ]
        ]
    },
    {
        "id": "7bea96d351fd45a5",
        "type": "delay",
        "z": "39f5e6336137f4b2",
        "g": "d3868dc5f4aa2d65",
        "name": "",
        "pauseType": "delay",
        "timeout": "1",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 820,
        "y": 460,
        "wires": [
            [
                "0d2317e40dbcbd17"
            ]
        ]
    },
    {
        "id": "87169159e7ae701a",
        "type": "api-current-state",
        "z": "39f5e6336137f4b2",
        "g": "d3868dc5f4aa2d65",
        "name": "lg webos smart tv is not off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is_not",
        "entity_id": "media_player.lg_webos_smart_tv",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 1020,
        "y": 520,
        "wires": [
            [
                "edd4560b8748e246"
            ],
            []
        ]
    },
    {
        "id": "f9e486866e6d65f1",
        "type": "api-call-service",
        "z": "39f5e6336137f4b2",
        "g": "d3868dc5f4aa2d65",
        "name": "stop bluesound powernode",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "media_player.media_stop",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "media_player.powernode_2i_ea48"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "media_player",
        "service": "media_stop",
        "x": 880,
        "y": 580,
        "wires": [
            []
        ]
    },
    {
        "id": "445f8a7aded61633",
        "type": "api-current-state",
        "z": "39f5e6336137f4b2",
        "g": "d3868dc5f4aa2d65",
        "name": "shield is not off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is_not",
        "entity_id": "media_player.shield",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 840,
        "y": 400,
        "wires": [
            [
                "7921cddd0f314705"
            ],
            []
        ]
    },
    {
        "id": "f47b4545239299ad",
        "type": "api-call-service",
        "z": "39f5e6336137f4b2",
        "g": "cd256ec259a611f4",
        "name": "turn on universal tv",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "media_player.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "media_player.universal_tv"
        ],
        "labelId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "media_player",
        "service": "turn_on",
        "x": 1050,
        "y": 720,
        "wires": [
            []
        ]
    },
    {
        "id": "54b7f080b2edea10",
        "type": "api-call-service",
        "z": "39f5e6336137f4b2",
        "g": "cd256ec259a611f4",
        "name": "select source optical input on bluesound powernode",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "media_player.select_source",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "media_player.powernode_2i_ea48"
        ],
        "labelId": [],
        "data": "{\"source\":\"Optical\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "media_player",
        "service": "select_source",
        "x": 1210,
        "y": 780,
        "wires": [
            [
                "18e6577d292535de"
            ]
        ]
    },
    {
        "id": "1e7eae419a9ec64f",
        "type": "comment",
        "z": "39f5e6336137f4b2",
        "g": "cd256ec259a611f4",
        "name": "TV",
        "info": "",
        "x": 810,
        "y": 680,
        "wires": []
    },
    {
        "id": "18e6577d292535de",
        "type": "api-call-service",
        "z": "39f5e6336137f4b2",
        "g": "cd256ec259a611f4",
        "name": "play optical input powernode",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "media_player.media_play",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "media_player.powernode_2i_ea48"
        ],
        "labelId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "media_player",
        "service": "media_play",
        "x": 1540,
        "y": 780,
        "wires": [
            []
        ]
    },
    {
        "id": "fa9bc69bfdcf7c2c",
        "type": "api-call-service",
        "z": "39f5e6336137f4b2",
        "g": "cd256ec259a611f4",
        "name": "stop mediaplayer powernode",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "media_player.media_stop",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "media_player.powernode_2i_ea48"
        ],
        "labelId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "media_player",
        "service": "media_stop",
        "x": 880,
        "y": 780,
        "wires": [
            [
                "54b7f080b2edea10"
            ]
        ]
    },
    {
        "id": "1852cb62226e78b0",
        "type": "api-current-state",
        "z": "39f5e6336137f4b2",
        "g": "cd256ec259a611f4",
        "name": "universal tv is off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "media_player.universal_tv",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 850,
        "y": 720,
        "wires": [
            [
                "f47b4545239299ad"
            ],
            []
        ]
    },
    {
        "id": "cc95177ff7dd19c7",
        "type": "link out",
        "z": "39f5e6336137f4b2",
        "g": "cd256ec259a611f4",
        "name": "link_out_tv_turn_on",
        "mode": "link",
        "links": [
            "dec99c0ab95cf46a"
        ],
        "x": 775,
        "y": 840,
        "wires": []
    },
    {
        "id": "431f4462805951b1",
        "type": "api-call-service",
        "z": "39f5e6336137f4b2",
        "g": "cd256ec259a611f4",
        "name": "turn on lg tv device",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "wake_on_lan.send_magic_packet",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [],
        "labelId": [],
        "data": "{\"mac\":\"38:8c:50:62:11:4d\",\"broadcast_address\":\"10.0.30.80\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": true,
        "domain": "wake_on_lan",
        "service": "send_magic_packet",
        "x": 850,
        "y": 880,
        "wires": [
            []
        ]
    },
    {
        "id": "94ebde6817becd16",
        "type": "server-state-changed",
        "z": "39f5e6336137f4b2",
        "g": "aa38407fb6bc0dac",
        "name": "state phone is offhook",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [],
            "substring": [],
            "regex": [
                "^(?!.*battery).*sensor\\.phone_(.*?)_state.*$"
            ]
        },
        "outputInitially": true,
        "stateType": "str",
        "ifState": "offhook",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": true,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 140,
        "y": 1640,
        "wires": [
            [
                "4f9dcb4526aa6e68"
            ],
            []
        ]
    },
    {
        "id": "4f9dcb4526aa6e68",
        "type": "switch",
        "z": "39f5e6336137f4b2",
        "g": "aa38407fb6bc0dac",
        "name": "who's phone",
        "property": "data.entity_id",
        "propertyType": "msg",
        "rules": [
            {
                "t": "cont",
                "v": "coen",
                "vt": "str"
            },
            {
                "t": "cont",
                "v": "anne",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 330,
        "y": 1640,
        "wires": [
            [
                "a7ae16757970717f"
            ],
            [
                "951e80123d5d1350"
            ]
        ]
    },
    {
        "id": "a7ae16757970717f",
        "type": "api-current-state",
        "z": "39f5e6336137f4b2",
        "g": "aa38407fb6bc0dac",
        "name": "state person coen is home",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "home",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "person.coen",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 540,
        "y": 1620,
        "wires": [
            [
                "fdca445a404c15cc"
            ],
            []
        ]
    },
    {
        "id": "951e80123d5d1350",
        "type": "api-current-state",
        "z": "39f5e6336137f4b2",
        "g": "aa38407fb6bc0dac",
        "name": "state person anne is home",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "home",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "person.anne",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 540,
        "y": 1680,
        "wires": [
            [
                "fdca445a404c15cc"
            ],
            []
        ]
    },
    {
        "id": "fdca445a404c15cc",
        "type": "api-current-state",
        "z": "39f5e6336137f4b2",
        "g": "aa38407fb6bc0dac",
        "name": "universal tv is playing",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "playing",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "media_player.universal_tv",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 780,
        "y": 1640,
        "wires": [
            [
                "f06607d23ea600e0",
                "2024b0143896ad22"
            ],
            []
        ]
    },
    {
        "id": "f06607d23ea600e0",
        "type": "api-call-service",
        "z": "39f5e6336137f4b2",
        "g": "aa38407fb6bc0dac",
        "name": "pause tv",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "media_player.media_pause",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "media_player.universal_tv"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "media_player",
        "service": "media_pause",
        "x": 980,
        "y": 1640,
        "wires": [
            []
        ]
    },
    {
        "id": "2024b0143896ad22",
        "type": "link out",
        "z": "39f5e6336137f4b2",
        "g": "aa38407fb6bc0dac",
        "name": "notification on tv when phone is offhook, person is home and tv is playing",
        "mode": "link",
        "links": [
            "72b9b335e9a56383"
        ],
        "x": 935,
        "y": 1700,
        "wires": []
    },
    {
        "id": "bf5ba3943578c959",
        "type": "comment",
        "z": "39f5e6336137f4b2",
        "g": "aa38407fb6bc0dac",
        "name": "pause when phone is off hook",
        "info": "",
        "x": 160,
        "y": 1600,
        "wires": []
    },
    {
        "id": "a8e3dc22f4e3aa9d",
        "type": "server-state-changed",
        "z": "39f5e6336137f4b2",
        "g": "23bb85dc835b75e6",
        "name": "media player shield status",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "media_player.shield"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": false,
        "stateType": "str",
        "ifState": "idle",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 150,
        "y": 1380,
        "wires": [
            [
                "2c145c15609bd2fb"
            ],
            []
        ]
    },
    {
        "id": "2c145c15609bd2fb",
        "type": "switch",
        "z": "39f5e6336137f4b2",
        "g": "23bb85dc835b75e6",
        "name": "content type is video",
        "property": "data.new_state.attributes.media_content_type",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "video",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 380,
        "y": 1380,
        "wires": [
            [
                "68088e8c9c8a0e54"
            ]
        ]
    },
    {
        "id": "68088e8c9c8a0e54",
        "type": "api-current-state",
        "z": "39f5e6336137f4b2",
        "g": "23bb85dc835b75e6",
        "name": "input select entertainment activity is not TV",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "TV",
        "halt_if_type": "str",
        "halt_if_compare": "is_not",
        "entity_id": "input_select.entertainment_activity",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 670,
        "y": 1380,
        "wires": [
            [
                "207e1edd1118b4af"
            ],
            []
        ]
    },
    {
        "id": "207e1edd1118b4af",
        "type": "api-call-service",
        "z": "39f5e6336137f4b2",
        "g": "23bb85dc835b75e6",
        "name": "select entertainment activity TV",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "input_select.select_option",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_select.entertainment_activity"
        ],
        "labelId": [],
        "data": "{\"option\":\"TV\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "input_select",
        "service": "select_option",
        "x": 990,
        "y": 1380,
        "wires": [
            []
        ]
    },
    {
        "id": "2784788ce65fb972",
        "type": "comment",
        "z": "39f5e6336137f4b2",
        "g": "23bb85dc835b75e6",
        "name": "input select tv",
        "info": "",
        "x": 110,
        "y": 1340,
        "wires": []
    },
    {
        "id": "1f002901ca051fb8",
        "type": "server-state-changed",
        "z": "39f5e6336137f4b2",
        "g": "354f493dd21d89a6",
        "name": "state media player powernode",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "media_player.powernode_2i_ea48"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": true,
        "stateType": "str",
        "ifState": "paused",
        "ifStateType": "str",
        "ifStateOperator": "is_not",
        "outputOnlyOnStateChange": false,
        "for": "1",
        "forType": "num",
        "forUnits": "seconds",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 160,
        "y": 1240,
        "wires": [
            [
                "d2469e552aa559a3"
            ],
            []
        ]
    },
    {
        "id": "d2469e552aa559a3",
        "type": "switch",
        "z": "39f5e6336137f4b2",
        "g": "354f493dd21d89a6",
        "name": "",
        "property": "data.new_state.timeSinceChangedMs",
        "propertyType": "msg",
        "rules": [
            {
                "t": "gt",
                "v": "20",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 350,
        "y": 1240,
        "wires": [
            [
                "0a97895675822841"
            ]
        ]
    },
    {
        "id": "0a97895675822841",
        "type": "rbe",
        "z": "39f5e6336137f4b2",
        "g": "354f493dd21d89a6",
        "name": "",
        "func": "rbe",
        "gap": "",
        "start": "",
        "inout": "out",
        "septopics": true,
        "property": "payload",
        "topi": "topic",
        "x": 470,
        "y": 1240,
        "wires": [
            [
                "37a61d11bf9ce0ab"
            ]
        ]
    },
    {
        "id": "37a61d11bf9ce0ab",
        "type": "switch",
        "z": "39f5e6336137f4b2",
        "g": "354f493dd21d89a6",
        "name": "content type",
        "property": "data.new_state.attributes.media_content_type",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "music",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 610,
        "y": 1240,
        "wires": [
            [
                "cbfb0a5eb7b1a139"
            ]
        ]
    },
    {
        "id": "cbfb0a5eb7b1a139",
        "type": "switch",
        "z": "39f5e6336137f4b2",
        "g": "354f493dd21d89a6",
        "name": "source",
        "property": "data.new_state.attributes.source",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "Spotify",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 750,
        "y": 1240,
        "wires": [
            [
                "44ccff64331a48d4"
            ]
        ]
    },
    {
        "id": "44ccff64331a48d4",
        "type": "api-call-service",
        "z": "39f5e6336137f4b2",
        "g": "354f493dd21d89a6",
        "name": "select entertainment activity Spotify",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "input_select.select_option",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_select.entertainment_activity"
        ],
        "labelId": [],
        "data": "{\"option\":\"Muziek\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "input_select",
        "service": "select_option",
        "x": 960,
        "y": 1240,
        "wires": [
            []
        ]
    },
    {
        "id": "8974b3e5cc82c6b9",
        "type": "comment",
        "z": "39f5e6336137f4b2",
        "g": "354f493dd21d89a6",
        "name": "select entertainment activity based on powernode content",
        "info": "",
        "x": 250,
        "y": 1200,
        "wires": []
    },
    {
        "id": "a39ce2d3dcb2fa52",
        "type": "server-state-changed",
        "z": "39f5e6336137f4b2",
        "d": true,
        "g": "71f25ae3f0829bda",
        "name": "state media player bluesound",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 1,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "media_player.powernode_2i_ea48_music_assistant"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": true,
        "stateType": "str",
        "ifState": "",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": false,
        "for": "",
        "forType": "num",
        "forUnits": "milliseconds",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 160,
        "y": 1040,
        "wires": [
            [
                "e40f3ebc2b772714"
            ]
        ]
    },
    {
        "id": "e40f3ebc2b772714",
        "type": "api-current-state",
        "z": "39f5e6336137f4b2",
        "g": "71f25ae3f0829bda",
        "name": "select entertainment activity is not Uitschakelen",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "Uitschakelen",
        "halt_if_type": "str",
        "halt_if_compare": "is_not",
        "entity_id": "input_select.entertainment_activity",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 480,
        "y": 1040,
        "wires": [
            [
                "0e05b01a3088ebe6"
            ],
            []
        ]
    },
    {
        "id": "0e05b01a3088ebe6",
        "type": "api-current-state",
        "z": "39f5e6336137f4b2",
        "g": "71f25ae3f0829bda",
        "name": "input select media source livingroom tv",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "Woonkamer TV",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_select.mediaplayer_destination",
        "state_type": "str",
        "blockInputOverrides": true,
        "outputProperties": [],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 830,
        "y": 1040,
        "wires": [
            [
                "210f99cc3d429b16"
            ],
            []
        ]
    },
    {
        "id": "210f99cc3d429b16",
        "type": "switch",
        "z": "39f5e6336137f4b2",
        "g": "71f25ae3f0829bda",
        "name": "source",
        "property": "data.new_state.attributes.media_content_id",
        "propertyType": "msg",
        "rules": [
            {
                "t": "cont",
                "v": "radio",
                "vt": "str"
            },
            {
                "t": "cont",
                "v": "track",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1050,
        "y": 1040,
        "wires": [
            [
                "6739b21acd1ca7bf"
            ],
            [
                "439e4873d68ce6f4"
            ]
        ]
    },
    {
        "id": "6739b21acd1ca7bf",
        "type": "api-current-state",
        "z": "39f5e6336137f4b2",
        "g": "71f25ae3f0829bda",
        "name": "select entertainment activity is not Radio",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "Radio",
        "halt_if_type": "str",
        "halt_if_compare": "is_not",
        "entity_id": "input_select.entertainment_activity",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 1280,
        "y": 1040,
        "wires": [
            [
                "e6b09e369fa79397"
            ],
            []
        ]
    },
    {
        "id": "439e4873d68ce6f4",
        "type": "api-current-state",
        "z": "39f5e6336137f4b2",
        "g": "71f25ae3f0829bda",
        "name": "select entertainment activity is not Muziek",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "Muziek",
        "halt_if_type": "str",
        "halt_if_compare": "is_not",
        "entity_id": "input_select.entertainment_activity",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 1280,
        "y": 1100,
        "wires": [
            [
                "bf21fecdc989374a"
            ],
            []
        ]
    },
    {
        "id": "e6b09e369fa79397",
        "type": "api-call-service",
        "z": "39f5e6336137f4b2",
        "g": "71f25ae3f0829bda",
        "name": "select entertainment activity Radio",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "input_select.select_option",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_select.entertainment_activity"
        ],
        "labelId": [],
        "data": "{\"option\":\"Radio\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "input_select",
        "service": "select_option",
        "x": 1600,
        "y": 1040,
        "wires": [
            []
        ]
    },
    {
        "id": "bf21fecdc989374a",
        "type": "api-call-service",
        "z": "39f5e6336137f4b2",
        "g": "71f25ae3f0829bda",
        "name": "select entertainment activity Muziek",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "input_select.select_option",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_select.entertainment_activity"
        ],
        "labelId": [],
        "data": "{\"option\":\"Muziek\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "input_select",
        "service": "select_option",
        "x": 1600,
        "y": 1100,
        "wires": [
            []
        ]
    },
    {
        "id": "494e70afb45368b6",
        "type": "comment",
        "z": "39f5e6336137f4b2",
        "g": "71f25ae3f0829bda",
        "name": "select entertainment activity based on media player content",
        "info": "",
        "x": 250,
        "y": 1000,
        "wires": []
    },
    {
        "id": "83c6eaa1642b6dc4",
        "type": "inject",
        "z": "39f5e6336137f4b2",
        "g": "73746a7917fbe356",
        "name": "room",
        "props": [
            {
                "p": "room.friendly_name",
                "v": "woonkamer",
                "vt": "str"
            },
            {
                "p": "room.ha_id",
                "v": "living_room",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": "1",
        "topic": "",
        "x": 110,
        "y": 200,
        "wires": [
            [
                "3525ce8bbcca4c19"
            ]
        ]
    },
    {
        "id": "3525ce8bbcca4c19",
        "type": "change",
        "z": "39f5e6336137f4b2",
        "g": "73746a7917fbe356",
        "name": "set room variables",
        "rules": [
            {
                "t": "set",
                "p": "#:(file)::room",
                "pt": "flow",
                "to": "room",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 270,
        "y": 200,
        "wires": [
            []
        ]
    },
    {
        "id": "39d84b0af6bf22da",
        "type": "comment",
        "z": "39f5e6336137f4b2",
        "g": "73746a7917fbe356",
        "name": "add room variables to the context store so it can be reused in the flow",
        "info": "",
        "x": 290,
        "y": 160,
        "wires": []
    },
    {
        "id": "a50b36c508ee1125",
        "type": "server-state-changed",
        "z": "39f5e6336137f4b2",
        "g": "59a9dccc6e2c8820",
        "name": "universal tv is not playing",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 1,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "media_player.universal_tv",
                "media_player.shield"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": true,
        "stateType": "str",
        "ifState": "",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 150,
        "y": 1860,
        "wires": [
            [
                "5e6c2b35b3d20cc1"
            ]
        ]
    },
    {
        "id": "b17acb7df0bb2bd2",
        "type": "switch",
        "z": "39f5e6336137f4b2",
        "g": "59a9dccc6e2c8820",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "playing",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "paused",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 450,
        "y": 1860,
        "wires": [
            [
                "d9540c933a60aec7",
                "9bfa5f87424a529d"
            ],
            [
                "f8003d1746659317"
            ]
        ]
    },
    {
        "id": "d9540c933a60aec7",
        "type": "change",
        "z": "39f5e6336137f4b2",
        "g": "59a9dccc6e2c8820",
        "name": "set payload stop",
        "rules": [
            {
                "t": "set",
                "p": "reset",
                "pt": "msg",
                "to": "",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 620,
        "y": 1880,
        "wires": [
            [
                "4539dbe872caf169",
                "19b08832ac41fe31"
            ]
        ]
    },
    {
        "id": "9bfa5f87424a529d",
        "type": "link out",
        "z": "39f5e6336137f4b2",
        "g": "59a9dccc6e2c8820",
        "name": "link_out_tv_screen_turn_on",
        "mode": "link",
        "links": [
            "dec99c0ab95cf46a"
        ],
        "x": 555,
        "y": 1840,
        "wires": []
    },
    {
        "id": "19b08832ac41fe31",
        "type": "delay",
        "z": "39f5e6336137f4b2",
        "g": "59a9dccc6e2c8820",
        "name": "",
        "pauseType": "delay",
        "timeout": "10",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 800,
        "y": 1940,
        "wires": [
            [
                "382a831c1568641b",
                "b3f587190264a6a8"
            ]
        ]
    },
    {
        "id": "a325b77f020cd697",
        "type": "switch",
        "z": "39f5e6336137f4b2",
        "g": "59a9dccc6e2c8820",
        "name": "",
        "property": "data.new_state.attributes.app_name",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "NLZIET",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 450,
        "y": 1980,
        "wires": [
            [
                "f8003d1746659317"
            ]
        ]
    },
    {
        "id": "382a831c1568641b",
        "type": "delay",
        "z": "39f5e6336137f4b2",
        "g": "59a9dccc6e2c8820",
        "name": "",
        "pauseType": "delay",
        "timeout": "10",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 1000,
        "y": 1940,
        "wires": [
            [
                "058b6bfd406a2ad0"
            ]
        ]
    },
    {
        "id": "b3f587190264a6a8",
        "type": "api-current-state",
        "z": "39f5e6336137f4b2",
        "g": "59a9dccc6e2c8820",
        "name": "tv is on",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is_not",
        "entity_id": "media_player.lg_webos_smart_tv",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 960,
        "y": 2000,
        "wires": [
            [
                "18cdd9064f4a7ab9"
            ],
            []
        ]
    },
    {
        "id": "b822a9f31018d2a0",
        "type": "switch",
        "z": "39f5e6336137f4b2",
        "g": "59a9dccc6e2c8820",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "idle",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 330,
        "y": 1980,
        "wires": [
            [
                "a325b77f020cd697"
            ]
        ]
    },
    {
        "id": "058b6bfd406a2ad0",
        "type": "link out",
        "z": "39f5e6336137f4b2",
        "g": "59a9dccc6e2c8820",
        "name": "link_out_tv_screen_turn_off",
        "mode": "link",
        "links": [
            "1e4e8287439e54f1"
        ],
        "x": 1095,
        "y": 1940,
        "wires": []
    },
    {
        "id": "18cdd9064f4a7ab9",
        "type": "api-call-service",
        "z": "39f5e6336137f4b2",
        "g": "59a9dccc6e2c8820",
        "name": "current tv state",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "webostv.command",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [],
        "labelId": [],
        "data": "{\"entity_id\":\"media_player.lg_webos_smart_tv\",\"command\":\"com.webos.service.tvpower/power/getPowerState\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [
            {
                "property": "state",
                "propertyType": "msg",
                "value": "",
                "valueType": "results"
            }
        ],
        "queue": "none",
        "blockInputOverrides": true,
        "domain": "webostv",
        "service": "command",
        "x": 1120,
        "y": 2000,
        "wires": [
            [
                "54e3e2b794b71880"
            ]
        ]
    },
    {
        "id": "710a9c0fa290ab6f",
        "type": "server-state-changed",
        "z": "39f5e6336137f4b2",
        "g": "59a9dccc6e2c8820",
        "name": "mediaplayer shield is idle",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 1,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "media_player.shield"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": true,
        "stateType": "str",
        "ifState": "",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": false,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 150,
        "y": 1980,
        "wires": [
            [
                "b822a9f31018d2a0"
            ]
        ]
    },
    {
        "id": "54e3e2b794b71880",
        "type": "switch",
        "z": "39f5e6336137f4b2",
        "g": "59a9dccc6e2c8820",
        "name": "active",
        "property": "state[\"media_player.lg_webos_smart_tv\"].state",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "Active",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1270,
        "y": 2000,
        "wires": [
            [
                "a9227561e7f66936"
            ]
        ]
    },
    {
        "id": "a9227561e7f66936",
        "type": "api-call-service",
        "z": "39f5e6336137f4b2",
        "g": "59a9dccc6e2c8820",
        "name": "notify tv",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "notify.lg_webos_smart_tv",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [],
        "labelId": [],
        "data": "{\"message\":\"TV scherm gaat over 10 seconde automatisch op zwart. \",\"title\":\"TV scherm\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "turn_off",
                "valueType": "str"
            }
        ],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "notify",
        "service": "lg_webos_smart_tv",
        "x": 1400,
        "y": 2000,
        "wires": [
            []
        ]
    },
    {
        "id": "2a804e94931f7201",
        "type": "comment",
        "z": "39f5e6336137f4b2",
        "g": "59a9dccc6e2c8820",
        "name": "turn off tvscreen when nothing is playing and turn back on when mediaplayer start playing",
        "info": "",
        "x": 350,
        "y": 1800,
        "wires": []
    },
    {
        "id": "e6674374ecfdefa0",
        "type": "comment",
        "z": "39f5e6336137f4b2",
        "g": "13c66868b5eefa83",
        "name": "turn off tv screen to save energy and to prevent pixel burn in",
        "info": "",
        "x": 260,
        "y": 2100,
        "wires": []
    },
    {
        "id": "75b84d8bf5e2faeb",
        "type": "api-call-service",
        "z": "39f5e6336137f4b2",
        "g": "13c66868b5eefa83",
        "name": "tvscreen turn on",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "webostv.command",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [],
        "labelId": [],
        "data": "{\"entity_id\":\"media_player.lg_webos_smart_tv\",\"command\":\"com.webos.service.tvpower/power/turnOnScreen\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "webostv",
        "service": "command",
        "x": 800,
        "y": 2160,
        "wires": [
            []
        ]
    },
    {
        "id": "7ee0608b0362347d",
        "type": "api-call-service",
        "z": "39f5e6336137f4b2",
        "g": "13c66868b5eefa83",
        "name": "current tv state",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "webostv.command",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [],
        "labelId": [],
        "data": "{\"entity_id\":\"media_player.lg_webos_smart_tv\",\"command\":\"com.webos.service.tvpower/power/getPowerState\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [
            {
                "property": "state",
                "propertyType": "msg",
                "value": "",
                "valueType": "results"
            }
        ],
        "queue": "none",
        "blockInputOverrides": true,
        "domain": "webostv",
        "service": "command",
        "x": 500,
        "y": 2160,
        "wires": [
            [
                "3905cfef0361c276"
            ]
        ]
    },
    {
        "id": "3905cfef0361c276",
        "type": "switch",
        "z": "39f5e6336137f4b2",
        "g": "13c66868b5eefa83",
        "name": "",
        "property": "state[\"media_player.lg_webos_smart_tv\"].state",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "Screen Off",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 650,
        "y": 2160,
        "wires": [
            [
                "75b84d8bf5e2faeb"
            ]
        ]
    },
    {
        "id": "dec99c0ab95cf46a",
        "type": "link in",
        "z": "39f5e6336137f4b2",
        "g": "13c66868b5eefa83",
        "name": "on",
        "links": [
            "9bfa5f87424a529d",
            "cc95177ff7dd19c7"
        ],
        "x": 225,
        "y": 2160,
        "wires": [
            [
                "c63b94a1bcddb5f9"
            ]
        ]
    },
    {
        "id": "1e4e8287439e54f1",
        "type": "link in",
        "z": "39f5e6336137f4b2",
        "g": "13c66868b5eefa83",
        "name": "off",
        "links": [
            "058b6bfd406a2ad0"
        ],
        "x": 225,
        "y": 2220,
        "wires": [
            [
                "462935c54d978b2f"
            ]
        ]
    },
    {
        "id": "daac1efc716c9aa2",
        "type": "api-call-service",
        "z": "39f5e6336137f4b2",
        "g": "13c66868b5eefa83",
        "name": "current tv state",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "webostv.command",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [],
        "labelId": [],
        "data": "{\"entity_id\":\"media_player.lg_webos_smart_tv\",\"command\":\"com.webos.service.tvpower/power/getPowerState\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [
            {
                "property": "state",
                "propertyType": "msg",
                "value": "",
                "valueType": "results"
            }
        ],
        "queue": "none",
        "blockInputOverrides": true,
        "domain": "webostv",
        "service": "command",
        "x": 500,
        "y": 2220,
        "wires": [
            [
                "9dd84bc036be6c85"
            ]
        ]
    },
    {
        "id": "9dd84bc036be6c85",
        "type": "switch",
        "z": "39f5e6336137f4b2",
        "g": "13c66868b5eefa83",
        "name": "",
        "property": "state[\"media_player.lg_webos_smart_tv\"].state",
        "propertyType": "msg",
        "rules": [
            {
                "t": "neq",
                "v": "Screen Off",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 650,
        "y": 2220,
        "wires": [
            [
                "c054e6f474b4191e"
            ]
        ]
    },
    {
        "id": "c054e6f474b4191e",
        "type": "api-call-service",
        "z": "39f5e6336137f4b2",
        "g": "13c66868b5eefa83",
        "name": "tvscreen turn off",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "webostv.command",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [],
        "labelId": [],
        "data": "{\"entity_id\":\"media_player.lg_webos_smart_tv\",\"command\":\"com.webos.service.tvpower/power/turnOffScreen\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "webostv",
        "service": "command",
        "x": 800,
        "y": 2220,
        "wires": [
            []
        ]
    },
    {
        "id": "c63b94a1bcddb5f9",
        "type": "api-current-state",
        "z": "39f5e6336137f4b2",
        "g": "13c66868b5eefa83",
        "name": "tv is on",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "media_player.lg_webos_smart_tv",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 340,
        "y": 2160,
        "wires": [
            [
                "7ee0608b0362347d"
            ],
            []
        ]
    },
    {
        "id": "462935c54d978b2f",
        "type": "api-current-state",
        "z": "39f5e6336137f4b2",
        "g": "13c66868b5eefa83",
        "name": "tv is on",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "media_player.lg_webos_smart_tv",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 340,
        "y": 2220,
        "wires": [
            [
                "daac1efc716c9aa2"
            ],
            []
        ]
    },
    {
        "id": "d42cee1b019d7e42",
        "type": "ha-button",
        "z": "39f5e6336137f4b2",
        "g": "13c66868b5eefa83",
        "name": "tv screen toggle button",
        "version": 0,
        "debugenabled": false,
        "outputs": 1,
        "entityConfig": "129d3d14acdc46a3",
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "x": 140,
        "y": 2280,
        "wires": [
            [
                "c63b94a1bcddb5f9",
                "462935c54d978b2f"
            ]
        ]
    },
    {
        "id": "5e6c2b35b3d20cc1",
        "type": "rbe",
        "z": "39f5e6336137f4b2",
        "g": "59a9dccc6e2c8820",
        "name": "",
        "func": "rbe",
        "gap": "",
        "start": "",
        "inout": "out",
        "septopics": false,
        "property": "payload",
        "topi": "topic",
        "x": 330,
        "y": 1860,
        "wires": [
            [
                "b17acb7df0bb2bd2"
            ]
        ]
    },
    {
        "id": "6e79bc1726b0ef67",
        "type": "catch",
        "z": "94466ab2e543aa2f",
        "g": "d682f69e7ce22c8f",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 60,
        "wires": [
            [
                "5b124ad54f888554"
            ]
        ]
    },
    {
        "id": "5b124ad54f888554",
        "type": "template",
        "z": "94466ab2e543aa2f",
        "g": "d682f69e7ce22c8f",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 60,
        "wires": [
            [
                "d401844673ba904e"
            ]
        ]
    },
    {
        "id": "651e1d1bfb037f1b",
        "type": "link out",
        "z": "94466ab2e543aa2f",
        "g": "d682f69e7ce22c8f",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 675,
        "y": 60,
        "wires": []
    },
    {
        "id": "d401844673ba904e",
        "type": "template",
        "z": "94466ab2e543aa2f",
        "g": "d682f69e7ce22c8f",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 60,
        "wires": [
            [
                "2262f2a2e5fc42b1"
            ]
        ]
    },
    {
        "id": "2262f2a2e5fc42b1",
        "type": "function",
        "z": "94466ab2e543aa2f",
        "g": "d682f69e7ce22c8f",
        "name": "notify.notification_id",
        "func": "msg.notify.notification_id = Date.now().toString(36) + Math.random().toString(36);\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 550,
        "y": 60,
        "wires": [
            [
                "651e1d1bfb037f1b"
            ]
        ]
    },
    {
        "id": "38359ee3075d7265",
        "type": "switch",
        "z": "94466ab2e543aa2f",
        "g": "ec2f567862ba39b8",
        "name": "click type channel 2",
        "property": "payload.event.click_type",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "single",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "double",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "triple",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "long",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "single_long",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "long_single",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 6,
        "x": 630,
        "y": 660,
        "wires": [
            [
                "c7889bf53b45acd0"
            ],
            [
                "b683652c36e89d93"
            ],
            [
                "12623d2f9eb2f4d2"
            ],
            [
                "0a529779203ff3d6"
            ],
            [
                "257a3fc6c1e0caff"
            ],
            [
                "434c2e9a25561bbe"
            ]
        ]
    },
    {
        "id": "114df27610bf61b8",
        "type": "switch",
        "z": "94466ab2e543aa2f",
        "g": "ec2f567862ba39b8",
        "name": "click type channel 1",
        "property": "payload.event.click_type",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "single",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "double",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "triple",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "long",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "single_long",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "long_single",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 6,
        "x": 630,
        "y": 420,
        "wires": [
            [
                "b55a1b1c2ee46b70"
            ],
            [
                "2d71a81ca51a22dc"
            ],
            [
                "80f341496b680f21"
            ],
            [
                "02001e33ab1a7769"
            ],
            [
                "92a5fdf9411f1451"
            ],
            [
                "db0951fa1bf62652"
            ]
        ]
    },
    {
        "id": "5de4c93f0f01b4d6",
        "type": "switch",
        "z": "94466ab2e543aa2f",
        "g": "ec2f567862ba39b8",
        "name": "channel 1 or 2",
        "property": "payload.event.channel",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "2",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 420,
        "y": 540,
        "wires": [
            [
                "114df27610bf61b8"
            ],
            [
                "38359ee3075d7265"
            ]
        ]
    },
    {
        "id": "0260edcb14ed697c",
        "type": "server-events",
        "z": "94466ab2e543aa2f",
        "g": "ec2f567862ba39b8",
        "name": "shellyi3 livingroom click events",
        "server": "4ba92433.2478cc",
        "version": 3,
        "exposeAsEntityConfig": "",
        "eventType": "shelly.click",
        "eventData": "{\"device\":\"shellyix3-68C63AFAA400\"}",
        "waitForRunning": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "$outputData(\"eventData\").event_type",
                "valueType": "jsonata"
            }
        ],
        "event_type": "",
        "x": 190,
        "y": 540,
        "wires": [
            [
                "5de4c93f0f01b4d6"
            ]
        ]
    },
    {
        "id": "2d71a81ca51a22dc",
        "type": "link out",
        "z": "94466ab2e543aa2f",
        "g": "ec2f567862ba39b8",
        "name": "channel 1 double",
        "mode": "link",
        "links": [
            "321f94ddeb0d231e"
        ],
        "x": 835,
        "y": 360,
        "wires": []
    },
    {
        "id": "b55a1b1c2ee46b70",
        "type": "link out",
        "z": "94466ab2e543aa2f",
        "g": "ec2f567862ba39b8",
        "name": "channel 1 single",
        "mode": "link",
        "links": [
            "24f07e9dc4f73d1e"
        ],
        "x": 835,
        "y": 320,
        "wires": []
    },
    {
        "id": "80f341496b680f21",
        "type": "link out",
        "z": "94466ab2e543aa2f",
        "g": "ec2f567862ba39b8",
        "name": "channel 1 triple",
        "mode": "link",
        "links": [],
        "x": 835,
        "y": 400,
        "wires": []
    },
    {
        "id": "02001e33ab1a7769",
        "type": "link out",
        "z": "94466ab2e543aa2f",
        "g": "ec2f567862ba39b8",
        "name": "channel 1 long",
        "mode": "link",
        "links": [],
        "x": 835,
        "y": 440,
        "wires": []
    },
    {
        "id": "92a5fdf9411f1451",
        "type": "link out",
        "z": "94466ab2e543aa2f",
        "g": "ec2f567862ba39b8",
        "name": "channel 1 single + long",
        "mode": "link",
        "links": [],
        "x": 835,
        "y": 480,
        "wires": []
    },
    {
        "id": "db0951fa1bf62652",
        "type": "link out",
        "z": "94466ab2e543aa2f",
        "g": "ec2f567862ba39b8",
        "name": "channel 1 long + single",
        "mode": "link",
        "links": [],
        "x": 835,
        "y": 520,
        "wires": []
    },
    {
        "id": "b683652c36e89d93",
        "type": "link out",
        "z": "94466ab2e543aa2f",
        "g": "ec2f567862ba39b8",
        "name": "channel 2 double",
        "mode": "link",
        "links": [
            "669938235d33a02d"
        ],
        "x": 835,
        "y": 600,
        "wires": []
    },
    {
        "id": "c7889bf53b45acd0",
        "type": "link out",
        "z": "94466ab2e543aa2f",
        "g": "ec2f567862ba39b8",
        "name": "channel 2 single",
        "mode": "link",
        "links": [
            "f27f06b74e5f3830"
        ],
        "x": 835,
        "y": 560,
        "wires": []
    },
    {
        "id": "12623d2f9eb2f4d2",
        "type": "link out",
        "z": "94466ab2e543aa2f",
        "g": "ec2f567862ba39b8",
        "name": "channel 2 triple",
        "mode": "link",
        "links": [],
        "x": 835,
        "y": 640,
        "wires": []
    },
    {
        "id": "0a529779203ff3d6",
        "type": "link out",
        "z": "94466ab2e543aa2f",
        "g": "ec2f567862ba39b8",
        "name": "channel 2 long",
        "mode": "link",
        "links": [],
        "x": 835,
        "y": 680,
        "wires": []
    },
    {
        "id": "257a3fc6c1e0caff",
        "type": "link out",
        "z": "94466ab2e543aa2f",
        "g": "ec2f567862ba39b8",
        "name": "channel 2 single + long",
        "mode": "link",
        "links": [
            "2352748556d6fb89"
        ],
        "x": 835,
        "y": 720,
        "wires": []
    },
    {
        "id": "434c2e9a25561bbe",
        "type": "link out",
        "z": "94466ab2e543aa2f",
        "g": "ec2f567862ba39b8",
        "name": "channel 2 long + single",
        "mode": "link",
        "links": [],
        "x": 835,
        "y": 760,
        "wires": []
    },
    {
        "id": "bcb591880f5b770b",
        "type": "comment",
        "z": "94466ab2e543aa2f",
        "g": "ec2f567862ba39b8",
        "name": "shelly i3 actions channel 1 is the right button channel 2 is the left button",
        "info": "[shellyi3.lan.stamx.nl](http://shellyi3.lan.stamx.nl)",
        "x": 290,
        "y": 320,
        "wires": []
    },
    {
        "id": "e74a05e1304af39d",
        "type": "api-call-service",
        "z": "94466ab2e543aa2f",
        "g": "3fb93bcbbbabba08",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "climate.set_temperature",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "climate.living_room"
        ],
        "labelId": [],
        "data": "{\"temperature\":\"{{target_temp}}\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": true,
        "domain": "climate",
        "service": "set_temperature",
        "x": 870,
        "y": 900,
        "wires": [
            []
        ]
    },
    {
        "id": "0f11c9fe3c952101",
        "type": "comment",
        "z": "94466ab2e543aa2f",
        "g": "3fb93bcbbbabba08",
        "name": "set thermostats to 16 degree celcius when nobody is home or sleepmode has turned on",
        "info": "",
        "x": 340,
        "y": 860,
        "wires": []
    },
    {
        "id": "6803085629891ea7",
        "type": "template",
        "z": "94466ab2e543aa2f",
        "g": "3fb93bcbbbabba08",
        "name": "target temp",
        "field": "target_temp",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "16",
        "output": "str",
        "x": 670,
        "y": 900,
        "wires": [
            [
                "e74a05e1304af39d"
            ]
        ]
    },
    {
        "id": "1ddf1eb78ab3cf78",
        "type": "link in",
        "z": "94466ab2e543aa2f",
        "g": "3fb93bcbbbabba08",
        "name": "set away temperature tado thermostats",
        "links": [
            "e6b9ff42fde3ea4e"
        ],
        "x": 545,
        "y": 940,
        "wires": [
            [
                "6803085629891ea7"
            ]
        ]
    },
    {
        "id": "c70694fda8b31d8a",
        "type": "subflow:9ea6eabfb34d96e0",
        "z": "94466ab2e543aa2f",
        "g": "3fb93bcbbbabba08",
        "name": "",
        "x": 430,
        "y": 900,
        "wires": [
            [
                "6803085629891ea7"
            ]
        ]
    },
    {
        "id": "083baee4c7ebbc54",
        "type": "server-state-changed",
        "z": "94466ab2e543aa2f",
        "g": "e164c80e56d45732",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 1,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "sensor.living_room_heating"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": true,
        "stateType": "num",
        "ifState": "",
        "ifStateType": "num",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": false,
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 200,
        "y": 1080,
        "wires": [
            [
                "eff6de7e08e846f7"
            ]
        ]
    },
    {
        "id": "eff6de7e08e846f7",
        "type": "switch",
        "z": "94466ab2e543aa2f",
        "g": "e164c80e56d45732",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            },
            {
                "t": "gte",
                "v": "1",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 430,
        "y": 1080,
        "wires": [
            [
                "b543e6f17b4d4a1b"
            ],
            [
                "0229302b9d68cb4e"
            ]
        ]
    },
    {
        "id": "0229302b9d68cb4e",
        "type": "link out",
        "z": "94466ab2e543aa2f",
        "g": "e164c80e56d45732",
        "name": "heating power >= 1 (on)",
        "mode": "link",
        "links": [
            "c3a4b207319d8610"
        ],
        "x": 535,
        "y": 1120,
        "wires": []
    },
    {
        "id": "b543e6f17b4d4a1b",
        "type": "link out",
        "z": "94466ab2e543aa2f",
        "g": "e164c80e56d45732",
        "name": "heating power = 0 (off)",
        "mode": "link",
        "links": [
            "765822175b8ceb64"
        ],
        "x": 535,
        "y": 1080,
        "wires": []
    },
    {
        "id": "a468e8e3b92bbb22",
        "type": "comment",
        "z": "94466ab2e543aa2f",
        "g": "e164c80e56d45732",
        "name": "turn on or off cv boiler heating when heating power state change",
        "info": "",
        "x": 270,
        "y": 1040,
        "wires": []
    },
    {
        "id": "2127f9679d74bffa",
        "type": "api-call-service",
        "z": "94466ab2e543aa2f",
        "d": true,
        "g": "ebd96689a07f730e",
        "name": "turn on light christmas tree",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "light.christmas_tree"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "light",
        "service": "turn_on",
        "x": 760,
        "y": 2620,
        "wires": [
            []
        ]
    },
    {
        "id": "d244c71c8ebb21ec",
        "type": "api-current-state",
        "z": "94466ab2e543aa2f",
        "d": true,
        "g": "ebd96689a07f730e",
        "name": "state christmas tree light off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "light.christmas_tree",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 500,
        "y": 2620,
        "wires": [
            [
                "2127f9679d74bffa"
            ],
            []
        ]
    },
    {
        "id": "00d86418429f8cbc",
        "type": "subflow:ad57f56dd92dd9d6",
        "z": "94466ab2e543aa2f",
        "g": "ebd96689a07f730e",
        "name": "",
        "x": 190,
        "y": 2620,
        "wires": [
            [
                "d244c71c8ebb21ec"
            ],
            [],
            [],
            [],
            []
        ]
    },
    {
        "id": "bf14ecf8f5bb3f7e",
        "type": "comment",
        "z": "94466ab2e543aa2f",
        "g": "ebd96689a07f730e",
        "name": "turn on or off christmas tree light",
        "info": "",
        "x": 190,
        "y": 2520,
        "wires": []
    },
    {
        "id": "7b5673b20cc32ea8",
        "type": "api-current-state",
        "z": "94466ab2e543aa2f",
        "d": true,
        "g": "ebd96689a07f730e",
        "name": "state christmas tree light on",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "light.christmas_tree",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 500,
        "y": 2580,
        "wires": [
            [
                "74a8772920457cd4"
            ],
            []
        ]
    },
    {
        "id": "74a8772920457cd4",
        "type": "api-call-service",
        "z": "94466ab2e543aa2f",
        "d": true,
        "g": "ebd96689a07f730e",
        "name": "turn off light christmas tree",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "light.christmas_tree"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "light",
        "service": "turn_off",
        "x": 760,
        "y": 2580,
        "wires": [
            []
        ]
    },
    {
        "id": "321f94ddeb0d231e",
        "type": "link in",
        "z": "94466ab2e543aa2f",
        "g": "ebd96689a07f730e",
        "name": "toggle christmas tree light",
        "links": [
            "2d71a81ca51a22dc"
        ],
        "x": 315,
        "y": 2560,
        "wires": [
            [
                "d244c71c8ebb21ec",
                "7b5673b20cc32ea8"
            ]
        ]
    },
    {
        "id": "1c9555d76592af83",
        "type": "api-call-service",
        "z": "94466ab2e543aa2f",
        "g": "a2cb8e43bd2538c0",
        "name": "light turn on 22 pct brightness",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "light.shellydimmer_living_room"
        ],
        "labelId": [],
        "data": "{\"brightness_pct\":22}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": true,
        "domain": "light",
        "service": "turn_on",
        "x": 1380,
        "y": 2780,
        "wires": [
            []
        ]
    },
    {
        "id": "1cc104eb3c21317e",
        "type": "api-current-state",
        "z": "94466ab2e543aa2f",
        "g": "a2cb8e43bd2538c0",
        "name": "sleepmode is off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.sleep_mode",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 710,
        "y": 2780,
        "wires": [
            [
                "b7171475ccc7e603"
            ],
            []
        ]
    },
    {
        "id": "7b0e600c08b2a818",
        "type": "comment",
        "z": "94466ab2e543aa2f",
        "g": "a2cb8e43bd2538c0",
        "name": "turn on living room lights when it is dark outside and the tv is on",
        "info": "",
        "x": 290,
        "y": 2740,
        "wires": []
    },
    {
        "id": "4304bcd236041ea3",
        "type": "inject",
        "z": "94466ab2e543aa2f",
        "g": "fc8d50709b443310",
        "name": "daily 06:15",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "15 06 * * *",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "on",
        "payloadType": "str",
        "x": 130,
        "y": 1260,
        "wires": [
            [
                "0997fbf22873b143"
            ]
        ]
    },
    {
        "id": "3d5d61c5d4f51138",
        "type": "comment",
        "z": "94466ab2e543aa2f",
        "g": "fc8d50709b443310",
        "name": "set default volume level of the wall tablet at 06:15",
        "info": "",
        "x": 220,
        "y": 1220,
        "wires": []
    },
    {
        "id": "0997fbf22873b143",
        "type": "api-call-service",
        "z": "94466ab2e543aa2f",
        "g": "fc8d50709b443310",
        "name": "set volume level wall tablet",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "media_player.volume_set",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "media_player.galaxy_tab_a8"
        ],
        "labelId": [],
        "data": "{\"volume_level\":0.75}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": true,
        "domain": "media_player",
        "service": "volume_set",
        "x": 340,
        "y": 1260,
        "wires": [
            []
        ]
    },
    {
        "id": "dd157891d647b031",
        "type": "comment",
        "z": "94466ab2e543aa2f",
        "g": "5f2ad5af5a457a7f",
        "name": "turn wall tablet screen on ",
        "info": "",
        "x": 150,
        "y": 1360,
        "wires": []
    },
    {
        "id": "6876d349911cfb92",
        "type": "subflow:ad57f56dd92dd9d6",
        "z": "94466ab2e543aa2f",
        "g": "5f2ad5af5a457a7f",
        "name": "",
        "x": 170,
        "y": 1420,
        "wires": [
            [
                "e54c75524f86d1e2"
            ],
            [],
            [],
            [
                "e54c75524f86d1e2"
            ],
            [
                "e54c75524f86d1e2"
            ]
        ]
    },
    {
        "id": "bd841cbf320510d2",
        "type": "link in",
        "z": "94466ab2e543aa2f",
        "g": "5f2ad5af5a457a7f",
        "name": "turn on wall tablet screen",
        "links": [
            "3bafb9626527259f",
            "578f9487e5b636d9",
            "8eeed77d329cda19",
            "e6b9ff42fde3ea4e",
            "598c87450fe46556",
            "3126533b3e0ad552",
            "df677727bba187cf"
        ],
        "x": 285,
        "y": 1520,
        "wires": [
            [
                "e54c75524f86d1e2"
            ]
        ]
    },
    {
        "id": "f27f06b74e5f3830",
        "type": "link in",
        "z": "94466ab2e543aa2f",
        "g": "7ca4c50fed9d5e2f",
        "name": "scene_load_start_url_galaxy_tab_a8",
        "links": [
            "c7889bf53b45acd0"
        ],
        "x": 245,
        "y": 1680,
        "wires": [
            [
                "13fdf8af8b362196"
            ]
        ]
    },
    {
        "id": "13fdf8af8b362196",
        "type": "api-current-state",
        "z": "94466ab2e543aa2f",
        "g": "7ca4c50fed9d5e2f",
        "name": "current galaxy tab a8 kiosk url",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 1,
        "halt_if": "",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "sensor.galaxy_tab_a8_current_page",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 410,
        "y": 1680,
        "wires": [
            [
                "0ac90869fbbde856"
            ]
        ]
    },
    {
        "id": "0ac90869fbbde856",
        "type": "switch",
        "z": "94466ab2e543aa2f",
        "g": "7ca4c50fed9d5e2f",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "cont",
                "v": "music-assistant",
                "vt": "str"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 610,
        "y": 1680,
        "wires": [
            [
                "30dcae507fef5930"
            ],
            [
                "3247c995547acec0"
            ]
        ]
    },
    {
        "id": "3247c995547acec0",
        "type": "api-call-service",
        "z": "94466ab2e543aa2f",
        "g": "7ca4c50fed9d5e2f",
        "name": "load music-assistant url",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "fully_kiosk.load_url",
        "floorId": [],
        "areaId": [],
        "deviceId": [
            "36fbed78e4e0f51c87776ebf7e560850"
        ],
        "entityId": [],
        "labelId": [],
        "data": "{\"url\":\"https://music-assistant.lan.stamx.nl\"}",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": true,
        "domain": "fully_kiosk",
        "service": "load_url",
        "x": 810,
        "y": 1740,
        "wires": [
            []
        ]
    },
    {
        "id": "30dcae507fef5930",
        "type": "api-call-service",
        "z": "94466ab2e543aa2f",
        "g": "7ca4c50fed9d5e2f",
        "name": "load start url galaxy tab a8",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "button.press",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "button.galaxy_tab_a8_load_start_url"
        ],
        "labelId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": true,
        "domain": "button",
        "service": "press",
        "x": 820,
        "y": 1680,
        "wires": [
            []
        ]
    },
    {
        "id": "a2a543d32872ce0d",
        "type": "comment",
        "z": "94466ab2e543aa2f",
        "g": "7ca4c50fed9d5e2f",
        "name": "toggle url in kiosk browser on wall tablet",
        "info": "",
        "x": 190,
        "y": 1640,
        "wires": []
    },
    {
        "id": "13cf75d97fbf793b",
        "type": "link in",
        "z": "94466ab2e543aa2f",
        "g": "a2cb8e43bd2538c0",
        "name": "turn on living room lights",
        "links": [
            "4a93ba39b988072a"
        ],
        "x": 305,
        "y": 2780,
        "wires": [
            [
                "9d3440869e61a51f"
            ]
        ]
    },
    {
        "id": "a47145bc0ca39416",
        "type": "subflow:ad57f56dd92dd9d6",
        "z": "94466ab2e543aa2f",
        "g": "a2cb8e43bd2538c0",
        "name": "",
        "x": 190,
        "y": 2900,
        "wires": [
            [
                "65c1beb3af49864c"
            ],
            [],
            [],
            [],
            []
        ]
    },
    {
        "id": "b7171475ccc7e603",
        "type": "api-current-state",
        "z": "94466ab2e543aa2f",
        "g": "a2cb8e43bd2538c0",
        "name": "daylight is off (dark)",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "binary_sensor.outdoor_daylight",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 910,
        "y": 2780,
        "wires": [
            [
                "14e7742560be87fb"
            ],
            []
        ]
    },
    {
        "id": "a8797e5acf899cbf",
        "type": "comment",
        "z": "94466ab2e543aa2f",
        "g": "97cc1a527f72ed4e",
        "name": "turn off living room lights when sleepmode turns on or the house is unoccupied",
        "info": "",
        "x": 330,
        "y": 3020,
        "wires": []
    },
    {
        "id": "4c4dc018f2002187",
        "type": "subflow:9ea6eabfb34d96e0",
        "z": "94466ab2e543aa2f",
        "g": "97cc1a527f72ed4e",
        "name": "",
        "x": 190,
        "y": 3060,
        "wires": [
            [
                "6c8db471867be131"
            ]
        ]
    },
    {
        "id": "6c8db471867be131",
        "type": "api-call-service",
        "z": "94466ab2e543aa2f",
        "g": "97cc1a527f72ed4e",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.turn_off",
        "floorId": [],
        "areaId": [
            "living_room"
        ],
        "deviceId": [],
        "entityId": [],
        "labelId": [],
        "data": "{\"transition\":5000}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": true,
        "domain": "light",
        "service": "turn_off",
        "x": 410,
        "y": 3060,
        "wires": [
            []
        ]
    },
    {
        "id": "0d887755bfdcf551",
        "type": "link in",
        "z": "94466ab2e543aa2f",
        "g": "97cc1a527f72ed4e",
        "name": "turn off living room lights",
        "links": [
            "e6b9ff42fde3ea4e"
        ],
        "x": 305,
        "y": 3100,
        "wires": [
            [
                "6c8db471867be131"
            ]
        ]
    },
    {
        "id": "e54c75524f86d1e2",
        "type": "delay",
        "z": "94466ab2e543aa2f",
        "g": "5f2ad5af5a457a7f",
        "name": "",
        "pauseType": "rate",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "10",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": true,
        "allowrate": false,
        "outputs": 1,
        "x": 460,
        "y": 1420,
        "wires": [
            [
                "5bf331b82522798e"
            ]
        ]
    },
    {
        "id": "5bf331b82522798e",
        "type": "api-call-service",
        "z": "94466ab2e543aa2f",
        "g": "5f2ad5af5a457a7f",
        "name": "turn on wall tablet screen",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "switch.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "switch.galaxy_tab_a8_screen"
        ],
        "labelId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "switch",
        "service": "turn_on",
        "x": 670,
        "y": 1420,
        "wires": [
            []
        ]
    },
    {
        "id": "9d3440869e61a51f",
        "type": "api-current-state",
        "z": "94466ab2e543aa2f",
        "g": "a2cb8e43bd2538c0",
        "name": "input select activity is tv",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "TV",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_select.entertainment_activity",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 490,
        "y": 2780,
        "wires": [
            [
                "1cc104eb3c21317e"
            ],
            []
        ]
    },
    {
        "id": "14e7742560be87fb",
        "type": "api-current-state",
        "z": "94466ab2e543aa2f",
        "g": "a2cb8e43bd2538c0",
        "name": "living room light is off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "light.shellydimmer_living_room",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 1130,
        "y": 2780,
        "wires": [
            [
                "1c9555d76592af83"
            ],
            []
        ]
    },
    {
        "id": "4b8679c14972be23",
        "type": "comment",
        "z": "94466ab2e543aa2f",
        "g": "a2cb8e43bd2538c0",
        "name": "turn on living room lights when house is getting ocuppied and light is off",
        "info": "",
        "x": 310,
        "y": 2840,
        "wires": []
    },
    {
        "id": "5430d71930b64448",
        "type": "delay",
        "z": "94466ab2e543aa2f",
        "g": "394e0231a1e3d873",
        "name": "random delay",
        "pauseType": "random",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "2",
        "randomLast": "20",
        "randomUnits": "minutes",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 920,
        "y": 3240,
        "wires": [
            [
                "113b4aa51efc55a3"
            ]
        ]
    },
    {
        "id": "fded5d70d3c53f4f",
        "type": "api-call-service",
        "z": "94466ab2e543aa2f",
        "g": "394e0231a1e3d873",
        "name": "turn on light",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "{{payload.entity_id}}"
        ],
        "labelId": [],
        "data": "{\"brightness_pct\":\"{{dimlevel}}\",\"transition\":5000}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "light",
        "service": "turn_on",
        "x": 670,
        "y": 3240,
        "wires": [
            [
                "5430d71930b64448"
            ]
        ]
    },
    {
        "id": "113b4aa51efc55a3",
        "type": "api-call-service",
        "z": "94466ab2e543aa2f",
        "g": "394e0231a1e3d873",
        "name": "turn off light",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "{{payload.entity_id}}"
        ],
        "labelId": [],
        "data": "{\"transition\":5000}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "light",
        "service": "turn_off",
        "x": 1090,
        "y": 3240,
        "wires": [
            []
        ]
    },
    {
        "id": "b3faeb3c1fda8af0",
        "type": "ha-get-entities",
        "z": "94466ab2e543aa2f",
        "g": "394e0231a1e3d873",
        "name": "pick a random light that is off",
        "server": "4ba92433.2478cc",
        "version": 1,
        "rules": [
            {
                "condition": "state_object",
                "property": "entity_id",
                "logic": "starts_with",
                "value": "light.",
                "valueType": "str"
            },
            {
                "condition": "state_object",
                "property": "state",
                "logic": "is",
                "value": "off",
                "valueType": "str"
            },
            {
                "condition": "area_registry",
                "property": "area_id",
                "logic": "is",
                "value": "#:(file)::room.ha_id",
                "valueType": "flow"
            }
        ],
        "outputType": "random",
        "outputEmptyResults": false,
        "outputLocationType": "msg",
        "outputLocation": "payload",
        "outputResultsCount": 1,
        "x": 460,
        "y": 3240,
        "wires": [
            [
                "fded5d70d3c53f4f"
            ]
        ]
    },
    {
        "id": "50300c7b5295e417",
        "type": "link in",
        "z": "94466ab2e543aa2f",
        "g": "394e0231a1e3d873",
        "name": "pick a random light for vacation simulation",
        "links": [
            "e8424879dc4b6a54"
        ],
        "x": 305,
        "y": 3240,
        "wires": [
            [
                "b3faeb3c1fda8af0"
            ]
        ]
    },
    {
        "id": "5f1e344a10e50e14",
        "type": "comment",
        "z": "94466ab2e543aa2f",
        "g": "394e0231a1e3d873",
        "name": "turn on a random light that was off and turn it randomly off",
        "info": "",
        "x": 270,
        "y": 3200,
        "wires": []
    },
    {
        "id": "743eb0e6.61b368",
        "type": "server-state-changed",
        "z": "94466ab2e543aa2f",
        "g": "48e46dc873ed3b2b",
        "name": "smoke and co alarm test",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "binary_sensor.firtsalert_living_room_smoke_alarm_test"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": false,
        "stateType": "str",
        "ifState": "on",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "alarm_state",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            },
            {
                "property": "room",
                "propertyType": "msg",
                "value": "#:(file)::room.friendly_name",
                "valueType": "flow"
            }
        ],
        "x": 150,
        "y": 2280,
        "wires": [
            [
                "672b119de53c2e27"
            ],
            []
        ]
    },
    {
        "id": "bc9788a0.2fc028",
        "type": "server-state-changed",
        "z": "94466ab2e543aa2f",
        "g": "48e46dc873ed3b2b",
        "name": "smoke alarm",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "binary_sensor.firtsalert_living_room_smoke_detected"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": false,
        "stateType": "str",
        "ifState": "on",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "alarm_state",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            },
            {
                "property": "room",
                "propertyType": "msg",
                "value": "#:(file)::room.friendly_name",
                "valueType": "flow"
            }
        ],
        "x": 110,
        "y": 2340,
        "wires": [
            [
                "4edd2983cc80f181"
            ],
            []
        ]
    },
    {
        "id": "462204bb44d52283",
        "type": "server-state-changed",
        "z": "94466ab2e543aa2f",
        "g": "48e46dc873ed3b2b",
        "name": "co alarm",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "binary_sensor.firtsalert_living_room_carbon_monoxide_detected"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": false,
        "stateType": "str",
        "ifState": "on",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "alarm_state",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            },
            {
                "property": "room",
                "propertyType": "msg",
                "value": "#:(file)::room.friendly_name",
                "valueType": "flow"
            }
        ],
        "x": 100,
        "y": 2400,
        "wires": [
            [
                "63f01d3d2554ca69"
            ],
            []
        ]
    },
    {
        "id": "788097470cb2b760",
        "type": "comment",
        "z": "94466ab2e543aa2f",
        "g": "48e46dc873ed3b2b",
        "name": "smoke and co detection",
        "info": "",
        "x": 140,
        "y": 2240,
        "wires": []
    },
    {
        "id": "672b119de53c2e27",
        "type": "link out",
        "z": "94466ab2e543aa2f",
        "g": "48e46dc873ed3b2b",
        "name": "smokealarm trigger",
        "mode": "link",
        "links": [
            "8a5a42bcd414ac14"
        ],
        "x": 315,
        "y": 2280,
        "wires": []
    },
    {
        "id": "63f01d3d2554ca69",
        "type": "link out",
        "z": "94466ab2e543aa2f",
        "g": "48e46dc873ed3b2b",
        "name": "coalarm trigger",
        "mode": "link",
        "links": [
            "38db1827482f1f0d"
        ],
        "x": 315,
        "y": 2400,
        "wires": []
    },
    {
        "id": "09da2ef8f03278e3",
        "type": "ha-get-entities",
        "z": "94466ab2e543aa2f",
        "g": "ae2e10abb46ea220",
        "name": "get all lights",
        "server": "4ba92433.2478cc",
        "version": 1,
        "rules": [
            {
                "condition": "state_object",
                "property": "entity_id",
                "logic": "starts_with",
                "value": "light.",
                "valueType": "str"
            },
            {
                "condition": "area_registry",
                "property": "area_id",
                "logic": "is",
                "value": "#:(file)::room.ha_id",
                "valueType": "flow"
            }
        ],
        "outputType": "array",
        "outputEmptyResults": false,
        "outputLocationType": "msg",
        "outputLocation": "light_state",
        "outputResultsCount": 1,
        "x": 570,
        "y": 3380,
        "wires": [
            [
                "6a132f1cfdc57a36"
            ]
        ]
    },
    {
        "id": "5caec038263b4dcc",
        "type": "inject",
        "z": "94466ab2e543aa2f",
        "g": "b9964af67453a76a",
        "name": "room",
        "props": [
            {
                "p": "room.friendly_name",
                "v": "woonkamer",
                "vt": "str"
            },
            {
                "p": "room.ha_id",
                "v": "living_room",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": "1",
        "topic": "",
        "x": 110,
        "y": 200,
        "wires": [
            [
                "62c6c09ee4e20531"
            ]
        ]
    },
    {
        "id": "62c6c09ee4e20531",
        "type": "change",
        "z": "94466ab2e543aa2f",
        "g": "b9964af67453a76a",
        "name": "set room variables",
        "rules": [
            {
                "t": "set",
                "p": "#:(file)::room",
                "pt": "flow",
                "to": "room",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 270,
        "y": 200,
        "wires": [
            []
        ]
    },
    {
        "id": "0d467902ced34af7",
        "type": "comment",
        "z": "94466ab2e543aa2f",
        "g": "b9964af67453a76a",
        "name": "add room variables to the context store so it can be reused in the flow",
        "info": "",
        "x": 290,
        "y": 160,
        "wires": []
    },
    {
        "id": "6a132f1cfdc57a36",
        "type": "change",
        "z": "94466ab2e543aa2f",
        "g": "ae2e10abb46ea220",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "light_state",
                "pt": "flow",
                "to": "light_state",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 750,
        "y": 3380,
        "wires": [
            [
                "993f5a48fe1d56c1"
            ]
        ]
    },
    {
        "id": "993f5a48fe1d56c1",
        "type": "split",
        "z": "94466ab2e543aa2f",
        "g": "ae2e10abb46ea220",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "property": "light_state",
        "x": 910,
        "y": 3380,
        "wires": [
            [
                "22dc1eded58556f6"
            ]
        ]
    },
    {
        "id": "22dc1eded58556f6",
        "type": "api-call-service",
        "z": "94466ab2e543aa2f",
        "g": "ae2e10abb46ea220",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "{{light_state.entity_id}}"
        ],
        "labelId": [],
        "data": "{\"brightness_pct\":100}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": true,
        "domain": "light",
        "service": "turn_on",
        "x": 1050,
        "y": 3380,
        "wires": [
            []
        ]
    },
    {
        "id": "b2325797cfc4cb7b",
        "type": "api-call-service",
        "z": "94466ab2e543aa2f",
        "g": "ae2e10abb46ea220",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "{{light_state.entity_id}}"
        ],
        "labelId": [],
        "data": "{\"transition\":5000}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": true,
        "domain": "light",
        "service": "turn_off",
        "x": 910,
        "y": 3560,
        "wires": [
            []
        ]
    },
    {
        "id": "f9a8d47bf12af153",
        "type": "change",
        "z": "94466ab2e543aa2f",
        "g": "ae2e10abb46ea220",
        "name": "",
        "rules": [
            {
                "t": "move",
                "p": "light_state",
                "pt": "flow",
                "to": "light_state",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 440,
        "y": 3500,
        "wires": [
            [
                "9c780ad71c8651fd"
            ]
        ]
    },
    {
        "id": "9c780ad71c8651fd",
        "type": "split",
        "z": "94466ab2e543aa2f",
        "g": "ae2e10abb46ea220",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "property": "light_state",
        "x": 610,
        "y": 3500,
        "wires": [
            [
                "9a0c650f1b078f8e"
            ]
        ]
    },
    {
        "id": "9a0c650f1b078f8e",
        "type": "switch",
        "z": "94466ab2e543aa2f",
        "g": "ae2e10abb46ea220",
        "name": "on/off",
        "property": "light_state.state",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "on",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "off",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 750,
        "y": 3500,
        "wires": [
            [
                "5aecd5ebc0c419c8"
            ],
            [
                "b2325797cfc4cb7b"
            ]
        ]
    },
    {
        "id": "5aecd5ebc0c419c8",
        "type": "api-call-service",
        "z": "94466ab2e543aa2f",
        "g": "ae2e10abb46ea220",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "{{light_state.entity_id}}"
        ],
        "labelId": [],
        "data": "{\"brightness\":\"{{light_state.attributes.brightness}}\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": true,
        "domain": "light",
        "service": "turn_on",
        "x": 910,
        "y": 3500,
        "wires": [
            []
        ]
    },
    {
        "id": "7f4c5981658827e5",
        "type": "link in",
        "z": "94466ab2e543aa2f",
        "g": "ae2e10abb46ea220",
        "name": "alarm on lights",
        "links": [
            "5874beb71c3c9523"
        ],
        "x": 305,
        "y": 3380,
        "wires": [
            [
                "53d90bdea41503b8"
            ]
        ]
    },
    {
        "id": "378d583d6c2e7462",
        "type": "link in",
        "z": "94466ab2e543aa2f",
        "g": "ae2e10abb46ea220",
        "name": "alarm off restore lights",
        "links": [
            "7d0fc8f40fda8ff9",
            "5a1c4daf23c47d8e"
        ],
        "x": 305,
        "y": 3500,
        "wires": [
            [
                "f9a8d47bf12af153"
            ]
        ]
    },
    {
        "id": "aa8acf9d5ae7b176",
        "type": "comment",
        "z": "94466ab2e543aa2f",
        "g": "ae2e10abb46ea220",
        "name": "store current light state in context then turn on all lights in alarm state",
        "info": "",
        "x": 300,
        "y": 3340,
        "wires": []
    },
    {
        "id": "1f032b5a0271a463",
        "type": "comment",
        "z": "94466ab2e543aa2f",
        "g": "ae2e10abb46ea220",
        "name": "restore light state based on values in the context store",
        "info": "",
        "x": 260,
        "y": 3440,
        "wires": []
    },
    {
        "id": "53d90bdea41503b8",
        "type": "api-current-state",
        "z": "94466ab2e543aa2f",
        "g": "ae2e10abb46ea220",
        "name": "daylight is off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "binary_sensor.outdoor_daylight",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 410,
        "y": 3380,
        "wires": [
            [
                "09da2ef8f03278e3"
            ],
            []
        ]
    },
    {
        "id": "1cc93bcf43cdbf60",
        "type": "comment",
        "z": "94466ab2e543aa2f",
        "d": true,
        "g": "f7dfee6443d1413f",
        "name": "Turn on or off tablet charging based on battery level",
        "info": "",
        "x": 230,
        "y": 1980,
        "wires": []
    },
    {
        "id": "b9298a615e99a23f",
        "type": "switch",
        "z": "94466ab2e543aa2f",
        "d": true,
        "g": "f7dfee6443d1413f",
        "name": "battery level",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "gte",
                "v": "80",
                "vt": "num"
            },
            {
                "t": "lt",
                "v": "30",
                "vt": "num"
            },
            {
                "t": "lt",
                "v": "20",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "NaN",
                "vt": "str"
            },
            {
                "t": "null"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 5,
        "x": 350,
        "y": 2040,
        "wires": [
            [
                "0b118ac6e884fc56"
            ],
            [
                "077067e28d6d59b4"
            ],
            [
                "c55acb1486d56163"
            ],
            [
                "077067e28d6d59b4"
            ],
            [
                "077067e28d6d59b4"
            ]
        ]
    },
    {
        "id": "c55acb1486d56163",
        "type": "template",
        "z": "94466ab2e543aa2f",
        "d": true,
        "g": "f7dfee6443d1413f",
        "name": "message",
        "field": "message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "{{data.new_state.attributes.friendly_name}} is {{payload}}%",
        "output": "str",
        "x": 540,
        "y": 2080,
        "wires": [
            [
                "30b5e775d2659181"
            ]
        ]
    },
    {
        "id": "077067e28d6d59b4",
        "type": "api-call-service",
        "z": "94466ab2e543aa2f",
        "d": true,
        "g": "f7dfee6443d1413f",
        "name": "turn on wall tablet charger",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "switch.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "switch.cv_closet_walltablet_charger"
        ],
        "labelId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "switch",
        "service": "turn_on",
        "x": 590,
        "y": 2140,
        "wires": [
            []
        ]
    },
    {
        "id": "0b118ac6e884fc56",
        "type": "api-call-service",
        "z": "94466ab2e543aa2f",
        "d": true,
        "g": "f7dfee6443d1413f",
        "name": "turn off wall tablet charger",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "switch.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "switch.cv_closet_walltablet_charger"
        ],
        "labelId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "switch",
        "service": "turn_off",
        "x": 590,
        "y": 2020,
        "wires": [
            []
        ]
    },
    {
        "id": "30b5e775d2659181",
        "type": "api-call-service",
        "z": "94466ab2e543aa2f",
        "d": true,
        "g": "f7dfee6443d1413f",
        "name": "slack message",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "notify.theautomation",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [],
        "labelId": [],
        "data": "{\"message\":\"Battery\",\"target\":\"#home-assistant\",\"title\":\"Battery\",\"data\":{\"blocks\":[{\"type\":\"header\",\"text\":{\"type\":\"plain_text\",\"text\":\"Tablet :battery:\"}},{\"type\":\"section\",\"fields\":[{\"type\":\"mrkdwn\",\"text\":\"{{{message}}}\"}]}]}}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "notify",
        "service": "theautomation",
        "x": 700,
        "y": 2080,
        "wires": [
            []
        ]
    },
    {
        "id": "13ac101837378eb8",
        "type": "server-state-changed",
        "z": "94466ab2e543aa2f",
        "d": true,
        "g": "f7dfee6443d1413f",
        "name": "wall tablet battery level",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 1,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "sensor.galaxy_tab_a8_battery"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": true,
        "stateType": "num",
        "ifState": "",
        "ifStateType": "num",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": false,
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            }
        ],
        "x": 140,
        "y": 2020,
        "wires": [
            [
                "b9298a615e99a23f",
                "3217ced2069523e7"
            ]
        ]
    },
    {
        "id": "3217ced2069523e7",
        "type": "stoptimer",
        "z": "94466ab2e543aa2f",
        "d": true,
        "g": "f7dfee6443d1413f",
        "duration": "1",
        "units": "Hour",
        "payloadtype": "num",
        "payloadval": "0",
        "name": "",
        "x": 350,
        "y": 2140,
        "wires": [
            [
                "077067e28d6d59b4"
            ],
            []
        ]
    },
    {
        "id": "557c778b948bbd93",
        "type": "comment",
        "z": "94466ab2e543aa2f",
        "g": "ac009c7335724f80",
        "name": "show frontyard snapshot on wall tablet when doorbell rings",
        "info": "",
        "x": 250,
        "y": 1840,
        "wires": []
    },
    {
        "id": "b75a06591bd2314d",
        "type": "link in",
        "z": "94466ab2e543aa2f",
        "g": "ac009c7335724f80",
        "name": "show frontyard snapshot on wall tablet when doorbell rings",
        "links": [
            "e188c5d43cc22d55"
        ],
        "x": 245,
        "y": 1880,
        "wires": [
            [
                "4e6208bc552b966f"
            ]
        ]
    },
    {
        "id": "4d2461534c903c6d",
        "type": "api-call-service",
        "z": "94466ab2e543aa2f",
        "g": "ac009c7335724f80",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "browser_mod.popup",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [],
        "labelId": [],
        "data": "{\"autoclose\":true,\"timeout\":30000,\"content\":{\"type\":\"vertical-stack\",\"cards\":[{\"type\":\"markdown\",\"content\":\"Er is aangebeld.\",\"text_only\":true},{\"type\":\"picture\",\"image_entity\":\"image.frontyard_person\"}]}}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": true,
        "domain": "browser_mod",
        "service": "popup",
        "x": 580,
        "y": 1880,
        "wires": [
            []
        ]
    },
    {
        "id": "4e6208bc552b966f",
        "type": "api-current-state",
        "z": "94466ab2e543aa2f",
        "g": "ac009c7335724f80",
        "name": "guest mode is off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.guest",
        "state_type": "str",
        "blockInputOverrides": true,
        "outputProperties": [],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 370,
        "y": 1880,
        "wires": [
            [
                "4d2461534c903c6d"
            ],
            []
        ]
    },
    {
        "id": "5083713d92884af5",
        "type": "comment",
        "z": "b789af61b07fd59c",
        "name": "automation for the bathroom fan",
        "info": "",
        "x": 150,
        "y": 280,
        "wires": []
    },
    {
        "id": "20d250abf978875d",
        "type": "function",
        "z": "b789af61b07fd59c",
        "name": "new value minus old value",
        "func": "msg.payload = msg.data.new_state.state - msg.data.old_state.state\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 680,
        "y": 320,
        "wires": [
            [
                "c10f9a1337eae308"
            ]
        ]
    },
    {
        "id": "c10f9a1337eae308",
        "type": "switch",
        "z": "b789af61b07fd59c",
        "name": "difference more than x",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "gte",
                "v": "4",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 920,
        "y": 320,
        "wires": [
            [
                "ea45996befe2ce2f"
            ]
        ]
    },
    {
        "id": "6f96ea795821bb8c",
        "type": "change",
        "z": "b789af61b07fd59c",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "old_state_humidity",
                "pt": "flow",
                "to": "data.old_state.state",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1600,
        "y": 380,
        "wires": [
            []
        ]
    },
    {
        "id": "51a08433e179053d",
        "type": "comment",
        "z": "b789af61b07fd59c",
        "name": "turn off the bathroom fan when the old humidity value is reached",
        "info": "",
        "x": 790,
        "y": 520,
        "wires": []
    },
    {
        "id": "8264e80bac391a9f",
        "type": "comment",
        "z": "b789af61b07fd59c",
        "name": "turn off the bathroom fan after x minutes",
        "info": "",
        "x": 710,
        "y": 420,
        "wires": []
    },
    {
        "id": "5ca94e44c50beb93",
        "type": "switch",
        "z": "b789af61b07fd59c",
        "name": "old value >= new value",
        "property": "old_state_humidity",
        "propertyType": "flow",
        "rules": [
            {
                "t": "gte",
                "v": "data.new_state.state",
                "vt": "msg"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 660,
        "y": 560,
        "wires": [
            [
                "c23b685b2cf96cfa"
            ]
        ]
    },
    {
        "id": "c23b685b2cf96cfa",
        "type": "switch",
        "z": "b789af61b07fd59c",
        "name": "humidity is below 70%",
        "property": "data.new_state.state",
        "propertyType": "msg",
        "rules": [
            {
                "t": "lt",
                "v": "70",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 880,
        "y": 560,
        "wires": [
            [
                "ad857eb6de4b8534"
            ]
        ]
    },
    {
        "id": "fde5ddc2314e8af1",
        "type": "template",
        "z": "b789af61b07fd59c",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "De badkamerventilator is uitgeschakeld, na 120 minuten is de oude luchtvochtigheid van voor het douchen niet bereikt maar is wel gezakt onder de 65%. De luchtvochtigheid is {{state.state}}%.",
        "output": "str",
        "x": 1120,
        "y": 460,
        "wires": [
            [
                "aebb66d797591caa"
            ]
        ]
    },
    {
        "id": "ad857eb6de4b8534",
        "type": "template",
        "z": "b789af61b07fd59c",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "De badkamerventilator is uitgeschakeld, de luchtvochtigheid heeft de oude waarde ({{data.new_state.state}}%) van voor het douchen bereikt.",
        "output": "str",
        "x": 1120,
        "y": 560,
        "wires": [
            [
                "aebb66d797591caa"
            ]
        ]
    },
    {
        "id": "a2c935f4fd902fbe",
        "type": "template",
        "z": "b789af61b07fd59c",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "De badkamer ventilatie is ingeschakeld, de luchtvochtigheid is gestegen van {{data.old_state.state}}% naar {{data.new_state.state}}%.",
        "output": "str",
        "x": 1760,
        "y": 320,
        "wires": [
            [
                "e778d71ea6d1e452"
            ]
        ]
    },
    {
        "id": "cf2786624a95506a",
        "type": "comment",
        "z": "b789af61b07fd59c",
        "name": "fan position frontend",
        "info": "",
        "x": 110,
        "y": 620,
        "wires": []
    },
    {
        "id": "2576dd0afe32b4d7",
        "type": "switch",
        "z": "b789af61b07fd59c",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "Aan",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "Uit",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "Autonoom",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 3,
        "x": 290,
        "y": 660,
        "wires": [
            [
                "2c2c7fe0a602bfcb"
            ],
            [
                "2d9a50d284fa7deb"
            ],
            [
                "9627fb96db58a338"
            ]
        ]
    },
    {
        "id": "40ea77755cde65a6",
        "type": "api-call-service",
        "z": "b789af61b07fd59c",
        "name": "turn on bathroom fan",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "switch.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "switch.shelly1pm_bathroom_fan_switch_0"
        ],
        "labelId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "switch",
        "service": "turn_on",
        "x": 1580,
        "y": 320,
        "wires": [
            [
                "a2c935f4fd902fbe",
                "5da9fc1c3df25314"
            ]
        ]
    },
    {
        "id": "689a68918e7abd68",
        "type": "api-call-service",
        "z": "b789af61b07fd59c",
        "name": "turn off bathroom fan",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "switch.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "switch.shelly1pm_bathroom_fan_switch_0"
        ],
        "labelId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "switch",
        "service": "turn_off",
        "x": 1580,
        "y": 500,
        "wires": [
            [
                "e778d71ea6d1e452"
            ]
        ]
    },
    {
        "id": "37a07f7bf4f0682a",
        "type": "api-call-service",
        "z": "b789af61b07fd59c",
        "name": "turn on fan",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "fan.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "fan.shelly1pm_bathroom_fan_switch_0"
        ],
        "labelId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "fan",
        "service": "turn_on",
        "x": 730,
        "y": 660,
        "wires": [
            []
        ]
    },
    {
        "id": "2c2c7fe0a602bfcb",
        "type": "api-call-service",
        "z": "b789af61b07fd59c",
        "name": "turn off fan autonomous",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "input_boolean.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_boolean.mechanical_ventilation_bathroom_autonomous"
        ],
        "labelId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "input_boolean",
        "service": "turn_off",
        "x": 490,
        "y": 660,
        "wires": [
            [
                "37a07f7bf4f0682a"
            ]
        ]
    },
    {
        "id": "a12cef4a38fcbbee",
        "type": "api-call-service",
        "z": "b789af61b07fd59c",
        "name": "turn off fan",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "fan.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "fan.shelly1pm_bathroom_fan_switch_0"
        ],
        "labelId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "fan",
        "service": "turn_off",
        "x": 730,
        "y": 720,
        "wires": [
            []
        ]
    },
    {
        "id": "2d9a50d284fa7deb",
        "type": "api-call-service",
        "z": "b789af61b07fd59c",
        "name": "turn off fan autonomous",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "input_boolean.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_boolean.mechanical_ventilation_bathroom_autonomous"
        ],
        "labelId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "input_boolean",
        "service": "turn_off",
        "x": 490,
        "y": 720,
        "wires": [
            [
                "a12cef4a38fcbbee"
            ]
        ]
    },
    {
        "id": "9627fb96db58a338",
        "type": "api-call-service",
        "z": "b789af61b07fd59c",
        "name": "turn on fan autonomous",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "input_boolean.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_boolean.mechanical_ventilation_bathroom_autonomous"
        ],
        "labelId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "input_boolean",
        "service": "turn_on",
        "x": 490,
        "y": 780,
        "wires": [
            [
                "a12cef4a38fcbbee"
            ]
        ]
    },
    {
        "id": "ea45996befe2ce2f",
        "type": "api-current-state",
        "z": "b789af61b07fd59c",
        "name": "bathroom fan is not on",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is_not",
        "entity_id": "switch.shelly1pm_bathroom_fan_switch_0",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 1340,
        "y": 320,
        "wires": [
            [
                "40ea77755cde65a6",
                "6f96ea795821bb8c"
            ],
            []
        ]
    },
    {
        "id": "aebb66d797591caa",
        "type": "api-current-state",
        "z": "b789af61b07fd59c",
        "name": "bathroom fan is not off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is_not",
        "entity_id": "switch.shelly1pm_bathroom_fan_switch_0",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 1340,
        "y": 500,
        "wires": [
            [
                "689a68918e7abd68"
            ],
            []
        ]
    },
    {
        "id": "c628400690c72f1b",
        "type": "api-current-state",
        "z": "b789af61b07fd59c",
        "name": "bathroom fan autonomous is on",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.mechanical_ventilation_bathroom_autonomous",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 350,
        "y": 320,
        "wires": [
            [
                "20d250abf978875d",
                "5ca94e44c50beb93"
            ],
            []
        ]
    },
    {
        "id": "2c3743d064c9c121",
        "type": "server-state-changed",
        "z": "b789af61b07fd59c",
        "name": "bathroom humidity",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 1,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "sensor.bathroom_sensors_humidity"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": true,
        "stateType": "str",
        "ifState": "",
        "ifStateType": "num",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 110,
        "y": 320,
        "wires": [
            [
                "c628400690c72f1b"
            ]
        ]
    },
    {
        "id": "85a7fb7e752e934f",
        "type": "server-state-changed",
        "z": "b789af61b07fd59c",
        "name": "input select fan position",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 1,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "input_select.mechanical_ventilation_bathroom_position"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": false,
        "stateType": "str",
        "ifState": "",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 120,
        "y": 660,
        "wires": [
            [
                "2576dd0afe32b4d7"
            ]
        ]
    },
    {
        "id": "380d6c499a997119",
        "type": "ha-wait-until",
        "z": "b789af61b07fd59c",
        "name": "wait until humidity is below 65%",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "entities": {
            "entity": [
                "sensor.bathroom_sensors_humidity"
            ],
            "substring": [],
            "regex": []
        },
        "property": "state",
        "comparator": "lt",
        "value": "65",
        "valueType": "num",
        "timeout": "2",
        "timeoutType": "num",
        "timeoutUnits": "hours",
        "checkCurrentState": true,
        "blockInputOverrides": true,
        "outputProperties": [
            {
                "property": "state",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "entityLocation": "data",
        "entityLocationType": "none",
        "x": 910,
        "y": 460,
        "wires": [
            [
                "fde5ddc2314e8af1"
            ],
            [
                "c69f3809062f5c13"
            ]
        ]
    },
    {
        "id": "5da9fc1c3df25314",
        "type": "api-call-service",
        "z": "b789af61b07fd59c",
        "name": "start timer",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "timer.start",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "timer.bathroom_mechanical_ventilation"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": true,
        "domain": "timer",
        "service": "start",
        "x": 1760,
        "y": 260,
        "wires": [
            []
        ]
    },
    {
        "id": "ddcf8348b6c8472e",
        "type": "server-events",
        "z": "b789af61b07fd59c",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 3,
        "exposeAsEntityConfig": "",
        "eventType": "timer.finished",
        "eventData": "{\"entity_id\":\"timer.bathroom_mechanical_ventilation\"}",
        "waitForRunning": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "$outputData(\"eventData\").event_type",
                "valueType": "jsonata"
            }
        ],
        "x": 660,
        "y": 460,
        "wires": [
            [
                "380d6c499a997119"
            ]
        ]
    },
    {
        "id": "33c6c50f418f4a4e",
        "type": "server-state-changed",
        "z": "b789af61b07fd59c",
        "name": "bathroom fan is off",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "fan.shelly1pm_bathroom_fan_switch_0"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": true,
        "stateType": "str",
        "ifState": "off",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 110,
        "y": 880,
        "wires": [
            [
                "a491d515c847fcd9"
            ],
            []
        ]
    },
    {
        "id": "a491d515c847fcd9",
        "type": "api-call-service",
        "z": "b789af61b07fd59c",
        "name": "stop timer",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "timer.cancel",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "timer.bathroom_mechanical_ventilation"
        ],
        "labelId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": true,
        "domain": "timer",
        "service": "cancel",
        "x": 280,
        "y": 880,
        "wires": [
            []
        ]
    },
    {
        "id": "753a58a11a72906c",
        "type": "template",
        "z": "b789af61b07fd59c",
        "g": "3ca230ff2becd832",
        "name": "icon",
        "field": "notify.icon",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "",
        "output": "str",
        "x": 1990,
        "y": 380,
        "wires": [
            [
                "6ca39787321a747a"
            ]
        ]
    },
    {
        "id": "f777d58a9431acab",
        "type": "template",
        "z": "b789af61b07fd59c",
        "g": "3ca230ff2becd832",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Ventilatie",
        "output": "str",
        "x": 1990,
        "y": 340,
        "wires": [
            [
                "6ca39787321a747a"
            ]
        ]
    },
    {
        "id": "6ca39787321a747a",
        "type": "join",
        "z": "b789af61b07fd59c",
        "g": "3ca230ff2becd832",
        "name": "",
        "mode": "custom",
        "build": "merged",
        "property": "notify",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "useparts": true,
        "accumulate": false,
        "timeout": "",
        "count": "5",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 2170,
        "y": 400,
        "wires": [
            [
                "8e10f7084a1fb496"
            ]
        ]
    },
    {
        "id": "62e6e0b8f41df173",
        "type": "template",
        "z": "b789af61b07fd59c",
        "g": "3ca230ff2becd832",
        "name": "notification id",
        "field": "notify.notification_id",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "bathroom_fan",
        "output": "str",
        "x": 2010,
        "y": 420,
        "wires": [
            [
                "6ca39787321a747a"
            ]
        ]
    },
    {
        "id": "8e10f7084a1fb496",
        "type": "link out",
        "z": "b789af61b07fd59c",
        "g": "3ca230ff2becd832",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "9286a72a2355f5ca"
        ],
        "x": 2255,
        "y": 400,
        "wires": []
    },
    {
        "id": "9ba2576829f3e51e",
        "type": "template",
        "z": "b789af61b07fd59c",
        "g": "3ca230ff2becd832",
        "name": "tag",
        "field": "notify.tag",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "mechanical_ventilation_bathroom",
        "output": "str",
        "x": 1990,
        "y": 460,
        "wires": [
            [
                "6ca39787321a747a"
            ]
        ]
    },
    {
        "id": "9056928bc0dcd9af",
        "type": "catch",
        "z": "b789af61b07fd59c",
        "g": "68a98f78122e5e71",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 60,
        "wires": [
            [
                "e71eb3bfe6e72aaa"
            ]
        ]
    },
    {
        "id": "e71eb3bfe6e72aaa",
        "type": "template",
        "z": "b789af61b07fd59c",
        "g": "68a98f78122e5e71",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 60,
        "wires": [
            [
                "1eb8a6661fe76878"
            ]
        ]
    },
    {
        "id": "653fcb40d1a25093",
        "type": "link out",
        "z": "b789af61b07fd59c",
        "g": "68a98f78122e5e71",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 675,
        "y": 60,
        "wires": []
    },
    {
        "id": "1eb8a6661fe76878",
        "type": "template",
        "z": "b789af61b07fd59c",
        "g": "68a98f78122e5e71",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 60,
        "wires": [
            [
                "c2ba99719a3d4eef"
            ]
        ]
    },
    {
        "id": "c2ba99719a3d4eef",
        "type": "function",
        "z": "b789af61b07fd59c",
        "g": "68a98f78122e5e71",
        "name": "notify.notification_id",
        "func": "msg.notify.notification_id = Date.now().toString(36) + Math.random().toString(36);\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 550,
        "y": 60,
        "wires": [
            [
                "653fcb40d1a25093"
            ]
        ]
    },
    {
        "id": "81d19ed8c237c99c",
        "type": "comment",
        "z": "b789af61b07fd59c",
        "g": "55b8dfe8a7320db6",
        "name": "set fan to autonomous when sleepmode turned on",
        "info": "",
        "x": 230,
        "y": 980,
        "wires": []
    },
    {
        "id": "c21a54a5e245afa3",
        "type": "link in",
        "z": "b789af61b07fd59c",
        "g": "55b8dfe8a7320db6",
        "name": "set bathroom fan to autonomous",
        "links": [
            "e6b9ff42fde3ea4e"
        ],
        "x": 285,
        "y": 1020,
        "wires": [
            [
                "c99f01433fb63140"
            ]
        ]
    },
    {
        "id": "c99f01433fb63140",
        "type": "api-call-service",
        "z": "b789af61b07fd59c",
        "g": "55b8dfe8a7320db6",
        "name": "turn on fan autonomous",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "input_boolean.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_boolean.mechanical_ventilation_bathroom_autonomous"
        ],
        "labelId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "input_boolean",
        "service": "turn_on",
        "x": 430,
        "y": 1020,
        "wires": [
            []
        ]
    },
    {
        "id": "c40e35b36f867a24",
        "type": "delay",
        "z": "b789af61b07fd59c",
        "g": "efc093c90e8d9b40",
        "name": "random delay",
        "pauseType": "random",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "2",
        "randomLast": "20",
        "randomUnits": "minutes",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 840,
        "y": 1180,
        "wires": [
            [
                "1d4668e0de5ac3bb"
            ]
        ]
    },
    {
        "id": "6006bdd38b3e73a5",
        "type": "api-call-service",
        "z": "b789af61b07fd59c",
        "g": "efc093c90e8d9b40",
        "name": "turn on light",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "{{payload.entity_id}}"
        ],
        "labelId": [],
        "data": "{\"brightness_pct\":\"{{dimlevel}}\",\"transition\":5000}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "light",
        "service": "turn_on",
        "x": 670,
        "y": 1180,
        "wires": [
            [
                "c40e35b36f867a24"
            ]
        ]
    },
    {
        "id": "1d4668e0de5ac3bb",
        "type": "api-call-service",
        "z": "b789af61b07fd59c",
        "g": "efc093c90e8d9b40",
        "name": "turn off light",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "{{payload.entity_id}}"
        ],
        "labelId": [],
        "data": "{\"transition\":5000}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "light",
        "service": "turn_off",
        "x": 1010,
        "y": 1180,
        "wires": [
            []
        ]
    },
    {
        "id": "4b7164e2d32fae53",
        "type": "ha-get-entities",
        "z": "b789af61b07fd59c",
        "g": "efc093c90e8d9b40",
        "name": "pick a random light that is off",
        "server": "4ba92433.2478cc",
        "version": 1,
        "rules": [
            {
                "condition": "state_object",
                "property": "entity_id",
                "logic": "starts_with",
                "value": "light.",
                "valueType": "str"
            },
            {
                "condition": "state_object",
                "property": "state",
                "logic": "is",
                "value": "off",
                "valueType": "str"
            },
            {
                "condition": "area_registry",
                "property": "area_id",
                "logic": "is",
                "value": "#:(file)::room.ha_id",
                "valueType": "flow"
            }
        ],
        "outputType": "random",
        "outputEmptyResults": false,
        "outputLocationType": "msg",
        "outputLocation": "payload",
        "outputResultsCount": 1,
        "x": 460,
        "y": 1180,
        "wires": [
            [
                "6006bdd38b3e73a5"
            ]
        ]
    },
    {
        "id": "616a3afaca8e38f3",
        "type": "link in",
        "z": "b789af61b07fd59c",
        "g": "efc093c90e8d9b40",
        "name": "pick a random light for vacation simulation",
        "links": [
            "573afd1fc7526fc5"
        ],
        "x": 305,
        "y": 1180,
        "wires": [
            [
                "4b7164e2d32fae53"
            ]
        ]
    },
    {
        "id": "ba96167f850bd0e5",
        "type": "comment",
        "z": "b789af61b07fd59c",
        "g": "efc093c90e8d9b40",
        "name": "turn on a random light that was off and turn it randomly off",
        "info": "",
        "x": 270,
        "y": 1140,
        "wires": []
    },
    {
        "id": "c69f3809062f5c13",
        "type": "template",
        "z": "b789af61b07fd59c",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "De badkamerventilator is uitgeschakeld, na 4 uur is de oude luchtvochtigheid van voor het douchen niet bereikt en ook niet gezakt onder de 65%. De luchtvochtigheid is {{state.state}}%.",
        "output": "str",
        "x": 1120,
        "y": 500,
        "wires": [
            [
                "aebb66d797591caa"
            ]
        ]
    },
    {
        "id": "1cc0f4531f7d89ec",
        "type": "ha-get-entities",
        "z": "b789af61b07fd59c",
        "g": "4ee6ccf7f55ab18d",
        "name": "get all lights",
        "server": "4ba92433.2478cc",
        "version": 1,
        "rules": [
            {
                "condition": "state_object",
                "property": "entity_id",
                "logic": "starts_with",
                "value": "light.",
                "valueType": "str"
            },
            {
                "condition": "area_registry",
                "property": "area_id",
                "logic": "is",
                "value": "#:(file)::room.ha_id",
                "valueType": "flow"
            }
        ],
        "outputType": "array",
        "outputEmptyResults": false,
        "outputLocationType": "msg",
        "outputLocation": "light_state",
        "outputResultsCount": 1,
        "x": 570,
        "y": 1320,
        "wires": [
            [
                "c7d0e1ce988323e6"
            ]
        ]
    },
    {
        "id": "c7d0e1ce988323e6",
        "type": "change",
        "z": "b789af61b07fd59c",
        "g": "4ee6ccf7f55ab18d",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "light_state",
                "pt": "flow",
                "to": "light_state",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 750,
        "y": 1320,
        "wires": [
            [
                "6b46efa95e944550"
            ]
        ]
    },
    {
        "id": "6b46efa95e944550",
        "type": "split",
        "z": "b789af61b07fd59c",
        "g": "4ee6ccf7f55ab18d",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "property": "light_state",
        "x": 910,
        "y": 1320,
        "wires": [
            [
                "a960e4426e6cf6f2"
            ]
        ]
    },
    {
        "id": "a960e4426e6cf6f2",
        "type": "api-call-service",
        "z": "b789af61b07fd59c",
        "g": "4ee6ccf7f55ab18d",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "{{light_state.entity_id}}"
        ],
        "labelId": [],
        "data": "{\"brightness_pct\":100}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": true,
        "domain": "light",
        "service": "turn_on",
        "x": 1050,
        "y": 1320,
        "wires": [
            []
        ]
    },
    {
        "id": "fbb62b8c932825d2",
        "type": "api-call-service",
        "z": "b789af61b07fd59c",
        "g": "4ee6ccf7f55ab18d",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "{{light_state.entity_id}}"
        ],
        "labelId": [],
        "data": "{\"transition\":5000}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": true,
        "domain": "light",
        "service": "turn_off",
        "x": 910,
        "y": 1480,
        "wires": [
            []
        ]
    },
    {
        "id": "8d0a973d5b58e754",
        "type": "change",
        "z": "b789af61b07fd59c",
        "g": "4ee6ccf7f55ab18d",
        "name": "",
        "rules": [
            {
                "t": "move",
                "p": "light_state",
                "pt": "flow",
                "to": "light_state",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 440,
        "y": 1420,
        "wires": [
            [
                "03ec83b769d36a9a"
            ]
        ]
    },
    {
        "id": "03ec83b769d36a9a",
        "type": "split",
        "z": "b789af61b07fd59c",
        "g": "4ee6ccf7f55ab18d",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "property": "light_state",
        "x": 610,
        "y": 1420,
        "wires": [
            [
                "716be68f938ec94b"
            ]
        ]
    },
    {
        "id": "716be68f938ec94b",
        "type": "switch",
        "z": "b789af61b07fd59c",
        "g": "4ee6ccf7f55ab18d",
        "name": "on/off",
        "property": "light_state.state",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "on",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "off",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 750,
        "y": 1420,
        "wires": [
            [
                "a683f17e6ec204d7"
            ],
            [
                "fbb62b8c932825d2"
            ]
        ]
    },
    {
        "id": "a683f17e6ec204d7",
        "type": "api-call-service",
        "z": "b789af61b07fd59c",
        "g": "4ee6ccf7f55ab18d",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "{{light_state.entity_id}}"
        ],
        "labelId": [],
        "data": "{\"brightness\":\"{{light_state.attributes.brightness}}\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": true,
        "domain": "light",
        "service": "turn_on",
        "x": 910,
        "y": 1420,
        "wires": [
            []
        ]
    },
    {
        "id": "7bebe3575d22c030",
        "type": "link in",
        "z": "b789af61b07fd59c",
        "g": "4ee6ccf7f55ab18d",
        "name": "alarm on lights",
        "links": [
            "5874beb71c3c9523"
        ],
        "x": 305,
        "y": 1320,
        "wires": [
            [
                "e26a446d293333bc"
            ]
        ]
    },
    {
        "id": "f97efe05ff228e66",
        "type": "link in",
        "z": "b789af61b07fd59c",
        "g": "4ee6ccf7f55ab18d",
        "name": "alarm off restore lights",
        "links": [
            "7d0fc8f40fda8ff9",
            "5a1c4daf23c47d8e"
        ],
        "x": 305,
        "y": 1420,
        "wires": [
            [
                "8d0a973d5b58e754"
            ]
        ]
    },
    {
        "id": "76da670889e45fe2",
        "type": "comment",
        "z": "b789af61b07fd59c",
        "g": "4ee6ccf7f55ab18d",
        "name": "store current light state in context then turn on all lights in alarm state",
        "info": "",
        "x": 300,
        "y": 1280,
        "wires": []
    },
    {
        "id": "23310ab6a6a915f5",
        "type": "comment",
        "z": "b789af61b07fd59c",
        "g": "4ee6ccf7f55ab18d",
        "name": "restore light state based on values in the context store",
        "info": "",
        "x": 260,
        "y": 1380,
        "wires": []
    },
    {
        "id": "fd2e7224cd0b2d82",
        "type": "inject",
        "z": "b789af61b07fd59c",
        "g": "7c46028dadd63f96",
        "name": "room",
        "props": [
            {
                "p": "room.friendly_name",
                "v": "badkamer",
                "vt": "str"
            },
            {
                "p": "room.ha_id",
                "v": "bathroom",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": "1",
        "topic": "",
        "x": 110,
        "y": 200,
        "wires": [
            [
                "22c5abbe96158605"
            ]
        ]
    },
    {
        "id": "22c5abbe96158605",
        "type": "change",
        "z": "b789af61b07fd59c",
        "g": "7c46028dadd63f96",
        "name": "set room variables",
        "rules": [
            {
                "t": "set",
                "p": "#:(file)::room",
                "pt": "flow",
                "to": "room",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 270,
        "y": 200,
        "wires": [
            []
        ]
    },
    {
        "id": "bd268b74bdf51093",
        "type": "comment",
        "z": "b789af61b07fd59c",
        "g": "7c46028dadd63f96",
        "name": "add room variables to the context store so it can be reused in the flow",
        "info": "",
        "x": 290,
        "y": 160,
        "wires": []
    },
    {
        "id": "e26a446d293333bc",
        "type": "api-current-state",
        "z": "b789af61b07fd59c",
        "g": "4ee6ccf7f55ab18d",
        "name": "daylight is off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "binary_sensor.outdoor_daylight",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 410,
        "y": 1320,
        "wires": [
            [
                "1cc0f4531f7d89ec"
            ],
            []
        ]
    },
    {
        "id": "dd11f398bf45dfcc",
        "type": "subflow:9ea6eabfb34d96e0",
        "z": "b789af61b07fd59c",
        "g": "6e0550eee76c5833",
        "name": "",
        "x": 190,
        "y": 1620,
        "wires": [
            [
                "801590473e5a4c45"
            ]
        ]
    },
    {
        "id": "76af8566f2bb4dfe",
        "type": "comment",
        "z": "b789af61b07fd59c",
        "g": "6e0550eee76c5833",
        "name": "turn off all lights in this room when house is unoccupied",
        "info": "",
        "x": 260,
        "y": 1580,
        "wires": []
    },
    {
        "id": "801590473e5a4c45",
        "type": "ha-get-entities",
        "z": "b789af61b07fd59c",
        "g": "6e0550eee76c5833",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 1,
        "rules": [
            {
                "condition": "state_object",
                "property": "entity_id",
                "logic": "starts_with",
                "value": "light.",
                "valueType": "str"
            },
            {
                "condition": "area_registry",
                "property": "area_id",
                "logic": "is",
                "value": "#:(file)::room.ha_id",
                "valueType": "flow"
            }
        ],
        "outputType": "split",
        "outputEmptyResults": false,
        "outputLocationType": "msg",
        "outputLocation": "payload",
        "outputResultsCount": 1,
        "x": 410,
        "y": 1620,
        "wires": [
            [
                "a45fa9da67c67893"
            ]
        ]
    },
    {
        "id": "a45fa9da67c67893",
        "type": "api-call-service",
        "z": "b789af61b07fd59c",
        "g": "6e0550eee76c5833",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "{{payload.entity_id}}"
        ],
        "labelId": [],
        "data": "{\"transition\":5000}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": true,
        "domain": "light",
        "service": "turn_off",
        "x": 570,
        "y": 1620,
        "wires": [
            []
        ]
    },
    {
        "id": "6ae82e1d8e8cdfd3",
        "type": "catch",
        "z": "be92da6a5a4a4550",
        "g": "b4a745c397f4ec50",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 60,
        "wires": [
            [
                "a0dc458416ced4dc"
            ]
        ]
    },
    {
        "id": "a0dc458416ced4dc",
        "type": "template",
        "z": "be92da6a5a4a4550",
        "g": "b4a745c397f4ec50",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 60,
        "wires": [
            [
                "74642a407960188e"
            ]
        ]
    },
    {
        "id": "ccda14a2b42b3ef8",
        "type": "link out",
        "z": "be92da6a5a4a4550",
        "g": "b4a745c397f4ec50",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 675,
        "y": 60,
        "wires": []
    },
    {
        "id": "74642a407960188e",
        "type": "template",
        "z": "be92da6a5a4a4550",
        "g": "b4a745c397f4ec50",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 60,
        "wires": [
            [
                "1a792f0ad22fac62"
            ]
        ]
    },
    {
        "id": "1a792f0ad22fac62",
        "type": "function",
        "z": "be92da6a5a4a4550",
        "g": "b4a745c397f4ec50",
        "name": "notify.notification_id",
        "func": "msg.notify.notification_id = Date.now().toString(36) + Math.random().toString(36);\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 550,
        "y": 60,
        "wires": [
            [
                "ccda14a2b42b3ef8"
            ]
        ]
    },
    {
        "id": "0b73d8b3b42f4385",
        "type": "server-state-changed",
        "z": "be92da6a5a4a4550",
        "g": "3ea4060fc2b3fa5d",
        "name": "backdoor is open",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "binary_sensor.backdoor"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": false,
        "stateType": "str",
        "ifState": "on",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": false,
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            }
        ],
        "x": 120,
        "y": 500,
        "wires": [
            [
                "598c87450fe46556"
            ],
            []
        ]
    },
    {
        "id": "a4f11cd63b9d1c1c",
        "type": "comment",
        "z": "be92da6a5a4a4550",
        "g": "3ea4060fc2b3fa5d",
        "name": "trigger from backdoor",
        "info": "",
        "x": 140,
        "y": 460,
        "wires": []
    },
    {
        "id": "598c87450fe46556",
        "type": "link out",
        "z": "be92da6a5a4a4550",
        "g": "3ea4060fc2b3fa5d",
        "name": "backdoor open",
        "mode": "link",
        "links": [
            "684440651deb45dc",
            "a66118ea5be1ff8c",
            "b978613dcfb6a202",
            "bd841cbf320510d2",
            "a9fd9464ad7de890",
            "0020f7218cace3a6"
        ],
        "x": 235,
        "y": 500,
        "wires": []
    },
    {
        "id": "9b6c2afddf16ea91",
        "type": "server-state-changed",
        "z": "be92da6a5a4a4550",
        "g": "40ba22ed83c37e84",
        "name": "outdoor daylight is on",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "binary_sensor.outdoor_daylight"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": false,
        "stateType": "str",
        "ifState": "on",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 140,
        "y": 340,
        "wires": [
            [
                "31fda56ec62032b8"
            ],
            [
                "4a93ba39b988072a"
            ]
        ]
    },
    {
        "id": "3a9bf30a0fb33784",
        "type": "comment",
        "z": "be92da6a5a4a4550",
        "g": "40ba22ed83c37e84",
        "name": "trigger from daylight entity",
        "info": "",
        "x": 150,
        "y": 300,
        "wires": []
    },
    {
        "id": "5c56266b.e63438",
        "type": "change",
        "z": "be92da6a5a4a4550",
        "g": "d543568c3cc7aa23",
        "name": "off",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "off",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1270,
        "y": 940,
        "wires": [
            [
                "714f8f70.75ec6"
            ]
        ]
    },
    {
        "id": "818ba5a9.204658",
        "type": "change",
        "z": "be92da6a5a4a4550",
        "g": "d543568c3cc7aa23",
        "name": "on",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "on",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1270,
        "y": 980,
        "wires": [
            [
                "714f8f70.75ec6"
            ]
        ]
    },
    {
        "id": "714f8f70.75ec6",
        "type": "rbe",
        "z": "be92da6a5a4a4550",
        "g": "d543568c3cc7aa23",
        "name": "",
        "func": "rbe",
        "gap": "",
        "start": "",
        "inout": "out",
        "septopics": true,
        "property": "payload",
        "topi": "topic",
        "x": 1410,
        "y": 940,
        "wires": [
            [
                "607a179b.d377f8"
            ]
        ]
    },
    {
        "id": "9970a078522f1484",
        "type": "switch",
        "z": "be92da6a5a4a4550",
        "g": "d543568c3cc7aa23",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "lte",
                "v": "2.5",
                "vt": "str"
            },
            {
                "t": "gt",
                "v": "4.5",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 330,
        "y": 960,
        "wires": [
            [
                "3392d6cf5e1cb20b"
            ],
            [
                "a378d97aa6be5e49"
            ]
        ]
    },
    {
        "id": "extract-timestamp",
        "type": "function",
        "z": "be92da6a5a4a4550",
        "g": "d543568c3cc7aa23",
        "name": "convert dusk time to epoch",
        "func": "// Your timestamp\nlet timestamp = msg.sunData.new_state.attributes.next_dusk;\n\n// Convert to a JavaScript Date object\nlet date = new Date(timestamp);\n\n// Get the epoch time in milliseconds\nlet epochTime = date.getTime();\n\n// Convert to seconds (optional)\nlet epochTimeInSeconds = Math.floor(epochTime / 1000);\n\n// Output the epoch time\nmsg.dusk_time = epochTimeInSeconds;\nreturn msg;",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 780,
        "y": 1100,
        "wires": [
            [
                "eac48a5b9f81b614"
            ]
        ]
    },
    {
        "id": "delay-node",
        "type": "delay",
        "z": "be92da6a5a4a4550",
        "g": "d543568c3cc7aa23",
        "name": "delay until target time",
        "pauseType": "delayv",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 1080,
        "y": 1180,
        "wires": [
            [
                "5c56266b.e63438"
            ]
        ]
    },
    {
        "id": "eac48a5b9f81b614",
        "type": "function",
        "z": "be92da6a5a4a4550",
        "g": "d543568c3cc7aa23",
        "name": "current time in epoch",
        "func": "// Get the current time as a Date object\nlet now = new Date();\n\n// Get the current epoch time in milliseconds\nlet epochTime = now.getTime();\n\n// Convert to seconds (optional)\nlet epochTimeInSeconds = Math.floor(epochTime / 1000);\n\n// Output the epoch time\nmsg.current_time = epochTimeInSeconds;\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 760,
        "y": 1140,
        "wires": [
            [
                "4526454deceed49b"
            ]
        ]
    },
    {
        "id": "4526454deceed49b",
        "type": "function",
        "z": "be92da6a5a4a4550",
        "g": "d543568c3cc7aa23",
        "name": "dusk time minus current time for delay",
        "func": "let delay_seconds = msg.dusk_time - msg.current_time\nmsg.delay = delay_seconds * 1000 //Miliseconds\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 810,
        "y": 1180,
        "wires": [
            [
                "delay-node"
            ]
        ]
    },
    {
        "id": "d995b37fc6ae461d",
        "type": "switch",
        "z": "be92da6a5a4a4550",
        "g": "d543568c3cc7aa23",
        "name": "above_horizon / below_horizon",
        "property": "sun",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "above_horizon",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "below_horizon",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 790,
        "y": 1060,
        "wires": [
            [
                "818ba5a9.204658"
            ],
            [
                "extract-timestamp"
            ]
        ]
    },
    {
        "id": "b5382c6f0181713a",
        "type": "switch",
        "z": "be92da6a5a4a4550",
        "g": "d543568c3cc7aa23",
        "name": "unknown / unavailable",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "unknown",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "unavailable",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 520,
        "y": 1060,
        "wires": [
            [
                "d995b37fc6ae461d"
            ],
            [
                "d995b37fc6ae461d"
            ]
        ]
    },
    {
        "id": "e39c63aed1fd0e02",
        "type": "comment",
        "z": "be92da6a5a4a4550",
        "g": "d543568c3cc7aa23",
        "name": "use sun as fallback",
        "info": "",
        "x": 130,
        "y": 1020,
        "wires": []
    },
    {
        "id": "17f88310915585a7",
        "type": "api-current-state",
        "z": "be92da6a5a4a4550",
        "g": "d543568c3cc7aa23",
        "name": "weather station illuminance",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 1,
        "halt_if": "",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "sensor.weather_station_illuminance",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 280,
        "y": 1060,
        "wires": [
            [
                "b5382c6f0181713a"
            ]
        ]
    },
    {
        "id": "49bcf8fe.de1de8",
        "type": "server-state-changed",
        "z": "be92da6a5a4a4550",
        "g": "d543568c3cc7aa23",
        "name": "illuminance weather station",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 1,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "sensor.weather_station_illuminance"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": true,
        "stateType": "num",
        "ifState": "",
        "ifStateType": "num",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": false,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": true,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 150,
        "y": 960,
        "wires": [
            [
                "9970a078522f1484"
            ]
        ]
    },
    {
        "id": "6c14527497f34f34",
        "type": "server-state-changed",
        "z": "be92da6a5a4a4550",
        "g": "d543568c3cc7aa23",
        "name": "sun",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 1,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "sun.sun"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": true,
        "stateType": "str",
        "ifState": "",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": false,
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "sun",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "sunData",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            }
        ],
        "x": 90,
        "y": 1060,
        "wires": [
            [
                "17f88310915585a7"
            ]
        ]
    },
    {
        "id": "607a179b.d377f8",
        "type": "stoptimer",
        "z": "be92da6a5a4a4550",
        "g": "d543568c3cc7aa23",
        "duration": "2",
        "units": "Second",
        "payloadtype": "str",
        "payloadval": "reset",
        "name": "",
        "x": 1560,
        "y": 940,
        "wires": [
            [
                "99bd7176238143ec"
            ],
            []
        ]
    },
    {
        "id": "99bd7176238143ec",
        "type": "ha-binary-sensor",
        "z": "be92da6a5a4a4550",
        "g": "d543568c3cc7aa23",
        "name": "set state daylight entity",
        "entityConfig": "5051592a.7844e8",
        "version": 0,
        "state": "payload",
        "stateType": "msg",
        "attributes": [],
        "inputOverride": "allow",
        "outputProperties": [],
        "x": 1760,
        "y": 940,
        "wires": [
            []
        ]
    },
    {
        "id": "15b291f3af638db3",
        "type": "comment",
        "z": "be92da6a5a4a4550",
        "g": "d543568c3cc7aa23",
        "name": "custom sensor light_outside determined based on the amount of illumincance from the weather station sensor",
        "info": "",
        "x": 410,
        "y": 920,
        "wires": []
    },
    {
        "id": "31fda56ec62032b8",
        "type": "link out",
        "z": "be92da6a5a4a4550",
        "g": "40ba22ed83c37e84",
        "name": "daylight is on (light)",
        "mode": "link",
        "links": [
            "72ae4172893b2bb9",
            "c43613425ba3c1da",
            "dde87eef542d7ef4",
            "250aeb21b537919a",
            "61c36fb38acb7466",
            "f3f353ea80fe212c"
        ],
        "x": 295,
        "y": 320,
        "wires": []
    },
    {
        "id": "4a93ba39b988072a",
        "type": "link out",
        "z": "be92da6a5a4a4550",
        "g": "40ba22ed83c37e84",
        "name": "daylight is off (dark)",
        "mode": "link",
        "links": [
            "94cfa3499dc876e4",
            "961409bc2d9b8a1b",
            "13cf75d97fbf793b",
            "61c36fb38acb7466",
            "3e3dfa9a3068b04b"
        ],
        "x": 295,
        "y": 360,
        "wires": []
    },
    {
        "id": "82bfbcfce5f11f0e",
        "type": "comment",
        "z": "be92da6a5a4a4550",
        "g": "59d661e86ca6893c",
        "name": "send a notification with a snapshot when a person is detected on the camera in the backyard",
        "info": "",
        "x": 360,
        "y": 1280,
        "wires": []
    },
    {
        "id": "32de281a8b95e108",
        "type": "api-current-state",
        "z": "be92da6a5a4a4550",
        "g": "59d661e86ca6893c",
        "name": "anne is not home",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "not_home",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "person.anne",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 970,
        "y": 1400,
        "wires": [
            [
                "a8fd84d44c1f3b89"
            ],
            []
        ]
    },
    {
        "id": "27e5eb134304a4fe",
        "type": "time-range-switch",
        "z": "be92da6a5a4a4550",
        "g": "59d661e86ca6893c",
        "name": "",
        "lat": "",
        "lon": "",
        "startTime": "08:30",
        "endTime": "17:30",
        "startOffset": 0,
        "endOffset": 0,
        "x": 790,
        "y": 1400,
        "wires": [
            [
                "32de281a8b95e108"
            ],
            []
        ]
    },
    {
        "id": "da7c6256f3b28b92",
        "type": "api-current-state",
        "z": "be92da6a5a4a4550",
        "g": "59d661e86ca6893c",
        "name": "guest mode is off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.guest",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 390,
        "y": 1340,
        "wires": [
            [
                "dcf7add8eddca3bc",
                "476a3a9380b339ab"
            ],
            []
        ]
    },
    {
        "id": "dcf7add8eddca3bc",
        "type": "api-current-state",
        "z": "be92da6a5a4a4550",
        "g": "59d661e86ca6893c",
        "name": "persons not home",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "not_home",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "group.persons",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 610,
        "y": 1340,
        "wires": [
            [
                "06ba67bd52f34108"
            ],
            []
        ]
    },
    {
        "id": "476a3a9380b339ab",
        "type": "api-current-state",
        "z": "be92da6a5a4a4550",
        "g": "59d661e86ca6893c",
        "name": "workday is on",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "binary_sensor.workday_sensor",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 600,
        "y": 1400,
        "wires": [
            [
                "27e5eb134304a4fe"
            ],
            []
        ]
    },
    {
        "id": "65c53ee626b1657c",
        "type": "api-current-state",
        "z": "be92da6a5a4a4550",
        "g": "59d661e86ca6893c",
        "name": "security is on",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.home_security",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 370,
        "y": 1460,
        "wires": [
            [
                "a8fd84d44c1f3b89"
            ],
            []
        ]
    },
    {
        "id": "9d650427959b917c",
        "type": "switch",
        "z": "be92da6a5a4a4550",
        "g": "5bdc240c2b2bc863",
        "name": "person",
        "property": "payload.after.label",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "person",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 250,
        "y": 820,
        "wires": [
            [
                "5b4f483c44f552ef"
            ]
        ]
    },
    {
        "id": "5b4f483c44f552ef",
        "type": "switch",
        "z": "be92da6a5a4a4550",
        "g": "5bdc240c2b2bc863",
        "name": "camera backyard",
        "property": "payload.after.camera",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "backyard",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 410,
        "y": 820,
        "wires": [
            [
                "3126533b3e0ad552"
            ]
        ]
    },
    {
        "id": "8cc341bcc6d31481",
        "type": "mqtt in",
        "z": "be92da6a5a4a4550",
        "g": "5bdc240c2b2bc863",
        "name": "",
        "topic": "frigate/events",
        "qos": "2",
        "datatype": "auto-detect",
        "broker": "36dee637778341ba",
        "nl": false,
        "rap": true,
        "rh": 0,
        "inputs": 0,
        "x": 110,
        "y": 820,
        "wires": [
            [
                "9d650427959b917c"
            ]
        ]
    },
    {
        "id": "5f6ac2329e171e37",
        "type": "comment",
        "z": "be92da6a5a4a4550",
        "g": "5bdc240c2b2bc863",
        "name": "trigger person is detected on camera",
        "info": "",
        "x": 180,
        "y": 780,
        "wires": []
    },
    {
        "id": "3126533b3e0ad552",
        "type": "link out",
        "z": "be92da6a5a4a4550",
        "g": "5bdc240c2b2bc863",
        "name": "person is detected on camera",
        "mode": "link",
        "links": [
            "9e13177c030bc585",
            "bd841cbf320510d2",
            "a66118ea5be1ff8c",
            "684440651deb45dc",
            "61c36fb38acb7466",
            "0020f7218cace3a6"
        ],
        "x": 535,
        "y": 820,
        "wires": []
    },
    {
        "id": "9e13177c030bc585",
        "type": "link in",
        "z": "be92da6a5a4a4550",
        "g": "59d661e86ca6893c",
        "name": "send notification with person snapshot from camera",
        "links": [
            "3126533b3e0ad552"
        ],
        "x": 65,
        "y": 1340,
        "wires": [
            [
                "4152f10819c597f4"
            ]
        ]
    },
    {
        "id": "f7c6fa154b77f448",
        "type": "comment",
        "z": "be92da6a5a4a4550",
        "g": "a593b47760f06197",
        "name": "turn on the barn light when backyard motion sensor is on and it is dark and turn the barn light back off when motion sensor is clear",
        "info": "",
        "x": 490,
        "y": 2300,
        "wires": []
    },
    {
        "id": "0854f23ba4b218d4",
        "type": "api-current-state",
        "z": "be92da6a5a4a4550",
        "g": "a593b47760f06197",
        "name": "daylight is off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "binary_sensor.outdoor_daylight",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 550,
        "y": 2340,
        "wires": [
            [
                "7a46fd82aea23e0b"
            ],
            []
        ]
    },
    {
        "id": "8c244203c4fcc324",
        "type": "switch",
        "z": "be92da6a5a4a4550",
        "g": "a593b47760f06197",
        "name": "light status was off",
        "property": "barn_light_status",
        "propertyType": "flow",
        "rules": [
            {
                "t": "eq",
                "v": "off",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 370,
        "y": 2400,
        "wires": [
            [
                "a2ab0b36bff28352"
            ]
        ]
    },
    {
        "id": "475a7054bc21bea5",
        "type": "change",
        "z": "be92da6a5a4a4550",
        "g": "a593b47760f06197",
        "name": "delete light status",
        "rules": [
            {
                "t": "delete",
                "p": "barn_light_status",
                "pt": "flow"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 730,
        "y": 2400,
        "wires": [
            []
        ]
    },
    {
        "id": "43484d443737f795",
        "type": "server-state-changed",
        "z": "be92da6a5a4a4550",
        "g": "a593b47760f06197",
        "name": "motion backyard is on",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "binary_sensor.backyard_motion_sensor_01_motion"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": true,
        "stateType": "str",
        "ifState": "on",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 160,
        "y": 2340,
        "wires": [
            [
                "38c78008d22484a0"
            ],
            [
                "8c244203c4fcc324"
            ]
        ]
    },
    {
        "id": "a72140918ec09ace",
        "type": "api-call-service",
        "z": "be92da6a5a4a4550",
        "g": "a593b47760f06197",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "light.shelly1_barn_door"
        ],
        "labelId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": true,
        "domain": "light",
        "service": "turn_on",
        "x": 890,
        "y": 2340,
        "wires": [
            []
        ]
    },
    {
        "id": "7a46fd82aea23e0b",
        "type": "api-current-state",
        "z": "be92da6a5a4a4550",
        "g": "a593b47760f06197",
        "name": "save light state",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 1,
        "halt_if": "",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "light.shelly1_barn_door",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "barn_light_status",
                "propertyType": "flow",
                "value": "",
                "valueType": "entityState"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 720,
        "y": 2340,
        "wires": [
            [
                "a72140918ec09ace"
            ]
        ]
    },
    {
        "id": "a2ab0b36bff28352",
        "type": "api-call-service",
        "z": "be92da6a5a4a4550",
        "g": "a593b47760f06197",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "light.shelly1_barn_door"
        ],
        "labelId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": true,
        "domain": "light",
        "service": "turn_off",
        "x": 550,
        "y": 2400,
        "wires": [
            [
                "475a7054bc21bea5"
            ]
        ]
    },
    {
        "id": "464f8451e6ab7032",
        "type": "comment",
        "z": "be92da6a5a4a4550",
        "g": "f0957af5d63aa2ef",
        "name": "turn on backyard lights when backdoor gets opened or closed or a person is detected on security camera",
        "info": "",
        "x": 410,
        "y": 2500,
        "wires": []
    },
    {
        "id": "a727e094b621802b",
        "type": "function",
        "z": "be92da6a5a4a4550",
        "g": "f0957af5d63aa2ef",
        "name": "store light brightness",
        "func": "var object = \"history.\" + msg.payload.entity_id + \".attributes\"\nvar brightness = object + \".brightness\"\nvar state = object + \".state\"\nflow.set(brightness, msg.payload.attributes.brightness)\nflow.set(state, msg.payload.state)\nreturn msg",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1100,
        "y": 2540,
        "wires": [
            [
                "a3ae06cea3533c9e"
            ]
        ]
    },
    {
        "id": "21b6b0650f225c58",
        "type": "split",
        "z": "be92da6a5a4a4550",
        "g": "f0957af5d63aa2ef",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "property": "payload",
        "x": 1930,
        "y": 2540,
        "wires": [
            [
                "299cb5105b54df95"
            ]
        ]
    },
    {
        "id": "ea107d7400acc08e",
        "type": "change",
        "z": "be92da6a5a4a4550",
        "g": "f0957af5d63aa2ef",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "history.light",
                "tot": "flow"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1780,
        "y": 2540,
        "wires": [
            [
                "21b6b0650f225c58"
            ]
        ]
    },
    {
        "id": "299cb5105b54df95",
        "type": "switch",
        "z": "be92da6a5a4a4550",
        "g": "f0957af5d63aa2ef",
        "name": "",
        "property": "payload.attributes.state",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "on",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "off",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 2050,
        "y": 2540,
        "wires": [
            [
                "fd7b8cd952413c94"
            ],
            [
                "9b3b7854d7fb2552"
            ]
        ]
    },
    {
        "id": "156ea82d6417f2cb",
        "type": "switch",
        "z": "be92da6a5a4a4550",
        "g": "f0957af5d63aa2ef",
        "name": "flow not active",
        "property": "backdoor_active",
        "propertyType": "flow",
        "rules": [
            {
                "t": "neq",
                "v": "true",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 540,
        "y": 2540,
        "wires": [
            [
                "6683611e217c5793"
            ]
        ]
    },
    {
        "id": "c2fe4fd0486fe8e5",
        "type": "change",
        "z": "be92da6a5a4a4550",
        "g": "f0957af5d63aa2ef",
        "name": "set flow active to false",
        "rules": [
            {
                "t": "set",
                "p": "backdoor_active",
                "pt": "flow",
                "to": "false",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1800,
        "y": 2600,
        "wires": [
            []
        ]
    },
    {
        "id": "ad5243b43c41460c",
        "type": "change",
        "z": "be92da6a5a4a4550",
        "g": "f0957af5d63aa2ef",
        "name": "set flow active to true",
        "rules": [
            {
                "t": "set",
                "p": "backdoor_active",
                "pt": "flow",
                "to": "true",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1540,
        "y": 2600,
        "wires": [
            []
        ]
    },
    {
        "id": "a3ae06cea3533c9e",
        "type": "api-call-service",
        "z": "be92da6a5a4a4550",
        "g": "f0957af5d63aa2ef",
        "name": "turn up brightness",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "{{payload.entity_id}}"
        ],
        "labelId": [],
        "data": "{\"brightness_pct\":\"65\",\"transition\":5000}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "all",
        "blockInputOverrides": false,
        "domain": "light",
        "service": "turn_on",
        "x": 1310,
        "y": 2540,
        "wires": [
            [
                "389934c4dc2f2efc",
                "ad5243b43c41460c"
            ]
        ]
    },
    {
        "id": "fd7b8cd952413c94",
        "type": "api-call-service",
        "z": "be92da6a5a4a4550",
        "g": "f0957af5d63aa2ef",
        "name": "restore light on state",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "light.{{parts.key}}"
        ],
        "labelId": [],
        "data": "{\"brightness\":\"{{payload.attributes.brightness}}\",\"transition\":5000}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "light",
        "service": "turn_on",
        "x": 2220,
        "y": 2540,
        "wires": [
            []
        ]
    },
    {
        "id": "9b3b7854d7fb2552",
        "type": "api-call-service",
        "z": "be92da6a5a4a4550",
        "g": "f0957af5d63aa2ef",
        "name": "restore light off state",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "light.{{parts.key}}"
        ],
        "labelId": [],
        "data": "{\"transition\":5000}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "light",
        "service": "turn_off",
        "x": 2220,
        "y": 2600,
        "wires": [
            []
        ]
    },
    {
        "id": "6683611e217c5793",
        "type": "api-current-state",
        "z": "be92da6a5a4a4550",
        "g": "f0957af5d63aa2ef",
        "name": "is dark outside",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "binary_sensor.outdoor_daylight",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 720,
        "y": 2540,
        "wires": [
            [
                "95707c8d48358de7",
                "9c11f087d1eed1b8"
            ],
            []
        ]
    },
    {
        "id": "9c11f087d1eed1b8",
        "type": "ha-get-entities",
        "z": "be92da6a5a4a4550",
        "g": "f0957af5d63aa2ef",
        "name": "get lights",
        "server": "4ba92433.2478cc",
        "version": 1,
        "rules": [
            {
                "property": "entity_id",
                "logic": "is",
                "value": "light.shellydimmer_backyard_string_l",
                "valueType": "str",
                "condition": "state_object"
            }
        ],
        "outputType": "split",
        "outputEmptyResults": false,
        "outputLocationType": "msg",
        "outputLocation": "payload",
        "outputResultsCount": 1,
        "x": 900,
        "y": 2600,
        "wires": [
            [
                "a727e094b621802b"
            ]
        ]
    },
    {
        "id": "95707c8d48358de7",
        "type": "ha-get-entities",
        "z": "be92da6a5a4a4550",
        "g": "f0957af5d63aa2ef",
        "name": "get lights",
        "server": "4ba92433.2478cc",
        "version": 1,
        "rules": [
            {
                "property": "entity_id",
                "logic": "is",
                "value": "light.shellydimmer_barn_hanging_lam",
                "valueType": "str",
                "condition": "state_object"
            }
        ],
        "outputType": "split",
        "outputEmptyResults": false,
        "outputLocationType": "msg",
        "outputLocation": "payload",
        "outputResultsCount": 1,
        "x": 900,
        "y": 2540,
        "wires": [
            [
                "a727e094b621802b"
            ]
        ]
    },
    {
        "id": "389934c4dc2f2efc",
        "type": "stoptimer",
        "z": "be92da6a5a4a4550",
        "g": "f0957af5d63aa2ef",
        "duration": "2",
        "units": "Minute",
        "payloadtype": "num",
        "payloadval": "0",
        "name": "",
        "x": 1520,
        "y": 2540,
        "wires": [
            [
                "ea107d7400acc08e",
                "c2fe4fd0486fe8e5"
            ],
            []
        ]
    },
    {
        "id": "a2584957f2e04865",
        "type": "api-current-state",
        "z": "be92da6a5a4a4550",
        "g": "f0957af5d63aa2ef",
        "name": "automation light motion backyard is on",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.automation_light_motion_backyard_enabled",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 290,
        "y": 2540,
        "wires": [
            [
                "156ea82d6417f2cb"
            ],
            []
        ]
    },
    {
        "id": "a66118ea5be1ff8c",
        "type": "link in",
        "z": "be92da6a5a4a4550",
        "g": "f0957af5d63aa2ef",
        "name": "turn on/off backyard lights dynamicly ",
        "links": [
            "3126533b3e0ad552",
            "598c87450fe46556"
        ],
        "x": 95,
        "y": 2540,
        "wires": [
            [
                "a2584957f2e04865"
            ]
        ]
    },
    {
        "id": "0a9d24a7e3ddf454",
        "type": "comment",
        "z": "be92da6a5a4a4550",
        "g": "aab1906238bddb1a",
        "name": "toggle backyard light trigger by shellyi3 button push from living room",
        "info": "",
        "x": 300,
        "y": 2700,
        "wires": []
    },
    {
        "id": "24f07e9dc4f73d1e",
        "type": "link in",
        "z": "be92da6a5a4a4550",
        "g": "aab1906238bddb1a",
        "name": "scene_light_toggle_string_backyard",
        "links": [
            "b55a1b1c2ee46b70"
        ],
        "x": 305,
        "y": 2760,
        "wires": [
            [
                "e1d97f0452ca6682"
            ]
        ]
    },
    {
        "id": "e1d97f0452ca6682",
        "type": "api-call-service",
        "z": "be92da6a5a4a4550",
        "g": "aab1906238bddb1a",
        "name": "toggle light backyard string",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.toggle",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "light.shellydimmer_backyard_string_l"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "light",
        "service": "toggle",
        "x": 460,
        "y": 2760,
        "wires": [
            []
        ]
    },
    {
        "id": "2352748556d6fb89",
        "type": "link in",
        "z": "be92da6a5a4a4550",
        "g": "4004851064bcddcd",
        "name": "scene_light_toggle_pendant_lamp_barndoor",
        "links": [
            "257a3fc6c1e0caff"
        ],
        "x": 305,
        "y": 2920,
        "wires": [
            [
                "9e6bf64138ee43fa"
            ]
        ]
    },
    {
        "id": "9e6bf64138ee43fa",
        "type": "api-call-service",
        "z": "be92da6a5a4a4550",
        "g": "4004851064bcddcd",
        "name": "toggle light pendant lamp barndoor in the backyard",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.toggle",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "light.shelly1_barn_door"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "light",
        "service": "toggle",
        "x": 530,
        "y": 2920,
        "wires": [
            []
        ]
    },
    {
        "id": "e526a056cd7494db",
        "type": "comment",
        "z": "be92da6a5a4a4550",
        "g": "4004851064bcddcd",
        "name": "toggle light pendant lamp barndoor in the backyard by shellyi3 button push from living room",
        "info": "",
        "x": 370,
        "y": 2860,
        "wires": []
    },
    {
        "id": "9c3ec377bfc2931f",
        "type": "api-call-service",
        "z": "be92da6a5a4a4550",
        "g": "085abb2595ddc9eb",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.turn_off",
        "floorId": [],
        "areaId": [
            "backyard"
        ],
        "deviceId": [],
        "entityId": [],
        "labelId": [],
        "data": "{\"transition\":5000}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": true,
        "domain": "light",
        "service": "turn_off",
        "x": 190,
        "y": 3060,
        "wires": [
            []
        ]
    },
    {
        "id": "7115d2155b40634a",
        "type": "comment",
        "z": "be92da6a5a4a4550",
        "g": "085abb2595ddc9eb",
        "name": "turn off all backyard lights when daylight is on",
        "info": "",
        "x": 230,
        "y": 3020,
        "wires": []
    },
    {
        "id": "dde87eef542d7ef4",
        "type": "link in",
        "z": "be92da6a5a4a4550",
        "g": "085abb2595ddc9eb",
        "name": "turn off all backyard lights",
        "links": [
            "31fda56ec62032b8"
        ],
        "x": 85,
        "y": 3060,
        "wires": [
            [
                "9c3ec377bfc2931f"
            ]
        ]
    },
    {
        "id": "a27132ae5fc26d23",
        "type": "api-current-state",
        "z": "be92da6a5a4a4550",
        "g": "aa5158e947d2ab5c",
        "name": "state persons home",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "home",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "group.persons",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 850,
        "y": 2120,
        "wires": [
            [
                "e637b15d3d21c45d"
            ],
            []
        ]
    },
    {
        "id": "d74218a87e76e862",
        "type": "api-current-state",
        "z": "be92da6a5a4a4550",
        "g": "aa5158e947d2ab5c",
        "name": "state guest on",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.guest",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 840,
        "y": 2180,
        "wires": [
            [
                "e637b15d3d21c45d"
            ],
            []
        ]
    },
    {
        "id": "f38fe22a1698047b",
        "type": "api-call-service",
        "z": "be92da6a5a4a4550",
        "g": "aa5158e947d2ab5c",
        "name": "backyard string light turn on 25 pct brightness",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "light.shellydimmer_backyard_string_l"
        ],
        "labelId": [],
        "data": "{\"brightness_pct\":25,\"transition\":5000}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": true,
        "domain": "light",
        "service": "turn_on",
        "x": 1390,
        "y": 2120,
        "wires": [
            []
        ]
    },
    {
        "id": "7e55f50c12d97759",
        "type": "api-current-state",
        "z": "be92da6a5a4a4550",
        "g": "aa5158e947d2ab5c",
        "name": "sleepmode is off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.sleep_mode",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 440,
        "y": 2120,
        "wires": [
            [
                "719f3dd468939e86"
            ],
            []
        ]
    },
    {
        "id": "b9235e8435499db2",
        "type": "comment",
        "z": "be92da6a5a4a4550",
        "g": "aa5158e947d2ab5c",
        "name": "Turn backyard string light on when it is dark outside, sleepmode is off and a person or guest is home",
        "info": "",
        "x": 400,
        "y": 2080,
        "wires": []
    },
    {
        "id": "961409bc2d9b8a1b",
        "type": "link in",
        "z": "be92da6a5a4a4550",
        "g": "aa5158e947d2ab5c",
        "name": "turn on backyard light string",
        "links": [
            "4a93ba39b988072a",
            "c07ca02ed810efe8"
        ],
        "x": 305,
        "y": 2120,
        "wires": [
            [
                "7e55f50c12d97759"
            ]
        ]
    },
    {
        "id": "1c957e317538e84e",
        "type": "subflow:ad57f56dd92dd9d6",
        "z": "be92da6a5a4a4550",
        "g": "aa5158e947d2ab5c",
        "name": "",
        "x": 190,
        "y": 2180,
        "wires": [
            [
                "7e55f50c12d97759"
            ],
            [],
            [],
            [],
            []
        ]
    },
    {
        "id": "719f3dd468939e86",
        "type": "api-current-state",
        "z": "be92da6a5a4a4550",
        "g": "aa5158e947d2ab5c",
        "name": "daylight is off (dark)",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "binary_sensor.outdoor_daylight",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 630,
        "y": 2120,
        "wires": [
            [
                "d74218a87e76e862",
                "a27132ae5fc26d23"
            ],
            []
        ]
    },
    {
        "id": "6d9b9920a96b0169",
        "type": "comment",
        "z": "be92da6a5a4a4550",
        "g": "8a8d75e6f669a78a",
        "name": "turn off lights when sleepmode turns on or the house is unoccupied",
        "info": "",
        "x": 300,
        "y": 3160,
        "wires": []
    },
    {
        "id": "f64399ba24b32ef4",
        "type": "subflow:9ea6eabfb34d96e0",
        "z": "be92da6a5a4a4550",
        "g": "8a8d75e6f669a78a",
        "name": "",
        "x": 190,
        "y": 3200,
        "wires": [
            [
                "44ab129f97435dd9"
            ]
        ]
    },
    {
        "id": "44ab129f97435dd9",
        "type": "api-call-service",
        "z": "be92da6a5a4a4550",
        "g": "8a8d75e6f669a78a",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.turn_off",
        "floorId": [],
        "areaId": [
            "backyard"
        ],
        "deviceId": [],
        "entityId": [],
        "labelId": [],
        "data": "{\"transition\":5000}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": true,
        "domain": "light",
        "service": "turn_off",
        "x": 410,
        "y": 3200,
        "wires": [
            []
        ]
    },
    {
        "id": "82b493917e9911f4",
        "type": "link in",
        "z": "be92da6a5a4a4550",
        "g": "8a8d75e6f669a78a",
        "name": "turn off all backyard lights",
        "links": [
            "e6b9ff42fde3ea4e"
        ],
        "x": 305,
        "y": 3240,
        "wires": [
            [
                "44ab129f97435dd9"
            ]
        ]
    },
    {
        "id": "e637b15d3d21c45d",
        "type": "api-current-state",
        "z": "be92da6a5a4a4550",
        "g": "aa5158e947d2ab5c",
        "name": "backyard light string is off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "light.shellydimmer_backyard_string_l",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 1090,
        "y": 2120,
        "wires": [
            [
                "f38fe22a1698047b"
            ],
            []
        ]
    },
    {
        "id": "fe1e8a4a99247a70",
        "type": "delay",
        "z": "be92da6a5a4a4550",
        "g": "d4032e52fcdeddaf",
        "name": "random delay",
        "pauseType": "random",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "2",
        "randomLast": "20",
        "randomUnits": "minutes",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 840,
        "y": 3380,
        "wires": [
            [
                "3ddb5c48d6d277a9"
            ]
        ]
    },
    {
        "id": "d0b07db3a4e9f4be",
        "type": "api-call-service",
        "z": "be92da6a5a4a4550",
        "g": "d4032e52fcdeddaf",
        "name": "turn on light",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "{{payload.entity_id}}"
        ],
        "labelId": [],
        "data": "{\"brightness_pct\":\"{{dimlevel}}\",\"transition\":5000}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "light",
        "service": "turn_on",
        "x": 670,
        "y": 3380,
        "wires": [
            [
                "fe1e8a4a99247a70"
            ]
        ]
    },
    {
        "id": "3ddb5c48d6d277a9",
        "type": "api-call-service",
        "z": "be92da6a5a4a4550",
        "g": "d4032e52fcdeddaf",
        "name": "turn off light",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "{{payload.entity_id}}"
        ],
        "labelId": [],
        "data": "{\"transition\":5000}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "light",
        "service": "turn_off",
        "x": 1010,
        "y": 3380,
        "wires": [
            []
        ]
    },
    {
        "id": "0eaf928a0ea7b2ab",
        "type": "ha-get-entities",
        "z": "be92da6a5a4a4550",
        "g": "d4032e52fcdeddaf",
        "name": "pick a random light that is off",
        "server": "4ba92433.2478cc",
        "version": 1,
        "rules": [
            {
                "condition": "state_object",
                "property": "entity_id",
                "logic": "starts_with",
                "value": "light.",
                "valueType": "str"
            },
            {
                "condition": "state_object",
                "property": "state",
                "logic": "is",
                "value": "off",
                "valueType": "str"
            },
            {
                "condition": "area_registry",
                "property": "area_id",
                "logic": "is",
                "value": "backyard",
                "valueType": "str"
            }
        ],
        "outputType": "random",
        "outputEmptyResults": false,
        "outputLocationType": "msg",
        "outputLocation": "payload",
        "outputResultsCount": 1,
        "x": 460,
        "y": 3380,
        "wires": [
            [
                "d0b07db3a4e9f4be"
            ]
        ]
    },
    {
        "id": "19fce404c5b90b9e",
        "type": "link in",
        "z": "be92da6a5a4a4550",
        "g": "d4032e52fcdeddaf",
        "name": "pick a random light in the backyard vacation simulation",
        "links": [
            "2d8347e89fc50722"
        ],
        "x": 305,
        "y": 3380,
        "wires": [
            [
                "0eaf928a0ea7b2ab"
            ]
        ]
    },
    {
        "id": "d8b99bf36f16da1d",
        "type": "comment",
        "z": "be92da6a5a4a4550",
        "g": "d4032e52fcdeddaf",
        "name": "turn on a random light that was off and turn it randomly off",
        "info": "",
        "x": 270,
        "y": 3340,
        "wires": []
    },
    {
        "id": "9a7408e72f384d69",
        "type": "ha-get-entities",
        "z": "be92da6a5a4a4550",
        "g": "1e5f0b892662f50f",
        "name": "get all lights",
        "server": "4ba92433.2478cc",
        "version": 1,
        "rules": [
            {
                "condition": "state_object",
                "property": "entity_id",
                "logic": "starts_with",
                "value": "light.",
                "valueType": "str"
            },
            {
                "condition": "area_registry",
                "property": "area_id",
                "logic": "is",
                "value": "#:(file)::room.ha_id",
                "valueType": "flow"
            }
        ],
        "outputType": "array",
        "outputEmptyResults": false,
        "outputLocationType": "msg",
        "outputLocation": "light_state",
        "outputResultsCount": 1,
        "x": 570,
        "y": 3520,
        "wires": [
            [
                "060185de8946e677"
            ]
        ]
    },
    {
        "id": "060185de8946e677",
        "type": "change",
        "z": "be92da6a5a4a4550",
        "g": "1e5f0b892662f50f",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "light_state",
                "pt": "flow",
                "to": "light_state",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 750,
        "y": 3520,
        "wires": [
            [
                "bada428533299589"
            ]
        ]
    },
    {
        "id": "bada428533299589",
        "type": "split",
        "z": "be92da6a5a4a4550",
        "g": "1e5f0b892662f50f",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "property": "light_state",
        "x": 910,
        "y": 3520,
        "wires": [
            [
                "0dfe42d012812eb8"
            ]
        ]
    },
    {
        "id": "0dfe42d012812eb8",
        "type": "api-call-service",
        "z": "be92da6a5a4a4550",
        "g": "1e5f0b892662f50f",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "{{light_state.entity_id}}"
        ],
        "labelId": [],
        "data": "{\"brightness_pct\":100}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": true,
        "domain": "light",
        "service": "turn_on",
        "x": 1050,
        "y": 3520,
        "wires": [
            []
        ]
    },
    {
        "id": "837275f23adcb440",
        "type": "api-call-service",
        "z": "be92da6a5a4a4550",
        "g": "1e5f0b892662f50f",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "{{light_state.entity_id}}"
        ],
        "labelId": [],
        "data": "{\"transition\":5000}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": true,
        "domain": "light",
        "service": "turn_off",
        "x": 910,
        "y": 3680,
        "wires": [
            []
        ]
    },
    {
        "id": "5ba1981ebee7928a",
        "type": "change",
        "z": "be92da6a5a4a4550",
        "g": "1e5f0b892662f50f",
        "name": "",
        "rules": [
            {
                "t": "move",
                "p": "light_state",
                "pt": "flow",
                "to": "light_state",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 440,
        "y": 3620,
        "wires": [
            [
                "27b618c31c7c845e"
            ]
        ]
    },
    {
        "id": "27b618c31c7c845e",
        "type": "split",
        "z": "be92da6a5a4a4550",
        "g": "1e5f0b892662f50f",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "property": "light_state",
        "x": 610,
        "y": 3620,
        "wires": [
            [
                "b5ebe7d82d5b5bfd"
            ]
        ]
    },
    {
        "id": "b5ebe7d82d5b5bfd",
        "type": "switch",
        "z": "be92da6a5a4a4550",
        "g": "1e5f0b892662f50f",
        "name": "on/off",
        "property": "light_state.state",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "on",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "off",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 750,
        "y": 3620,
        "wires": [
            [
                "38030c8576a52ba4"
            ],
            [
                "837275f23adcb440"
            ]
        ]
    },
    {
        "id": "38030c8576a52ba4",
        "type": "api-call-service",
        "z": "be92da6a5a4a4550",
        "g": "1e5f0b892662f50f",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "{{light_state.entity_id}}"
        ],
        "labelId": [],
        "data": "{\"brightness\":\"{{light_state.attributes.brightness}}\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": true,
        "domain": "light",
        "service": "turn_on",
        "x": 910,
        "y": 3620,
        "wires": [
            []
        ]
    },
    {
        "id": "a3d90bd47f3ab3be",
        "type": "link in",
        "z": "be92da6a5a4a4550",
        "g": "1e5f0b892662f50f",
        "name": "alarm on lights",
        "links": [
            "5874beb71c3c9523",
            "f1dc99664448d504"
        ],
        "x": 305,
        "y": 3520,
        "wires": [
            [
                "1f187dbf3227f8dc"
            ]
        ]
    },
    {
        "id": "3ea16ee8a25e0caf",
        "type": "link in",
        "z": "be92da6a5a4a4550",
        "g": "1e5f0b892662f50f",
        "name": "alarm off restore lights",
        "links": [
            "7d0fc8f40fda8ff9",
            "71377af681724964",
            "5a1c4daf23c47d8e"
        ],
        "x": 305,
        "y": 3620,
        "wires": [
            [
                "5ba1981ebee7928a"
            ]
        ]
    },
    {
        "id": "0c9cc39d0b3b6d42",
        "type": "comment",
        "z": "be92da6a5a4a4550",
        "g": "1e5f0b892662f50f",
        "name": "store current light state in context then turn on all lights in alarm state",
        "info": "",
        "x": 300,
        "y": 3480,
        "wires": []
    },
    {
        "id": "39ee82bf834e16ab",
        "type": "comment",
        "z": "be92da6a5a4a4550",
        "g": "1e5f0b892662f50f",
        "name": "restore light state based on values in the context store",
        "info": "",
        "x": 260,
        "y": 3580,
        "wires": []
    },
    {
        "id": "c562e1c122851580",
        "type": "inject",
        "z": "be92da6a5a4a4550",
        "g": "3b86f3b774e721d1",
        "name": "room",
        "props": [
            {
                "p": "room.friendly_name",
                "v": "achtertuin",
                "vt": "str"
            },
            {
                "p": "room.ha_id",
                "v": "backyard",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": "1",
        "topic": "",
        "x": 110,
        "y": 200,
        "wires": [
            [
                "948e3d52b10c9991"
            ]
        ]
    },
    {
        "id": "948e3d52b10c9991",
        "type": "change",
        "z": "be92da6a5a4a4550",
        "g": "3b86f3b774e721d1",
        "name": "set room variables",
        "rules": [
            {
                "t": "set",
                "p": "#:(file)::room",
                "pt": "flow",
                "to": "room",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 270,
        "y": 200,
        "wires": [
            []
        ]
    },
    {
        "id": "d8d0be214314d483",
        "type": "comment",
        "z": "be92da6a5a4a4550",
        "g": "3b86f3b774e721d1",
        "name": "add room variables to the context store so it can be reused in the flow",
        "info": "",
        "x": 290,
        "y": 160,
        "wires": []
    },
    {
        "id": "fd05ae5d3ef3464c",
        "type": "comment",
        "z": "be92da6a5a4a4550",
        "g": "a2b5866b3dcd820f",
        "name": "trigger from motion sensor",
        "info": "",
        "x": 150,
        "y": 600,
        "wires": []
    },
    {
        "id": "4873fe8e4c5c689c",
        "type": "server-state-changed",
        "z": "be92da6a5a4a4550",
        "g": "a2b5866b3dcd820f",
        "name": "motion sensor",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "binary_sensor.backyard_motion_sensor_01_motion"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": false,
        "stateType": "str",
        "ifState": "on",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": false,
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 110,
        "y": 660,
        "wires": [
            [
                "4a70786d60fc374f"
            ],
            [
                "37ff504281a3cadb"
            ]
        ]
    },
    {
        "id": "4a70786d60fc374f",
        "type": "link out",
        "z": "be92da6a5a4a4550",
        "g": "a2b5866b3dcd820f",
        "name": "trigger motion sensor is on",
        "mode": "link",
        "links": [
            "1d53c36e14e12d0e"
        ],
        "x": 215,
        "y": 640,
        "wires": []
    },
    {
        "id": "37ff504281a3cadb",
        "type": "link out",
        "z": "be92da6a5a4a4550",
        "g": "a2b5866b3dcd820f",
        "name": "trigger motion sensor is off",
        "mode": "link",
        "links": [
            "3d0b4c8f9c84f077"
        ],
        "x": 215,
        "y": 680,
        "wires": []
    },
    {
        "id": "e97c797a7c1cbb04",
        "type": "comment",
        "z": "be92da6a5a4a4550",
        "g": "3042e996feac3021",
        "name": "turn on all backyard lights to full brightness when motion is detected or a person by the camera restore light when sensor cleared",
        "info": "",
        "x": 490,
        "y": 3780,
        "wires": []
    },
    {
        "id": "1d53c36e14e12d0e",
        "type": "link in",
        "z": "be92da6a5a4a4550",
        "g": "3042e996feac3021",
        "name": "turn on all backyard lights if home security is on",
        "links": [
            "4a70786d60fc374f"
        ],
        "x": 85,
        "y": 3820,
        "wires": [
            [
                "2e48d523ceaf75e5"
            ]
        ]
    },
    {
        "id": "2e48d523ceaf75e5",
        "type": "api-current-state",
        "z": "be92da6a5a4a4550",
        "g": "3042e996feac3021",
        "name": "home security is on",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.home_security",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 210,
        "y": 3820,
        "wires": [
            [
                "f1dc99664448d504"
            ],
            []
        ]
    },
    {
        "id": "f1dc99664448d504",
        "type": "link out",
        "z": "be92da6a5a4a4550",
        "g": "3042e996feac3021",
        "name": "turn on alarm lights if motion is detected and home security is on",
        "mode": "link",
        "links": [
            "a3d90bd47f3ab3be",
            "f7e4e6d5930885d8"
        ],
        "x": 335,
        "y": 3820,
        "wires": []
    },
    {
        "id": "04b2c0c1ab7a1476",
        "type": "api-current-state",
        "z": "be92da6a5a4a4550",
        "g": "3042e996feac3021",
        "name": "home security is on",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.home_security",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 210,
        "y": 3880,
        "wires": [
            [
                "71377af681724964"
            ],
            []
        ]
    },
    {
        "id": "3d0b4c8f9c84f077",
        "type": "link in",
        "z": "be92da6a5a4a4550",
        "g": "3042e996feac3021",
        "name": "restore all backyard lights if home security is on",
        "links": [
            "37ff504281a3cadb"
        ],
        "x": 85,
        "y": 3880,
        "wires": [
            [
                "04b2c0c1ab7a1476"
            ]
        ]
    },
    {
        "id": "71377af681724964",
        "type": "link out",
        "z": "be92da6a5a4a4550",
        "g": "3042e996feac3021",
        "name": "restore alarm lights if motion cleared and home security is on",
        "mode": "link",
        "links": [
            "3ea16ee8a25e0caf"
        ],
        "x": 335,
        "y": 3880,
        "wires": []
    },
    {
        "id": "38c78008d22484a0",
        "type": "api-current-state",
        "z": "be92da6a5a4a4550",
        "g": "a593b47760f06197",
        "name": "home security is off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.home_security",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 370,
        "y": 2340,
        "wires": [
            [
                "0854f23ba4b218d4"
            ],
            []
        ]
    },
    {
        "id": "1f187dbf3227f8dc",
        "type": "api-current-state",
        "z": "be92da6a5a4a4550",
        "g": "1e5f0b892662f50f",
        "name": "daylight is off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "binary_sensor.outdoor_daylight",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 410,
        "y": 3520,
        "wires": [
            [
                "9a7408e72f384d69"
            ],
            []
        ]
    },
    {
        "id": "65aeed9efdef7024",
        "type": "subflow:9ea6eabfb34d96e0",
        "z": "be92da6a5a4a4550",
        "g": "a866187939d8624c",
        "name": "",
        "x": 170,
        "y": 1820,
        "wires": [
            [
                "593778e55152aa9b"
            ]
        ]
    },
    {
        "id": "4deb99247cda9303",
        "type": "comment",
        "z": "be92da6a5a4a4550",
        "g": "a866187939d8624c",
        "name": "send a notification when the backdoor left open when nobody is home",
        "info": "",
        "x": 290,
        "y": 1780,
        "wires": []
    },
    {
        "id": "593778e55152aa9b",
        "type": "api-current-state",
        "z": "be92da6a5a4a4550",
        "g": "a866187939d8624c",
        "name": "backdoor is open",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "binary_sensor.backdoor",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 410,
        "y": 1820,
        "wires": [
            [
                "03ca3a8a936746bc"
            ],
            []
        ]
    },
    {
        "id": "03ca3a8a936746bc",
        "type": "link out",
        "z": "be92da6a5a4a4550",
        "g": "a866187939d8624c",
        "name": "home unoccupied and backdoor is open",
        "mode": "link",
        "links": [
            "2fd301a7c368479b"
        ],
        "x": 545,
        "y": 1820,
        "wires": []
    },
    {
        "id": "e6458dd499f6619c",
        "type": "comment",
        "z": "be92da6a5a4a4550",
        "g": "23e0444a57f8f6f3",
        "name": "send a notification when the backdoor opens and home security is on",
        "info": "",
        "x": 280,
        "y": 1920,
        "wires": []
    },
    {
        "id": "a3b25920676d9bb8",
        "type": "api-current-state",
        "z": "be92da6a5a4a4550",
        "g": "23e0444a57f8f6f3",
        "name": "home security is on",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.home_security",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 410,
        "y": 1960,
        "wires": [
            [
                "2f3c1ff7754c175f"
            ],
            []
        ]
    },
    {
        "id": "a9fd9464ad7de890",
        "type": "link in",
        "z": "be92da6a5a4a4550",
        "g": "23e0444a57f8f6f3",
        "name": "send notification when front door opens and home security is on",
        "links": [
            "598c87450fe46556"
        ],
        "x": 285,
        "y": 1960,
        "wires": [
            [
                "a3b25920676d9bb8"
            ]
        ]
    },
    {
        "id": "2f3c1ff7754c175f",
        "type": "link out",
        "z": "be92da6a5a4a4550",
        "g": "23e0444a57f8f6f3",
        "name": "frontdoor opens and home security is on",
        "mode": "link",
        "links": [
            "a9bf6916fed3973b",
            "f2354880d5cd789f",
            "f876d699b9050714"
        ],
        "x": 535,
        "y": 1960,
        "wires": []
    },
    {
        "id": "15d1a1deb0bec731",
        "type": "api-call-service",
        "z": "be92da6a5a4a4550",
        "g": "7392a1a622e27f68",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "todo.get_items",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "todo.schoonmaak"
        ],
        "labelId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [
            {
                "property": "todo_results",
                "propertyType": "msg",
                "value": "",
                "valueType": "results"
            }
        ],
        "queue": "none",
        "blockInputOverrides": true,
        "domain": "todo",
        "service": "get_items",
        "x": 780,
        "y": 1600,
        "wires": [
            [
                "da5929c89432e558"
            ]
        ]
    },
    {
        "id": "2339cb24fb40851a",
        "type": "api-current-state",
        "z": "be92da6a5a4a4550",
        "g": "7392a1a622e27f68",
        "name": "garbage tomorrow",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "Geen",
        "halt_if_type": "str",
        "halt_if_compare": "is_not",
        "entity_id": "sensor.afval_morgen",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "garbage_type",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "garbage_data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 570,
        "y": 1600,
        "wires": [
            [
                "15d1a1deb0bec731"
            ],
            []
        ]
    },
    {
        "id": "da5929c89432e558",
        "type": "split",
        "z": "be92da6a5a4a4550",
        "g": "7392a1a622e27f68",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "property": "todo_results[\"todo.schoonmaak\"].items",
        "x": 930,
        "y": 1600,
        "wires": [
            [
                "2bc670f809f5f6df"
            ]
        ]
    },
    {
        "id": "efc8e388668c144b",
        "type": "function",
        "z": "be92da6a5a4a4550",
        "g": "7392a1a622e27f68",
        "name": "filter",
        "func": "// normalize function: lowercase + remove spaces/dashes\nfunction normalize(str) {\n    return str.toLowerCase().replace(/[-\\s]/g, \"\");\n}\n\nconst todo_summary = normalize(msg.todo_results[\"todo.schoonmaak\"].items.summary);\nconst garbagecontainer = normalize(msg.garbage_type) + \"container\";\n\nconst todo_description = msg.todo_results[\"todo.schoonmaak\"].items.description;\nconst garbage_pickupdate = msg.garbage_data.attributes.date;\n\nif (todo_summary.includes(garbagecontainer) && todo_description.includes(garbage_pickupdate)) {\n    return msg;\n}\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1170,
        "y": 1600,
        "wires": [
            [
                "3040ab0c0c1ed2dd"
            ]
        ]
    },
    {
        "id": "2bc670f809f5f6df",
        "type": "switch",
        "z": "be92da6a5a4a4550",
        "g": "7392a1a622e27f68",
        "name": "",
        "property": "msg.todo_results[\"todo.schoonmaak\"].items.status",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "needs_action",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1050,
        "y": 1600,
        "wires": [
            [
                "efc8e388668c144b"
            ]
        ]
    },
    {
        "id": "164b09c02dab9081",
        "type": "comment",
        "z": "be92da6a5a4a4550",
        "g": "7392a1a622e27f68",
        "name": "send garbage notification if todo task needs action and contains the garbage type and date",
        "info": "",
        "x": 350,
        "y": 1560,
        "wires": []
    },
    {
        "id": "e4dc18f7c9455c0d",
        "type": "api-current-state",
        "z": "be92da6a5a4a4550",
        "g": "7392a1a622e27f68",
        "name": "garbage today",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "Geen",
        "halt_if_type": "str",
        "halt_if_compare": "is_not",
        "entity_id": "sensor.afval_vandaag",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "garbage_type",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "garbage_data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 580,
        "y": 1660,
        "wires": [
            [
                "15d1a1deb0bec731"
            ],
            []
        ]
    },
    {
        "id": "6fc294104a2dbb11",
        "type": "time-range-switch",
        "z": "be92da6a5a4a4550",
        "g": "7392a1a622e27f68",
        "name": "",
        "lat": "52.0434",
        "lon": "5.6773",
        "startTime": "05:00",
        "endTime": "00:00",
        "startOffset": 0,
        "endOffset": 0,
        "x": 370,
        "y": 1600,
        "wires": [
            [
                "2339cb24fb40851a"
            ],
            [
                "e4dc18f7c9455c0d"
            ]
        ]
    },
    {
        "id": "3040ab0c0c1ed2dd",
        "type": "function",
        "z": "be92da6a5a4a4550",
        "g": "7392a1a622e27f68",
        "name": "message",
        "func": "msg.notify = {}\n\nif (msg.payload === \"GFT\" || msg.payload === \"PMD\") {\n    msg.notify.message = \"Let op, de \" + msg.payload + \"-container moet aan de weg worden gezet\"\n}\nelse {\n    msg.notify.message = \"Let op, de \" + msg.payload.toLower() + \"container moet aan de weg worden gezet\"\n}\n\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1300,
        "y": 1600,
        "wires": [
            [
                "d8573e32a9ec888f"
            ]
        ]
    },
    {
        "id": "d8573e32a9ec888f",
        "type": "link out",
        "z": "be92da6a5a4a4550",
        "g": "7392a1a622e27f68",
        "name": "check garbage todo task needs_action, send notification",
        "mode": "link",
        "links": [
            "76dcb305ba39e083"
        ],
        "x": 1395,
        "y": 1600,
        "wires": []
    },
    {
        "id": "849379e6f7939a8c",
        "type": "link in",
        "z": "be92da6a5a4a4550",
        "g": "7392a1a622e27f68",
        "name": "check garbage todo task needs_action, send notification",
        "links": [
            "e6b9ff42fde3ea4e"
        ],
        "x": 265,
        "y": 1600,
        "wires": [
            [
                "6fc294104a2dbb11"
            ]
        ]
    },
    {
        "id": "4152f10819c597f4",
        "type": "function",
        "z": "be92da6a5a4a4550",
        "g": "59d661e86ca6893c",
        "name": "snapshot url",
        "func": "msg.snapshotUrl = \"https://home-assistant.stamx.nl/api/frigate/notifications/\" + msg.payload.after.id + \"/thumbnail.jpg?format=android\";\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 170,
        "y": 1340,
        "wires": [
            [
                "65c53ee626b1657c",
                "da7c6256f3b28b92"
            ]
        ]
    },
    {
        "id": "06ba67bd52f34108",
        "type": "api-current-state",
        "z": "be92da6a5a4a4550",
        "g": "59d661e86ca6893c",
        "name": "security is off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.home_security",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 790,
        "y": 1340,
        "wires": [
            [
                "8d98ecd84b9c5e5e"
            ],
            []
        ]
    },
    {
        "id": "a8fd84d44c1f3b89",
        "type": "link out",
        "z": "be92da6a5a4a4550",
        "g": "59d661e86ca6893c",
        "name": "send a notification with a snapshot when a person is detected on the camera in the backyard",
        "mode": "link",
        "links": [
            "e2f0e803e1b2bf10"
        ],
        "x": 1145,
        "y": 1460,
        "wires": []
    },
    {
        "id": "7831e77dd0529d13",
        "type": "catch",
        "z": "a0bf4bfc6f223fe1",
        "g": "adce68bda183382f",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 60,
        "wires": [
            [
                "83d9bffdc90d8024"
            ]
        ]
    },
    {
        "id": "83d9bffdc90d8024",
        "type": "template",
        "z": "a0bf4bfc6f223fe1",
        "g": "adce68bda183382f",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 60,
        "wires": [
            [
                "dc40e9ead4bb5038"
            ]
        ]
    },
    {
        "id": "d0d98b18b43870d8",
        "type": "link out",
        "z": "a0bf4bfc6f223fe1",
        "g": "adce68bda183382f",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 675,
        "y": 60,
        "wires": []
    },
    {
        "id": "dc40e9ead4bb5038",
        "type": "template",
        "z": "a0bf4bfc6f223fe1",
        "g": "adce68bda183382f",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 60,
        "wires": [
            [
                "f36ee4c6622c00cb"
            ]
        ]
    },
    {
        "id": "f36ee4c6622c00cb",
        "type": "function",
        "z": "a0bf4bfc6f223fe1",
        "g": "adce68bda183382f",
        "name": "notify.notification_id",
        "func": "msg.notify.notification_id = Date.now().toString(36) + Math.random().toString(36);\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 550,
        "y": 60,
        "wires": [
            [
                "d0d98b18b43870d8"
            ]
        ]
    },
    {
        "id": "ff13419adeecf367",
        "type": "comment",
        "z": "a0bf4bfc6f223fe1",
        "g": "a571b45e5aa6d340",
        "name": "turn off lights when sleepmode turns on or house is onoccupied",
        "info": "",
        "x": 290,
        "y": 820,
        "wires": []
    },
    {
        "id": "39dfde482d49575a",
        "type": "api-call-service",
        "z": "a0bf4bfc6f223fe1",
        "g": "a571b45e5aa6d340",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.turn_off",
        "floorId": [],
        "areaId": [
            "small_bedroom"
        ],
        "deviceId": [],
        "entityId": [],
        "labelId": [],
        "data": "{\"transition\":5000}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "light",
        "service": "turn_off",
        "x": 410,
        "y": 860,
        "wires": [
            []
        ]
    },
    {
        "id": "abebf9f4938982e1",
        "type": "api-call-service",
        "z": "a0bf4bfc6f223fe1",
        "g": "dd34bb5e6cbcf6c2",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "climate.set_temperature",
        "floorId": [],
        "areaId": [
            "small_bedroom"
        ],
        "deviceId": [],
        "entityId": [],
        "labelId": [],
        "data": "{\"temperature\":\"{{target_temp}}\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": true,
        "domain": "climate",
        "service": "set_temperature",
        "x": 610,
        "y": 340,
        "wires": [
            []
        ]
    },
    {
        "id": "3a0d294bfe1551ee",
        "type": "comment",
        "z": "a0bf4bfc6f223fe1",
        "g": "dd34bb5e6cbcf6c2",
        "name": "set thermostats to 16 degree celcius when nobody is home or sleepmode has turned on",
        "info": "",
        "x": 340,
        "y": 300,
        "wires": []
    },
    {
        "id": "f27beafcf76d0d51",
        "type": "template",
        "z": "a0bf4bfc6f223fe1",
        "g": "dd34bb5e6cbcf6c2",
        "name": "target temp",
        "field": "target_temp",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "16",
        "output": "str",
        "x": 410,
        "y": 340,
        "wires": [
            [
                "abebf9f4938982e1"
            ]
        ]
    },
    {
        "id": "af0e2bdd4daadbcb",
        "type": "link in",
        "z": "a0bf4bfc6f223fe1",
        "g": "dd34bb5e6cbcf6c2",
        "name": "set away temperature tado thermostats",
        "links": [
            "e6b9ff42fde3ea4e"
        ],
        "x": 285,
        "y": 380,
        "wires": [
            [
                "f27beafcf76d0d51"
            ]
        ]
    },
    {
        "id": "c118e67cdd8fe02f",
        "type": "subflow:9ea6eabfb34d96e0",
        "z": "a0bf4bfc6f223fe1",
        "g": "dd34bb5e6cbcf6c2",
        "name": "",
        "x": 170,
        "y": 340,
        "wires": [
            [
                "f27beafcf76d0d51"
            ]
        ]
    },
    {
        "id": "ef25687487229d7f",
        "type": "server-state-changed",
        "z": "a0bf4bfc6f223fe1",
        "g": "932e245aaec0bda0",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 1,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "sensor.beaus_room_heating"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": true,
        "stateType": "num",
        "ifState": "",
        "ifStateType": "num",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 210,
        "y": 520,
        "wires": [
            [
                "a91f945822c7931e"
            ]
        ]
    },
    {
        "id": "a91f945822c7931e",
        "type": "switch",
        "z": "a0bf4bfc6f223fe1",
        "g": "932e245aaec0bda0",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            },
            {
                "t": "gte",
                "v": "1",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 450,
        "y": 520,
        "wires": [
            [
                "54c6e03327c27850"
            ],
            [
                "7344814cafbbaef4"
            ]
        ]
    },
    {
        "id": "7344814cafbbaef4",
        "type": "link out",
        "z": "a0bf4bfc6f223fe1",
        "g": "932e245aaec0bda0",
        "name": "heating power >= 1 (on)",
        "mode": "link",
        "links": [
            "c3a4b207319d8610"
        ],
        "x": 555,
        "y": 560,
        "wires": []
    },
    {
        "id": "54c6e03327c27850",
        "type": "link out",
        "z": "a0bf4bfc6f223fe1",
        "g": "932e245aaec0bda0",
        "name": "heating power = 0 (off)",
        "mode": "link",
        "links": [
            "765822175b8ceb64"
        ],
        "x": 555,
        "y": 520,
        "wires": []
    },
    {
        "id": "fd865e556f43f177",
        "type": "comment",
        "z": "a0bf4bfc6f223fe1",
        "g": "932e245aaec0bda0",
        "name": "turn on or off cv boiler heating when heating power state change",
        "info": "",
        "x": 270,
        "y": 480,
        "wires": []
    },
    {
        "id": "29cf551555ac3678",
        "type": "switch",
        "z": "a0bf4bfc6f223fe1",
        "g": "21e117b68a0c2840",
        "name": "camera",
        "property": "payload.after.camera",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "baby",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 380,
        "y": 700,
        "wires": [
            [
                "9bd1e275ca1ee67b"
            ]
        ]
    },
    {
        "id": "6a9330512b21aba9",
        "type": "switch",
        "z": "a0bf4bfc6f223fe1",
        "g": "21e117b68a0c2840",
        "name": "person",
        "property": "payload.after.label",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "person",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 250,
        "y": 700,
        "wires": [
            [
                "29cf551555ac3678"
            ]
        ]
    },
    {
        "id": "0fed28adfbe2ed15",
        "type": "mqtt in",
        "z": "a0bf4bfc6f223fe1",
        "g": "21e117b68a0c2840",
        "name": "",
        "topic": "frigate/events",
        "qos": "2",
        "datatype": "auto-detect",
        "broker": "36dee637778341ba",
        "nl": false,
        "rap": true,
        "rh": 0,
        "inputs": 0,
        "x": 110,
        "y": 700,
        "wires": [
            [
                "6a9330512b21aba9"
            ]
        ]
    },
    {
        "id": "3ff35f5d78d3f75c",
        "type": "comment",
        "z": "a0bf4bfc6f223fe1",
        "g": "21e117b68a0c2840",
        "name": "person detection on camera",
        "info": "",
        "x": 160,
        "y": 660,
        "wires": []
    },
    {
        "id": "9bd1e275ca1ee67b",
        "type": "link out",
        "z": "a0bf4bfc6f223fe1",
        "g": "21e117b68a0c2840",
        "name": "person detected on camera",
        "mode": "link",
        "links": [
            "8ead7d07068c9388",
            "61c36fb38acb7466"
        ],
        "x": 475,
        "y": 700,
        "wires": []
    },
    {
        "id": "4a713c76ca8ffd14",
        "type": "link in",
        "z": "a0bf4bfc6f223fe1",
        "g": "a571b45e5aa6d340",
        "name": "turn off lights when sleepmode turns on",
        "links": [
            "e6b9ff42fde3ea4e"
        ],
        "x": 295,
        "y": 860,
        "wires": [
            [
                "39dfde482d49575a"
            ]
        ]
    },
    {
        "id": "c8bb2db6c9a7b339",
        "type": "subflow:9ea6eabfb34d96e0",
        "z": "a0bf4bfc6f223fe1",
        "g": "a571b45e5aa6d340",
        "name": "",
        "x": 190,
        "y": 900,
        "wires": [
            [
                "39dfde482d49575a"
            ]
        ]
    },
    {
        "id": "1376c8b334e205ed",
        "type": "delay",
        "z": "a0bf4bfc6f223fe1",
        "g": "def0086d54aac994",
        "name": "random delay",
        "pauseType": "random",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "2",
        "randomLast": "20",
        "randomUnits": "minutes",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 920,
        "y": 1040,
        "wires": [
            [
                "2ab55a09d70bc19b"
            ]
        ]
    },
    {
        "id": "53b1bb3f88ba857d",
        "type": "api-call-service",
        "z": "a0bf4bfc6f223fe1",
        "g": "def0086d54aac994",
        "name": "turn on light",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "{{payload.entity_id}}"
        ],
        "labelId": [],
        "data": "{\"brightness_pct\":\"{{dimlevel}}\",\"transition\":5000}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "light",
        "service": "turn_on",
        "x": 670,
        "y": 1040,
        "wires": [
            [
                "1376c8b334e205ed"
            ]
        ]
    },
    {
        "id": "2ab55a09d70bc19b",
        "type": "api-call-service",
        "z": "a0bf4bfc6f223fe1",
        "g": "def0086d54aac994",
        "name": "turn off light",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "{{payload.entity_id}}"
        ],
        "labelId": [],
        "data": "{\"transition\":5000}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "light",
        "service": "turn_off",
        "x": 1090,
        "y": 1040,
        "wires": [
            []
        ]
    },
    {
        "id": "9c15e356fe3cbe8e",
        "type": "ha-get-entities",
        "z": "a0bf4bfc6f223fe1",
        "g": "def0086d54aac994",
        "name": "pick a random light that is off",
        "server": "4ba92433.2478cc",
        "version": 1,
        "rules": [
            {
                "condition": "state_object",
                "property": "entity_id",
                "logic": "starts_with",
                "value": "light.",
                "valueType": "str"
            },
            {
                "condition": "state_object",
                "property": "state",
                "logic": "is",
                "value": "off",
                "valueType": "str"
            },
            {
                "condition": "area_registry",
                "property": "area_id",
                "logic": "is",
                "value": "#:(file)::room.ha_id",
                "valueType": "flow"
            }
        ],
        "outputType": "random",
        "outputEmptyResults": false,
        "outputLocationType": "msg",
        "outputLocation": "payload",
        "outputResultsCount": 1,
        "x": 460,
        "y": 1040,
        "wires": [
            [
                "53b1bb3f88ba857d"
            ]
        ]
    },
    {
        "id": "3f3b0ec569d43650",
        "type": "link in",
        "z": "a0bf4bfc6f223fe1",
        "g": "def0086d54aac994",
        "name": "pick a random light for vacation simulation",
        "links": [
            "817e4e05bbd7960f"
        ],
        "x": 305,
        "y": 1040,
        "wires": [
            [
                "9c15e356fe3cbe8e"
            ]
        ]
    },
    {
        "id": "9859f3ea095334b7",
        "type": "comment",
        "z": "a0bf4bfc6f223fe1",
        "g": "def0086d54aac994",
        "name": "turn on a random light that was off and turn it randomly off",
        "info": "",
        "x": 270,
        "y": 1000,
        "wires": []
    },
    {
        "id": "8f7cd18965f66145",
        "type": "inject",
        "z": "a0bf4bfc6f223fe1",
        "g": "cec969acc4a98aa4",
        "name": "room",
        "props": [
            {
                "p": "room.friendly_name",
                "v": "beau's kamer",
                "vt": "str"
            },
            {
                "p": "room.ha_id",
                "v": "small_bedroom",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": "1",
        "topic": "",
        "x": 110,
        "y": 200,
        "wires": [
            [
                "bfbf220954dd7670"
            ]
        ]
    },
    {
        "id": "bfbf220954dd7670",
        "type": "change",
        "z": "a0bf4bfc6f223fe1",
        "g": "cec969acc4a98aa4",
        "name": "set room variables",
        "rules": [
            {
                "t": "set",
                "p": "#:(file)::room",
                "pt": "flow",
                "to": "room",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 270,
        "y": 200,
        "wires": [
            []
        ]
    },
    {
        "id": "3309fe2efaa03636",
        "type": "comment",
        "z": "a0bf4bfc6f223fe1",
        "g": "cec969acc4a98aa4",
        "name": "add room variables to the context store so it can be reused in the flow",
        "info": "",
        "x": 290,
        "y": 160,
        "wires": []
    },
    {
        "id": "a2782dbf91f5d7b0",
        "type": "ha-get-entities",
        "z": "a0bf4bfc6f223fe1",
        "g": "1029aa10207a5009",
        "name": "get all lights",
        "server": "4ba92433.2478cc",
        "version": 1,
        "rules": [
            {
                "condition": "state_object",
                "property": "entity_id",
                "logic": "starts_with",
                "value": "light.",
                "valueType": "str"
            },
            {
                "condition": "area_registry",
                "property": "area_id",
                "logic": "is",
                "value": "#:(file)::room.ha_id",
                "valueType": "flow"
            }
        ],
        "outputType": "array",
        "outputEmptyResults": false,
        "outputLocationType": "msg",
        "outputLocation": "light_state",
        "outputResultsCount": 1,
        "x": 580,
        "y": 1180,
        "wires": [
            [
                "127c7ffb1d1bc495"
            ]
        ]
    },
    {
        "id": "127c7ffb1d1bc495",
        "type": "change",
        "z": "a0bf4bfc6f223fe1",
        "g": "1029aa10207a5009",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "light_state",
                "pt": "flow",
                "to": "light_state",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 760,
        "y": 1180,
        "wires": [
            [
                "3698f082c53b08f0"
            ]
        ]
    },
    {
        "id": "3698f082c53b08f0",
        "type": "split",
        "z": "a0bf4bfc6f223fe1",
        "g": "1029aa10207a5009",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "property": "light_state",
        "x": 920,
        "y": 1180,
        "wires": [
            [
                "1c1b960ce5afe65f"
            ]
        ]
    },
    {
        "id": "1c1b960ce5afe65f",
        "type": "api-call-service",
        "z": "a0bf4bfc6f223fe1",
        "g": "1029aa10207a5009",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "{{light_state.entity_id}}"
        ],
        "labelId": [],
        "data": "{\"brightness_pct\":100}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": true,
        "domain": "light",
        "service": "turn_on",
        "x": 1060,
        "y": 1180,
        "wires": [
            []
        ]
    },
    {
        "id": "cdc1e981a44ee5fb",
        "type": "api-call-service",
        "z": "a0bf4bfc6f223fe1",
        "g": "1029aa10207a5009",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "{{light_state.entity_id}}"
        ],
        "labelId": [],
        "data": "{\"transition\":5000}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": true,
        "domain": "light",
        "service": "turn_off",
        "x": 910,
        "y": 1360,
        "wires": [
            []
        ]
    },
    {
        "id": "d983402959f092de",
        "type": "change",
        "z": "a0bf4bfc6f223fe1",
        "g": "1029aa10207a5009",
        "name": "",
        "rules": [
            {
                "t": "move",
                "p": "light_state",
                "pt": "flow",
                "to": "light_state",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 440,
        "y": 1300,
        "wires": [
            [
                "243da29416490cde"
            ]
        ]
    },
    {
        "id": "243da29416490cde",
        "type": "split",
        "z": "a0bf4bfc6f223fe1",
        "g": "1029aa10207a5009",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "property": "light_state",
        "x": 610,
        "y": 1300,
        "wires": [
            [
                "1c09023493b28cd6"
            ]
        ]
    },
    {
        "id": "1c09023493b28cd6",
        "type": "switch",
        "z": "a0bf4bfc6f223fe1",
        "g": "1029aa10207a5009",
        "name": "on/off",
        "property": "light_state.state",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "on",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "off",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 750,
        "y": 1300,
        "wires": [
            [
                "c0bbade7cb25afca"
            ],
            [
                "cdc1e981a44ee5fb"
            ]
        ]
    },
    {
        "id": "c0bbade7cb25afca",
        "type": "api-call-service",
        "z": "a0bf4bfc6f223fe1",
        "g": "1029aa10207a5009",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "{{light_state.entity_id}}"
        ],
        "labelId": [],
        "data": "{\"brightness\":\"{{light_state.attributes.brightness}}\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": true,
        "domain": "light",
        "service": "turn_on",
        "x": 910,
        "y": 1300,
        "wires": [
            []
        ]
    },
    {
        "id": "aa5e4b49e4f1a495",
        "type": "link in",
        "z": "a0bf4bfc6f223fe1",
        "g": "1029aa10207a5009",
        "name": "alarm on lights",
        "links": [
            "5874beb71c3c9523"
        ],
        "x": 305,
        "y": 1180,
        "wires": [
            [
                "bd5414d22d20cf2e"
            ]
        ]
    },
    {
        "id": "128979fd0463bcca",
        "type": "link in",
        "z": "a0bf4bfc6f223fe1",
        "g": "1029aa10207a5009",
        "name": "alarm off restore lights",
        "links": [
            "7d0fc8f40fda8ff9",
            "5a1c4daf23c47d8e"
        ],
        "x": 305,
        "y": 1300,
        "wires": [
            [
                "d983402959f092de"
            ]
        ]
    },
    {
        "id": "69b514178990fd6c",
        "type": "comment",
        "z": "a0bf4bfc6f223fe1",
        "g": "1029aa10207a5009",
        "name": "store current light state in context then turn on all lights in alarm state",
        "info": "",
        "x": 300,
        "y": 1140,
        "wires": []
    },
    {
        "id": "b3b1f4e23f46e5cf",
        "type": "comment",
        "z": "a0bf4bfc6f223fe1",
        "g": "1029aa10207a5009",
        "name": "restore light state based on values in the context store",
        "info": "",
        "x": 260,
        "y": 1240,
        "wires": []
    },
    {
        "id": "bd5414d22d20cf2e",
        "type": "api-current-state",
        "z": "a0bf4bfc6f223fe1",
        "g": "1029aa10207a5009",
        "name": "daylight is off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "binary_sensor.outdoor_daylight",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 420,
        "y": 1180,
        "wires": [
            [
                "a2782dbf91f5d7b0"
            ],
            []
        ]
    },
    {
        "id": "174604fe3f8a8bcd",
        "type": "server-state-changed",
        "z": "bf279eb7eda19fd7",
        "g": "e76b862c154037a5",
        "name": "state doorbell button on",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "binary_sensor.smart_doorbell_button"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": false,
        "stateType": "str",
        "ifState": "on",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 140,
        "y": 480,
        "wires": [
            [
                "3bafb9626527259f"
            ],
            []
        ]
    },
    {
        "id": "3bafb9626527259f",
        "type": "link out",
        "z": "bf279eb7eda19fd7",
        "g": "e76b862c154037a5",
        "name": "trigger_doorbell_pressed",
        "mode": "link",
        "links": [
            "29ef6b63d1ee8e04",
            "bd841cbf320510d2",
            "06494fdc0a5d9892",
            "0020f7218cace3a6"
        ],
        "x": 275,
        "y": 480,
        "wires": []
    },
    {
        "id": "e91b6ee40fc46f0c",
        "type": "catch",
        "z": "bf279eb7eda19fd7",
        "g": "e4b115822136011e",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 60,
        "wires": [
            [
                "c2a1f14195c61ae1"
            ]
        ]
    },
    {
        "id": "c2a1f14195c61ae1",
        "type": "template",
        "z": "bf279eb7eda19fd7",
        "g": "e4b115822136011e",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 60,
        "wires": [
            [
                "665026f9a1c4925c"
            ]
        ]
    },
    {
        "id": "eac587a7da6b3661",
        "type": "link out",
        "z": "bf279eb7eda19fd7",
        "g": "e4b115822136011e",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 675,
        "y": 60,
        "wires": []
    },
    {
        "id": "665026f9a1c4925c",
        "type": "template",
        "z": "bf279eb7eda19fd7",
        "g": "e4b115822136011e",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 60,
        "wires": [
            [
                "8df00b3508493f2c"
            ]
        ]
    },
    {
        "id": "8df00b3508493f2c",
        "type": "function",
        "z": "bf279eb7eda19fd7",
        "g": "e4b115822136011e",
        "name": "notify.notification_id",
        "func": "msg.notify.notification_id = Date.now().toString(36) + Math.random().toString(36);\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 550,
        "y": 60,
        "wires": [
            [
                "eac587a7da6b3661"
            ]
        ]
    },
    {
        "id": "ed0a64b393320467",
        "type": "comment",
        "z": "bf279eb7eda19fd7",
        "g": "e76b862c154037a5",
        "name": "trigger doorbell button press",
        "info": "",
        "x": 160,
        "y": 440,
        "wires": []
    },
    {
        "id": "94995c95d8594567",
        "type": "api-call-service",
        "z": "bf279eb7eda19fd7",
        "g": "4449f91efc0583a7",
        "name": "turn on doorbell active",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "switch.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "switch.smart_doorbell_active"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "switch",
        "service": "turn_on",
        "x": 660,
        "y": 900,
        "wires": [
            []
        ]
    },
    {
        "id": "36cd7ff9968a8857",
        "type": "api-current-state",
        "z": "bf279eb7eda19fd7",
        "g": "4449f91efc0583a7",
        "name": "state doorbell active is off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "switch.smart_doorbell_active",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 430,
        "y": 900,
        "wires": [
            [
                "94995c95d8594567"
            ],
            []
        ]
    },
    {
        "id": "efaf9a399a91cc6a",
        "type": "comment",
        "z": "bf279eb7eda19fd7",
        "g": "4449f91efc0583a7",
        "name": "make doorbell active",
        "info": "",
        "x": 130,
        "y": 860,
        "wires": []
    },
    {
        "id": "eac6d376f26390fe",
        "type": "subflow:9ea6eabfb34d96e0",
        "z": "bf279eb7eda19fd7",
        "g": "4449f91efc0583a7",
        "name": "",
        "x": 170,
        "y": 900,
        "wires": [
            [
                "36cd7ff9968a8857"
            ]
        ]
    },
    {
        "id": "8be71c38e670f610",
        "type": "server-state-changed",
        "z": "bf279eb7eda19fd7",
        "g": "53739d10393c26e2",
        "name": "frontdoor is open",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "binary_sensor.frontdoor"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": false,
        "stateType": "str",
        "ifState": "on",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": false,
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            }
        ],
        "x": 120,
        "y": 620,
        "wires": [
            [
                "578f9487e5b636d9"
            ],
            []
        ]
    },
    {
        "id": "b11e5a0712a8f45c",
        "type": "comment",
        "z": "bf279eb7eda19fd7",
        "g": "53739d10393c26e2",
        "name": "trigger frontdoor",
        "info": "",
        "x": 120,
        "y": 580,
        "wires": []
    },
    {
        "id": "578f9487e5b636d9",
        "type": "link out",
        "z": "bf279eb7eda19fd7",
        "g": "53739d10393c26e2",
        "name": "frontdoor open",
        "mode": "link",
        "links": [
            "684440651deb45dc",
            "b978613dcfb6a202",
            "bd841cbf320510d2",
            "c8074b72183bfa57",
            "57a53c1fc2d883fc",
            "0020f7218cace3a6"
        ],
        "x": 235,
        "y": 620,
        "wires": []
    },
    {
        "id": "6ab4fe8e04f4839f",
        "type": "link in",
        "z": "bf279eb7eda19fd7",
        "g": "4449f91efc0583a7",
        "name": "turn on doorbell active",
        "links": [
            "c07ca02ed810efe8",
            "e6b9ff42fde3ea4e",
            "fb2447123ae5adb8"
        ],
        "x": 285,
        "y": 940,
        "wires": [
            [
                "36cd7ff9968a8857"
            ]
        ]
    },
    {
        "id": "0191b5a7e181f3f2",
        "type": "http request",
        "z": "bf279eb7eda19fd7",
        "g": "b8b2c52ce29b1b66",
        "name": "is-it-dark",
        "method": "POST",
        "ret": "obj",
        "paytoqs": "ignore",
        "url": "http://is-it-dark.home-automation.svc.cluster.local/analyze",
        "tls": "",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "",
        "senderr": false,
        "headers": [],
        "x": 1400,
        "y": 1160,
        "wires": [
            [
                "d02b2605ae51ac23"
            ]
        ]
    },
    {
        "id": "633c48d3bee4c03a",
        "type": "function",
        "z": "bf279eb7eda19fd7",
        "g": "b8b2c52ce29b1b66",
        "name": "create json body",
        "func": "msg.body = {\n    \"url\": \"https://home-assistant.stamx.nl/api/frigate/notifications/\" + msg.payload.after.id + \"/thumbnail.jpg?format=android\"\n}\n\n\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1060,
        "y": 1160,
        "wires": [
            [
                "c2a7d0ee7636ca8d"
            ]
        ]
    },
    {
        "id": "78e328d45f917a20",
        "type": "time-range-switch",
        "z": "bf279eb7eda19fd7",
        "g": "b8b2c52ce29b1b66",
        "name": "",
        "lat": "",
        "lon": "",
        "startTime": "10:30",
        "endTime": "22:00",
        "startOffset": 0,
        "endOffset": "",
        "x": 350,
        "y": 1180,
        "wires": [
            [
                "ef42d8d44fa3d5e9"
            ],
            []
        ]
    },
    {
        "id": "c2a7d0ee7636ca8d",
        "type": "change",
        "z": "bf279eb7eda19fd7",
        "g": "b8b2c52ce29b1b66",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "body",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1240,
        "y": 1160,
        "wires": [
            [
                "0191b5a7e181f3f2"
            ]
        ]
    },
    {
        "id": "d02b2605ae51ac23",
        "type": "switch",
        "z": "bf279eb7eda19fd7",
        "g": "b8b2c52ce29b1b66",
        "name": "",
        "property": "payload.is_infrared",
        "propertyType": "msg",
        "rules": [
            {
                "t": "true"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1530,
        "y": 1160,
        "wires": [
            [
                "ee06a5486ff3cfbf"
            ]
        ]
    },
    {
        "id": "7ece915ddab6671e",
        "type": "api-current-state",
        "z": "bf279eb7eda19fd7",
        "g": "b8b2c52ce29b1b66",
        "name": "doorbell is on",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "switch.smart_doorbell_active",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 690,
        "y": 1180,
        "wires": [
            [
                "f39fa236c5361da4"
            ],
            [
                "e3d6041fbd9d3e9b"
            ]
        ]
    },
    {
        "id": "6043eee441c1f146",
        "type": "http request",
        "z": "bf279eb7eda19fd7",
        "g": "b8b2c52ce29b1b66",
        "name": "is-it-dark",
        "method": "POST",
        "ret": "obj",
        "paytoqs": "ignore",
        "url": "http://is-it-dark.home-automation.svc.cluster.local/analyze",
        "tls": "",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "",
        "senderr": false,
        "headers": [],
        "x": 1400,
        "y": 1220,
        "wires": [
            [
                "7a639c0592294913"
            ]
        ]
    },
    {
        "id": "8f8e3faeb54f8394",
        "type": "function",
        "z": "bf279eb7eda19fd7",
        "g": "b8b2c52ce29b1b66",
        "name": "create json body",
        "func": "msg.body = {\n    \"url\": \"https://home-assistant.stamx.nl/api/frigate/notifications/\" + msg.payload.after.id + \"/thumbnail.jpg?format=android\"\n}\n\n\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1060,
        "y": 1220,
        "wires": [
            [
                "4e8fdb348ee3dbd1"
            ]
        ]
    },
    {
        "id": "4e8fdb348ee3dbd1",
        "type": "change",
        "z": "bf279eb7eda19fd7",
        "g": "b8b2c52ce29b1b66",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "body",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1240,
        "y": 1220,
        "wires": [
            [
                "6043eee441c1f146"
            ]
        ]
    },
    {
        "id": "7a639c0592294913",
        "type": "switch",
        "z": "bf279eb7eda19fd7",
        "g": "b8b2c52ce29b1b66",
        "name": "",
        "property": "payload.is_infrared",
        "propertyType": "msg",
        "rules": [
            {
                "t": "false"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1530,
        "y": 1220,
        "wires": [
            [
                "b025d049cb38b4d4"
            ]
        ]
    },
    {
        "id": "f39fa236c5361da4",
        "type": "ha-wait-until",
        "z": "bf279eb7eda19fd7",
        "g": "b8b2c52ce29b1b66",
        "name": "wait until light is off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "entities": {
            "entity": [
                "light.shellydimmer_small_bedroom"
            ],
            "substring": [],
            "regex": []
        },
        "property": "state",
        "comparator": "is_not",
        "value": "on",
        "valueType": "str",
        "timeout": "30",
        "timeoutType": "num",
        "timeoutUnits": "minutes",
        "checkCurrentState": true,
        "blockInputOverrides": true,
        "outputProperties": [],
        "x": 870,
        "y": 1160,
        "wires": [
            [
                "633c48d3bee4c03a"
            ],
            []
        ]
    },
    {
        "id": "ef42d8d44fa3d5e9",
        "type": "api-current-state",
        "z": "bf279eb7eda19fd7",
        "g": "b8b2c52ce29b1b66",
        "name": "sleepmode is off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.sleep_mode",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 520,
        "y": 1180,
        "wires": [
            [
                "7ece915ddab6671e"
            ],
            []
        ]
    },
    {
        "id": "ee06a5486ff3cfbf",
        "type": "delay",
        "z": "bf279eb7eda19fd7",
        "g": "b8b2c52ce29b1b66",
        "name": "",
        "pauseType": "rate",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "hour",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": true,
        "allowrate": false,
        "outputs": 1,
        "x": 1670,
        "y": 1160,
        "wires": [
            [
                "3de7619c5f6c6ecd"
            ]
        ]
    },
    {
        "id": "b025d049cb38b4d4",
        "type": "delay",
        "z": "bf279eb7eda19fd7",
        "g": "b8b2c52ce29b1b66",
        "name": "",
        "pauseType": "rate",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "hour",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": true,
        "allowrate": false,
        "outputs": 1,
        "x": 1670,
        "y": 1220,
        "wires": [
            [
                "1f0fe76c488b32e7"
            ]
        ]
    },
    {
        "id": "dbf7a6ece449fcfd",
        "type": "comment",
        "z": "bf279eb7eda19fd7",
        "g": "b8b2c52ce29b1b66",
        "name": "send notification to aks if the doorbell must be turned off or not when child is going to bed",
        "info": "",
        "x": 350,
        "y": 1100,
        "wires": []
    },
    {
        "id": "8ead7d07068c9388",
        "type": "link in",
        "z": "bf279eb7eda19fd7",
        "g": "b8b2c52ce29b1b66",
        "name": "doorbell on/off notification when person is detected",
        "links": [
            "9bd1e275ca1ee67b"
        ],
        "x": 245,
        "y": 1180,
        "wires": [
            [
                "78e328d45f917a20"
            ]
        ]
    },
    {
        "id": "1a376a042ef53dd7",
        "type": "switch",
        "z": "bf279eb7eda19fd7",
        "g": "d6e945f724222ae1",
        "name": "person",
        "property": "payload.after.label",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "person",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 250,
        "y": 760,
        "wires": [
            [
                "90e8bf8ad2ceef13"
            ]
        ]
    },
    {
        "id": "90e8bf8ad2ceef13",
        "type": "switch",
        "z": "bf279eb7eda19fd7",
        "g": "d6e945f724222ae1",
        "name": "camera frontyard",
        "property": "payload.after.camera",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "frontyard",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 410,
        "y": 760,
        "wires": [
            [
                "df677727bba187cf"
            ]
        ]
    },
    {
        "id": "01579f2b983c2085",
        "type": "mqtt in",
        "z": "bf279eb7eda19fd7",
        "g": "d6e945f724222ae1",
        "name": "",
        "topic": "frigate/events",
        "qos": "2",
        "datatype": "auto-detect",
        "broker": "36dee637778341ba",
        "nl": false,
        "rap": true,
        "rh": 0,
        "inputs": 0,
        "x": 110,
        "y": 760,
        "wires": [
            [
                "1a376a042ef53dd7"
            ]
        ]
    },
    {
        "id": "f04230c20842c648",
        "type": "comment",
        "z": "bf279eb7eda19fd7",
        "g": "d6e945f724222ae1",
        "name": "trigger person is detected on camera",
        "info": "",
        "x": 180,
        "y": 720,
        "wires": []
    },
    {
        "id": "df677727bba187cf",
        "type": "link out",
        "z": "bf279eb7eda19fd7",
        "g": "d6e945f724222ae1",
        "name": "person is detected on camera",
        "mode": "link",
        "links": [
            "06494fdc0a5d9892",
            "24ac19024410b5e3",
            "61c36fb38acb7466",
            "684440651deb45dc",
            "bd841cbf320510d2",
            "0020f7218cace3a6"
        ],
        "x": 535,
        "y": 760,
        "wires": []
    },
    {
        "id": "4a81d44956bf7abe",
        "type": "api-call-service",
        "z": "bf279eb7eda19fd7",
        "g": "478d175d0abcb987",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "light.shelly1_front_door"
        ],
        "labelId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": true,
        "domain": "light",
        "service": "turn_on",
        "x": 1250,
        "y": 1960,
        "wires": [
            []
        ]
    },
    {
        "id": "29578d5983787104",
        "type": "api-current-state",
        "z": "bf279eb7eda19fd7",
        "g": "478d175d0abcb987",
        "name": "state guest on",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.guest",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 860,
        "y": 2020,
        "wires": [
            [
                "d72ea6fb7bddcfa1"
            ],
            []
        ]
    },
    {
        "id": "7d01d0262d3b09b0",
        "type": "api-current-state",
        "z": "bf279eb7eda19fd7",
        "g": "478d175d0abcb987",
        "name": "state persons home",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "home",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "group.persons",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 870,
        "y": 1960,
        "wires": [
            [
                "d72ea6fb7bddcfa1"
            ],
            []
        ]
    },
    {
        "id": "44f6e9558f9c5074",
        "type": "api-current-state",
        "z": "bf279eb7eda19fd7",
        "g": "478d175d0abcb987",
        "name": "sleepmode is off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.sleep_mode",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 440,
        "y": 1960,
        "wires": [
            [
                "e7b2bb5d8bf44ab8"
            ],
            []
        ]
    },
    {
        "id": "31b11b57e8d4cb7b",
        "type": "comment",
        "z": "bf279eb7eda19fd7",
        "g": "478d175d0abcb987",
        "name": "turn on front door light on when it is dark outside, sleepmode is off and a person or guest is home",
        "info": "",
        "x": 410,
        "y": 1920,
        "wires": []
    },
    {
        "id": "94cfa3499dc876e4",
        "type": "link in",
        "z": "bf279eb7eda19fd7",
        "g": "478d175d0abcb987",
        "name": "turn on frontyard light",
        "links": [
            "4a93ba39b988072a",
            "c07ca02ed810efe8"
        ],
        "x": 325,
        "y": 1980,
        "wires": [
            [
                "44f6e9558f9c5074"
            ]
        ]
    },
    {
        "id": "59bdb9f7dc75cb5c",
        "type": "subflow:ad57f56dd92dd9d6",
        "z": "bf279eb7eda19fd7",
        "g": "478d175d0abcb987",
        "name": "",
        "x": 210,
        "y": 2060,
        "wires": [
            [
                "b811292b8f4a055a"
            ],
            [],
            [],
            [],
            []
        ]
    },
    {
        "id": "e7b2bb5d8bf44ab8",
        "type": "api-current-state",
        "z": "bf279eb7eda19fd7",
        "g": "478d175d0abcb987",
        "name": "daylight is off (dark)",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "binary_sensor.outdoor_daylight",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 650,
        "y": 1960,
        "wires": [
            [
                "29578d5983787104",
                "7d01d0262d3b09b0"
            ],
            []
        ]
    },
    {
        "id": "d72ea6fb7bddcfa1",
        "type": "api-current-state",
        "z": "bf279eb7eda19fd7",
        "g": "478d175d0abcb987",
        "name": "light front door is off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "light.shelly1_front_door",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 1070,
        "y": 1960,
        "wires": [
            [
                "4a81d44956bf7abe"
            ],
            []
        ]
    },
    {
        "id": "888563e683e92055",
        "type": "inject",
        "z": "bf279eb7eda19fd7",
        "g": "c66283c3aaf54ab9",
        "name": "room",
        "props": [
            {
                "p": "room.friendly_name",
                "v": "voortuin",
                "vt": "str"
            },
            {
                "p": "room.ha_id",
                "v": "front_yard",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": "1",
        "topic": "",
        "x": 110,
        "y": 200,
        "wires": [
            [
                "56a2c7044a4c4c0f"
            ]
        ]
    },
    {
        "id": "56a2c7044a4c4c0f",
        "type": "change",
        "z": "bf279eb7eda19fd7",
        "g": "c66283c3aaf54ab9",
        "name": "set room variables",
        "rules": [
            {
                "t": "set",
                "p": "#:(file)::room",
                "pt": "flow",
                "to": "room",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 270,
        "y": 200,
        "wires": [
            []
        ]
    },
    {
        "id": "e0f0521951fb3cc2",
        "type": "comment",
        "z": "bf279eb7eda19fd7",
        "g": "c66283c3aaf54ab9",
        "name": "add room variables to the context store so it can be reused in this flow",
        "info": "",
        "x": 290,
        "y": 160,
        "wires": []
    },
    {
        "id": "0bfac8b9012396e1",
        "type": "ha-get-entities",
        "z": "bf279eb7eda19fd7",
        "g": "e86b37532d49c64c",
        "name": "get all lights",
        "server": "4ba92433.2478cc",
        "version": 1,
        "rules": [
            {
                "condition": "state_object",
                "property": "entity_id",
                "logic": "starts_with",
                "value": "light.",
                "valueType": "str"
            },
            {
                "condition": "area_registry",
                "property": "area_id",
                "logic": "is",
                "value": "#:(file)::room.ha_id",
                "valueType": "flow"
            }
        ],
        "outputType": "array",
        "outputEmptyResults": false,
        "outputLocationType": "msg",
        "outputLocation": "light_state",
        "outputResultsCount": 1,
        "x": 590,
        "y": 2220,
        "wires": [
            [
                "f6cab9c55259ee58"
            ]
        ]
    },
    {
        "id": "f6cab9c55259ee58",
        "type": "change",
        "z": "bf279eb7eda19fd7",
        "g": "e86b37532d49c64c",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "light_state",
                "pt": "flow",
                "to": "light_state",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 770,
        "y": 2220,
        "wires": [
            [
                "6b77a3da8ad09a5b"
            ]
        ]
    },
    {
        "id": "6b77a3da8ad09a5b",
        "type": "split",
        "z": "bf279eb7eda19fd7",
        "g": "e86b37532d49c64c",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "property": "light_state",
        "x": 930,
        "y": 2220,
        "wires": [
            [
                "7e308533ace3b7a5"
            ]
        ]
    },
    {
        "id": "7e308533ace3b7a5",
        "type": "api-call-service",
        "z": "bf279eb7eda19fd7",
        "g": "e86b37532d49c64c",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "{{light_state.entity_id}}"
        ],
        "labelId": [],
        "data": "{\"brightness_pct\":100}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": true,
        "domain": "light",
        "service": "turn_on",
        "x": 1070,
        "y": 2220,
        "wires": [
            []
        ]
    },
    {
        "id": "df783d5214ade8ee",
        "type": "api-call-service",
        "z": "bf279eb7eda19fd7",
        "g": "e86b37532d49c64c",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "{{light_state.entity_id}}"
        ],
        "labelId": [],
        "data": "{\"transition\":5000}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": true,
        "domain": "light",
        "service": "turn_off",
        "x": 910,
        "y": 2380,
        "wires": [
            []
        ]
    },
    {
        "id": "ef76f490bcd61610",
        "type": "change",
        "z": "bf279eb7eda19fd7",
        "g": "e86b37532d49c64c",
        "name": "",
        "rules": [
            {
                "t": "move",
                "p": "light_state",
                "pt": "flow",
                "to": "light_state",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 460,
        "y": 2320,
        "wires": [
            [
                "55e4ed93aa47ec93"
            ]
        ]
    },
    {
        "id": "55e4ed93aa47ec93",
        "type": "split",
        "z": "bf279eb7eda19fd7",
        "g": "e86b37532d49c64c",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "property": "light_state",
        "x": 630,
        "y": 2320,
        "wires": [
            [
                "bdffffaf4b1099f3"
            ]
        ]
    },
    {
        "id": "bdffffaf4b1099f3",
        "type": "switch",
        "z": "bf279eb7eda19fd7",
        "g": "e86b37532d49c64c",
        "name": "on/off",
        "property": "light_state.state",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "on",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "off",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 750,
        "y": 2320,
        "wires": [
            [
                "9adaaa7a62ce557b"
            ],
            [
                "df783d5214ade8ee"
            ]
        ]
    },
    {
        "id": "9adaaa7a62ce557b",
        "type": "api-call-service",
        "z": "bf279eb7eda19fd7",
        "g": "e86b37532d49c64c",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "{{light_state.entity_id}}"
        ],
        "labelId": [],
        "data": "{\"brightness\":\"{{light_state.attributes.brightness}}\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": true,
        "domain": "light",
        "service": "turn_on",
        "x": 910,
        "y": 2320,
        "wires": [
            []
        ]
    },
    {
        "id": "ae418c6467c6832a",
        "type": "link in",
        "z": "bf279eb7eda19fd7",
        "g": "e86b37532d49c64c",
        "name": "alarm on lights",
        "links": [
            "5874beb71c3c9523"
        ],
        "x": 325,
        "y": 2220,
        "wires": [
            [
                "757cebaecd0f8b23"
            ]
        ]
    },
    {
        "id": "6b02551e9bbcc318",
        "type": "link in",
        "z": "bf279eb7eda19fd7",
        "g": "e86b37532d49c64c",
        "name": "alarm off restore lights",
        "links": [
            "7d0fc8f40fda8ff9",
            "5a1c4daf23c47d8e"
        ],
        "x": 325,
        "y": 2320,
        "wires": [
            [
                "ef76f490bcd61610"
            ]
        ]
    },
    {
        "id": "b55fb77b81661d58",
        "type": "comment",
        "z": "bf279eb7eda19fd7",
        "g": "e86b37532d49c64c",
        "name": "store current light state in context then turn on all lights in alarm state",
        "info": "",
        "x": 320,
        "y": 2180,
        "wires": []
    },
    {
        "id": "eee0baf6a957df61",
        "type": "comment",
        "z": "bf279eb7eda19fd7",
        "g": "e86b37532d49c64c",
        "name": "restore light state based on values in the context store",
        "info": "",
        "x": 280,
        "y": 2280,
        "wires": []
    },
    {
        "id": "757cebaecd0f8b23",
        "type": "api-current-state",
        "z": "bf279eb7eda19fd7",
        "g": "e86b37532d49c64c",
        "name": "daylight is off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "binary_sensor.outdoor_daylight",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 430,
        "y": 2220,
        "wires": [
            [
                "0bfac8b9012396e1"
            ],
            []
        ]
    },
    {
        "id": "361ff45ef33b5da5",
        "type": "subflow:9ea6eabfb34d96e0",
        "z": "bf279eb7eda19fd7",
        "g": "3eb49f4a6a20fee1",
        "name": "",
        "x": 170,
        "y": 1640,
        "wires": [
            [
                "03d9f2010dcdc429"
            ]
        ]
    },
    {
        "id": "5cb143cef57ae251",
        "type": "comment",
        "z": "bf279eb7eda19fd7",
        "g": "3eb49f4a6a20fee1",
        "name": "send a notification when the front door left open when nobody is home",
        "info": "",
        "x": 290,
        "y": 1600,
        "wires": []
    },
    {
        "id": "03d9f2010dcdc429",
        "type": "api-current-state",
        "z": "bf279eb7eda19fd7",
        "g": "3eb49f4a6a20fee1",
        "name": "backdoor is open",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "binary_sensor.frontdoor",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 410,
        "y": 1640,
        "wires": [
            [
                "8627798aa8717b48"
            ],
            []
        ]
    },
    {
        "id": "8627798aa8717b48",
        "type": "link out",
        "z": "bf279eb7eda19fd7",
        "g": "3eb49f4a6a20fee1",
        "name": "home unoccupied and frontdoor is open",
        "mode": "link",
        "links": [
            "2fd301a7c368479b"
        ],
        "x": 545,
        "y": 1640,
        "wires": []
    },
    {
        "id": "ef1caaf0e51df45f",
        "type": "delay",
        "z": "bf279eb7eda19fd7",
        "g": "83efa2d173d9dca5",
        "name": "",
        "pauseType": "rate",
        "timeout": "7",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "7",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": true,
        "allowrate": false,
        "outputs": 1,
        "x": 1020,
        "y": 1420,
        "wires": [
            [
                "eb27a8504ea0ba20",
                "489f51dc5f080ea1"
            ]
        ]
    },
    {
        "id": "9c072e7c1116b5c5",
        "type": "comment",
        "z": "bf279eb7eda19fd7",
        "g": "83efa2d173d9dca5",
        "name": "doorbell button pushed send out notifications",
        "info": "",
        "x": 210,
        "y": 1320,
        "wires": []
    },
    {
        "id": "489f51dc5f080ea1",
        "type": "api-current-state",
        "z": "bf279eb7eda19fd7",
        "g": "83efa2d173d9dca5",
        "name": "state doorbell chime is off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "switch.smart_doorbell_active",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 1250,
        "y": 1480,
        "wires": [
            [
                "7249bcd75342e971"
            ],
            []
        ]
    },
    {
        "id": "26c54bb35b060ee0",
        "type": "server-state-changed",
        "z": "bf279eb7eda19fd7",
        "g": "83efa2d173d9dca5",
        "name": "state doorbell button on",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "binary_sensor.smart_doorbell_button"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": false,
        "stateType": "str",
        "ifState": "on",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 140,
        "y": 1360,
        "wires": [
            [
                "0816b0e1b274f0f8"
            ],
            []
        ]
    },
    {
        "id": "eb27a8504ea0ba20",
        "type": "ha-wait-until",
        "z": "bf279eb7eda19fd7",
        "g": "83efa2d173d9dca5",
        "name": "wait until front door is open",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "entities": {
            "entity": [
                "binary_sensor.frontdoor"
            ],
            "substring": [],
            "regex": []
        },
        "property": "state",
        "comparator": "is",
        "value": "on",
        "valueType": "str",
        "timeout": "60",
        "timeoutType": "num",
        "timeoutUnits": "seconds",
        "checkCurrentState": true,
        "blockInputOverrides": true,
        "outputProperties": [],
        "x": 1260,
        "y": 1420,
        "wires": [
            [
                "4634d81b11ef6062"
            ],
            [
                "1799c27892bbca5d"
            ]
        ]
    },
    {
        "id": "e188c5d43cc22d55",
        "type": "link out",
        "z": "bf279eb7eda19fd7",
        "g": "83efa2d173d9dca5",
        "name": "doorbell button pushed",
        "mode": "link",
        "links": [
            "332b4739e9d3ed0c",
            "b75a06591bd2314d"
        ],
        "x": 1085,
        "y": 1360,
        "wires": []
    },
    {
        "id": "4634d81b11ef6062",
        "type": "link out",
        "z": "bf279eb7eda19fd7",
        "g": "83efa2d173d9dca5",
        "name": "doorbell button pushed and frontdoor opens",
        "mode": "link",
        "links": [
            "a3e9edcbf9adf53d"
        ],
        "x": 1415,
        "y": 1400,
        "wires": []
    },
    {
        "id": "1799c27892bbca5d",
        "type": "link out",
        "z": "bf279eb7eda19fd7",
        "g": "83efa2d173d9dca5",
        "name": "doorbell button pushed and frontdoor not openend",
        "mode": "link",
        "links": [
            "50393fa7869f7eda"
        ],
        "x": 1415,
        "y": 1440,
        "wires": []
    },
    {
        "id": "7249bcd75342e971",
        "type": "link out",
        "z": "bf279eb7eda19fd7",
        "g": "83efa2d173d9dca5",
        "name": "doorbell button pushed chime off",
        "mode": "link",
        "links": [
            "033c18722c2af912"
        ],
        "x": 1415,
        "y": 1480,
        "wires": []
    },
    {
        "id": "c03ebaa1a079e107",
        "type": "comment",
        "z": "bf279eb7eda19fd7",
        "g": "4117e6f7ac18e0e5",
        "name": "send a notification when the front door opens and home security is on",
        "info": "",
        "x": 290,
        "y": 1740,
        "wires": []
    },
    {
        "id": "ec9ec176af0ee132",
        "type": "api-current-state",
        "z": "bf279eb7eda19fd7",
        "g": "4117e6f7ac18e0e5",
        "name": "home security is on",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.home_security",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 410,
        "y": 1780,
        "wires": [
            [
                "04aa475bc955a915"
            ],
            []
        ]
    },
    {
        "id": "57a53c1fc2d883fc",
        "type": "link in",
        "z": "bf279eb7eda19fd7",
        "g": "4117e6f7ac18e0e5",
        "name": "send notification when front door opens and home security is on",
        "links": [
            "578f9487e5b636d9"
        ],
        "x": 285,
        "y": 1780,
        "wires": [
            [
                "ec9ec176af0ee132"
            ]
        ]
    },
    {
        "id": "04aa475bc955a915",
        "type": "link out",
        "z": "bf279eb7eda19fd7",
        "g": "4117e6f7ac18e0e5",
        "name": "frontdoor opens and home security is on",
        "mode": "link",
        "links": [
            "a9bf6916fed3973b",
            "f2354880d5cd789f",
            "f876d699b9050714"
        ],
        "x": 535,
        "y": 1780,
        "wires": []
    },
    {
        "id": "98dd5da045366f4f",
        "type": "api-current-state",
        "z": "bf279eb7eda19fd7",
        "g": "4449f91efc0583a7",
        "name": "state doorbell active is on",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "switch.smart_doorbell_active",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 430,
        "y": 1000,
        "wires": [
            [
                "b2c2fadb2c3302b7"
            ],
            []
        ]
    },
    {
        "id": "a4f6b88e4f08955d",
        "type": "link in",
        "z": "bf279eb7eda19fd7",
        "g": "4449f91efc0583a7",
        "name": "turn off doorbell active",
        "links": [
            "67d3120303e32f66"
        ],
        "x": 285,
        "y": 1000,
        "wires": [
            [
                "98dd5da045366f4f"
            ]
        ]
    },
    {
        "id": "b2c2fadb2c3302b7",
        "type": "api-call-service",
        "z": "bf279eb7eda19fd7",
        "g": "4449f91efc0583a7",
        "name": "turn off doorbell active",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "switch.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "switch.smart_doorbell_active"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "switch",
        "service": "turn_off",
        "x": 660,
        "y": 1000,
        "wires": [
            []
        ]
    },
    {
        "id": "3de7619c5f6c6ecd",
        "type": "link out",
        "z": "bf279eb7eda19fd7",
        "g": "b8b2c52ce29b1b66",
        "name": "action turn off doorbell",
        "mode": "link",
        "links": [
            "752ae636e2c65165"
        ],
        "x": 1775,
        "y": 1160,
        "wires": []
    },
    {
        "id": "1f0fe76c488b32e7",
        "type": "link out",
        "z": "bf279eb7eda19fd7",
        "g": "b8b2c52ce29b1b66",
        "name": "action turn on doorbell",
        "mode": "link",
        "links": [
            "bfce7901357f4ed7"
        ],
        "x": 1775,
        "y": 1220,
        "wires": []
    },
    {
        "id": "cce74d3ef40e87b1",
        "type": "api-call-service",
        "z": "bf279eb7eda19fd7",
        "g": "7f9ef23a602772d9",
        "name": "turn on light front door",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "light.shelly1_front_door"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "light",
        "service": "turn_on",
        "x": 880,
        "y": 2520,
        "wires": [
            [
                "3ef95b1cdb5a2913"
            ]
        ]
    },
    {
        "id": "b45d3017dda90564",
        "type": "api-call-service",
        "z": "bf279eb7eda19fd7",
        "g": "7f9ef23a602772d9",
        "name": "turn off light front door",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "light.shelly1_front_door"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "light",
        "service": "turn_off",
        "x": 1560,
        "y": 2520,
        "wires": [
            []
        ]
    },
    {
        "id": "9d3f7eb3988d338d",
        "type": "api-current-state",
        "z": "bf279eb7eda19fd7",
        "g": "7f9ef23a602772d9",
        "name": "state outdoor dark",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "binary_sensor.outdoor_daylight",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 450,
        "y": 2520,
        "wires": [
            [
                "a217db3768dae47b"
            ],
            []
        ]
    },
    {
        "id": "a217db3768dae47b",
        "type": "api-current-state",
        "z": "bf279eb7eda19fd7",
        "g": "7f9ef23a602772d9",
        "name": "state light front door off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "light.shelly1_front_door",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 660,
        "y": 2520,
        "wires": [
            [
                "cce74d3ef40e87b1"
            ],
            []
        ]
    },
    {
        "id": "3ef95b1cdb5a2913",
        "type": "stoptimer",
        "z": "bf279eb7eda19fd7",
        "g": "7f9ef23a602772d9",
        "duration": "5",
        "units": "Minute",
        "payloadtype": "num",
        "payloadval": "0",
        "name": "",
        "x": 1080,
        "y": 2520,
        "wires": [
            [
                "0b1c07b6f15ada9b"
            ],
            []
        ]
    },
    {
        "id": "27ba53f25166ec12",
        "type": "comment",
        "z": "bf279eb7eda19fd7",
        "g": "7f9ef23a602772d9",
        "name": "Action that turns on front yard light(s) for 5 minutes only when it is dark outside",
        "info": "",
        "x": 350,
        "y": 2480,
        "wires": []
    },
    {
        "id": "c35e5fe0aaced7dd",
        "type": "comment",
        "z": "bf279eb7eda19fd7",
        "g": "7f9ef23a602772d9",
        "name": "turn front yard light(s) off when daylight is on",
        "info": "",
        "x": 250,
        "y": 2560,
        "wires": []
    },
    {
        "id": "06494fdc0a5d9892",
        "type": "link in",
        "z": "bf279eb7eda19fd7",
        "g": "7f9ef23a602772d9",
        "name": "turn on frontyard light for 5 minutes",
        "links": [
            "3bafb9626527259f",
            "df677727bba187cf"
        ],
        "x": 325,
        "y": 2520,
        "wires": [
            [
                "9d3f7eb3988d338d"
            ]
        ]
    },
    {
        "id": "c43613425ba3c1da",
        "type": "link in",
        "z": "bf279eb7eda19fd7",
        "g": "7f9ef23a602772d9",
        "name": "turn off frontyard light",
        "links": [
            "31fda56ec62032b8"
        ],
        "x": 325,
        "y": 2600,
        "wires": [
            [
                "84b894521e1025fd"
            ]
        ]
    },
    {
        "id": "e26af8b833a2f7c4",
        "type": "delay",
        "z": "bf279eb7eda19fd7",
        "g": "b893f80d1303467b",
        "name": "random delay",
        "pauseType": "random",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "2",
        "randomLast": "20",
        "randomUnits": "minutes",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 860,
        "y": 2740,
        "wires": [
            [
                "0953197f43a2eae3"
            ]
        ]
    },
    {
        "id": "2c07de935ec0ae13",
        "type": "api-call-service",
        "z": "bf279eb7eda19fd7",
        "g": "b893f80d1303467b",
        "name": "turn on light",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "{{payload.entity_id}}"
        ],
        "labelId": [],
        "data": "{\"brightness_pct\":\"{{dimlevel}}\",\"transition\":5000}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "light",
        "service": "turn_on",
        "x": 690,
        "y": 2740,
        "wires": [
            [
                "e26af8b833a2f7c4"
            ]
        ]
    },
    {
        "id": "0953197f43a2eae3",
        "type": "api-call-service",
        "z": "bf279eb7eda19fd7",
        "g": "b893f80d1303467b",
        "name": "turn off light",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "{{payload.entity_id}}"
        ],
        "labelId": [],
        "data": "{\"transition\":5000}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "light",
        "service": "turn_off",
        "x": 1030,
        "y": 2740,
        "wires": [
            []
        ]
    },
    {
        "id": "5b3614f6404e4b5e",
        "type": "ha-get-entities",
        "z": "bf279eb7eda19fd7",
        "g": "b893f80d1303467b",
        "name": "pick a random light that is off",
        "server": "4ba92433.2478cc",
        "version": 1,
        "rules": [
            {
                "condition": "state_object",
                "property": "entity_id",
                "logic": "starts_with",
                "value": "light.",
                "valueType": "str"
            },
            {
                "condition": "state_object",
                "property": "state",
                "logic": "is",
                "value": "off",
                "valueType": "str"
            },
            {
                "condition": "area_registry",
                "property": "area_id",
                "logic": "is",
                "value": "#:(file)::room.ha_id",
                "valueType": "flow"
            }
        ],
        "outputType": "random",
        "outputEmptyResults": false,
        "outputLocationType": "msg",
        "outputLocation": "payload",
        "outputResultsCount": 1,
        "x": 480,
        "y": 2740,
        "wires": [
            [
                "2c07de935ec0ae13"
            ]
        ]
    },
    {
        "id": "27f9690f59141f3c",
        "type": "link in",
        "z": "bf279eb7eda19fd7",
        "g": "b893f80d1303467b",
        "name": "pick a random light for vacation simulation",
        "links": [
            "af72e61dcd8c596c"
        ],
        "x": 325,
        "y": 2740,
        "wires": [
            [
                "5b3614f6404e4b5e"
            ]
        ]
    },
    {
        "id": "74417dbba5ac7943",
        "type": "comment",
        "z": "bf279eb7eda19fd7",
        "g": "b893f80d1303467b",
        "name": "turn on a random light that was off and turn it randomly off",
        "info": "",
        "x": 290,
        "y": 2700,
        "wires": []
    },
    {
        "id": "1caa85f5908711f2",
        "type": "comment",
        "z": "bf279eb7eda19fd7",
        "g": "562fbfde97dcdc26",
        "name": "turn off lights when sleepmode turns on or the house is unoccupied",
        "info": "",
        "x": 320,
        "y": 2840,
        "wires": []
    },
    {
        "id": "9104f5eb5e4f58b3",
        "type": "subflow:9ea6eabfb34d96e0",
        "z": "bf279eb7eda19fd7",
        "g": "562fbfde97dcdc26",
        "name": "",
        "x": 210,
        "y": 2880,
        "wires": [
            [
                "427e7beaf1cf05cc"
            ]
        ]
    },
    {
        "id": "427e7beaf1cf05cc",
        "type": "api-call-service",
        "z": "bf279eb7eda19fd7",
        "g": "562fbfde97dcdc26",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.turn_off",
        "floorId": [],
        "areaId": [
            "front_yard"
        ],
        "deviceId": [],
        "entityId": [],
        "labelId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": true,
        "domain": "light",
        "service": "turn_off",
        "x": 430,
        "y": 2880,
        "wires": [
            []
        ]
    },
    {
        "id": "120f47429583e78d",
        "type": "link in",
        "z": "bf279eb7eda19fd7",
        "g": "562fbfde97dcdc26",
        "name": "turn off living room lights",
        "links": [
            "e6b9ff42fde3ea4e"
        ],
        "x": 325,
        "y": 2920,
        "wires": [
            [
                "427e7beaf1cf05cc"
            ]
        ]
    },
    {
        "id": "88d6bd33c172fe47",
        "type": "server-state-changed",
        "z": "bf279eb7eda19fd7",
        "g": "447224924e7be73c",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 1,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "switch.smart_doorbell_active"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": false,
        "stateType": "str",
        "ifState": "",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 210,
        "y": 340,
        "wires": [
            [
                "6bd61d183ffe896b"
            ]
        ]
    },
    {
        "id": "6bd61d183ffe896b",
        "type": "link out",
        "z": "bf279eb7eda19fd7",
        "g": "447224924e7be73c",
        "name": "doorbell chime state change",
        "mode": "link",
        "links": [
            "f1b8d703d45827da"
        ],
        "x": 415,
        "y": 340,
        "wires": []
    },
    {
        "id": "37616708a48a82ef",
        "type": "comment",
        "z": "bf279eb7eda19fd7",
        "g": "447224924e7be73c",
        "name": "trigger doorbell chime active state change",
        "info": "",
        "x": 200,
        "y": 300,
        "wires": []
    },
    {
        "id": "24ac19024410b5e3",
        "type": "link in",
        "z": "bf279eb7eda19fd7",
        "g": "83efa2d173d9dca5",
        "name": "trigger person is detected on camera",
        "links": [
            "df677727bba187cf"
        ],
        "x": 65,
        "y": 1440,
        "wires": [
            [
                "b4150f82144bf578"
            ]
        ]
    },
    {
        "id": "ec5aa51eb5b744ff",
        "type": "ha-wait-until",
        "z": "bf279eb7eda19fd7",
        "g": "83efa2d173d9dca5",
        "name": "wait until doorbell button pushed",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "entities": {
            "entity": [
                "binary_sensor.smart_doorbell_button"
            ],
            "substring": [],
            "regex": []
        },
        "property": "state",
        "comparator": "is",
        "value": "on",
        "valueType": "str",
        "timeout": "2",
        "timeoutType": "num",
        "timeoutUnits": "minutes",
        "checkCurrentState": true,
        "blockInputOverrides": true,
        "outputProperties": [],
        "x": 650,
        "y": 1440,
        "wires": [
            [
                "ef1caaf0e51df45f",
                "d2c54edb4271fcda"
            ],
            [
                "383d5bb86f113c33"
            ]
        ]
    },
    {
        "id": "b4150f82144bf578",
        "type": "function",
        "z": "bf279eb7eda19fd7",
        "g": "83efa2d173d9dca5",
        "name": "snapshot url",
        "func": "msg.snapshotUrl = \"https://home-assistant.stamx.nl/api/frigate/notifications/\" + msg.payload.after.id + \"/thumbnail.jpg?format=android\";\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 170,
        "y": 1440,
        "wires": [
            [
                "331d7f15435c92bb"
            ]
        ]
    },
    {
        "id": "331d7f15435c92bb",
        "type": "change",
        "z": "bf279eb7eda19fd7",
        "g": "83efa2d173d9dca5",
        "name": "set doorbell_snapshot to true",
        "rules": [
            {
                "t": "set",
                "p": "doorbell_snapshot",
                "pt": "flow",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 380,
        "y": 1440,
        "wires": [
            [
                "ec5aa51eb5b744ff"
            ]
        ]
    },
    {
        "id": "56e9529fb3adf59e",
        "type": "switch",
        "z": "bf279eb7eda19fd7",
        "g": "83efa2d173d9dca5",
        "name": "",
        "property": "doorbell_snapshot",
        "propertyType": "flow",
        "rules": [
            {
                "t": "false"
            },
            {
                "t": "null"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 990,
        "y": 1320,
        "wires": [
            [
                "e188c5d43cc22d55"
            ],
            [
                "e188c5d43cc22d55"
            ]
        ]
    },
    {
        "id": "383d5bb86f113c33",
        "type": "change",
        "z": "bf279eb7eda19fd7",
        "g": "83efa2d173d9dca5",
        "name": "set doorbell_snapshot to false",
        "rules": [
            {
                "t": "set",
                "p": "doorbell_snapshot",
                "pt": "flow",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 970,
        "y": 1480,
        "wires": [
            []
        ]
    },
    {
        "id": "7bbdb0b2d050fef2",
        "type": "comment",
        "z": "bf279eb7eda19fd7",
        "g": "6627c8c2e67f71eb",
        "name": "turn on frontdoor light when person is detected and light was off",
        "info": "",
        "x": 310,
        "y": 3020,
        "wires": []
    },
    {
        "id": "0b1c07b6f15ada9b",
        "type": "ha-wait-until",
        "z": "bf279eb7eda19fd7",
        "g": "7f9ef23a602772d9",
        "name": "wait until frontdoor is closed",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "entities": {
            "entity": [
                "binary_sensor.frontdoor"
            ],
            "substring": [],
            "regex": []
        },
        "property": "state",
        "comparator": "is",
        "value": "off",
        "valueType": "str",
        "timeout": "30",
        "timeoutType": "num",
        "timeoutUnits": "minutes",
        "checkCurrentState": true,
        "blockInputOverrides": true,
        "outputProperties": [],
        "x": 1300,
        "y": 2520,
        "wires": [
            [
                "b45d3017dda90564"
            ],
            [
                "b45d3017dda90564"
            ]
        ]
    },
    {
        "id": "75db2fdc.c1e22",
        "type": "inject",
        "z": "4e909abe.0b62e4",
        "g": "736bc6c43f5cebf3",
        "name": "every 15 minutes",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "900",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "start_flow",
        "payloadType": "str",
        "x": 210,
        "y": 520,
        "wires": [
            [
                "eaba4c18.04007",
                "4e1d6c0e.bd6b44"
            ]
        ]
    },
    {
        "id": "46fd77b05f226788",
        "type": "comment",
        "z": "4e909abe.0b62e4",
        "g": "1b0422b4cdc9b7b0",
        "name": "select fan mode",
        "info": "",
        "x": 120,
        "y": 160,
        "wires": []
    },
    {
        "id": "a104a83026f8fd84",
        "type": "template",
        "z": "4e909abe.0b62e4",
        "g": "736bc6c43f5cebf3",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Mechanische ventilatie is uitgeschakeld, lucht van boven condenseert mogelijk tegen de koudste oppervlakte in de kelder.\\nDe temperatuur van het koudste oppervlakte in de kelder is: {{sensor.basement_wall_temperature_offset}}  \\nHet dauwpunt van de lucht in de woonkamer is: {{sensor.living_room_thermal_comfort_dew_point}} ",
        "output": "str",
        "x": 1340,
        "y": 520,
        "wires": [
            [
                "476cfb88.13ea74"
            ]
        ]
    },
    {
        "id": "466f23cc5674fa22",
        "type": "template",
        "z": "4e909abe.0b62e4",
        "g": "736bc6c43f5cebf3",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Mechanische ventilatie is uitgeschakeld, de verwarming in de kelder staat aan. \\nKelder Heating Power is {{payload}}%",
        "output": "str",
        "x": 1340,
        "y": 580,
        "wires": [
            [
                "476cfb88.13ea74"
            ]
        ]
    },
    {
        "id": "a443801a148e31b6",
        "type": "function",
        "z": "4e909abe.0b62e4",
        "g": "736bc6c43f5cebf3",
        "name": "round to two decimals",
        "func": "msg.sensor.living_room_thermal_comfort_dew_point = msg.sensor.living_room_thermal_comfort_dew_point.toFixed(2);\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1160,
        "y": 520,
        "wires": [
            [
                "a104a83026f8fd84"
            ]
        ]
    },
    {
        "id": "cbe4be0.ad6c74",
        "type": "api-current-state",
        "z": "4e909abe.0b62e4",
        "g": "736bc6c43f5cebf3",
        "name": "state wall temperature basement < dewpoint living room",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "sensor.living_room_thermal_comfort_dew_point",
        "halt_if_type": "msg",
        "halt_if_compare": "lt",
        "entity_id": "sensor.basement_wall_temperature_offset",
        "state_type": "num",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "sensor.basement_wall_temperature_offset",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 830,
        "y": 520,
        "wires": [
            [
                "a443801a148e31b6"
            ],
            []
        ]
    },
    {
        "id": "e07362ff.ad189",
        "type": "api-current-state",
        "z": "4e909abe.0b62e4",
        "g": "736bc6c43f5cebf3",
        "name": "temperature outdoor <= 5",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "5",
        "halt_if_type": "num",
        "halt_if_compare": "lte",
        "entity_id": "sensor.weather_station_temperature",
        "state_type": "num",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "sensor.buienradar_temperature",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 510,
        "y": 1100,
        "wires": [
            [
                "66c60aad52f358c9"
            ],
            [
                "5ce9303e.d40b8"
            ]
        ]
    },
    {
        "id": "13e032a.2acbbcd",
        "type": "api-current-state",
        "z": "4e909abe.0b62e4",
        "g": "736bc6c43f5cebf3",
        "name": "heating power basement <= 0%",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "0",
        "halt_if_type": "num",
        "halt_if_compare": "lte",
        "entity_id": "sensor.basement_heating",
        "state_type": "num",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "sensor.basement_heating",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 710,
        "y": 700,
        "wires": [
            [
                "8bd822f09fed1461"
            ],
            []
        ]
    },
    {
        "id": "eaba4c18.04007",
        "type": "api-current-state",
        "z": "4e909abe.0b62e4",
        "g": "736bc6c43f5cebf3",
        "name": "state dewpoint living room ",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 1,
        "halt_if": "",
        "halt_if_type": "num",
        "halt_if_compare": "is",
        "entity_id": "sensor.living_room_thermal_comfort_dew_point",
        "state_type": "num",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "sensor.living_room_thermal_comfort_dew_point",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 490,
        "y": 520,
        "wires": [
            [
                "cbe4be0.ad6c74"
            ]
        ]
    },
    {
        "id": "46771664.f639e8",
        "type": "api-current-state",
        "z": "4e909abe.0b62e4",
        "g": "736bc6c43f5cebf3",
        "name": "ventilation is not mid",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "mid",
        "halt_if_type": "str",
        "halt_if_compare": "is_not",
        "entity_id": "select.basement_ventilation_basement_ventilation_mode",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 960,
        "y": 1040,
        "wires": [
            [
                "9516fa80f467b0df"
            ],
            []
        ]
    },
    {
        "id": "476cfb88.13ea74",
        "type": "api-current-state",
        "z": "4e909abe.0b62e4",
        "g": "736bc6c43f5cebf3",
        "name": "ventilation is not off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is_not",
        "entity_id": "select.basement_ventilation_basement_ventilation_mode",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "input_boolean.mechanische_ventilatie_stand_uit",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 1530,
        "y": 520,
        "wires": [
            [
                "d38a7750.f848b8"
            ],
            []
        ]
    },
    {
        "id": "d38a7750.f848b8",
        "type": "api-current-state",
        "z": "4e909abe.0b62e4",
        "g": "736bc6c43f5cebf3",
        "name": "state mechanical ventilation autonomous on",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.mechanical_ventilation_basement_autonomous",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "input_boolean.mechanische_ventilatie_autonoom",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 1810,
        "y": 520,
        "wires": [
            [
                "ac8eb8a0e6387131"
            ],
            []
        ]
    },
    {
        "id": "4e1d6c0e.bd6b44",
        "type": "api-current-state",
        "z": "4e909abe.0b62e4",
        "g": "736bc6c43f5cebf3",
        "name": "autonomous is on",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.mechanical_ventilation_basement_autonomous",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "input_boolean.mechanische_ventilatie_autonoom",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 470,
        "y": 700,
        "wires": [
            [
                "13e032a.2acbbcd"
            ],
            []
        ]
    },
    {
        "id": "a0fea0e8.d9a66",
        "type": "server-state-changed",
        "z": "4e909abe.0b62e4",
        "g": "736bc6c43f5cebf3",
        "name": "state heating power basement  > 5",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "sensor.basement_heating"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": true,
        "stateType": "num",
        "ifState": "5",
        "ifStateType": "num",
        "ifStateOperator": "gt",
        "outputOnlyOnStateChange": true,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 520,
        "y": 580,
        "wires": [
            [
                "466f23cc5674fa22"
            ],
            []
        ]
    },
    {
        "id": "1a262b04.0f6c75",
        "type": "server-state-changed",
        "z": "4e909abe.0b62e4",
        "g": "736bc6c43f5cebf3",
        "name": "state autonomous",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 1,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "input_boolean.mechanical_ventilation_basement_autonomous"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": true,
        "stateType": "str",
        "ifState": "",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 210,
        "y": 640,
        "wires": [
            [
                "eaba4c18.04007",
                "4e1d6c0e.bd6b44"
            ]
        ]
    },
    {
        "id": "8bd822f09fed1461",
        "type": "api-current-state",
        "z": "4e909abe.0b62e4",
        "g": "736bc6c43f5cebf3",
        "name": "ah basement",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 1,
        "halt_if": "",
        "halt_if_type": "num",
        "halt_if_compare": "is",
        "entity_id": "sensor.basement_thermal_comfort_absolute_humidity",
        "state_type": "num",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "sensor.basement_thermal_comfort_absolute_humidity",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 930,
        "y": 700,
        "wires": [
            [
                "5c061fb5ace8d130"
            ]
        ]
    },
    {
        "id": "5c061fb5ace8d130",
        "type": "api-current-state",
        "z": "4e909abe.0b62e4",
        "g": "736bc6c43f5cebf3",
        "name": "ah outdoor > ah basement",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "sensor.basement_thermal_comfort_absolute_humidity",
        "halt_if_type": "msg",
        "halt_if_compare": "gt",
        "entity_id": "sensor.outdoor_thermal_comfort_absolute_humidity",
        "state_type": "num",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "sensor.outdoor_thermal_comfort_absolute_humidity",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 500,
        "y": 780,
        "wires": [
            [
                "6f1eba702c95483a"
            ],
            [
                "85ae6ea3879f4c7f"
            ]
        ]
    },
    {
        "id": "0861797165ba2006",
        "type": "api-current-state",
        "z": "4e909abe.0b62e4",
        "g": "736bc6c43f5cebf3",
        "name": "rh basement < 60%",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "60",
        "halt_if_type": "num",
        "halt_if_compare": "lt",
        "entity_id": "sensor.basement_humidity",
        "state_type": "num",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "sensor.basement_humidity",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 530,
        "y": 1020,
        "wires": [
            [
                "c7b58913.752ad8"
            ],
            [
                "e07362ff.ad189"
            ]
        ]
    },
    {
        "id": "b5d8b43d.943a18",
        "type": "api-current-state",
        "z": "4e909abe.0b62e4",
        "g": "736bc6c43f5cebf3",
        "name": "ventilation is not high",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "high",
        "halt_if_type": "str",
        "halt_if_compare": "is_not",
        "entity_id": "select.basement_ventilation_basement_ventilation_mode",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 960,
        "y": 1120,
        "wires": [
            [
                "c38645a953ed6080"
            ],
            []
        ]
    },
    {
        "id": "ac8eb8a0e6387131",
        "type": "link out",
        "z": "4e909abe.0b62e4",
        "g": "736bc6c43f5cebf3",
        "name": "off",
        "mode": "link",
        "links": [
            "01a29da1c501e23e",
            "01b4d2545d9d93f2"
        ],
        "x": 2015,
        "y": 520,
        "wires": []
    },
    {
        "id": "f1a1d029766aa4e3",
        "type": "api-current-state",
        "z": "4e909abe.0b62e4",
        "g": "736bc6c43f5cebf3",
        "name": "barometer is rain",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "Rain",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "sensor.buienradar_barometer",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 530,
        "y": 960,
        "wires": [
            [
                "aa4bd88087bb3c75"
            ],
            [
                "0861797165ba2006"
            ]
        ]
    },
    {
        "id": "0cebcecc7266486e",
        "type": "api-current-state",
        "z": "4e909abe.0b62e4",
        "g": "736bc6c43f5cebf3",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "pouring",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "weather.knmi_home",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 480,
        "y": 900,
        "wires": [
            [
                "aa4bd88087bb3c75"
            ],
            [
                "f1a1d029766aa4e3"
            ]
        ]
    },
    {
        "id": "6f1eba702c95483a",
        "type": "template",
        "z": "4e909abe.0b62e4",
        "g": "736bc6c43f5cebf3",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "De laagste stand is automatisch ingeschakeld. Buiten is de absolute luchtvochtigheid hoger dan in de souterrain.",
        "output": "str",
        "x": 760,
        "y": 780,
        "wires": [
            [
                "bfdcba16.625018"
            ]
        ]
    },
    {
        "id": "aa4bd88087bb3c75",
        "type": "template",
        "z": "4e909abe.0b62e4",
        "g": "736bc6c43f5cebf3",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "De laagste stand is automatisch ingeschakeld i.v.m. de regen.",
        "output": "str",
        "x": 760,
        "y": 900,
        "wires": [
            [
                "bfdcba16.625018"
            ]
        ]
    },
    {
        "id": "c7b58913.752ad8",
        "type": "template",
        "z": "4e909abe.0b62e4",
        "g": "736bc6c43f5cebf3",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "De middelste stand is automatisch ingeschakeld. De luchtvochtigheid is {{sensor.basement_humidity}}%.",
        "output": "str",
        "x": 760,
        "y": 1020,
        "wires": [
            [
                "46771664.f639e8"
            ]
        ]
    },
    {
        "id": "5ce9303e.d40b8",
        "type": "template",
        "z": "4e909abe.0b62e4",
        "g": "736bc6c43f5cebf3",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "De hoogste stand is automatisch ingeschakeld.",
        "output": "str",
        "x": 760,
        "y": 1120,
        "wires": [
            [
                "b5d8b43d.943a18"
            ]
        ]
    },
    {
        "id": "66c60aad52f358c9",
        "type": "template",
        "z": "4e909abe.0b62e4",
        "g": "736bc6c43f5cebf3",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "De middelste stand is automatisch ingeschakeld. Buiten is het onder de 5 graden celcius.",
        "output": "str",
        "x": 760,
        "y": 1080,
        "wires": [
            [
                "46771664.f639e8"
            ]
        ]
    },
    {
        "id": "8bd10319762b29f3",
        "type": "template",
        "z": "4e909abe.0b62e4",
        "g": "736bc6c43f5cebf3",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "De laagste stand is automatisch ingeschakeld, de verwarming in de woonkamer staat aan.",
        "output": "str",
        "x": 760,
        "y": 840,
        "wires": [
            [
                "bfdcba16.625018"
            ]
        ]
    },
    {
        "id": "85ae6ea3879f4c7f",
        "type": "api-current-state",
        "z": "4e909abe.0b62e4",
        "g": "736bc6c43f5cebf3",
        "name": "heating power living room",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "0",
        "halt_if_type": "num",
        "halt_if_compare": "gt",
        "entity_id": "sensor.living_room_heating",
        "state_type": "num",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 510,
        "y": 840,
        "wires": [
            [
                "8bd10319762b29f3"
            ],
            [
                "0cebcecc7266486e"
            ]
        ]
    },
    {
        "id": "3074d7a3808bdec0",
        "type": "link out",
        "z": "4e909abe.0b62e4",
        "g": "736bc6c43f5cebf3",
        "name": "low",
        "mode": "link",
        "links": [
            "01b4d2545d9d93f2",
            "9613fd9f308ac4e8"
        ],
        "x": 1095,
        "y": 840,
        "wires": []
    },
    {
        "id": "9516fa80f467b0df",
        "type": "link out",
        "z": "4e909abe.0b62e4",
        "g": "736bc6c43f5cebf3",
        "name": "link out 9",
        "mode": "link",
        "links": [
            "01b4d2545d9d93f2",
            "f73292f99a88741d"
        ],
        "x": 1095,
        "y": 1040,
        "wires": []
    },
    {
        "id": "c38645a953ed6080",
        "type": "link out",
        "z": "4e909abe.0b62e4",
        "g": "736bc6c43f5cebf3",
        "name": "high",
        "mode": "link",
        "links": [
            "01b4d2545d9d93f2",
            "a3a5786c5aa6f1be"
        ],
        "x": 1095,
        "y": 1120,
        "wires": []
    },
    {
        "id": "1374c39509549e6e",
        "type": "catch",
        "z": "4e909abe.0b62e4",
        "g": "0801df6d5ab4222b",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 60,
        "wires": [
            [
                "84ec75dcad2d2672"
            ]
        ]
    },
    {
        "id": "84ec75dcad2d2672",
        "type": "template",
        "z": "4e909abe.0b62e4",
        "g": "0801df6d5ab4222b",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 60,
        "wires": [
            [
                "9af35c5ce44c9348"
            ]
        ]
    },
    {
        "id": "cdbbe520d2b5eff8",
        "type": "link out",
        "z": "4e909abe.0b62e4",
        "g": "0801df6d5ab4222b",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 675,
        "y": 60,
        "wires": []
    },
    {
        "id": "9af35c5ce44c9348",
        "type": "template",
        "z": "4e909abe.0b62e4",
        "g": "0801df6d5ab4222b",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 60,
        "wires": [
            [
                "501c585b1cbe7d50"
            ]
        ]
    },
    {
        "id": "501c585b1cbe7d50",
        "type": "function",
        "z": "4e909abe.0b62e4",
        "g": "0801df6d5ab4222b",
        "name": "notify.notification_id",
        "func": "msg.notify.notification_id = Date.now().toString(36) + Math.random().toString(36);\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 550,
        "y": 60,
        "wires": [
            [
                "cdbbe520d2b5eff8"
            ]
        ]
    },
    {
        "id": "9613fd9f308ac4e8",
        "type": "link in",
        "z": "4e909abe.0b62e4",
        "g": "1b0422b4cdc9b7b0",
        "name": "mode low",
        "links": [
            "3074d7a3808bdec0"
        ],
        "x": 75,
        "y": 260,
        "wires": [
            [
                "0ba7626c264dab10"
            ]
        ]
    },
    {
        "id": "dfb1bfbd13bff39d",
        "type": "api-call-service",
        "z": "4e909abe.0b62e4",
        "g": "1b0422b4cdc9b7b0",
        "name": "low",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "select.select_option",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "select.basement_ventilation_basement_ventilation_mode"
        ],
        "labelId": [],
        "data": "{\"option\":\"low\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": true,
        "domain": "select",
        "service": "select_option",
        "x": 330,
        "y": 260,
        "wires": [
            []
        ]
    },
    {
        "id": "0ba7626c264dab10",
        "type": "api-current-state",
        "z": "4e909abe.0b62e4",
        "g": "1b0422b4cdc9b7b0",
        "name": "is not low",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "low",
        "halt_if_type": "str",
        "halt_if_compare": "is_not",
        "entity_id": "select.basement_ventilation_basement_ventilation_mode",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 180,
        "y": 260,
        "wires": [
            [
                "dfb1bfbd13bff39d"
            ],
            []
        ]
    },
    {
        "id": "f73292f99a88741d",
        "type": "link in",
        "z": "4e909abe.0b62e4",
        "g": "1b0422b4cdc9b7b0",
        "name": "mode mid",
        "links": [
            "9516fa80f467b0df"
        ],
        "x": 75,
        "y": 320,
        "wires": [
            [
                "d9f7558a63efb32a"
            ]
        ]
    },
    {
        "id": "e3fcfe18ce304945",
        "type": "api-call-service",
        "z": "4e909abe.0b62e4",
        "g": "1b0422b4cdc9b7b0",
        "name": "mid",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "select.select_option",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "select.basement_ventilation_basement_ventilation_mode"
        ],
        "labelId": [],
        "data": "{\"option\":\"mid\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": true,
        "domain": "select",
        "service": "select_option",
        "x": 330,
        "y": 320,
        "wires": [
            []
        ]
    },
    {
        "id": "d9f7558a63efb32a",
        "type": "api-current-state",
        "z": "4e909abe.0b62e4",
        "g": "1b0422b4cdc9b7b0",
        "name": "is not mid",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "mid",
        "halt_if_type": "str",
        "halt_if_compare": "is_not",
        "entity_id": "select.basement_ventilation_basement_ventilation_mode",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 180,
        "y": 320,
        "wires": [
            [
                "e3fcfe18ce304945"
            ],
            []
        ]
    },
    {
        "id": "a3a5786c5aa6f1be",
        "type": "link in",
        "z": "4e909abe.0b62e4",
        "g": "1b0422b4cdc9b7b0",
        "name": "mode high",
        "links": [
            "c38645a953ed6080"
        ],
        "x": 75,
        "y": 380,
        "wires": [
            [
                "4f19554e0d36f74e"
            ]
        ]
    },
    {
        "id": "2486a94134c4f413",
        "type": "api-call-service",
        "z": "4e909abe.0b62e4",
        "g": "1b0422b4cdc9b7b0",
        "name": "high",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "select.select_option",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "select.basement_ventilation_basement_ventilation_mode"
        ],
        "labelId": [],
        "data": "{\"option\":\"high\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": true,
        "domain": "select",
        "service": "select_option",
        "x": 330,
        "y": 380,
        "wires": [
            []
        ]
    },
    {
        "id": "4f19554e0d36f74e",
        "type": "api-current-state",
        "z": "4e909abe.0b62e4",
        "g": "1b0422b4cdc9b7b0",
        "name": "is not high",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "high",
        "halt_if_type": "str",
        "halt_if_compare": "is_not",
        "entity_id": "select.basement_ventilation_basement_ventilation_mode",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 190,
        "y": 380,
        "wires": [
            [
                "2486a94134c4f413"
            ],
            []
        ]
    },
    {
        "id": "01a29da1c501e23e",
        "type": "link in",
        "z": "4e909abe.0b62e4",
        "g": "1b0422b4cdc9b7b0",
        "name": "mode off",
        "links": [
            "ac8eb8a0e6387131"
        ],
        "x": 75,
        "y": 200,
        "wires": [
            [
                "7c5ef22042647ae5"
            ]
        ]
    },
    {
        "id": "8fb04a3ec2e9fe4f",
        "type": "api-call-service",
        "z": "4e909abe.0b62e4",
        "g": "1b0422b4cdc9b7b0",
        "name": "off",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "select.select_option",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "select.basement_ventilation_basement_ventilation_mode"
        ],
        "labelId": [],
        "data": "{\"option\":\"off\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": true,
        "domain": "select",
        "service": "select_option",
        "x": 330,
        "y": 200,
        "wires": [
            []
        ]
    },
    {
        "id": "7c5ef22042647ae5",
        "type": "api-current-state",
        "z": "4e909abe.0b62e4",
        "g": "1b0422b4cdc9b7b0",
        "name": "is not off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is_not",
        "entity_id": "select.basement_ventilation_basement_ventilation_mode",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 180,
        "y": 200,
        "wires": [
            [
                "8fb04a3ec2e9fe4f"
            ],
            []
        ]
    },
    {
        "id": "8c613499abe41691",
        "type": "subflow:ad57f56dd92dd9d6",
        "z": "4e909abe.0b62e4",
        "g": "736bc6c43f5cebf3",
        "name": "",
        "x": 170,
        "y": 580,
        "wires": [
            [
                "eaba4c18.04007",
                "4e1d6c0e.bd6b44"
            ],
            [],
            [],
            [],
            []
        ]
    },
    {
        "id": "bfdcba16.625018",
        "type": "api-current-state",
        "z": "4e909abe.0b62e4",
        "g": "736bc6c43f5cebf3",
        "name": "ventilation is not low",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "low",
        "halt_if_type": "str",
        "halt_if_compare": "is_not",
        "entity_id": "select.basement_ventilation_basement_ventilation_mode",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 960,
        "y": 840,
        "wires": [
            [
                "3074d7a3808bdec0"
            ],
            []
        ]
    },
    {
        "id": "f1fa5da145cae358",
        "type": "comment",
        "z": "4e909abe.0b62e4",
        "g": "736bc6c43f5cebf3",
        "name": "turn on mechanical ventilation off, low, mid or hight based on certain conditions",
        "info": "",
        "x": 310,
        "y": 480,
        "wires": []
    },
    {
        "id": "db49a00d5adc0cb7",
        "type": "api-call-service",
        "z": "a09ad053d19f1d06",
        "g": "54818585778a7dbf",
        "name": "turn on basement stairs light",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "{{data.entity_id}}"
        ],
        "labelId": [],
        "data": "{\"transition\":5000}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "light",
        "service": "turn_on",
        "x": 1100,
        "y": 1680,
        "wires": [
            []
        ]
    },
    {
        "id": "0b64f5a2e27c31f0",
        "type": "api-call-service",
        "z": "a09ad053d19f1d06",
        "g": "54818585778a7dbf",
        "name": "turn off basement stairs light",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "{{data.entity_id}}"
        ],
        "labelId": [],
        "data": "{\"transition\":5000}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "light",
        "service": "turn_off",
        "x": 1100,
        "y": 1740,
        "wires": [
            []
        ]
    },
    {
        "id": "19e3c39a7481e04b",
        "type": "api-current-state",
        "z": "a09ad053d19f1d06",
        "g": "54818585778a7dbf",
        "name": "basement stairs light is off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "light.shellydimmer_basement_stairs",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 590,
        "y": 1680,
        "wires": [
            [
                "db49a00d5adc0cb7"
            ],
            []
        ]
    },
    {
        "id": "b13ee71e7f09ace4",
        "type": "api-current-state",
        "z": "a09ad053d19f1d06",
        "g": "54818585778a7dbf",
        "name": "basement door is closed",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "binary_sensor.basement_door",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 590,
        "y": 1740,
        "wires": [
            [
                "a5689ff4c9a82d8e"
            ],
            [
                "123a8dfe28431656"
            ]
        ]
    },
    {
        "id": "a5689ff4c9a82d8e",
        "type": "api-current-state",
        "z": "a09ad053d19f1d06",
        "g": "54818585778a7dbf",
        "name": "basement stairs light is on",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "light.shellydimmer_basement_stairs",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 850,
        "y": 1740,
        "wires": [
            [
                "0b64f5a2e27c31f0"
            ],
            []
        ]
    },
    {
        "id": "ec0a3cf53f08df55",
        "type": "server-state-changed",
        "z": "a09ad053d19f1d06",
        "g": "54818585778a7dbf",
        "name": "basement door is open",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "binary_sensor.basement_door"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": false,
        "stateType": "str",
        "ifState": "on",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": false,
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [],
        "x": 160,
        "y": 1680,
        "wires": [
            [
                "19e3c39a7481e04b"
            ],
            [
                "123a8dfe28431656"
            ]
        ]
    },
    {
        "id": "123a8dfe28431656",
        "type": "stoptimer",
        "z": "a09ad053d19f1d06",
        "g": "54818585778a7dbf",
        "duration": "15",
        "units": "Second",
        "payloadtype": "num",
        "payloadval": "0",
        "name": "",
        "x": 370,
        "y": 1740,
        "wires": [
            [
                "b13ee71e7f09ace4"
            ],
            []
        ]
    },
    {
        "id": "d9a6fa98ba07c6da",
        "type": "catch",
        "z": "a09ad053d19f1d06",
        "g": "bbcf76f00ce4b0cb",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 60,
        "wires": [
            [
                "a35d4e7ccec0ebe3"
            ]
        ]
    },
    {
        "id": "a35d4e7ccec0ebe3",
        "type": "template",
        "z": "a09ad053d19f1d06",
        "g": "bbcf76f00ce4b0cb",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 60,
        "wires": [
            [
                "0aa18950f4e293e1"
            ]
        ]
    },
    {
        "id": "03465ecf3ac1c82f",
        "type": "link out",
        "z": "a09ad053d19f1d06",
        "g": "bbcf76f00ce4b0cb",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 675,
        "y": 60,
        "wires": []
    },
    {
        "id": "0aa18950f4e293e1",
        "type": "template",
        "z": "a09ad053d19f1d06",
        "g": "bbcf76f00ce4b0cb",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 60,
        "wires": [
            [
                "24257750e969c915"
            ]
        ]
    },
    {
        "id": "24257750e969c915",
        "type": "function",
        "z": "a09ad053d19f1d06",
        "g": "bbcf76f00ce4b0cb",
        "name": "notify.notification_id",
        "func": "msg.notify.notification_id = Date.now().toString(36) + Math.random().toString(36);\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 550,
        "y": 60,
        "wires": [
            [
                "03465ecf3ac1c82f"
            ]
        ]
    },
    {
        "id": "ba9284adcd1f5c35",
        "type": "comment",
        "z": "a09ad053d19f1d06",
        "g": "54818585778a7dbf",
        "name": "turn on soutterain stairs light when door opens",
        "info": "",
        "x": 230,
        "y": 1640,
        "wires": []
    },
    {
        "id": "296a39b36660da40",
        "type": "api-call-service",
        "z": "a09ad053d19f1d06",
        "g": "dd7dd198428a74cc",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "climate.set_temperature",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "climate.basement"
        ],
        "labelId": [],
        "data": "{\"temperature\":\"{{target_temp}}\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": true,
        "domain": "climate",
        "service": "set_temperature",
        "x": 870,
        "y": 340,
        "wires": [
            []
        ]
    },
    {
        "id": "8782d8d0142e8a03",
        "type": "comment",
        "z": "a09ad053d19f1d06",
        "g": "dd7dd198428a74cc",
        "name": "set thermostats to 16 degree celcius when nobody is home or sleepmode has turned on",
        "info": "",
        "x": 340,
        "y": 300,
        "wires": []
    },
    {
        "id": "591435a4c731b783",
        "type": "template",
        "z": "a09ad053d19f1d06",
        "g": "dd7dd198428a74cc",
        "name": "target temp",
        "field": "target_temp",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "16",
        "output": "str",
        "x": 670,
        "y": 340,
        "wires": [
            [
                "296a39b36660da40"
            ]
        ]
    },
    {
        "id": "2f6877e917181f4c",
        "type": "link in",
        "z": "a09ad053d19f1d06",
        "g": "dd7dd198428a74cc",
        "name": "set away temperature tado thermostats",
        "links": [
            "e6b9ff42fde3ea4e"
        ],
        "x": 545,
        "y": 380,
        "wires": [
            [
                "591435a4c731b783"
            ]
        ]
    },
    {
        "id": "6dc5949df0a63e91",
        "type": "subflow:9ea6eabfb34d96e0",
        "z": "a09ad053d19f1d06",
        "g": "dd7dd198428a74cc",
        "name": "",
        "x": 430,
        "y": 340,
        "wires": [
            [
                "591435a4c731b783"
            ]
        ]
    },
    {
        "id": "d7ed0e9d803f96f0",
        "type": "server-state-changed",
        "z": "a09ad053d19f1d06",
        "g": "ca17f4bdb6bbee81",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 1,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "sensor.basement_heating"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": true,
        "stateType": "num",
        "ifState": "",
        "ifStateType": "num",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 200,
        "y": 540,
        "wires": [
            [
                "4c279a2dc7049407"
            ]
        ]
    },
    {
        "id": "4c279a2dc7049407",
        "type": "switch",
        "z": "a09ad053d19f1d06",
        "g": "ca17f4bdb6bbee81",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            },
            {
                "t": "gte",
                "v": "1",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 430,
        "y": 540,
        "wires": [
            [
                "e6278ef94ae3424e"
            ],
            [
                "394e21db804f1d42"
            ]
        ]
    },
    {
        "id": "394e21db804f1d42",
        "type": "link out",
        "z": "a09ad053d19f1d06",
        "g": "ca17f4bdb6bbee81",
        "name": "heating power >= 1 (on)",
        "mode": "link",
        "links": [
            "c3a4b207319d8610"
        ],
        "x": 535,
        "y": 580,
        "wires": []
    },
    {
        "id": "e6278ef94ae3424e",
        "type": "link out",
        "z": "a09ad053d19f1d06",
        "g": "ca17f4bdb6bbee81",
        "name": "heating power = 0 (off)",
        "mode": "link",
        "links": [
            "765822175b8ceb64"
        ],
        "x": 535,
        "y": 540,
        "wires": []
    },
    {
        "id": "37e17d2d1eef2013",
        "type": "comment",
        "z": "a09ad053d19f1d06",
        "g": "ca17f4bdb6bbee81",
        "name": "turn on or off cv boiler heating when heating power state change",
        "info": "",
        "x": 270,
        "y": 500,
        "wires": []
    },
    {
        "id": "c81a5908f8ca13b3",
        "type": "comment",
        "z": "a09ad053d19f1d06",
        "g": "154e9175574484d1",
        "name": "turn off lights when sleepmode turns on or the house is unoccupied",
        "info": "",
        "x": 300,
        "y": 1840,
        "wires": []
    },
    {
        "id": "1cbe93cd58560dd0",
        "type": "subflow:9ea6eabfb34d96e0",
        "z": "a09ad053d19f1d06",
        "g": "154e9175574484d1",
        "name": "",
        "x": 190,
        "y": 1880,
        "wires": [
            [
                "7b714d579d4f8f68"
            ]
        ]
    },
    {
        "id": "7b714d579d4f8f68",
        "type": "api-call-service",
        "z": "a09ad053d19f1d06",
        "g": "154e9175574484d1",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.turn_off",
        "floorId": [],
        "areaId": [
            "basement"
        ],
        "deviceId": [],
        "entityId": [],
        "labelId": [],
        "data": "{\"transition\":5000}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": true,
        "domain": "light",
        "service": "turn_off",
        "x": 410,
        "y": 1880,
        "wires": [
            []
        ]
    },
    {
        "id": "fd1316bc77e6a6dd",
        "type": "link in",
        "z": "a09ad053d19f1d06",
        "g": "154e9175574484d1",
        "name": "turn off living room lights",
        "links": [
            "e6b9ff42fde3ea4e"
        ],
        "x": 305,
        "y": 1920,
        "wires": [
            [
                "7b714d579d4f8f68"
            ]
        ]
    },
    {
        "id": "e8007db398232ee9",
        "type": "api-call-service",
        "z": "a09ad053d19f1d06",
        "g": "2ed1e18c0abc3114",
        "name": "turn on basement fan autonomous",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "input_boolean.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_boolean.mechanical_ventilation_basement_autonomous"
        ],
        "labelId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "input_boolean",
        "service": "turn_on",
        "x": 440,
        "y": 980,
        "wires": [
            []
        ]
    },
    {
        "id": "8bc384977a98486d",
        "type": "comment",
        "z": "a09ad053d19f1d06",
        "g": "2ed1e18c0abc3114",
        "name": "set fan to autonomous when sleepmode turned on",
        "info": "",
        "x": 230,
        "y": 940,
        "wires": []
    },
    {
        "id": "2eaa2fce52c5ce8a",
        "type": "link in",
        "z": "a09ad053d19f1d06",
        "g": "2ed1e18c0abc3114",
        "name": "set souterrain fan to autonomous",
        "links": [
            "e6b9ff42fde3ea4e"
        ],
        "x": 265,
        "y": 980,
        "wires": [
            [
                "e8007db398232ee9"
            ]
        ]
    },
    {
        "id": "4a91e86f1261996f",
        "type": "comment",
        "z": "a09ad053d19f1d06",
        "g": "085247ef3b38bcb6",
        "name": "smoke and co detection",
        "info": "",
        "x": 140,
        "y": 680,
        "wires": []
    },
    {
        "id": "91d3958c4f2710ec",
        "type": "link out",
        "z": "a09ad053d19f1d06",
        "g": "085247ef3b38bcb6",
        "name": "smokealarm trigger",
        "mode": "link",
        "links": [
            "8a5a42bcd414ac14"
        ],
        "x": 495,
        "y": 720,
        "wires": []
    },
    {
        "id": "828fd828d2b19ea1",
        "type": "link out",
        "z": "a09ad053d19f1d06",
        "g": "085247ef3b38bcb6",
        "name": "coalarm trigger",
        "mode": "link",
        "links": [
            "38db1827482f1f0d"
        ],
        "x": 375,
        "y": 840,
        "wires": []
    },
    {
        "id": "0e7fa473b99890f7",
        "type": "server-state-changed",
        "z": "a09ad053d19f1d06",
        "g": "085247ef3b38bcb6",
        "name": "smoke and co alarm test ",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "binary_sensor.smartalert_basement_smoke_alarm_test"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": false,
        "stateType": "str",
        "ifState": "on",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "alarm_state",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            },
            {
                "property": "room",
                "propertyType": "msg",
                "value": "#:(file)::room.friendly_name",
                "valueType": "flow"
            }
        ],
        "x": 150,
        "y": 720,
        "wires": [
            [
                "7413147849dac610"
            ],
            []
        ]
    },
    {
        "id": "d75a3b89.b17828",
        "type": "server-state-changed",
        "z": "a09ad053d19f1d06",
        "g": "085247ef3b38bcb6",
        "name": "smoke alarm",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "binary_sensor.smartalert_basement_smoke_detected"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": false,
        "stateType": "str",
        "ifState": "on",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "alarm_state",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            },
            {
                "property": "room",
                "propertyType": "msg",
                "value": "#:(file)::room.friendly_name",
                "valueType": "flow"
            }
        ],
        "x": 110,
        "y": 780,
        "wires": [
            [
                "45615df91b5ec3a0"
            ],
            []
        ]
    },
    {
        "id": "22ebafc77a56459e",
        "type": "server-state-changed",
        "z": "a09ad053d19f1d06",
        "g": "085247ef3b38bcb6",
        "name": "co alarm",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "binary_sensor.smartalert_basement_carbon_monoxide_detected"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": false,
        "stateType": "str",
        "ifState": "on",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "alarm_state",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            },
            {
                "property": "room",
                "propertyType": "msg",
                "value": "#:(file)::room.friendly_name",
                "valueType": "flow"
            }
        ],
        "x": 100,
        "y": 840,
        "wires": [
            [
                "238428ccf8f17c38"
            ],
            []
        ]
    },
    {
        "id": "7413147849dac610",
        "type": "change",
        "z": "a09ad053d19f1d06",
        "g": "085247ef3b38bcb6",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "room",
                "pt": "msg",
                "to": "room",
                "tot": "env"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 380,
        "y": 720,
        "wires": [
            [
                "91d3958c4f2710ec"
            ]
        ]
    },
    {
        "id": "238428ccf8f17c38",
        "type": "change",
        "z": "a09ad053d19f1d06",
        "g": "085247ef3b38bcb6",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "room",
                "pt": "msg",
                "to": "room",
                "tot": "env"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 260,
        "y": 840,
        "wires": [
            [
                "828fd828d2b19ea1"
            ]
        ]
    },
    {
        "id": "f4b16be0b8132d77",
        "type": "inject",
        "z": "a09ad053d19f1d06",
        "g": "1fb8ccf40579e9aa",
        "name": "room",
        "props": [
            {
                "p": "room.friendly_name",
                "v": "souterrain",
                "vt": "str"
            },
            {
                "p": "room.ha_id",
                "v": "basement",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": "1",
        "topic": "",
        "x": 110,
        "y": 200,
        "wires": [
            [
                "5ec5313145848ab7"
            ]
        ]
    },
    {
        "id": "5ec5313145848ab7",
        "type": "change",
        "z": "a09ad053d19f1d06",
        "g": "1fb8ccf40579e9aa",
        "name": "set room variables",
        "rules": [
            {
                "t": "set",
                "p": "#:(file)::room",
                "pt": "flow",
                "to": "room",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 270,
        "y": 200,
        "wires": [
            []
        ]
    },
    {
        "id": "47fc3fe64172a3aa",
        "type": "comment",
        "z": "a09ad053d19f1d06",
        "g": "1fb8ccf40579e9aa",
        "name": "add room variables to the context store so it can be reused in the flow",
        "info": "",
        "x": 290,
        "y": 160,
        "wires": []
    },
    {
        "id": "8275c1b6dda4aadb",
        "type": "ha-get-entities",
        "z": "a09ad053d19f1d06",
        "g": "7b7b7e395f402314",
        "name": "get all lights",
        "server": "4ba92433.2478cc",
        "version": 1,
        "rules": [
            {
                "condition": "state_object",
                "property": "entity_id",
                "logic": "starts_with",
                "value": "light.",
                "valueType": "str"
            },
            {
                "condition": "area_registry",
                "property": "area_id",
                "logic": "is",
                "value": "#:(file)::room.ha_id",
                "valueType": "flow"
            }
        ],
        "outputType": "array",
        "outputEmptyResults": false,
        "outputLocationType": "msg",
        "outputLocation": "light_state",
        "outputResultsCount": 1,
        "x": 410,
        "y": 2060,
        "wires": [
            [
                "2e1f9bb99caa0a69"
            ]
        ]
    },
    {
        "id": "2e1f9bb99caa0a69",
        "type": "change",
        "z": "a09ad053d19f1d06",
        "g": "7b7b7e395f402314",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "light_state",
                "pt": "flow",
                "to": "light_state",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 590,
        "y": 2060,
        "wires": [
            [
                "892cb88898854d3a"
            ]
        ]
    },
    {
        "id": "892cb88898854d3a",
        "type": "split",
        "z": "a09ad053d19f1d06",
        "g": "7b7b7e395f402314",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "property": "light_state",
        "x": 750,
        "y": 2060,
        "wires": [
            [
                "896d27328839bee7"
            ]
        ]
    },
    {
        "id": "896d27328839bee7",
        "type": "api-call-service",
        "z": "a09ad053d19f1d06",
        "g": "7b7b7e395f402314",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "{{light_state.entity_id}}"
        ],
        "labelId": [],
        "data": "{\"brightness_pct\":100}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": true,
        "domain": "light",
        "service": "turn_on",
        "x": 910,
        "y": 2060,
        "wires": [
            []
        ]
    },
    {
        "id": "d8c231ff127bcc45",
        "type": "api-call-service",
        "z": "a09ad053d19f1d06",
        "g": "7b7b7e395f402314",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "{{light_state.entity_id}}"
        ],
        "labelId": [],
        "data": "{\"transition\":5000}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": true,
        "domain": "light",
        "service": "turn_off",
        "x": 910,
        "y": 2220,
        "wires": [
            []
        ]
    },
    {
        "id": "720d3acfb843dbbd",
        "type": "change",
        "z": "a09ad053d19f1d06",
        "g": "7b7b7e395f402314",
        "name": "",
        "rules": [
            {
                "t": "move",
                "p": "light_state",
                "pt": "flow",
                "to": "light_state",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 440,
        "y": 2160,
        "wires": [
            [
                "a8317c0efd0cf117"
            ]
        ]
    },
    {
        "id": "a8317c0efd0cf117",
        "type": "split",
        "z": "a09ad053d19f1d06",
        "g": "7b7b7e395f402314",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "property": "light_state",
        "x": 610,
        "y": 2160,
        "wires": [
            [
                "89c264aac7600432"
            ]
        ]
    },
    {
        "id": "89c264aac7600432",
        "type": "switch",
        "z": "a09ad053d19f1d06",
        "g": "7b7b7e395f402314",
        "name": "on/off",
        "property": "light_state.state",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "on",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "off",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 750,
        "y": 2160,
        "wires": [
            [
                "fef8a20f3e3f6a9c"
            ],
            [
                "d8c231ff127bcc45"
            ]
        ]
    },
    {
        "id": "fef8a20f3e3f6a9c",
        "type": "api-call-service",
        "z": "a09ad053d19f1d06",
        "g": "7b7b7e395f402314",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "{{light_state.entity_id}}"
        ],
        "labelId": [],
        "data": "{\"brightness\":\"{{light_state.attributes.brightness}}\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": true,
        "domain": "light",
        "service": "turn_on",
        "x": 910,
        "y": 2160,
        "wires": [
            []
        ]
    },
    {
        "id": "0c568c3a2acbb3c7",
        "type": "link in",
        "z": "a09ad053d19f1d06",
        "g": "7b7b7e395f402314",
        "name": "alarm on lights",
        "links": [
            "5874beb71c3c9523"
        ],
        "x": 305,
        "y": 2060,
        "wires": [
            [
                "8275c1b6dda4aadb"
            ]
        ]
    },
    {
        "id": "91f20f382b4f8484",
        "type": "link in",
        "z": "a09ad053d19f1d06",
        "g": "7b7b7e395f402314",
        "name": "alarm off restore lights",
        "links": [
            "7d0fc8f40fda8ff9",
            "5a1c4daf23c47d8e"
        ],
        "x": 305,
        "y": 2160,
        "wires": [
            [
                "720d3acfb843dbbd"
            ]
        ]
    },
    {
        "id": "9f03d662124e4f23",
        "type": "comment",
        "z": "a09ad053d19f1d06",
        "g": "7b7b7e395f402314",
        "name": "store current light state in context then turn on all lights in alarm state",
        "info": "",
        "x": 300,
        "y": 2020,
        "wires": []
    },
    {
        "id": "b30e73c80fcab9d3",
        "type": "comment",
        "z": "a09ad053d19f1d06",
        "g": "7b7b7e395f402314",
        "name": "restore light state based on values in the context store",
        "info": "",
        "x": 260,
        "y": 2120,
        "wires": []
    },
    {
        "id": "3e4cd67e.efae1a",
        "type": "switch",
        "z": "a09ad053d19f1d06",
        "g": "edc3a7d477db5dd6",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "gt",
                "v": "15",
                "vt": "num"
            },
            {
                "t": "lte",
                "v": "3.9",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 550,
        "y": 1120,
        "wires": [
            [
                "487d5ed4.e5e61"
            ],
            [
                "f052ae0fcfc5b3e8"
            ]
        ]
    },
    {
        "id": "8de0025c.f9ce2",
        "type": "comment",
        "z": "a09ad053d19f1d06",
        "g": "edc3a7d477db5dd6",
        "name": "set washing machine binary sensor on or off based on power measurements",
        "info": "",
        "x": 310,
        "y": 1080,
        "wires": []
    },
    {
        "id": "4bbf608.80d0ca",
        "type": "change",
        "z": "a09ad053d19f1d06",
        "g": "edc3a7d477db5dd6",
        "name": "payload on",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "on",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1290,
        "y": 1120,
        "wires": [
            [
                "84dfbc214d4e3a8d"
            ]
        ]
    },
    {
        "id": "26d18854.3c6808",
        "type": "change",
        "z": "a09ad053d19f1d06",
        "g": "edc3a7d477db5dd6",
        "name": "payload off",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "off",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1290,
        "y": 1180,
        "wires": [
            [
                "84dfbc214d4e3a8d"
            ]
        ]
    },
    {
        "id": "48fe7380.0c049c",
        "type": "switch",
        "z": "a09ad053d19f1d06",
        "g": "edc3a7d477db5dd6",
        "name": "pass if payload is off",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "off",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1740,
        "y": 1120,
        "wires": [
            [
                "e0fa9212373d9f12"
            ]
        ]
    },
    {
        "id": "487d5ed4.e5e61",
        "type": "api-current-state",
        "z": "a09ad053d19f1d06",
        "g": "edc3a7d477db5dd6",
        "name": "state is off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "binary_sensor.washing_machine",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 730,
        "y": 1120,
        "wires": [
            [
                "4bbf608.80d0ca"
            ],
            [
                "e0ef5bfc28c69231"
            ]
        ]
    },
    {
        "id": "bf29d7a3.4b42e8",
        "type": "api-current-state",
        "z": "a09ad053d19f1d06",
        "g": "edc3a7d477db5dd6",
        "name": "state is not off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is_not",
        "entity_id": "binary_sensor.washing_machine",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 1120,
        "y": 1180,
        "wires": [
            [
                "26d18854.3c6808"
            ],
            []
        ]
    },
    {
        "id": "9def52c1.f5b5a",
        "type": "trigger-state",
        "z": "a09ad053d19f1d06",
        "g": "edc3a7d477db5dd6",
        "name": "state washing machine watt",
        "server": "4ba92433.2478cc",
        "version": 5,
        "inputs": 1,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "sensor.shellyplug_washing_machine_power"
            ],
            "substring": [],
            "regex": []
        },
        "debugEnabled": false,
        "constraints": [],
        "customOutputs": [],
        "outputInitially": false,
        "stateType": "num",
        "enableInput": true,
        "exposeToHomeAssistant": false,
        "haConfig": [
            {
                "property": "name",
                "value": ""
            },
            {
                "property": "icon",
                "value": ""
            }
        ],
        "x": 160,
        "y": 1120,
        "wires": [
            [
                "ae2c2b92527841d1"
            ],
            []
        ]
    },
    {
        "id": "84dfbc214d4e3a8d",
        "type": "ha-binary-sensor",
        "z": "a09ad053d19f1d06",
        "g": "edc3a7d477db5dd6",
        "name": "sensor washing machine",
        "entityConfig": "bdbe52c.932a5b",
        "version": 0,
        "state": "payload",
        "stateType": "msg",
        "attributes": [],
        "inputOverride": "allow",
        "outputProperties": [],
        "x": 1510,
        "y": 1120,
        "wires": [
            [
                "48fe7380.0c049c"
            ]
        ]
    },
    {
        "id": "f052ae0fcfc5b3e8",
        "type": "traffic",
        "z": "a09ad053d19f1d06",
        "g": "edc3a7d477db5dd6",
        "name": "",
        "property_allow": "payload",
        "filter_allow": "pass",
        "ignore_case_allow": false,
        "negate_allow": false,
        "send_allow": false,
        "property_stop": "payload",
        "filter_stop": "deny",
        "ignore_case_stop": false,
        "negate_stop": false,
        "send_stop": false,
        "default_start": false,
        "differ": false,
        "x": 730,
        "y": 1180,
        "wires": [
            [
                "bf29d7a3.4b42e8"
            ]
        ]
    },
    {
        "id": "e0ef5bfc28c69231",
        "type": "trigger",
        "z": "a09ad053d19f1d06",
        "g": "edc3a7d477db5dd6",
        "name": "",
        "op1": "deny",
        "op2": "pass",
        "op1type": "str",
        "op2type": "str",
        "duration": "20",
        "extend": false,
        "overrideDelay": false,
        "units": "s",
        "reset": "",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 930,
        "y": 1140,
        "wires": [
            [
                "f052ae0fcfc5b3e8"
            ]
        ]
    },
    {
        "id": "ae2c2b92527841d1",
        "type": "stoptimer",
        "z": "a09ad053d19f1d06",
        "g": "edc3a7d477db5dd6",
        "duration": "10",
        "units": "Second",
        "payloadtype": "num",
        "payloadval": "0",
        "name": "",
        "x": 390,
        "y": 1120,
        "wires": [
            [
                "3e4cd67e.efae1a"
            ],
            []
        ]
    },
    {
        "id": "e0fa9212373d9f12",
        "type": "link out",
        "z": "a09ad053d19f1d06",
        "g": "edc3a7d477db5dd6",
        "name": "washing machine is finished",
        "mode": "link",
        "links": [
            "e8a11ce5d5f892f6"
        ],
        "x": 1875,
        "y": 1120,
        "wires": []
    },
    {
        "id": "6bda6302.ca5bcc",
        "type": "switch",
        "z": "a09ad053d19f1d06",
        "g": "472f22ad8930b35f",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "gt",
                "v": "310",
                "vt": "num"
            },
            {
                "t": "lte",
                "v": "2",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 510,
        "y": 1320,
        "wires": [
            [
                "78d208e5.9e2828"
            ],
            [
                "61c558b2.b38c78"
            ]
        ]
    },
    {
        "id": "4a449402.69359c",
        "type": "change",
        "z": "a09ad053d19f1d06",
        "g": "472f22ad8930b35f",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "on",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 840,
        "y": 1320,
        "wires": [
            [
                "f2f5e3d5cd8dec8d"
            ]
        ]
    },
    {
        "id": "401de4c3.c5e84c",
        "type": "change",
        "z": "a09ad053d19f1d06",
        "g": "472f22ad8930b35f",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "off",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 840,
        "y": 1380,
        "wires": [
            [
                "f2f5e3d5cd8dec8d"
            ]
        ]
    },
    {
        "id": "e78c18ee.1eb558",
        "type": "switch",
        "z": "a09ad053d19f1d06",
        "g": "472f22ad8930b35f",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "off",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1170,
        "y": 1320,
        "wires": [
            [
                "da086cf0dd6cd84f"
            ]
        ]
    },
    {
        "id": "e0083fb4.5a45",
        "type": "comment",
        "z": "a09ad053d19f1d06",
        "g": "472f22ad8930b35f",
        "name": "set thumble dryer binary sensor on or off based on power measurements",
        "info": "Set thumble dryer binary sensor on or off based on power measurements`",
        "x": 300,
        "y": 1280,
        "wires": []
    },
    {
        "id": "78d208e5.9e2828",
        "type": "api-current-state",
        "z": "a09ad053d19f1d06",
        "g": "472f22ad8930b35f",
        "name": "state is not on",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is_not",
        "entity_id": "binary_sensor.tumble_dryer",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 660,
        "y": 1320,
        "wires": [
            [
                "4a449402.69359c"
            ],
            []
        ]
    },
    {
        "id": "61c558b2.b38c78",
        "type": "api-current-state",
        "z": "a09ad053d19f1d06",
        "g": "472f22ad8930b35f",
        "name": "state is not off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is_not",
        "entity_id": "binary_sensor.tumble_dryer",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 660,
        "y": 1380,
        "wires": [
            [
                "401de4c3.c5e84c"
            ],
            []
        ]
    },
    {
        "id": "90a01313.ddff9",
        "type": "trigger-state",
        "z": "a09ad053d19f1d06",
        "g": "472f22ad8930b35f",
        "name": "state tumble dryer watt",
        "server": "4ba92433.2478cc",
        "version": 5,
        "inputs": 1,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "sensor.shellyplug_tumble_dryer_power"
            ],
            "substring": [],
            "regex": []
        },
        "debugEnabled": false,
        "constraints": [],
        "customOutputs": [],
        "outputInitially": false,
        "stateType": "num",
        "enableInput": true,
        "exposeToHomeAssistant": false,
        "haConfig": [
            {
                "property": "name",
                "value": ""
            },
            {
                "property": "icon",
                "value": ""
            }
        ],
        "x": 140,
        "y": 1320,
        "wires": [
            [
                "bcdcd79d.345708"
            ],
            []
        ]
    },
    {
        "id": "f2f5e3d5cd8dec8d",
        "type": "ha-binary-sensor",
        "z": "a09ad053d19f1d06",
        "g": "472f22ad8930b35f",
        "name": "tumble_dryer",
        "entityConfig": "2c5f48cef312ec68",
        "version": 0,
        "state": "payload",
        "stateType": "msg",
        "attributes": [],
        "inputOverride": "allow",
        "outputProperties": [],
        "x": 1030,
        "y": 1320,
        "wires": [
            [
                "e78c18ee.1eb558"
            ]
        ]
    },
    {
        "id": "bcdcd79d.345708",
        "type": "stoptimer",
        "z": "a09ad053d19f1d06",
        "g": "472f22ad8930b35f",
        "duration": "15",
        "units": "Second",
        "payloadtype": "num",
        "payloadval": "0",
        "name": "",
        "x": 350,
        "y": 1320,
        "wires": [
            [
                "6bda6302.ca5bcc"
            ],
            []
        ]
    },
    {
        "id": "da086cf0dd6cd84f",
        "type": "link out",
        "z": "a09ad053d19f1d06",
        "g": "472f22ad8930b35f",
        "name": "tumble dryer is finished",
        "mode": "link",
        "links": [
            "17dbe51772f24737"
        ],
        "x": 1255,
        "y": 1320,
        "wires": []
    },
    {
        "id": "e406b6dbb483e2b5",
        "type": "api-current-state",
        "z": "a09ad053d19f1d06",
        "g": "797bec77d0256f03",
        "name": "persons not home",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "not_home",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "group.persons",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 290,
        "y": 1520,
        "wires": [
            [
                "56c65d08e5de1e87"
            ],
            []
        ]
    },
    {
        "id": "d14719d850055b7f",
        "type": "api-current-state",
        "z": "a09ad053d19f1d06",
        "g": "797bec77d0256f03",
        "name": "guest mode is off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.guest",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 710,
        "y": 1520,
        "wires": [
            [
                "e66b4a5f22a86a92"
            ],
            []
        ]
    },
    {
        "id": "e66b4a5f22a86a92",
        "type": "api-current-state",
        "z": "a09ad053d19f1d06",
        "g": "797bec77d0256f03",
        "name": "washingmachine is off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "binary_sensor.washing_machine",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 920,
        "y": 1520,
        "wires": [
            [
                "3bfcbb604faf22f2"
            ],
            []
        ]
    },
    {
        "id": "3bfcbb604faf22f2",
        "type": "api-current-state",
        "z": "a09ad053d19f1d06",
        "g": "797bec77d0256f03",
        "name": "dishwasher is off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "binary_sensor.dishwasher",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 1130,
        "y": 1520,
        "wires": [
            [
                "d2e4e2820280beb3"
            ],
            []
        ]
    },
    {
        "id": "fb752b2f4a73e460",
        "type": "server-state-changed",
        "z": "a09ad053d19f1d06",
        "g": "797bec77d0256f03",
        "name": "water sensor",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "sensor.watermeter_pulse"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": false,
        "stateType": "str",
        "ifState": "1",
        "ifStateType": "num",
        "ifStateOperator": "gt",
        "outputOnlyOnStateChange": true,
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 110,
        "y": 1520,
        "wires": [
            [
                "e406b6dbb483e2b5"
            ],
            []
        ]
    },
    {
        "id": "c82e0fea11c34b12",
        "type": "comment",
        "z": "a09ad053d19f1d06",
        "g": "797bec77d0256f03",
        "name": "send notification when water flow is detected but no machine the could use water is running",
        "info": "",
        "x": 350,
        "y": 1480,
        "wires": []
    },
    {
        "id": "d2e4e2820280beb3",
        "type": "link out",
        "z": "a09ad053d19f1d06",
        "g": "797bec77d0256f03",
        "name": "waterflow detected but machines are off",
        "mode": "link",
        "links": [
            "bc908d1405bda7ea"
        ],
        "x": 1255,
        "y": 1520,
        "wires": []
    },
    {
        "id": "56c65d08e5de1e87",
        "type": "subflow:60fb1216c78ea01b",
        "z": "a09ad053d19f1d06",
        "g": "797bec77d0256f03",
        "name": "",
        "x": 500,
        "y": 1520,
        "wires": [
            [
                "d14719d850055b7f"
            ]
        ]
    },
    {
        "id": "3101d0a1b950e78d",
        "type": "api-call-service",
        "z": "7f39e487c7ab241c",
        "g": "0652dadc1b579cce",
        "name": "turn on cv closet light",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "light.cv_closet"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "light",
        "service": "turn_on",
        "x": 660,
        "y": 2260,
        "wires": [
            []
        ]
    },
    {
        "id": "c09b728cb16b154e",
        "type": "api-current-state",
        "z": "7f39e487c7ab241c",
        "g": "0652dadc1b579cce",
        "name": "state cv closet light is off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "light.cv_closet",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 430,
        "y": 2260,
        "wires": [
            [
                "3101d0a1b950e78d"
            ],
            []
        ]
    },
    {
        "id": "963294a91f3eb374",
        "type": "comment",
        "z": "7f39e487c7ab241c",
        "g": "0652dadc1b579cce",
        "name": "turn cv closet light on when door gets openend and turn it back off when it get closed",
        "info": "",
        "x": 370,
        "y": 2220,
        "wires": []
    },
    {
        "id": "827acf22221b355e",
        "type": "catch",
        "z": "7f39e487c7ab241c",
        "g": "914448f840b9d7b8",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 60,
        "wires": [
            [
                "2b3ce0da818e77aa"
            ]
        ]
    },
    {
        "id": "2b3ce0da818e77aa",
        "type": "template",
        "z": "7f39e487c7ab241c",
        "g": "914448f840b9d7b8",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 60,
        "wires": [
            [
                "a13a7124838954d9"
            ]
        ]
    },
    {
        "id": "2cc9a5595a901b10",
        "type": "link out",
        "z": "7f39e487c7ab241c",
        "g": "914448f840b9d7b8",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 675,
        "y": 60,
        "wires": []
    },
    {
        "id": "a13a7124838954d9",
        "type": "template",
        "z": "7f39e487c7ab241c",
        "g": "914448f840b9d7b8",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 60,
        "wires": [
            [
                "3cabf5fcbc48a7ce"
            ]
        ]
    },
    {
        "id": "3cabf5fcbc48a7ce",
        "type": "function",
        "z": "7f39e487c7ab241c",
        "g": "914448f840b9d7b8",
        "name": "notify.notification_id",
        "func": "msg.notify.notification_id = Date.now().toString(36) + Math.random().toString(36);\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 550,
        "y": 60,
        "wires": [
            [
                "2cc9a5595a901b10"
            ]
        ]
    },
    {
        "id": "16fa6c47d9ddfaf6",
        "type": "server-state-changed",
        "z": "7f39e487c7ab241c",
        "g": "0652dadc1b579cce",
        "name": "cv closet door is open",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "binary_sensor.cv_closet_door"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": true,
        "stateType": "str",
        "ifState": "on",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 180,
        "y": 2260,
        "wires": [
            [
                "c09b728cb16b154e"
            ],
            [
                "5fe42cef5b668ff4"
            ]
        ]
    },
    {
        "id": "2e16eb2bec967a72",
        "type": "api-call-service",
        "z": "7f39e487c7ab241c",
        "g": "0652dadc1b579cce",
        "name": "turn off cv closet light",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "light.cv_closet"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "light",
        "service": "turn_off",
        "x": 660,
        "y": 2320,
        "wires": [
            []
        ]
    },
    {
        "id": "5fe42cef5b668ff4",
        "type": "api-current-state",
        "z": "7f39e487c7ab241c",
        "g": "0652dadc1b579cce",
        "name": "state cv closet light is on",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "light.cv_closet",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 430,
        "y": 2320,
        "wires": [
            [
                "2e16eb2bec967a72"
            ],
            []
        ]
    },
    {
        "id": "b945850298e9b3df",
        "type": "api-call-service",
        "z": "7f39e487c7ab241c",
        "g": "f76588705733793c",
        "name": "set cv boiler hvac mode",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "climate.set_hvac_mode",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "climate.opentherm_heating"
        ],
        "labelId": [],
        "data": "{\"hvac_mode\":\"{{hvac_mode}}\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": true,
        "domain": "climate",
        "service": "set_hvac_mode",
        "x": 850,
        "y": 200,
        "wires": [
            []
        ]
    },
    {
        "id": "c3a4b207319d8610",
        "type": "link in",
        "z": "7f39e487c7ab241c",
        "g": "f76588705733793c",
        "name": "set cv boiler to heat",
        "links": [
            "0229302b9d68cb4e",
            "2df01573bdd484ad",
            "394e21db804f1d42",
            "656a4b53d9e67047",
            "7344814cafbbaef4"
        ],
        "x": 265,
        "y": 200,
        "wires": [
            [
                "89af915b11f17913"
            ]
        ]
    },
    {
        "id": "765822175b8ceb64",
        "type": "link in",
        "z": "7f39e487c7ab241c",
        "g": "f76588705733793c",
        "name": "set cv boiler to off",
        "links": [
            "4a5d12f7119e0232",
            "54c6e03327c27850",
            "a82bdd562a8a92ba",
            "b543e6f17b4d4a1b",
            "e6278ef94ae3424e"
        ],
        "x": 265,
        "y": 240,
        "wires": [
            [
                "8d94db4209cd7b5d"
            ]
        ]
    },
    {
        "id": "356e972e170143b6",
        "type": "template",
        "z": "7f39e487c7ab241c",
        "g": "f76588705733793c",
        "name": "off",
        "field": "hvac_mode",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "off",
        "output": "str",
        "x": 670,
        "y": 240,
        "wires": [
            [
                "b945850298e9b3df"
            ]
        ]
    },
    {
        "id": "89af915b11f17913",
        "type": "template",
        "z": "7f39e487c7ab241c",
        "g": "f76588705733793c",
        "name": "heat",
        "field": "hvac_mode",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "heat",
        "output": "str",
        "x": 670,
        "y": 200,
        "wires": [
            [
                "b945850298e9b3df"
            ]
        ]
    },
    {
        "id": "05fee56164178038",
        "type": "comment",
        "z": "7f39e487c7ab241c",
        "g": "f76588705733793c",
        "name": "set hvac mode for opentherm cv boiler",
        "info": "",
        "x": 190,
        "y": 160,
        "wires": []
    },
    {
        "id": "a0a9705568837337",
        "type": "api-call-service",
        "z": "7f39e487c7ab241c",
        "g": "1620c7634080d568",
        "name": "turn on domestic hot water",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "climate.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "climate.opentherm_dhw"
        ],
        "labelId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": true,
        "domain": "climate",
        "service": "turn_on",
        "x": 440,
        "y": 400,
        "wires": [
            []
        ]
    },
    {
        "id": "d2f52d8d4e3bc3dd",
        "type": "comment",
        "z": "7f39e487c7ab241c",
        "g": "1620c7634080d568",
        "name": "turn on/off domestic hot water",
        "info": "",
        "x": 160,
        "y": 340,
        "wires": []
    },
    {
        "id": "e8023b446ea2a945",
        "type": "api-call-service",
        "z": "7f39e487c7ab241c",
        "g": "1620c7634080d568",
        "name": "turn off domestic hot water",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "climate.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "climate.opentherm_dhw"
        ],
        "labelId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": true,
        "domain": "climate",
        "service": "turn_off",
        "x": 440,
        "y": 460,
        "wires": [
            []
        ]
    },
    {
        "id": "6c581aeb73119963",
        "type": "subflow:9ea6eabfb34d96e0",
        "z": "7f39e487c7ab241c",
        "g": "1620c7634080d568",
        "name": "",
        "x": 170,
        "y": 460,
        "wires": [
            [
                "e8023b446ea2a945"
            ]
        ]
    },
    {
        "id": "a2f06d2783c7eeed",
        "type": "subflow:ad57f56dd92dd9d6",
        "z": "7f39e487c7ab241c",
        "g": "1620c7634080d568",
        "name": "",
        "x": 170,
        "y": 400,
        "wires": [
            [
                "a0a9705568837337"
            ],
            [],
            [],
            [],
            []
        ]
    },
    {
        "id": "b5e0ecf20c28f1f0",
        "type": "link in",
        "z": "7f39e487c7ab241c",
        "g": "1620c7634080d568",
        "name": "turn off domestic hot water",
        "links": [
            "e6b9ff42fde3ea4e"
        ],
        "x": 285,
        "y": 500,
        "wires": [
            [
                "e8023b446ea2a945"
            ]
        ]
    },
    {
        "id": "24be428cbb777a16",
        "type": "comment",
        "z": "7f39e487c7ab241c",
        "g": "2b86971fcc199b40",
        "name": "turn off lights when sleepmode turns on or the house is unoccupied",
        "info": "",
        "x": 320,
        "y": 2420,
        "wires": []
    },
    {
        "id": "836805d35a52d310",
        "type": "subflow:9ea6eabfb34d96e0",
        "z": "7f39e487c7ab241c",
        "g": "2b86971fcc199b40",
        "name": "",
        "x": 210,
        "y": 2460,
        "wires": [
            [
                "e2ced3815577a09c"
            ]
        ]
    },
    {
        "id": "e2ced3815577a09c",
        "type": "api-call-service",
        "z": "7f39e487c7ab241c",
        "g": "2b86971fcc199b40",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.turn_off",
        "floorId": [],
        "areaId": [
            "basement"
        ],
        "deviceId": [],
        "entityId": [],
        "labelId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": true,
        "domain": "light",
        "service": "turn_off",
        "x": 430,
        "y": 2460,
        "wires": [
            []
        ]
    },
    {
        "id": "8a78024ba282982a",
        "type": "link in",
        "z": "7f39e487c7ab241c",
        "g": "2b86971fcc199b40",
        "name": "turn off living room lights",
        "links": [
            "e6b9ff42fde3ea4e"
        ],
        "x": 325,
        "y": 2500,
        "wires": [
            [
                "e2ced3815577a09c"
            ]
        ]
    },
    {
        "id": "2bcc033320eee7c1",
        "type": "template",
        "z": "7f39e487c7ab241c",
        "g": "02e14c21061265e1",
        "name": "secondary information",
        "field": "secondary_information",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "De omvormer is op {{{myymd}}} om {{{mytime}}} status {{payload}}, {{{data.new_state.attributes.status_description}}}",
        "output": "str",
        "x": 620,
        "y": 640,
        "wires": [
            [
                "117aca7da78c92fe"
            ]
        ]
    },
    {
        "id": "117aca7da78c92fe",
        "type": "template",
        "z": "7f39e487c7ab241c",
        "g": "02e14c21061265e1",
        "name": "primary information",
        "field": "primary_information",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Er is een probleem met de omvormer",
        "output": "str",
        "x": 830,
        "y": 640,
        "wires": [
            [
                "1443017dca2ff4a8"
            ]
        ]
    },
    {
        "id": "178e42db86a628e8",
        "type": "link out",
        "z": "7f39e487c7ab241c",
        "g": "02e14c21061265e1",
        "name": "notification",
        "mode": "link",
        "links": [],
        "x": 1725,
        "y": 640,
        "wires": []
    },
    {
        "id": "ffc8288b4ad5eee4",
        "type": "template",
        "z": "7f39e487c7ab241c",
        "g": "02e14c21061265e1",
        "name": "notification_level",
        "field": "notification_level",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "error",
        "output": "str",
        "x": 1150,
        "y": 640,
        "wires": [
            [
                "178e42db86a628e8",
                "9b93ac7b58399751"
            ]
        ]
    },
    {
        "id": "1443017dca2ff4a8",
        "type": "template",
        "z": "7f39e487c7ab241c",
        "g": "02e14c21061265e1",
        "name": "topic",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "garbage",
        "output": "str",
        "x": 990,
        "y": 640,
        "wires": [
            [
                "ffc8288b4ad5eee4"
            ]
        ]
    },
    {
        "id": "7dbf7c37a565252a",
        "type": "switch",
        "z": "7f39e487c7ab241c",
        "g": "02e14c21061265e1",
        "name": "status",
        "property": "data.new_state.state",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "7",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "8",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 3,
        "x": 450,
        "y": 640,
        "wires": [
            [
                "2bcc033320eee7c1"
            ],
            [
                "2bcc033320eee7c1"
            ],
            [
                "2bcc033320eee7c1"
            ]
        ]
    },
    {
        "id": "30c6a811cbe1ee11",
        "type": "server-state-changed",
        "z": "7f39e487c7ab241c",
        "g": "02e14c21061265e1",
        "name": "inverter status code",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 1,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "sensor.solaredge_modbus_status"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": true,
        "stateType": "num",
        "ifState": "",
        "ifStateType": "num",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            }
        ],
        "x": 130,
        "y": 640,
        "wires": [
            [
                "ef4c50873027b4b3"
            ]
        ]
    },
    {
        "id": "ef4c50873027b4b3",
        "type": "simpletime",
        "z": "7f39e487c7ab241c",
        "g": "02e14c21061265e1",
        "name": "",
        "mydate": false,
        "myymd": true,
        "myyear": false,
        "mymonth": false,
        "mymonthn": false,
        "mymonthf": true,
        "mydom": false,
        "mydoy": false,
        "myday": false,
        "mydayf": true,
        "myhourpm": false,
        "myhour": false,
        "mytime": true,
        "mytimes": false,
        "myminute": false,
        "myminutes": false,
        "mysecond": false,
        "mymillis": false,
        "myepoch": false,
        "myrawdate": false,
        "mypm": false,
        "x": 310,
        "y": 640,
        "wires": [
            [
                "7dbf7c37a565252a"
            ]
        ]
    },
    {
        "id": "59327076bed18754",
        "type": "template",
        "z": "7f39e487c7ab241c",
        "g": "392300741f68f312",
        "name": "icon",
        "field": "notify.icon",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "",
        "output": "str",
        "x": 1470,
        "y": 780,
        "wires": [
            [
                "4dd6478ac62b8c2f"
            ]
        ]
    },
    {
        "id": "c6941b34f3402196",
        "type": "template",
        "z": "7f39e487c7ab241c",
        "g": "392300741f68f312",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Zonne-energie",
        "output": "str",
        "x": 1470,
        "y": 700,
        "wires": [
            [
                "4dd6478ac62b8c2f"
            ]
        ]
    },
    {
        "id": "17c484a9c9a917ac",
        "type": "link out",
        "z": "7f39e487c7ab241c",
        "g": "392300741f68f312",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716",
            "9286a72a2355f5ca"
        ],
        "x": 1725,
        "y": 740,
        "wires": []
    },
    {
        "id": "4dd6478ac62b8c2f",
        "type": "join",
        "z": "7f39e487c7ab241c",
        "g": "392300741f68f312",
        "name": "",
        "mode": "custom",
        "build": "merged",
        "property": "notify",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": false,
        "timeout": "",
        "count": "3",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 1630,
        "y": 740,
        "wires": [
            [
                "17c484a9c9a917ac"
            ]
        ]
    },
    {
        "id": "cdbb5b48e71b5866",
        "type": "template",
        "z": "7f39e487c7ab241c",
        "g": "392300741f68f312",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "{{primary_information}}.\\n{{secondary_information}}",
        "output": "str",
        "x": 1480,
        "y": 740,
        "wires": [
            [
                "4dd6478ac62b8c2f"
            ]
        ]
    },
    {
        "id": "6f32d1486f9ebcc4",
        "type": "comment",
        "z": "7f39e487c7ab241c",
        "g": "02e14c21061265e1",
        "name": "send notification when inverter detects a bad status code",
        "info": "",
        "x": 250,
        "y": 600,
        "wires": []
    },
    {
        "id": "80dc13087104d323",
        "type": "server-state-changed",
        "z": "7f39e487c7ab241c",
        "g": "13d75cc44704716b",
        "name": "solaredge kwh today",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 1,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "sensor.solaredge_modbus_ac_energy_kwh_today"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": true,
        "stateType": "str",
        "ifState": "",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "10",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": true,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 130,
        "y": 1080,
        "wires": [
            [
                "74cc10441231f8f2"
            ]
        ]
    },
    {
        "id": "74cc10441231f8f2",
        "type": "function",
        "z": "7f39e487c7ab241c",
        "g": "13d75cc44704716b",
        "name": "change string into float number",
        "func": "msg.payload = parseFloat(msg.payload);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 370,
        "y": 1080,
        "wires": [
            [
                "aab1bbee72f90c90"
            ]
        ]
    },
    {
        "id": "aab1bbee72f90c90",
        "type": "api-current-state",
        "z": "7f39e487c7ab241c",
        "g": "13d75cc44704716b",
        "name": "highest_ac_solar_day  < solaredge kwh yoday ",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "payload",
        "halt_if_type": "msg",
        "halt_if_compare": "lt",
        "entity_id": "sensor.mqtt_ac_solar_record",
        "state_type": "str",
        "blockInputOverrides": true,
        "outputProperties": [
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 700,
        "y": 1080,
        "wires": [
            [
                "27b51aa55e598e0f"
            ],
            []
        ]
    },
    {
        "id": "27b51aa55e598e0f",
        "type": "function",
        "z": "7f39e487c7ab241c",
        "g": "13d75cc44704716b",
        "name": "create string kwh payload and date",
        "func": "// Set payload to a 3 decimal number as string\nmsg.payload = parseFloat(msg.payload).toFixed(3);\n\n// Create YYYY-MM-DD value from datetime string\nvar datetime = msg.data.last_updated;\nmsg.date = datetime.split('T')[0];\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1040,
        "y": 1080,
        "wires": [
            [
                "3cceba91547a7d4e"
            ]
        ]
    },
    {
        "id": "3cceba91547a7d4e",
        "type": "template",
        "z": "7f39e487c7ab241c",
        "g": "13d75cc44704716b",
        "name": "",
        "field": "payload",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "{\n    \"value\": \"{{payload}}\",\n    \"date\": \"{{date}}\"\n}",
        "output": "json",
        "x": 1260,
        "y": 1080,
        "wires": [
            [
                "122d704723bc1cb0",
                "1b535e9dd4a2bc7f"
            ]
        ]
    },
    {
        "id": "6a870ac713200910",
        "type": "inject",
        "z": "7f39e487c7ab241c",
        "g": "13d75cc44704716b",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "date",
                "v": "2023-05-26",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "34.080",
        "payloadType": "str",
        "x": 1130,
        "y": 1120,
        "wires": [
            [
                "3cceba91547a7d4e"
            ]
        ]
    },
    {
        "id": "122d704723bc1cb0",
        "type": "mqtt out",
        "z": "7f39e487c7ab241c",
        "g": "13d75cc44704716b",
        "name": "",
        "topic": "/homeassistant/solar/ac_solar_record",
        "qos": "1",
        "retain": "true",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "36dee637778341ba",
        "x": 1530,
        "y": 1080,
        "wires": []
    },
    {
        "id": "1b535e9dd4a2bc7f",
        "type": "link out",
        "z": "7f39e487c7ab241c",
        "g": "13d75cc44704716b",
        "name": "notification when a new daily solar production record has been measured",
        "mode": "link",
        "links": [
            "8e2685f9514584d0"
        ],
        "x": 1395,
        "y": 1140,
        "wires": []
    },
    {
        "id": "a0300d7bafb66f44",
        "type": "comment",
        "z": "7f39e487c7ab241c",
        "g": "13d75cc44704716b",
        "name": "a sensor that stores the value and date when there is a new produced solar power daily record",
        "info": "",
        "x": 360,
        "y": 1040,
        "wires": []
    },
    {
        "id": "88264dd1471d41ef",
        "type": "server-state-changed",
        "z": "7f39e487c7ab241c",
        "g": "7f5e9ac72cb69bf7",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 1,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "sensor.dsmr_reading_electricity_currently_returned"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": true,
        "stateType": "str",
        "ifState": "",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": false,
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 280,
        "y": 940,
        "wires": [
            [
                "24e4ae1eb1bf31d2"
            ]
        ]
    },
    {
        "id": "24e4ae1eb1bf31d2",
        "type": "function",
        "z": "7f39e487c7ab241c",
        "g": "7f5e9ac72cb69bf7",
        "name": "Kw to Watt",
        "func": "msg.payload = msg.payload * 1000\n\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 610,
        "y": 940,
        "wires": [
            [
                "036eac9f38483b4b"
            ]
        ]
    },
    {
        "id": "036eac9f38483b4b",
        "type": "ha-sensor",
        "z": "7f39e487c7ab241c",
        "g": "7f5e9ac72cb69bf7",
        "name": "custom_energy_returned_watt",
        "entityConfig": "8db70a2720a60b47",
        "version": 0,
        "state": "payload",
        "stateType": "msg",
        "attributes": [],
        "inputOverride": "allow",
        "outputProperties": [],
        "x": 830,
        "y": 940,
        "wires": [
            []
        ]
    },
    {
        "id": "662e76370490dc0d",
        "type": "comment",
        "z": "7f39e487c7ab241c",
        "g": "7f5e9ac72cb69bf7",
        "name": "custom sensor to show converterd energy returned Kw to Watt",
        "info": "",
        "x": 260,
        "y": 900,
        "wires": []
    },
    {
        "id": "0a48f09788c3714c",
        "type": "api-call-service",
        "z": "7f39e487c7ab241c",
        "d": true,
        "g": "21d0c97ba504e198",
        "name": "set power limit",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "number.set_value",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "number.solaredge_modbus_active_power_limit"
        ],
        "labelId": [],
        "data": "{\"value\":\"{{ac_limit_percent}}\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": true,
        "domain": "number",
        "service": "set_value",
        "x": 1200,
        "y": 1340,
        "wires": [
            []
        ]
    },
    {
        "id": "4a264f15d0823997",
        "type": "inject",
        "z": "7f39e487c7ab241c",
        "d": true,
        "g": "21d0c97ba504e198",
        "name": "",
        "props": [],
        "repeat": "1",
        "crontab": "",
        "once": true,
        "onceDelay": "1",
        "topic": "",
        "x": 110,
        "y": 1340,
        "wires": [
            [
                "3baa2d4c8ee18542",
                "b4055debc6e2fa4d",
                "ce286ef726044118"
            ]
        ]
    },
    {
        "id": "b4055debc6e2fa4d",
        "type": "api-current-state",
        "z": "7f39e487c7ab241c",
        "d": true,
        "g": "21d0c97ba504e198",
        "name": "state currently returned",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 1,
        "halt_if": "",
        "halt_if_type": "num",
        "halt_if_compare": "is",
        "entity_id": "sensor.dsmr_reading_electricity_currently_returned",
        "state_type": "num",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "returned",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 330,
        "y": 1340,
        "wires": [
            [
                "4bd9dd44e2e5a984"
            ]
        ]
    },
    {
        "id": "3baa2d4c8ee18542",
        "type": "api-current-state",
        "z": "7f39e487c7ab241c",
        "d": true,
        "g": "21d0c97ba504e198",
        "name": "state currently delivered",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 1,
        "halt_if": "",
        "halt_if_type": "num",
        "halt_if_compare": "is",
        "entity_id": "sensor.dsmr_reading_electricity_currently_delivered",
        "state_type": "num",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "delivered",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 330,
        "y": 1280,
        "wires": [
            [
                "658d8eb978fbed2a"
            ]
        ]
    },
    {
        "id": "ce286ef726044118",
        "type": "api-current-state",
        "z": "7f39e487c7ab241c",
        "d": true,
        "g": "21d0c97ba504e198",
        "name": "state currently producing",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 1,
        "halt_if": "",
        "halt_if_type": "num",
        "halt_if_compare": "is",
        "entity_id": "sensor.solaredge_modbus_ac_power",
        "state_type": "num",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "producing",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 330,
        "y": 1400,
        "wires": [
            [
                "3b577ee02ce76fe5"
            ]
        ]
    },
    {
        "id": "4d4c4fa4b94f1c31",
        "type": "join",
        "z": "7f39e487c7ab241c",
        "d": true,
        "g": "21d0c97ba504e198",
        "name": "",
        "mode": "custom",
        "build": "merged",
        "property": "",
        "propertyType": "full",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "useparts": true,
        "accumulate": false,
        "timeout": "",
        "count": "3",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 710,
        "y": 1340,
        "wires": [
            [
                "1902f90d9938adc7"
            ]
        ]
    },
    {
        "id": "658d8eb978fbed2a",
        "type": "function",
        "z": "7f39e487c7ab241c",
        "d": true,
        "g": "21d0c97ba504e198",
        "name": "to watt",
        "func": "msg.delivered = msg.delivered * 1000;\n\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 510,
        "y": 1280,
        "wires": [
            [
                "4d4c4fa4b94f1c31"
            ]
        ]
    },
    {
        "id": "3b577ee02ce76fe5",
        "type": "function",
        "z": "7f39e487c7ab241c",
        "d": true,
        "g": "21d0c97ba504e198",
        "name": "round watt",
        "func": "msg.producing = Math.round(msg.producing);\n\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 530,
        "y": 1400,
        "wires": [
            [
                "4d4c4fa4b94f1c31"
            ]
        ]
    },
    {
        "id": "4bd9dd44e2e5a984",
        "type": "function",
        "z": "7f39e487c7ab241c",
        "d": true,
        "g": "21d0c97ba504e198",
        "name": "to watt",
        "func": "msg.returned = msg.returned * 1000;\n\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 510,
        "y": 1340,
        "wires": [
            [
                "4d4c4fa4b94f1c31"
            ]
        ]
    },
    {
        "id": "1902f90d9938adc7",
        "type": "function",
        "z": "7f39e487c7ab241c",
        "d": true,
        "g": "21d0c97ba504e198",
        "name": "power limit %",
        "func": "let max_inverter = 3680; // W\n\n// Bereken huisverbruik\nlet house_consumption = msg.payload.producing - msg.payload.returned + msg.payload.delivered;\n\n// Bereken power limit zodat er niet teruggeleverd wordt\nlet ac_limit_w = Math.min(house_consumption, max_inverter);\n\n// Zet om naar %\nmsg.ac_limit_w = ac_limit_w;\nmsg.ac_limit_percent = Math.round(ac_limit_w / max_inverter * 100);\n\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 850,
        "y": 1340,
        "wires": [
            [
                "a0398e734d77cf7a"
            ]
        ]
    },
    {
        "id": "a0398e734d77cf7a",
        "type": "delay",
        "z": "7f39e487c7ab241c",
        "d": true,
        "g": "21d0c97ba504e198",
        "name": "",
        "pauseType": "rate",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "2",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": true,
        "allowrate": false,
        "outputs": 1,
        "x": 1020,
        "y": 1340,
        "wires": [
            [
                "0a48f09788c3714c"
            ]
        ]
    },
    {
        "id": "28a6d32460f75e3a",
        "type": "comment",
        "z": "7f39e487c7ab241c",
        "d": true,
        "g": "21d0c97ba504e198",
        "name": "prevent returning energy to grid, scale down inverter",
        "info": "",
        "x": 230,
        "y": 1240,
        "wires": []
    },
    {
        "id": "ba77f8da98851350",
        "type": "api-current-state",
        "z": "7f39e487c7ab241c",
        "g": "f8921a685aab270b",
        "name": "state currently returned",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 1,
        "halt_if": "",
        "halt_if_type": "num",
        "halt_if_compare": "is",
        "entity_id": "sensor.dsmr_reading_electricity_currently_returned",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "returned",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 370,
        "y": 1600,
        "wires": [
            [
                "6043718434f18179"
            ]
        ]
    },
    {
        "id": "6fc7768f0e0e7113",
        "type": "api-current-state",
        "z": "7f39e487c7ab241c",
        "g": "f8921a685aab270b",
        "name": "state currently delivered",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 1,
        "halt_if": "",
        "halt_if_type": "num",
        "halt_if_compare": "is",
        "entity_id": "sensor.dsmr_reading_electricity_currently_delivered",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "delivered",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 370,
        "y": 1540,
        "wires": [
            [
                "6043718434f18179"
            ]
        ]
    },
    {
        "id": "6043718434f18179",
        "type": "function",
        "z": "7f39e487c7ab241c",
        "g": "f8921a685aab270b",
        "name": "to watt",
        "func": "msg.delivered = msg.delivered * 1000;\nmsg.returned = msg.returned * 1000;\n\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 570,
        "y": 1560,
        "wires": [
            [
                "ef67c1284ddb8eed",
                "fe0c8fde93e76cd2"
            ]
        ]
    },
    {
        "id": "ef67c1284ddb8eed",
        "type": "function",
        "z": "7f39e487c7ab241c",
        "g": "f8921a685aab270b",
        "name": "calculation",
        "func": "// Sum two values\nmsg.payload = msg.delivered - msg.returned;\n\nreturn msg;",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 750,
        "y": 1560,
        "wires": [
            [
                "99a64ef46dadb061"
            ]
        ]
    },
    {
        "id": "99a64ef46dadb061",
        "type": "ha-sensor",
        "z": "7f39e487c7ab241c",
        "g": "f8921a685aab270b",
        "name": "custom_energy to/from grid",
        "entityConfig": "7befa0b16196877c",
        "version": 0,
        "state": "payload",
        "stateType": "msg",
        "attributes": [],
        "inputOverride": "allow",
        "outputProperties": [],
        "x": 960,
        "y": 1560,
        "wires": [
            [
                "89754424867abf7b"
            ]
        ]
    },
    {
        "id": "9521e980bd1fd2c7",
        "type": "comment",
        "z": "7f39e487c7ab241c",
        "g": "f8921a685aab270b",
        "name": "sensor that shows how much power is used from the grid (positive) or how much is returning to the gird (negative)",
        "info": "",
        "x": 420,
        "y": 1500,
        "wires": []
    },
    {
        "id": "a5fe096c3596b8b1",
        "type": "comment",
        "z": "7f39e487c7ab241c",
        "g": "39d4875f9179ffa1",
        "name": "update outdoor temperature to opentherm gateway",
        "info": "",
        "x": 230,
        "y": 1820,
        "wires": []
    },
    {
        "id": "fca221061c5bbaec",
        "type": "link in",
        "z": "7f39e487c7ab241c",
        "g": "39d4875f9179ffa1",
        "name": "update outdoor temperature to opentherm gateway",
        "links": [
            "12e6ca97465e9a8e"
        ],
        "x": 265,
        "y": 1880,
        "wires": [
            [
                "5a3e197c6d1d4510"
            ]
        ]
    },
    {
        "id": "5a3e197c6d1d4510",
        "type": "api-call-service",
        "z": "7f39e487c7ab241c",
        "g": "39d4875f9179ffa1",
        "name": "update opentherm gateway outdoor temperature",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "number.set_value",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "number.opentherm_outdoor_temp"
        ],
        "labelId": [],
        "data": "{\"value\":\"{{outdoor_temperature}}\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": true,
        "domain": "number",
        "service": "set_value",
        "x": 480,
        "y": 1880,
        "wires": [
            []
        ]
    },
    {
        "id": "8d94db4209cd7b5d",
        "type": "ha-get-entities",
        "z": "7f39e487c7ab241c",
        "g": "f76588705733793c",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 1,
        "rules": [
            {
                "condition": "device_registry",
                "property": "manufacturer",
                "logic": "starts_with",
                "value": "Tado",
                "valueType": "str"
            },
            {
                "condition": "state_object",
                "property": "entity_id",
                "logic": "is",
                "value": "_heating",
                "valueType": "re"
            },
            {
                "condition": "state_object",
                "property": "state",
                "logic": "is_not",
                "value": "0.0",
                "valueType": "str"
            }
        ],
        "outputType": "count",
        "outputEmptyResults": false,
        "outputLocationType": "msg",
        "outputLocation": "payload",
        "outputResultsCount": 1,
        "x": 390,
        "y": 240,
        "wires": [
            [
                "a1513aaafd6eddac"
            ]
        ]
    },
    {
        "id": "a1513aaafd6eddac",
        "type": "switch",
        "z": "7f39e487c7ab241c",
        "g": "f76588705733793c",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "gt",
                "v": "0",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 530,
        "y": 240,
        "wires": [
            [
                "89af915b11f17913"
            ],
            [
                "356e972e170143b6"
            ]
        ]
    },
    {
        "id": "89754424867abf7b",
        "type": "mqtt out",
        "z": "7f39e487c7ab241c",
        "g": "f8921a685aab270b",
        "name": "",
        "topic": "nodered/customenergy/gridpower",
        "qos": "",
        "retain": "",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "36dee637778341ba",
        "x": 1240,
        "y": 1560,
        "wires": []
    },
    {
        "id": "684d1198322d6e9b",
        "type": "server-state-changed",
        "z": "7f39e487c7ab241c",
        "g": "f8921a685aab270b",
        "name": "state currently returned",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 1,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "sensor.dsmr_reading_electricity_currently_returned"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": true,
        "stateType": "str",
        "ifState": "",
        "ifStateType": "num",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": false,
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "returned",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            }
        ],
        "x": 140,
        "y": 1540,
        "wires": [
            [
                "6fc7768f0e0e7113"
            ]
        ]
    },
    {
        "id": "173e4f1dbbee6143",
        "type": "server-state-changed",
        "z": "7f39e487c7ab241c",
        "g": "f8921a685aab270b",
        "name": "state currently delivered",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 1,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "sensor.dsmr_reading_electricity_currently_delivered"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": false,
        "stateType": "str",
        "ifState": "",
        "ifStateType": "num",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": false,
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "delivered",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            }
        ],
        "x": 140,
        "y": 1600,
        "wires": [
            [
                "ba77f8da98851350"
            ]
        ]
    },
    {
        "id": "fe0c8fde93e76cd2",
        "type": "api-current-state",
        "z": "7f39e487c7ab241c",
        "g": "f8921a685aab270b",
        "name": "state currently producing",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 1,
        "halt_if": "",
        "halt_if_type": "num",
        "halt_if_compare": "is",
        "entity_id": "sensor.solaredge_modbus_ac_power",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "producing",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 150,
        "y": 1720,
        "wires": [
            [
                "dff5637af40db115"
            ]
        ]
    },
    {
        "id": "dff5637af40db115",
        "type": "function",
        "z": "7f39e487c7ab241c",
        "g": "f8921a685aab270b",
        "name": "round watt",
        "func": "msg.producing = Math.round(msg.producing);\n\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 550,
        "y": 1720,
        "wires": [
            [
                "082c469b6d1254af"
            ]
        ]
    },
    {
        "id": "082c469b6d1254af",
        "type": "function",
        "z": "7f39e487c7ab241c",
        "g": "f8921a685aab270b",
        "name": "calculation",
        "func": "// Sum two values\nmsg.payload = msg.producing - msg.returned + msg.delivered;\n\nreturn msg;",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 750,
        "y": 1720,
        "wires": [
            [
                "11215fce135d2001"
            ]
        ]
    },
    {
        "id": "11215fce135d2001",
        "type": "ha-sensor",
        "z": "7f39e487c7ab241c",
        "g": "f8921a685aab270b",
        "name": "house_energy_usage",
        "entityConfig": "3f4f99b6c043befd",
        "version": 0,
        "state": "payload",
        "stateType": "msg",
        "attributes": [],
        "inputOverride": "allow",
        "outputProperties": [],
        "x": 940,
        "y": 1720,
        "wires": [
            []
        ]
    },
    {
        "id": "63df13e036af1a07",
        "type": "comment",
        "z": "7f39e487c7ab241c",
        "g": "f8921a685aab270b",
        "name": "sensor that shows house power usage",
        "info": "",
        "x": 190,
        "y": 1680,
        "wires": []
    },
    {
        "id": "34bc897fe72c285a",
        "type": "api-call-service",
        "z": "f32d9f15eade4bba",
        "g": "93bb50aa6cc6f5f6",
        "name": "toggle switch childlock kitchen cabinets",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "switch.toggle",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "switch.childlock_kitchen_switch"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "switch",
        "service": "toggle",
        "x": 470,
        "y": 340,
        "wires": [
            []
        ]
    },
    {
        "id": "44830f60728cb460",
        "type": "catch",
        "z": "f32d9f15eade4bba",
        "g": "43db3a32531961af",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 60,
        "wires": [
            [
                "2db3444e5c29da91"
            ]
        ]
    },
    {
        "id": "2db3444e5c29da91",
        "type": "template",
        "z": "f32d9f15eade4bba",
        "g": "43db3a32531961af",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 60,
        "wires": [
            [
                "c0d88069e22740be"
            ]
        ]
    },
    {
        "id": "e68a4f2c1f36acb9",
        "type": "link out",
        "z": "f32d9f15eade4bba",
        "g": "43db3a32531961af",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 675,
        "y": 60,
        "wires": []
    },
    {
        "id": "c0d88069e22740be",
        "type": "template",
        "z": "f32d9f15eade4bba",
        "g": "43db3a32531961af",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 60,
        "wires": [
            [
                "e847e8dad0dd9ab7"
            ]
        ]
    },
    {
        "id": "e847e8dad0dd9ab7",
        "type": "function",
        "z": "f32d9f15eade4bba",
        "g": "43db3a32531961af",
        "name": "notify.notification_id",
        "func": "msg.notify.notification_id = Date.now().toString(36) + Math.random().toString(36);\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 550,
        "y": 60,
        "wires": [
            [
                "e68a4f2c1f36acb9"
            ]
        ]
    },
    {
        "id": "9bdbb23b40a8c8d6",
        "type": "comment",
        "z": "f32d9f15eade4bba",
        "g": "93bb50aa6cc6f5f6",
        "name": "toggle kitchen cabinets magnatic lock",
        "info": "",
        "x": 190,
        "y": 300,
        "wires": []
    },
    {
        "id": "535a687f3b588b38",
        "type": "api-call-service",
        "z": "f32d9f15eade4bba",
        "g": "db49c07a2c411991",
        "name": "turn off childlock kitchen",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "switch.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "switch.childlock_kitchen_switch"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "switch",
        "service": "turn_off",
        "x": 730,
        "y": 520,
        "wires": [
            []
        ]
    },
    {
        "id": "2d21e3e6cf54e587",
        "type": "api-current-state",
        "z": "f32d9f15eade4bba",
        "g": "db49c07a2c411991",
        "name": "state childlock kitchen is not off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is_not",
        "entity_id": "switch.childlock_kitchen_switch",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 470,
        "y": 520,
        "wires": [
            [
                "535a687f3b588b38"
            ],
            []
        ]
    },
    {
        "id": "669938235d33a02d",
        "type": "link in",
        "z": "f32d9f15eade4bba",
        "g": "93bb50aa6cc6f5f6",
        "name": "toggle kitchen cabinet lock",
        "links": [
            "b683652c36e89d93"
        ],
        "x": 285,
        "y": 340,
        "wires": [
            [
                "34bc897fe72c285a"
            ]
        ]
    },
    {
        "id": "1bcc023985a00dc1",
        "type": "comment",
        "z": "f32d9f15eade4bba",
        "g": "db49c07a2c411991",
        "name": "turn off kitchen cabinet lock",
        "info": "",
        "x": 150,
        "y": 480,
        "wires": []
    },
    {
        "id": "7e4444ae7832e36b",
        "type": "link in",
        "z": "f32d9f15eade4bba",
        "g": "db49c07a2c411991",
        "name": "turn off kitchen cabinet lock",
        "links": [
            "e6b9ff42fde3ea4e"
        ],
        "x": 285,
        "y": 520,
        "wires": [
            [
                "2d21e3e6cf54e587"
            ]
        ]
    },
    {
        "id": "f4a68bb61137474e",
        "type": "time-range-switch",
        "z": "f32d9f15eade4bba",
        "g": "8dd127f90c06ad01",
        "name": "",
        "lat": "",
        "lon": "",
        "startTime": "07:15",
        "endTime": "19:45",
        "startOffset": 0,
        "endOffset": 0,
        "x": 650,
        "y": 760,
        "wires": [
            [
                "511c21a01753fb65",
                "9cbed94c67d1830a"
            ],
            []
        ]
    },
    {
        "id": "511c21a01753fb65",
        "type": "api-current-state",
        "z": "f32d9f15eade4bba",
        "g": "8dd127f90c06ad01",
        "name": "persons home",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "home",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "group.persons",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 880,
        "y": 700,
        "wires": [
            [
                "6d86365f41d6d3bc"
            ],
            []
        ]
    },
    {
        "id": "9cbed94c67d1830a",
        "type": "api-current-state",
        "z": "f32d9f15eade4bba",
        "g": "8dd127f90c06ad01",
        "name": "guest mode on",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.guest",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 880,
        "y": 760,
        "wires": [
            [
                "5a7d11aab9a0407f"
            ],
            []
        ]
    },
    {
        "id": "5a7d11aab9a0407f",
        "type": "api-current-state",
        "z": "f32d9f15eade4bba",
        "g": "8dd127f90c06ad01",
        "name": "vacation mode off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.vacation_mode",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 1070,
        "y": 760,
        "wires": [
            [
                "6d86365f41d6d3bc"
            ],
            []
        ]
    },
    {
        "id": "9249b8634fe6bea6",
        "type": "inject",
        "z": "f32d9f15eade4bba",
        "g": "8dd127f90c06ad01",
        "name": "daily 07:15 'on' payload",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "15 07 * * *",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "on",
        "payloadType": "str",
        "x": 170,
        "y": 700,
        "wires": [
            [
                "4c5c66dcd56c4b83"
            ]
        ]
    },
    {
        "id": "6d86365f41d6d3bc",
        "type": "api-call-service",
        "z": "f32d9f15eade4bba",
        "g": "8dd127f90c06ad01",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "switch.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "switch.shellyplugplus_quooker_switch_0"
        ],
        "labelId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": true,
        "domain": "switch",
        "service": "turn_on",
        "x": 1260,
        "y": 700,
        "wires": [
            []
        ]
    },
    {
        "id": "b74e74ac6f573e00",
        "type": "comment",
        "z": "f32d9f15eade4bba",
        "g": "8dd127f90c06ad01",
        "name": "turn the quooker on",
        "info": "",
        "x": 130,
        "y": 660,
        "wires": []
    },
    {
        "id": "3544456219878470",
        "type": "api-current-state",
        "z": "f32d9f15eade4bba",
        "g": "8dd127f90c06ad01",
        "name": "persons is home",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "home",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "group.persons",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 400,
        "y": 880,
        "wires": [
            [
                "56a07c9ca9672de6"
            ],
            []
        ]
    },
    {
        "id": "a6d93dc726aafbb8",
        "type": "api-current-state",
        "z": "f32d9f15eade4bba",
        "g": "8dd127f90c06ad01",
        "name": "guest is on",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.guest",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 390,
        "y": 820,
        "wires": [
            [
                "56a07c9ca9672de6"
            ],
            []
        ]
    },
    {
        "id": "ab02f767bf4c94e7",
        "type": "subflow:ad57f56dd92dd9d6",
        "z": "f32d9f15eade4bba",
        "g": "8dd127f90c06ad01",
        "name": "",
        "x": 170,
        "y": 760,
        "wires": [
            [
                "f4a68bb61137474e"
            ],
            [],
            [],
            [],
            []
        ]
    },
    {
        "id": "c49e5bd8f93bd496",
        "type": "delay",
        "z": "f32d9f15eade4bba",
        "g": "53fb0b4840033e17",
        "name": "",
        "pauseType": "delay",
        "timeout": "20",
        "timeoutUnits": "minutes",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "outputs": 1,
        "x": 830,
        "y": 1700,
        "wires": [
            [
                "9033928198667eca"
            ]
        ]
    },
    {
        "id": "d1324fbb34721b63",
        "type": "api-call-service",
        "z": "f32d9f15eade4bba",
        "g": "53fb0b4840033e17",
        "name": "turn on light kitchen",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "light.shellydimmer_kitchen"
        ],
        "labelId": [],
        "data": "{\"brightness_pct\":45,\"transition\":5000}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "light",
        "service": "turn_on",
        "x": 630,
        "y": 1700,
        "wires": [
            [
                "c49e5bd8f93bd496"
            ]
        ]
    },
    {
        "id": "9c4864f0ca0d2d96",
        "type": "api-call-service",
        "z": "f32d9f15eade4bba",
        "g": "53fb0b4840033e17",
        "name": "turn off light kitchen",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "light.shellydimmer_kitchen"
        ],
        "labelId": [],
        "data": "{\"transition\":5000}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "light",
        "service": "turn_off",
        "x": 1210,
        "y": 1700,
        "wires": [
            []
        ]
    },
    {
        "id": "3dd82a4a5a5f543f",
        "type": "api-current-state",
        "z": "f32d9f15eade4bba",
        "g": "53fb0b4840033e17",
        "name": "state outdoor dark",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "binary_sensor.outdoor_daylight",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 410,
        "y": 1700,
        "wires": [
            [
                "d1324fbb34721b63"
            ],
            [
                "e0259adb4a945229"
            ]
        ]
    },
    {
        "id": "aa8016f7bd2aeddb",
        "type": "comment",
        "z": "f32d9f15eade4bba",
        "g": "53fb0b4840033e17",
        "name": "turn on kitchen light for 20 minutes when sleepmode turns on",
        "info": "",
        "x": 280,
        "y": 1660,
        "wires": []
    },
    {
        "id": "5049d35f7101b540",
        "type": "link in",
        "z": "f32d9f15eade4bba",
        "g": "53fb0b4840033e17",
        "name": "turn on kitchen light for 20 minutes",
        "links": [
            "e6b9ff42fde3ea4e"
        ],
        "x": 285,
        "y": 1700,
        "wires": [
            [
                "3dd82a4a5a5f543f"
            ]
        ]
    },
    {
        "id": "80b45d92a25cc105",
        "type": "api-call-service",
        "z": "f32d9f15eade4bba",
        "g": "eb76734b50bb9cf1",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "switch.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "switch.shellyplugplus_quooker_switch_0"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": true,
        "domain": "switch",
        "service": "turn_off",
        "x": 420,
        "y": 1020,
        "wires": [
            []
        ]
    },
    {
        "id": "e0b3151a83f336f4",
        "type": "subflow:9ea6eabfb34d96e0",
        "z": "f32d9f15eade4bba",
        "g": "eb76734b50bb9cf1",
        "name": "",
        "x": 170,
        "y": 1060,
        "wires": [
            [
                "80b45d92a25cc105"
            ]
        ]
    },
    {
        "id": "4a784feb385d8d36",
        "type": "link in",
        "z": "f32d9f15eade4bba",
        "g": "eb76734b50bb9cf1",
        "name": "turn off the quooker",
        "links": [
            "40e32651d21cb40a",
            "e6b9ff42fde3ea4e"
        ],
        "x": 285,
        "y": 1020,
        "wires": [
            [
                "80b45d92a25cc105"
            ]
        ]
    },
    {
        "id": "1ec9ead4324ca7a1",
        "type": "comment",
        "z": "f32d9f15eade4bba",
        "g": "eb76734b50bb9cf1",
        "name": "turn the quooker off",
        "info": "",
        "x": 130,
        "y": 980,
        "wires": []
    },
    {
        "id": "b5c5c34d9f917783",
        "type": "subflow:9ea6eabfb34d96e0",
        "z": "f32d9f15eade4bba",
        "g": "db49c07a2c411991",
        "name": "",
        "x": 170,
        "y": 560,
        "wires": [
            [
                "2d21e3e6cf54e587"
            ]
        ]
    },
    {
        "id": "36f24fd5.59924",
        "type": "change",
        "z": "f32d9f15eade4bba",
        "g": "d87b969d15636e26",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "on",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 840,
        "y": 1200,
        "wires": [
            [
                "bea742545d56e3a3"
            ]
        ]
    },
    {
        "id": "54b1f381.39c02c",
        "type": "change",
        "z": "f32d9f15eade4bba",
        "g": "d87b969d15636e26",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "off",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 840,
        "y": 1260,
        "wires": [
            [
                "bea742545d56e3a3"
            ]
        ]
    },
    {
        "id": "ef6b748.eeaf388",
        "type": "switch",
        "z": "f32d9f15eade4bba",
        "g": "d87b969d15636e26",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "off",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1170,
        "y": 1200,
        "wires": [
            [
                "ec34cd6ea57b0b7f"
            ]
        ]
    },
    {
        "id": "d0e8efa07152912d",
        "type": "comment",
        "z": "f32d9f15eade4bba",
        "g": "d87b969d15636e26",
        "name": "set dishwasher binary sensor on or off based on power measurements",
        "info": "",
        "x": 290,
        "y": 1160,
        "wires": []
    },
    {
        "id": "47f4fb301e391cb8",
        "type": "switch",
        "z": "f32d9f15eade4bba",
        "g": "d87b969d15636e26",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "gt",
                "v": "10",
                "vt": "num"
            },
            {
                "t": "lt",
                "v": "1",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 310,
        "y": 1200,
        "wires": [
            [
                "036d5a464421fc1b"
            ],
            [
                "fee8363c5cb8d124"
            ]
        ]
    },
    {
        "id": "5914d077.55a55",
        "type": "api-current-state",
        "z": "f32d9f15eade4bba",
        "g": "d87b969d15636e26",
        "name": "state is not on",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is_not",
        "entity_id": "binary_sensor.dishwasher",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 660,
        "y": 1200,
        "wires": [
            [
                "36f24fd5.59924"
            ],
            []
        ]
    },
    {
        "id": "ce869786.78dec8",
        "type": "api-current-state",
        "z": "f32d9f15eade4bba",
        "g": "d87b969d15636e26",
        "name": "state is not off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is_not",
        "entity_id": "binary_sensor.dishwasher",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 660,
        "y": 1260,
        "wires": [
            [
                "54b1f381.39c02c"
            ],
            []
        ]
    },
    {
        "id": "95f21a2884f73b9b",
        "type": "server-state-changed",
        "z": "f32d9f15eade4bba",
        "g": "d87b969d15636e26",
        "name": "state dishwasher watt",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 1,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "sensor.shellyplugplus_dishwasher_power"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": true,
        "stateType": "str",
        "ifState": "",
        "ifStateType": "num",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 140,
        "y": 1200,
        "wires": [
            [
                "47f4fb301e391cb8"
            ]
        ]
    },
    {
        "id": "bea742545d56e3a3",
        "type": "ha-binary-sensor",
        "z": "f32d9f15eade4bba",
        "g": "d87b969d15636e26",
        "name": "dishwasher",
        "entityConfig": "4f12e052f2829473",
        "version": 0,
        "state": "payload",
        "stateType": "msg",
        "attributes": [],
        "inputOverride": "allow",
        "outputProperties": [],
        "x": 1030,
        "y": 1200,
        "wires": [
            [
                "ef6b748.eeaf388"
            ]
        ]
    },
    {
        "id": "036d5a464421fc1b",
        "type": "stoptimer",
        "z": "f32d9f15eade4bba",
        "g": "d87b969d15636e26",
        "duration": "5",
        "units": "Minute",
        "payloadtype": "num",
        "payloadval": "0",
        "name": "",
        "x": 480,
        "y": 1200,
        "wires": [
            [
                "5914d077.55a55"
            ],
            []
        ]
    },
    {
        "id": "71f13b6b1744cf6b",
        "type": "template",
        "z": "f32d9f15eade4bba",
        "g": "3bf0bc8959f8a48e",
        "name": "icon",
        "field": "notify.icon",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "",
        "output": "str",
        "x": 1390,
        "y": 1300,
        "wires": [
            [
                "08bca5ce6d389d48"
            ]
        ]
    },
    {
        "id": "64614e79bcb09872",
        "type": "template",
        "z": "f32d9f15eade4bba",
        "g": "3bf0bc8959f8a48e",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Vaatwasser",
        "output": "str",
        "x": 1390,
        "y": 1220,
        "wires": [
            [
                "08bca5ce6d389d48"
            ]
        ]
    },
    {
        "id": "2a35d2abfb0850da",
        "type": "template",
        "z": "f32d9f15eade4bba",
        "g": "3bf0bc8959f8a48e",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "De Vaatwasser is klaar",
        "output": "str",
        "x": 1400,
        "y": 1260,
        "wires": [
            [
                "08bca5ce6d389d48"
            ]
        ]
    },
    {
        "id": "2c0a57bd6ee87009",
        "type": "link out",
        "z": "f32d9f15eade4bba",
        "g": "3bf0bc8959f8a48e",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716",
            "9286a72a2355f5ca"
        ],
        "x": 1685,
        "y": 1260,
        "wires": []
    },
    {
        "id": "08bca5ce6d389d48",
        "type": "join",
        "z": "f32d9f15eade4bba",
        "g": "3bf0bc8959f8a48e",
        "name": "",
        "mode": "custom",
        "build": "merged",
        "property": "notify",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": false,
        "timeout": "",
        "count": "4",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 1590,
        "y": 1260,
        "wires": [
            [
                "2c0a57bd6ee87009"
            ]
        ]
    },
    {
        "id": "80b3c96f004d6f8b",
        "type": "template",
        "z": "f32d9f15eade4bba",
        "g": "3bf0bc8959f8a48e",
        "name": "notification id",
        "field": "notify.notification_id",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "dishwasher",
        "output": "str",
        "x": 1410,
        "y": 1340,
        "wires": [
            [
                "08bca5ce6d389d48"
            ]
        ]
    },
    {
        "id": "0f8cb48ca2cea619",
        "type": "comment",
        "z": "f32d9f15eade4bba",
        "g": "6bd228b1512b87b3",
        "name": "send notification to ask whether the quooker should be turned off or not",
        "info": "",
        "x": 290,
        "y": 1460,
        "wires": []
    },
    {
        "id": "9aeb535c5f1da8ce",
        "type": "api-current-state",
        "z": "f32d9f15eade4bba",
        "g": "6bd228b1512b87b3",
        "name": "quooker is on",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "switch.shellyplugplus_quooker_switch_0",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 380,
        "y": 1500,
        "wires": [
            [
                "7d2e9cbf7edd9b13"
            ],
            []
        ]
    },
    {
        "id": "c3a839ea4abb6038",
        "type": "inject",
        "z": "f32d9f15eade4bba",
        "g": "6bd228b1512b87b3",
        "name": "daily 19:45 'on' payload",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "45 19 * * *",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "on",
        "payloadType": "str",
        "x": 170,
        "y": 1500,
        "wires": [
            [
                "9aeb535c5f1da8ce"
            ]
        ]
    },
    {
        "id": "7d2e9cbf7edd9b13",
        "type": "link out",
        "z": "f32d9f15eade4bba",
        "g": "6bd228b1512b87b3",
        "name": "action notification quooker off",
        "mode": "link",
        "links": [
            "6672bd7f293737f7"
        ],
        "x": 495,
        "y": 1500,
        "wires": []
    },
    {
        "id": "12894abc534397ad",
        "type": "delay",
        "z": "f32d9f15eade4bba",
        "g": "ec9dbbcc9d7d466d",
        "name": "random delay",
        "pauseType": "random",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "2",
        "randomLast": "20",
        "randomUnits": "minutes",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 920,
        "y": 1860,
        "wires": [
            [
                "9d1ae4015da1f119"
            ]
        ]
    },
    {
        "id": "12f8c4bf18db7efd",
        "type": "api-call-service",
        "z": "f32d9f15eade4bba",
        "g": "ec9dbbcc9d7d466d",
        "name": "turn on light",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "{{payload.entity_id}}"
        ],
        "labelId": [],
        "data": "{\"brightness_pct\":\"{{dimlevel}}\",\"transition\":5000}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "light",
        "service": "turn_on",
        "x": 670,
        "y": 1860,
        "wires": [
            [
                "12894abc534397ad"
            ]
        ]
    },
    {
        "id": "9d1ae4015da1f119",
        "type": "api-call-service",
        "z": "f32d9f15eade4bba",
        "g": "ec9dbbcc9d7d466d",
        "name": "turn off light",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "{{payload.entity_id}}"
        ],
        "labelId": [],
        "data": "{\"transition\":5000}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "light",
        "service": "turn_off",
        "x": 1090,
        "y": 1860,
        "wires": [
            []
        ]
    },
    {
        "id": "192bbaed7dca394c",
        "type": "ha-get-entities",
        "z": "f32d9f15eade4bba",
        "g": "ec9dbbcc9d7d466d",
        "name": "pick a random light that is off",
        "server": "4ba92433.2478cc",
        "version": 1,
        "rules": [
            {
                "condition": "state_object",
                "property": "entity_id",
                "logic": "starts_with",
                "value": "light.",
                "valueType": "str"
            },
            {
                "condition": "state_object",
                "property": "state",
                "logic": "is",
                "value": "off",
                "valueType": "str"
            },
            {
                "condition": "area_registry",
                "property": "area_id",
                "logic": "is",
                "value": "#:(file)::room.ha_id",
                "valueType": "flow"
            }
        ],
        "outputType": "random",
        "outputEmptyResults": false,
        "outputLocationType": "msg",
        "outputLocation": "payload",
        "outputResultsCount": 1,
        "x": 460,
        "y": 1860,
        "wires": [
            [
                "12f8c4bf18db7efd"
            ]
        ]
    },
    {
        "id": "6c823cc5114ee3c3",
        "type": "link in",
        "z": "f32d9f15eade4bba",
        "g": "ec9dbbcc9d7d466d",
        "name": "pick a random light for vacation simulation",
        "links": [
            "7654d83ac284bf7e"
        ],
        "x": 305,
        "y": 1860,
        "wires": [
            [
                "192bbaed7dca394c"
            ]
        ]
    },
    {
        "id": "7ce069b5409427c0",
        "type": "comment",
        "z": "f32d9f15eade4bba",
        "g": "ec9dbbcc9d7d466d",
        "name": "turn on a random light that was off and turn it randomly off",
        "info": "",
        "x": 270,
        "y": 1820,
        "wires": []
    },
    {
        "id": "e1020763e1e1af54",
        "type": "ha-get-entities",
        "z": "f32d9f15eade4bba",
        "g": "37465ae075834473",
        "name": "get all lights",
        "server": "4ba92433.2478cc",
        "version": 1,
        "rules": [
            {
                "condition": "state_object",
                "property": "entity_id",
                "logic": "starts_with",
                "value": "light.",
                "valueType": "str"
            },
            {
                "condition": "area_registry",
                "property": "area_id",
                "logic": "is",
                "value": "#:(file)::room.ha_id",
                "valueType": "flow"
            }
        ],
        "outputType": "array",
        "outputEmptyResults": false,
        "outputLocationType": "msg",
        "outputLocation": "light_state",
        "outputResultsCount": 1,
        "x": 570,
        "y": 2000,
        "wires": [
            [
                "05c14194d0417f43"
            ]
        ]
    },
    {
        "id": "05c14194d0417f43",
        "type": "change",
        "z": "f32d9f15eade4bba",
        "g": "37465ae075834473",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "light_state",
                "pt": "flow",
                "to": "light_state",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 750,
        "y": 2000,
        "wires": [
            [
                "235dbe118a135a57"
            ]
        ]
    },
    {
        "id": "235dbe118a135a57",
        "type": "split",
        "z": "f32d9f15eade4bba",
        "g": "37465ae075834473",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "property": "light_state",
        "x": 910,
        "y": 2000,
        "wires": [
            [
                "8d06bbbfde5d13af"
            ]
        ]
    },
    {
        "id": "8d06bbbfde5d13af",
        "type": "api-call-service",
        "z": "f32d9f15eade4bba",
        "g": "37465ae075834473",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "{{light_state.entity_id}}"
        ],
        "labelId": [],
        "data": "{\"brightness_pct\":100}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": true,
        "domain": "light",
        "service": "turn_on",
        "x": 1050,
        "y": 2000,
        "wires": [
            []
        ]
    },
    {
        "id": "9948ab8c2e44d162",
        "type": "api-call-service",
        "z": "f32d9f15eade4bba",
        "g": "37465ae075834473",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "{{light_state.entity_id}}"
        ],
        "labelId": [],
        "data": "{\"transition\":5000}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": true,
        "domain": "light",
        "service": "turn_off",
        "x": 910,
        "y": 2160,
        "wires": [
            []
        ]
    },
    {
        "id": "be6a991a1b3104c0",
        "type": "change",
        "z": "f32d9f15eade4bba",
        "g": "37465ae075834473",
        "name": "",
        "rules": [
            {
                "t": "move",
                "p": "light_state",
                "pt": "flow",
                "to": "light_state",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 440,
        "y": 2100,
        "wires": [
            [
                "267cdd02ae88d55f"
            ]
        ]
    },
    {
        "id": "267cdd02ae88d55f",
        "type": "split",
        "z": "f32d9f15eade4bba",
        "g": "37465ae075834473",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "property": "light_state",
        "x": 610,
        "y": 2100,
        "wires": [
            [
                "c87cf284a2863271"
            ]
        ]
    },
    {
        "id": "c87cf284a2863271",
        "type": "switch",
        "z": "f32d9f15eade4bba",
        "g": "37465ae075834473",
        "name": "on/off",
        "property": "light_state.state",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "on",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "off",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 750,
        "y": 2100,
        "wires": [
            [
                "090710f36b2625ec"
            ],
            [
                "9948ab8c2e44d162"
            ]
        ]
    },
    {
        "id": "090710f36b2625ec",
        "type": "api-call-service",
        "z": "f32d9f15eade4bba",
        "g": "37465ae075834473",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "{{light_state.entity_id}}"
        ],
        "labelId": [],
        "data": "{\"brightness\":\"{{light_state.attributes.brightness}}\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": true,
        "domain": "light",
        "service": "turn_on",
        "x": 910,
        "y": 2100,
        "wires": [
            []
        ]
    },
    {
        "id": "2cced4dc5c7e4d61",
        "type": "link in",
        "z": "f32d9f15eade4bba",
        "g": "37465ae075834473",
        "name": "alarm on lights",
        "links": [
            "5874beb71c3c9523"
        ],
        "x": 305,
        "y": 2000,
        "wires": [
            [
                "6192e488c9237f1b"
            ]
        ]
    },
    {
        "id": "ea190e81bd8e104b",
        "type": "link in",
        "z": "f32d9f15eade4bba",
        "g": "37465ae075834473",
        "name": "alarm off restore lights",
        "links": [
            "7d0fc8f40fda8ff9",
            "5a1c4daf23c47d8e"
        ],
        "x": 305,
        "y": 2100,
        "wires": [
            [
                "be6a991a1b3104c0"
            ]
        ]
    },
    {
        "id": "3f35460d3389a7ee",
        "type": "comment",
        "z": "f32d9f15eade4bba",
        "g": "37465ae075834473",
        "name": "store current light state in context then turn on all lights in alarm state",
        "info": "",
        "x": 300,
        "y": 1960,
        "wires": []
    },
    {
        "id": "59cb37924441176e",
        "type": "comment",
        "z": "f32d9f15eade4bba",
        "g": "37465ae075834473",
        "name": "restore light state based on values in the context store",
        "info": "",
        "x": 260,
        "y": 2060,
        "wires": []
    },
    {
        "id": "22995fd1911f3168",
        "type": "inject",
        "z": "f32d9f15eade4bba",
        "g": "b683fae0bbb01a66",
        "name": "room",
        "props": [
            {
                "p": "room.friendly_name",
                "v": "keuken",
                "vt": "str"
            },
            {
                "p": "room.ha_id",
                "v": "kitchen",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": "1",
        "topic": "",
        "x": 110,
        "y": 200,
        "wires": [
            [
                "fa9cd409ca91e836"
            ]
        ]
    },
    {
        "id": "fa9cd409ca91e836",
        "type": "change",
        "z": "f32d9f15eade4bba",
        "g": "b683fae0bbb01a66",
        "name": "set room variables",
        "rules": [
            {
                "t": "set",
                "p": "#:(file)::room",
                "pt": "flow",
                "to": "room",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 270,
        "y": 200,
        "wires": [
            []
        ]
    },
    {
        "id": "b478d2a5b0e23668",
        "type": "comment",
        "z": "f32d9f15eade4bba",
        "g": "b683fae0bbb01a66",
        "name": "add room variables to the context store so it can be reused in the flow",
        "info": "",
        "x": 290,
        "y": 160,
        "wires": []
    },
    {
        "id": "6192e488c9237f1b",
        "type": "api-current-state",
        "z": "f32d9f15eade4bba",
        "g": "37465ae075834473",
        "name": "daylight is off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "binary_sensor.outdoor_daylight",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 410,
        "y": 2000,
        "wires": [
            [
                "e1020763e1e1af54"
            ],
            []
        ]
    },
    {
        "id": "e52ec938192ae703",
        "type": "link in",
        "z": "f32d9f15eade4bba",
        "g": "8dd127f90c06ad01",
        "name": "turn on the kitchen quooker",
        "links": [
            "03134b9c9626f88b",
            "8d2edc4de1f46609"
        ],
        "x": 285,
        "y": 820,
        "wires": [
            [
                "a6d93dc726aafbb8",
                "3544456219878470"
            ]
        ]
    },
    {
        "id": "a911d7492488b860",
        "type": "inject",
        "z": "f32d9f15eade4bba",
        "g": "6bd228b1512b87b3",
        "name": "daily 19:15 'on' payload",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "15 19 * * *",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "on",
        "payloadType": "str",
        "x": 170,
        "y": 1540,
        "wires": [
            [
                "9aeb535c5f1da8ce"
            ]
        ]
    },
    {
        "id": "38e3af3e6e9417be",
        "type": "subflow:9ea6eabfb34d96e0",
        "z": "f32d9f15eade4bba",
        "g": "d4dd92bd9bc8634e",
        "name": "",
        "x": 190,
        "y": 2300,
        "wires": [
            [
                "20ab68d77ff78734"
            ]
        ]
    },
    {
        "id": "0cded198f1c714ea",
        "type": "comment",
        "z": "f32d9f15eade4bba",
        "g": "d4dd92bd9bc8634e",
        "name": "turn off all lights in this room when house is unoccupied",
        "info": "",
        "x": 260,
        "y": 2260,
        "wires": []
    },
    {
        "id": "20ab68d77ff78734",
        "type": "ha-get-entities",
        "z": "f32d9f15eade4bba",
        "g": "d4dd92bd9bc8634e",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 1,
        "rules": [
            {
                "condition": "state_object",
                "property": "entity_id",
                "logic": "starts_with",
                "value": "light.",
                "valueType": "str"
            },
            {
                "condition": "area_registry",
                "property": "area_id",
                "logic": "is",
                "value": "#:(file)::room.ha_id",
                "valueType": "flow"
            }
        ],
        "outputType": "split",
        "outputEmptyResults": false,
        "outputLocationType": "msg",
        "outputLocation": "payload",
        "outputResultsCount": 1,
        "x": 410,
        "y": 2300,
        "wires": [
            [
                "44f29e8977e8a866"
            ]
        ]
    },
    {
        "id": "44f29e8977e8a866",
        "type": "api-call-service",
        "z": "f32d9f15eade4bba",
        "g": "d4dd92bd9bc8634e",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "{{payload.entity_id}}"
        ],
        "labelId": [],
        "data": "{\"transition\":5000}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": true,
        "domain": "light",
        "service": "turn_off",
        "x": 570,
        "y": 2300,
        "wires": [
            []
        ]
    },
    {
        "id": "9033928198667eca",
        "type": "api-current-state",
        "z": "f32d9f15eade4bba",
        "g": "53fb0b4840033e17",
        "name": "sleepmode is on",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.sleep_mode",
        "state_type": "str",
        "blockInputOverrides": true,
        "outputProperties": [],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 1000,
        "y": 1700,
        "wires": [
            [
                "9c4864f0ca0d2d96"
            ],
            []
        ]
    },
    {
        "id": "8c10b0e33e6f54b0",
        "type": "catch",
        "z": "9f04872fa1616475",
        "g": "248d4ab2c7068c5e",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 60,
        "wires": [
            [
                "b4defcb9cbcaf45b"
            ]
        ]
    },
    {
        "id": "b4defcb9cbcaf45b",
        "type": "template",
        "z": "9f04872fa1616475",
        "g": "248d4ab2c7068c5e",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 60,
        "wires": [
            [
                "12a3dce49d94867b"
            ]
        ]
    },
    {
        "id": "784ddf5ce5e4965e",
        "type": "link out",
        "z": "9f04872fa1616475",
        "g": "248d4ab2c7068c5e",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 675,
        "y": 60,
        "wires": []
    },
    {
        "id": "12a3dce49d94867b",
        "type": "template",
        "z": "9f04872fa1616475",
        "g": "248d4ab2c7068c5e",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 60,
        "wires": [
            [
                "0778c56b05cb98f7"
            ]
        ]
    },
    {
        "id": "0778c56b05cb98f7",
        "type": "function",
        "z": "9f04872fa1616475",
        "g": "248d4ab2c7068c5e",
        "name": "notify.notification_id",
        "func": "msg.notify.notification_id = Date.now().toString(36) + Math.random().toString(36);\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 550,
        "y": 60,
        "wires": [
            [
                "784ddf5ce5e4965e"
            ]
        ]
    },
    {
        "id": "bc4246a5afc26e74",
        "type": "comment",
        "z": "9f04872fa1616475",
        "g": "e50ceb788d9ee8ba",
        "name": "turn off the lights in the hallway on ground floor when sleepmode turns on",
        "info": "",
        "x": 320,
        "y": 340,
        "wires": []
    },
    {
        "id": "ef6101afc3223eb0",
        "type": "ha-get-entities",
        "z": "9f04872fa1616475",
        "g": "e50ceb788d9ee8ba",
        "name": "lookup excluded sleepmode lights",
        "server": "4ba92433.2478cc",
        "version": 1,
        "rules": [
            {
                "condition": "state_object",
                "property": "entity_id",
                "logic": "in_group",
                "value": "group.sleepmode_excluded_lights",
                "valueType": "str"
            }
        ],
        "outputType": "split",
        "outputEmptyResults": false,
        "outputLocationType": "msg",
        "outputLocation": "excluded_lights",
        "outputResultsCount": 1,
        "x": 840,
        "y": 380,
        "wires": [
            [
                "87f88fb480fe0c1d"
            ]
        ]
    },
    {
        "id": "f8dbc33d27649032",
        "type": "switch",
        "z": "9f04872fa1616475",
        "g": "e50ceb788d9ee8ba",
        "name": "",
        "property": "payload.entity_id",
        "propertyType": "msg",
        "rules": [
            {
                "t": "cont",
                "v": "lights.entity_id",
                "vt": "msg"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1170,
        "y": 380,
        "wires": [
            [],
            [
                "24e1d0ec9f3c8ba8"
            ]
        ],
        "info": "Pass lights that is not in the excluded lights list thru otherwise"
    },
    {
        "id": "88e7115f37e27b64",
        "type": "ha-get-entities",
        "z": "9f04872fa1616475",
        "g": "e50ceb788d9ee8ba",
        "name": "lookup lights on",
        "server": "4ba92433.2478cc",
        "version": 1,
        "rules": [
            {
                "condition": "state_object",
                "property": "entity_id",
                "logic": "starts_with",
                "value": "light.",
                "valueType": "str"
            },
            {
                "condition": "state_object",
                "property": "state",
                "logic": "is",
                "value": "on",
                "valueType": "str"
            },
            {
                "condition": "area_registry",
                "property": "area_id",
                "logic": "is",
                "value": "hallway",
                "valueType": "str"
            }
        ],
        "outputType": "split",
        "outputEmptyResults": false,
        "outputLocationType": "msg",
        "outputLocation": "included_lights",
        "outputResultsCount": 1,
        "x": 400,
        "y": 380,
        "wires": [
            [
                "488f343f397a9b7b"
            ]
        ]
    },
    {
        "id": "87f88fb480fe0c1d",
        "type": "join",
        "z": "9f04872fa1616475",
        "g": "e50ceb788d9ee8ba",
        "name": "",
        "mode": "custom",
        "build": "string",
        "property": "payload.entity_id",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "useparts": true,
        "accumulate": false,
        "timeout": "",
        "count": "",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 1050,
        "y": 380,
        "wires": [
            [
                "f8dbc33d27649032"
            ]
        ]
    },
    {
        "id": "488f343f397a9b7b",
        "type": "change",
        "z": "9f04872fa1616475",
        "g": "e50ceb788d9ee8ba",
        "name": "",
        "rules": [
            {
                "t": "move",
                "p": "payload",
                "pt": "msg",
                "to": "lights",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 590,
        "y": 380,
        "wires": [
            [
                "ef6101afc3223eb0"
            ]
        ]
    },
    {
        "id": "24e1d0ec9f3c8ba8",
        "type": "api-call-service",
        "z": "9f04872fa1616475",
        "g": "e50ceb788d9ee8ba",
        "name": "turn off lights",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "{{lights.entity_id}}"
        ],
        "labelId": [],
        "data": "{\"transition\":5000}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "light",
        "service": "turn_off",
        "x": 1310,
        "y": 380,
        "wires": [
            []
        ]
    },
    {
        "id": "321e851e04014b40",
        "type": "switch",
        "z": "9f04872fa1616475",
        "g": "a15d60e99166423c",
        "name": "person home within 5 minutes or less",
        "property": "payload.timeSinceChangedMs",
        "propertyType": "msg",
        "rules": [
            {
                "t": "lt",
                "v": "300000",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 630,
        "y": 540,
        "wires": [
            [
                "0dc1a23e2d1f2e75"
            ]
        ]
    },
    {
        "id": "e8d8807edade80c2",
        "type": "api-call-service",
        "z": "9f04872fa1616475",
        "g": "a15d60e99166423c",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "{{data.entity_id}}"
        ],
        "labelId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "light",
        "service": "turn_on",
        "x": 1230,
        "y": 540,
        "wires": [
            []
        ]
    },
    {
        "id": "13caec7c465e3901",
        "type": "api-current-state",
        "z": "9f04872fa1616475",
        "g": "a15d60e99166423c",
        "name": "hallway light is off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "light.shelly1_hallway",
        "state_type": "str",
        "blockInputOverrides": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 1050,
        "y": 540,
        "wires": [
            [
                "e8d8807edade80c2"
            ],
            []
        ]
    },
    {
        "id": "c433a054543aadbb",
        "type": "ha-get-entities",
        "z": "9f04872fa1616475",
        "g": "a15d60e99166423c",
        "name": "get persons",
        "server": "4ba92433.2478cc",
        "version": 1,
        "rules": [
            {
                "condition": "state_object",
                "property": "entity_id",
                "logic": "starts_with",
                "value": "person.",
                "valueType": "str"
            }
        ],
        "outputType": "split",
        "outputEmptyResults": false,
        "outputLocationType": "msg",
        "outputLocation": "payload",
        "outputResultsCount": 1,
        "x": 390,
        "y": 540,
        "wires": [
            [
                "321e851e04014b40"
            ]
        ]
    },
    {
        "id": "7ab07fd93d687adf",
        "type": "comment",
        "z": "9f04872fa1616475",
        "g": "a15d60e99166423c",
        "name": "turn on hallway light when the frontdoor opens and the person was not home allready",
        "info": "",
        "x": 350,
        "y": 480,
        "wires": []
    },
    {
        "id": "c8074b72183bfa57",
        "type": "link in",
        "z": "9f04872fa1616475",
        "g": "a15d60e99166423c",
        "name": "link in 1",
        "links": [
            "578f9487e5b636d9"
        ],
        "x": 285,
        "y": 540,
        "wires": [
            [
                "c433a054543aadbb"
            ]
        ]
    },
    {
        "id": "e6107e9fc2706812",
        "type": "link in",
        "z": "9f04872fa1616475",
        "g": "e50ceb788d9ee8ba",
        "name": "turn off hallway ground floor lights",
        "links": [
            "e6b9ff42fde3ea4e"
        ],
        "x": 285,
        "y": 380,
        "wires": [
            [
                "88e7115f37e27b64"
            ]
        ]
    },
    {
        "id": "5f49d5a034ee9b5b",
        "type": "delay",
        "z": "9f04872fa1616475",
        "g": "0beb05e6de323068",
        "name": "random delay",
        "pauseType": "random",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "2",
        "randomLast": "20",
        "randomUnits": "minutes",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 920,
        "y": 680,
        "wires": [
            [
                "f5962ac09ab85cc0"
            ]
        ]
    },
    {
        "id": "f3314b7dd03302ae",
        "type": "api-call-service",
        "z": "9f04872fa1616475",
        "g": "0beb05e6de323068",
        "name": "turn on light",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "{{payload.entity_id}}"
        ],
        "labelId": [],
        "data": "{\"brightness_pct\":\"{{dimlevel}}\",\"transition\":5000}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "light",
        "service": "turn_on",
        "x": 670,
        "y": 680,
        "wires": [
            [
                "5f49d5a034ee9b5b"
            ]
        ]
    },
    {
        "id": "f5962ac09ab85cc0",
        "type": "api-call-service",
        "z": "9f04872fa1616475",
        "g": "0beb05e6de323068",
        "name": "turn off light",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "{{payload.entity_id}}"
        ],
        "labelId": [],
        "data": "{\"transition\":5000}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "light",
        "service": "turn_off",
        "x": 1090,
        "y": 680,
        "wires": [
            []
        ]
    },
    {
        "id": "41ac7f0d3d2a07a2",
        "type": "ha-get-entities",
        "z": "9f04872fa1616475",
        "g": "0beb05e6de323068",
        "name": "pick a random light that is off",
        "server": "4ba92433.2478cc",
        "version": 1,
        "rules": [
            {
                "condition": "state_object",
                "property": "entity_id",
                "logic": "starts_with",
                "value": "light.",
                "valueType": "str"
            },
            {
                "condition": "state_object",
                "property": "state",
                "logic": "is",
                "value": "off",
                "valueType": "str"
            },
            {
                "condition": "area_registry",
                "property": "area_id",
                "logic": "is",
                "value": "#:(file)::room.ha_id",
                "valueType": "flow"
            }
        ],
        "outputType": "random",
        "outputEmptyResults": false,
        "outputLocationType": "msg",
        "outputLocation": "payload",
        "outputResultsCount": 1,
        "x": 460,
        "y": 680,
        "wires": [
            [
                "f3314b7dd03302ae"
            ]
        ]
    },
    {
        "id": "de705346f1cf66e6",
        "type": "link in",
        "z": "9f04872fa1616475",
        "g": "0beb05e6de323068",
        "name": "pick a random light for vacation simulation",
        "links": [
            "5a29eb1e4639dec7"
        ],
        "x": 305,
        "y": 680,
        "wires": [
            [
                "41ac7f0d3d2a07a2"
            ]
        ]
    },
    {
        "id": "fb679e02bc04f0b8",
        "type": "comment",
        "z": "9f04872fa1616475",
        "g": "0beb05e6de323068",
        "name": "turn on a random light that was off and turn it randomly off",
        "info": "",
        "x": 270,
        "y": 640,
        "wires": []
    },
    {
        "id": "ea415774db04863e",
        "type": "inject",
        "z": "9f04872fa1616475",
        "g": "5e2c6dad6901b49e",
        "name": "room",
        "props": [
            {
                "p": "room.friendly_name",
                "v": "hal",
                "vt": "str"
            },
            {
                "p": "room.ha_id",
                "v": "hallway",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": "1",
        "topic": "",
        "x": 110,
        "y": 200,
        "wires": [
            [
                "9c09121cc9b46267"
            ]
        ]
    },
    {
        "id": "9c09121cc9b46267",
        "type": "change",
        "z": "9f04872fa1616475",
        "g": "5e2c6dad6901b49e",
        "name": "set room variables",
        "rules": [
            {
                "t": "set",
                "p": "#:(file)::room",
                "pt": "flow",
                "to": "room",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 270,
        "y": 200,
        "wires": [
            []
        ]
    },
    {
        "id": "56a23ebeb8016675",
        "type": "comment",
        "z": "9f04872fa1616475",
        "g": "5e2c6dad6901b49e",
        "name": "add room variables to the context store so it can be reused in the flow",
        "info": "",
        "x": 290,
        "y": 160,
        "wires": []
    },
    {
        "id": "b5caf398e6bdfb50",
        "type": "ha-get-entities",
        "z": "9f04872fa1616475",
        "g": "202eac08f733727b",
        "name": "get all lights",
        "server": "4ba92433.2478cc",
        "version": 1,
        "rules": [
            {
                "condition": "state_object",
                "property": "entity_id",
                "logic": "starts_with",
                "value": "light.",
                "valueType": "str"
            },
            {
                "condition": "area_registry",
                "property": "area_id",
                "logic": "is",
                "value": "#:(file)::room.ha_id",
                "valueType": "flow"
            }
        ],
        "outputType": "array",
        "outputEmptyResults": false,
        "outputLocationType": "msg",
        "outputLocation": "light_state",
        "outputResultsCount": 1,
        "x": 570,
        "y": 820,
        "wires": [
            [
                "f4ba8ef5b42cf809"
            ]
        ]
    },
    {
        "id": "f4ba8ef5b42cf809",
        "type": "change",
        "z": "9f04872fa1616475",
        "g": "202eac08f733727b",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "light_state",
                "pt": "flow",
                "to": "light_state",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 750,
        "y": 820,
        "wires": [
            [
                "accb68d4b7b28f49"
            ]
        ]
    },
    {
        "id": "accb68d4b7b28f49",
        "type": "split",
        "z": "9f04872fa1616475",
        "g": "202eac08f733727b",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "property": "light_state",
        "x": 910,
        "y": 820,
        "wires": [
            [
                "449519974ae65172"
            ]
        ]
    },
    {
        "id": "449519974ae65172",
        "type": "api-call-service",
        "z": "9f04872fa1616475",
        "g": "202eac08f733727b",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "{{light_state.entity_id}}"
        ],
        "labelId": [],
        "data": "{\"brightness_pct\":100}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": true,
        "domain": "light",
        "service": "turn_on",
        "x": 1050,
        "y": 820,
        "wires": [
            []
        ]
    },
    {
        "id": "be95420870c0e87e",
        "type": "api-call-service",
        "z": "9f04872fa1616475",
        "g": "202eac08f733727b",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "{{light_state.entity_id}}"
        ],
        "labelId": [],
        "data": "{\"transition\":5000}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": true,
        "domain": "light",
        "service": "turn_off",
        "x": 910,
        "y": 980,
        "wires": [
            []
        ]
    },
    {
        "id": "213610331b9412cd",
        "type": "change",
        "z": "9f04872fa1616475",
        "g": "202eac08f733727b",
        "name": "",
        "rules": [
            {
                "t": "move",
                "p": "light_state",
                "pt": "flow",
                "to": "light_state",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 440,
        "y": 920,
        "wires": [
            [
                "d41eb8862e34a454"
            ]
        ]
    },
    {
        "id": "d41eb8862e34a454",
        "type": "split",
        "z": "9f04872fa1616475",
        "g": "202eac08f733727b",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "property": "light_state",
        "x": 610,
        "y": 920,
        "wires": [
            [
                "91955a9ec8eae98d"
            ]
        ]
    },
    {
        "id": "91955a9ec8eae98d",
        "type": "switch",
        "z": "9f04872fa1616475",
        "g": "202eac08f733727b",
        "name": "on/off",
        "property": "light_state.state",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "on",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "off",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 750,
        "y": 920,
        "wires": [
            [
                "20507cf53aa4d926"
            ],
            [
                "be95420870c0e87e"
            ]
        ]
    },
    {
        "id": "20507cf53aa4d926",
        "type": "api-call-service",
        "z": "9f04872fa1616475",
        "g": "202eac08f733727b",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "{{light_state.entity_id}}"
        ],
        "labelId": [],
        "data": "{\"brightness\":\"{{light_state.attributes.brightness}}\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": true,
        "domain": "light",
        "service": "turn_on",
        "x": 910,
        "y": 920,
        "wires": [
            []
        ]
    },
    {
        "id": "48cbcb1572fd8ae0",
        "type": "link in",
        "z": "9f04872fa1616475",
        "g": "202eac08f733727b",
        "name": "alarm on lights",
        "links": [
            "5874beb71c3c9523"
        ],
        "x": 305,
        "y": 820,
        "wires": [
            [
                "f7e7ce65bae7cdcc"
            ]
        ]
    },
    {
        "id": "69cb553d8e5c7171",
        "type": "link in",
        "z": "9f04872fa1616475",
        "g": "202eac08f733727b",
        "name": "alarm off restore lights",
        "links": [
            "7d0fc8f40fda8ff9",
            "5a1c4daf23c47d8e"
        ],
        "x": 305,
        "y": 920,
        "wires": [
            [
                "213610331b9412cd"
            ]
        ]
    },
    {
        "id": "9d69a1c6db562c23",
        "type": "comment",
        "z": "9f04872fa1616475",
        "g": "202eac08f733727b",
        "name": "store current light state in context then turn on all lights in alarm state",
        "info": "",
        "x": 300,
        "y": 780,
        "wires": []
    },
    {
        "id": "47ee9da5d5ec0222",
        "type": "comment",
        "z": "9f04872fa1616475",
        "g": "202eac08f733727b",
        "name": "restore light state based on values in the context store",
        "info": "",
        "x": 260,
        "y": 880,
        "wires": []
    },
    {
        "id": "f7e7ce65bae7cdcc",
        "type": "api-current-state",
        "z": "9f04872fa1616475",
        "g": "202eac08f733727b",
        "name": "daylight is off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "binary_sensor.outdoor_daylight",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 410,
        "y": 820,
        "wires": [
            [
                "b5caf398e6bdfb50"
            ],
            []
        ]
    },
    {
        "id": "0dc1a23e2d1f2e75",
        "type": "api-current-state",
        "z": "9f04872fa1616475",
        "g": "a15d60e99166423c",
        "name": "daylight is off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "binary_sensor.outdoor_daylight",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 870,
        "y": 540,
        "wires": [
            [
                "13caec7c465e3901"
            ],
            []
        ]
    },
    {
        "id": "e817366af95475f8",
        "type": "subflow:9ea6eabfb34d96e0",
        "z": "9f04872fa1616475",
        "g": "2fda27be728d8d78",
        "name": "",
        "x": 190,
        "y": 1120,
        "wires": [
            [
                "c08af2fe8e1ffc0c"
            ]
        ]
    },
    {
        "id": "07f8fe283ac35bf1",
        "type": "comment",
        "z": "9f04872fa1616475",
        "g": "2fda27be728d8d78",
        "name": "turn off all lights in this room when house is unoccupied",
        "info": "",
        "x": 260,
        "y": 1080,
        "wires": []
    },
    {
        "id": "c08af2fe8e1ffc0c",
        "type": "ha-get-entities",
        "z": "9f04872fa1616475",
        "g": "2fda27be728d8d78",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 1,
        "rules": [
            {
                "condition": "state_object",
                "property": "entity_id",
                "logic": "starts_with",
                "value": "light.",
                "valueType": "str"
            },
            {
                "condition": "area_registry",
                "property": "area_id",
                "logic": "is",
                "value": "#:(file)::room.ha_id",
                "valueType": "flow"
            }
        ],
        "outputType": "split",
        "outputEmptyResults": false,
        "outputLocationType": "msg",
        "outputLocation": "payload",
        "outputResultsCount": 1,
        "x": 410,
        "y": 1120,
        "wires": [
            [
                "1532d3eac4b24c65"
            ]
        ]
    },
    {
        "id": "1532d3eac4b24c65",
        "type": "api-call-service",
        "z": "9f04872fa1616475",
        "g": "2fda27be728d8d78",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "{{payload.entity_id}}"
        ],
        "labelId": [],
        "data": "{\"transition\":5000}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": true,
        "domain": "light",
        "service": "turn_off",
        "x": 570,
        "y": 1120,
        "wires": [
            []
        ]
    },
    {
        "id": "0de9b0739bb60d99",
        "type": "catch",
        "z": "085c9b619c2f5ad8",
        "g": "b65b9ff17eaef899",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 60,
        "wires": [
            [
                "3f837f513bde36c9"
            ]
        ]
    },
    {
        "id": "3f837f513bde36c9",
        "type": "template",
        "z": "085c9b619c2f5ad8",
        "g": "b65b9ff17eaef899",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 60,
        "wires": [
            [
                "16dda5ed078d390c"
            ]
        ]
    },
    {
        "id": "dc649cae5470eb6f",
        "type": "link out",
        "z": "085c9b619c2f5ad8",
        "g": "b65b9ff17eaef899",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 675,
        "y": 60,
        "wires": []
    },
    {
        "id": "16dda5ed078d390c",
        "type": "template",
        "z": "085c9b619c2f5ad8",
        "g": "b65b9ff17eaef899",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 60,
        "wires": [
            [
                "0a3e14e9ce2510d2"
            ]
        ]
    },
    {
        "id": "0a3e14e9ce2510d2",
        "type": "function",
        "z": "085c9b619c2f5ad8",
        "g": "b65b9ff17eaef899",
        "name": "notify.notification_id",
        "func": "msg.notify.notification_id = Date.now().toString(36) + Math.random().toString(36);\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 550,
        "y": 60,
        "wires": [
            [
                "dc649cae5470eb6f"
            ]
        ]
    },
    {
        "id": "4f2b23c1eb462ceb",
        "type": "comment",
        "z": "085c9b619c2f5ad8",
        "g": "058bdb794f586cf6",
        "name": "turn off hallway second floor lights when sleepmode turns on",
        "info": "",
        "x": 280,
        "y": 580,
        "wires": []
    },
    {
        "id": "b28a59c02b03c88d",
        "type": "ha-get-entities",
        "z": "085c9b619c2f5ad8",
        "g": "058bdb794f586cf6",
        "name": "lookup excluded sleepmode lights",
        "server": "4ba92433.2478cc",
        "version": 1,
        "rules": [
            {
                "condition": "state_object",
                "property": "entity_id",
                "logic": "in_group",
                "value": "group.sleepmode_excluded_lights",
                "valueType": "str"
            }
        ],
        "outputType": "split",
        "outputEmptyResults": false,
        "outputLocationType": "msg",
        "outputLocation": "excluded_lights",
        "outputResultsCount": 1,
        "x": 860,
        "y": 620,
        "wires": [
            [
                "5caf9664074c8107"
            ]
        ]
    },
    {
        "id": "18810d9c3d0e39a3",
        "type": "switch",
        "z": "085c9b619c2f5ad8",
        "g": "058bdb794f586cf6",
        "name": "",
        "property": "payload.entity_id",
        "propertyType": "msg",
        "rules": [
            {
                "t": "cont",
                "v": "lights.entity_id",
                "vt": "msg"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1190,
        "y": 620,
        "wires": [
            [],
            [
                "93cb80ba70bb4482"
            ]
        ],
        "info": "Pass lights that is not in the excluded lights list thru otherwise"
    },
    {
        "id": "d93de777cce3c63b",
        "type": "ha-get-entities",
        "z": "085c9b619c2f5ad8",
        "g": "058bdb794f586cf6",
        "name": "lookup lights on",
        "server": "4ba92433.2478cc",
        "version": 1,
        "rules": [
            {
                "condition": "state_object",
                "property": "entity_id",
                "logic": "starts_with",
                "value": "light.",
                "valueType": "str"
            },
            {
                "condition": "state_object",
                "property": "state",
                "logic": "is",
                "value": "on",
                "valueType": "str"
            },
            {
                "condition": "area_registry",
                "property": "area_id",
                "logic": "is",
                "value": "#:(file)::room.ha_id",
                "valueType": "flow"
            }
        ],
        "outputType": "split",
        "outputEmptyResults": false,
        "outputLocationType": "msg",
        "outputLocation": "included_lights",
        "outputResultsCount": 1,
        "x": 420,
        "y": 620,
        "wires": [
            [
                "74c06d919ba73b69"
            ]
        ]
    },
    {
        "id": "5caf9664074c8107",
        "type": "join",
        "z": "085c9b619c2f5ad8",
        "g": "058bdb794f586cf6",
        "name": "",
        "mode": "custom",
        "build": "string",
        "property": "payload.entity_id",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "useparts": true,
        "accumulate": false,
        "timeout": "",
        "count": "",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 1070,
        "y": 620,
        "wires": [
            [
                "18810d9c3d0e39a3"
            ]
        ]
    },
    {
        "id": "74c06d919ba73b69",
        "type": "change",
        "z": "085c9b619c2f5ad8",
        "g": "058bdb794f586cf6",
        "name": "",
        "rules": [
            {
                "t": "move",
                "p": "payload",
                "pt": "msg",
                "to": "lights",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 610,
        "y": 620,
        "wires": [
            [
                "b28a59c02b03c88d"
            ]
        ]
    },
    {
        "id": "93cb80ba70bb4482",
        "type": "api-call-service",
        "z": "085c9b619c2f5ad8",
        "g": "058bdb794f586cf6",
        "name": "turn off lights",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "{{lights.entity_id}}"
        ],
        "labelId": [],
        "data": "{\"transition\":5000}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "light",
        "service": "turn_off",
        "x": 1330,
        "y": 620,
        "wires": [
            []
        ]
    },
    {
        "id": "5a32d7dd7b01f6db",
        "type": "link in",
        "z": "085c9b619c2f5ad8",
        "g": "058bdb794f586cf6",
        "name": "turn off hallway lights on the first floor",
        "links": [
            "e6b9ff42fde3ea4e"
        ],
        "x": 305,
        "y": 620,
        "wires": [
            [
                "d93de777cce3c63b"
            ]
        ]
    },
    {
        "id": "16a27d4d61cc58d3",
        "type": "delay",
        "z": "085c9b619c2f5ad8",
        "g": "7dd2aacc1e40f777",
        "name": "random delay",
        "pauseType": "random",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "2",
        "randomLast": "20",
        "randomUnits": "minutes",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 840,
        "y": 760,
        "wires": [
            [
                "927ba4635cea2eba"
            ]
        ]
    },
    {
        "id": "f51632c15aa7dcd2",
        "type": "api-call-service",
        "z": "085c9b619c2f5ad8",
        "g": "7dd2aacc1e40f777",
        "name": "turn on light",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "{{payload.entity_id}}"
        ],
        "labelId": [],
        "data": "{\"brightness_pct\":\"{{dimlevel}}\",\"transition\":5000}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "light",
        "service": "turn_on",
        "x": 670,
        "y": 760,
        "wires": [
            [
                "16a27d4d61cc58d3"
            ]
        ]
    },
    {
        "id": "927ba4635cea2eba",
        "type": "api-call-service",
        "z": "085c9b619c2f5ad8",
        "g": "7dd2aacc1e40f777",
        "name": "turn off light",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "{{payload.entity_id}}"
        ],
        "labelId": [],
        "data": "{\"transition\":5000}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "light",
        "service": "turn_off",
        "x": 1010,
        "y": 760,
        "wires": [
            []
        ]
    },
    {
        "id": "d39e4789013631e4",
        "type": "ha-get-entities",
        "z": "085c9b619c2f5ad8",
        "g": "7dd2aacc1e40f777",
        "name": "pick a random light that is off",
        "server": "4ba92433.2478cc",
        "version": 1,
        "rules": [
            {
                "condition": "state_object",
                "property": "entity_id",
                "logic": "starts_with",
                "value": "light.",
                "valueType": "str"
            },
            {
                "condition": "state_object",
                "property": "state",
                "logic": "is",
                "value": "off",
                "valueType": "str"
            },
            {
                "condition": "area_registry",
                "property": "area_id",
                "logic": "is",
                "value": "#:(file)::room.ha_id",
                "valueType": "flow"
            }
        ],
        "outputType": "random",
        "outputEmptyResults": false,
        "outputLocationType": "msg",
        "outputLocation": "payload",
        "outputResultsCount": 1,
        "x": 460,
        "y": 760,
        "wires": [
            [
                "f51632c15aa7dcd2"
            ]
        ]
    },
    {
        "id": "8db0025fe57cfee6",
        "type": "link in",
        "z": "085c9b619c2f5ad8",
        "g": "7dd2aacc1e40f777",
        "name": "pick a random light for vacation simulation",
        "links": [
            "688bff2b2883ee47"
        ],
        "x": 305,
        "y": 760,
        "wires": [
            [
                "d39e4789013631e4"
            ]
        ]
    },
    {
        "id": "1ac932109c2068c7",
        "type": "comment",
        "z": "085c9b619c2f5ad8",
        "g": "7dd2aacc1e40f777",
        "name": "turn on a random light that was off and turn it randomly off",
        "info": "",
        "x": 270,
        "y": 720,
        "wires": []
    },
    {
        "id": "3ea12387a8c3adc0",
        "type": "comment",
        "z": "085c9b619c2f5ad8",
        "g": "c0234ad716a6f191",
        "name": "smoke and co detection",
        "info": "",
        "x": 140,
        "y": 300,
        "wires": []
    },
    {
        "id": "3148196f1704cedc",
        "type": "link out",
        "z": "085c9b619c2f5ad8",
        "g": "c0234ad716a6f191",
        "name": "smokealarm trigger",
        "mode": "link",
        "links": [
            "8a5a42bcd414ac14"
        ],
        "x": 315,
        "y": 340,
        "wires": []
    },
    {
        "id": "37ba4c61b076e854",
        "type": "link out",
        "z": "085c9b619c2f5ad8",
        "g": "c0234ad716a6f191",
        "name": "coalarm trigger",
        "mode": "link",
        "links": [
            "38db1827482f1f0d"
        ],
        "x": 195,
        "y": 460,
        "wires": []
    },
    {
        "id": "fb4d6bcec28c0e8c",
        "type": "server-state-changed",
        "z": "085c9b619c2f5ad8",
        "g": "c0234ad716a6f191",
        "name": "co alarm",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "binary_sensor.firstalert_hallway_upstairs_carbon_monoxide_detected"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": false,
        "stateType": "str",
        "ifState": "on",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "alarm_state",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            },
            {
                "property": "room",
                "propertyType": "msg",
                "value": "#:(file)::room.friendly_name",
                "valueType": "flow"
            }
        ],
        "x": 100,
        "y": 460,
        "wires": [
            [
                "37ba4c61b076e854"
            ],
            []
        ]
    },
    {
        "id": "fd7b8a4d.52e6c8",
        "type": "server-state-changed",
        "z": "085c9b619c2f5ad8",
        "g": "c0234ad716a6f191",
        "name": "smoke alarm",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "binary_sensor.firstalert_hallway_upstairs_smoke_detected"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": false,
        "stateType": "str",
        "ifState": "on",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "alarm_state",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            },
            {
                "property": "room",
                "propertyType": "msg",
                "value": "#:(file)::room.friendly_name",
                "valueType": "flow"
            }
        ],
        "x": 110,
        "y": 400,
        "wires": [
            [
                "c7c6edd30fd2eaec"
            ],
            []
        ]
    },
    {
        "id": "04d283125bc58145",
        "type": "server-state-changed",
        "z": "085c9b619c2f5ad8",
        "g": "c0234ad716a6f191",
        "name": "smoke and co alarm test",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "binary_sensor.firstalert_hallway_upstairs_smoke_alarm_test"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": false,
        "stateType": "str",
        "ifState": "on",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "alarm_state",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            },
            {
                "property": "room",
                "propertyType": "msg",
                "value": "#:(file)::room.friendly_name",
                "valueType": "flow"
            }
        ],
        "x": 150,
        "y": 340,
        "wires": [
            [
                "3148196f1704cedc"
            ],
            []
        ]
    },
    {
        "id": "3495da32a1317d14",
        "type": "inject",
        "z": "085c9b619c2f5ad8",
        "g": "d54e206cc1e24be0",
        "name": "room",
        "props": [
            {
                "p": "room.friendly_name",
                "v": "hal boven",
                "vt": "str"
            },
            {
                "p": "room.ha_id",
                "v": "hallway_upstairs",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": "1",
        "topic": "",
        "x": 110,
        "y": 200,
        "wires": [
            [
                "892ee2dff1bcc6bd"
            ]
        ]
    },
    {
        "id": "892ee2dff1bcc6bd",
        "type": "change",
        "z": "085c9b619c2f5ad8",
        "g": "d54e206cc1e24be0",
        "name": "set room variables",
        "rules": [
            {
                "t": "set",
                "p": "#:(file)::room",
                "pt": "flow",
                "to": "room",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 270,
        "y": 200,
        "wires": [
            []
        ]
    },
    {
        "id": "df6220a3dfe4848f",
        "type": "comment",
        "z": "085c9b619c2f5ad8",
        "g": "d54e206cc1e24be0",
        "name": "add room variables to the context store so it can be reused in the flow",
        "info": "",
        "x": 290,
        "y": 160,
        "wires": []
    },
    {
        "id": "4b861f3c88a2818f",
        "type": "ha-get-entities",
        "z": "085c9b619c2f5ad8",
        "g": "a42a06a64b67a3b7",
        "name": "get all lights",
        "server": "4ba92433.2478cc",
        "version": 1,
        "rules": [
            {
                "condition": "state_object",
                "property": "entity_id",
                "logic": "starts_with",
                "value": "light.",
                "valueType": "str"
            },
            {
                "condition": "area_registry",
                "property": "area_id",
                "logic": "is",
                "value": "#:(file)::room.ha_id",
                "valueType": "flow"
            }
        ],
        "outputType": "array",
        "outputEmptyResults": false,
        "outputLocationType": "msg",
        "outputLocation": "light_state",
        "outputResultsCount": 1,
        "x": 570,
        "y": 900,
        "wires": [
            [
                "c3e7c2ddc8fb2d64"
            ]
        ]
    },
    {
        "id": "c3e7c2ddc8fb2d64",
        "type": "change",
        "z": "085c9b619c2f5ad8",
        "g": "a42a06a64b67a3b7",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "light_state",
                "pt": "flow",
                "to": "light_state",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 750,
        "y": 900,
        "wires": [
            [
                "8616c0cb508a42c6"
            ]
        ]
    },
    {
        "id": "8616c0cb508a42c6",
        "type": "split",
        "z": "085c9b619c2f5ad8",
        "g": "a42a06a64b67a3b7",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "property": "light_state",
        "x": 910,
        "y": 900,
        "wires": [
            [
                "8b8214ec5beceb8a"
            ]
        ]
    },
    {
        "id": "8b8214ec5beceb8a",
        "type": "api-call-service",
        "z": "085c9b619c2f5ad8",
        "g": "a42a06a64b67a3b7",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "{{light_state.entity_id}}"
        ],
        "labelId": [],
        "data": "{\"brightness_pct\":100}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": true,
        "domain": "light",
        "service": "turn_on",
        "x": 1050,
        "y": 900,
        "wires": [
            []
        ]
    },
    {
        "id": "6383e3ffe9f0cafd",
        "type": "api-call-service",
        "z": "085c9b619c2f5ad8",
        "g": "a42a06a64b67a3b7",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "{{light_state.entity_id}}"
        ],
        "labelId": [],
        "data": "{\"transition\":5000}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": true,
        "domain": "light",
        "service": "turn_off",
        "x": 910,
        "y": 1060,
        "wires": [
            []
        ]
    },
    {
        "id": "4b3c029234bf9c07",
        "type": "change",
        "z": "085c9b619c2f5ad8",
        "g": "a42a06a64b67a3b7",
        "name": "",
        "rules": [
            {
                "t": "move",
                "p": "light_state",
                "pt": "flow",
                "to": "light_state",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 440,
        "y": 1000,
        "wires": [
            [
                "0b3a14c594f93967"
            ]
        ]
    },
    {
        "id": "0b3a14c594f93967",
        "type": "split",
        "z": "085c9b619c2f5ad8",
        "g": "a42a06a64b67a3b7",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "property": "light_state",
        "x": 610,
        "y": 1000,
        "wires": [
            [
                "01f758f478241088"
            ]
        ]
    },
    {
        "id": "01f758f478241088",
        "type": "switch",
        "z": "085c9b619c2f5ad8",
        "g": "a42a06a64b67a3b7",
        "name": "on/off",
        "property": "light_state.state",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "on",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "off",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 750,
        "y": 1000,
        "wires": [
            [
                "367c6564a60f46aa"
            ],
            [
                "6383e3ffe9f0cafd"
            ]
        ]
    },
    {
        "id": "367c6564a60f46aa",
        "type": "api-call-service",
        "z": "085c9b619c2f5ad8",
        "g": "a42a06a64b67a3b7",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "{{light_state.entity_id}}"
        ],
        "labelId": [],
        "data": "{\"brightness\":\"{{light_state.attributes.brightness}}\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": true,
        "domain": "light",
        "service": "turn_on",
        "x": 910,
        "y": 1000,
        "wires": [
            []
        ]
    },
    {
        "id": "4adacf1d8d92d732",
        "type": "link in",
        "z": "085c9b619c2f5ad8",
        "g": "a42a06a64b67a3b7",
        "name": "alarm on lights",
        "links": [
            "5874beb71c3c9523"
        ],
        "x": 305,
        "y": 900,
        "wires": [
            [
                "064aed9736e28c54"
            ]
        ]
    },
    {
        "id": "fbb5ba578d96b310",
        "type": "link in",
        "z": "085c9b619c2f5ad8",
        "g": "a42a06a64b67a3b7",
        "name": "alarm off restore lights",
        "links": [
            "7d0fc8f40fda8ff9",
            "5a1c4daf23c47d8e"
        ],
        "x": 305,
        "y": 1000,
        "wires": [
            [
                "4b3c029234bf9c07"
            ]
        ]
    },
    {
        "id": "f70a5c53872d664e",
        "type": "comment",
        "z": "085c9b619c2f5ad8",
        "g": "a42a06a64b67a3b7",
        "name": "store current light state in context then turn on all lights in alarm state",
        "info": "",
        "x": 300,
        "y": 860,
        "wires": []
    },
    {
        "id": "5ae30988edb54f34",
        "type": "comment",
        "z": "085c9b619c2f5ad8",
        "g": "a42a06a64b67a3b7",
        "name": "restore light state based on values in the context store",
        "info": "",
        "x": 260,
        "y": 960,
        "wires": []
    },
    {
        "id": "064aed9736e28c54",
        "type": "api-current-state",
        "z": "085c9b619c2f5ad8",
        "g": "a42a06a64b67a3b7",
        "name": "daylight is off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "binary_sensor.outdoor_daylight",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 410,
        "y": 900,
        "wires": [
            [
                "4b861f3c88a2818f"
            ],
            []
        ]
    },
    {
        "id": "af0cee51e5baa6cf",
        "type": "subflow:9ea6eabfb34d96e0",
        "z": "085c9b619c2f5ad8",
        "g": "49e93507c8029390",
        "name": "",
        "x": 190,
        "y": 1200,
        "wires": [
            [
                "fcec04013bfdd11f"
            ]
        ]
    },
    {
        "id": "3b297e5bb141e7ba",
        "type": "comment",
        "z": "085c9b619c2f5ad8",
        "g": "49e93507c8029390",
        "name": "turn off all lights in this room when house is unoccupied",
        "info": "",
        "x": 260,
        "y": 1160,
        "wires": []
    },
    {
        "id": "fcec04013bfdd11f",
        "type": "ha-get-entities",
        "z": "085c9b619c2f5ad8",
        "g": "49e93507c8029390",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 1,
        "rules": [
            {
                "condition": "state_object",
                "property": "entity_id",
                "logic": "starts_with",
                "value": "light.",
                "valueType": "str"
            },
            {
                "condition": "area_registry",
                "property": "area_id",
                "logic": "is",
                "value": "#:(file)::room.ha_id",
                "valueType": "flow"
            }
        ],
        "outputType": "split",
        "outputEmptyResults": false,
        "outputLocationType": "msg",
        "outputLocation": "payload",
        "outputResultsCount": 1,
        "x": 410,
        "y": 1200,
        "wires": [
            [
                "620cf95dd4c7511c"
            ]
        ]
    },
    {
        "id": "620cf95dd4c7511c",
        "type": "api-call-service",
        "z": "085c9b619c2f5ad8",
        "g": "49e93507c8029390",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "{{payload.entity_id}}"
        ],
        "labelId": [],
        "data": "{\"transition\":5000}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": true,
        "domain": "light",
        "service": "turn_off",
        "x": 570,
        "y": 1200,
        "wires": [
            []
        ]
    },
    {
        "id": "b088b44e4525c097",
        "type": "catch",
        "z": "e5dc6f22432398d7",
        "g": "4d7858b75137b4e2",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 60,
        "wires": [
            [
                "551131fd649c020a"
            ]
        ]
    },
    {
        "id": "551131fd649c020a",
        "type": "template",
        "z": "e5dc6f22432398d7",
        "g": "4d7858b75137b4e2",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 60,
        "wires": [
            [
                "d2e29d0bc6c40b73"
            ]
        ]
    },
    {
        "id": "c4352074f6a9380d",
        "type": "link out",
        "z": "e5dc6f22432398d7",
        "g": "4d7858b75137b4e2",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 675,
        "y": 60,
        "wires": []
    },
    {
        "id": "d2e29d0bc6c40b73",
        "type": "template",
        "z": "e5dc6f22432398d7",
        "g": "4d7858b75137b4e2",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 60,
        "wires": [
            [
                "a4f640f2e439cdea"
            ]
        ]
    },
    {
        "id": "a4f640f2e439cdea",
        "type": "function",
        "z": "e5dc6f22432398d7",
        "g": "4d7858b75137b4e2",
        "name": "notify.notification_id",
        "func": "msg.notify.notification_id = Date.now().toString(36) + Math.random().toString(36);\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 550,
        "y": 60,
        "wires": [
            [
                "c4352074f6a9380d"
            ]
        ]
    },
    {
        "id": "94b47dba75122e4e",
        "type": "api-call-service",
        "z": "e5dc6f22432398d7",
        "g": "30d9e03b4dcab1d3",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "climate.set_temperature",
        "floorId": [],
        "areaId": [
            "master_bedroom"
        ],
        "deviceId": [],
        "entityId": [],
        "labelId": [],
        "data": "{\"temperature\":\"{{target_temp}}\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": true,
        "domain": "climate",
        "service": "set_temperature",
        "x": 870,
        "y": 340,
        "wires": [
            []
        ]
    },
    {
        "id": "50cb6a6eb3455f6b",
        "type": "comment",
        "z": "e5dc6f22432398d7",
        "g": "30d9e03b4dcab1d3",
        "name": "set thermostats to 16 degree celcius when nobody is home or sleepmode has turned on",
        "info": "",
        "x": 340,
        "y": 300,
        "wires": []
    },
    {
        "id": "4b103d15a3d6c8b1",
        "type": "template",
        "z": "e5dc6f22432398d7",
        "g": "30d9e03b4dcab1d3",
        "name": "target temp",
        "field": "target_temp",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "16",
        "output": "str",
        "x": 670,
        "y": 340,
        "wires": [
            [
                "94b47dba75122e4e"
            ]
        ]
    },
    {
        "id": "f2a735f229818e06",
        "type": "link in",
        "z": "e5dc6f22432398d7",
        "g": "30d9e03b4dcab1d3",
        "name": "set away temperature tado thermostats",
        "links": [
            "e6b9ff42fde3ea4e"
        ],
        "x": 545,
        "y": 380,
        "wires": [
            [
                "4b103d15a3d6c8b1"
            ]
        ]
    },
    {
        "id": "f62ead9b9a58bf16",
        "type": "subflow:9ea6eabfb34d96e0",
        "z": "e5dc6f22432398d7",
        "g": "30d9e03b4dcab1d3",
        "name": "",
        "x": 430,
        "y": 340,
        "wires": [
            [
                "4b103d15a3d6c8b1"
            ]
        ]
    },
    {
        "id": "56b1fbd58fdf0444",
        "type": "server-state-changed",
        "z": "e5dc6f22432398d7",
        "g": "31b375033084536b",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 1,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "sensor.master_bedroom_heating"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": true,
        "stateType": "num",
        "ifState": "",
        "ifStateType": "num",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 220,
        "y": 580,
        "wires": [
            [
                "58c888740da40eda"
            ]
        ]
    },
    {
        "id": "58c888740da40eda",
        "type": "switch",
        "z": "e5dc6f22432398d7",
        "g": "31b375033084536b",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            },
            {
                "t": "gte",
                "v": "1",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 470,
        "y": 580,
        "wires": [
            [
                "a82bdd562a8a92ba"
            ],
            [
                "656a4b53d9e67047"
            ]
        ]
    },
    {
        "id": "656a4b53d9e67047",
        "type": "link out",
        "z": "e5dc6f22432398d7",
        "g": "31b375033084536b",
        "name": "heating power >= 1 (on)",
        "mode": "link",
        "links": [
            "c3a4b207319d8610"
        ],
        "x": 575,
        "y": 620,
        "wires": []
    },
    {
        "id": "a82bdd562a8a92ba",
        "type": "link out",
        "z": "e5dc6f22432398d7",
        "g": "31b375033084536b",
        "name": "heating power = 0 (off)",
        "mode": "link",
        "links": [
            "765822175b8ceb64"
        ],
        "x": 575,
        "y": 580,
        "wires": []
    },
    {
        "id": "e2f65e74ade3b671",
        "type": "comment",
        "z": "e5dc6f22432398d7",
        "g": "31b375033084536b",
        "name": "turn on or off cv boiler heating when heating power state change",
        "info": "",
        "x": 270,
        "y": 540,
        "wires": []
    },
    {
        "id": "ece831bcd7346fd7",
        "type": "delay",
        "z": "e5dc6f22432398d7",
        "g": "8bfc8c8405959d99",
        "name": "random delay",
        "pauseType": "random",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "2",
        "randomLast": "20",
        "randomUnits": "minutes",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 840,
        "y": 780,
        "wires": [
            [
                "d57ce70df622ca92"
            ]
        ]
    },
    {
        "id": "24da7345da1f2387",
        "type": "api-call-service",
        "z": "e5dc6f22432398d7",
        "g": "8bfc8c8405959d99",
        "name": "turn on light",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "{{payload.entity_id}}"
        ],
        "labelId": [],
        "data": "{\"brightness_pct\":\"{{dimlevel}}\",\"transition\":5000}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "light",
        "service": "turn_on",
        "x": 670,
        "y": 780,
        "wires": [
            [
                "ece831bcd7346fd7"
            ]
        ]
    },
    {
        "id": "d57ce70df622ca92",
        "type": "api-call-service",
        "z": "e5dc6f22432398d7",
        "g": "8bfc8c8405959d99",
        "name": "turn off light",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "{{payload.entity_id}}"
        ],
        "labelId": [],
        "data": "{\"transition\":5000}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "light",
        "service": "turn_off",
        "x": 1010,
        "y": 780,
        "wires": [
            []
        ]
    },
    {
        "id": "68b19368c349c326",
        "type": "ha-get-entities",
        "z": "e5dc6f22432398d7",
        "g": "8bfc8c8405959d99",
        "name": "pick a random light that is off",
        "server": "4ba92433.2478cc",
        "version": 1,
        "rules": [
            {
                "condition": "state_object",
                "property": "entity_id",
                "logic": "starts_with",
                "value": "light.",
                "valueType": "str"
            },
            {
                "condition": "state_object",
                "property": "state",
                "logic": "is",
                "value": "off",
                "valueType": "str"
            },
            {
                "condition": "area_registry",
                "property": "area_id",
                "logic": "is",
                "value": "#:(file)::room.ha_id",
                "valueType": "flow"
            }
        ],
        "outputType": "random",
        "outputEmptyResults": false,
        "outputLocationType": "msg",
        "outputLocation": "payload",
        "outputResultsCount": 1,
        "x": 460,
        "y": 780,
        "wires": [
            [
                "24da7345da1f2387"
            ]
        ]
    },
    {
        "id": "b3a39fe10aabc206",
        "type": "link in",
        "z": "e5dc6f22432398d7",
        "g": "8bfc8c8405959d99",
        "name": "pick a random light for vacation simulation",
        "links": [
            "d1676ca082b9a9f0"
        ],
        "x": 305,
        "y": 780,
        "wires": [
            [
                "68b19368c349c326"
            ]
        ]
    },
    {
        "id": "c8b51e690f45711c",
        "type": "comment",
        "z": "e5dc6f22432398d7",
        "g": "8bfc8c8405959d99",
        "name": "turn on a random light that was off and turn it randomly off",
        "info": "",
        "x": 270,
        "y": 740,
        "wires": []
    },
    {
        "id": "1996adfb38dc2dde",
        "type": "inject",
        "z": "e5dc6f22432398d7",
        "g": "80f7d7a62e1db262",
        "name": "room",
        "props": [
            {
                "p": "room.friendly_name",
                "v": "slaapkamer",
                "vt": "str"
            },
            {
                "p": "room.ha_id",
                "v": "master_bedroom",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": "1",
        "topic": "",
        "x": 110,
        "y": 200,
        "wires": [
            [
                "1631184ce54dc3b7"
            ]
        ]
    },
    {
        "id": "1631184ce54dc3b7",
        "type": "change",
        "z": "e5dc6f22432398d7",
        "g": "80f7d7a62e1db262",
        "name": "set room variables",
        "rules": [
            {
                "t": "set",
                "p": "#:(file)::room",
                "pt": "flow",
                "to": "room",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 270,
        "y": 200,
        "wires": [
            []
        ]
    },
    {
        "id": "7db17e9cf15457fa",
        "type": "comment",
        "z": "e5dc6f22432398d7",
        "g": "80f7d7a62e1db262",
        "name": "add room variables to the context store so it can be reused in the flow",
        "info": "",
        "x": 290,
        "y": 160,
        "wires": []
    },
    {
        "id": "2b99cb10e0ff5d36",
        "type": "ha-get-entities",
        "z": "e5dc6f22432398d7",
        "g": "c3955a96beb28f73",
        "name": "get all lights",
        "server": "4ba92433.2478cc",
        "version": 1,
        "rules": [
            {
                "condition": "state_object",
                "property": "entity_id",
                "logic": "starts_with",
                "value": "light.",
                "valueType": "str"
            },
            {
                "condition": "area_registry",
                "property": "area_id",
                "logic": "is",
                "value": "#:(file)::room.ha_id",
                "valueType": "flow"
            }
        ],
        "outputType": "array",
        "outputEmptyResults": false,
        "outputLocationType": "msg",
        "outputLocation": "light_state",
        "outputResultsCount": 1,
        "x": 410,
        "y": 920,
        "wires": [
            [
                "f30f55e0850add98"
            ]
        ]
    },
    {
        "id": "f30f55e0850add98",
        "type": "change",
        "z": "e5dc6f22432398d7",
        "g": "c3955a96beb28f73",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "light_state",
                "pt": "flow",
                "to": "light_state",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 590,
        "y": 920,
        "wires": [
            [
                "5e21ede09afb6536"
            ]
        ]
    },
    {
        "id": "5e21ede09afb6536",
        "type": "split",
        "z": "e5dc6f22432398d7",
        "g": "c3955a96beb28f73",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "property": "light_state",
        "x": 750,
        "y": 920,
        "wires": [
            [
                "06d8abff21b08008"
            ]
        ]
    },
    {
        "id": "06d8abff21b08008",
        "type": "api-call-service",
        "z": "e5dc6f22432398d7",
        "g": "c3955a96beb28f73",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "{{light_state.entity_id}}"
        ],
        "labelId": [],
        "data": "{\"brightness_pct\":100}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": true,
        "domain": "light",
        "service": "turn_on",
        "x": 890,
        "y": 920,
        "wires": [
            []
        ]
    },
    {
        "id": "e0d8442c99762160",
        "type": "api-call-service",
        "z": "e5dc6f22432398d7",
        "g": "c3955a96beb28f73",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "{{light_state.entity_id}}"
        ],
        "labelId": [],
        "data": "{\"transition\":5000}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": true,
        "domain": "light",
        "service": "turn_off",
        "x": 910,
        "y": 1080,
        "wires": [
            []
        ]
    },
    {
        "id": "2e49cd4653177194",
        "type": "change",
        "z": "e5dc6f22432398d7",
        "g": "c3955a96beb28f73",
        "name": "",
        "rules": [
            {
                "t": "move",
                "p": "light_state",
                "pt": "flow",
                "to": "light_state",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 440,
        "y": 1020,
        "wires": [
            [
                "2c383965103f52c4"
            ]
        ]
    },
    {
        "id": "2c383965103f52c4",
        "type": "split",
        "z": "e5dc6f22432398d7",
        "g": "c3955a96beb28f73",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "property": "light_state",
        "x": 610,
        "y": 1020,
        "wires": [
            [
                "b0b50ea4e1b5406c"
            ]
        ]
    },
    {
        "id": "b0b50ea4e1b5406c",
        "type": "switch",
        "z": "e5dc6f22432398d7",
        "g": "c3955a96beb28f73",
        "name": "on/off",
        "property": "light_state.state",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "on",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "off",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 750,
        "y": 1020,
        "wires": [
            [
                "d53efd8b2dbd4aed"
            ],
            [
                "e0d8442c99762160"
            ]
        ]
    },
    {
        "id": "d53efd8b2dbd4aed",
        "type": "api-call-service",
        "z": "e5dc6f22432398d7",
        "g": "c3955a96beb28f73",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "{{light_state.entity_id}}"
        ],
        "labelId": [],
        "data": "{\"brightness\":\"{{light_state.attributes.brightness}}\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": true,
        "domain": "light",
        "service": "turn_on",
        "x": 910,
        "y": 1020,
        "wires": [
            []
        ]
    },
    {
        "id": "e2433870f8402c42",
        "type": "link in",
        "z": "e5dc6f22432398d7",
        "g": "c3955a96beb28f73",
        "name": "alarm on lights",
        "links": [
            "5874beb71c3c9523"
        ],
        "x": 305,
        "y": 920,
        "wires": [
            [
                "2b99cb10e0ff5d36"
            ]
        ]
    },
    {
        "id": "1b093e0fb4ab7c72",
        "type": "link in",
        "z": "e5dc6f22432398d7",
        "g": "c3955a96beb28f73",
        "name": "alarm off restore lights",
        "links": [
            "7d0fc8f40fda8ff9",
            "5a1c4daf23c47d8e"
        ],
        "x": 305,
        "y": 1020,
        "wires": [
            [
                "2e49cd4653177194"
            ]
        ]
    },
    {
        "id": "6a01763e5aa8034d",
        "type": "comment",
        "z": "e5dc6f22432398d7",
        "g": "c3955a96beb28f73",
        "name": "store current light state in context then turn on all lights in alarm state",
        "info": "",
        "x": 300,
        "y": 880,
        "wires": []
    },
    {
        "id": "dcb5f761763b2cd9",
        "type": "comment",
        "z": "e5dc6f22432398d7",
        "g": "c3955a96beb28f73",
        "name": "restore light state based on values in the context store",
        "info": "",
        "x": 260,
        "y": 980,
        "wires": []
    },
    {
        "id": "3ab90cec58ce9a5b",
        "type": "subflow:9ea6eabfb34d96e0",
        "z": "e5dc6f22432398d7",
        "g": "c8605e24a2013fbb",
        "name": "",
        "x": 190,
        "y": 1220,
        "wires": [
            [
                "5b283e162315ee03"
            ]
        ]
    },
    {
        "id": "49c7e1fa0eede633",
        "type": "comment",
        "z": "e5dc6f22432398d7",
        "g": "c8605e24a2013fbb",
        "name": "turn off all lights in this room when house is unoccupied",
        "info": "",
        "x": 260,
        "y": 1180,
        "wires": []
    },
    {
        "id": "5b283e162315ee03",
        "type": "ha-get-entities",
        "z": "e5dc6f22432398d7",
        "g": "c8605e24a2013fbb",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 1,
        "rules": [
            {
                "condition": "state_object",
                "property": "entity_id",
                "logic": "starts_with",
                "value": "light.",
                "valueType": "str"
            },
            {
                "condition": "area_registry",
                "property": "area_id",
                "logic": "is",
                "value": "#:(file)::room.ha_id",
                "valueType": "flow"
            }
        ],
        "outputType": "split",
        "outputEmptyResults": false,
        "outputLocationType": "msg",
        "outputLocation": "payload",
        "outputResultsCount": 1,
        "x": 410,
        "y": 1220,
        "wires": [
            [
                "d257ecf2057c651f"
            ]
        ]
    },
    {
        "id": "d257ecf2057c651f",
        "type": "api-call-service",
        "z": "e5dc6f22432398d7",
        "g": "c8605e24a2013fbb",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "{{payload.entity_id}}"
        ],
        "labelId": [],
        "data": "{\"transition\":5000}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": true,
        "domain": "light",
        "service": "turn_off",
        "x": 570,
        "y": 1220,
        "wires": [
            []
        ]
    },
    {
        "id": "d357be3dcef4fda7",
        "type": "catch",
        "z": "243935f7eeb0bc81",
        "g": "94eb0b8399251a81",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 60,
        "wires": [
            [
                "27a67028b86e4283"
            ]
        ]
    },
    {
        "id": "27a67028b86e4283",
        "type": "template",
        "z": "243935f7eeb0bc81",
        "g": "94eb0b8399251a81",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 60,
        "wires": [
            [
                "5c37c236740f83bb"
            ]
        ]
    },
    {
        "id": "6e8aad8568d522fa",
        "type": "link out",
        "z": "243935f7eeb0bc81",
        "g": "94eb0b8399251a81",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 675,
        "y": 60,
        "wires": []
    },
    {
        "id": "5c37c236740f83bb",
        "type": "template",
        "z": "243935f7eeb0bc81",
        "g": "94eb0b8399251a81",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 60,
        "wires": [
            [
                "b065c26e521207b1"
            ]
        ]
    },
    {
        "id": "b065c26e521207b1",
        "type": "function",
        "z": "243935f7eeb0bc81",
        "g": "94eb0b8399251a81",
        "name": "notify.notification_id",
        "func": "msg.notify.notification_id = Date.now().toString(36) + Math.random().toString(36);\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 550,
        "y": 60,
        "wires": [
            [
                "6e8aad8568d522fa"
            ]
        ]
    },
    {
        "id": "d9b430d23e3b16c1",
        "type": "comment",
        "z": "243935f7eeb0bc81",
        "g": "d491c3abb1df5844",
        "name": "turn off lights in lise's room when sleepmode turns on",
        "info": "",
        "x": 250,
        "y": 720,
        "wires": []
    },
    {
        "id": "5169a3e5cfd040d0",
        "type": "ha-get-entities",
        "z": "243935f7eeb0bc81",
        "g": "d491c3abb1df5844",
        "name": "lookup excluded sleepmode lights",
        "server": "4ba92433.2478cc",
        "version": 1,
        "rules": [
            {
                "condition": "state_object",
                "property": "entity_id",
                "logic": "in_group",
                "value": "group.sleepmode_excluded_lights",
                "valueType": "str"
            }
        ],
        "outputType": "split",
        "outputEmptyResults": false,
        "outputLocationType": "msg",
        "outputLocation": "excluded_lights",
        "outputResultsCount": 1,
        "x": 840,
        "y": 760,
        "wires": [
            [
                "ff66dacaaf9396be"
            ]
        ]
    },
    {
        "id": "6c91b862b244dfaf",
        "type": "switch",
        "z": "243935f7eeb0bc81",
        "g": "d491c3abb1df5844",
        "name": "",
        "property": "payload.entity_id",
        "propertyType": "msg",
        "rules": [
            {
                "t": "cont",
                "v": "lights.entity_id",
                "vt": "msg"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1170,
        "y": 760,
        "wires": [
            [],
            [
                "20f37fb9eb18e7e8"
            ]
        ],
        "info": "Pass lights that is not in the excluded lights list thru otherwise"
    },
    {
        "id": "f900b62e0fafcb26",
        "type": "ha-get-entities",
        "z": "243935f7eeb0bc81",
        "g": "d491c3abb1df5844",
        "name": "lookup lights on",
        "server": "4ba92433.2478cc",
        "version": 1,
        "rules": [
            {
                "condition": "state_object",
                "property": "entity_id",
                "logic": "starts_with",
                "value": "light.",
                "valueType": "str"
            },
            {
                "condition": "state_object",
                "property": "state",
                "logic": "is",
                "value": "on",
                "valueType": "str"
            },
            {
                "condition": "area_registry",
                "property": "area_id",
                "logic": "is",
                "value": "lises_room",
                "valueType": "str"
            }
        ],
        "outputType": "split",
        "outputEmptyResults": false,
        "outputLocationType": "msg",
        "outputLocation": "included_lights",
        "outputResultsCount": 1,
        "x": 400,
        "y": 760,
        "wires": [
            [
                "9f5195da0a931278"
            ]
        ]
    },
    {
        "id": "ff66dacaaf9396be",
        "type": "join",
        "z": "243935f7eeb0bc81",
        "g": "d491c3abb1df5844",
        "name": "",
        "mode": "custom",
        "build": "string",
        "property": "payload.entity_id",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "useparts": true,
        "accumulate": false,
        "timeout": "",
        "count": "",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 1050,
        "y": 760,
        "wires": [
            [
                "6c91b862b244dfaf"
            ]
        ]
    },
    {
        "id": "9f5195da0a931278",
        "type": "change",
        "z": "243935f7eeb0bc81",
        "g": "d491c3abb1df5844",
        "name": "",
        "rules": [
            {
                "t": "move",
                "p": "payload",
                "pt": "msg",
                "to": "lights",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 590,
        "y": 760,
        "wires": [
            [
                "5169a3e5cfd040d0"
            ]
        ]
    },
    {
        "id": "20f37fb9eb18e7e8",
        "type": "api-call-service",
        "z": "243935f7eeb0bc81",
        "g": "d491c3abb1df5844",
        "name": "turn off lights",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "{{lights.entity_id}}"
        ],
        "labelId": [],
        "data": "{\"transition\":5000}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "light",
        "service": "turn_off",
        "x": 1310,
        "y": 760,
        "wires": [
            []
        ]
    },
    {
        "id": "23b344d4bd248871",
        "type": "link in",
        "z": "243935f7eeb0bc81",
        "g": "d491c3abb1df5844",
        "name": "turn off lights in lise's room",
        "links": [
            "e6b9ff42fde3ea4e"
        ],
        "x": 285,
        "y": 760,
        "wires": [
            [
                "f900b62e0fafcb26"
            ]
        ]
    },
    {
        "id": "4ee5fa5fa64e28db",
        "type": "api-call-service",
        "z": "243935f7eeb0bc81",
        "g": "ca35948a32eaf853",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "climate.set_temperature",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "climate.lises_room"
        ],
        "labelId": [],
        "data": "{\"temperature\":\"{{target_temp}}\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": true,
        "domain": "climate",
        "service": "set_temperature",
        "x": 870,
        "y": 540,
        "wires": [
            []
        ]
    },
    {
        "id": "39a60535aa1f7b2a",
        "type": "comment",
        "z": "243935f7eeb0bc81",
        "g": "ca35948a32eaf853",
        "name": "set thermostats to 16 degree celcius when nobody is home or sleepmode has turned on",
        "info": "",
        "x": 340,
        "y": 500,
        "wires": []
    },
    {
        "id": "62a2b25ed9d9d6bf",
        "type": "template",
        "z": "243935f7eeb0bc81",
        "g": "ca35948a32eaf853",
        "name": "target temp",
        "field": "target_temp",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "16",
        "output": "str",
        "x": 670,
        "y": 540,
        "wires": [
            [
                "4ee5fa5fa64e28db"
            ]
        ]
    },
    {
        "id": "fef971c806c0156d",
        "type": "link in",
        "z": "243935f7eeb0bc81",
        "g": "ca35948a32eaf853",
        "name": "set away temperature tado thermostats",
        "links": [
            "e6b9ff42fde3ea4e"
        ],
        "x": 545,
        "y": 580,
        "wires": [
            [
                "62a2b25ed9d9d6bf"
            ]
        ]
    },
    {
        "id": "2f3fee056865ed93",
        "type": "subflow:9ea6eabfb34d96e0",
        "z": "243935f7eeb0bc81",
        "g": "ca35948a32eaf853",
        "name": "",
        "x": 430,
        "y": 540,
        "wires": [
            [
                "62a2b25ed9d9d6bf"
            ]
        ]
    },
    {
        "id": "b30554bed452a7ce",
        "type": "server-state-changed",
        "z": "243935f7eeb0bc81",
        "g": "be566417ae9ea3df",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 1,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "sensor.lises_room_heating"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": true,
        "stateType": "num",
        "ifState": "",
        "ifStateType": "num",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 200,
        "y": 360,
        "wires": [
            [
                "296459aa78be1302"
            ]
        ]
    },
    {
        "id": "296459aa78be1302",
        "type": "switch",
        "z": "243935f7eeb0bc81",
        "g": "be566417ae9ea3df",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            },
            {
                "t": "gte",
                "v": "1",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 430,
        "y": 360,
        "wires": [
            [
                "4a5d12f7119e0232"
            ],
            [
                "2df01573bdd484ad"
            ]
        ]
    },
    {
        "id": "2df01573bdd484ad",
        "type": "link out",
        "z": "243935f7eeb0bc81",
        "g": "be566417ae9ea3df",
        "name": "heating power >= 1 (on)",
        "mode": "link",
        "links": [
            "c3a4b207319d8610"
        ],
        "x": 535,
        "y": 400,
        "wires": []
    },
    {
        "id": "4a5d12f7119e0232",
        "type": "link out",
        "z": "243935f7eeb0bc81",
        "g": "be566417ae9ea3df",
        "name": "heating power = 0 (off)",
        "mode": "link",
        "links": [
            "765822175b8ceb64"
        ],
        "x": 535,
        "y": 360,
        "wires": []
    },
    {
        "id": "001ac4dc79783f23",
        "type": "comment",
        "z": "243935f7eeb0bc81",
        "g": "be566417ae9ea3df",
        "name": "turn on or off cv boiler heating when heating power state change",
        "info": "",
        "x": 270,
        "y": 320,
        "wires": []
    },
    {
        "id": "e55b97ef416d94ab",
        "type": "delay",
        "z": "243935f7eeb0bc81",
        "g": "755f0cfbe6e1ada2",
        "name": "random delay",
        "pauseType": "random",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "2",
        "randomLast": "20",
        "randomUnits": "minutes",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 920,
        "y": 900,
        "wires": [
            [
                "483a94a88dfcee79"
            ]
        ]
    },
    {
        "id": "a1efdb82eafb510c",
        "type": "api-call-service",
        "z": "243935f7eeb0bc81",
        "g": "755f0cfbe6e1ada2",
        "name": "turn on light",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "{{payload.entity_id}}"
        ],
        "labelId": [],
        "data": "{\"brightness_pct\":\"{{dimlevel}}\",\"transition\":5000}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "light",
        "service": "turn_on",
        "x": 670,
        "y": 900,
        "wires": [
            [
                "e55b97ef416d94ab"
            ]
        ]
    },
    {
        "id": "483a94a88dfcee79",
        "type": "api-call-service",
        "z": "243935f7eeb0bc81",
        "g": "755f0cfbe6e1ada2",
        "name": "turn off light",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "{{payload.entity_id}}"
        ],
        "labelId": [],
        "data": "{\"transition\":5000}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "light",
        "service": "turn_off",
        "x": 1090,
        "y": 900,
        "wires": [
            []
        ]
    },
    {
        "id": "905767a3ed395363",
        "type": "ha-get-entities",
        "z": "243935f7eeb0bc81",
        "g": "755f0cfbe6e1ada2",
        "name": "pick a random light that is off",
        "server": "4ba92433.2478cc",
        "version": 1,
        "rules": [
            {
                "condition": "state_object",
                "property": "entity_id",
                "logic": "starts_with",
                "value": "light.",
                "valueType": "str"
            },
            {
                "condition": "state_object",
                "property": "state",
                "logic": "is",
                "value": "off",
                "valueType": "str"
            },
            {
                "condition": "area_registry",
                "property": "area_id",
                "logic": "is",
                "value": "#:(file)::room.ha_id",
                "valueType": "flow"
            }
        ],
        "outputType": "random",
        "outputEmptyResults": false,
        "outputLocationType": "msg",
        "outputLocation": "payload",
        "outputResultsCount": 1,
        "x": 460,
        "y": 900,
        "wires": [
            [
                "a1efdb82eafb510c"
            ]
        ]
    },
    {
        "id": "68dfbc6804cce853",
        "type": "link in",
        "z": "243935f7eeb0bc81",
        "g": "755f0cfbe6e1ada2",
        "name": "pick a random light for vacation simulation",
        "links": [
            "8b3a1477ad1b4a99"
        ],
        "x": 305,
        "y": 900,
        "wires": [
            [
                "905767a3ed395363"
            ]
        ]
    },
    {
        "id": "703a035d531b109f",
        "type": "comment",
        "z": "243935f7eeb0bc81",
        "g": "755f0cfbe6e1ada2",
        "name": "turn on a random light that was off and turn it randomly off",
        "info": "",
        "x": 270,
        "y": 860,
        "wires": []
    },
    {
        "id": "c65fb8a9c00599c6",
        "type": "inject",
        "z": "243935f7eeb0bc81",
        "g": "35c2e2b56ff81d89",
        "name": "room",
        "props": [
            {
                "p": "room.friendly_name",
                "v": "lise's kamer",
                "vt": "str"
            },
            {
                "p": "room.ha_id",
                "v": "lises_room",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": "1",
        "topic": "",
        "x": 110,
        "y": 200,
        "wires": [
            [
                "91e5d4831f583489"
            ]
        ]
    },
    {
        "id": "91e5d4831f583489",
        "type": "change",
        "z": "243935f7eeb0bc81",
        "g": "35c2e2b56ff81d89",
        "name": "set room variables",
        "rules": [
            {
                "t": "set",
                "p": "#:(file)::room",
                "pt": "flow",
                "to": "room",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 270,
        "y": 200,
        "wires": [
            []
        ]
    },
    {
        "id": "0577cc589a18d7eb",
        "type": "comment",
        "z": "243935f7eeb0bc81",
        "g": "35c2e2b56ff81d89",
        "name": "add room variables to the context store so it can be reused in the flow",
        "info": "",
        "x": 290,
        "y": 160,
        "wires": []
    },
    {
        "id": "844bda3c18385494",
        "type": "ha-get-entities",
        "z": "243935f7eeb0bc81",
        "g": "6067241c5e9bcf6c",
        "name": "get all lights",
        "server": "4ba92433.2478cc",
        "version": 1,
        "rules": [
            {
                "condition": "state_object",
                "property": "entity_id",
                "logic": "starts_with",
                "value": "light.",
                "valueType": "str"
            },
            {
                "condition": "area_registry",
                "property": "area_id",
                "logic": "is",
                "value": "#:(file)::room.ha_id",
                "valueType": "flow"
            }
        ],
        "outputType": "array",
        "outputEmptyResults": false,
        "outputLocationType": "msg",
        "outputLocation": "light_state",
        "outputResultsCount": 1,
        "x": 570,
        "y": 1040,
        "wires": [
            [
                "eeb9feb9ab056495"
            ]
        ]
    },
    {
        "id": "eeb9feb9ab056495",
        "type": "change",
        "z": "243935f7eeb0bc81",
        "g": "6067241c5e9bcf6c",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "light_state",
                "pt": "flow",
                "to": "light_state",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 750,
        "y": 1040,
        "wires": [
            [
                "a7a50588415c176c"
            ]
        ]
    },
    {
        "id": "a7a50588415c176c",
        "type": "split",
        "z": "243935f7eeb0bc81",
        "g": "6067241c5e9bcf6c",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "property": "light_state",
        "x": 910,
        "y": 1040,
        "wires": [
            [
                "526ba3af0a1eb607"
            ]
        ]
    },
    {
        "id": "526ba3af0a1eb607",
        "type": "api-call-service",
        "z": "243935f7eeb0bc81",
        "g": "6067241c5e9bcf6c",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "{{light_state.entity_id}}"
        ],
        "labelId": [],
        "data": "{\"brightness_pct\":100}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": true,
        "domain": "light",
        "service": "turn_on",
        "x": 1050,
        "y": 1040,
        "wires": [
            []
        ]
    },
    {
        "id": "328d876953e56fb7",
        "type": "api-call-service",
        "z": "243935f7eeb0bc81",
        "g": "6067241c5e9bcf6c",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "{{light_state.entity_id}}"
        ],
        "labelId": [],
        "data": "{\"transition\":5000}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": true,
        "domain": "light",
        "service": "turn_off",
        "x": 910,
        "y": 1200,
        "wires": [
            []
        ]
    },
    {
        "id": "808bcc855e7b8b98",
        "type": "change",
        "z": "243935f7eeb0bc81",
        "g": "6067241c5e9bcf6c",
        "name": "",
        "rules": [
            {
                "t": "move",
                "p": "light_state",
                "pt": "flow",
                "to": "light_state",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 440,
        "y": 1140,
        "wires": [
            [
                "11724820a50c64f8"
            ]
        ]
    },
    {
        "id": "11724820a50c64f8",
        "type": "split",
        "z": "243935f7eeb0bc81",
        "g": "6067241c5e9bcf6c",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "property": "light_state",
        "x": 610,
        "y": 1140,
        "wires": [
            [
                "2794030e649bc2b6"
            ]
        ]
    },
    {
        "id": "2794030e649bc2b6",
        "type": "switch",
        "z": "243935f7eeb0bc81",
        "g": "6067241c5e9bcf6c",
        "name": "on/off",
        "property": "light_state.state",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "on",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "off",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 750,
        "y": 1140,
        "wires": [
            [
                "d2a541d2b8f72839"
            ],
            [
                "328d876953e56fb7"
            ]
        ]
    },
    {
        "id": "d2a541d2b8f72839",
        "type": "api-call-service",
        "z": "243935f7eeb0bc81",
        "g": "6067241c5e9bcf6c",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "{{light_state.entity_id}}"
        ],
        "labelId": [],
        "data": "{\"brightness\":\"{{light_state.attributes.brightness}}\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": true,
        "domain": "light",
        "service": "turn_on",
        "x": 910,
        "y": 1140,
        "wires": [
            []
        ]
    },
    {
        "id": "d3a4afe9518cbfff",
        "type": "link in",
        "z": "243935f7eeb0bc81",
        "g": "6067241c5e9bcf6c",
        "name": "alarm on lights",
        "links": [
            "5874beb71c3c9523"
        ],
        "x": 305,
        "y": 1040,
        "wires": [
            [
                "62e8791208f6dc62"
            ]
        ]
    },
    {
        "id": "e302e447a8fbdace",
        "type": "link in",
        "z": "243935f7eeb0bc81",
        "g": "6067241c5e9bcf6c",
        "name": "alarm off restore lights",
        "links": [
            "7d0fc8f40fda8ff9",
            "5a1c4daf23c47d8e"
        ],
        "x": 305,
        "y": 1140,
        "wires": [
            [
                "808bcc855e7b8b98"
            ]
        ]
    },
    {
        "id": "25b8a101aec11917",
        "type": "comment",
        "z": "243935f7eeb0bc81",
        "g": "6067241c5e9bcf6c",
        "name": "store current light state in context then turn on all lights in alarm state",
        "info": "",
        "x": 300,
        "y": 1000,
        "wires": []
    },
    {
        "id": "63fa094b02fad9f4",
        "type": "comment",
        "z": "243935f7eeb0bc81",
        "g": "6067241c5e9bcf6c",
        "name": "restore light state based on values in the context store",
        "info": "",
        "x": 260,
        "y": 1100,
        "wires": []
    },
    {
        "id": "62e8791208f6dc62",
        "type": "api-current-state",
        "z": "243935f7eeb0bc81",
        "g": "6067241c5e9bcf6c",
        "name": "daylight is off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "binary_sensor.outdoor_daylight",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 410,
        "y": 1040,
        "wires": [
            [
                "844bda3c18385494"
            ],
            []
        ]
    },
    {
        "id": "c709e93a4ff0579c",
        "type": "subflow:9ea6eabfb34d96e0",
        "z": "243935f7eeb0bc81",
        "g": "4f9337b160840a41",
        "name": "",
        "x": 190,
        "y": 1340,
        "wires": [
            [
                "bb1404a70b199cd4"
            ]
        ]
    },
    {
        "id": "f30d32e1709865b1",
        "type": "comment",
        "z": "243935f7eeb0bc81",
        "g": "4f9337b160840a41",
        "name": "turn off all lights in this room when house is unoccupied",
        "info": "",
        "x": 260,
        "y": 1300,
        "wires": []
    },
    {
        "id": "bb1404a70b199cd4",
        "type": "ha-get-entities",
        "z": "243935f7eeb0bc81",
        "g": "4f9337b160840a41",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 1,
        "rules": [
            {
                "condition": "state_object",
                "property": "entity_id",
                "logic": "starts_with",
                "value": "light.",
                "valueType": "str"
            },
            {
                "condition": "area_registry",
                "property": "area_id",
                "logic": "is",
                "value": "#:(file)::room.ha_id",
                "valueType": "flow"
            }
        ],
        "outputType": "split",
        "outputEmptyResults": false,
        "outputLocationType": "msg",
        "outputLocation": "payload",
        "outputResultsCount": 1,
        "x": 410,
        "y": 1340,
        "wires": [
            [
                "3e9e22f1aca172a4"
            ]
        ]
    },
    {
        "id": "3e9e22f1aca172a4",
        "type": "api-call-service",
        "z": "243935f7eeb0bc81",
        "g": "4f9337b160840a41",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "{{payload.entity_id}}"
        ],
        "labelId": [],
        "data": "{\"transition\":5000}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": true,
        "domain": "light",
        "service": "turn_off",
        "x": 570,
        "y": 1340,
        "wires": [
            []
        ]
    },
    {
        "id": "effdb4f47bd11771",
        "type": "comment",
        "z": "3d30857f5165e137",
        "g": "8484c31ea7272515",
        "name": "turn on toilet fan",
        "info": "notify when a message appears in pfsense",
        "x": 120,
        "y": 440,
        "wires": []
    },
    {
        "id": "25d79c8787fd1812",
        "type": "api-call-service",
        "z": "3d30857f5165e137",
        "g": "8484c31ea7272515",
        "name": "turn on toilet fan",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "fan.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "fan.shelly1pm_toilet_fan_switch_0"
        ],
        "labelId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "fan",
        "service": "turn_on",
        "x": 500,
        "y": 480,
        "wires": [
            []
        ]
    },
    {
        "id": "59e4a09ae6f431cd",
        "type": "api-call-service",
        "z": "3d30857f5165e137",
        "g": "8484c31ea7272515",
        "name": "turn off toilet fan",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "fan.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "fan.shelly1pm_toilet_fan_switch_0"
        ],
        "labelId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "fan",
        "service": "turn_off",
        "x": 1380,
        "y": 480,
        "wires": [
            []
        ]
    },
    {
        "id": "b5dd79a9ecc0d1c8",
        "type": "ha-wait-until",
        "z": "3d30857f5165e137",
        "g": "8484c31ea7272515",
        "name": "wait until toilet light goes off with 10 sec timeout",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "entities": {
            "entity": [
                "light.shelly1pm_toilet_light_switch_0"
            ],
            "substring": [],
            "regex": []
        },
        "property": "state",
        "comparator": "is",
        "value": "off",
        "valueType": "str",
        "timeout": "10",
        "timeoutType": "num",
        "timeoutUnits": "seconds",
        "checkCurrentState": true,
        "blockInputOverrides": true,
        "outputProperties": [],
        "entityLocation": "data",
        "entityLocationType": "none",
        "x": 600,
        "y": 540,
        "wires": [
            [
                "e40aff179bd30a9b"
            ],
            [
                "8a928f6874ea03c8"
            ]
        ]
    },
    {
        "id": "8a928f6874ea03c8",
        "type": "ha-wait-until",
        "z": "3d30857f5165e137",
        "g": "8484c31ea7272515",
        "name": "wait until toilet light goes off ",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "entities": {
            "entity": [
                "light.shelly1pm_toilet_light_switch_0"
            ],
            "substring": [],
            "regex": []
        },
        "property": "state",
        "comparator": "is",
        "value": "off",
        "valueType": "str",
        "timeout": "1",
        "timeoutType": "num",
        "timeoutUnits": "hours",
        "checkCurrentState": true,
        "blockInputOverrides": true,
        "outputProperties": [],
        "entityLocation": "data",
        "entityLocationType": "none",
        "x": 940,
        "y": 580,
        "wires": [
            [
                "6433045b1f3b4f8e"
            ],
            [
                "1bcfdae4fb034efd"
            ]
        ]
    },
    {
        "id": "6433045b1f3b4f8e",
        "type": "stoptimer",
        "z": "3d30857f5165e137",
        "g": "8484c31ea7272515",
        "duration": "20",
        "units": "Minute",
        "payloadtype": "num",
        "payloadval": "0",
        "name": "",
        "x": 1160,
        "y": 520,
        "wires": [
            [
                "59e4a09ae6f431cd"
            ],
            []
        ]
    },
    {
        "id": "0a28fb35b8f92f89",
        "type": "delay",
        "z": "3d30857f5165e137",
        "g": "8484c31ea7272515",
        "name": "",
        "pauseType": "delay",
        "timeout": "10",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 320,
        "y": 480,
        "wires": [
            [
                "25d79c8787fd1812",
                "b5dd79a9ecc0d1c8"
            ]
        ]
    },
    {
        "id": "881c7c6e29dbf984",
        "type": "catch",
        "z": "3d30857f5165e137",
        "g": "647fea0a3ea7e4e4",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 60,
        "wires": [
            [
                "456cca54662124d4"
            ]
        ]
    },
    {
        "id": "456cca54662124d4",
        "type": "template",
        "z": "3d30857f5165e137",
        "g": "647fea0a3ea7e4e4",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 60,
        "wires": [
            [
                "565e353fb713834b"
            ]
        ]
    },
    {
        "id": "ccb7ef12d5532abb",
        "type": "link out",
        "z": "3d30857f5165e137",
        "g": "647fea0a3ea7e4e4",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 675,
        "y": 60,
        "wires": []
    },
    {
        "id": "565e353fb713834b",
        "type": "template",
        "z": "3d30857f5165e137",
        "g": "647fea0a3ea7e4e4",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 60,
        "wires": [
            [
                "4fbf6de64bc19fa8"
            ]
        ]
    },
    {
        "id": "4fbf6de64bc19fa8",
        "type": "function",
        "z": "3d30857f5165e137",
        "g": "647fea0a3ea7e4e4",
        "name": "notify.notification_id",
        "func": "msg.notify.notification_id = Date.now().toString(36) + Math.random().toString(36);\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 550,
        "y": 60,
        "wires": [
            [
                "ccb7ef12d5532abb"
            ]
        ]
    },
    {
        "id": "3b550de91ce4e17e",
        "type": "server-state-changed",
        "z": "3d30857f5165e137",
        "g": "9de4afe79cde1a47",
        "name": "toilet door",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "binary_sensor.toiletdoor"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": false,
        "stateType": "str",
        "ifState": "on",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 100,
        "y": 340,
        "wires": [
            [
                "8eeed77d329cda19"
            ],
            []
        ]
    },
    {
        "id": "ee6a31878d411d3d",
        "type": "comment",
        "z": "3d30857f5165e137",
        "g": "9de4afe79cde1a47",
        "name": "toilet door trigger",
        "info": "",
        "x": 120,
        "y": 300,
        "wires": []
    },
    {
        "id": "8eeed77d329cda19",
        "type": "link out",
        "z": "3d30857f5165e137",
        "g": "9de4afe79cde1a47",
        "name": "toiletdoor open",
        "mode": "link",
        "links": [
            "b978613dcfb6a202",
            "bd841cbf320510d2",
            "0020f7218cace3a6"
        ],
        "x": 195,
        "y": 340,
        "wires": []
    },
    {
        "id": "a752563ecc453fd5",
        "type": "server-state-changed",
        "z": "3d30857f5165e137",
        "g": "8484c31ea7272515",
        "name": "toilet light turned on",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "light.shelly1pm_toilet_light_switch_0"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": false,
        "stateType": "str",
        "ifState": "on",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "",
        "forType": "num",
        "forUnits": "seconds",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 130,
        "y": 480,
        "wires": [
            [
                "0a28fb35b8f92f89"
            ],
            []
        ]
    },
    {
        "id": "c6106e6a0dd12bb3",
        "type": "inject",
        "z": "3d30857f5165e137",
        "g": "97638a59f4b8fe56",
        "name": "room",
        "props": [
            {
                "p": "room.friendly_name",
                "v": "toilet",
                "vt": "str"
            },
            {
                "p": "room.ha_id",
                "v": "toilet",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": "1",
        "topic": "",
        "x": 110,
        "y": 200,
        "wires": [
            [
                "5c8149d49e1b4f2b"
            ]
        ]
    },
    {
        "id": "5c8149d49e1b4f2b",
        "type": "change",
        "z": "3d30857f5165e137",
        "g": "97638a59f4b8fe56",
        "name": "set room variables",
        "rules": [
            {
                "t": "set",
                "p": "#:(file)::room",
                "pt": "flow",
                "to": "room",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 270,
        "y": 200,
        "wires": [
            []
        ]
    },
    {
        "id": "389137eec430f32f",
        "type": "comment",
        "z": "3d30857f5165e137",
        "g": "97638a59f4b8fe56",
        "name": "add room variables to the context store so it can be reused in the flow",
        "info": "",
        "x": 290,
        "y": 160,
        "wires": []
    },
    {
        "id": "7957ca6537112584",
        "type": "ha-get-entities",
        "z": "3d30857f5165e137",
        "g": "33169817977a7916",
        "name": "get all lights",
        "server": "4ba92433.2478cc",
        "version": 1,
        "rules": [
            {
                "condition": "state_object",
                "property": "entity_id",
                "logic": "starts_with",
                "value": "light.",
                "valueType": "str"
            },
            {
                "condition": "area_registry",
                "property": "area_id",
                "logic": "is",
                "value": "#:(file)::room.ha_id",
                "valueType": "flow"
            }
        ],
        "outputType": "array",
        "outputEmptyResults": false,
        "outputLocationType": "msg",
        "outputLocation": "light_state",
        "outputResultsCount": 1,
        "x": 410,
        "y": 740,
        "wires": [
            [
                "4b0dae5695deaaf8"
            ]
        ]
    },
    {
        "id": "4b0dae5695deaaf8",
        "type": "change",
        "z": "3d30857f5165e137",
        "g": "33169817977a7916",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "light_state",
                "pt": "flow",
                "to": "light_state",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 590,
        "y": 740,
        "wires": [
            [
                "783edf7ebe885efc"
            ]
        ]
    },
    {
        "id": "783edf7ebe885efc",
        "type": "split",
        "z": "3d30857f5165e137",
        "g": "33169817977a7916",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "property": "light_state",
        "x": 750,
        "y": 740,
        "wires": [
            [
                "e51ba7113581fcaf"
            ]
        ]
    },
    {
        "id": "e51ba7113581fcaf",
        "type": "api-call-service",
        "z": "3d30857f5165e137",
        "g": "33169817977a7916",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "{{light_state.entity_id}}"
        ],
        "labelId": [],
        "data": "{\"brightness_pct\":100}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": true,
        "domain": "light",
        "service": "turn_on",
        "x": 870,
        "y": 740,
        "wires": [
            []
        ]
    },
    {
        "id": "fcf7546d12baf147",
        "type": "api-call-service",
        "z": "3d30857f5165e137",
        "g": "33169817977a7916",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "{{light_state.entity_id}}"
        ],
        "labelId": [],
        "data": "{\"transition\":5000}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": true,
        "domain": "light",
        "service": "turn_off",
        "x": 910,
        "y": 900,
        "wires": [
            []
        ]
    },
    {
        "id": "9cd378246d06aed2",
        "type": "change",
        "z": "3d30857f5165e137",
        "g": "33169817977a7916",
        "name": "",
        "rules": [
            {
                "t": "move",
                "p": "light_state",
                "pt": "flow",
                "to": "light_state",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 440,
        "y": 840,
        "wires": [
            [
                "19bfc97776f2bff7"
            ]
        ]
    },
    {
        "id": "19bfc97776f2bff7",
        "type": "split",
        "z": "3d30857f5165e137",
        "g": "33169817977a7916",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "property": "light_state",
        "x": 610,
        "y": 840,
        "wires": [
            [
                "d4d3803afaa2ac1f"
            ]
        ]
    },
    {
        "id": "d4d3803afaa2ac1f",
        "type": "switch",
        "z": "3d30857f5165e137",
        "g": "33169817977a7916",
        "name": "on/off",
        "property": "light_state.state",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "on",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "off",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 750,
        "y": 840,
        "wires": [
            [
                "a82516eb21887540"
            ],
            [
                "fcf7546d12baf147"
            ]
        ]
    },
    {
        "id": "a82516eb21887540",
        "type": "api-call-service",
        "z": "3d30857f5165e137",
        "g": "33169817977a7916",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "{{light_state.entity_id}}"
        ],
        "labelId": [],
        "data": "{\"brightness\":\"{{light_state.attributes.brightness}}\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": true,
        "domain": "light",
        "service": "turn_on",
        "x": 910,
        "y": 840,
        "wires": [
            []
        ]
    },
    {
        "id": "54cecc782a26e4d8",
        "type": "link in",
        "z": "3d30857f5165e137",
        "g": "33169817977a7916",
        "name": "alarm on lights",
        "links": [
            "5874beb71c3c9523"
        ],
        "x": 305,
        "y": 740,
        "wires": [
            [
                "7957ca6537112584"
            ]
        ]
    },
    {
        "id": "eea223d7381660d6",
        "type": "link in",
        "z": "3d30857f5165e137",
        "g": "33169817977a7916",
        "name": "alarm off restore lights",
        "links": [
            "7d0fc8f40fda8ff9",
            "5a1c4daf23c47d8e"
        ],
        "x": 305,
        "y": 840,
        "wires": [
            [
                "9cd378246d06aed2"
            ]
        ]
    },
    {
        "id": "61652d8fa7d13827",
        "type": "comment",
        "z": "3d30857f5165e137",
        "g": "33169817977a7916",
        "name": "store current light state in context then turn on all lights in alarm state",
        "info": "",
        "x": 300,
        "y": 700,
        "wires": []
    },
    {
        "id": "a004ea74e0a267df",
        "type": "comment",
        "z": "3d30857f5165e137",
        "g": "33169817977a7916",
        "name": "restore light state based on values in the context store",
        "info": "",
        "x": 480,
        "y": 800,
        "wires": []
    },
    {
        "id": "529fe917e83e2581",
        "type": "subflow:9ea6eabfb34d96e0",
        "z": "3d30857f5165e137",
        "g": "e122a8d0692b6190",
        "name": "",
        "x": 190,
        "y": 1040,
        "wires": [
            [
                "1d8aed8797100d79"
            ]
        ]
    },
    {
        "id": "dfa9055f4ac8dd18",
        "type": "comment",
        "z": "3d30857f5165e137",
        "g": "e122a8d0692b6190",
        "name": "turn off all lights in this room when house is unoccupied",
        "info": "",
        "x": 260,
        "y": 1000,
        "wires": []
    },
    {
        "id": "1d8aed8797100d79",
        "type": "ha-get-entities",
        "z": "3d30857f5165e137",
        "g": "e122a8d0692b6190",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 1,
        "rules": [
            {
                "condition": "state_object",
                "property": "entity_id",
                "logic": "starts_with",
                "value": "light.",
                "valueType": "str"
            },
            {
                "condition": "area_registry",
                "property": "area_id",
                "logic": "is",
                "value": "#:(file)::room.ha_id",
                "valueType": "flow"
            }
        ],
        "outputType": "split",
        "outputEmptyResults": false,
        "outputLocationType": "msg",
        "outputLocation": "payload",
        "outputResultsCount": 1,
        "x": 410,
        "y": 1040,
        "wires": [
            [
                "eb5c81f0c94b41eb"
            ]
        ]
    },
    {
        "id": "eb5c81f0c94b41eb",
        "type": "api-call-service",
        "z": "3d30857f5165e137",
        "g": "e122a8d0692b6190",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "light.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "{{payload.entity_id}}"
        ],
        "labelId": [],
        "data": "{\"transition\":5000}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": true,
        "domain": "light",
        "service": "turn_off",
        "x": 570,
        "y": 1040,
        "wires": [
            []
        ]
    },
    {
        "id": "0d2ea417abbfd9a9",
        "type": "inject",
        "z": "584de19021aea4c9",
        "g": "08715fb1375207f2",
        "name": "daily 06:15",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "15 06 * * *",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "on",
        "payloadType": "str",
        "x": 230,
        "y": 340,
        "wires": [
            [
                "33536fb6cb94dc7d",
                "3c72ab291eed2837"
            ]
        ]
    },
    {
        "id": "3c72ab291eed2837",
        "type": "api-current-state",
        "z": "584de19021aea4c9",
        "g": "08715fb1375207f2",
        "name": "state guest on",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.guest",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 480,
        "y": 400,
        "wires": [
            [
                "98e460a4ed0ed121"
            ],
            []
        ]
    },
    {
        "id": "33536fb6cb94dc7d",
        "type": "api-current-state",
        "z": "584de19021aea4c9",
        "g": "08715fb1375207f2",
        "name": "state persons home",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "home",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "group.persons",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 470,
        "y": 340,
        "wires": [
            [
                "98e460a4ed0ed121"
            ],
            []
        ]
    },
    {
        "id": "b39b586bf6ca434d",
        "type": "catch",
        "z": "584de19021aea4c9",
        "g": "4d4e6df3797df6ef",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 60,
        "wires": [
            [
                "ec93c45ae9417e15"
            ]
        ]
    },
    {
        "id": "ec93c45ae9417e15",
        "type": "template",
        "z": "584de19021aea4c9",
        "g": "4d4e6df3797df6ef",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 60,
        "wires": [
            [
                "6304933d3ac6eec0"
            ]
        ]
    },
    {
        "id": "9d553baf555a2986",
        "type": "link out",
        "z": "584de19021aea4c9",
        "g": "4d4e6df3797df6ef",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 675,
        "y": 60,
        "wires": []
    },
    {
        "id": "6304933d3ac6eec0",
        "type": "template",
        "z": "584de19021aea4c9",
        "g": "4d4e6df3797df6ef",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 60,
        "wires": [
            [
                "0dcd14f1512c625d"
            ]
        ]
    },
    {
        "id": "0dcd14f1512c625d",
        "type": "function",
        "z": "584de19021aea4c9",
        "g": "4d4e6df3797df6ef",
        "name": "notify.notification_id",
        "func": "msg.notify.notification_id = Date.now().toString(36) + Math.random().toString(36);\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 550,
        "y": 60,
        "wires": [
            [
                "9d553baf555a2986"
            ]
        ]
    },
    {
        "id": "b52170d79065c5e9",
        "type": "comment",
        "z": "584de19021aea4c9",
        "g": "08715fb1375207f2",
        "name": "turn off home security boolean at 06:15 or when daylight is on or when the house is occupied or when sleepmode gets turned off",
        "info": "",
        "x": 470,
        "y": 300,
        "wires": []
    },
    {
        "id": "72ae4172893b2bb9",
        "type": "link in",
        "z": "584de19021aea4c9",
        "g": "08715fb1375207f2",
        "name": "turn off home security mode",
        "links": [
            "31fda56ec62032b8",
            "c07ca02ed810efe8",
            "56dd342f2b737c1c"
        ],
        "x": 285,
        "y": 420,
        "wires": [
            [
                "33536fb6cb94dc7d",
                "3c72ab291eed2837"
            ]
        ]
    },
    {
        "id": "e70a120b208749ae",
        "type": "subflow:ad57f56dd92dd9d6",
        "z": "584de19021aea4c9",
        "g": "08715fb1375207f2",
        "name": "",
        "x": 170,
        "y": 500,
        "wires": [
            [
                "ce03ab56bedf05fc"
            ],
            [],
            [],
            [
                "ce03ab56bedf05fc"
            ],
            [
                "ce03ab56bedf05fc"
            ]
        ]
    },
    {
        "id": "98e460a4ed0ed121",
        "type": "delay",
        "z": "584de19021aea4c9",
        "g": "08715fb1375207f2",
        "name": "",
        "pauseType": "rate",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": true,
        "allowrate": false,
        "outputs": 1,
        "x": 730,
        "y": 340,
        "wires": [
            [
                "06e3604a68b26be9"
            ]
        ]
    },
    {
        "id": "1da076f55b07dac9",
        "type": "api-call-service",
        "z": "584de19021aea4c9",
        "g": "08715fb1375207f2",
        "name": "turn off home security boolean",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "input_boolean.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_boolean.home_security"
        ],
        "labelId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": true,
        "domain": "input_boolean",
        "service": "turn_off",
        "x": 1150,
        "y": 340,
        "wires": [
            []
        ]
    },
    {
        "id": "130316c644b8cba4",
        "type": "comment",
        "z": "584de19021aea4c9",
        "g": "78c2f5b11bac0b38",
        "name": "turn on home security when house gets onoccupied",
        "info": "",
        "x": 230,
        "y": 620,
        "wires": []
    },
    {
        "id": "4e14b8416d9434e5",
        "type": "subflow:9ea6eabfb34d96e0",
        "z": "584de19021aea4c9",
        "g": "78c2f5b11bac0b38",
        "name": "",
        "x": 170,
        "y": 680,
        "wires": [
            [
                "0e64c3a5f1ef394a"
            ]
        ]
    },
    {
        "id": "06e3604a68b26be9",
        "type": "api-current-state",
        "z": "584de19021aea4c9",
        "g": "08715fb1375207f2",
        "name": "home security is on",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.home_security",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 910,
        "y": 340,
        "wires": [
            [
                "1da076f55b07dac9"
            ],
            []
        ]
    },
    {
        "id": "f0e47efb8914e6b6",
        "type": "api-call-service",
        "z": "584de19021aea4c9",
        "g": "78c2f5b11bac0b38",
        "name": "turn on home security boolean",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "input_boolean.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_boolean.home_security"
        ],
        "labelId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": true,
        "domain": "input_boolean",
        "service": "turn_on",
        "x": 810,
        "y": 680,
        "wires": [
            [
                "e22410d2b950dabb"
            ]
        ]
    },
    {
        "id": "48e1b48ffc1c59d0",
        "type": "api-current-state",
        "z": "584de19021aea4c9",
        "g": "78c2f5b11bac0b38",
        "name": "home security is off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.home_security",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 570,
        "y": 680,
        "wires": [
            [
                "f0e47efb8914e6b6"
            ],
            []
        ]
    },
    {
        "id": "0e64c3a5f1ef394a",
        "type": "delay",
        "z": "584de19021aea4c9",
        "g": "78c2f5b11bac0b38",
        "name": "",
        "pauseType": "rate",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": true,
        "allowrate": false,
        "outputs": 1,
        "x": 390,
        "y": 680,
        "wires": [
            [
                "48e1b48ffc1c59d0"
            ]
        ]
    },
    {
        "id": "e22410d2b950dabb",
        "type": "template",
        "z": "584de19021aea4c9",
        "g": "78c2f5b11bac0b38",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Beveiliging is ingeschakeld ",
        "output": "str",
        "x": 1020,
        "y": 680,
        "wires": [
            [
                "79d81ca9d619b285"
            ]
        ]
    },
    {
        "id": "21c070ce72b68d7d",
        "type": "template",
        "z": "584de19021aea4c9",
        "g": "69027adcba470682",
        "name": "icon",
        "field": "notify.icon",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "",
        "output": "str",
        "x": 1210,
        "y": 700,
        "wires": [
            [
                "1f7f697fc6355767"
            ]
        ]
    },
    {
        "id": "7e2213cba8ed0e58",
        "type": "template",
        "z": "584de19021aea4c9",
        "g": "69027adcba470682",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Beveiliging",
        "output": "str",
        "x": 1210,
        "y": 660,
        "wires": [
            [
                "1f7f697fc6355767"
            ]
        ]
    },
    {
        "id": "7776b1f9419bbd45",
        "type": "link out",
        "z": "584de19021aea4c9",
        "g": "69027adcba470682",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "9286a72a2355f5ca"
        ],
        "x": 1465,
        "y": 680,
        "wires": []
    },
    {
        "id": "1f7f697fc6355767",
        "type": "join",
        "z": "584de19021aea4c9",
        "g": "69027adcba470682",
        "name": "",
        "mode": "custom",
        "build": "merged",
        "property": "notify",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": false,
        "timeout": "",
        "count": "3",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 1330,
        "y": 680,
        "wires": [
            [
                "7776b1f9419bbd45"
            ]
        ]
    },
    {
        "id": "ec72f7b2db4cc37c",
        "type": "api-call-service",
        "z": "584de19021aea4c9",
        "g": "ed9d73ed345d61fb",
        "name": "cancel timer home security",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "timer.cancel",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "timer.home_security"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "timer",
        "service": "cancel",
        "x": 440,
        "y": 980,
        "wires": [
            []
        ]
    },
    {
        "id": "726d2d1b1b907051",
        "type": "comment",
        "z": "584de19021aea4c9",
        "g": "ed9d73ed345d61fb",
        "name": "stop home security timer when sleepmode turns off when and the timer is still running",
        "info": "",
        "x": 330,
        "y": 940,
        "wires": []
    },
    {
        "id": "62498ddd63d334ac",
        "type": "link in",
        "z": "584de19021aea4c9",
        "g": "ed9d73ed345d61fb",
        "name": "cancel home security timer",
        "links": [
            "c07ca02ed810efe8",
            "5a1c4daf23c47d8e"
        ],
        "x": 275,
        "y": 980,
        "wires": [
            [
                "ec72f7b2db4cc37c"
            ]
        ]
    },
    {
        "id": "214c71e5dabcaaae",
        "type": "api-call-service",
        "z": "584de19021aea4c9",
        "g": "ed9d73ed345d61fb",
        "name": "turn on home security",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "input_boolean.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_boolean.home_security"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "input_boolean",
        "service": "turn_on",
        "x": 360,
        "y": 1080,
        "wires": [
            []
        ]
    },
    {
        "id": "90439c6cd4d95382",
        "type": "comment",
        "z": "584de19021aea4c9",
        "g": "ed9d73ed345d61fb",
        "name": "turn on home securitu boolean when timer send finished event",
        "info": "",
        "x": 260,
        "y": 1040,
        "wires": []
    },
    {
        "id": "1ef02d6284775f4a",
        "type": "server-events",
        "z": "584de19021aea4c9",
        "g": "ed9d73ed345d61fb",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 3,
        "exposeAsEntityConfig": "",
        "eventType": "timer.finished",
        "eventData": "{\"entity_id\":\"timer.home_security\"}",
        "waitForRunning": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "$outputData(\"eventData\").event_type",
                "valueType": "jsonata"
            }
        ],
        "x": 140,
        "y": 1080,
        "wires": [
            [
                "214c71e5dabcaaae"
            ]
        ]
    },
    {
        "id": "8b5e46426b0a2fba",
        "type": "api-current-state",
        "z": "584de19021aea4c9",
        "g": "ed9d73ed345d61fb",
        "name": "state home security boolean is off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.home_security",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 460,
        "y": 880,
        "wires": [
            [
                "97e49f2803bfd3bd"
            ],
            []
        ]
    },
    {
        "id": "97e49f2803bfd3bd",
        "type": "api-call-service",
        "z": "584de19021aea4c9",
        "g": "ed9d73ed345d61fb",
        "name": "start home security 20 min timer ",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "timer.start",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "timer.home_security"
        ],
        "labelId": [],
        "data": "{\"duration\":\"00:20:00\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "timer",
        "service": "start",
        "x": 750,
        "y": 880,
        "wires": [
            []
        ]
    },
    {
        "id": "79eed535fa1b460d",
        "type": "comment",
        "z": "584de19021aea4c9",
        "g": "ed9d73ed345d61fb",
        "name": "start 20 minute home security timer when sleepmode get turned on",
        "info": "``",
        "x": 280,
        "y": 840,
        "wires": []
    },
    {
        "id": "598fe34c24ec541e",
        "type": "link in",
        "z": "584de19021aea4c9",
        "g": "ed9d73ed345d61fb",
        "name": "start home security timer",
        "links": [
            "e6b9ff42fde3ea4e"
        ],
        "x": 275,
        "y": 880,
        "wires": [
            [
                "8b5e46426b0a2fba"
            ]
        ]
    },
    {
        "id": "eea2197b7f964ade",
        "type": "comment",
        "z": "584de19021aea4c9",
        "g": "34f77bf331ee4632",
        "name": "trigger home security is off",
        "info": "",
        "x": 150,
        "y": 160,
        "wires": []
    },
    {
        "id": "825ef49298a5b9a1",
        "type": "server-state-changed",
        "z": "584de19021aea4c9",
        "g": "34f77bf331ee4632",
        "name": "trigger home security is off",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "input_boolean.home_security"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": false,
        "stateType": "str",
        "ifState": "off",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 150,
        "y": 200,
        "wires": [
            [
                "5a1c4daf23c47d8e"
            ],
            []
        ]
    },
    {
        "id": "5a1c4daf23c47d8e",
        "type": "link out",
        "z": "584de19021aea4c9",
        "g": "34f77bf331ee4632",
        "name": "home security boolean is off",
        "mode": "link",
        "links": [
            "128979fd0463bcca",
            "1b093e0fb4ab7c72",
            "378d583d6c2e7462",
            "3ea16ee8a25e0caf",
            "44f0f168d26886f8",
            "5d7476c56ca009dc",
            "62498ddd63d334ac",
            "69cb553d8e5c7171",
            "6b02551e9bbcc318",
            "91f20f382b4f8484",
            "e302e447a8fbdace",
            "ea190e81bd8e104b",
            "eea223d7381660d6",
            "f97efe05ff228e66",
            "fbb5ba578d96b310"
        ],
        "x": 295,
        "y": 200,
        "wires": []
    },
    {
        "id": "90650fd4618583b4",
        "type": "comment",
        "z": "840a747bdf820be0",
        "g": "6668f9729dac8340",
        "name": "trigger home alarm boolean turned on",
        "info": "",
        "x": 190,
        "y": 640,
        "wires": []
    },
    {
        "id": "5874beb71c3c9523",
        "type": "link out",
        "z": "840a747bdf820be0",
        "g": "6668f9729dac8340",
        "name": "home alarm on",
        "mode": "link",
        "links": [
            "0c568c3a2acbb3c7",
            "2cced4dc5c7e4d61",
            "48cbcb1572fd8ae0",
            "4adacf1d8d92d732",
            "54cecc782a26e4d8",
            "6c97888d4b123c99",
            "7bebe3575d22c030",
            "7f4c5981658827e5",
            "a3d90bd47f3ab3be",
            "aa5e4b49e4f1a495",
            "ae418c6467c6832a",
            "d3a4afe9518cbfff",
            "e2433870f8402c42"
        ],
        "x": 275,
        "y": 680,
        "wires": []
    },
    {
        "id": "e19d09cced81d589",
        "type": "server-state-changed",
        "z": "840a747bdf820be0",
        "g": "6668f9729dac8340",
        "name": "alarm is on/off",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "input_boolean.alarm"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": false,
        "stateType": "str",
        "ifState": "on",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": true,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "alarm",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            }
        ],
        "x": 110,
        "y": 700,
        "wires": [
            [
                "5874beb71c3c9523"
            ],
            [
                "7d0fc8f40fda8ff9"
            ]
        ]
    },
    {
        "id": "fec9fa7b765aea54",
        "type": "catch",
        "z": "840a747bdf820be0",
        "g": "8046d6765d8c4979",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 60,
        "wires": [
            [
                "59e10914bf8112d2"
            ]
        ]
    },
    {
        "id": "59e10914bf8112d2",
        "type": "template",
        "z": "840a747bdf820be0",
        "g": "8046d6765d8c4979",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 60,
        "wires": [
            [
                "885ec72ae79d6b60"
            ]
        ]
    },
    {
        "id": "1cdb96d7083434cf",
        "type": "link out",
        "z": "840a747bdf820be0",
        "g": "8046d6765d8c4979",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 675,
        "y": 60,
        "wires": []
    },
    {
        "id": "885ec72ae79d6b60",
        "type": "template",
        "z": "840a747bdf820be0",
        "g": "8046d6765d8c4979",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 60,
        "wires": [
            [
                "a695b2e904a12b43"
            ]
        ]
    },
    {
        "id": "a695b2e904a12b43",
        "type": "function",
        "z": "840a747bdf820be0",
        "g": "8046d6765d8c4979",
        "name": "notify.notification_id",
        "func": "msg.notify.notification_id = Date.now().toString(36) + Math.random().toString(36);\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 550,
        "y": 60,
        "wires": [
            [
                "1cdb96d7083434cf"
            ]
        ]
    },
    {
        "id": "7d0fc8f40fda8ff9",
        "type": "link out",
        "z": "840a747bdf820be0",
        "g": "6668f9729dac8340",
        "name": "home alarm off",
        "mode": "link",
        "links": [
            "128979fd0463bcca",
            "1b093e0fb4ab7c72",
            "378d583d6c2e7462",
            "3ea16ee8a25e0caf",
            "69cb553d8e5c7171",
            "6b02551e9bbcc318",
            "91f20f382b4f8484",
            "e302e447a8fbdace",
            "ea190e81bd8e104b",
            "eea223d7381660d6",
            "f97efe05ff228e66",
            "fbb5ba578d96b310"
        ],
        "x": 275,
        "y": 720,
        "wires": []
    },
    {
        "id": "670646a63a46860a",
        "type": "comment",
        "z": "840a747bdf820be0",
        "g": "bbcb1b047d87fd9f",
        "name": "turn on/off home alarm",
        "info": "",
        "x": 140,
        "y": 180,
        "wires": []
    },
    {
        "id": "85162f70fe3e481d",
        "type": "link in",
        "z": "840a747bdf820be0",
        "g": "bbcb1b047d87fd9f",
        "name": "turn on home alarm",
        "links": [
            "9247011c06778266"
        ],
        "x": 275,
        "y": 220,
        "wires": [
            [
                "db070bd6ad62c1d9"
            ]
        ]
    },
    {
        "id": "5d7476c56ca009dc",
        "type": "link in",
        "z": "840a747bdf820be0",
        "g": "bbcb1b047d87fd9f",
        "name": "turn off home alarm",
        "links": [
            "5a1c4daf23c47d8e"
        ],
        "x": 275,
        "y": 260,
        "wires": [
            [
                "525ef6e623cd1458"
            ]
        ]
    },
    {
        "id": "b79ee9a4cae038f1",
        "type": "api-call-service",
        "z": "840a747bdf820be0",
        "g": "bbcb1b047d87fd9f",
        "name": "turn on home alarm",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "input_boolean.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_boolean.alarm"
        ],
        "labelId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": true,
        "domain": "input_boolean",
        "service": "turn_on",
        "x": 610,
        "y": 220,
        "wires": [
            []
        ]
    },
    {
        "id": "e578d7e5c968ac59",
        "type": "api-call-service",
        "z": "840a747bdf820be0",
        "g": "bbcb1b047d87fd9f",
        "name": "turn off home alarm",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "input_boolean.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_boolean.alarm"
        ],
        "labelId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": true,
        "domain": "input_boolean",
        "service": "turn_off",
        "x": 610,
        "y": 260,
        "wires": [
            []
        ]
    },
    {
        "id": "525ef6e623cd1458",
        "type": "api-current-state",
        "z": "840a747bdf820be0",
        "g": "bbcb1b047d87fd9f",
        "name": "home alarm is on",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.alarm",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 410,
        "y": 260,
        "wires": [
            [
                "e578d7e5c968ac59"
            ],
            []
        ]
    },
    {
        "id": "db070bd6ad62c1d9",
        "type": "api-current-state",
        "z": "840a747bdf820be0",
        "g": "bbcb1b047d87fd9f",
        "name": "home alarm is off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.alarm",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 410,
        "y": 220,
        "wires": [
            [
                "b79ee9a4cae038f1"
            ],
            []
        ]
    },
    {
        "id": "bb74adfdaa2e7334",
        "type": "api-call-service",
        "z": "840a747bdf820be0",
        "g": "f2d58bca393a76e9",
        "name": "cancel alarm countdown timer",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "timer.cancel",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "timer.alarm_countdown"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "data"
            }
        ],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "timer",
        "service": "cancel",
        "x": 450,
        "y": 400,
        "wires": [
            []
        ]
    },
    {
        "id": "18c5f7dab04b6e2f",
        "type": "comment",
        "z": "840a747bdf820be0",
        "g": "f2d58bca393a76e9",
        "name": "cancel alarm countdown timer",
        "info": "",
        "x": 160,
        "y": 360,
        "wires": []
    },
    {
        "id": "44f0f168d26886f8",
        "type": "link in",
        "z": "840a747bdf820be0",
        "g": "f2d58bca393a76e9",
        "name": "cancel alarm countdown timer",
        "links": [
            "5a1c4daf23c47d8e"
        ],
        "x": 275,
        "y": 400,
        "wires": [
            [
                "bb74adfdaa2e7334"
            ]
        ]
    },
    {
        "id": "3d59f4c3c23aac65",
        "type": "api-current-state",
        "z": "840a747bdf820be0",
        "g": "fc1e3c8ed754a590",
        "name": "home security is on",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.home_security",
        "state_type": "str",
        "blockInputOverrides": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 410,
        "y": 860,
        "wires": [
            [
                "9247011c06778266"
            ],
            []
        ]
    },
    {
        "id": "8ffd36ee83d4f00a",
        "type": "server-events",
        "z": "840a747bdf820be0",
        "g": "fc1e3c8ed754a590",
        "name": "alarm countdown timer finished",
        "server": "4ba92433.2478cc",
        "version": 3,
        "exposeAsEntityConfig": "",
        "eventType": "timer.finished",
        "eventData": "{\"entity_id\":\"timer.alarm_countdown\"}",
        "waitForRunning": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "$outputData(\"eventData\").event_type",
                "valueType": "jsonata"
            }
        ],
        "x": 170,
        "y": 860,
        "wires": [
            [
                "3d59f4c3c23aac65"
            ]
        ]
    },
    {
        "id": "9247011c06778266",
        "type": "link out",
        "z": "840a747bdf820be0",
        "g": "fc1e3c8ed754a590",
        "name": "turn on home alarm boolean",
        "mode": "link",
        "links": [
            "85162f70fe3e481d"
        ],
        "x": 535,
        "y": 860,
        "wires": []
    },
    {
        "id": "6e6c1d9f665daf15",
        "type": "comment",
        "z": "840a747bdf820be0",
        "g": "fc1e3c8ed754a590",
        "name": "turn on home alarm when countdown timer is finished and home security is still on",
        "info": "",
        "x": 320,
        "y": 820,
        "wires": []
    },
    {
        "id": "f6563d2ad7a0f6dc",
        "type": "api-call-service",
        "z": "840a747bdf820be0",
        "g": "9ce8dda481713bd7",
        "name": "start alarm countdown timer",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "timer.start",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "timer.alarm_countdown"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "data"
            }
        ],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "timer",
        "service": "start",
        "x": 440,
        "y": 540,
        "wires": [
            []
        ]
    },
    {
        "id": "16204bf68d721155",
        "type": "comment",
        "z": "840a747bdf820be0",
        "g": "9ce8dda481713bd7",
        "name": "start alarm countdown timer",
        "info": "",
        "x": 160,
        "y": 500,
        "wires": []
    },
    {
        "id": "f2354880d5cd789f",
        "type": "link in",
        "z": "840a747bdf820be0",
        "g": "9ce8dda481713bd7",
        "name": "start alarm countdown timer",
        "links": [
            "04aa475bc955a915",
            "2f3c1ff7754c175f"
        ],
        "x": 275,
        "y": 540,
        "wires": [
            [
                "f6563d2ad7a0f6dc"
            ]
        ]
    },
    {
        "id": "5b60f50f0c536814",
        "type": "inject",
        "z": "13a255ebdd1ff73b",
        "g": "cab9eeaa205362d4",
        "name": "daily 06:15",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "15 06 * * *",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "on",
        "payloadType": "str",
        "x": 230,
        "y": 200,
        "wires": [
            [
                "144998ab4397337d",
                "ab8d50df95263bdb"
            ]
        ]
    },
    {
        "id": "a47dc9c70d1b7cac",
        "type": "comment",
        "z": "13a255ebdd1ff73b",
        "g": "cab9eeaa205362d4",
        "name": "turn off sleepmode at 06:15 in the morning or when daylight is on",
        "info": "",
        "x": 290,
        "y": 160,
        "wires": []
    },
    {
        "id": "ab8d50df95263bdb",
        "type": "api-current-state",
        "z": "13a255ebdd1ff73b",
        "g": "cab9eeaa205362d4",
        "name": "state guest on",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.guest",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 480,
        "y": 260,
        "wires": [
            [
                "411acab1235f04c0"
            ],
            []
        ]
    },
    {
        "id": "144998ab4397337d",
        "type": "api-current-state",
        "z": "13a255ebdd1ff73b",
        "g": "cab9eeaa205362d4",
        "name": "state persons home",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "home",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "group.persons",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 490,
        "y": 200,
        "wires": [
            [
                "411acab1235f04c0"
            ],
            []
        ]
    },
    {
        "id": "122bd35233daa183",
        "type": "api-call-service",
        "z": "13a255ebdd1ff73b",
        "g": "cab9eeaa205362d4",
        "name": "turn off sleepmode",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "input_boolean.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_boolean.sleep_mode"
        ],
        "labelId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": true,
        "domain": "input_boolean",
        "service": "turn_off",
        "x": 1070,
        "y": 200,
        "wires": [
            []
        ]
    },
    {
        "id": "2ba9517a860a47ee",
        "type": "catch",
        "z": "13a255ebdd1ff73b",
        "g": "b42667cc42459750",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 60,
        "wires": [
            [
                "d24f6768d16e9d4a"
            ]
        ]
    },
    {
        "id": "d24f6768d16e9d4a",
        "type": "template",
        "z": "13a255ebdd1ff73b",
        "g": "b42667cc42459750",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 60,
        "wires": [
            [
                "619ec42f4a819c58"
            ]
        ]
    },
    {
        "id": "c2b55a3f0ee96b43",
        "type": "link out",
        "z": "13a255ebdd1ff73b",
        "g": "b42667cc42459750",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 675,
        "y": 60,
        "wires": []
    },
    {
        "id": "619ec42f4a819c58",
        "type": "template",
        "z": "13a255ebdd1ff73b",
        "g": "b42667cc42459750",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 60,
        "wires": [
            [
                "ee92d8798fbf4b64"
            ]
        ]
    },
    {
        "id": "ee92d8798fbf4b64",
        "type": "function",
        "z": "13a255ebdd1ff73b",
        "g": "b42667cc42459750",
        "name": "notify.notification_id",
        "func": "msg.notify.notification_id = Date.now().toString(36) + Math.random().toString(36);\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 550,
        "y": 60,
        "wires": [
            [
                "c2b55a3f0ee96b43"
            ]
        ]
    },
    {
        "id": "b636215d02b0f07a",
        "type": "server-state-changed",
        "z": "13a255ebdd1ff73b",
        "g": "9a36b394a8edfcb7",
        "name": "sleepmode is on",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "input_boolean.sleep_mode"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": false,
        "stateType": "str",
        "ifState": "on",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": false,
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 120,
        "y": 680,
        "wires": [
            [
                "e6b9ff42fde3ea4e"
            ],
            [
                "c07ca02ed810efe8"
            ]
        ]
    },
    {
        "id": "d072b374f00acb38",
        "type": "comment",
        "z": "13a255ebdd1ff73b",
        "g": "9a36b394a8edfcb7",
        "name": "trigger sleepmode is on",
        "info": "",
        "x": 140,
        "y": 620,
        "wires": []
    },
    {
        "id": "e6b9ff42fde3ea4e",
        "type": "link out",
        "z": "13a255ebdd1ff73b",
        "g": "9a36b394a8edfcb7",
        "name": "sleepmode turned on",
        "mode": "link",
        "links": [
            "0419c1d8f3124b5e",
            "0d887755bfdcf551",
            "120f47429583e78d",
            "1ddf1eb78ab3cf78",
            "23b344d4bd248871",
            "2eaa2fce52c5ce8a",
            "2f6877e917181f4c",
            "4a713c76ca8ffd14",
            "4a784feb385d8d36",
            "5049d35f7101b540",
            "598fe34c24ec541e",
            "5a32d7dd7b01f6db",
            "6ab4fe8e04f4839f",
            "7e4444ae7832e36b",
            "82b493917e9911f4",
            "85bbe6fa44141370",
            "8a78024ba282982a",
            "af0e2bdd4daadbcb",
            "b5e0ecf20c28f1f0",
            "bd841cbf320510d2",
            "c21a54a5e245afa3",
            "e6107e9fc2706812",
            "f2a735f229818e06",
            "fd1316bc77e6a6dd",
            "fef971c806c0156d",
            "df0d2da9dc486e6f",
            "849379e6f7939a8c",
            "6cba7dab8b7608c9",
            "0020f7218cace3a6"
        ],
        "x": 265,
        "y": 660,
        "wires": []
    },
    {
        "id": "c07ca02ed810efe8",
        "type": "link out",
        "z": "13a255ebdd1ff73b",
        "g": "9a36b394a8edfcb7",
        "name": "sleepmode turned off",
        "mode": "link",
        "links": [
            "6ab4fe8e04f4839f",
            "62498ddd63d334ac",
            "72ae4172893b2bb9",
            "961409bc2d9b8a1b",
            "94cfa3499dc876e4",
            "7a6572a848edbab2"
        ],
        "x": 265,
        "y": 700,
        "wires": []
    },
    {
        "id": "411acab1235f04c0",
        "type": "api-current-state",
        "z": "13a255ebdd1ff73b",
        "g": "cab9eeaa205362d4",
        "name": "sleepmode is on",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.sleep_mode",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 700,
        "y": 200,
        "wires": [
            [
                "b71280bffd062919"
            ],
            []
        ]
    },
    {
        "id": "250aeb21b537919a",
        "type": "link in",
        "z": "13a255ebdd1ff73b",
        "g": "cab9eeaa205362d4",
        "name": "turn off sleepmode",
        "links": [
            "31fda56ec62032b8"
        ],
        "x": 285,
        "y": 260,
        "wires": [
            [
                "144998ab4397337d",
                "ab8d50df95263bdb"
            ]
        ]
    },
    {
        "id": "b1e9ceda84ca6c84",
        "type": "subflow:ad57f56dd92dd9d6",
        "z": "13a255ebdd1ff73b",
        "g": "cab9eeaa205362d4",
        "name": "",
        "x": 170,
        "y": 340,
        "wires": [
            [
                "547adbcf6d9c7157"
            ],
            [],
            [],
            [
                "547adbcf6d9c7157"
            ],
            [
                "547adbcf6d9c7157"
            ]
        ]
    },
    {
        "id": "b71280bffd062919",
        "type": "delay",
        "z": "13a255ebdd1ff73b",
        "g": "cab9eeaa205362d4",
        "name": "",
        "pauseType": "rate",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": true,
        "allowrate": false,
        "outputs": 1,
        "x": 890,
        "y": 200,
        "wires": [
            [
                "122bd35233daa183"
            ]
        ]
    },
    {
        "id": "289eb5762afd854e",
        "type": "switch",
        "z": "e98ae3c9db1bd6c3",
        "g": "34613206506f1a39",
        "name": "state is home",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "home",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 270,
        "y": 680,
        "wires": [
            [
                "2da11a2951cd690b"
            ]
        ]
    },
    {
        "id": "cd178e3895118ed9",
        "type": "comment",
        "z": "e98ae3c9db1bd6c3",
        "g": "34613206506f1a39",
        "name": "turn off vacation mode when someone comes home",
        "info": "",
        "x": 230,
        "y": 640,
        "wires": []
    },
    {
        "id": "d3f51e45d96152b6",
        "type": "comment",
        "z": "e98ae3c9db1bd6c3",
        "g": "4b5255d3994ce0e7",
        "name": "if all persons are away from home for at least 20 hours, ask whether vacation mode should be activated.",
        "info": "",
        "x": 390,
        "y": 320,
        "wires": []
    },
    {
        "id": "8319e5e91e71a1ed",
        "type": "comment",
        "z": "e98ae3c9db1bd6c3",
        "g": "7a8d3a38b4738118",
        "name": "send a message to a random area to turn on a light, restart the timer with a new duration if the vacation mode is still on",
        "info": "",
        "x": 440,
        "y": 780,
        "wires": []
    },
    {
        "id": "fb8451f100d9bf63",
        "type": "api-call-service",
        "z": "e98ae3c9db1bd6c3",
        "g": "34613206506f1a39",
        "name": "turn off vacation mode",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "input_boolean.turn_off",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_boolean.vacation_mode"
        ],
        "labelId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "input_boolean",
        "service": "turn_off",
        "x": 680,
        "y": 680,
        "wires": [
            []
        ]
    },
    {
        "id": "2da11a2951cd690b",
        "type": "api-current-state",
        "z": "e98ae3c9db1bd6c3",
        "g": "34613206506f1a39",
        "name": "vacation mode is on",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.vacation_mode",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 460,
        "y": 680,
        "wires": [
            [
                "fb8451f100d9bf63"
            ],
            []
        ]
    },
    {
        "id": "03b925349d92a20d",
        "type": "server-state-changed",
        "z": "e98ae3c9db1bd6c3",
        "g": "34613206506f1a39",
        "name": "state persons",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 1,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "group.persons"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": true,
        "stateType": "str",
        "ifState": "",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": true,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 110,
        "y": 680,
        "wires": [
            [
                "289eb5762afd854e"
            ]
        ]
    },
    {
        "id": "b53dc3ab1408794a",
        "type": "link out",
        "z": "e98ae3c9db1bd6c3",
        "g": "4b5255d3994ce0e7",
        "name": "home unoccupied more than 20 hours",
        "mode": "link",
        "links": [
            "edbceb117f04f41e"
        ],
        "x": 595,
        "y": 400,
        "wires": []
    },
    {
        "id": "8fccda12ea75bc0d",
        "type": "api-current-state",
        "z": "e98ae3c9db1bd6c3",
        "g": "4b5255d3994ce0e7",
        "name": "persons not home for 20 hours",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "home",
        "halt_if_type": "str",
        "halt_if_compare": "is_not",
        "entity_id": "group.persons",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "20",
        "forType": "num",
        "forUnits": "hours",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 430,
        "y": 400,
        "wires": [
            [
                "b53dc3ab1408794a"
            ],
            []
        ]
    },
    {
        "id": "61c36fb38acb7466",
        "type": "link in",
        "z": "e98ae3c9db1bd6c3",
        "g": "4b5255d3994ce0e7",
        "name": "persons not home for 20 hours",
        "links": [
            "3126533b3e0ad552",
            "31fda56ec62032b8",
            "4a93ba39b988072a",
            "9bd1e275ca1ee67b",
            "df677727bba187cf"
        ],
        "x": 265,
        "y": 400,
        "wires": [
            [
                "8fccda12ea75bc0d"
            ]
        ]
    },
    {
        "id": "0f7704d1c7528acc",
        "type": "catch",
        "z": "e98ae3c9db1bd6c3",
        "g": "95801612b48436ea",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 60,
        "wires": [
            [
                "7e874d7b25e6aa2b"
            ]
        ]
    },
    {
        "id": "7e874d7b25e6aa2b",
        "type": "template",
        "z": "e98ae3c9db1bd6c3",
        "g": "95801612b48436ea",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 60,
        "wires": [
            [
                "4bfb0e7b8c5074c7"
            ]
        ]
    },
    {
        "id": "85da6e2bed894b4c",
        "type": "link out",
        "z": "e98ae3c9db1bd6c3",
        "g": "95801612b48436ea",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 675,
        "y": 60,
        "wires": []
    },
    {
        "id": "4bfb0e7b8c5074c7",
        "type": "template",
        "z": "e98ae3c9db1bd6c3",
        "g": "95801612b48436ea",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 60,
        "wires": [
            [
                "9465c383be3e41a7"
            ]
        ]
    },
    {
        "id": "9465c383be3e41a7",
        "type": "function",
        "z": "e98ae3c9db1bd6c3",
        "g": "95801612b48436ea",
        "name": "notify.notification_id",
        "func": "msg.notify.notification_id = Date.now().toString(36) + Math.random().toString(36);\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 550,
        "y": 60,
        "wires": [
            [
                "85da6e2bed894b4c"
            ]
        ]
    },
    {
        "id": "76d0d50d23efdb9f",
        "type": "server-state-changed",
        "z": "e98ae3c9db1bd6c3",
        "g": "7a8d3a38b4738118",
        "name": "vacation mode is on",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "input_boolean.vacation_mode"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": true,
        "stateType": "str",
        "ifState": "on",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 130,
        "y": 880,
        "wires": [
            [
                "7a9e907a7ff3787f"
            ],
            [
                "9176120838cc8707"
            ]
        ]
    },
    {
        "id": "6ff6fee5f298ad50",
        "type": "api-call-service",
        "z": "e98ae3c9db1bd6c3",
        "g": "7a8d3a38b4738118",
        "name": "start timer",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "timer.start",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "timer.next_vacation_light"
        ],
        "labelId": [],
        "data": "{\"duration\":\"00:{{duration_minutes}}:00\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": true,
        "domain": "timer",
        "service": "start",
        "x": 760,
        "y": 880,
        "wires": [
            []
        ]
    },
    {
        "id": "7a9e907a7ff3787f",
        "type": "random",
        "z": "e98ae3c9db1bd6c3",
        "g": "7a8d3a38b4738118",
        "name": "random duration",
        "low": "2",
        "high": "20",
        "inte": "true",
        "property": "duration_minutes",
        "x": 580,
        "y": 880,
        "wires": [
            [
                "6ff6fee5f298ad50"
            ]
        ]
    },
    {
        "id": "92120879d1b3b14f",
        "type": "server-events",
        "z": "e98ae3c9db1bd6c3",
        "g": "7a8d3a38b4738118",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 3,
        "exposeAsEntityConfig": "",
        "eventType": "timer.finished",
        "eventData": "{\"entity_id\":\"timer.next_vacation_light\"}",
        "waitForRunning": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "$outputData(\"eventData\").event_type",
                "valueType": "jsonata"
            }
        ],
        "x": 140,
        "y": 820,
        "wires": [
            [
                "9b8b9d11f21cdd45"
            ]
        ]
    },
    {
        "id": "9b8b9d11f21cdd45",
        "type": "api-current-state",
        "z": "e98ae3c9db1bd6c3",
        "g": "7a8d3a38b4738118",
        "name": "vacation mode is on",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.vacation_mode",
        "state_type": "str",
        "blockInputOverrides": true,
        "outputProperties": [],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 360,
        "y": 820,
        "wires": [
            [
                "7a9e907a7ff3787f",
                "a6d92e69438bab12"
            ],
            []
        ]
    },
    {
        "id": "25e30f9bf7474722",
        "type": "api-call-service",
        "z": "e98ae3c9db1bd6c3",
        "g": "7a8d3a38b4738118",
        "name": "cancel timer",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "timer.cancel",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "timer.next_vacation_light"
        ],
        "labelId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": true,
        "domain": "timer",
        "service": "cancel",
        "x": 770,
        "y": 940,
        "wires": [
            []
        ]
    },
    {
        "id": "1241d27c510cc4db",
        "type": "random",
        "z": "e98ae3c9db1bd6c3",
        "g": "7a8d3a38b4738118",
        "name": "random dim level",
        "low": "20",
        "high": "50",
        "inte": "true",
        "property": "dimlevel",
        "x": 770,
        "y": 820,
        "wires": [
            [
                "00441b952563eaf6"
            ]
        ]
    },
    {
        "id": "00441b952563eaf6",
        "type": "random",
        "z": "e98ae3c9db1bd6c3",
        "g": "7a8d3a38b4738118",
        "name": "random area as integer",
        "low": "1",
        "high": "10",
        "inte": "true",
        "property": "area",
        "x": 990,
        "y": 820,
        "wires": [
            [
                "27701ac42ba72789"
            ]
        ]
    },
    {
        "id": "27701ac42ba72789",
        "type": "switch",
        "z": "e98ae3c9db1bd6c3",
        "g": "7a8d3a38b4738118",
        "name": "area",
        "property": "area",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "2",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "3",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "4",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "5",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "6",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "7",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "8",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "9",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "10",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 10,
        "x": 1170,
        "y": 880,
        "wires": [
            [
                "2d8347e89fc50722"
            ],
            [
                "af72e61dcd8c596c"
            ],
            [
                "5a29eb1e4639dec7"
            ],
            [
                "7654d83ac284bf7e"
            ],
            [
                "d1676ca082b9a9f0"
            ],
            [
                "e8424879dc4b6a54"
            ],
            [
                "573afd1fc7526fc5"
            ],
            [
                "817e4e05bbd7960f"
            ],
            [
                "688bff2b2883ee47"
            ],
            [
                "8b3a1477ad1b4a99"
            ]
        ]
    },
    {
        "id": "a6d92e69438bab12",
        "type": "api-current-state",
        "z": "e98ae3c9db1bd6c3",
        "g": "7a8d3a38b4738118",
        "name": "outdoor is dark",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "binary_sensor.outdoor_daylight",
        "state_type": "str",
        "blockInputOverrides": true,
        "outputProperties": [],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 580,
        "y": 820,
        "wires": [
            [
                "1241d27c510cc4db"
            ],
            []
        ]
    },
    {
        "id": "e8424879dc4b6a54",
        "type": "link out",
        "z": "e98ae3c9db1bd6c3",
        "g": "7a8d3a38b4738118",
        "name": "random trigger for the living room",
        "mode": "link",
        "links": [
            "50300c7b5295e417"
        ],
        "x": 1295,
        "y": 1020,
        "wires": []
    },
    {
        "id": "573afd1fc7526fc5",
        "type": "link out",
        "z": "e98ae3c9db1bd6c3",
        "g": "7a8d3a38b4738118",
        "name": "random trigger for the bathroom",
        "mode": "link",
        "links": [
            "616a3afaca8e38f3"
        ],
        "x": 1295,
        "y": 1060,
        "wires": []
    },
    {
        "id": "817e4e05bbd7960f",
        "type": "link out",
        "z": "e98ae3c9db1bd6c3",
        "g": "7a8d3a38b4738118",
        "name": "random trigger for beau's room",
        "mode": "link",
        "links": [
            "3f3b0ec569d43650"
        ],
        "x": 1295,
        "y": 1100,
        "wires": []
    },
    {
        "id": "688bff2b2883ee47",
        "type": "link out",
        "z": "e98ae3c9db1bd6c3",
        "g": "7a8d3a38b4738118",
        "name": "random trigger for the hallway first floor",
        "mode": "link",
        "links": [
            "8db0025fe57cfee6"
        ],
        "x": 1295,
        "y": 1140,
        "wires": []
    },
    {
        "id": "2d8347e89fc50722",
        "type": "link out",
        "z": "e98ae3c9db1bd6c3",
        "g": "7a8d3a38b4738118",
        "name": "random trigger for backyard",
        "mode": "link",
        "links": [
            "19fce404c5b90b9e"
        ],
        "x": 1295,
        "y": 820,
        "wires": []
    },
    {
        "id": "af72e61dcd8c596c",
        "type": "link out",
        "z": "e98ae3c9db1bd6c3",
        "g": "7a8d3a38b4738118",
        "name": "random trigger for front yard",
        "mode": "link",
        "links": [
            "27f9690f59141f3c"
        ],
        "x": 1295,
        "y": 860,
        "wires": []
    },
    {
        "id": "5a29eb1e4639dec7",
        "type": "link out",
        "z": "e98ae3c9db1bd6c3",
        "g": "7a8d3a38b4738118",
        "name": "random trigger for hallway ground floor",
        "mode": "link",
        "links": [
            "de705346f1cf66e6"
        ],
        "x": 1295,
        "y": 900,
        "wires": []
    },
    {
        "id": "7654d83ac284bf7e",
        "type": "link out",
        "z": "e98ae3c9db1bd6c3",
        "g": "7a8d3a38b4738118",
        "name": "random trigger for the kitchen",
        "mode": "link",
        "links": [
            "6c823cc5114ee3c3"
        ],
        "x": 1295,
        "y": 940,
        "wires": []
    },
    {
        "id": "8b3a1477ad1b4a99",
        "type": "link out",
        "z": "e98ae3c9db1bd6c3",
        "g": "7a8d3a38b4738118",
        "name": "random trigger for lise's room",
        "mode": "link",
        "links": [
            "68dfbc6804cce853"
        ],
        "x": 1295,
        "y": 1180,
        "wires": []
    },
    {
        "id": "d1676ca082b9a9f0",
        "type": "link out",
        "z": "e98ae3c9db1bd6c3",
        "g": "7a8d3a38b4738118",
        "name": "random trigger for the master bedroom",
        "mode": "link",
        "links": [
            "b3a39fe10aabc206"
        ],
        "x": 1295,
        "y": 980,
        "wires": []
    },
    {
        "id": "03f232b3281484b9",
        "type": "api-call-service",
        "z": "e98ae3c9db1bd6c3",
        "g": "0bd39eb8e38fcdf6",
        "name": "turn on vacation mode",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "input_boolean.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_boolean.vacation_mode"
        ],
        "labelId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": true,
        "domain": "input_boolean",
        "service": "turn_on",
        "x": 620,
        "y": 540,
        "wires": [
            []
        ]
    },
    {
        "id": "6655f0c0a32adf9d",
        "type": "api-current-state",
        "z": "e98ae3c9db1bd6c3",
        "g": "0bd39eb8e38fcdf6",
        "name": "vacation mode is off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.vacation_mode",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 400,
        "y": 540,
        "wires": [
            [
                "03f232b3281484b9"
            ],
            []
        ]
    },
    {
        "id": "401ad79dd5eae95e",
        "type": "link in",
        "z": "e98ae3c9db1bd6c3",
        "g": "0bd39eb8e38fcdf6",
        "name": "turn on vacation mode",
        "links": [
            "2a827de158fe0e8f"
        ],
        "x": 265,
        "y": 540,
        "wires": [
            [
                "6655f0c0a32adf9d"
            ]
        ]
    },
    {
        "id": "117d82c6965691d4",
        "type": "comment",
        "z": "e98ae3c9db1bd6c3",
        "g": "0bd39eb8e38fcdf6",
        "name": "turn on vacation mode",
        "info": "",
        "x": 140,
        "y": 500,
        "wires": []
    },
    {
        "id": "7e40b37dd23b398e",
        "type": "server-state-changed",
        "z": "e98ae3c9db1bd6c3",
        "g": "60d46d9527d9df64",
        "name": "trigger vacation mode is on",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "input_boolean.vacation_mode"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": false,
        "stateType": "str",
        "ifState": "on",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 150,
        "y": 220,
        "wires": [
            [
                "8d2edc4de1f46609"
            ],
            [
                "03134b9c9626f88b"
            ]
        ]
    },
    {
        "id": "d5d80da8d6dbde74",
        "type": "comment",
        "z": "e98ae3c9db1bd6c3",
        "g": "60d46d9527d9df64",
        "name": "vacation mode turn on trigger",
        "info": "",
        "x": 160,
        "y": 160,
        "wires": []
    },
    {
        "id": "8d2edc4de1f46609",
        "type": "link out",
        "z": "e98ae3c9db1bd6c3",
        "g": "60d46d9527d9df64",
        "name": "vacation mode turned on",
        "mode": "link",
        "links": [
            "e52ec938192ae703"
        ],
        "x": 295,
        "y": 200,
        "wires": []
    },
    {
        "id": "03134b9c9626f88b",
        "type": "link out",
        "z": "e98ae3c9db1bd6c3",
        "g": "60d46d9527d9df64",
        "name": "vacation mode turned off",
        "mode": "link",
        "links": [
            "e52ec938192ae703"
        ],
        "x": 295,
        "y": 240,
        "wires": []
    },
    {
        "id": "31399773f075b869",
        "type": "server-events",
        "z": "82d5958c73f37c26",
        "g": "fa8b2c549c6198d2",
        "name": "sms recieved",
        "server": "4ba92433.2478cc",
        "version": 3,
        "exposeAsEntityConfig": "",
        "eventType": "sms_recieved",
        "eventData": "",
        "waitForRunning": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "$outputData(\"eventData\").event_type",
                "valueType": "jsonata"
            }
        ],
        "x": 110,
        "y": 240,
        "wires": [
            [
                "4d395d18c0756d47"
            ]
        ]
    },
    {
        "id": "322398b813ae0542",
        "type": "comment",
        "z": "82d5958c73f37c26",
        "g": "fa8b2c549c6198d2",
        "name": "flow the start when a event sms_recieved has been recieved",
        "info": "",
        "x": 260,
        "y": 160,
        "wires": []
    },
    {
        "id": "782dad59eecce1f6",
        "type": "template",
        "z": "82d5958c73f37c26",
        "g": "fa8b2c549c6198d2",
        "name": "icon",
        "field": "notify.icon",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "",
        "output": "str",
        "x": 410,
        "y": 280,
        "wires": [
            [
                "c4b9a270ac6b6551"
            ]
        ]
    },
    {
        "id": "f7b6a832a5096712",
        "type": "template",
        "z": "82d5958c73f37c26",
        "g": "fa8b2c549c6198d2",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "SMS Forwarder",
        "output": "str",
        "x": 410,
        "y": 200,
        "wires": [
            [
                "c4b9a270ac6b6551"
            ]
        ]
    },
    {
        "id": "2e9e2b02c8f4b00b",
        "type": "link out",
        "z": "82d5958c73f37c26",
        "g": "fa8b2c549c6198d2",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "9286a72a2355f5ca",
            "39fe1680119f6b36"
        ],
        "x": 665,
        "y": 240,
        "wires": []
    },
    {
        "id": "c4b9a270ac6b6551",
        "type": "join",
        "z": "82d5958c73f37c26",
        "g": "fa8b2c549c6198d2",
        "name": "",
        "mode": "custom",
        "build": "merged",
        "property": "notify",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "useparts": true,
        "accumulate": false,
        "timeout": "",
        "count": "3",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 570,
        "y": 240,
        "wires": [
            [
                "2e9e2b02c8f4b00b"
            ]
        ]
    },
    {
        "id": "2babd23a398c74fd",
        "type": "template",
        "z": "82d5958c73f37c26",
        "g": "fa8b2c549c6198d2",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Afzender: {{payload.event.from}} \\nBericht: {{{payload.event.message}}}",
        "output": "str",
        "x": 420,
        "y": 240,
        "wires": [
            [
                "c4b9a270ac6b6551"
            ]
        ]
    },
    {
        "id": "e35cad4b3ef71457",
        "type": "catch",
        "z": "82d5958c73f37c26",
        "g": "2fca1ec79ef4fd0f",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 60,
        "wires": [
            [
                "dc11ed7224c9e212"
            ]
        ]
    },
    {
        "id": "dc11ed7224c9e212",
        "type": "template",
        "z": "82d5958c73f37c26",
        "g": "2fca1ec79ef4fd0f",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 60,
        "wires": [
            [
                "df5953f730ed98e5"
            ]
        ]
    },
    {
        "id": "01715f74afb788fa",
        "type": "link out",
        "z": "82d5958c73f37c26",
        "g": "2fca1ec79ef4fd0f",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 675,
        "y": 60,
        "wires": []
    },
    {
        "id": "df5953f730ed98e5",
        "type": "template",
        "z": "82d5958c73f37c26",
        "g": "2fca1ec79ef4fd0f",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 60,
        "wires": [
            [
                "6417fbf071ec5c3b"
            ]
        ]
    },
    {
        "id": "6417fbf071ec5c3b",
        "type": "function",
        "z": "82d5958c73f37c26",
        "g": "2fca1ec79ef4fd0f",
        "name": "notify.notification_id",
        "func": "msg.notify.notification_id = Date.now().toString(36) + Math.random().toString(36);\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 550,
        "y": 60,
        "wires": [
            [
                "01715f74afb788fa"
            ]
        ]
    },
    {
        "id": "1e22588bbe63c367",
        "type": "comment",
        "z": "d9b05fe971d5c1b1",
        "g": "0198e4fba1900d12",
        "name": "turn on guest mode when a calendar item in Lise or Beau contain the words \"past op\"",
        "info": "",
        "x": 330,
        "y": 160,
        "wires": []
    },
    {
        "id": "d2c560378b1b926b",
        "type": "server-state-changed",
        "z": "d9b05fe971d5c1b1",
        "g": "0198e4fba1900d12",
        "name": "calendar event beau",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "calendar.beau"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": true,
        "stateType": "str",
        "ifState": "on",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 130,
        "y": 200,
        "wires": [
            [
                "af07bfce63f231bf"
            ],
            []
        ]
    },
    {
        "id": "daacb8ae6b24ed5b",
        "type": "server-state-changed",
        "z": "d9b05fe971d5c1b1",
        "g": "0198e4fba1900d12",
        "name": "calendar event lise",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "calendar.lise"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": true,
        "stateType": "str",
        "ifState": "on",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 130,
        "y": 260,
        "wires": [
            [
                "af07bfce63f231bf"
            ],
            []
        ]
    },
    {
        "id": "85f675ee7a30451c",
        "type": "catch",
        "z": "d9b05fe971d5c1b1",
        "g": "fe14b17143d5f305",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 60,
        "wires": [
            [
                "3551969ed0c1e37a"
            ]
        ]
    },
    {
        "id": "3551969ed0c1e37a",
        "type": "template",
        "z": "d9b05fe971d5c1b1",
        "g": "fe14b17143d5f305",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 60,
        "wires": [
            [
                "6149bb5f8eb1e0d7"
            ]
        ]
    },
    {
        "id": "337ef9e6426bf90b",
        "type": "link out",
        "z": "d9b05fe971d5c1b1",
        "g": "fe14b17143d5f305",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 675,
        "y": 60,
        "wires": []
    },
    {
        "id": "6149bb5f8eb1e0d7",
        "type": "template",
        "z": "d9b05fe971d5c1b1",
        "g": "fe14b17143d5f305",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 60,
        "wires": [
            [
                "418ebf3d342bb9b0"
            ]
        ]
    },
    {
        "id": "418ebf3d342bb9b0",
        "type": "function",
        "z": "d9b05fe971d5c1b1",
        "g": "fe14b17143d5f305",
        "name": "notify.notification_id",
        "func": "msg.notify.notification_id = Date.now().toString(36) + Math.random().toString(36);\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 550,
        "y": 60,
        "wires": [
            [
                "337ef9e6426bf90b"
            ]
        ]
    },
    {
        "id": "af07bfce63f231bf",
        "type": "switch",
        "z": "d9b05fe971d5c1b1",
        "g": "0198e4fba1900d12",
        "name": "",
        "property": "data.new_state.attributes.message",
        "propertyType": "msg",
        "rules": [
            {
                "t": "cont",
                "v": "past op",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 330,
        "y": 200,
        "wires": [
            [
                "c0ee902736073bfc"
            ]
        ]
    },
    {
        "id": "42e276a02c8ae048",
        "type": "api-call-service",
        "z": "d9b05fe971d5c1b1",
        "g": "0198e4fba1900d12",
        "name": "turn on guest mode",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "input_boolean.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_boolean.guest"
        ],
        "labelId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "input_boolean",
        "service": "turn_on",
        "x": 690,
        "y": 200,
        "wires": [
            []
        ]
    },
    {
        "id": "c0ee902736073bfc",
        "type": "api-current-state",
        "z": "d9b05fe971d5c1b1",
        "g": "0198e4fba1900d12",
        "name": "guest mode is off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.guest",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 490,
        "y": 200,
        "wires": [
            [
                "42e276a02c8ae048"
            ],
            []
        ]
    },
    {
        "id": "42ddeb921e7ac3ac",
        "type": "comment",
        "z": "2a2d89771193fb8b",
        "g": "2eb792ab3efd8194",
        "name": "request location update send to mobile device",
        "info": "",
        "x": 210,
        "y": 160,
        "wires": []
    },
    {
        "id": "249f5902cd409334",
        "type": "api-call-service",
        "z": "2a2d89771193fb8b",
        "g": "2eb792ab3efd8194",
        "name": "notify phone coen",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "notify.mobile_app_phone_coen",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [],
        "labelId": [],
        "data": "{\"message\":\"request_location_update\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "notify",
        "service": "mobile_app_phone_coen",
        "x": 550,
        "y": 200,
        "wires": [
            []
        ]
    },
    {
        "id": "21f329f381fe5581",
        "type": "api-call-service",
        "z": "2a2d89771193fb8b",
        "g": "2eb792ab3efd8194",
        "name": "notify phone anne",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "notify.mobile_app_phone_anne",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [],
        "labelId": [],
        "data": "{\"message\":\"request_location_update\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "notify",
        "service": "mobile_app_phone_anne",
        "x": 550,
        "y": 280,
        "wires": [
            []
        ]
    },
    {
        "id": "6a6520d601185044",
        "type": "catch",
        "z": "2a2d89771193fb8b",
        "g": "71b5f1ba66875171",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 60,
        "wires": [
            [
                "9153c3f34ed4cf4e"
            ]
        ]
    },
    {
        "id": "9153c3f34ed4cf4e",
        "type": "template",
        "z": "2a2d89771193fb8b",
        "g": "71b5f1ba66875171",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 60,
        "wires": [
            [
                "e178716be34b9468"
            ]
        ]
    },
    {
        "id": "ef7470dc94a80ccd",
        "type": "link out",
        "z": "2a2d89771193fb8b",
        "g": "71b5f1ba66875171",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 675,
        "y": 60,
        "wires": []
    },
    {
        "id": "e178716be34b9468",
        "type": "template",
        "z": "2a2d89771193fb8b",
        "g": "71b5f1ba66875171",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 60,
        "wires": [
            [
                "695b74bc6c83ff92"
            ]
        ]
    },
    {
        "id": "695b74bc6c83ff92",
        "type": "function",
        "z": "2a2d89771193fb8b",
        "g": "71b5f1ba66875171",
        "name": "notify.notification_id",
        "func": "msg.notify.notification_id = Date.now().toString(36) + Math.random().toString(36);\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 550,
        "y": 60,
        "wires": [
            [
                "ef7470dc94a80ccd"
            ]
        ]
    },
    {
        "id": "684440651deb45dc",
        "type": "link in",
        "z": "2a2d89771193fb8b",
        "g": "2eb792ab3efd8194",
        "name": "location request to mobile app",
        "links": [
            "3126533b3e0ad552",
            "578f9487e5b636d9",
            "598c87450fe46556",
            "df677727bba187cf"
        ],
        "x": 225,
        "y": 220,
        "wires": [
            [
                "31e88dec2dcdce08",
                "f95baa64b54391a1"
            ]
        ]
    },
    {
        "id": "31e88dec2dcdce08",
        "type": "delay",
        "z": "2a2d89771193fb8b",
        "g": "2eb792ab3efd8194",
        "name": "",
        "pauseType": "rate",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "minute",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": true,
        "allowrate": false,
        "outputs": 1,
        "x": 370,
        "y": 280,
        "wires": [
            [
                "21f329f381fe5581"
            ]
        ]
    },
    {
        "id": "f95baa64b54391a1",
        "type": "delay",
        "z": "2a2d89771193fb8b",
        "g": "2eb792ab3efd8194",
        "name": "",
        "pauseType": "rate",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "minute",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": true,
        "allowrate": false,
        "outputs": 1,
        "x": 370,
        "y": 200,
        "wires": [
            [
                "249f5902cd409334"
            ]
        ]
    },
    {
        "id": "244a53dc130e241e",
        "type": "inject",
        "z": "2a2d89771193fb8b",
        "g": "2eb792ab3efd8194",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "string",
        "payloadType": "str",
        "x": 190,
        "y": 280,
        "wires": [
            [
                "31e88dec2dcdce08",
                "f95baa64b54391a1"
            ]
        ]
    },
    {
        "id": "c20492a470484001",
        "type": "api-call-service",
        "z": "e4381ced98d2a929",
        "g": "7fc6e972a09b862f",
        "name": "start speedtest",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "homeassistant.update_entity",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [],
        "labelId": [],
        "data": "{\"entity_id\":\"sensor.speedtest_download\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "homeassistant",
        "service": "update_entity",
        "x": 420,
        "y": 200,
        "wires": [
            []
        ]
    },
    {
        "id": "f5d785923268c13f",
        "type": "catch",
        "z": "e4381ced98d2a929",
        "g": "56531804b48cab17",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 60,
        "wires": [
            [
                "c8a51450da8a51bb"
            ]
        ]
    },
    {
        "id": "c8a51450da8a51bb",
        "type": "template",
        "z": "e4381ced98d2a929",
        "g": "56531804b48cab17",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 60,
        "wires": [
            [
                "0b923bc1720b32a5"
            ]
        ]
    },
    {
        "id": "72c4b873d76d1aea",
        "type": "link out",
        "z": "e4381ced98d2a929",
        "g": "56531804b48cab17",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 675,
        "y": 60,
        "wires": []
    },
    {
        "id": "0b923bc1720b32a5",
        "type": "template",
        "z": "e4381ced98d2a929",
        "g": "56531804b48cab17",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 60,
        "wires": [
            [
                "8278f950c516cf97"
            ]
        ]
    },
    {
        "id": "8278f950c516cf97",
        "type": "function",
        "z": "e4381ced98d2a929",
        "g": "56531804b48cab17",
        "name": "notify.notification_id",
        "func": "msg.notify.notification_id = Date.now().toString(36) + Math.random().toString(36);\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 550,
        "y": 60,
        "wires": [
            [
                "72c4b873d76d1aea"
            ]
        ]
    },
    {
        "id": "b83170a341a414c1",
        "type": "comment",
        "z": "e4381ced98d2a929",
        "g": "7fc6e972a09b862f",
        "name": "start internet speedtest when sleepmode gets turned on",
        "info": "",
        "x": 240,
        "y": 160,
        "wires": []
    },
    {
        "id": "85bbe6fa44141370",
        "type": "link in",
        "z": "e4381ced98d2a929",
        "g": "7fc6e972a09b862f",
        "name": "trigger internet speedtest",
        "links": [
            "e6b9ff42fde3ea4e"
        ],
        "x": 305,
        "y": 200,
        "wires": [
            [
                "c20492a470484001"
            ]
        ]
    },
    {
        "id": "7e3e4723243d216a",
        "type": "api-call-service",
        "z": "e0e34b3e49b36c0e",
        "g": "b9c7687b999cccd0",
        "name": "set theme light",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "frontend.set_theme",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [],
        "labelId": [],
        "data": "{\"name\":\"google_light_theme\",\"mode\":\"dark\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "frontend",
        "service": "set_theme",
        "x": 360,
        "y": 200,
        "wires": [
            []
        ]
    },
    {
        "id": "8edbcdc648b5d26e",
        "type": "catch",
        "z": "e0e34b3e49b36c0e",
        "g": "e05fc2f16e523b41",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 60,
        "wires": [
            [
                "47e52ab72e9c041c"
            ]
        ]
    },
    {
        "id": "47e52ab72e9c041c",
        "type": "template",
        "z": "e0e34b3e49b36c0e",
        "g": "e05fc2f16e523b41",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 60,
        "wires": [
            [
                "ee907863ab8c5ce0"
            ]
        ]
    },
    {
        "id": "41b174876237d623",
        "type": "link out",
        "z": "e0e34b3e49b36c0e",
        "g": "e05fc2f16e523b41",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 675,
        "y": 60,
        "wires": []
    },
    {
        "id": "ee907863ab8c5ce0",
        "type": "template",
        "z": "e0e34b3e49b36c0e",
        "g": "e05fc2f16e523b41",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 60,
        "wires": [
            [
                "7f2715dc3075a76b"
            ]
        ]
    },
    {
        "id": "7f2715dc3075a76b",
        "type": "function",
        "z": "e0e34b3e49b36c0e",
        "g": "e05fc2f16e523b41",
        "name": "notify.notification_id",
        "func": "msg.notify.notification_id = Date.now().toString(36) + Math.random().toString(36);\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 550,
        "y": 60,
        "wires": [
            [
                "41b174876237d623"
            ]
        ]
    },
    {
        "id": "b28f768263057783",
        "type": "api-call-service",
        "z": "e0e34b3e49b36c0e",
        "g": "b9c7687b999cccd0",
        "name": "set theme dark",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "frontend.set_theme",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [],
        "labelId": [],
        "data": "{\"name\":\"google_dark_theme\",\"mode\":\"dark\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "frontend",
        "service": "set_theme",
        "x": 360,
        "y": 260,
        "wires": [
            []
        ]
    },
    {
        "id": "f3f353ea80fe212c",
        "type": "link in",
        "z": "e0e34b3e49b36c0e",
        "g": "b9c7687b999cccd0",
        "name": "set light theme",
        "links": [
            "31fda56ec62032b8"
        ],
        "x": 245,
        "y": 200,
        "wires": [
            [
                "7e3e4723243d216a"
            ]
        ]
    },
    {
        "id": "3e3dfa9a3068b04b",
        "type": "link in",
        "z": "e0e34b3e49b36c0e",
        "g": "b9c7687b999cccd0",
        "name": "set dark theme",
        "links": [
            "4a93ba39b988072a"
        ],
        "x": 245,
        "y": 260,
        "wires": [
            [
                "b28f768263057783"
            ]
        ]
    },
    {
        "id": "1f4f0bf6621009ca",
        "type": "comment",
        "z": "e0e34b3e49b36c0e",
        "g": "b9c7687b999cccd0",
        "name": "set light or dark theme based on outdoor light sensor",
        "info": "",
        "x": 230,
        "y": 160,
        "wires": []
    },
    {
        "id": "d475de4d462cdd95",
        "type": "http request",
        "z": "51ad1e79edd47f04",
        "g": "8ad65794aaa1a7f1",
        "name": "http request to weeronline.nl",
        "method": "GET",
        "ret": "txt",
        "paytoqs": "ignore",
        "url": "https://www.weeronline.nl/weerbericht-nederland",
        "tls": "",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "",
        "senderr": false,
        "headers": [],
        "x": 540,
        "y": 200,
        "wires": [
            [
                "8c6ea330522a9b56"
            ]
        ]
    },
    {
        "id": "8c6ea330522a9b56",
        "type": "html",
        "z": "51ad1e79edd47f04",
        "g": "8ad65794aaa1a7f1",
        "name": "",
        "property": "payload",
        "outproperty": "messages",
        "tag": "p,h2",
        "ret": "text",
        "as": "single",
        "chr": "",
        "x": 730,
        "y": 200,
        "wires": [
            [
                "e067f2c286459268"
            ]
        ]
    },
    {
        "id": "6a944de957019b5d",
        "type": "comment",
        "z": "51ad1e79edd47f04",
        "g": "8ad65794aaa1a7f1",
        "name": "scrape weeronline.nl in a 15 min interval and put text in a custom sensor",
        "info": "",
        "x": 290,
        "y": 160,
        "wires": []
    },
    {
        "id": "e067f2c286459268",
        "type": "function",
        "z": "51ad1e79edd47f04",
        "g": "8ad65794aaa1a7f1",
        "name": "combine text en titles",
        "func": "// The provided JSON array\nlet jsonArray = msg.messages\n\n// Function to count words\n/**\n* @param {string} s\n*/\nfunction countWords(s) {\n    return s.split(/\\s+/).length;\n}\n\n// Processing the JSON array\nlet resultArray = [];\nlet title = null;\nlet text = \"\";\n\nfor (let i = 0; i < jsonArray.length; i++) {\n    let item = jsonArray[i];\n    if (countWords(item) < 10) {\n        if (title) {\n            resultArray.push(title);\n            if (text) {\n                resultArray.push(text.trim());\n                text = \"\";\n            }\n        }\n        title = item;\n    } else {\n        text += item + \" \";\n    }\n}\n\n// If there is a dangling title or text\nif (title) {\n    resultArray.push(title);\n    if (text) {\n        resultArray.push(text.trim());\n    }\n}\n\nmsg.messages = resultArray;\nreturn msg;\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 900,
        "y": 200,
        "wires": [
            [
                "515e9f714ecc6ca1"
            ]
        ]
    },
    {
        "id": "515e9f714ecc6ca1",
        "type": "function",
        "z": "51ad1e79edd47f04",
        "g": "8ad65794aaa1a7f1",
        "name": "create short message",
        "func": "var text = msg.messages[1];\nvar maxLength = 157;\nvar suffix = \"...\";\n\nif (text.length > maxLength) {\n    msg.messages_short = text.substring(0, maxLength - suffix.length) + suffix;\n} else {\n    msg.messages_short = text;\n}\n\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1120,
        "y": 200,
        "wires": [
            [
                "8c926842f5902705"
            ]
        ]
    },
    {
        "id": "79caca1b2ef5e576",
        "type": "cronplus",
        "z": "51ad1e79edd47f04",
        "g": "8ad65794aaa1a7f1",
        "name": "",
        "outputField": "payload",
        "timeZone": "",
        "storeName": "",
        "commandResponseMsgOutput": "output1",
        "defaultLocation": "",
        "defaultLocationType": "default",
        "outputs": 1,
        "options": [
            {
                "name": "schedule1",
                "topic": "topic1",
                "payloadType": "default",
                "payload": "",
                "expressionType": "cron",
                "expression": "0 */15 * * * *",
                "location": "",
                "offset": "0",
                "solarType": "all",
                "solarEvents": "sunrise,sunset"
            }
        ],
        "x": 160,
        "y": 200,
        "wires": [
            [
                "7a932d0e4a844f60"
            ]
        ]
    },
    {
        "id": "8c926842f5902705",
        "type": "ha-sensor",
        "z": "51ad1e79edd47f04",
        "g": "8ad65794aaa1a7f1",
        "name": "custom_weather_description_01",
        "entityConfig": "dd558d37ebd87d72",
        "version": 0,
        "state": "responseUrl",
        "stateType": "msg",
        "attributes": [
            {
                "property": "header_01",
                "value": "messages[0]",
                "valueType": "msg"
            },
            {
                "property": "msg_01",
                "value": "messages[1]",
                "valueType": "msg"
            },
            {
                "property": "header_02",
                "value": "messages[2]",
                "valueType": "msg"
            },
            {
                "property": "msg_02",
                "value": "messages[3]",
                "valueType": "msg"
            },
            {
                "property": "header_03",
                "value": "messages[4]",
                "valueType": "msg"
            },
            {
                "property": "msg_03",
                "value": "messages[5]",
                "valueType": "msg"
            },
            {
                "property": "header_04",
                "value": "messages[6]",
                "valueType": "msg"
            },
            {
                "property": "msg_04",
                "value": "messages[7]",
                "valueType": "msg"
            },
            {
                "property": "header_05",
                "value": "messages[8]",
                "valueType": "msg"
            },
            {
                "property": "msg_05",
                "value": "messages[9]",
                "valueType": "msg"
            },
            {
                "property": "time",
                "value": "mytime",
                "valueType": "msg"
            },
            {
                "property": "msg_01_short",
                "value": "messages_short",
                "valueType": "msg"
            }
        ],
        "inputOverride": "allow",
        "outputProperties": [],
        "x": 1370,
        "y": 200,
        "wires": [
            []
        ]
    },
    {
        "id": "7a932d0e4a844f60",
        "type": "simpletime",
        "z": "51ad1e79edd47f04",
        "g": "8ad65794aaa1a7f1",
        "name": "",
        "mydate": false,
        "myymd": false,
        "myyear": false,
        "mymonth": false,
        "mymonthn": false,
        "mymonthf": false,
        "mydom": false,
        "mydoy": false,
        "myday": false,
        "mydayf": false,
        "myhourpm": false,
        "myhour": false,
        "mytime": true,
        "mytimes": false,
        "myminute": false,
        "myminutes": false,
        "mysecond": false,
        "mymillis": false,
        "myepoch": false,
        "myrawdate": false,
        "mypm": false,
        "x": 330,
        "y": 200,
        "wires": [
            [
                "d475de4d462cdd95"
            ]
        ]
    },
    {
        "id": "3abda055d8ec7315",
        "type": "inject",
        "z": "51ad1e79edd47f04",
        "g": "8ad65794aaa1a7f1",
        "name": "once at start up",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": "1",
        "topic": "",
        "payload": "start",
        "payloadType": "str",
        "x": 140,
        "y": 260,
        "wires": [
            [
                "7a932d0e4a844f60"
            ]
        ]
    },
    {
        "id": "f65f913dcb9d42d8",
        "type": "catch",
        "z": "51ad1e79edd47f04",
        "g": "5ff6191dae060e1e",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 60,
        "wires": [
            [
                "f7c8ab2106f1ddb3"
            ]
        ]
    },
    {
        "id": "f7c8ab2106f1ddb3",
        "type": "template",
        "z": "51ad1e79edd47f04",
        "g": "5ff6191dae060e1e",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 60,
        "wires": [
            [
                "315e5fb19ecd04f1"
            ]
        ]
    },
    {
        "id": "7ebb2f335fac2686",
        "type": "link out",
        "z": "51ad1e79edd47f04",
        "g": "5ff6191dae060e1e",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 675,
        "y": 60,
        "wires": []
    },
    {
        "id": "315e5fb19ecd04f1",
        "type": "template",
        "z": "51ad1e79edd47f04",
        "g": "5ff6191dae060e1e",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 60,
        "wires": [
            [
                "bad20afc9964dab8"
            ]
        ]
    },
    {
        "id": "bad20afc9964dab8",
        "type": "function",
        "z": "51ad1e79edd47f04",
        "g": "5ff6191dae060e1e",
        "name": "notify.notification_id",
        "func": "msg.notify.notification_id = Date.now().toString(36) + Math.random().toString(36);\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 550,
        "y": 60,
        "wires": [
            [
                "7ebb2f335fac2686"
            ]
        ]
    },
    {
        "id": "4226161bbc5e814e",
        "type": "function",
        "z": "51ad1e79edd47f04",
        "g": "cbf202076fc57efa",
        "name": "setup translation request",
        "func": "var text = msg.payload;\nvar source = \"nl\";\nvar target = \"en\";\n\nmsg.url = `https://api.mymemory.translated.net/get?q=${encodeURIComponent(text)}&langpair=${source}|${target}`;\n\nreturn msg;",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 350,
        "y": 400,
        "wires": [
            [
                "60a83f3d93926307"
            ]
        ]
    },
    {
        "id": "60a83f3d93926307",
        "type": "http request",
        "z": "51ad1e79edd47f04",
        "g": "cbf202076fc57efa",
        "name": "api call",
        "method": "GET",
        "ret": "obj",
        "paytoqs": "ignore",
        "url": "",
        "tls": "",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "",
        "senderr": false,
        "headers": [],
        "x": 540,
        "y": 400,
        "wires": [
            [
                "e2249f97e8ed5340"
            ]
        ]
    },
    {
        "id": "3783939d485f6ea8",
        "type": "server-state-changed",
        "z": "51ad1e79edd47f04",
        "g": "cbf202076fc57efa",
        "name": "knmi weather code",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 1,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "sensor.knmi_weather_code"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": true,
        "stateType": "str",
        "ifState": "",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": false,
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            }
        ],
        "x": 130,
        "y": 400,
        "wires": [
            [
                "4226161bbc5e814e"
            ]
        ]
    },
    {
        "id": "e2249f97e8ed5340",
        "type": "ha-sensor",
        "z": "51ad1e79edd47f04",
        "g": "cbf202076fc57efa",
        "name": "weather code translated",
        "entityConfig": "60731eead34cfb6b",
        "version": 0,
        "state": "payload.responseData.translatedText",
        "stateType": "msg",
        "attributes": [],
        "inputOverride": "allow",
        "outputProperties": [],
        "x": 730,
        "y": 400,
        "wires": [
            []
        ]
    },
    {
        "id": "2aba0979156c56c9",
        "type": "comment",
        "z": "51ad1e79edd47f04",
        "g": "cbf202076fc57efa",
        "name": "translate dutch weather code to english weather code in a custom sensor",
        "info": "",
        "x": 300,
        "y": 360,
        "wires": []
    },
    {
        "id": "2a461ae7f7d76e0e",
        "type": "comment",
        "z": "51ad1e79edd47f04",
        "g": "a6a5f43e0a339220",
        "name": "outdoor temperature with fallback sensors",
        "info": "",
        "x": 200,
        "y": 500,
        "wires": []
    },
    {
        "id": "7911c12266cd5063",
        "type": "inject",
        "z": "51ad1e79edd47f04",
        "g": "a6a5f43e0a339220",
        "name": "every 15 min",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "900",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 140,
        "y": 540,
        "wires": [
            [
                "50ca61b206e9a30b",
                "ba7461b6d0252448",
                "810e9a5202e38ab2"
            ]
        ]
    },
    {
        "id": "50ca61b206e9a30b",
        "type": "api-current-state",
        "z": "51ad1e79edd47f04",
        "g": "a6a5f43e0a339220",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 1,
        "halt_if": "",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "sensor.weather_station_dht_temperature",
        "state_type": "num",
        "blockInputOverrides": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "weather_station_dht_temperature",
                "valueType": "str"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 470,
        "y": 540,
        "wires": [
            [
                "6d741b5d3ea19de5"
            ]
        ]
    },
    {
        "id": "ba7461b6d0252448",
        "type": "api-current-state",
        "z": "51ad1e79edd47f04",
        "g": "a6a5f43e0a339220",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 1,
        "halt_if": "",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "sensor.weather_station_temperature",
        "state_type": "num",
        "blockInputOverrides": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "weather_station_temperature",
                "valueType": "str"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 450,
        "y": 600,
        "wires": [
            [
                "6d741b5d3ea19de5"
            ]
        ]
    },
    {
        "id": "0895bdce96812713",
        "type": "function",
        "z": "51ad1e79edd47f04",
        "g": "a6a5f43e0a339220",
        "name": "outdoor temp with fallbacks",
        "func": "msg.outdoor_temperature = Number(\n  (msg.payload.weather_station_dht_temperature ??\n   msg.payload.weather_station_temperature ??\n   msg.payload.knmi_temperature).toFixed(2)\n);\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 980,
        "y": 540,
        "wires": [
            [
                "12e6ca97465e9a8e"
            ]
        ]
    },
    {
        "id": "810e9a5202e38ab2",
        "type": "api-current-state",
        "z": "51ad1e79edd47f04",
        "g": "a6a5f43e0a339220",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 1,
        "halt_if": "",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "sensor.knmi_temperature",
        "state_type": "num",
        "blockInputOverrides": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "knmi_temperature",
                "valueType": "str"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 420,
        "y": 660,
        "wires": [
            [
                "6d741b5d3ea19de5"
            ]
        ]
    },
    {
        "id": "6d741b5d3ea19de5",
        "type": "join",
        "z": "51ad1e79edd47f04",
        "g": "a6a5f43e0a339220",
        "name": "",
        "mode": "custom",
        "build": "object",
        "property": "payload",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "useparts": false,
        "accumulate": true,
        "timeout": "10",
        "count": "3",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 790,
        "y": 540,
        "wires": [
            [
                "0895bdce96812713"
            ]
        ]
    },
    {
        "id": "12e6ca97465e9a8e",
        "type": "link out",
        "z": "51ad1e79edd47f04",
        "g": "a6a5f43e0a339220",
        "name": "outdoor temperature",
        "mode": "link",
        "links": [
            "fca221061c5bbaec"
        ],
        "x": 1135,
        "y": 540,
        "wires": []
    },
    {
        "id": "3238627b.1b1f0e",
        "type": "switch",
        "z": "98a989e.d6bca78",
        "g": "43b0f453509c788b",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "gt",
                "v": "0",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 270,
        "y": 200,
        "wires": [
            [
                "d99c251f.40c1c8"
            ]
        ]
    },
    {
        "id": "fac5f99c.1b7438",
        "type": "comment",
        "z": "98a989e.d6bca78",
        "g": "43b0f453509c788b",
        "name": "gas notification when nobody is in the house",
        "info": "",
        "x": 210,
        "y": 160,
        "wires": []
    },
    {
        "id": "d99c251f.40c1c8",
        "type": "api-current-state",
        "z": "98a989e.d6bca78",
        "g": "43b0f453509c788b",
        "name": "group persons is not home for 15 minutes",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "not_home",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "group.persons",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "group.persons",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "15",
        "forType": "num",
        "forUnits": "minutes",
        "x": 500,
        "y": 200,
        "wires": [
            [
                "7da2532c.8f20fc"
            ],
            []
        ]
    },
    {
        "id": "7da2532c.8f20fc",
        "type": "api-current-state",
        "z": "98a989e.d6bca78",
        "g": "43b0f453509c788b",
        "name": "guest state is off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.guest",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "gast",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 760,
        "y": 200,
        "wires": [
            [
                "b9f5925e88c3b14b"
            ],
            []
        ]
    },
    {
        "id": "6429429b.d1375c",
        "type": "server-state-changed",
        "z": "98a989e.d6bca78",
        "g": "43b0f453509c788b",
        "name": "gas sensor state",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 1,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "sensor.dsmr_consumption_gas_currently_delivered"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": false,
        "stateType": "num",
        "ifState": "",
        "ifStateType": "num",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 120,
        "y": 200,
        "wires": [
            [
                "3238627b.1b1f0e"
            ]
        ]
    },
    {
        "id": "b9f5925e88c3b14b",
        "type": "link out",
        "z": "98a989e.d6bca78",
        "g": "43b0f453509c788b",
        "name": "gas consumption house unoccupied",
        "mode": "link",
        "links": [
            "0fb528f4c4e21786"
        ],
        "x": 875,
        "y": 200,
        "wires": []
    },
    {
        "id": "f64a5c836b8fbe6c",
        "type": "catch",
        "z": "98a989e.d6bca78",
        "g": "2f5466bb68e79083",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 60,
        "wires": [
            [
                "1d4c38b691aebd50"
            ]
        ]
    },
    {
        "id": "1d4c38b691aebd50",
        "type": "template",
        "z": "98a989e.d6bca78",
        "g": "2f5466bb68e79083",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 60,
        "wires": [
            [
                "6fa3384931d07d39"
            ]
        ]
    },
    {
        "id": "8eb43e206b6bfbfe",
        "type": "link out",
        "z": "98a989e.d6bca78",
        "g": "2f5466bb68e79083",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 675,
        "y": 60,
        "wires": []
    },
    {
        "id": "6fa3384931d07d39",
        "type": "template",
        "z": "98a989e.d6bca78",
        "g": "2f5466bb68e79083",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 60,
        "wires": [
            [
                "6ba30927e6f2c1fb"
            ]
        ]
    },
    {
        "id": "6ba30927e6f2c1fb",
        "type": "function",
        "z": "98a989e.d6bca78",
        "g": "2f5466bb68e79083",
        "name": "notify.notification_id",
        "func": "msg.notify.notification_id = Date.now().toString(36) + Math.random().toString(36);\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 550,
        "y": 60,
        "wires": [
            [
                "8eb43e206b6bfbfe"
            ]
        ]
    },
    {
        "id": "277a8323827b9390",
        "type": "comment",
        "z": "b1b994b3d43d6aad",
        "g": "66409d78dd973e84",
        "name": "send notification when stookalert is on",
        "info": "",
        "x": 190,
        "y": 160,
        "wires": []
    },
    {
        "id": "3c05c027bd8c6081",
        "type": "api-call-service",
        "z": "b1b994b3d43d6aad",
        "g": "66409d78dd973e84",
        "name": " dismiss in app notification",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "persistent_notification.dismiss",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [],
        "labelId": [],
        "data": "{\"notification_id\":\"stookalert\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "persistent_notification",
        "service": "dismiss",
        "x": 350,
        "y": 240,
        "wires": [
            []
        ]
    },
    {
        "id": "e7b37a2bf7a7f071",
        "type": "server-state-changed",
        "z": "b1b994b3d43d6aad",
        "g": "66409d78dd973e84",
        "name": "stookwijzer is red",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "sensor.stookwijzer_advice_code"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": true,
        "stateType": "str",
        "ifState": "code_red",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": false,
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [],
        "x": 120,
        "y": 200,
        "wires": [
            [
                "015fa374fab07308"
            ],
            [
                "3c05c027bd8c6081"
            ]
        ]
    },
    {
        "id": "015fa374fab07308",
        "type": "simpletime",
        "z": "b1b994b3d43d6aad",
        "g": "66409d78dd973e84",
        "name": "",
        "mydate": false,
        "myymd": true,
        "myyear": false,
        "mymonth": false,
        "mymonthn": false,
        "mymonthf": true,
        "mydom": false,
        "mydoy": false,
        "myday": false,
        "mydayf": true,
        "myhourpm": false,
        "myhour": false,
        "mytime": true,
        "mytimes": false,
        "myminute": false,
        "myminutes": false,
        "mysecond": false,
        "mymillis": false,
        "myepoch": false,
        "myrawdate": false,
        "mypm": false,
        "x": 310,
        "y": 200,
        "wires": [
            [
                "9a28b0bc93a10e2b"
            ]
        ]
    },
    {
        "id": "9a28b0bc93a10e2b",
        "type": "link out",
        "z": "b1b994b3d43d6aad",
        "g": "66409d78dd973e84",
        "name": "stookalert",
        "mode": "link",
        "links": [
            "033948d87d6a511d"
        ],
        "x": 415,
        "y": 200,
        "wires": []
    },
    {
        "id": "b4c2b083cf579104",
        "type": "catch",
        "z": "b1b994b3d43d6aad",
        "g": "a33d7f147f4f0c3f",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 60,
        "wires": [
            [
                "9b8b0af42e28d084"
            ]
        ]
    },
    {
        "id": "9b8b0af42e28d084",
        "type": "template",
        "z": "b1b994b3d43d6aad",
        "g": "a33d7f147f4f0c3f",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 60,
        "wires": [
            [
                "ea774130ac42f4de"
            ]
        ]
    },
    {
        "id": "983f2e61079b877c",
        "type": "link out",
        "z": "b1b994b3d43d6aad",
        "g": "a33d7f147f4f0c3f",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 675,
        "y": 60,
        "wires": []
    },
    {
        "id": "ea774130ac42f4de",
        "type": "template",
        "z": "b1b994b3d43d6aad",
        "g": "a33d7f147f4f0c3f",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 60,
        "wires": [
            [
                "956c7163b434ba76"
            ]
        ]
    },
    {
        "id": "956c7163b434ba76",
        "type": "function",
        "z": "b1b994b3d43d6aad",
        "g": "a33d7f147f4f0c3f",
        "name": "notify.notification_id",
        "func": "msg.notify.notification_id = Date.now().toString(36) + Math.random().toString(36);\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 550,
        "y": 60,
        "wires": [
            [
                "983f2e61079b877c"
            ]
        ]
    },
    {
        "id": "f5e288cdc71f88f3",
        "type": "function",
        "z": "edbbe41e31b072c6",
        "name": "action guest mode notification",
        "func": "msg.notify = {\n    message: msg.notify.message || \"Standaard melding\",\n    title: \"Gastmodus\",\n    icon: \"\",\n    action_1_title: \"JA\",\n    action_2_title: \"NEE\",\n    action_1: \"GUEST_MODE_ON\",\n    action_2: \"GUEST_MODE_OFF\",\n    notification_id: msg.notification_id || \"guest_mode\",\n    tag: msg.tag || \"guest_mode\"\n};\n\nreturn msg;\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1010,
        "y": 180,
        "wires": [
            [
                "045a7ae56c00c0e3"
            ]
        ]
    },
    {
        "id": "655e0730464a0cca",
        "type": "comment",
        "z": "edbbe41e31b072c6",
        "name": "action notification to ask if guest mode should be turned on or not when a door gets opened",
        "info": "",
        "x": 550,
        "y": 140,
        "wires": []
    },
    {
        "id": "b978613dcfb6a202",
        "type": "link in",
        "z": "edbbe41e31b072c6",
        "name": "guest mode action",
        "links": [
            "578f9487e5b636d9",
            "598c87450fe46556",
            "8eeed77d329cda19"
        ],
        "x": 265,
        "y": 180,
        "wires": [
            [
                "7c8fbdcd82eafc37"
            ]
        ]
    },
    {
        "id": "7c8fbdcd82eafc37",
        "type": "api-current-state",
        "z": "edbbe41e31b072c6",
        "name": "guest mode is off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.guest",
        "state_type": "str",
        "blockInputOverrides": true,
        "outputProperties": [],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 390,
        "y": 180,
        "wires": [
            [
                "36bc78ac430dab00"
            ],
            []
        ]
    },
    {
        "id": "81771dfd5d9c3019",
        "type": "template",
        "z": "edbbe41e31b072c6",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "De {{data.new_state.attributes.friendly_name}} is geopend en gastmodus is uitgeschakeld. Wil je gastmodus inschakelen?",
        "output": "str",
        "x": 780,
        "y": 180,
        "wires": [
            [
                "f5e288cdc71f88f3"
            ]
        ]
    },
    {
        "id": "36bc78ac430dab00",
        "type": "api-current-state",
        "z": "edbbe41e31b072c6",
        "name": "persons is not home",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "home",
        "halt_if_type": "str",
        "halt_if_compare": "is_not",
        "entity_id": "group.persons",
        "state_type": "str",
        "blockInputOverrides": true,
        "outputProperties": [],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 600,
        "y": 180,
        "wires": [
            [
                "81771dfd5d9c3019"
            ],
            []
        ]
    },
    {
        "id": "84892d93159e82cc",
        "type": "function",
        "z": "edbbe41e31b072c6",
        "name": "action vacation mode notification",
        "func": "msg.notify = {\n    message: msg.notify.message || \"Standaard melding\",\n    title: \"Vakantiemodus\",\n    icon: \"\",\n    action_1_title: \"JA\",\n    action_2_title: \"NEE\",\n    action_1: \"VACATION_MODE_ON\",\n    action_2: \"VACATION_MODE_OFF\",\n    notification_id: msg.notification_id || \"vacation_mode\",\n    tag: msg.tag || \"vacation_mode\"\n};\n\nreturn msg;\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1010,
        "y": 280,
        "wires": [
            [
                "fc963a5972785885"
            ]
        ]
    },
    {
        "id": "715c6e65ec38dcae",
        "type": "template",
        "z": "edbbe41e31b072c6",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Er is niemand thuis, wil je vakantiemodus aanzetten?",
        "output": "str",
        "x": 780,
        "y": 280,
        "wires": [
            [
                "84892d93159e82cc"
            ]
        ]
    },
    {
        "id": "5907dd74d0386ad8",
        "type": "comment",
        "z": "edbbe41e31b072c6",
        "name": "action notification to ask if vacation mode should be turned on or not when a door gets opened",
        "info": "",
        "x": 560,
        "y": 240,
        "wires": []
    },
    {
        "id": "edbceb117f04f41e",
        "type": "link in",
        "z": "edbbe41e31b072c6",
        "name": "vacation mode action",
        "links": [
            "b53dc3ab1408794a"
        ],
        "x": 265,
        "y": 280,
        "wires": [
            [
                "7f8a5bbec56c9729"
            ]
        ]
    },
    {
        "id": "7f8a5bbec56c9729",
        "type": "api-current-state",
        "z": "edbbe41e31b072c6",
        "name": "vacation mode is off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.vacation_mode",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 600,
        "y": 280,
        "wires": [
            [
                "715c6e65ec38dcae"
            ],
            []
        ]
    },
    {
        "id": "adacec4577ff7088",
        "type": "catch",
        "z": "edbbe41e31b072c6",
        "g": "a6ca3985b352649b",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 60,
        "wires": [
            [
                "9211742604c64ed7"
            ]
        ]
    },
    {
        "id": "9211742604c64ed7",
        "type": "template",
        "z": "edbbe41e31b072c6",
        "g": "a6ca3985b352649b",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 60,
        "wires": [
            [
                "fed5d1f7e3e6acce"
            ]
        ]
    },
    {
        "id": "9d9757e80ab98a8d",
        "type": "link out",
        "z": "edbbe41e31b072c6",
        "g": "a6ca3985b352649b",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 675,
        "y": 60,
        "wires": []
    },
    {
        "id": "fed5d1f7e3e6acce",
        "type": "template",
        "z": "edbbe41e31b072c6",
        "g": "a6ca3985b352649b",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 60,
        "wires": [
            [
                "a99e73465d70830d"
            ]
        ]
    },
    {
        "id": "a99e73465d70830d",
        "type": "function",
        "z": "edbbe41e31b072c6",
        "g": "a6ca3985b352649b",
        "name": "notify.notification_id",
        "func": "msg.notify.notification_id = Date.now().toString(36) + Math.random().toString(36);\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 550,
        "y": 60,
        "wires": [
            [
                "9d9757e80ab98a8d"
            ]
        ]
    },
    {
        "id": "881433243b508852",
        "type": "comment",
        "z": "edbbe41e31b072c6",
        "name": "action notification to ask whether the quooker should be turned off or not",
        "info": "",
        "x": 490,
        "y": 320,
        "wires": []
    },
    {
        "id": "4c0c4f7a04828adb",
        "type": "api-current-state",
        "z": "edbbe41e31b072c6",
        "name": "anne is home",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "home",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "person.anne",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 1240,
        "y": 340,
        "wires": [
            [
                "553d066d10da4ed8"
            ],
            []
        ]
    },
    {
        "id": "1e2e667d2ca5d8db",
        "type": "api-current-state",
        "z": "edbbe41e31b072c6",
        "name": "coen is home",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "home",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "person.coen",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 1230,
        "y": 400,
        "wires": [
            [
                "6aeab0bdb74f5a5a"
            ],
            []
        ]
    },
    {
        "id": "4e649357cacf0e36",
        "type": "function",
        "z": "edbbe41e31b072c6",
        "name": "action turn off quooker notification",
        "func": "msg.notify = {\n    message: msg.notify.message || \"Standaard melding\",\n    title: \"Energie besparingstip\",\n    icon: \"\",\n    action_1_title: \"JA\",\n    action_2_title: \"NEE\",\n    action_1: \"QUOOKER_OFF\",\n    action_2: \"QUOOKER_ON\",\n    notification_id: msg.notification_id || \"quooker\",\n    tag: msg.tag || \"quooker\"\n};\n\nreturn msg;\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1000,
        "y": 360,
        "wires": [
            [
                "4c0c4f7a04828adb",
                "1e2e667d2ca5d8db"
            ]
        ]
    },
    {
        "id": "6672bd7f293737f7",
        "type": "link in",
        "z": "edbbe41e31b072c6",
        "name": "quooker off action",
        "links": [
            "7d2e9cbf7edd9b13"
        ],
        "x": 265,
        "y": 360,
        "wires": [
            [
                "2ade38bf7448ea59"
            ]
        ]
    },
    {
        "id": "2ade38bf7448ea59",
        "type": "template",
        "z": "edbbe41e31b072c6",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Wil je de Quooker uitschakelen om onnodig stroomverbruik te voorkomen? Deze wordt morgenochtend weer automatisch ingeschakeld.",
        "output": "str",
        "x": 780,
        "y": 360,
        "wires": [
            [
                "4e649357cacf0e36"
            ]
        ]
    },
    {
        "id": "85765f3a3994ce10",
        "type": "comment",
        "z": "edbbe41e31b072c6",
        "name": "notification when there is a smoke alarm",
        "info": "",
        "x": 390,
        "y": 440,
        "wires": []
    },
    {
        "id": "8a5a42bcd414ac14",
        "type": "link in",
        "z": "edbbe41e31b072c6",
        "name": "notification when smoke is detected",
        "links": [
            "3148196f1704cedc",
            "672b119de53c2e27",
            "91d3958c4f2710ec"
        ],
        "x": 265,
        "y": 480,
        "wires": [
            [
                "999f7943d9c51272"
            ]
        ]
    },
    {
        "id": "999f7943d9c51272",
        "type": "function",
        "z": "edbbe41e31b072c6",
        "name": "messages",
        "func": "msg.notify = {};\nvar defaultMessage = \"De rookmelder gaat af in de \" + msg.room + \"!\";\n\nif (msg.data && msg.data.new_state && msg.data.new_state.entity_id) {\n    if (msg.data.new_state.entity_id.includes(\"test\")) {\n        msg.notify.message = \"Dit is een test melding. \" + defaultMessage\n    } else {\n        msg.notify.message = defaultMessage\n    }\n}\n\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 770,
        "y": 480,
        "wires": [
            [
                "66b51abd268a5c82"
            ]
        ]
    },
    {
        "id": "66b51abd268a5c82",
        "type": "function",
        "z": "edbbe41e31b072c6",
        "name": "smookalarm notification",
        "func": "msg.notify = {\n    message: msg.notify.message || \"Standaard melding\",\n    title: \"Alarm\",\n    icon: \"\",\n    tag: msg.tag || \"firealarm\",\n    notification_id: \"firealarm\",\n    channel: \"Warning\"\n};\n\nreturn msg;\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1030,
        "y": 480,
        "wires": [
            [
                "89e0405cd70f5206"
            ]
        ]
    },
    {
        "id": "52660863d32349d6",
        "type": "function",
        "z": "edbbe41e31b072c6",
        "name": "messages",
        "func": "msg.notify = {};\nvar defaultMessage = \"Er is een koolmonoxide alarm in de \" + msg.room + \", open ramen en deuren!\";\n\nif (msg.data && msg.data.new_state && msg.data.new_state.entity_id) {\n    if (msg.data.new_state.entity_id.includes(\"test\")) {\n        msg.notify.message = \"Dit is een test melding. \" + defaultMessage\n    } else {\n        msg.notify.message = defaultMessage\n    }\n}\n\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 770,
        "y": 560,
        "wires": [
            [
                "a73476e735eaee3a"
            ]
        ]
    },
    {
        "id": "a73476e735eaee3a",
        "type": "function",
        "z": "edbbe41e31b072c6",
        "name": "co alarm notification",
        "func": "msg.notify = {\n    message: msg.notify.message || \"Standaard melding\",\n    title: \"Alarm\",\n    icon: \"\",\n    tag: msg.tag || \"coalarm\",\n    notification_id: \"coalarm\",\n    channel: \"Warning\"\n};\n\nreturn msg;\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1040,
        "y": 560,
        "wires": [
            [
                "2447274b2f6d022c"
            ]
        ]
    },
    {
        "id": "e0da1fd0b9104ded",
        "type": "comment",
        "z": "edbbe41e31b072c6",
        "name": "notification when there is co alarm",
        "info": "",
        "x": 380,
        "y": 520,
        "wires": []
    },
    {
        "id": "38db1827482f1f0d",
        "type": "link in",
        "z": "edbbe41e31b072c6",
        "name": "notification when co is detected",
        "links": [
            "37ba4c61b076e854",
            "63f01d3d2554ca69",
            "828fd828d2b19ea1"
        ],
        "x": 265,
        "y": 560,
        "wires": [
            [
                "52660863d32349d6"
            ]
        ]
    },
    {
        "id": "a72b818e2ea4e683",
        "type": "comment",
        "z": "edbbe41e31b072c6",
        "name": "notification when motion is detected in the backyard",
        "info": "",
        "x": 430,
        "y": 600,
        "wires": []
    },
    {
        "id": "5b3b85aa3c65cacd",
        "type": "function",
        "z": "edbbe41e31b072c6",
        "name": "notification backyard alarm",
        "func": "msg.notify = {\n    message: msg.notify.message || \"Standaard melding\",\n    title: \"Alarm\",\n    icon: \"\",\n    tag: msg.tag || \"backyard_alarm\",\n    notification_id: \"backyard_alarm\",\n    channel: \"Warning\"\n};\n\nreturn msg;\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1020,
        "y": 640,
        "wires": [
            [
                "d102fa7e01420ab4"
            ]
        ]
    },
    {
        "id": "8dde6255fe69f2d0",
        "type": "template",
        "z": "edbbe41e31b072c6",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Beweging in de achtertuin gedetecteerd!\\nWoning beveiliging staat aan.",
        "output": "str",
        "x": 780,
        "y": 640,
        "wires": [
            [
                "5b3b85aa3c65cacd"
            ]
        ]
    },
    {
        "id": "f7e4e6d5930885d8",
        "type": "link in",
        "z": "edbbe41e31b072c6",
        "name": "motion in the backyard detected",
        "links": [
            "f1dc99664448d504"
        ],
        "x": 265,
        "y": 640,
        "wires": [
            [
                "8dde6255fe69f2d0"
            ]
        ]
    },
    {
        "id": "2b2b8d3b147f1db9",
        "type": "function",
        "z": "edbbe41e31b072c6",
        "name": "notification door is open",
        "func": "msg.notify = {\n    message: msg.notify.message || \"Standaard melding\",\n    title: \"Waarschuwing\",\n    icon: \"\",\n    tag: msg.tag || \"door\",\n    notification_id: \"door\",\n};\n\nreturn msg;\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1030,
        "y": 720,
        "wires": [
            [
                "46fe5b3140f097c9"
            ]
        ]
    },
    {
        "id": "61a717e6f2cc7cfe",
        "type": "comment",
        "z": "edbbe41e31b072c6",
        "name": "notification when home is unoccupied en a door left open",
        "info": "",
        "x": 450,
        "y": 680,
        "wires": []
    },
    {
        "id": "2fd301a7c368479b",
        "type": "link in",
        "z": "edbbe41e31b072c6",
        "name": "home is unoccupied and a door left open",
        "links": [
            "03ca3a8a936746bc",
            "8627798aa8717b48"
        ],
        "x": 265,
        "y": 720,
        "wires": [
            [
                "a7a96c3a19925ecc"
            ]
        ]
    },
    {
        "id": "a7a96c3a19925ecc",
        "type": "function",
        "z": "edbbe41e31b072c6",
        "name": "message",
        "func": "msg.notify = {}\nmsg.notify.message = \"Let op de \" + msg.data.attributes.friendly_name.toLowerCase() + \" staat nog open en niemand is thuis.\";\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 780,
        "y": 720,
        "wires": [
            [
                "2b2b8d3b147f1db9"
            ]
        ]
    },
    {
        "id": "4550ba7d908d9886",
        "type": "function",
        "z": "edbbe41e31b072c6",
        "name": "washing machine finished",
        "func": "msg.notify = {\n    message: msg.notify.message || \"Standaard melding\",\n    title: \"Wasmachine\",\n    icon: \"\",\n    tag: msg.tag || \"washing_machine\",\n    notification_id: \"washing_machine\",\n};\n\nreturn msg;\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1030,
        "y": 800,
        "wires": [
            [
                "4b7eeb8450582627"
            ]
        ]
    },
    {
        "id": "96679db36a4a3636",
        "type": "template",
        "z": "edbbe41e31b072c6",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "De wasmachine is klaar.",
        "output": "str",
        "x": 780,
        "y": 800,
        "wires": [
            [
                "4550ba7d908d9886"
            ]
        ]
    },
    {
        "id": "76afa57c6f195b2a",
        "type": "comment",
        "z": "edbbe41e31b072c6",
        "name": "notification when the washing machine is finished",
        "info": "",
        "x": 420,
        "y": 760,
        "wires": []
    },
    {
        "id": "e8a11ce5d5f892f6",
        "type": "link in",
        "z": "edbbe41e31b072c6",
        "name": "washing machine is finished",
        "links": [
            "e0fa9212373d9f12"
        ],
        "x": 265,
        "y": 800,
        "wires": [
            [
                "96679db36a4a3636"
            ]
        ]
    },
    {
        "id": "95286ff3.9f33d",
        "type": "template",
        "z": "edbbe41e31b072c6",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "De droger is klaar.",
        "output": "str",
        "x": 780,
        "y": 880,
        "wires": [
            [
                "5c8718aa00277d09"
            ]
        ]
    },
    {
        "id": "5c8718aa00277d09",
        "type": "function",
        "z": "edbbe41e31b072c6",
        "name": "tumble dryer finished",
        "func": "msg.notify = {\n    message: msg.notify.message || \"Standaard melding\",\n    title: \"Wasdroger\",\n    icon: \"\",\n    tag: msg.tag || \"tumble_dryer\",\n    notification_id: \"tumble_dryer\",\n};\n\nreturn msg;\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1040,
        "y": 880,
        "wires": [
            [
                "cb94648059d3cbe6"
            ]
        ]
    },
    {
        "id": "17dbe51772f24737",
        "type": "link in",
        "z": "edbbe41e31b072c6",
        "name": "tumble dryer is finished",
        "links": [
            "da086cf0dd6cd84f"
        ],
        "x": 265,
        "y": 880,
        "wires": [
            [
                "95286ff3.9f33d"
            ]
        ]
    },
    {
        "id": "8d681b2672bdbd64",
        "type": "comment",
        "z": "edbbe41e31b072c6",
        "name": "notification when the tumble dryer is finished",
        "info": "",
        "x": 410,
        "y": 840,
        "wires": []
    },
    {
        "id": "a3cb25b8be7311f1",
        "type": "template",
        "z": "edbbe41e31b072c6",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Er is aangebeld",
        "output": "str",
        "x": 780,
        "y": 1060,
        "wires": [
            [
                "2df9af4efbf40432"
            ]
        ]
    },
    {
        "id": "408bf22eb7e73f44",
        "type": "comment",
        "z": "edbbe41e31b072c6",
        "name": "notification when the doorbell button is pushed",
        "info": "",
        "x": 410,
        "y": 1020,
        "wires": []
    },
    {
        "id": "332b4739e9d3ed0c",
        "type": "link in",
        "z": "edbbe41e31b072c6",
        "name": "doorbell button pushed",
        "links": [
            "e188c5d43cc22d55"
        ],
        "x": 265,
        "y": 1060,
        "wires": [
            [
                "a3cb25b8be7311f1"
            ]
        ]
    },
    {
        "id": "1071f36b528ed74d",
        "type": "template",
        "z": "edbbe41e31b072c6",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Er is aangebeld en de voordeur is open gedaan.",
        "output": "str",
        "x": 780,
        "y": 1140,
        "wires": [
            [
                "2df9af4efbf40432"
            ]
        ]
    },
    {
        "id": "a3e9edcbf9adf53d",
        "type": "link in",
        "z": "edbbe41e31b072c6",
        "name": "doorbell button pushed and frontdoor opens",
        "links": [
            "4634d81b11ef6062"
        ],
        "x": 265,
        "y": 1140,
        "wires": [
            [
                "1071f36b528ed74d"
            ]
        ]
    },
    {
        "id": "f5a2cd4da9237c58",
        "type": "template",
        "z": "edbbe41e31b072c6",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Er is aangebeld maar de voordeur is niet open gedaan. ",
        "output": "str",
        "x": 780,
        "y": 1220,
        "wires": [
            [
                "2df9af4efbf40432"
            ]
        ]
    },
    {
        "id": "50393fa7869f7eda",
        "type": "link in",
        "z": "edbbe41e31b072c6",
        "name": "doorbell button pushed and frontdoor not openend",
        "links": [
            "1799c27892bbca5d"
        ],
        "x": 265,
        "y": 1220,
        "wires": [
            [
                "f5a2cd4da9237c58"
            ]
        ]
    },
    {
        "id": "033c18722c2af912",
        "type": "link in",
        "z": "edbbe41e31b072c6",
        "name": "doorbell button pushed tts",
        "links": [
            "7249bcd75342e971"
        ],
        "x": 265,
        "y": 1300,
        "wires": [
            [
                "0b5592839e21d40c"
            ]
        ]
    },
    {
        "id": "0b5592839e21d40c",
        "type": "template",
        "z": "edbbe41e31b072c6",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Er is aangebeld",
        "output": "str",
        "x": 780,
        "y": 1300,
        "wires": [
            [
                "f24d90b06375de38"
            ]
        ]
    },
    {
        "id": "f24d90b06375de38",
        "type": "function",
        "z": "edbbe41e31b072c6",
        "name": "doorbell and chime off",
        "func": "msg.notify = {\n    message: msg.notify.message || \"Standaard melding\",\n    title: \"Deurbel\",\n    icon: \"\",\n    tag: msg.tag || \"doorbell\",\n    notification_id: \"doorbell\",\n    channel: \"Doorbell\"\n};\n\nreturn msg;\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1040,
        "y": 1300,
        "wires": [
            [
                "44d4424b2bc54756"
            ]
        ]
    },
    {
        "id": "44d4424b2bc54756",
        "type": "link out",
        "z": "edbbe41e31b072c6",
        "name": "doorbell button pushed chime off",
        "mode": "link",
        "links": [
            "c4660dc11fb0e5b8"
        ],
        "x": 1175,
        "y": 1300,
        "wires": []
    },
    {
        "id": "46fe5b3140f097c9",
        "type": "link out",
        "z": "edbbe41e31b072c6",
        "name": "home unoccupied and is still door open",
        "mode": "link",
        "links": [
            "39fe1680119f6b36",
            "9286a72a2355f5ca",
            "a97f87cfab413716"
        ],
        "x": 1175,
        "y": 720,
        "wires": []
    },
    {
        "id": "d102fa7e01420ab4",
        "type": "link out",
        "z": "edbbe41e31b072c6",
        "name": "home security on and motion in backyard",
        "mode": "link",
        "links": [
            "9286a72a2355f5ca"
        ],
        "x": 1175,
        "y": 640,
        "wires": []
    },
    {
        "id": "045a7ae56c00c0e3",
        "type": "link out",
        "z": "edbbe41e31b072c6",
        "name": "action guest mode notification",
        "mode": "link",
        "links": [
            "c76d311bb4b6991b",
            "d1753081ba6b4004"
        ],
        "x": 1175,
        "y": 180,
        "wires": []
    },
    {
        "id": "fc963a5972785885",
        "type": "link out",
        "z": "edbbe41e31b072c6",
        "name": "vacation mode notification",
        "mode": "link",
        "links": [
            "c76d311bb4b6991b",
            "d1753081ba6b4004"
        ],
        "x": 1175,
        "y": 280,
        "wires": []
    },
    {
        "id": "553d066d10da4ed8",
        "type": "link out",
        "z": "edbbe41e31b072c6",
        "name": "turn off quooker notification to anne",
        "mode": "link",
        "links": [
            "c76d311bb4b6991b"
        ],
        "x": 1355,
        "y": 340,
        "wires": []
    },
    {
        "id": "6aeab0bdb74f5a5a",
        "type": "link out",
        "z": "edbbe41e31b072c6",
        "name": "action guest mode notification to coen",
        "mode": "link",
        "links": [
            "d1753081ba6b4004"
        ],
        "x": 1355,
        "y": 400,
        "wires": []
    },
    {
        "id": "16571d9430f0289f",
        "type": "comment",
        "z": "edbbe41e31b072c6",
        "name": "notification when the doorbell button is pushed and if the front door was openend",
        "info": "",
        "x": 520,
        "y": 1100,
        "wires": []
    },
    {
        "id": "58f79e9107b6816f",
        "type": "comment",
        "z": "edbbe41e31b072c6",
        "name": "notification when the doorbell button is pushed and if the front door was not openend",
        "info": "",
        "x": 530,
        "y": 1180,
        "wires": []
    },
    {
        "id": "9cded93ecd1b6b07",
        "type": "comment",
        "z": "edbbe41e31b072c6",
        "name": "notification when the doorbell button is pushed but chime is off",
        "info": "",
        "x": 460,
        "y": 1260,
        "wires": []
    },
    {
        "id": "03f050e0f3c17ea9",
        "type": "template",
        "z": "edbbe41e31b072c6",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Het alarm gaat af! Woning beveiliging uitschakelen?",
        "output": "str",
        "x": 780,
        "y": 1380,
        "wires": [
            [
                "f374838f4a160fb1"
            ]
        ]
    },
    {
        "id": "f374838f4a160fb1",
        "type": "function",
        "z": "edbbe41e31b072c6",
        "name": "action turn off home security",
        "func": "msg.notify = {\n    message: msg.notify.message || \"Standaard melding\",\n    title: \"Beveiliging\",\n    icon: \"\",\n    action_1_title: \"JA\",\n    action_2_title: \"NEE\",\n    action_1: \"HOME_SECURITY_OFF\",\n    action_2: \"HOME_SECURITY_ON\",\n    notification_id: msg.notification_id || \"home_security\",\n    tag: msg.tag || \"home_security\"\n};\n\nreturn msg;\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1020,
        "y": 1420,
        "wires": [
            [
                "15067d782665c902"
            ]
        ]
    },
    {
        "id": "15067d782665c902",
        "type": "link out",
        "z": "edbbe41e31b072c6",
        "name": "action turn off home security",
        "mode": "link",
        "links": [
            "c76d311bb4b6991b",
            "d1753081ba6b4004"
        ],
        "x": 1175,
        "y": 1420,
        "wires": []
    },
    {
        "id": "16ae8c726b672a12",
        "type": "comment",
        "z": "edbbe41e31b072c6",
        "name": "alarm is on, ask to turn it off home security",
        "info": "",
        "x": 400,
        "y": 1340,
        "wires": []
    },
    {
        "id": "6c97888d4b123c99",
        "type": "link in",
        "z": "edbbe41e31b072c6",
        "name": "alarm is on, ask to turn it off home security",
        "links": [
            "5874beb71c3c9523"
        ],
        "x": 265,
        "y": 1380,
        "wires": [
            [
                "03f050e0f3c17ea9"
            ]
        ]
    },
    {
        "id": "0ec1eaf59c081940",
        "type": "template",
        "z": "edbbe41e31b072c6",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "De {{data.new_state.attributes.friendly_name}} is geopend met woning beveiliging aan. Wil je dit uitschakelen?",
        "output": "str",
        "x": 780,
        "y": 1460,
        "wires": [
            [
                "f374838f4a160fb1"
            ]
        ]
    },
    {
        "id": "47d63ba5b56408a9",
        "type": "comment",
        "z": "edbbe41e31b072c6",
        "name": "notification when a door opens and home security is on",
        "info": "",
        "x": 440,
        "y": 1420,
        "wires": []
    },
    {
        "id": "a9bf6916fed3973b",
        "type": "link in",
        "z": "edbbe41e31b072c6",
        "name": "notification when a door opens and home security is on",
        "links": [
            "04aa475bc955a915",
            "2f3c1ff7754c175f"
        ],
        "x": 265,
        "y": 1460,
        "wires": [
            [
                "0ec1eaf59c081940"
            ]
        ]
    },
    {
        "id": "963a30353cf43bd9",
        "type": "template",
        "z": "edbbe41e31b072c6",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "De {{data.new_state.attributes.friendly_name}} is geopend met beveiliging aan, schakel beveiliging uit in Home Assistant.",
        "output": "str",
        "x": 780,
        "y": 1540,
        "wires": [
            [
                "d004e764e495242a"
            ]
        ]
    },
    {
        "id": "f876d699b9050714",
        "type": "link in",
        "z": "edbbe41e31b072c6",
        "name": "notification for tts when a door opens and home security is on",
        "links": [
            "04aa475bc955a915",
            "2f3c1ff7754c175f"
        ],
        "x": 265,
        "y": 1540,
        "wires": [
            [
                "963a30353cf43bd9"
            ]
        ]
    },
    {
        "id": "6c50630f8866013d",
        "type": "comment",
        "z": "edbbe41e31b072c6",
        "name": "notification for tts when a door opens and home security is on",
        "info": "",
        "x": 460,
        "y": 1500,
        "wires": []
    },
    {
        "id": "d004e764e495242a",
        "type": "link out",
        "z": "edbbe41e31b072c6",
        "name": "notification for tts when a door opens and home security is on",
        "mode": "link",
        "links": [
            "c4660dc11fb0e5b8"
        ],
        "x": 1175,
        "y": 1540,
        "wires": []
    },
    {
        "id": "0a0f2ccde083457b",
        "type": "comment",
        "z": "edbbe41e31b072c6",
        "name": "notifications about ventilation",
        "info": "",
        "x": 360,
        "y": 1580,
        "wires": []
    },
    {
        "id": "01b4d2545d9d93f2",
        "type": "link in",
        "z": "edbbe41e31b072c6",
        "name": "souterrain mechanical ventilation",
        "links": [
            "3074d7a3808bdec0",
            "9516fa80f467b0df",
            "ac8eb8a0e6387131",
            "c38645a953ed6080"
        ],
        "x": 265,
        "y": 1620,
        "wires": [
            [
                "53eee84c0e2af389"
            ]
        ]
    },
    {
        "id": "53eee84c0e2af389",
        "type": "function",
        "z": "edbbe41e31b072c6",
        "name": "souterrain mechanical ventilation",
        "func": "msg.notify = {\n    message: msg.notify.message || \"Standaard melding\",\n    title: \"Ventilatie\",\n    icon: \"\",\n    tag: msg.tag || \"mechanical_ventilation_souterrain\",\n    notification_id: \"mechanical_ventilation_souterrain\",\n    clickAction: \"/dashboard-mobile/climate\"\n};\n\nreturn msg;\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1000,
        "y": 1620,
        "wires": [
            [
                "e0845450e8f79386"
            ]
        ]
    },
    {
        "id": "e0845450e8f79386",
        "type": "link out",
        "z": "edbbe41e31b072c6",
        "name": "souterrain mechanical ventilation",
        "mode": "link",
        "links": [
            "9286a72a2355f5ca",
            "a97f87cfab413716"
        ],
        "x": 1175,
        "y": 1620,
        "wires": []
    },
    {
        "id": "bae3c74f675875a2",
        "type": "function",
        "z": "edbbe41e31b072c6",
        "name": "action turn off robo vacuum timer",
        "func": "msg.notify = {\n    message: msg.notify.message || \"Standaard melding\",\n    title: \"Stofzuiger\",\n    icon: \"\",\n    action_1_title: \"JA\",\n    action_2_title: \"NEE\",\n    action_1: \"ROBOVACUUM_TIMER_PROCEED\",\n    action_2: \"ROBOVACUUM_TIMER_CANCEL\",\n    notification_id: msg.notification_id || \"vacuum\",\n    tag: msg.tag || \"vacuum\"\n};\n\nreturn msg;\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1000,
        "y": 1700,
        "wires": [
            [
                "24d99a768c0554fa"
            ]
        ]
    },
    {
        "id": "24d99a768c0554fa",
        "type": "link out",
        "z": "edbbe41e31b072c6",
        "name": "action turn off vacuum autocleaning",
        "mode": "link",
        "links": [
            "c76d311bb4b6991b",
            "d1753081ba6b4004"
        ],
        "x": 1175,
        "y": 1700,
        "wires": []
    },
    {
        "id": "86f24a287db20768",
        "type": "template",
        "z": "edbbe41e31b072c6",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "De stofzuiger zal over 10 minuten starten. Wil je dit laten doorgaan?",
        "output": "str",
        "x": 780,
        "y": 1700,
        "wires": [
            [
                "bae3c74f675875a2"
            ]
        ]
    },
    {
        "id": "c29ab8d534d30c01",
        "type": "link in",
        "z": "edbbe41e31b072c6",
        "name": "action notification to ask if vacuum cleaning auto mode should be kept on or not",
        "links": [
            "897710e98ead9ae9"
        ],
        "x": 265,
        "y": 1700,
        "wires": [
            [
                "86f24a287db20768"
            ]
        ]
    },
    {
        "id": "abd198133d932461",
        "type": "comment",
        "z": "edbbe41e31b072c6",
        "name": "action notification to ask if vacuum cleaning auto mode should be kept on or not",
        "info": "",
        "x": 520,
        "y": 1660,
        "wires": []
    },
    {
        "id": "c2fad2fc97876614",
        "type": "comment",
        "z": "edbbe41e31b072c6",
        "name": "notfication when robo vacuum started",
        "info": "",
        "x": 390,
        "y": 1740,
        "wires": []
    },
    {
        "id": "4fce1b345992a952",
        "type": "template",
        "z": "edbbe41e31b072c6",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Stofzuiger {{data.attributes.friendly_name}} is gestart.",
        "output": "str",
        "x": 780,
        "y": 1780,
        "wires": [
            [
                "c5c561368b274b3e"
            ]
        ]
    },
    {
        "id": "c5c561368b274b3e",
        "type": "function",
        "z": "edbbe41e31b072c6",
        "name": "robo vacuum",
        "func": "msg.notify = {\n    message: msg.notify.message || \"Standaard melding\",\n    title: \"Stofzuiger\",\n    icon: \"\",\n    tag: msg.tag || \"vacuum\",\n    notification_id: \"vacuum\",\n};\n\nreturn msg;\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1070,
        "y": 1820,
        "wires": [
            [
                "8b7cc78e8ef37d00"
            ]
        ]
    },
    {
        "id": "8b7cc78e8ef37d00",
        "type": "link out",
        "z": "edbbe41e31b072c6",
        "name": "robo vacuum",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 1175,
        "y": 1820,
        "wires": []
    },
    {
        "id": "4ccdadaccbd4ea52",
        "type": "link in",
        "z": "edbbe41e31b072c6",
        "name": "robo vacuum started",
        "links": [
            "802b91dc1295b01b",
            "f98153937c9e15ea"
        ],
        "x": 265,
        "y": 1780,
        "wires": [
            [
                "4fce1b345992a952"
            ]
        ]
    },
    {
        "id": "4c378aa4e2e18538",
        "type": "template",
        "z": "edbbe41e31b072c6",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Stofzuiger {{data.attributes.friendly_name}} kon niet worden gestart.",
        "output": "str",
        "x": 780,
        "y": 1860,
        "wires": [
            [
                "c5c561368b274b3e"
            ]
        ]
    },
    {
        "id": "0130d72771c05665",
        "type": "comment",
        "z": "edbbe41e31b072c6",
        "name": "notification when robo vacuum failed to start",
        "info": "",
        "x": 410,
        "y": 1820,
        "wires": []
    },
    {
        "id": "6bee85cff6c9b778",
        "type": "link in",
        "z": "edbbe41e31b072c6",
        "name": "robo vacuum can't started",
        "links": [
            "24a14ba6071214a0",
            "5f68863131eaf358"
        ],
        "x": 265,
        "y": 1860,
        "wires": [
            [
                "4c378aa4e2e18538"
            ]
        ]
    },
    {
        "id": "9b925acf1b2047c5",
        "type": "comment",
        "z": "edbbe41e31b072c6",
        "name": "notification for tts when vacuum starts in 10 minutes",
        "info": "",
        "x": 430,
        "y": 1900,
        "wires": []
    },
    {
        "id": "dad886f7f594140c",
        "type": "template",
        "z": "edbbe41e31b072c6",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Over 10 minuten start de stofzuiger.",
        "output": "str",
        "x": 780,
        "y": 1940,
        "wires": [
            [
                "6b8a622226855e1c"
            ]
        ]
    },
    {
        "id": "6b8a622226855e1c",
        "type": "link out",
        "z": "edbbe41e31b072c6",
        "name": "notification for tts vacuum start in 10 minutes",
        "mode": "link",
        "links": [
            "c4660dc11fb0e5b8"
        ],
        "x": 1175,
        "y": 1940,
        "wires": []
    },
    {
        "id": "399ebcf702cddc4c",
        "type": "link in",
        "z": "edbbe41e31b072c6",
        "name": "notification for tts when vacuum starts in 10 minutes",
        "links": [
            "897710e98ead9ae9"
        ],
        "x": 265,
        "y": 1940,
        "wires": [
            [
                "dad886f7f594140c"
            ]
        ]
    },
    {
        "id": "660ad7aefdd8236f",
        "type": "comment",
        "z": "edbbe41e31b072c6",
        "name": "notification for garbage collection",
        "info": "",
        "x": 370,
        "y": 2080,
        "wires": []
    },
    {
        "id": "2bfb3a4e435e8246",
        "type": "function",
        "z": "edbbe41e31b072c6",
        "name": "garbage collection",
        "func": "msg.notify = {\n    message: msg.notify.message || \"Standaard melding\",\n    title: \"Afval\",\n    icon: \"\",\n    tag: msg.tag || \"garbage\",\n    notification_id: \"garbage\",\n};\n\nreturn msg;\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1050,
        "y": 2120,
        "wires": [
            [
                "d7e3a3887f5d504a"
            ]
        ]
    },
    {
        "id": "d7e3a3887f5d504a",
        "type": "link out",
        "z": "edbbe41e31b072c6",
        "name": "notification for garbage collection",
        "mode": "link",
        "links": [
            "39fe1680119f6b36",
            "9286a72a2355f5ca"
        ],
        "x": 1175,
        "y": 2120,
        "wires": []
    },
    {
        "id": "76dcb305ba39e083",
        "type": "link in",
        "z": "edbbe41e31b072c6",
        "name": "garbage collection",
        "links": [
            "d8573e32a9ec888f"
        ],
        "x": 265,
        "y": 2120,
        "wires": [
            [
                "2bfb3a4e435e8246"
            ]
        ]
    },
    {
        "id": "b40115c5703533ed",
        "type": "comment",
        "z": "edbbe41e31b072c6",
        "name": "notification when gas usage measured and house is unoccupied",
        "info": "",
        "x": 470,
        "y": 2160,
        "wires": []
    },
    {
        "id": "f485b0f926bced93",
        "type": "template",
        "z": "edbbe41e31b072c6",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Er is {{payload}}m gas gemeten en niemand is aanwezig, controleer of het gas of verwarming is uitgezet.",
        "output": "str",
        "x": 780,
        "y": 2200,
        "wires": [
            [
                "96baba360af695fa"
            ]
        ]
    },
    {
        "id": "96baba360af695fa",
        "type": "function",
        "z": "edbbe41e31b072c6",
        "name": "gas consumption measured",
        "func": "msg.notify = {\n    message: msg.notify.message || \"Standaard melding\",\n    title: \"Waarschuwing\",\n    icon: \"\",\n    tag: msg.tag || \"gas\",\n    notification_id: \"gas\",\n};\n\nreturn msg;\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1020,
        "y": 2200,
        "wires": [
            [
                "483080d20837e868"
            ]
        ]
    },
    {
        "id": "483080d20837e868",
        "type": "link out",
        "z": "edbbe41e31b072c6",
        "name": "gas consumption measured",
        "mode": "link",
        "links": [
            "39fe1680119f6b36",
            "9286a72a2355f5ca"
        ],
        "x": 1175,
        "y": 2200,
        "wires": []
    },
    {
        "id": "0fb528f4c4e21786",
        "type": "link in",
        "z": "edbbe41e31b072c6",
        "name": "gas consumption measured",
        "links": [
            "b9f5925e88c3b14b"
        ],
        "x": 265,
        "y": 2200,
        "wires": [
            [
                "f485b0f926bced93"
            ]
        ]
    },
    {
        "id": "91c03c600ad7f580",
        "type": "comment",
        "z": "edbbe41e31b072c6",
        "name": "notification when there is a stookalert",
        "info": "",
        "x": 380,
        "y": 2240,
        "wires": []
    },
    {
        "id": "48b102061eef4776",
        "type": "template",
        "z": "edbbe41e31b072c6",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Op {{{myymd}}} om {{{mytime}}} heeft het RIVM een stookalert afgegeven, het is raadzaam niet de houtkachel te gebruiken.",
        "output": "str",
        "x": 780,
        "y": 2280,
        "wires": [
            [
                "71c2945cf4ef7b1f"
            ]
        ]
    },
    {
        "id": "71c2945cf4ef7b1f",
        "type": "function",
        "z": "edbbe41e31b072c6",
        "name": "stookalert",
        "func": "msg.notify = {\n    message: msg.notify.message || \"Standaard melding\",\n    title: \"Waarschuwing\",\n    icon: \"\",\n    tag: msg.tag || \"stookalert\",\n    notification_id: \"stookalert\",\n};\n\nreturn msg;\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1080,
        "y": 2280,
        "wires": [
            [
                "d3903da3b2775ffd"
            ]
        ]
    },
    {
        "id": "d3903da3b2775ffd",
        "type": "link out",
        "z": "edbbe41e31b072c6",
        "name": "stookalert",
        "mode": "link",
        "links": [
            "9286a72a2355f5ca",
            "a97f87cfab413716"
        ],
        "x": 1175,
        "y": 2280,
        "wires": []
    },
    {
        "id": "033948d87d6a511d",
        "type": "link in",
        "z": "edbbe41e31b072c6",
        "name": "stookalert",
        "links": [
            "9a28b0bc93a10e2b"
        ],
        "x": 265,
        "y": 2280,
        "wires": [
            [
                "48b102061eef4776"
            ]
        ]
    },
    {
        "id": "bb86ef9c9939267f",
        "type": "template",
        "z": "edbbe41e31b072c6",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "De robotstofzuiger zit vast en heeft hulp nodig.",
        "output": "str",
        "x": 780,
        "y": 2020,
        "wires": [
            [
                "ec4199e06d5c9302"
            ]
        ]
    },
    {
        "id": "04b2eaf46e77c461",
        "type": "comment",
        "z": "edbbe41e31b072c6",
        "name": "robo vacuum error notification",
        "info": "",
        "x": 360,
        "y": 1980,
        "wires": []
    },
    {
        "id": "b8612f57a6f28d94",
        "type": "link in",
        "z": "edbbe41e31b072c6",
        "name": "robo vacuum error notification",
        "links": [
            "ed1e22b58ac9bc7d"
        ],
        "x": 265,
        "y": 2020,
        "wires": [
            [
                "bb86ef9c9939267f"
            ]
        ]
    },
    {
        "id": "ec4199e06d5c9302",
        "type": "function",
        "z": "edbbe41e31b072c6",
        "name": "robo vacuum error",
        "func": "msg.notify = {\n    message: msg.notify.message || \"Standaard melding\",\n    title: \"Stofzuiger\",\n    icon: \"\",\n    tag: msg.tag || \"vacuum\",\n    notification_id: \"vacuum\",\n};\n\nreturn msg;\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1050,
        "y": 2020,
        "wires": [
            [
                "072ee114afd5a910"
            ]
        ]
    },
    {
        "id": "072ee114afd5a910",
        "type": "link out",
        "z": "edbbe41e31b072c6",
        "name": "robo vacuum error",
        "mode": "link",
        "links": [
            "39fe1680119f6b36",
            "9286a72a2355f5ca"
        ],
        "x": 1175,
        "y": 2020,
        "wires": []
    },
    {
        "id": "d60af5e166ac64c7",
        "type": "function",
        "z": "edbbe41e31b072c6",
        "name": "waterflow detection",
        "func": "msg.notify = {\n    message: msg.notify.message || \"Standaard melding\",\n    title: \"Waarschuwing\",\n    icon: \"\",\n    tag: msg.tag || \"waterflow\",\n    notification_id: \"waterflow\",\n};\n\nreturn msg;\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1050,
        "y": 2360,
        "wires": [
            [
                "ac1eddffbc27f46b"
            ]
        ]
    },
    {
        "id": "76b2b2fcd5922030",
        "type": "template",
        "z": "edbbe41e31b072c6",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Er is water verbruik gedetecteerd, niemand is aanwezig in huis en apparaten die water verbruiken staan uit!",
        "output": "str",
        "x": 780,
        "y": 2360,
        "wires": [
            [
                "d60af5e166ac64c7"
            ]
        ]
    },
    {
        "id": "bc908d1405bda7ea",
        "type": "link in",
        "z": "edbbe41e31b072c6",
        "name": "waterflow detected but machines are off",
        "links": [
            "d2e4e2820280beb3"
        ],
        "x": 265,
        "y": 2360,
        "wires": [
            [
                "76b2b2fcd5922030"
            ]
        ]
    },
    {
        "id": "ac1eddffbc27f46b",
        "type": "link out",
        "z": "edbbe41e31b072c6",
        "name": "waterflow detected but machines are off",
        "mode": "link",
        "links": [
            "39fe1680119f6b36",
            "9286a72a2355f5ca"
        ],
        "x": 1175,
        "y": 2360,
        "wires": []
    },
    {
        "id": "508f2e698b714ccf",
        "type": "comment",
        "z": "edbbe41e31b072c6",
        "name": "notification when waterflow is detected but machines that can use water are all off",
        "info": "",
        "x": 520,
        "y": 2320,
        "wires": []
    },
    {
        "id": "a9f9a29ffe382686",
        "type": "comment",
        "z": "edbbe41e31b072c6",
        "name": "notification ask to turn off the doorbell when beau is going to sleep",
        "info": "",
        "x": 470,
        "y": 2400,
        "wires": []
    },
    {
        "id": "f500a2847c7555f6",
        "type": "template",
        "z": "edbbe41e31b072c6",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Het lijkt er op dat Beau gaat slapen, wil je het geluid van de deurbel uitschakelen?",
        "output": "str",
        "x": 780,
        "y": 2440,
        "wires": [
            [
                "63dbcb148aeda163"
            ]
        ]
    },
    {
        "id": "63dbcb148aeda163",
        "type": "function",
        "z": "edbbe41e31b072c6",
        "name": "action turn off doorbell",
        "func": "msg.notify = {\n    message: msg.notify.message || \"Standaard melding\",\n    title: \"Deurbel\",\n    icon: \"\",\n    action_1_title: \"JA\",\n    action_2_title: \"NEE\",\n    action_1: \"DOORBELL_OFF\",\n    action_2: \"DOORBELL_ON\",\n    notification_id: msg.notification_id || \"doorbell\",\n    tag: msg.tag || \"doorbell\"\n};\n\nreturn msg;\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1040,
        "y": 2440,
        "wires": [
            [
                "c355344b268bd367",
                "0957081d56470bf3"
            ]
        ]
    },
    {
        "id": "c355344b268bd367",
        "type": "api-current-state",
        "z": "edbbe41e31b072c6",
        "name": "anne is home",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "home",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "person.anne",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 1240,
        "y": 2420,
        "wires": [
            [
                "928f0b56ca28a02d"
            ],
            []
        ]
    },
    {
        "id": "0957081d56470bf3",
        "type": "api-current-state",
        "z": "edbbe41e31b072c6",
        "name": "coen is home",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "home",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "person.coen",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 1230,
        "y": 2480,
        "wires": [
            [
                "343450b32ed629d0"
            ],
            []
        ]
    },
    {
        "id": "928f0b56ca28a02d",
        "type": "link out",
        "z": "edbbe41e31b072c6",
        "name": "action turn off doorbell",
        "mode": "link",
        "links": [
            "c76d311bb4b6991b"
        ],
        "x": 1355,
        "y": 2420,
        "wires": []
    },
    {
        "id": "343450b32ed629d0",
        "type": "link out",
        "z": "edbbe41e31b072c6",
        "name": "action turn off doorbell",
        "mode": "link",
        "links": [
            "d1753081ba6b4004"
        ],
        "x": 1355,
        "y": 2480,
        "wires": []
    },
    {
        "id": "752ae636e2c65165",
        "type": "link in",
        "z": "edbbe41e31b072c6",
        "name": "action turn off doorbell",
        "links": [
            "3de7619c5f6c6ecd"
        ],
        "x": 265,
        "y": 2440,
        "wires": [
            [
                "f500a2847c7555f6"
            ]
        ]
    },
    {
        "id": "e67b6285f7594838",
        "type": "template",
        "z": "edbbe41e31b072c6",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Het lijkt er op dat Beau wakker is, wil je het geluid van de deurbel weer aanzetten?",
        "output": "str",
        "x": 780,
        "y": 2540,
        "wires": [
            [
                "543242cb6caf2ab6"
            ]
        ]
    },
    {
        "id": "1e0f87e0dde4ea92",
        "type": "comment",
        "z": "edbbe41e31b072c6",
        "name": "notification ask to turn on the doorbell when beau is awake",
        "info": "",
        "x": 450,
        "y": 2500,
        "wires": []
    },
    {
        "id": "543242cb6caf2ab6",
        "type": "function",
        "z": "edbbe41e31b072c6",
        "name": "action turn off doorbell",
        "func": "msg.notify = {\n    message: msg.notify.message || \"Standaard melding\",\n    title: \"Deurbel\",\n    icon: \"\",\n    action_1_title: \"JA\",\n    action_2_title: \"NEE\",\n    action_1: \"DOORBELL_ON\",\n    action_2: \"DOORBELL_OFF\",\n    notification_id: msg.notification_id || \"doorbell\",\n    tag: msg.tag || \"doorbell\"\n};\n\nreturn msg;\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1040,
        "y": 2540,
        "wires": [
            [
                "80a4b54a5768f98d"
            ]
        ]
    },
    {
        "id": "bfce7901357f4ed7",
        "type": "link in",
        "z": "edbbe41e31b072c6",
        "name": "action turn on doorbell",
        "links": [
            "1f0fe76c488b32e7"
        ],
        "x": 265,
        "y": 2540,
        "wires": [
            [
                "e67b6285f7594838"
            ]
        ]
    },
    {
        "id": "80a4b54a5768f98d",
        "type": "link out",
        "z": "edbbe41e31b072c6",
        "name": "action turn on doorbell",
        "mode": "link",
        "links": [
            "c76d311bb4b6991b",
            "d1753081ba6b4004"
        ],
        "x": 1175,
        "y": 2540,
        "wires": []
    },
    {
        "id": "2df9af4efbf40432",
        "type": "function",
        "z": "edbbe41e31b072c6",
        "name": "doorbell / frontdoor",
        "func": "msg.notify = {\n    message: msg.notify.message || \"Standaard melding\",\n    title: \"Deurbel\",\n    image: msg.snapshotUrl,\n    icon: \"\",\n    tag: msg.tag || \"doorbell\",\n    when: msg.payload.after.start_time,\n    notification_id: \"doorbell\",\n    clickAction: \"/dashboard-mobile/camera\",\n    channel: \"Doorbell\",\n    importance: \"high\"\n};\n\nreturn msg;\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1050,
        "y": 1140,
        "wires": [
            [
                "752dd6dc72bedb27"
            ]
        ]
    },
    {
        "id": "6be0825265a11abc",
        "type": "comment",
        "z": "edbbe41e31b072c6",
        "name": "notification on tv when phone is offhook, person is home and tv is playing",
        "info": "",
        "x": 500,
        "y": 2580,
        "wires": []
    },
    {
        "id": "a7c22d1c1f3f9f7e",
        "type": "template",
        "z": "edbbe41e31b072c6",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "TV gepauseerd i.v.m. telefoongesprek.",
        "output": "str",
        "x": 780,
        "y": 2620,
        "wires": [
            [
                "d8a4ba9ae3cd9b55"
            ]
        ]
    },
    {
        "id": "d8a4ba9ae3cd9b55",
        "type": "function",
        "z": "edbbe41e31b072c6",
        "name": "pause tv on phone call",
        "func": "msg.notify = {\n    message: msg.notify.message || \"Standaard melding\",\n    title: \"Entertainment\",\n    icon: \"\",\n    tag: msg.tag || \"pause_entertainment\",\n    notification_id: \"pause_entertainment\",\n};\n\nreturn msg;\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1040,
        "y": 2620,
        "wires": [
            [
                "1d24b076d3c0a747"
            ]
        ]
    },
    {
        "id": "cb94648059d3cbe6",
        "type": "link out",
        "z": "edbbe41e31b072c6",
        "name": "tumble dryer finished",
        "mode": "link",
        "links": [
            "39fe1680119f6b36",
            "9286a72a2355f5ca",
            "c13b2b4d87067c17",
            "c4660dc11fb0e5b8"
        ],
        "x": 1175,
        "y": 880,
        "wires": []
    },
    {
        "id": "752dd6dc72bedb27",
        "type": "link out",
        "z": "edbbe41e31b072c6",
        "name": "doorbell button pushed and/or door openend/not openend",
        "mode": "link",
        "links": [
            "39fe1680119f6b36",
            "9286a72a2355f5ca",
            "a97f87cfab413716",
            "c13b2b4d87067c17"
        ],
        "x": 1175,
        "y": 1140,
        "wires": []
    },
    {
        "id": "4b7eeb8450582627",
        "type": "link out",
        "z": "edbbe41e31b072c6",
        "name": "washing machine finished",
        "mode": "link",
        "links": [
            "39fe1680119f6b36",
            "9286a72a2355f5ca",
            "c13b2b4d87067c17",
            "c4660dc11fb0e5b8"
        ],
        "x": 1175,
        "y": 800,
        "wires": []
    },
    {
        "id": "2447274b2f6d022c",
        "type": "link out",
        "z": "edbbe41e31b072c6",
        "name": "co alarm",
        "mode": "link",
        "links": [
            "39fe1680119f6b36",
            "9286a72a2355f5ca",
            "a97f87cfab413716",
            "c13b2b4d87067c17",
            "c4660dc11fb0e5b8"
        ],
        "x": 1175,
        "y": 560,
        "wires": []
    },
    {
        "id": "89e0405cd70f5206",
        "type": "link out",
        "z": "edbbe41e31b072c6",
        "name": "smoke alarm",
        "mode": "link",
        "links": [
            "39fe1680119f6b36",
            "9286a72a2355f5ca",
            "a97f87cfab413716",
            "c13b2b4d87067c17",
            "c4660dc11fb0e5b8"
        ],
        "x": 1175,
        "y": 480,
        "wires": []
    },
    {
        "id": "1d24b076d3c0a747",
        "type": "link out",
        "z": "edbbe41e31b072c6",
        "name": "notification on tv when phone is offhook, person is home and tv is playing",
        "mode": "link",
        "links": [
            "c13b2b4d87067c17"
        ],
        "x": 1175,
        "y": 2620,
        "wires": []
    },
    {
        "id": "72b9b335e9a56383",
        "type": "link in",
        "z": "edbbe41e31b072c6",
        "name": "notification on tv when phone is offhook, person is home and tv is playing",
        "links": [
            "2024b0143896ad22"
        ],
        "x": 265,
        "y": 2620,
        "wires": [
            [
                "a7c22d1c1f3f9f7e"
            ]
        ]
    },
    {
        "id": "5b0cf7cc21c032a5",
        "type": "template",
        "z": "edbbe41e31b072c6",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Er is een nieuw zonne-energie dagrecord gemeten vandaag.\\n\\nOud: {{data.state}} {{data.attributes.unit_of_measurement}} op {{data.attributes.date}}\\nNieuw: {{payload.value}} {{data.attributes.unit_of_measurement}} op {{date}}",
        "output": "str",
        "x": 780,
        "y": 2700,
        "wires": [
            [
                "aebeb16369164c25"
            ]
        ]
    },
    {
        "id": "2ff9a01a5ff86990",
        "type": "comment",
        "z": "edbbe41e31b072c6",
        "name": "notification when a new daily solar production record has been measured",
        "info": "",
        "x": 500,
        "y": 2660,
        "wires": []
    },
    {
        "id": "8e2685f9514584d0",
        "type": "link in",
        "z": "edbbe41e31b072c6",
        "name": "notification when a new daily solar production record has been measured",
        "links": [
            "1b535e9dd4a2bc7f"
        ],
        "x": 265,
        "y": 2700,
        "wires": [
            [
                "5b0cf7cc21c032a5"
            ]
        ]
    },
    {
        "id": "aebeb16369164c25",
        "type": "function",
        "z": "edbbe41e31b072c6",
        "name": "solar production record",
        "func": "msg.notify = {\n    message: msg.notify.message || \"Standaard melding\",\n    title: \"Zonne-energie\",\n    icon: \"\",\n    tag: msg.tag || \"solar_record\",\n    notification_id: \"solar_record\",\n};\n\nreturn msg;\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1040,
        "y": 2700,
        "wires": [
            [
                "66f884599eab8c68"
            ]
        ]
    },
    {
        "id": "66f884599eab8c68",
        "type": "link out",
        "z": "edbbe41e31b072c6",
        "name": "notification when a new daily solar production record has been measured",
        "mode": "link",
        "links": [
            "39fe1680119f6b36",
            "9286a72a2355f5ca"
        ],
        "x": 1175,
        "y": 2700,
        "wires": []
    },
    {
        "id": "48b336393876098d",
        "type": "comment",
        "z": "edbbe41e31b072c6",
        "name": "notification with snapshot when the doorbell button is pushed",
        "info": "",
        "x": 460,
        "y": 920,
        "wires": []
    },
    {
        "id": "f701c5df9212e0b7",
        "type": "link in",
        "z": "edbbe41e31b072c6",
        "name": "notification with snapshot when the doorbell button is pushed",
        "links": [],
        "x": 265,
        "y": 960,
        "wires": [
            [
                "17835c5950eeaf65"
            ]
        ]
    },
    {
        "id": "17835c5950eeaf65",
        "type": "template",
        "z": "edbbe41e31b072c6",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Er is aangebeld",
        "output": "str",
        "x": 780,
        "y": 960,
        "wires": [
            [
                "6949c4845dd006c8"
            ]
        ]
    },
    {
        "id": "6949c4845dd006c8",
        "type": "function",
        "z": "edbbe41e31b072c6",
        "name": "doorbell / frontdoor snapshot",
        "func": "msg.notify = {\n    message: msg.notify.message || \"Standaard melding\",\n    title: \"Deurbel\",\n    icon: \"\",\n    tag: msg.tag || \"doorbell\",\n    notification_id: \"doorbell\",\n    channel: \"Doorbell\"\n};\n\nreturn msg;\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1020,
        "y": 960,
        "wires": [
            [
                "479065619476c62e"
            ]
        ]
    },
    {
        "id": "479065619476c62e",
        "type": "link out",
        "z": "edbbe41e31b072c6",
        "name": "notification with snapshot when the doorbell button is pushed",
        "mode": "link",
        "links": [],
        "x": 1175,
        "y": 960,
        "wires": []
    },
    {
        "id": "29b13526376dcb6a",
        "type": "comment",
        "z": "edbbe41e31b072c6",
        "name": "send a notification with a snapshot when a person is detected on the camera in the backyard",
        "info": "",
        "x": 560,
        "y": 2740,
        "wires": []
    },
    {
        "id": "e2f0e803e1b2bf10",
        "type": "link in",
        "z": "edbbe41e31b072c6",
        "name": "send a notification with a snapshot when a person is detected on the camera in the backyard",
        "links": [
            "a8fd84d44c1f3b89"
        ],
        "x": 265,
        "y": 2780,
        "wires": [
            [
                "5592a1cde94bd608"
            ]
        ]
    },
    {
        "id": "7d0724b78f994049",
        "type": "link out",
        "z": "edbbe41e31b072c6",
        "name": "send a notification with a snapshot when a person is detected on the camera in the backyard",
        "mode": "link",
        "links": [
            "9286a72a2355f5ca"
        ],
        "x": 1175,
        "y": 2780,
        "wires": []
    },
    {
        "id": "5592a1cde94bd608",
        "type": "template",
        "z": "edbbe41e31b072c6",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Een persoon is in de achtertuin gedetecteerd.",
        "output": "str",
        "x": 780,
        "y": 2780,
        "wires": [
            [
                "54685e29c28146c6"
            ]
        ]
    },
    {
        "id": "54685e29c28146c6",
        "type": "function",
        "z": "edbbe41e31b072c6",
        "name": "snapshot notification",
        "func": "msg.notify = {\n    message: msg.notify.message || \"Standaard melding\",\n    title: \"Waarschuwing\",\n    image: msg.snapshotUrl,\n    icon: \"\",\n    tag: msg.payload.after.id,\n    when: msg.payload.after.start_time,\n    notification_id: msg.payload.after.id,\n    clickAction: \"/dashboard-mobile/camera\",\n    channel: \"Warning\",\n    importance: \"high\"\n};\n\nreturn msg;\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1040,
        "y": 2780,
        "wires": [
            [
                "7d0724b78f994049"
            ]
        ]
    },
    {
        "id": "3675d2d1160c6b61",
        "type": "api-call-service",
        "z": "3611a09f77ab1873",
        "name": "notify two actions coen",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "notify.mobile_app_phone_coen",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [],
        "labelId": [],
        "data": "{\"message\":\"{{notify.message}}\",\"title\":\"{{notify.title}}\",\"data\":{\"tag\":\"{{notify.tag}}\",\"actions\":[{\"action\":\"{{notify.action_1}}\",\"title\":\"{{notify.action_1_title}}\",\"icon\":\"{{notify.icon}}\"},{\"action\":\"{{notify.action_2}}\",\"title\":\"{{notify.action_2_title}}\",\"icon\":\"{{notify.icon}}\"}]}}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "notify",
        "service": "mobile_app_phone_coen",
        "x": 440,
        "y": 200,
        "wires": [
            []
        ]
    },
    {
        "id": "d1753081ba6b4004",
        "type": "link in",
        "z": "3611a09f77ab1873",
        "name": "notify_two_actions_coen",
        "links": [
            "045a7ae56c00c0e3",
            "fc963a5972785885",
            "6aeab0bdb74f5a5a",
            "15067d782665c902",
            "24d99a768c0554fa",
            "343450b32ed629d0",
            "80a4b54a5768f98d"
        ],
        "x": 295,
        "y": 200,
        "wires": [
            [
                "3675d2d1160c6b61"
            ]
        ]
    },
    {
        "id": "4fcaf3396f8becf4",
        "type": "catch",
        "z": "3611a09f77ab1873",
        "g": "523697d9c61e3978",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 60,
        "wires": [
            [
                "da4f62d21506a22b"
            ]
        ]
    },
    {
        "id": "da4f62d21506a22b",
        "type": "template",
        "z": "3611a09f77ab1873",
        "g": "523697d9c61e3978",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 60,
        "wires": [
            [
                "a09b9cc0605aa974"
            ]
        ]
    },
    {
        "id": "bb7462e22b7f56fd",
        "type": "link out",
        "z": "3611a09f77ab1873",
        "g": "523697d9c61e3978",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 675,
        "y": 60,
        "wires": []
    },
    {
        "id": "a09b9cc0605aa974",
        "type": "template",
        "z": "3611a09f77ab1873",
        "g": "523697d9c61e3978",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 60,
        "wires": [
            [
                "05e6562cb4e7cfb4"
            ]
        ]
    },
    {
        "id": "05e6562cb4e7cfb4",
        "type": "function",
        "z": "3611a09f77ab1873",
        "g": "523697d9c61e3978",
        "name": "notify.notification_id",
        "func": "msg.notify.notification_id = Date.now().toString(36) + Math.random().toString(36);\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 550,
        "y": 60,
        "wires": [
            [
                "bb7462e22b7f56fd"
            ]
        ]
    },
    {
        "id": "c76d311bb4b6991b",
        "type": "link in",
        "z": "3611a09f77ab1873",
        "name": "notify_two_actions_anne",
        "links": [
            "045a7ae56c00c0e3",
            "fc963a5972785885",
            "553d066d10da4ed8",
            "15067d782665c902",
            "24d99a768c0554fa",
            "928f0b56ca28a02d",
            "80a4b54a5768f98d"
        ],
        "x": 295,
        "y": 260,
        "wires": [
            [
                "7e56e31c0145c7b4"
            ]
        ]
    },
    {
        "id": "7e56e31c0145c7b4",
        "type": "api-call-service",
        "z": "3611a09f77ab1873",
        "name": "notify two actions anne",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "notify.mobile_app_phone_anne",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [],
        "labelId": [],
        "data": "{\"message\":\"{{notify.message}}\",\"title\":\"{{notify.title}}\",\"data\":{\"tag\":\"{{notify.tag}}\",\"actions\":[{\"action\":\"{{notify.action_1}}\",\"title\":\"{{notify.action_1_title}}\",\"icon\":\"{{notify.icon}}\"},{\"action\":\"{{notify.action_2}}\",\"title\":\"{{notify.action_2_title}}\",\"icon\":\"{{notify.icon}}\"}]}}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "notify",
        "service": "mobile_app_phone_anne",
        "x": 440,
        "y": 260,
        "wires": [
            []
        ]
    },
    {
        "id": "cde68a0570296dd3",
        "type": "api-call-service",
        "z": "3611a09f77ab1873",
        "name": "notify coen",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "notify.mobile_app_phone_coen",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [],
        "labelId": [],
        "data": "{\"message\":\"{{notify.message}}\",\"title\":\"{{notify.title}}\",\"data\":{\"vibrationPattern\":\"{{notify.vibrationPattern}}\",\"channel\":\"{{notify.channel}}\",\"tag\":\"{{notify.tag}}\",\"clickAction\":\"{{notify.clickAction}}\",\"importance\":\"{{notify.importance}}\",\"when\":\"{{notify.when}}\",\"icon\":\"{{notify.icon}}\",\"image\":\"{{{notify.image}}}\"}}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "notify",
        "service": "mobile_app_phone_coen",
        "x": 410,
        "y": 320,
        "wires": [
            []
        ]
    },
    {
        "id": "9286a72a2355f5ca",
        "type": "link in",
        "z": "3611a09f77ab1873",
        "name": "notify_coen",
        "links": [
            "2c0a57bd6ee87009",
            "17c484a9c9a917ac",
            "2e9e2b02c8f4b00b",
            "8e10f7084a1fb496",
            "7776b1f9419bbd45",
            "752dd6dc72bedb27",
            "cb94648059d3cbe6",
            "4b7eeb8450582627",
            "46fe5b3140f097c9",
            "d102fa7e01420ab4",
            "2447274b2f6d022c",
            "89e0405cd70f5206",
            "e0845450e8f79386",
            "d7e3a3887f5d504a",
            "483080d20837e868",
            "d3903da3b2775ffd",
            "072ee114afd5a910",
            "ac1eddffbc27f46b",
            "66f884599eab8c68",
            "7d0724b78f994049"
        ],
        "x": 295,
        "y": 320,
        "wires": [
            [
                "cde68a0570296dd3"
            ]
        ]
    },
    {
        "id": "39fe1680119f6b36",
        "type": "link in",
        "z": "3611a09f77ab1873",
        "name": "notify_anne",
        "links": [
            "2e9e2b02c8f4b00b",
            "cb94648059d3cbe6",
            "4b7eeb8450582627",
            "46fe5b3140f097c9",
            "2447274b2f6d022c",
            "89e0405cd70f5206",
            "d7e3a3887f5d504a",
            "483080d20837e868",
            "072ee114afd5a910",
            "ac1eddffbc27f46b",
            "66f884599eab8c68",
            "752dd6dc72bedb27"
        ],
        "x": 295,
        "y": 380,
        "wires": [
            [
                "514c912f7a170790"
            ]
        ]
    },
    {
        "id": "514c912f7a170790",
        "type": "api-call-service",
        "z": "3611a09f77ab1873",
        "name": "notify anne",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "notify.mobile_app_phone_anne",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [],
        "labelId": [],
        "data": "{\"message\":\"{{notify.message}}\",\"title\":\"{{notify.title}}\",\"data\":{\"vibrationPattern\":\"{{notify.vibrationPattern}}\",\"channel\":\"{{notify.channel}}\",\"tag\":\"{{notify.tag}}\",\"clickAction\":\"{{notify.clickAction}}\"}}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "notify",
        "service": "mobile_app_phone_anne",
        "x": 410,
        "y": 380,
        "wires": [
            []
        ]
    },
    {
        "id": "c13b2b4d87067c17",
        "type": "link in",
        "z": "3611a09f77ab1873",
        "name": "notify_tv",
        "links": [
            "cb94648059d3cbe6",
            "752dd6dc72bedb27",
            "4b7eeb8450582627",
            "2447274b2f6d022c",
            "89e0405cd70f5206",
            "1d24b076d3c0a747"
        ],
        "x": 295,
        "y": 440,
        "wires": [
            [
                "7bb626db9932d5ed"
            ]
        ]
    },
    {
        "id": "04792e2be9d492bd",
        "type": "api-call-service",
        "z": "3611a09f77ab1873",
        "name": "notify tv",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "notify.lg_webos_smart_tv",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [],
        "labelId": [],
        "data": "{\"message\":\"{{notify.message}}\",\"title\":\"{{notify.title}}\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "notify",
        "service": "lg_webos_smart_tv",
        "x": 560,
        "y": 440,
        "wires": [
            []
        ]
    },
    {
        "id": "7bb626db9932d5ed",
        "type": "api-current-state",
        "z": "3611a09f77ab1873",
        "name": "tv is on",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is_not",
        "entity_id": "media_player.lg_webos_smart_tv",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 400,
        "y": 440,
        "wires": [
            [
                "04792e2be9d492bd"
            ],
            []
        ]
    },
    {
        "id": "0d4dd5184c1b0c50",
        "type": "api-call-service",
        "z": "3611a09f77ab1873",
        "name": "notify in app",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "persistent_notification.create",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [],
        "labelId": [],
        "data": "{\"message\":\"{{notify.message}}\",\"title\":\"{{notify.title}}\",\"notification_id\":\"{{notify.notification_id}}\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "persistent_notification",
        "service": "create",
        "x": 410,
        "y": 500,
        "wires": [
            []
        ]
    },
    {
        "id": "a97f87cfab413716",
        "type": "link in",
        "z": "3611a09f77ab1873",
        "name": "notify_in_app",
        "links": [
            "2c0a57bd6ee87009",
            "17c484a9c9a917ac",
            "a1d22443632b6c95",
            "2cc9a5595a901b10",
            "fc1469a9f0ef1aee",
            "337ef9e6426bf90b",
            "37d1e62a237418c8",
            "41b174876237d623",
            "2978274f7f9728d8",
            "bf8e5653c2636930",
            "cb2996d878c5e0c7",
            "03465ecf3ac1c82f",
            "c2b55a3f0ee96b43",
            "9d553baf555a2986",
            "01715f74afb788fa",
            "ef7470dc94a80ccd",
            "784ddf5ce5e4965e",
            "653fcb40d1a25093",
            "d0d98b18b43870d8",
            "dc649cae5470eb6f",
            "6e8aad8568d522fa",
            "c4352074f6a9380d",
            "651e1d1bfb037f1b",
            "e68a4f2c1f36acb9",
            "eac587a7da6b3661",
            "ccb7ef12d5532abb",
            "ccda14a2b42b3ef8",
            "72c4b873d76d1aea",
            "1cdb96d7083434cf",
            "85da6e2bed894b4c",
            "9d9757e80ab98a8d",
            "bb7462e22b7f56fd",
            "752dd6dc72bedb27",
            "46fe5b3140f097c9",
            "2447274b2f6d022c",
            "89e0405cd70f5206",
            "7ebb2f335fac2686",
            "cdbbe520d2b5eff8",
            "e0845450e8f79386",
            "813e0636f1726a9f",
            "8b7cc78e8ef37d00",
            "8eb43e206b6bfbfe",
            "d3903da3b2775ffd",
            "983f2e61079b877c",
            "bfa8946e0b76ad2e"
        ],
        "x": 295,
        "y": 500,
        "wires": [
            [
                "0d4dd5184c1b0c50"
            ]
        ]
    },
    {
        "id": "c4660dc11fb0e5b8",
        "type": "link in",
        "z": "3611a09f77ab1873",
        "name": "notify_in_tts_wall_tablet",
        "links": [
            "44d4424b2bc54756",
            "cb94648059d3cbe6",
            "4b7eeb8450582627",
            "2447274b2f6d022c",
            "89e0405cd70f5206",
            "d004e764e495242a",
            "6b8a622226855e1c"
        ],
        "x": 295,
        "y": 560,
        "wires": [
            [
                "e1fdac1fe178e720"
            ]
        ]
    },
    {
        "id": "566faf848ae88258",
        "type": "change",
        "z": "3611a09f77ab1873",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "trigger",
                "pt": "msg",
                "to": "",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1120,
        "y": 560,
        "wires": [
            [
                "e1fdac1fe178e720"
            ]
        ]
    },
    {
        "id": "f11dc3e3682ce836",
        "type": "api-call-service",
        "z": "3611a09f77ab1873",
        "name": "text to speech",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "tts.google_say",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [],
        "labelId": [],
        "data": "{\"entity_id\":\"media_player.galaxy_tab_a8\",\"message\":\"{{notify.message}}\",\"language\":\"nl\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "tts",
        "service": "google_say",
        "x": 880,
        "y": 540,
        "wires": [
            [
                "566faf848ae88258"
            ]
        ]
    },
    {
        "id": "d94b50aeaba952d1",
        "type": "ha-wait-until",
        "z": "3611a09f77ab1873",
        "name": "wait until galaxy tab is not playing",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "entities": {
            "entity": [
                "media_player.galaxy_tab_a8"
            ],
            "substring": [],
            "regex": []
        },
        "property": "state",
        "comparator": "is_not",
        "value": "playing",
        "valueType": "str",
        "timeout": "30",
        "timeoutType": "num",
        "timeoutUnits": "seconds",
        "checkCurrentState": true,
        "blockInputOverrides": true,
        "outputProperties": [],
        "entityLocation": "data",
        "entityLocationType": "none",
        "x": 640,
        "y": 560,
        "wires": [
            [
                "f11dc3e3682ce836"
            ],
            [
                "771e43e4d1cb6b2d"
            ]
        ]
    },
    {
        "id": "e1fdac1fe178e720",
        "type": "simple-queue",
        "z": "3611a09f77ab1873",
        "name": "",
        "firstMessageBypass": true,
        "bypassInterval": "0",
        "x": 410,
        "y": 560,
        "wires": [
            [
                "d94b50aeaba952d1"
            ]
        ]
    },
    {
        "id": "55630dad7aa4b97a",
        "type": "server-events",
        "z": "e44f5d834fa24670",
        "g": "a7eea6f134e259bd",
        "name": "GUEST_MODE_ON",
        "server": "4ba92433.2478cc",
        "version": 3,
        "exposeAsEntityConfig": "",
        "eventType": "mobile_app_notification_action",
        "eventData": "{\"action\":\"GUEST_MODE_ON\"}",
        "waitForRunning": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "$outputData(\"eventData\").event_type",
                "valueType": "jsonata"
            }
        ],
        "event_type": "",
        "x": 130,
        "y": 200,
        "wires": [
            [
                "94856ca3c5e83f43",
                "30f166f1cb52d612"
            ]
        ]
    },
    {
        "id": "5d74377194336786",
        "type": "catch",
        "z": "e44f5d834fa24670",
        "g": "5ea1109d92a3532a",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 60,
        "wires": [
            [
                "74f02e0422cfcfd4"
            ]
        ]
    },
    {
        "id": "74f02e0422cfcfd4",
        "type": "template",
        "z": "e44f5d834fa24670",
        "g": "5ea1109d92a3532a",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 60,
        "wires": [
            [
                "5871553313960848"
            ]
        ]
    },
    {
        "id": "fc1469a9f0ef1aee",
        "type": "link out",
        "z": "e44f5d834fa24670",
        "g": "5ea1109d92a3532a",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 675,
        "y": 60,
        "wires": []
    },
    {
        "id": "5871553313960848",
        "type": "template",
        "z": "e44f5d834fa24670",
        "g": "5ea1109d92a3532a",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 60,
        "wires": [
            [
                "8718042f6e666b71"
            ]
        ]
    },
    {
        "id": "8718042f6e666b71",
        "type": "function",
        "z": "e44f5d834fa24670",
        "g": "5ea1109d92a3532a",
        "name": "notify.notification_id",
        "func": "msg.notify.notification_id = Date.now().toString(36) + Math.random().toString(36);\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 550,
        "y": 60,
        "wires": [
            [
                "fc1469a9f0ef1aee"
            ]
        ]
    },
    {
        "id": "c2d33a6abfd24923",
        "type": "api-call-service",
        "z": "e44f5d834fa24670",
        "g": "a7eea6f134e259bd",
        "name": "turn on guest mode",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "input_boolean.turn_on",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_boolean.guest"
        ],
        "labelId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": false,
        "domain": "input_boolean",
        "service": "turn_on",
        "x": 570,
        "y": 200,
        "wires": [
            []
        ]
    },
    {
        "id": "94856ca3c5e83f43",
        "type": "api-current-state",
        "z": "e44f5d834fa24670",
        "g": "a7eea6f134e259bd",
        "name": "guest mode is off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.guest",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 370,
        "y": 200,
        "wires": [
            [
                "c2d33a6abfd24923"
            ],
            []
        ]
    },
    {
        "id": "87a6a1a7d3bea607",
        "type": "comment",
        "z": "e44f5d834fa24670",
        "g": "a7eea6f134e259bd",
        "name": "turn on guest mode",
        "info": "",
        "x": 130,
        "y": 160,
        "wires": []
    },
    {
        "id": "319e2f002dcdb37f",
        "type": "comment",
        "z": "e44f5d834fa24670",
        "g": "03c7e5a9a6a831c2",
        "name": "turn on vacation mode",
        "info": "",
        "x": 140,
        "y": 360,
        "wires": []
    },
    {
        "id": "79ce4db3aa0b5c53",
        "type": "server-events",
        "z": "e44f5d834fa24670",
        "g": "03c7e5a9a6a831c2",
        "name": "VACATION_MODE_ON",
        "server": "4ba92433.2478cc",
        "version": 3,
        "exposeAsEntityConfig": "",
        "eventType": "mobile_app_notification_action",
        "eventData": "{\"action\":\"VACATION_MODE_ON\"}",
        "waitForRunning": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "$outputData(\"eventData\").event_type",
                "valueType": "jsonata"
            }
        ],
        "event_type": "",
        "x": 140,
        "y": 400,
        "wires": [
            [
                "a6ac4a5af938a30a",
                "2a827de158fe0e8f"
            ]
        ]
    },
    {
        "id": "32c186a71c916633",
        "type": "server-events",
        "z": "e44f5d834fa24670",
        "g": "dbb11ccb7d0a280a",
        "name": "QUOOKER_OFF",
        "server": "4ba92433.2478cc",
        "version": 3,
        "exposeAsEntityConfig": "",
        "eventType": "mobile_app_notification_action",
        "eventData": "{\"action\":\"QUOOKER_OFF\"}",
        "waitForRunning": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "$outputData(\"eventData\").event_type",
                "valueType": "jsonata"
            }
        ],
        "event_type": "",
        "x": 120,
        "y": 660,
        "wires": [
            [
                "40e32651d21cb40a",
                "36390687f97440d5"
            ]
        ]
    },
    {
        "id": "36390687f97440d5",
        "type": "api-call-service",
        "z": "e44f5d834fa24670",
        "g": "dbb11ccb7d0a280a",
        "name": "dismiss notification",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "notify.notify",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [],
        "labelId": [],
        "data": "{\"message\":\"clear_notification\",\"data\":{\"tag\":\"quooker\"}}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": true,
        "domain": "notify",
        "service": "notify",
        "x": 330,
        "y": 600,
        "wires": [
            []
        ]
    },
    {
        "id": "eb466e32fc34ebfc",
        "type": "comment",
        "z": "e44f5d834fa24670",
        "g": "dbb11ccb7d0a280a",
        "name": "turn off the kitchen quooker",
        "info": "",
        "x": 150,
        "y": 560,
        "wires": []
    },
    {
        "id": "a6ac4a5af938a30a",
        "type": "api-call-service",
        "z": "e44f5d834fa24670",
        "g": "03c7e5a9a6a831c2",
        "name": "dismiss notification",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "notify.notify",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [],
        "labelId": [],
        "data": "{\"message\":\"clear_notification\",\"data\":{\"tag\":\"vacation_mode\"}}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": true,
        "domain": "notify",
        "service": "notify",
        "x": 390,
        "y": 440,
        "wires": [
            []
        ]
    },
    {
        "id": "a9b6866b3f96e444",
        "type": "comment",
        "z": "e44f5d834fa24670",
        "g": "6753b35be98530ad",
        "name": "turn off home security ",
        "info": "",
        "x": 140,
        "y": 760,
        "wires": []
    },
    {
        "id": "e3606fa703de9ce3",
        "type": "server-events",
        "z": "e44f5d834fa24670",
        "g": "6753b35be98530ad",
        "name": "HOME_SECURITY_OFF",
        "server": "4ba92433.2478cc",
        "version": 3,
        "exposeAsEntityConfig": "",
        "eventType": "mobile_app_notification_action",
        "eventData": "{\"action\":\"HOME_SECURITY_OFF\"}",
        "waitForRunning": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "$outputData(\"eventData\").event_type",
                "valueType": "jsonata"
            }
        ],
        "event_type": "",
        "x": 150,
        "y": 860,
        "wires": [
            [
                "56dd342f2b737c1c",
                "f5dade246d46e3d8"
            ]
        ]
    },
    {
        "id": "2a827de158fe0e8f",
        "type": "link out",
        "z": "e44f5d834fa24670",
        "g": "03c7e5a9a6a831c2",
        "name": "turn on vacation mode",
        "mode": "link",
        "links": [
            "401ad79dd5eae95e"
        ],
        "x": 315,
        "y": 400,
        "wires": []
    },
    {
        "id": "40e32651d21cb40a",
        "type": "link out",
        "z": "e44f5d834fa24670",
        "g": "dbb11ccb7d0a280a",
        "name": "turn off kitchen quooker",
        "mode": "link",
        "links": [
            "4a784feb385d8d36"
        ],
        "x": 255,
        "y": 660,
        "wires": []
    },
    {
        "id": "56dd342f2b737c1c",
        "type": "link out",
        "z": "e44f5d834fa24670",
        "g": "6753b35be98530ad",
        "name": "turn off home security",
        "mode": "link",
        "links": [
            "72ae4172893b2bb9"
        ],
        "x": 315,
        "y": 860,
        "wires": []
    },
    {
        "id": "f5dade246d46e3d8",
        "type": "api-call-service",
        "z": "e44f5d834fa24670",
        "g": "6753b35be98530ad",
        "name": "dismiss notification",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "notify.notify",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [],
        "labelId": [],
        "data": "{\"message\":\"clear_notification\",\"data\":{\"tag\":\"home_security\"}}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": true,
        "domain": "notify",
        "service": "notify",
        "x": 390,
        "y": 800,
        "wires": [
            []
        ]
    },
    {
        "id": "3938148b04e85891",
        "type": "server-events",
        "z": "e44f5d834fa24670",
        "g": "6753b35be98530ad",
        "name": "HOME_SECURITY_ON",
        "server": "4ba92433.2478cc",
        "version": 3,
        "exposeAsEntityConfig": "",
        "eventType": "mobile_app_notification_action",
        "eventData": "{\"action\":\"HOME_SECURITY_ON\"}",
        "waitForRunning": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "$outputData(\"eventData\").event_type",
                "valueType": "jsonata"
            }
        ],
        "event_type": "",
        "x": 140,
        "y": 800,
        "wires": [
            [
                "f5dade246d46e3d8"
            ]
        ]
    },
    {
        "id": "615af302faf1fe18",
        "type": "server-events",
        "z": "e44f5d834fa24670",
        "g": "dbb11ccb7d0a280a",
        "name": "QUOOKER_ON",
        "server": "4ba92433.2478cc",
        "version": 3,
        "exposeAsEntityConfig": "",
        "eventType": "mobile_app_notification_action",
        "eventData": "{\"action\":\"QUOOKER_ON\"}",
        "waitForRunning": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "$outputData(\"eventData\").event_type",
                "valueType": "jsonata"
            }
        ],
        "event_type": "",
        "x": 120,
        "y": 600,
        "wires": [
            [
                "36390687f97440d5"
            ]
        ]
    },
    {
        "id": "69571dd0ac43a0f7",
        "type": "server-events",
        "z": "e44f5d834fa24670",
        "g": "03c7e5a9a6a831c2",
        "name": "VACATION_MODE_OFF",
        "server": "4ba92433.2478cc",
        "version": 3,
        "exposeAsEntityConfig": "",
        "eventType": "mobile_app_notification_action",
        "eventData": "{\"action\":\"VACATION_MODE_OFF\"}",
        "waitForRunning": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "$outputData(\"eventData\").event_type",
                "valueType": "jsonata"
            }
        ],
        "event_type": "",
        "x": 150,
        "y": 460,
        "wires": [
            [
                "a6ac4a5af938a30a"
            ]
        ]
    },
    {
        "id": "e71200442ce4224a",
        "type": "server-events",
        "z": "e44f5d834fa24670",
        "g": "a7eea6f134e259bd",
        "name": "GUEST_MODE_OFF",
        "server": "4ba92433.2478cc",
        "version": 3,
        "exposeAsEntityConfig": "",
        "eventType": "mobile_app_notification_action",
        "eventData": "{\"action\":\"GUEST_MODE_OFF\"}",
        "waitForRunning": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "$outputData(\"eventData\").event_type",
                "valueType": "jsonata"
            }
        ],
        "event_type": "",
        "x": 140,
        "y": 260,
        "wires": [
            [
                "30f166f1cb52d612"
            ]
        ]
    },
    {
        "id": "30f166f1cb52d612",
        "type": "api-call-service",
        "z": "e44f5d834fa24670",
        "g": "a7eea6f134e259bd",
        "name": "dismiss notification",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "notify.notify",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [],
        "labelId": [],
        "data": "{\"message\":\"clear_notification\",\"data\":{\"tag\":\"guest_mode\"}}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": true,
        "domain": "notify",
        "service": "notify",
        "x": 370,
        "y": 260,
        "wires": [
            []
        ]
    },
    {
        "id": "035179dc3e7fddad",
        "type": "comment",
        "z": "e44f5d834fa24670",
        "g": "670020652f26a652",
        "name": "turn off vacuum auto cleaning",
        "info": "",
        "x": 160,
        "y": 960,
        "wires": []
    },
    {
        "id": "cbb046587922e1c0",
        "type": "server-events",
        "z": "e44f5d834fa24670",
        "g": "670020652f26a652",
        "name": "ROBOVACUUM_TIMER_CANCEL",
        "server": "4ba92433.2478cc",
        "version": 3,
        "exposeAsEntityConfig": "",
        "eventType": "mobile_app_notification_action",
        "eventData": "{\"action\":\"ROBOVACUUM_TIMER_CANCEL\"}",
        "waitForRunning": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "$outputData(\"eventData\").event_type",
                "valueType": "jsonata"
            }
        ],
        "event_type": "",
        "x": 180,
        "y": 1060,
        "wires": [
            [
                "ed04290b29b62260",
                "d35ff31b6345b553"
            ]
        ]
    },
    {
        "id": "27d9b7d9990dec51",
        "type": "server-events",
        "z": "e44f5d834fa24670",
        "g": "670020652f26a652",
        "name": "ROBOVACUUM_TIMER_PROCEED",
        "server": "4ba92433.2478cc",
        "version": 3,
        "exposeAsEntityConfig": "",
        "eventType": "mobile_app_notification_action",
        "eventData": "{\"action\":\"ROBOVACUUM_TIMER_PROCEED\"}",
        "waitForRunning": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "$outputData(\"eventData\").event_type",
                "valueType": "jsonata"
            }
        ],
        "event_type": "",
        "x": 180,
        "y": 1000,
        "wires": [
            [
                "ed04290b29b62260"
            ]
        ]
    },
    {
        "id": "ed04290b29b62260",
        "type": "api-call-service",
        "z": "e44f5d834fa24670",
        "g": "670020652f26a652",
        "name": "dismiss notification",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "notify.notify",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [],
        "labelId": [],
        "data": "{\"message\":\"clear_notification\",\"data\":{\"tag\":\"vacuum\"}}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": true,
        "domain": "notify",
        "service": "notify",
        "x": 450,
        "y": 1000,
        "wires": [
            []
        ]
    },
    {
        "id": "d35ff31b6345b553",
        "type": "link out",
        "z": "e44f5d834fa24670",
        "g": "670020652f26a652",
        "name": "turn off vacuum auto cleaning",
        "mode": "link",
        "links": [
            "7a6572a848edbab2"
        ],
        "x": 375,
        "y": 1060,
        "wires": []
    },
    {
        "id": "85fbde29204040b6",
        "type": "server-events",
        "z": "e44f5d834fa24670",
        "g": "fdf9531a8f11debc",
        "name": "DOORBELL_OFF",
        "server": "4ba92433.2478cc",
        "version": 3,
        "exposeAsEntityConfig": "",
        "eventType": "mobile_app_notification_action",
        "eventData": "{\"action\":\"DOORBELL_OFF\"}",
        "waitForRunning": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "$outputData(\"eventData\").event_type",
                "valueType": "jsonata"
            }
        ],
        "event_type": "",
        "x": 130,
        "y": 1260,
        "wires": [
            [
                "9124cbf6fd9b1480",
                "67d3120303e32f66"
            ]
        ]
    },
    {
        "id": "347f94b7271ae995",
        "type": "server-events",
        "z": "e44f5d834fa24670",
        "g": "fdf9531a8f11debc",
        "name": "DOORBELL_ON",
        "server": "4ba92433.2478cc",
        "version": 3,
        "exposeAsEntityConfig": "",
        "eventType": "mobile_app_notification_action",
        "eventData": "{\"action\":\"DOORBELL_ON\"}",
        "waitForRunning": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "$outputData(\"eventData\").event_type",
                "valueType": "jsonata"
            }
        ],
        "event_type": "",
        "x": 120,
        "y": 1320,
        "wires": [
            [
                "fb2447123ae5adb8",
                "9124cbf6fd9b1480"
            ]
        ]
    },
    {
        "id": "9124cbf6fd9b1480",
        "type": "api-call-service",
        "z": "e44f5d834fa24670",
        "g": "fdf9531a8f11debc",
        "name": "dismiss notification",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "notify.notify",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [],
        "labelId": [],
        "data": "{\"message\":\"clear_notification\",\"data\":{\"tag\":\"doorbell\"}}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": true,
        "domain": "notify",
        "service": "notify",
        "x": 390,
        "y": 1260,
        "wires": [
            []
        ]
    },
    {
        "id": "67d3120303e32f66",
        "type": "link out",
        "z": "e44f5d834fa24670",
        "g": "fdf9531a8f11debc",
        "name": "turn off doorbell",
        "mode": "link",
        "links": [
            "a4f6b88e4f08955d"
        ],
        "x": 315,
        "y": 1320,
        "wires": []
    },
    {
        "id": "fb2447123ae5adb8",
        "type": "link out",
        "z": "e44f5d834fa24670",
        "g": "fdf9531a8f11debc",
        "name": "turn on doorbell",
        "mode": "link",
        "links": [
            "6ab4fe8e04f4839f"
        ],
        "x": 315,
        "y": 1360,
        "wires": []
    },
    {
        "id": "733336f9e7f40f7a",
        "type": "comment",
        "z": "e44f5d834fa24670",
        "g": "fdf9531a8f11debc",
        "name": "turn on/off doorbell chime",
        "info": "",
        "x": 150,
        "y": 1160,
        "wires": []
    },
    {
        "id": "f1b8d703d45827da",
        "type": "link in",
        "z": "e44f5d834fa24670",
        "g": "fdf9531a8f11debc",
        "name": "dismiss doorbell action notification",
        "links": [
            "6bd61d183ffe896b"
        ],
        "x": 205,
        "y": 1220,
        "wires": [
            [
                "9124cbf6fd9b1480"
            ]
        ]
    },
    {
        "id": "250567e238f9f68a",
        "type": "catch",
        "z": "b8d98c82eb2488b9",
        "g": "fec451a65144d567",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 100,
        "y": 60,
        "wires": [
            [
                "f0cb21a929703c7b"
            ]
        ]
    },
    {
        "id": "f0cb21a929703c7b",
        "type": "template",
        "z": "b8d98c82eb2488b9",
        "g": "fec451a65144d567",
        "name": "messsage",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "message: {{{error.message}}} \\nSource: id: {{error.source.id}} \\ntype: {{error.source.type}} \\nname: {{error.source.name}} \\ncount: {{error.source.count}}",
        "output": "str",
        "x": 250,
        "y": 60,
        "wires": [
            [
                "0afe8e42745c606c"
            ]
        ]
    },
    {
        "id": "bfa8946e0b76ad2e",
        "type": "link out",
        "z": "b8d98c82eb2488b9",
        "g": "fec451a65144d567",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "a97f87cfab413716"
        ],
        "x": 675,
        "y": 60,
        "wires": []
    },
    {
        "id": "0afe8e42745c606c",
        "type": "template",
        "z": "b8d98c82eb2488b9",
        "g": "fec451a65144d567",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Node-RED",
        "output": "str",
        "x": 390,
        "y": 60,
        "wires": [
            [
                "cc960ccdfa62ebb3"
            ]
        ]
    },
    {
        "id": "cc960ccdfa62ebb3",
        "type": "function",
        "z": "b8d98c82eb2488b9",
        "g": "fec451a65144d567",
        "name": "notify.notification_id",
        "func": "msg.notify.notification_id = Date.now().toString(36) + Math.random().toString(36);\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 550,
        "y": 60,
        "wires": [
            [
                "bfa8946e0b76ad2e"
            ]
        ]
    },
    {
        "id": "d98576578e310822",
        "type": "cronplus",
        "z": "b8d98c82eb2488b9",
        "g": "10f89499d7cb5a54",
        "name": "first of the month",
        "outputField": "payload",
        "timeZone": "",
        "storeName": "",
        "commandResponseMsgOutput": "output1",
        "defaultLocation": "",
        "defaultLocationType": "default",
        "outputs": 1,
        "options": [
            {
                "name": "schedule",
                "topic": "topic1",
                "payloadType": "default",
                "payload": "",
                "expressionType": "cron",
                "expression": "0 0 6 1 * ? *",
                "location": "",
                "offset": "0",
                "solarType": "all",
                "solarEvents": "sunrise,sunset"
            }
        ],
        "x": 150,
        "y": 480,
        "wires": [
            [
                "451e3b4e7d84efb4"
            ]
        ]
    },
    {
        "id": "451e3b4e7d84efb4",
        "type": "function",
        "z": "b8d98c82eb2488b9",
        "g": "10f89499d7cb5a54",
        "name": "start end previous month",
        "func": "// Get today's date\nconst today = msg.payload.status.serverTime;\n\n// Go to the first day of the current month\nconst firstDayCurrentMonth = new Date(today.getFullYear(), today.getMonth(), 1);\n\n// Previous month = current month - 1\nconst prevMonth = firstDayCurrentMonth.getMonth() - 1;\nconst yearOfPrevMonth = prevMonth < 0 ? today.getFullYear() - 1 : today.getFullYear();\nconst monthOfPrevMonth = (prevMonth + 12) % 12;\n\n// First day of previous month\nconst firstDayPrevMonth = new Date(yearOfPrevMonth, monthOfPrevMonth, 1);\n\n// Last day of previous month\nconst lastDayPrevMonth = new Date(yearOfPrevMonth, monthOfPrevMonth + 1, 0); // day 0 = last day of previous month\n\n// Format as string\nconst formatDate = (d) => d.toISOString().split('T')[0] + \" 00:00:00\"; // start of day\nconst formatEndDate = (d) => d.toISOString().split('T')[0] + \" 23:59:59\"; // end of day\n\nmsg.result = {\n    start_date_time: formatDate(firstDayPrevMonth),\n    end_date_time: formatEndDate(lastDayPrevMonth)\n};\n\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 370,
        "y": 480,
        "wires": [
            [
                "6d0d646b8d2a606f"
            ]
        ]
    },
    {
        "id": "58366ad094f8377c",
        "type": "api-call-service",
        "z": "b8d98c82eb2488b9",
        "g": "10f89499d7cb5a54",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "calendar.get_events",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "calendar.beau",
            "calendar.lise"
        ],
        "labelId": [],
        "data": "{\"start_date_time\":\"{{result.start_date_time}}\",\"end_date_time\":\"{{result.end_date_time}}\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "results"
            }
        ],
        "queue": "none",
        "blockInputOverrides": true,
        "domain": "calendar",
        "service": "get_events",
        "x": 740,
        "y": 480,
        "wires": [
            [
                "cfd81cdf04df1639"
            ]
        ]
    },
    {
        "id": "cfd81cdf04df1639",
        "type": "function",
        "z": "b8d98c82eb2488b9",
        "g": "10f89499d7cb5a54",
        "name": "count all events \"anneke past op\"",
        "func": "// Collect all events from all calendars\nconst allEvents = Object.values(msg.payload) // get each calendar object\n    .flatMap(c => c.events || []); // merge their events into one big array\n\n// Count how many match \"anneke past op\"\nmsg.countAnneke = allEvents.filter(e => \n    e.summary?.toLowerCase().includes(\"anneke past op\")\n).length;\n\nreturn msg;\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1000,
        "y": 480,
        "wires": [
            [
                "5366013bda15f665"
            ]
        ]
    },
    {
        "id": "59ba59d92cfe39d9",
        "type": "comment",
        "z": "b8d98c82eb2488b9",
        "g": "10f89499d7cb5a54",
        "name": "count calendar events that contains the words \"anneke past op\" from the previous month ",
        "info": "",
        "x": 340,
        "y": 440,
        "wires": []
    },
    {
        "id": "6d0d646b8d2a606f",
        "type": "function",
        "z": "b8d98c82eb2488b9",
        "g": "10f89499d7cb5a54",
        "name": "due date",
        "func": "// Parse serverTime and add 7 days\nconst dateObj = new Date(msg.payload.status.serverTime);\ndateObj.setDate(dateObj.getDate() + 7);\n\n// Return formatted date\nmsg.date = dateObj.toISOString().split(\"T\")[0];\n\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 560,
        "y": 480,
        "wires": [
            [
                "58366ad094f8377c"
            ]
        ]
    },
    {
        "id": "5366013bda15f665",
        "type": "function",
        "z": "b8d98c82eb2488b9",
        "g": "10f89499d7cb5a54",
        "name": "todo text",
        "func": "// Format month name in Dutch\nmsg.month = new Intl.DateTimeFormat('nl-NL', { month: 'long' }).format(new Date(msg.result.end_date_time.replace(' ', 'T')));\n\nmsg.amountOfMoney = msg.countAnneke * 10;\n\nmsg.payload = \"\" + msg.amountOfMoney + \" overmaken naar Anneke\";\n\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 140,
        "y": 560,
        "wires": [
            [
                "71e8d879fbf2622e"
            ]
        ]
    },
    {
        "id": "f581e18c19643b6b",
        "type": "api-call-service",
        "z": "b8d98c82eb2488b9",
        "g": "10f89499d7cb5a54",
        "name": "add todo item to coen & anne",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "todo.add_item",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "todo.coen_anne"
        ],
        "labelId": [],
        "data": "{\"item\":\"{{payload}}\",\"due_date\":\"{{date}}\",\"description\":\"{{{description}}}\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": true,
        "domain": "todo",
        "service": "add_item",
        "x": 640,
        "y": 560,
        "wires": [
            []
        ]
    },
    {
        "id": "607c96cbd3c5cdcd",
        "type": "function",
        "z": "b8d98c82eb2488b9",
        "g": "10f89499d7cb5a54",
        "name": "todo description",
        "func": "msg.description = \"Anneke heeft in de maand \" + msg.month + \" \" + msg.countAnneke + \" keer opgepast. betaal via \" + msg.payurl;\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 420,
        "y": 560,
        "wires": [
            [
                "f581e18c19643b6b"
            ]
        ]
    },
    {
        "id": "71e8d879fbf2622e",
        "type": "template",
        "z": "b8d98c82eb2488b9",
        "g": "10f89499d7cb5a54",
        "name": "pay url",
        "field": "payurl",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "https://epc-qr.eu/?bname=A%20Stam&iban=NL60SNSB0957731876&euro={{amountOfMoney}}&info={{countAnneke}}%20keer%20oppassen%20in%20{{month}}",
        "output": "str",
        "x": 270,
        "y": 560,
        "wires": [
            [
                "607c96cbd3c5cdcd"
            ]
        ]
    },
    {
        "id": "d0335fb391f93b57",
        "type": "api-call-service",
        "z": "b8d98c82eb2488b9",
        "g": "9ddd3d4eff0af285",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "calendar.get_events",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "calendar.schoonmaak",
            "calendar.coen",
            "calendar.coen_anne"
        ],
        "labelId": [],
        "data": "{\"start_date_time\":\"{{start_date_time}}\",\"end_date_time\":\"{{end_date_time}}\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [
            {
                "property": "results",
                "propertyType": "msg",
                "value": "",
                "valueType": "results"
            }
        ],
        "queue": "none",
        "blockInputOverrides": true,
        "domain": "calendar",
        "service": "get_events",
        "x": 680,
        "y": 200,
        "wires": [
            [
                "f9288d158d410ce6"
            ]
        ]
    },
    {
        "id": "f9288d158d410ce6",
        "type": "split",
        "z": "b8d98c82eb2488b9",
        "g": "9ddd3d4eff0af285",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "calendar",
        "property": "results",
        "x": 850,
        "y": 200,
        "wires": [
            [
                "eff9057bf55d084e"
            ]
        ]
    },
    {
        "id": "eff9057bf55d084e",
        "type": "split",
        "z": "b8d98c82eb2488b9",
        "g": "9ddd3d4eff0af285",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "property": "results.events",
        "x": 970,
        "y": 200,
        "wires": [
            [
                "d1886b75fbf19d62"
            ]
        ]
    },
    {
        "id": "7257cb974991c964",
        "type": "function",
        "z": "b8d98c82eb2488b9",
        "g": "9ddd3d4eff0af285",
        "name": "todo item vars",
        "func": "msg.todo = {};\n\nmsg.todo.item = msg.results.events.summary.replace(/^todo:\\s*/i, \"\");  // removes \"todo: \" from the start\n\nlet input = msg.results.events.end;\n\nif (input.includes(\"T\")) {\n    let d = new Date(input);\n    msg.todo.due_date_time = d.toISOString().split(\".\")[0].replace(\"T\", \" \");\n} else {\n    msg.todo.due_date = input;\n}\n\nmsg.todo.description = msg.results.events.description;\n\nmsg.entity_id = msg.calendar.replace(\"calendar\", \"todo\");\n\n\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 280,
        "y": 280,
        "wires": [
            [
                "aa5181cef0dc93df"
            ]
        ]
    },
    {
        "id": "108334557e4c6cba",
        "type": "api-call-service",
        "z": "b8d98c82eb2488b9",
        "g": "9ddd3d4eff0af285",
        "name": "add todo item (due_date)",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "todo.add_item",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "{{entity_id}}"
        ],
        "labelId": [],
        "data": "{\"item\":\"{{todo.item}}\",\"due_date\":\"{{todo.due_date}}\",\"description\":\"{{todo.description}}\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": true,
        "domain": "todo",
        "service": "add_item",
        "x": 1770,
        "y": 280,
        "wires": [
            []
        ]
    },
    {
        "id": "d1886b75fbf19d62",
        "type": "switch",
        "z": "b8d98c82eb2488b9",
        "g": "9ddd3d4eff0af285",
        "name": "",
        "property": "results.events.summary",
        "propertyType": "msg",
        "rules": [
            {
                "t": "regex",
                "v": "\\btodo:",
                "vt": "str",
                "case": true
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 130,
        "y": 280,
        "wires": [
            [
                "7257cb974991c964"
            ]
        ]
    },
    {
        "id": "f553ee97740862ea",
        "type": "api-call-service",
        "z": "b8d98c82eb2488b9",
        "g": "9ddd3d4eff0af285",
        "name": "add todo item (due_date_time)",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "todo.add_item",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "{{entity_id}}"
        ],
        "labelId": [],
        "data": "{\"item\":\"{{todo.item}}\",\"due_datetime\":\"{{todo.due_date_time}}\",\"description\":\"{{todo.description}}\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": true,
        "domain": "todo",
        "service": "add_item",
        "x": 1790,
        "y": 340,
        "wires": [
            []
        ]
    },
    {
        "id": "ccf87318aa8d159a",
        "type": "switch",
        "z": "b8d98c82eb2488b9",
        "g": "9ddd3d4eff0af285",
        "name": "",
        "property": "todo",
        "propertyType": "msg",
        "rules": [
            {
                "t": "hask",
                "v": "due_date",
                "vt": "str"
            },
            {
                "t": "hask",
                "v": "due_date_time",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1570,
        "y": 280,
        "wires": [
            [
                "108334557e4c6cba"
            ],
            [
                "f553ee97740862ea"
            ]
        ]
    },
    {
        "id": "2fb5b2c7c4f3f719",
        "type": "comment",
        "z": "b8d98c82eb2488b9",
        "g": "9ddd3d4eff0af285",
        "name": "create to do tasks triggered from calendars that contain \"todo:\"",
        "info": "",
        "x": 260,
        "y": 160,
        "wires": []
    },
    {
        "id": "d240e7311ce60041",
        "type": "inject",
        "z": "b8d98c82eb2488b9",
        "g": "9ddd3d4eff0af285",
        "name": "",
        "props": [
            {
                "p": "start",
                "v": "start",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "05 00 * * *",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 130,
        "y": 200,
        "wires": [
            [
                "c613a9193af7a20f"
            ]
        ]
    },
    {
        "id": "f095901791d95a7f",
        "type": "function",
        "z": "b8d98c82eb2488b9",
        "g": "9ddd3d4eff0af285",
        "name": "start + end datetime",
        "func": "msg.start_date_time = msg.myymd + \" 02:00:00\";\nmsg.end_date_time = msg.myymd + \" 23:59:59\";\n\nreturn msg;\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 460,
        "y": 200,
        "wires": [
            [
                "d0335fb391f93b57"
            ]
        ]
    },
    {
        "id": "c613a9193af7a20f",
        "type": "simpletime",
        "z": "b8d98c82eb2488b9",
        "g": "9ddd3d4eff0af285",
        "name": "",
        "mydate": true,
        "myymd": true,
        "myyear": true,
        "mymonth": true,
        "mymonthn": true,
        "mymonthf": true,
        "mydom": true,
        "mydoy": true,
        "myday": true,
        "mydayf": true,
        "myhourpm": true,
        "myhour": true,
        "mytime": true,
        "mytimes": true,
        "myminute": true,
        "myminutes": true,
        "mysecond": true,
        "mymillis": true,
        "myepoch": true,
        "myrawdate": true,
        "mypm": true,
        "x": 270,
        "y": 200,
        "wires": [
            [
                "f095901791d95a7f"
            ]
        ]
    },
    {
        "id": "cb8f1bab4636ad5e",
        "type": "server-state-changed",
        "z": "b8d98c82eb2488b9",
        "g": "4e1beacde852f70d",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "sensor.afval_morgen"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": true,
        "stateType": "str",
        "ifState": "Geen",
        "ifStateType": "str",
        "ifStateOperator": "is_not",
        "outputOnlyOnStateChange": true,
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 180,
        "y": 700,
        "wires": [
            [
                "18cafe95cc481dfa"
            ],
            []
        ]
    },
    {
        "id": "50299601428d86dd",
        "type": "api-call-service",
        "z": "b8d98c82eb2488b9",
        "g": "4e1beacde852f70d",
        "name": "add housekeeping todo item",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "todo.add_item",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "todo.schoonmaak"
        ],
        "labelId": [],
        "data": "{\"item\":\"{{todo.item}}\",\"due_datetime\":\"{{todo.due_datetime}}\",\"description\":\"{{{todo.description}}}\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "blockInputOverrides": true,
        "domain": "todo",
        "service": "add_item",
        "x": 2000,
        "y": 760,
        "wires": [
            []
        ]
    },
    {
        "id": "6f4bac3366b09c0a",
        "type": "function",
        "z": "b8d98c82eb2488b9",
        "g": "4e1beacde852f70d",
        "name": "todo object",
        "func": "msg.todo = {}\n\nif (msg.payload === \"GFT\" || msg.payload === \"PMD\") {\n    msg.todo.item = \"De \" + msg.payload + \"-container aan de weg zetten\"\n}\nelse {\n    msg.todo.item = \"De \" + msg.payload.toLowerCase() + \"container aan de weg zetten\"\n}\n\n\nmsg.todo.due_datetime = msg.data.new_state.attributes.date + \" 07:30:00\"\n\nlet dateObj = new Date(msg.data.new_state.attributes.date);\n\n// Array of Dutch weekday names, starting with Sunday\nlet daysDutch = [\"zondag\", \"maandag\", \"dinsdag\", \"woensdag\", \"donderdag\", \"vrijdag\", \"zaterdag\"];\n\n// Get the day of week (0 = zondag)\nlet dayName = daysDutch[dateObj.getDay()];\n\nmsg.todo.description = \"Wordt a.s. \" + dayName + \" geleegd (\" + msg.data.new_state.attributes.date + \")\";\n\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1790,
        "y": 760,
        "wires": [
            [
                "50299601428d86dd"
            ]
        ]
    },
    {
        "id": "c52032a311ae161f",
        "type": "comment",
        "z": "b8d98c82eb2488b9",
        "g": "4e1beacde852f70d",
        "name": "create todo item when garbage collection is tomorrow and it doesn't exist",
        "info": "",
        "x": 300,
        "y": 660,
        "wires": []
    },
    {
        "id": "18cafe95cc481dfa",
        "type": "api-call-service",
        "z": "b8d98c82eb2488b9",
        "g": "4e1beacde852f70d",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "todo.get_items",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "todo.schoonmaak"
        ],
        "labelId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [
            {
                "property": "todo_results",
                "propertyType": "msg",
                "value": "",
                "valueType": "results"
            }
        ],
        "queue": "none",
        "blockInputOverrides": true,
        "domain": "todo",
        "service": "get_items",
        "x": 420,
        "y": 700,
        "wires": [
            [
                "74ce0b012c485742"
            ]
        ]
    },
    {
        "id": "74ce0b012c485742",
        "type": "switch",
        "z": "b8d98c82eb2488b9",
        "g": "4e1beacde852f70d",
        "name": "",
        "property": "todo_results[\"todo.schoonmaak\"].items",
        "propertyType": "msg",
        "rules": [
            {
                "t": "empty"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 570,
        "y": 700,
        "wires": [
            [
                "1c24238d54f558c4"
            ],
            [
                "06f22bccb39ea01a"
            ]
        ]
    },
    {
        "id": "09eb9ceb514414f3",
        "type": "function",
        "z": "b8d98c82eb2488b9",
        "g": "4e1beacde852f70d",
        "name": "filter",
        "func": "if (msg.match1 && msg.match2) {\n    return null;\n}\n\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1630,
        "y": 760,
        "wires": [
            [
                "6f4bac3366b09c0a"
            ]
        ]
    },
    {
        "id": "06f22bccb39ea01a",
        "type": "split",
        "z": "b8d98c82eb2488b9",
        "g": "4e1beacde852f70d",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "property": "todo_results[\"todo.schoonmaak\"].items",
        "x": 710,
        "y": 740,
        "wires": [
            [
                "bc68a28bf78ff171"
            ]
        ]
    },
    {
        "id": "bc68a28bf78ff171",
        "type": "switch",
        "z": "b8d98c82eb2488b9",
        "g": "4e1beacde852f70d",
        "name": "",
        "property": "todo_results[\"todo.schoonmaak\"].items.summary",
        "propertyType": "msg",
        "rules": [
            {
                "t": "cont",
                "v": "payload",
                "vt": "msg"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 830,
        "y": 740,
        "wires": [
            [
                "fd007fddb706be5d"
            ],
            [
                "1c71ec8e21bc2634"
            ]
        ]
    },
    {
        "id": "fd007fddb706be5d",
        "type": "change",
        "z": "b8d98c82eb2488b9",
        "g": "4e1beacde852f70d",
        "name": "match garbage type",
        "rules": [
            {
                "t": "set",
                "p": "match1",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1000,
        "y": 720,
        "wires": [
            [
                "319b204aaa793554"
            ]
        ]
    },
    {
        "id": "319b204aaa793554",
        "type": "switch",
        "z": "b8d98c82eb2488b9",
        "g": "4e1beacde852f70d",
        "name": "",
        "property": "todo_results[\"todo.schoonmaak\"].items.description",
        "propertyType": "msg",
        "rules": [
            {
                "t": "cont",
                "v": "data.new_state.attributes.date",
                "vt": "msg"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1170,
        "y": 720,
        "wires": [
            [
                "df61f4ea1beafc2d"
            ],
            [
                "91917476cba30405"
            ]
        ]
    },
    {
        "id": "df61f4ea1beafc2d",
        "type": "change",
        "z": "b8d98c82eb2488b9",
        "g": "4e1beacde852f70d",
        "name": "match description",
        "rules": [
            {
                "t": "set",
                "p": "match2",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1330,
        "y": 700,
        "wires": [
            [
                "f1744436bf4645f2"
            ]
        ]
    },
    {
        "id": "f1744436bf4645f2",
        "type": "join",
        "z": "b8d98c82eb2488b9",
        "g": "4e1beacde852f70d",
        "name": "",
        "mode": "auto",
        "build": "object",
        "property": "payload",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "useparts": false,
        "accumulate": "false",
        "timeout": "",
        "count": "",
        "reduceRight": false,
        "x": 1510,
        "y": 760,
        "wires": [
            [
                "09eb9ceb514414f3"
            ]
        ]
    },
    {
        "id": "aa5181cef0dc93df",
        "type": "api-call-service",
        "z": "b8d98c82eb2488b9",
        "g": "9ddd3d4eff0af285",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 7,
        "debugenabled": false,
        "action": "todo.get_items",
        "floorId": [],
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "{{entity_id}}"
        ],
        "labelId": [],
        "data": "{\"status\":\"needs_action\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [
            {
                "property": "todo_results",
                "propertyType": "msg",
                "value": "",
                "valueType": "results"
            }
        ],
        "queue": "none",
        "blockInputOverrides": true,
        "domain": "todo",
        "service": "get_items",
        "x": 460,
        "y": 280,
        "wires": [
            [
                "613d496f0cea97f3"
            ]
        ]
    },
    {
        "id": "613d496f0cea97f3",
        "type": "split",
        "z": "b8d98c82eb2488b9",
        "g": "9ddd3d4eff0af285",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "property": "todo_results",
        "x": 610,
        "y": 280,
        "wires": [
            [
                "4d4306b9e1e334ed"
            ]
        ]
    },
    {
        "id": "7282f75f9fae1df4",
        "type": "switch",
        "z": "b8d98c82eb2488b9",
        "g": "9ddd3d4eff0af285",
        "name": "",
        "property": "todo_results.items.summary",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "todo.item",
                "vt": "msg"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 990,
        "y": 300,
        "wires": [
            [
                "ef8deafe322fd24c"
            ],
            [
                "8b4a7821e438da7c"
            ]
        ]
    },
    {
        "id": "fc7305667fec61a3",
        "type": "split",
        "z": "b8d98c82eb2488b9",
        "g": "9ddd3d4eff0af285",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "property": "todo_results.items",
        "x": 870,
        "y": 300,
        "wires": [
            [
                "7282f75f9fae1df4"
            ]
        ]
    },
    {
        "id": "8b4a7821e438da7c",
        "type": "change",
        "z": "b8d98c82eb2488b9",
        "g": "9ddd3d4eff0af285",
        "name": "duplicate false",
        "rules": [
            {
                "t": "set",
                "p": "duplicate",
                "pt": "msg",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1160,
        "y": 340,
        "wires": [
            [
                "13bdcb248e7de4c9"
            ]
        ]
    },
    {
        "id": "ef8deafe322fd24c",
        "type": "change",
        "z": "b8d98c82eb2488b9",
        "g": "9ddd3d4eff0af285",
        "name": "duplicate true",
        "rules": [
            {
                "t": "set",
                "p": "duplicate",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1160,
        "y": 300,
        "wires": [
            [
                "13bdcb248e7de4c9"
            ]
        ]
    },
    {
        "id": "13bdcb248e7de4c9",
        "type": "join",
        "z": "b8d98c82eb2488b9",
        "g": "9ddd3d4eff0af285",
        "name": "",
        "mode": "auto",
        "build": "object",
        "property": "payload",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "useparts": false,
        "accumulate": "false",
        "timeout": "",
        "count": "",
        "reduceRight": false,
        "x": 1330,
        "y": 300,
        "wires": [
            [
                "80936adec9fe8f21"
            ]
        ]
    },
    {
        "id": "80936adec9fe8f21",
        "type": "switch",
        "z": "b8d98c82eb2488b9",
        "g": "9ddd3d4eff0af285",
        "name": "",
        "property": "duplicate",
        "propertyType": "msg",
        "rules": [
            {
                "t": "false"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1450,
        "y": 300,
        "wires": [
            [
                "ccf87318aa8d159a"
            ]
        ]
    },
    {
        "id": "4d4306b9e1e334ed",
        "type": "switch",
        "z": "b8d98c82eb2488b9",
        "g": "9ddd3d4eff0af285",
        "name": "",
        "property": "todo_results.items",
        "propertyType": "msg",
        "rules": [
            {
                "t": "empty"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 730,
        "y": 280,
        "wires": [
            [
                "7d4923fb0fc249fa"
            ],
            [
                "fc7305667fec61a3"
            ]
        ]
    }
]